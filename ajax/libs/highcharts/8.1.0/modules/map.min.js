!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}e(t=t?t._modules:{},"parts-map/MapAxis.js",[t["parts/Axis.js"],t["parts/Utilities.js"]],function(t,e){var i=e.addEvent,n=e.pick,o=function(t){this.axis=t};function s(){}return s.compose=function(t){t.keepProps.push("mapAxis"),i(t,"init",function(){this.mapAxis||(this.mapAxis=new o(this))}),i(t,"getSeriesExtremes",function(){var i;this.mapAxis&&(i=[],this.isXAxis&&(this.series.forEach(function(t,e){t.useMapGeometry&&(i[e]=t.xData,t.xData=[])}),this.mapAxis.seriesXData=i))}),i(t,"afterGetSeriesExtremes",function(){var i,o,s,a;this.mapAxis&&(i=this.mapAxis.seriesXData||[],this.isXAxis&&(s=n(this.dataMin,Number.MAX_VALUE),a=n(this.dataMax,-Number.MAX_VALUE),this.series.forEach(function(t,e){t.useMapGeometry&&(s=Math.min(s,n(t.minX,s)),a=Math.max(a,n(t.maxX,a)),t.xData=i[e],o=!0)}),o&&(this.dataMin=s,this.dataMax=a),this.mapAxis.seriesXData=void 0))}),i(t,"afterSetAxisTranslation",function(){var t,e,i;this.mapAxis&&(t=(i=this.chart).plotWidth/i.plotHeight,i=i.xAxis[0],"yAxis"===this.coll&&void 0!==i.transA&&this.series.forEach(function(t){t.preserveAspectRatio&&(e=!0)}),e&&(this.transA=i.transA=Math.min(this.transA,i.transA),i=((t=(t/=(i.max-i.min)/(this.max-this.min))<1?this:i).max-t.min)*t.transA,t.mapAxis.pixelPadding=t.len-i,t.minPixelPadding=t.mapAxis.pixelPadding/2,i=t.mapAxis.fixTo)&&(i=i[1]-t.toValue(i[0],!0),i*=t.transA,(Math.abs(i)>t.minPixelPadding||t.min===t.dataMin&&t.max===t.dataMax)&&(i=0),t.minPixelPadding-=i))}),i(t,"render",function(){this.mapAxis&&(this.mapAxis.fixTo=void 0)})},(e=s).compose(t),e}),e(t,"parts-map/ColorSeriesMixin.js",[t["parts/Globals.js"]],function(t){t.colorPointMixin={setVisible:function(t){var e=this,i=t?"show":"hide";e.visible=e.options.visible=!!t,["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][i]()})}},t.colorSeriesMixin={optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var i=this,o=this.options.nullColor,s=this.colorAxis,a=this.colorKey;(this.data.length?this.data:this.points).forEach(function(t){var e=t.getNestedProperty(a);(e=t.options.color||(t.isNull||null===t.value?o:s&&void 0!==e?s.toColor(e,t):t.color||i.color))&&(t.color=e)})}}}),e(t,"parts-map/ColorAxis.js",[t["parts/Axis.js"],t["parts/Color.js"],t["parts/Globals.js"],t["parts/Legend.js"],t["mixins/legend-symbol.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(t,e,i,o,d,s,a){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=e.parse;e=a.addEvent;var h=a.erase,u=a.extend,p=a.Fx,c=a.isNumber,m=a.merge,g=a.pick,f=a.splat;a=i.Chart;var b=i.Series,y=i.colorPointMixin,x=i.noop;u(b.prototype,i.colorSeriesMixin),u(s.prototype,y),a.prototype.collectionsWithUpdate.push("colorAxis"),a.prototype.collectionsWithInit.colorAxis=[a.prototype.addColorAxis];var v,M=(r(A,v=t),A.buildOptions=function(t,e,i){t=t.options.legend||{};var o=i.layout?"vertical"!==i.layout:"vertical"!==t.layout;return m(e,{side:o?2:1,reversed:!o},i,{opposite:!o,showEmpty:!1,title:null,visible:t.enabled&&(!i||!1!==i.visible)})},A.prototype.init=function(t,e){var i=A.buildOptions(t,A.defaultOptions,e);this.coll="colorAxis",v.prototype.init.call(this,t,i),e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=!i.opposite,this.zoomEnabled=!1},A.prototype.initDataClasses=function(t){var i,o=this.chart,s=0,a=o.options.chart.colorCount,n=this.options,r=t.dataClasses.length;this.dataClasses=i=[],this.legendItems=[],t.dataClasses.forEach(function(t,e){t=m(t),i.push(t),!o.styledMode&&t.color||("category"===n.dataClassColor?(o.styledMode||(e=o.options.colors,a=e.length,t.color=e[s]),t.colorIndex=s,++s===a&&(s=0)):t.color=l(n.minColor).tweenTo(l(n.maxColor),r<2?.5:e/(r-1)))})},A.prototype.hasData=function(){return!!(this.tickPositions||[]).length},A.prototype.setTickPositions=function(){if(!this.dataClasses)return v.prototype.setTickPositions.call(this)},A.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=l(t[1])})},A.prototype.setOptions=function(t){v.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},A.prototype.setAxisSize=function(){var t,e,i=this.legendSymbol,o=this.chart,s=o.options.legend||{};i?(this.left=s=i.attr("x"),this.top=t=i.attr("y"),this.width=e=i.attr("width"),this.height=i=i.attr("height"),this.right=o.chartWidth-s-e,this.bottom=o.chartHeight-t-i,this.len=this.horiz?e:i,this.pos=this.horiz?s:t):this.len=(this.horiz?s.symbolWidth:s.symbolHeight)||A.defaultLegendLength},A.prototype.normalizedValue=function(t){return this.logarithmic&&(t=this.logarithmic.log2lin(t)),1-(this.max-t)/(this.max-this.min||1)},A.prototype.toColor=function(t,e){var i,o=this.dataClasses,s=this.stops;if(o)for(i=o.length;i--;){var a=o[i],n=a.from,s=a.to;if((void 0===n||n<=t)&&(void 0===s||t<=s)){var r=a.color;e&&(e.dataClass=i,e.colorIndex=a.colorIndex);break}}else{for(t=this.normalizedValue(t),i=s.length;i--&&!(t>s[i][0]););n=s[i]||s[i+1],t=1-((s=s[i+1]||n)[0]-t)/(s[0]-n[0]||1),r=n.color.tweenTo(s.color,t)}return r},A.prototype.getOffset=function(){var t=this.legendGroup,e=this.chart.axisOffset[this.side];t&&(this.axisParent=t,v.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},A.prototype.setLegendColor=function(){var t=(e=this.reversed)?1:0,e=e?0:1,t=this.horiz?[t,0,e,0]:[0,e,0,t];this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},A.prototype.drawLegendSymbol=function(t,e){var i=t.padding,o=t.options,s=this.horiz,a=g(o.symbolWidth,s?A.defaultLegendLength:12),n=g(o.symbolHeight,s?12:A.defaultLegendLength),r=g(o.labelPadding,s?16:30),o=g(o.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,a,n).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=a+i+(s?o:r),this.legendItemHeight=n+i+(s?r:0)},A.prototype.setState=function(e){this.series.forEach(function(t){t.setState(e)})},A.prototype.setVisible=function(){},A.prototype.getSeriesExtremes=function(){var t,e=this.series,i=e.length;for(this.dataMin=1/0,this.dataMax=-1/0;i--;){var o=e[i],s=o.colorKey=g(o.options.colorKey,o.colorKey,o.pointValKey,o.zoneAxis,"y"),a=o.pointArrayMap,n=o[s+"Min"]&&o[s+"Max"];if(o[s+"Data"])var r=o[s+"Data"];else if(a){r=[],a=a.indexOf(s);var l=o.yData;if(0<=a&&l)for(t=0;t<l.length;t++)r.push(g(l[t][a],l[t]))}else r=o.yData;n?(o.minColorValue=o[s+"Min"],o.maxColorValue=o[s+"Max"]):(r=b.prototype.getExtremes.call(o,r),o.minColorValue=r.dataMin,o.maxColorValue=r.dataMax),void 0!==o.minColorValue&&(this.dataMin=Math.min(this.dataMin,o.minColorValue),this.dataMax=Math.max(this.dataMax,o.maxColorValue)),n||b.prototype.applyExtremes.call(o)}},A.prototype.drawCrosshair=function(t,e){var i,o=e&&e.plotX,s=e&&e.plotY,a=this.pos,n=this.len;e&&((i=this.toPixels(e.getNestedProperty(e.series.colorKey)))<a?i=a-2:a+n<i&&(i=a+n+2),e.plotX=i,e.plotY=this.len-i,v.prototype.drawCrosshair.call(this,t,e),e.plotX=o,e.plotY=s,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,!this.chart.styledMode&&this.crosshair&&this.cross.attr({fill:this.crosshair.color})))},A.prototype.getPlotLinePath=function(t){var e=t.translatedValue;return c(e)?this.horiz?[["M",e-4,this.top-6],["L",e+4,this.top-6],["L",e,this.top],["Z"]]:[["M",this.left,e],["L",this.left-6,e+6],["L",this.left-6,e-6],["Z"]]:v.prototype.getPlotLinePath.call(this,t)},A.prototype.update=function(t,e){var i=this.chart,o=i.legend,s=A.buildOptions(i,{},t);this.series.forEach(function(t){t.isDirtyData=!0}),(t.dataClasses&&o.allItems||this.dataClasses)&&this.destroyItems(),i.options[this.coll]=m(this.userOptions,s),v.prototype.update.call(this,s,e),this.legendItem&&(this.setLegendColor(),o.colorizeItem(this,!0))},A.prototype.destroyItems=function(){var e=this.chart;this.legendItem?e.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(t){e.legend.destroyItem(t)}),e.isDirtyLegend=!0},A.prototype.remove=function(t){this.destroyItems(),v.prototype.remove.call(this,t)},A.prototype.getDataClassLegendSymbols=function(){var n,r=this,l=r.chart,h=r.legendItems,t=l.options.legend,p=t.valueDecimals,c=t.valueSuffix||"";return h.length||r.dataClasses.forEach(function(t,e){var i=!0,o=t.from,s=t.to,a=l.numberFormatter;n="",void 0===o?n="< ":void 0===s&&(n="> "),void 0!==o&&(n+=a(o,p)+c),void 0!==o&&void 0!==s&&(n+=" - "),void 0!==s&&(n+=a(s,p)+c),h.push(u({chart:l,name:n,options:{},drawLegendSymbol:d.drawRectangle,visible:!0,setState:x,isDataClass:!0,setVisible:function(){i=r.visible=!i,r.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===e&&t.setVisible(i)})}),l.legend.colorizeItem(this,i)}},t))}),h},A.defaultLegendLength=200,A.defaultOptions={lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},A.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],A);function A(t,e){var i=v.call(this,t,e)||this;return i.beforePadding=!1,i.chart=void 0,i.coll="colorAxis",i.dataClasses=void 0,i.legendItem=void 0,i.legendItems=void 0,i.name="",i.options=void 0,i.stops=void 0,i.visible=!0,i.init(t,e),i}return Array.prototype.push.apply(t.keepProps,M.keepProps),i.ColorAxis=M,["fill","stroke"].forEach(function(t){p.prototype[t+"Setter"]=function(){this.elem.attr(t,l(this.start).tweenTo(l(this.end),this.pos),null,!0)}}),e(a,"afterGetAxes",function(){var i=this,t=i.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=f(t.colorAxis),t.colorAxis.forEach(function(t,e){t.index=e,new M(i,t)}))}),e(b,"bindAxes",function(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}),e(o,"afterGetAllItems",function(e){var i,t,o=[];for((this.chart.colorAxis||[]).forEach(function(t){(i=t.options)&&i.showInLegend&&(i.dataClasses&&i.visible?o=o.concat(t.getDataClassLegendSymbols()):i.visible&&o.push(t),t.series.forEach(function(t){t.options.showInLegend&&!i.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){h(e.allItems,t)}):h(e.allItems,t))}))}),t=o.length;t--;)e.allItems.unshift(o[t])}),e(o,"afterColorizeItem",function(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}),e(o,"afterUpdate",function(){var t=this.chart.colorAxis;t&&t.forEach(function(t,e,i){t.update({},i)})}),e(b,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}),M}),e(t,"parts-map/ColorMapSeriesMixin.js",[t["parts/Globals.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(t,e,i){var o=i.defined;i=t.noop;var s=t.seriesTypes;t.colorMapPointMixin={dataLabelOnNull:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value},setState:function(t){e.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})}},t.colorMapSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:i,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:s.column.prototype.pointAttribs,colorAttribs:function(t){var e={};return o(t.color)&&(e[this.colorProp||"fill"]=t.color),e}}}),e(t,"parts-map/MapNavigation.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){function u(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function i(t){this.init(t)}var m=e.addEvent,g=e.extend,f=e.merge,o=e.objectEach,b=e.pick;e=t.Chart;var s=t.doc;i.prototype.init=function(t){(this.chart=t).mapNavButtons=[]},i.prototype.update=function(t){function s(t){this.handler.call(p,t),u(t)}var a,n,r,l,h,p=this.chart,c=p.options.mapNavigation,d=p.mapNavButtons;for(t&&(c=p.options.mapNavigation=f(p.options.mapNavigation,t));d.length;)d.pop().destroy();b(c.enableButtons,c.enabled)&&!p.renderer.forExport&&o(c.buttons,function(t,e){a=f(c.buttonOptions,t),p.styledMode||((n=a.theme).style=f(a.theme.style,a.style),l=(r=n.states)&&r.hover,h=r&&r.select),(t=p.renderer.button(a.text,0,0,s,n,l,h,0,"zoomIn"===e?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[e]).attr({width:a.width,height:a.height,title:p.options.lang[e],padding:a.padding,zIndex:5}).add()).handler=a.onclick,m(t.element,"dblclick",u),d.push(t);var i=a,o=m(p,"load",function(){t.align(g(i,{width:t.width,height:2*t.height}),null,i.alignTo),o()})}),this.updateEvents(c)},i.prototype.updateEvents=function(t){var e=this.chart;b(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||m(e.container,"dblclick",function(t){e.pointer.onContainerDblClick(t)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),b(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||m(e.container,void 0===s.onmousewheel?"DOMMouseScroll":"mousewheel",function(t){return e.pointer.onContainerMouseWheel(t),u(t),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},g(e.prototype,{fitToBox:function(i,o){return[["x","width"],["y","height"]].forEach(function(t){var e=t[0];t=t[1],i[e]+i[t]>o[e]+o[t]&&(i[t]>o[t]?(i[t]=o[t],i[e]=o[e]):i[e]=o[e]+o[t]-i[t]),i[t]>o[t]&&(i[t]=o[t]),i[e]<o[e]&&(i[e]=o[e])}),i},mapZoom:function(t,e,i,o,s){var a=this.xAxis[0],n=a.max-a.min,r=b(e,a.min+n/2),l=n*t,h=(n=this.yAxis[0]).max-n.min,p=b(i,n.min+h/2);h*=t,l=(r=this.fitToBox({x:r-l*(o?(o-a.pos)/a.len:.5),y:p-h*(s?(s-n.pos)/n.len:.5),width:l,height:h},{x:a.dataMin,y:n.dataMin,width:a.dataMax-a.dataMin,height:n.dataMax-n.dataMin})).x<=a.dataMin&&r.width>=a.dataMax-a.dataMin&&r.y<=n.dataMin&&r.height>=n.dataMax-n.dataMin,o&&a.mapAxis&&(a.mapAxis.fixTo=[o-a.pos,e]),s&&n.mapAxis&&(n.mapAxis.fixTo=[s-n.pos,i]),void 0===t||l?(a.setExtremes(void 0,void 0,!1),n.setExtremes(void 0,void 0,!1)):(a.setExtremes(r.x,r.x+r.width,!1),n.setExtremes(r.y,r.y+r.height,!1)),this.redraw()}}),m(e,"beforeRender",function(){this.mapNavigation=new i(this),this.mapNavigation.update()}),t.MapNavigation=i}),e(t,"parts-map/MapPointer.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){var i=e.extend,o=e.pick;e=e.wrap,i((t=t.Pointer).prototype,{onContainerDblClick:function(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e=this.chart,i=(t=this.normalize(t)).detail||-t.wheelDelta/120;e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(Math.pow(e.options.mapNavigation.mouseWheelSensitivity,i),e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)}}),e(t.prototype,"zoomOption",function(t){var e=this.chart.options.mapNavigation;o(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}),e(t.prototype,"pinchTranslate",function(t,e,i,o,s,a,n){t.call(this,e,i,o,s,a,n),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=o.scaleX>o.scaleY,this.pinchTranslateDirection(!t,e,i,o,s,a,n,t?o.scaleX:o.scaleY))})}),e(t,"parts-map/MapSeries.js",[t["parts/Globals.js"],t["mixins/legend-symbol.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(g,t,f,e){var o=e.extend,a=e.fireEvent,b=e.getNestedProperty,y=e.isArray,x=e.isNumber,v=e.merge,M=e.objectEach,A=e.pick,i=e.seriesType,s=e.splat,n=g.colorMapPointMixin,r=g.noop,L=g.Series,S=g.seriesTypes;i("map","scatter",{animation:!1,dataLabels:{crop:!1,formatter:function(){return this.point.value},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}},v(g.colorMapSeriesMixin,{type:"map",getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:r,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],setOptions:function(t){var e=(t=L.prototype.setOptions.call(this,t)).joinBy;return null===e&&(e="_i"),(e=this.joinBy=s(e))[1]||(e[1]=e[0]),t},getBox:function(t){var r,l=Number.MAX_VALUE,h=-l,p=l,c=-l,d=l,u=l,e=this.xAxis,i=this.yAxis;(t||[]).forEach(function(t){var e,i,o,s,a,n;t.path&&("string"==typeof t.path?t.path=g.splitPath(t.path):"M"===t.path[0]&&(t.path=g.SVGRenderer.prototype.pathToSegments(t.path)),e=t.path||[],i=-l,s=-(o=l),a=l,n=t.properties,t._foundBox||(e.forEach(function(t){var e=t[t.length-2];t=t[t.length-1],"number"==typeof e&&"number"==typeof t&&(o=Math.min(o,e),i=Math.max(i,e),a=Math.min(a,t),s=Math.max(s,t))}),t._midX=o+(i-o)*A(t.middleX,n&&n["hc-middle-x"],.5),t._midY=a+(s-a)*A(t.middleY,n&&n["hc-middle-y"],.5),t._maxX=i,t._minX=o,t._maxY=s,t._minY=a,t.labelrank=A(t.labelrank,(i-o)*(s-a)),t._foundBox=!0),h=Math.max(h,t._maxX),p=Math.min(p,t._minX),c=Math.max(c,t._maxY),d=Math.min(d,t._minY),u=Math.min(t._maxX-t._minX,t._maxY-t._minY,u),r=!0)}),r&&(this.minY=Math.min(d,A(this.minY,l)),this.maxY=Math.max(c,A(this.maxY,-l)),this.minX=Math.min(p,A(this.minX,l)),this.maxX=Math.max(h,A(this.maxX,-l)),e&&void 0===e.options.minRange&&(e.minRange=Math.min(5*u,(this.maxX-this.minX)/5,e.minRange||l)),i&&void 0===i.options.minRange&&(i.minRange=Math.min(5*u,(this.maxY-this.minY)/5,i.minRange||l)))},hasData:function(){return!!this.processedXData.length},getExtremes:function(){var t=(e=L.prototype.getExtremes.call(this,this.valueData)).dataMin,e=e.dataMax;return this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),x(t)&&(this.valueMin=t),x(e)&&(this.valueMax=e),{dataMin:this.minY,dataMax:this.maxY}},translatePath:function(t){var e=this.xAxis,i=this.yAxis,o=e.min,s=e.transA,a=e.minPixelPadding,n=i.min,r=i.transA,l=i.minPixelPadding,h=[];return t&&t.forEach(function(t){"M"===t[0]?h.push(["M",(t[1]-(o||0))*s+a,(t[2]-(n||0))*r+l]):"L"===t[0]?h.push(["L",(t[1]-(o||0))*s+a,(t[2]-(n||0))*r+l]):"C"===t[0]?h.push(["C",(t[1]-(o||0))*s+a,(t[2]-(n||0))*r+l,(t[3]-(o||0))*s+a,(t[4]-(n||0))*r+l,(t[5]-(o||0))*s+a,(t[6]-(n||0))*r+l]):"Q"===t[0]?h.push(["Q",(t[1]-(o||0))*s+a,(t[2]-(n||0))*r+l,(t[3]-(o||0))*s+a,(t[4]-(n||0))*r+l]):"Z"===t[0]&&h.push(["Z"])}),h},setData:function(s,t,e,i){var o,a,n=this.options,r=this.chart.options.chart,l=r&&r.map,h=n.mapData,p=this.joinBy,c=n.keys||this.pointArrayMap,d=[],u={},m=this.chart.mapTransforms;if(!h&&l&&(h="string"==typeof l?g.maps[l]:l),s&&s.forEach(function(t,e){var i=0;if(x(t))s[e]={value:t};else if(y(t)){s[e]={},!n.keys&&t.length>c.length&&"string"==typeof t[0]&&(s[e]["hc-key"]=t[0],++i);for(var o=0;o<c.length;++o,++i)c[o]&&void 0!==t[i]&&(0<c[o].indexOf(".")?f.prototype.setNestedProperty(s[e],t[i],c[o]):s[e][c[o]]=t[i])}p&&"_i"===p[0]&&(s[e]._i=e)}),this.getBox(s),(this.chart.mapTransforms=m=r&&r.mapTransforms||h&&h["hc-transform"]||m)&&M(m,function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))}),h){for("FeatureCollection"===h.type&&(this.mapTitle=h.title,h=g.geojson(h,this.type,this)),this.mapData=h,this.mapMap={},m=0;m<h.length;m++)l=(r=h[m]).properties,r._i=m,p[0]&&l&&l[p[0]]&&(r[p[0]]=l[p[0]]),u[r[p[0]]]=r;this.mapMap=u,s&&p[1]&&(o=p[1],s.forEach(function(t){t=b(o,t),u[t]&&d.push(u[t])})),n.allAreas?(this.getBox(h),s=s||[],p[1]&&(a=p[1],s.forEach(function(t){d.push(b(a,t))})),d="|"+d.map(function(t){return t&&t[p[0]]}).join("|")+"|",h.forEach(function(t){p[0]&&-1!==d.indexOf("|"+t[p[0]]+"|")||(s.push(v(t,{value:null})),i=!1)})):this.getBox(d)}L.prototype.setData.call(this,s,t,e,i)},drawGraph:r,drawDataLabels:r,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var e=this,i=e.xAxis,o=e.yAxis,s=e.doFullTranslate();e.generatePoints(),e.data.forEach(function(t){x(t._midX)&&x(t._midY)&&(t.plotX=i.toPixels(t._midX,!0),t.plotY=o.toPixels(t._midY,!0)),s&&(t.shapeType="path",t.shapeArgs={d:e.translatePath(t.path)})}),a(e,"afterTranslate")},pointAttribs:function(t,e){return(e=t.series.chart.styledMode?this.colorAttribs(t):S.column.prototype.pointAttribs.call(this,t,e))["stroke-width"]=A(t.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"],"inherit"),e},drawPoints:function(){var i,o,s,a,n,r,l,h,p,c=this,t=c.xAxis,e=c.yAxis,d=c.group,u=c.chart,m=u.renderer,g=this.baseTrans;c.transformGroup||(c.transformGroup=m.g().attr({scaleX:1,scaleY:1}).add(d),c.transformGroup.survive=!0),c.doFullTranslate()?(u.hasRendered&&!u.styledMode&&c.points.forEach(function(t){t.shapeArgs&&(t.shapeArgs.fill=c.pointAttribs(t,t.state).fill)}),c.group=c.transformGroup,S.column.prototype.drawPoints.apply(c),c.group=d,c.points.forEach(function(t){var e;t.graphic&&(e="",t.name&&(e+="highcharts-name-"+t.name.replace(/ /g,"-").toLowerCase()),t.properties&&t.properties["hc-key"]&&(e+=" highcharts-key-"+t.properties["hc-key"].toLowerCase()),e&&t.graphic.addClass(e),u.styledMode&&t.graphic.css(c.pointAttribs(t,t.selected?"select":void 0)))}),this.baseTrans={originX:t.min-t.minPixelPadding/t.transA,originY:e.min-e.minPixelPadding/e.transA+(e.reversed?0:e.len/e.transA),transAX:t.transA,transAY:e.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(i=t.transA/g.transAX,o=e.transA/g.transAY,s=t.toPixels(g.originX,!0),a=e.toPixels(g.originY,!0),.99<i&&i<1.01&&.99<o&&o<1.01&&(o=i=1,s=Math.round(s),a=Math.round(a)),n=this.transformGroup,u.renderer.globalAnimation?(r=n.attr("translateX"),l=n.attr("translateY"),h=n.attr("scaleX"),p=n.attr("scaleY"),n.attr({animator:0}).animate({animator:1},{step:function(t,e){n.attr({translateX:r+(s-r)*e.pos,translateY:l+(a-l)*e.pos,scaleX:h+(i-h)*e.pos,scaleY:p+(o-p)*e.pos})}})):n.attr({translateX:s,translateY:a,scaleX:i,scaleY:o})),u.styledMode||d.element.setAttribute("stroke-width",A(c.options[c.pointAttrToOptions&&c.pointAttrToOptions["stroke-width"]||"borderWidth"],1)/(i||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){L.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var t=this,e=L.prototype.render;t.chart.renderer.isVML&&3e3<t.data.length?setTimeout(function(){e.call(t)}):e.call(t)},animate:function(t){var e=this.options.animation,i=this.group,o=this.xAxis,s=this.yAxis,a=o.pos,n=s.pos;this.chart.renderer.isSVG&&(!0===e&&(e={duration:1e3}),t?i.attr({translateX:a+o.len/2,translateY:n+s.len/2,scaleX:.001,scaleY:.001}):i.animate({translateX:a,translateY:n,scaleX:1,scaleY:1},e))},animateDrilldown:function(t){var e=this.chart.plotBox,i=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],o=i.bBox,s=this.chart.options.drilldown.animation;t||(t=Math.min(o.width/e.width,o.height/e.height),i.shapeArgs={scaleX:t,scaleY:t,translateX:o.x,translateY:o.y},this.points.forEach(function(t){t.graphic&&t.graphic.attr(i.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},s)}))},drawLegendSymbol:t.drawRectangle,animateDrillupFrom:function(t){S.column.prototype.animateDrillupFrom.call(this,t)},animateDrillupTo:function(t){S.column.prototype.animateDrillupTo.call(this,t)}}),o({applyOptions:function(t,e){var i=this.series;return t=f.prototype.applyOptions.call(this,t,e),e=i.joinBy,i.mapData&&i.mapMap&&((e=void 0!==(e=f.prototype.getNestedProperty.call(t,e[1]))&&i.mapMap[e])?(i.xyFromShape&&(t.x=e._midX,t.y=e._midY),o(t,e)):t.value=t.value||null),t},onMouseOver:function(t){e.clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?f.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},zoomTo:function(){var t=this.series;t.xAxis.setExtremes(this._minX,this._maxX,!1),t.yAxis.setExtremes(this._minY,this._maxY,!1),t.chart.redraw()}},n))}),e(t,"parts-map/MapLineSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){e=e.seriesType;var i=t.seriesTypes;e("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(t,e){return(t=i.map.prototype.pointAttribs.call(this,t,e)).fill=this.options.fillColor,t},drawLegendSymbol:i.line.prototype.drawLegendSymbol})}),e(t,"parts-map/MapPointSeries.js",[t["parts/Globals.js"]],function(t){var i=t.merge,o=t.Point,e=t.Series;(t=t.seriesType)("mappoint","scatter",{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0,drawDataLabels:function(){e.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}},{applyOptions:function(t,e){return t=void 0!==t.lat&&void 0!==t.lon?i(t,this.series.chart.fromLatLonToPoint(t)):t,o.prototype.applyOptions.call(this,t,e)}})}),e(t,"parts-more/BubbleLegend.js",[t["parts/Globals.js"],t["parts/Color.js"],t["parts/Legend.js"],t["parts/Utilities.js"]],function(a,t,e,s){var c=t.parse;t=s.addEvent;var n=s.arrayMax,r=s.arrayMin,l=s.isNumber,d=s.merge,h=s.objectEach,u=s.pick,p=s.stableSort,i=s.wrap,o=a.Series,m=a.Chart,g=a.noop,f=a.setOptions;function b(t,e){this.options=this.symbols=this.visible=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=g,this.init(t,e)}return f({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:10,color:void 0},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}}),b.prototype.init=function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},b.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},b.prototype.drawLegendSymbol=function(t){var e=this.chart,i=this.options,o=u(t.options.itemDistance,20),s=i.ranges,a=i.connectorDistance;this.fontMetrics=e.renderer.fontMetrics(i.labels.style.fontSize.toString()+"px"),s&&s.length&&l(s[0].value)?(p(s,function(t,e){return e.value-t.value}),this.ranges=s,this.setOptions(),this.render(),e=this.getMaxLabelSize(),t=2*(s=this.ranges[0].radius),a=0<(a=a-s+e.width)?a:0,this.maxLabel=e,this.movementX="left"===i.labels.align?a:0,this.legendItemWidth=t+a+o,this.legendItemHeight=t+this.fontMetrics.h/2):t.options.bubbleLegend.autoRanges=!0},b.prototype.setOptions=function(){var i=this.ranges,o=this.options,s=this.chart.series[o.seriesIndex],a=this.legend.baseline,n={"z-index":o.zIndex,"stroke-width":o.borderWidth},r={"z-index":o.zIndex,"stroke-width":o.connectorWidth},l=this.getLabelStyles(),h=s.options.marker.fillOpacity,p=this.chart.styledMode;i.forEach(function(t,e){p||(n.stroke=u(t.borderColor,o.borderColor,s.color),n.fill=u(t.color,o.color,1!==h?c(s.color).setOpacity(h).get("rgba"):s.color),r.stroke=u(t.connectorColor,o.connectorColor,s.color)),i[e].radius=this.getRangeRadius(t.value),i[e]=d(i[e],{center:i[0].radius-i[e].radius+a}),p||d(!0,i[e],{bubbleStyle:d(!1,n),connectorStyle:d(!1,r),labelStyle:l})},this)},b.prototype.getLabelStyles=function(){var t=this.options,i={},e="left"===t.labels.align,o=this.legend.options.rtl;return h(t.labels.style,function(t,e){"color"!==e&&"fontSize"!==e&&"z-index"!==e&&(i[e]=t)}),d(!1,i,{"font-size":t.labels.style.fontSize,fill:u(t.labels.style.color,"#000000"),"z-index":t.zIndex,align:o||e?"right":"left"})},b.prototype.getRangeRadius=function(t){var e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)},b.prototype.render=function(){var t=this.chart.renderer,e=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=t.g("bubble-legend"),this.legendItem=t.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(t){t.value>=e&&this.renderRange(t)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},b.prototype.renderRange=function(t){var e=this.options,i=e.labels,o=this.chart.renderer,s=this.symbols,a=s.labels,n=t.center,r=Math.abs(t.radius),l=e.connectorDistance||0,h=i.align,p=i.style.fontSize,l=this.legend.options.rtl||"left"===h?-l:l,i=e.connectorWidth,c=this.ranges[0].radius||0,d=n-r-e.borderWidth/2+i/2,p=p/2-(this.fontMetrics.h-p)/2,u=o.styledMode;"center"===h&&(l=0,e.connectorDistance=0,t.labelStyle.align="center"),h=d+e.labels.y;var m=c+l+e.labels.x;s.bubbleItems.push(o.circle(c,n+((d%1?1:.5)-(i%2?0:.5)),r).attr(u?{}:t.bubbleStyle).addClass((u?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendSymbol)),s.connectors.push(o.path(o.crispLine([["M",c,d],["L",c+l,d]],e.connectorWidth)).attr(u?{}:t.connectorStyle).addClass((u?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendSymbol)),t=o.text(this.formatLabel(t),m,h+p).attr(u?{}:t.labelStyle).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendSymbol),a.push(t),t.placed=!0,t.alignAttr={x:m,y:h+p}},b.prototype.getMaxLabelSize=function(){var e,i;return this.symbols.labels.forEach(function(t){i=t.getBBox(!0),e=!e||i.width>e.width?i:e}),e||{}},b.prototype.formatLabel=function(t){var e=(i=this.options).labels.formatter,i=i.labels.format,o=this.chart.numberFormatter;return i?s.format(i,t):e?e.call(t):o(t.value,1)},b.prototype.hideOverlappingLabels=function(){var t=this.chart,i=this.symbols;!this.options.labels.allowOverlap&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()}))},b.prototype.getRanges=function(){var e,t=this.legend.bubbleLegend,i=t.options.ranges,o=Number.MAX_VALUE,s=-Number.MAX_VALUE;t.chart.series.forEach(function(t){t.isBubble&&!t.ignoreSeries&&(e=t.zData.filter(l)).length&&(o=u(t.options.zMin,Math.min(o,Math.max(r(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),s=u(t.options.zMax,Math.max(s,n(e))))});var a=o===s?[{value:s}]:[{value:o},{value:(o+s)/2},{value:s,autoRanges:!0}];return i.length&&i[0].radius&&a.reverse(),a.forEach(function(t,e){i&&i[e]&&(a[e]=d(!1,i[e],t))}),a},b.prototype.predictBubbleSizes=function(){var t=this.chart,e=this.fontMetrics,i=t.legend.options,o="horizontal"===i.layout,s=o?t.legend.lastLineHeight:0,a=t.plotSizeX,n=t.plotSizeY,r=t.series[this.options.seriesIndex],t=Math.ceil(r.minPxSize),l=Math.ceil(r.maxPxSize),r=r.options.maxSize,h=Math.min(n,a);return i.floating||!/%$/.test(r)?e=l:(r=parseFloat(r),e=(h+s-e.h/2)*r/100/(r/100+1),(o&&a<=n-e||!o&&n<=a-e)&&(e=l)),[t,Math.ceil(e)]},b.prototype.updateRanges=function(t,e){var i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()},b.prototype.correctSizes=function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex];1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())},f=b,t(e,"afterGetAllItems",function(t){var e=this.bubbleLegend,i=this.options,o=i.bubbleLegend,s=this.chart.getVisibleBubbleSeriesIndex();e&&e.ranges&&e.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(e)),0<=s&&i.enabled&&o.enabled&&(o.seriesIndex=s,this.bubbleLegend=new a.BubbleLegend(o,this),this.bubbleLegend.addToLegend(t.allItems))}),m.prototype.getVisibleBubbleSeriesIndex=function(){for(var t=this.series,e=0;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1},e.prototype.getLinesHeights=function(){for(var t=this.allItems,e=[],i=t.length,o=0,s=0;s<i;s++)if(t[s].legendItemHeight&&(t[s].itemHeight=t[s].legendItemHeight),t[s]===t[i-1]||t[s+1]&&t[s]._legendItemPos[1]!==t[s+1]._legendItemPos[1]){e.push({height:0});for(var a=e[e.length-1];o<=s;o++)t[o].itemHeight>a.height&&(a.height=t[o].itemHeight);a.step=s}return e},e.prototype.retranslateItems=function(i){var o,s,a,n=this.options.rtl,r=0;this.allItems.forEach(function(t,e){o=t.legendGroup.translateX,s=t._legendItemPos[1],((a=t.movementX)||n&&t.ranges)&&(a=n?o-t.options.maxSize/2:o+a,t.legendGroup.attr({translateX:a})),e>i[r].step&&r++,t.legendGroup.attr({translateY:Math.round(s+i[r].height/2)}),t._legendItemPos[1]=s+i[r].height/2})},t(o,"legendItemClick",function(){var t=this.chart,e=this.visible,i=this.chart.legend;i&&i.bubbleLegend&&(this.visible=!e,this.ignoreSeries=e,t=0<=t.getVisibleBubbleSeriesIndex(),i.bubbleLegend.visible!==t&&(i.update({bubbleLegend:{enabled:t}}),i.bubbleLegend.visible=t),this.visible=e)}),i(m.prototype,"drawChartBox",function(t,e,i){var o,s=this.legend,a=0<=this.getVisibleBubbleSeriesIndex();s&&s.options.enabled&&s.bubbleLegend&&s.options.bubbleLegend.autoRanges&&a?(o=s.bubbleLegend.options,a=s.bubbleLegend.predictBubbleSizes(),s.bubbleLegend.updateRanges(a[0],a[1]),o.placed||(s.group.placed=!1,s.allItems.forEach(function(t){t.legendGroup.translateY=null})),s.render(),this.getMargins(),this.axes.forEach(function(t){t.visible&&t.render(),o.placed||(t.setScale(),t.updateNames(),h(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),o.placed=!0,this.getMargins(),t.call(this,e,i),s.bubbleLegend.correctSizes(),s.retranslateItems(s.getLinesHeights())):(t.call(this,e,i),s&&s.options.enabled&&s.bubbleLegend&&(s.render(),s.retranslateItems(s.getLinesHeights())))}),a.BubbleLegend=f,a.BubbleLegend}),e(t,"parts-more/BubbleSeries.js",[t["parts/Globals.js"],t["parts/Color.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(t,e,i,o){var s=e.parse,f=o.arrayMax,b=o.arrayMin,y=o.clamp,a=o.extend,x=o.isNumber,v=o.pick,M=o.pInt;e=o.seriesType,o=t.Axis;var n=t.noop,r=t.Series,l=t.seriesTypes;e("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,isBubble:!0,pointAttribs:function(t,e){var i=this.options.marker.fillOpacity;return t=r.prototype.pointAttribs.call(this,t,e),1!==i&&(t.fill=s(t.fill).setOpacity(i).get("rgba")),t},getRadii:function(t,e,i){var o=this.zData,s=this.yData,a=i.minPxSize,n=i.maxPxSize,r=[],l=0;for(i=o.length;l<i;l++){var h=o[l];r.push(this.getRadius(t,e,a,n,h,s[l]))}this.radii=r},getRadius:function(t,e,i,o,s,a){var n=this.options,r="width"!==n.sizeBy,l=n.zThreshold,h=e-t,p=.5;if(null===a||null===s)return null;if(x(s)){if(n.sizeByAbsoluteValue&&(s=Math.abs(s-l),h=Math.max(e-l,Math.abs(t-l)),t=0),s<t)return i/2-1;0<h&&(p=(s-t)/h)}return r&&0<=p&&(p=Math.sqrt(p)),Math.ceil(i+p*(o-i))/2},animate:function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){var e,i=t.graphic;i&&i.width&&(e={x:i.x,y:i.y,width:i.width,height:i.height},i.attr({x:t.plotX,y:t.plotY,width:1,height:1}),i.animate(e,this.options.animation))},this)},hasData:function(){return!!this.processedXData.length},translate:function(){var t,e=this.data,i=this.radii;for(l.scatter.prototype.translate.call(this),t=e.length;t--;){var o=e[t],s=i?i[t]:0;x(s)&&s>=this.minPxSize/2?(o.marker=a(o.marker,{radius:s,width:2*s,height:2*s}),o.dlBox={x:o.plotX-s,y:o.plotY-s,width:2*s,height:2*s}):o.shapeArgs=o.plotY=o.dlBox=void 0}},alignDataLabel:l.column.prototype.alignDataLabel,buildKDTree:n,applyZones:n},{haloPath:function(t){return i.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),o.prototype.beforePadding=function(){var s=this,t=this.len,e=this.chart,a=0,n=t,r=this.isXAxis,l=r?"xData":"yData",h=this.min,p={},c=Math.min(e.plotWidth,e.plotHeight),d=Number.MAX_VALUE,u=-Number.MAX_VALUE,m=this.max-h,g=t/m,i=[];this.series.forEach(function(t){var o=t.options;!t.bubblePadding||!t.visible&&e.options.chart.ignoreHiddenSeries||(s.allowZoomOutside=!0,i.push(t),r&&(["minSize","maxSize"].forEach(function(t){var e=o[t],i=/%$/.test(e),e=M(e);p[t]=i?c*e/100:e}),t.minPxSize=p.minSize,t.maxPxSize=Math.max(p.maxSize,p.minSize),(t=t.zData.filter(x)).length&&(d=v(o.zMin,y(b(t),!1===o.displayNegative?o.zThreshold:-Number.MAX_VALUE,d)),u=v(o.zMax,Math.max(u,f(t))))))}),i.forEach(function(t){var e,i=t[l],o=i.length;if(r&&t.getRadii(d,u,t),0<m)for(;o--;){x(i[o])&&s.dataMin<=i[o]&&i[o]<=s.max&&(e=t.radii?t.radii[o]:0,a=Math.min((i[o]-h)*g-e,a),n=Math.max((i[o]-h)*g+e,n))}}),i.length&&0<m&&!this.logarithmic&&(n-=t,g*=(t+Math.max(0,a)-Math.min(n,t))/t,[["min","userMin",a],["max","userMax",n]].forEach(function(t){void 0===v(s.options[t[0]],s[t[1]])&&(s[t[0]]+=t[2]/g)}))}}),e(t,"parts-map/MapBubbleSeries.js",[t["parts/Globals.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(t,i,e){var o=e.merge;e=e.seriesType;var s=t.seriesTypes;s.bubble&&e("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:s.map.prototype.getMapData,getBox:s.map.prototype.getBox,setData:s.map.prototype.setData,setOptions:s.map.prototype.setOptions},{applyOptions:function(t,e){return t&&void 0!==t.lat&&void 0!==t.lon?i.prototype.applyOptions.call(this,o(t,this.series.chart.fromLatLonToPoint(t)),e):s.map.prototype.pointClass.prototype.applyOptions.call(this,t,e)},isValid:function(){return"number"==typeof this.z},ttBelow:!1})}),e(t,"parts-map/HeatmapSeries.js",[t["parts/Globals.js"],t["mixins/legend-symbol.js"],t["parts/Utilities.js"]],function(r,t,e){var n=e.clamp,l=e.extend,i=e.fireEvent,o=e.isNumber,h=e.merge,p=e.pick;e=e.seriesType;var s=r.colorMapPointMixin,c=r.Series,d=r.SVGRenderer.prototype.symbols;e("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}},h(r.colorMapSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){c.prototype.init.apply(this,arguments);var t=this.options;t.pointRange=p(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,l(d,{ellipse:d.circle,rect:d.square})},getSymbol:c.prototype.getSymbol,setClip:function(t){var e=this.chart;c.prototype.setClip.apply(this,arguments),!1===this.options.clip&&!t||this.markerGroup.clip((t||this.clipBox)&&this.sharedClipKey?e[this.sharedClipKey]:e.clipRect)},translate:function(){var a=(t=this.options).marker&&t.marker.symbol||"",n=d[a]?a:"rect",t=this.options,r=-1!==["circle","square"].indexOf(n);this.generatePoints(),this.points.forEach(function(t){var e,i=t.getCellAttributes(),o={x:Math.min(i.x1,i.x2),y:Math.min(i.y1,i.y2),width:Math.max(Math.abs(i.x2-i.x1),0),height:Math.max(Math.abs(i.y2-i.y1),0)},s=t.hasImage=0===(t.marker&&t.marker.symbol||a||"").indexOf("url");r&&(e=Math.abs(o.width-o.height),o.x=Math.min(i.x1,i.x2)+(o.width<o.height?0:e/2),o.y=Math.min(i.y1,i.y2)+(o.width<o.height?e/2:0),o.width=o.height=Math.min(o.width,o.height)),e={plotX:(i.x1+i.x2)/2,plotY:(i.y1+i.y2)/2,clientX:(i.x1+i.x2)/2,shapeType:"path",shapeArgs:h(!0,o,{d:d[n](o.x,o.y,o.width,o.height)})},s&&(t.marker={width:o.width,height:o.height}),l(t,e)}),i(this,"afterTranslate")},pointAttribs:function(t,e){var i=c.prototype.pointAttribs.call(this,t,e),o=this.options||{},s=(n=this.chart.options.plotOptions||{}).series||{},a=n.heatmap||{},n=o.borderColor||a.borderColor||s.borderColor,s=o.borderWidth||a.borderWidth||s.borderWidth||i["stroke-width"];return i.stroke=t&&t.marker&&t.marker.lineColor||o.marker&&o.marker.lineColor||n||this.color,i["stroke-width"]=s,e&&(e=(t=h(o.states[e],o.marker&&o.marker.states[e],t.options.states&&t.options.states[e]||{})).brightness,i.fill=t.color||r.color(i.fill).brighten(e||0).get(),i.stroke=t.lineColor),i},markerAttribs:function(t,e){var i,o,s=t.marker||{},a=this.options.marker||{},n=t.shapeArgs||{},r={};return t.hasImage?{x:t.plotX,y:t.plotY}:(e&&(i=a.states[e]||{},o=s.states&&s.states[e]||{},[["width","x"],["height","y"]].forEach(function(t){r[t[0]]=(o[t[0]]||i[t[0]]||n[t[0]])+(o[t[0]+"Plus"]||i[t[0]+"Plus"]||0),r[t[1]]=n[t[1]]+(n[t[0]]-r[t[0]])/2})),e?r:n)},drawPoints:function(){var e=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(c.prototype.drawPoints.call(this),this.points.forEach(function(t){t.graphic&&t.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(t))}))},hasData:function(){return!!this.processedXData.length},getValidPoints:function(t,e){return c.prototype.getValidPoints.call(this,t,e,!0)},getBox:r.noop,drawLegendSymbol:t.drawRectangle,alignDataLabel:r.seriesTypes.column.prototype.alignDataLabel,getExtremes:function(){var t=(e=c.prototype.getExtremes.call(this,this.valueData)).dataMin,e=e.dataMax;return o(t)&&(this.valueMin=t),o(e)&&(this.valueMax=e),c.prototype.getExtremes.call(this)}}),h(s,{applyOptions:function(t,e){return(t=r.Point.prototype.applyOptions.call(this,t,e)).formatPrefix=t.isNull||null===t.value?"null":"point",t},isValid:function(){return 1/0!==this.value&&-1/0!==this.value},haloPath:function(t){if(!t)return[];var e=this.shapeArgs;return["M",e.x-t,e.y-t,"L",e.x-t,e.y+e.height+t,e.x+e.width+t,e.y+e.height+t,e.x+e.width+t,e.y-t,"Z"]},getCellAttributes:function(){var t=(a=this.series).options,e=(t.colsize||1)/2,i=(t.rowsize||1)/2,o=a.xAxis,s=a.yAxis,r=this.options.marker||a.options.marker,a=a.pointPlacementToXValue(),l=p(this.pointPadding,t.pointPadding,0),h={x1:n(Math.round(o.len-(o.translate(this.x-e,!1,!0,!1,!0,-a)||0)),-o.len,2*o.len),x2:n(Math.round(o.len-(o.translate(this.x+e,!1,!0,!1,!0,-a)||0)),-o.len,2*o.len),y1:n(Math.round(s.translate(this.y-i,!1,!0,!1,!0)||0),-s.len,2*s.len),y2:n(Math.round(s.translate(this.y+i,!1,!0,!1,!0)||0),-s.len,2*s.len)};return[["width","x"],["height","y"]].forEach(function(t){var e=t[0],i=(t=t[1])+"1",o=t+"2",s=Math.abs(h[i]-h[o]),a=r&&r.lineWidth||0,n=Math.abs(h[i]+h[o])/2;r[e]&&r[e]<s&&(h[i]=n-r[e]/2-a/2,h[o]=n+r[e]/2+a/2),l&&("y"===t&&(i=o,o=t+"1"),h[i]+=l,h[o]-=l)}),h}}))}),e(t,"parts-map/GeoJSON.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){function s(t,e){var i,o=!1,s=t.x,a=t.y;for(t=0,i=e.length-1;t<e.length;i=t++){e[t][1]>a!=e[i][1]>a&&s<(e[i][0]-e[t][0])*(a-e[t][1])/(e[i][1]-e[t][1])+e[t][0]&&(o=!o)}return o}var a=e.error,l=e.extend,i=e.format,o=e.merge;e=e.wrap;var n=t.Chart,r=t.win;n.prototype.transformFromLatLon=function(t,e){var i,o=(null===(i=this.userOptions.chart)||void 0===i?void 0:i.proj4)||r.proj4;return o?(t=o(e.crs,[t.lon,t.lat]),i=e.cosAngle||e.rotation&&Math.cos(e.rotation),o=e.sinAngle||e.rotation&&Math.sin(e.rotation),{x:(((t=e.rotation?[t[0]*i+t[1]*o,-t[0]*o+t[1]*i]:t)[0]-(e.xoffset||0))*(e.scale||1)+(e.xpan||0))*(e.jsonres||1)+(e.jsonmarginX||0),y:(((e.yoffset||0)-t[1])*(e.scale||1)+(e.ypan||0))*(e.jsonres||1)-(e.jsonmarginY||0)}):(a(21,!1,this),{x:0,y:null})},n.prototype.transformToLatLon=function(t,e){if(void 0!==r.proj4){t={x:((t.x-(e.jsonmarginX||0))/(e.jsonres||1)-(e.xpan||0))/(e.scale||1)+(e.xoffset||0),y:((-t.y-(e.jsonmarginY||0))/(e.jsonres||1)+(e.ypan||0))/(e.scale||1)+(e.yoffset||0)};var i=e.cosAngle||e.rotation&&Math.cos(e.rotation),o=e.sinAngle||e.rotation&&Math.sin(e.rotation);return{lat:(e=r.proj4(e.crs,"WGS84",e.rotation?{x:t.x*i+t.y*-o,y:t.x*o+t.y*i}:t)).y,lon:e.x}}a(21,!1,this)},n.prototype.fromPointToLatLon=function(t){var e,i=this.mapTransforms;if(i){for(e in i)if(Object.hasOwnProperty.call(i,e)&&i[e].hitZone&&s({x:t.x,y:-t.y},i[e].hitZone.coordinates[0]))return this.transformToLatLon(t,i[e]);return this.transformToLatLon(t,i.default)}a(22,!1,this)},n.prototype.fromLatLonToPoint=function(t){var e,i=this.mapTransforms;if(!i)return a(22,!1,this),{x:0,y:null};for(e in i)if(Object.hasOwnProperty.call(i,e)&&i[e].hitZone){var o=this.transformFromLatLon(t,i[e]);if(s({x:o.x,y:-o.y},i[e].hitZone.coordinates[0]))return o}return this.transformFromLatLon(t,i.default)},t.geojson=function(t,s,e){function a(t){t.forEach(function(t,e){0===e?r.push(["M",t[0],-t[1]]):r.push(["L",t[0],-t[1]])})}var n=[],r=[];return s=s||"map",t.features.forEach(function(t){var e,i=(o=t.geometry).type,o=o.coordinates;t=t.properties,r=[],"map"===s||"mapbubble"===s?("Polygon"===i?(o.forEach(a),r.push(["Z"])):"MultiPolygon"===i&&(o.forEach(function(t){t.forEach(a)}),r.push(["Z"])),r.length&&(e={path:r})):"mapline"===s?("LineString"===i?a(o):"MultiLineString"===i&&o.forEach(a),r.length&&(e={path:r})):"mappoint"===s&&"Point"===i&&(e={x:o[0],y:-o[1]}),e&&n.push(l(e,{name:t.name||t.NAME,properties:t}))}),e&&t.copyrightShort&&(e.chart.mapCredits=i(e.chart.options.credits.mapText,{geojson:t}),e.chart.mapCreditsFull=i(e.chart.options.credits.mapTextFull,{geojson:t})),n},e(n.prototype,"addCredits",function(t,e){e=o(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}),e(t,"parts-map/Map.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(h,t){function a(t,e,i,o,s,a,n,r){return[["M",t+s,e],["L",t+i-a,e],["C",t+i-a/2,e,t+i,e+a/2,t+i,e+a],["L",t+i,e+o-n],["C",t+i,e+o-n/2,t+i-n/2,e+o,t+i-n,e+o],["L",t+r,e+o],["C",t+r/2,e+o,t,e+o-r/2,t,e+o-r],["L",t,e+s],["C",t,e+s/2,t+s/2,e,t+s,e],["Z"]]}var e=t.extend,p=t.merge,c=t.pick,d=h.Chart;t=h.defaultOptions;var i=h.Renderer,o=h.SVGRenderer,s=h.VMLRenderer;e(t.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),t.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1},h.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)})),o.prototype.pathToSegments(t)},h.maps={},o.prototype.symbols.topbutton=function(t,e,i,o,s){return a(t-1,e-1,i,o,s.r,s.r,0,0)},o.prototype.symbols.bottombutton=function(t,e,i,o,s){return a(t-1,e-1,i,o,0,0,s.r,s.r)},i===s&&["topbutton","bottombutton"].forEach(function(t){s.prototype.symbols[t]=o.prototype.symbols[t]}),h.Map=h.mapChart=function(t,e,i){var o="string"==typeof t||t.nodeName,s=arguments[o?1:0],a=s,n={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},r=h.getOptions().credits,l=s.series;return s.series=null,(s=p({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:c(r.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:c(r.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:n,yAxis:p(n,{reversed:!0})},s,{chart:{inverted:!1,alignTicks:!1}})).series=a.series=l,o?new d(t,s,i):new d(s,e)}}),e(t,"masters/modules/map.src.js",[],function(){})});