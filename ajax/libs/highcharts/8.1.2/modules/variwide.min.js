!function(s){"object"==typeof module&&module.exports?module.exports=s.default=s:"function"==typeof define&&define.amd?define("highcharts/modules/variwide",["highcharts"],function(t){return s(t),s.Highcharts=t,s}):s("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function s(t,s,i,r){t.hasOwnProperty(s)||(t[s]=r.apply(null,i))}s(t=t?t._modules:{},"modules/variwide.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,s){var i=s.addEvent,r=s.isNumber,p=s.pick,a=s.seriesType;s=s.wrap;var o=t.seriesTypes;a("variwide","column",{pointPadding:0,groupPadding:0},{irregularWidths:!0,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],processData:function(t){this.totalZ=0,this.relZ=[],o.column.prototype.processData.call(this,t),(this.xAxis.reversed?this.zData.slice().reverse():this.zData).forEach(function(t,s){this.relZ[s]=this.totalZ,this.totalZ+=t},this),this.xAxis.categories&&(this.xAxis.variwide=!0,this.xAxis.zData=this.zData)},postTranslate:function(t,s,i){var r=this.xAxis,a=this.relZ;t=r.reversed?a.length-t:t;var e=r.reversed?-1:1,o=r.len,h=this.totalZ,r=t/a.length*o,n=(t+e)/a.length*o,l=p(a[t],h)/h*o,a=p(a[t+e],h)/h*o;return i&&(i.crosshairWidth=a-l),l+(s-r)*(a-l)/(n-r)},translate:function(){var t=this.options.crisp,r=this.xAxis;this.options.crisp=!1,o.column.prototype.translate.call(this),this.options.crisp=t;var a=this.chart.inverted,e=this.borderWidth%2/2;this.points.forEach(function(t,s){var i;s=r.variwide?(i=this.postTranslate(s,t.shapeArgs.x,t),this.postTranslate(s,t.shapeArgs.x+t.shapeArgs.width)):(i=t.plotX,r.translate(t.x+t.z,0,0,0,1)),this.options.crisp&&(i=Math.round(i)-e,s=Math.round(s)-e),t.shapeArgs.x=i,t.shapeArgs.width=Math.max(s-i,1),t.plotX=(i+s)/2,a?t.tooltipPos[1]=r.len-t.shapeArgs.x-t.shapeArgs.width/2:t.tooltipPos[0]=t.shapeArgs.x+t.shapeArgs.width/2},this),this.options.stacking&&this.correctStackLabels()},correctStackLabels:function(){var s,i,r,a,e=this,o=e.options,h=e.yAxis;e.points.forEach(function(t){a=t.x,i=t.shapeArgs.width,(r=h.stacking.stacks[(e.negStacks&&t.y<(o.startFromThreshold?0:o.threshold)?"-":"")+e.stackKey])&&(s=r[a])&&!t.isNull&&s.setOffset(-i/2||0,i||0,void 0,void 0,t.plotX)})}},{isValid:function(){return r(this.y)&&r(this.z)}}),t.Tick.prototype.postTranslate=function(t,s,i){var r=this.axis,a=t[s]-r.pos;r.horiz||(a=r.len-a),a=r.series[0].postTranslate(i,a),r.horiz||(a=r.len-a),t[s]=r.pos+a},i(t.Axis,"afterDrawCrosshair",function(t){this.variwide&&this.cross&&this.cross.attr("stroke-width",t.point&&t.point.crosshairWidth)}),i(t.Axis,"afterRender",function(){var i=this;!this.horiz&&this.variwide&&this.chart.labelCollectors.push(function(){return i.tickPositions.filter(function(t){return i.ticks[t].label}).map(function(t,s){return(t=i.ticks[t].label).labelrank=i.zData[s],t})})}),i(t.Tick,"afterGetPosition",function(t){var s=this.axis,i=s.horiz?"x":"y";s.variwide&&(this[i+"Orig"]=t.pos[i],this.postTranslate(t.pos,i,this.pos))}),s(t.Tick.prototype,"getLabelPosition",function(t,s,i,r,a,e,o,h){var n=Array.prototype.slice.call(arguments,1),l=a?"x":"y";return this.axis.variwide&&"number"==typeof this[l+"Orig"]&&(n[a?0:1]=this[l+"Orig"]),n=t.apply(this,n),this.axis.variwide&&this.axis.categories&&this.postTranslate(n,l,h),n})}),s(t,"masters/modules/variwide.src.js",[],function(){})});