!function(_,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("preact")):"function"==typeof define&&define.amd?define(["exports","preact"],n):n(_.preactHooks={},_.preact)}(this,function(_,o){var e,u,t,i=0,r=[],c=o.options.__r,f=o.options.diffed,n=o.options.__c,s=o.options.unmount;function a(_,n){o.options.__h&&o.options.__h(u,_,i||n),i=0;var t=u.__H||(u.__H={__:[],__h:[]});return _>=t.__.length&&t.__.push({}),t.__[_]}function p(_){return i=1,h(E,_)}function h(_,n,t){var o=a(e++,2);return o.t=_,o.__c||(o.__c=u,o.__=[t?t(n):E(void 0,n),function(_){var n=o.t(o.__[0],_);o.__[0]!==n&&(o.__[0]=n,o.__c.setState({}))}]),o.__}function m(_,n){var t=a(e++,4);!o.options.__s&&y(t.__H,n)&&(t.__=_,t.__H=n,u.__h.push(t))}function d(_,n){var t=a(e++,7);return y(t.__H,n)?(t.__H=n,t.__h=_,t.__=_()):t.__}function v(){r.some(function(n){if(n.__P)try{n.__H.__h.forEach(H),n.__H.__h.forEach(l),n.__H.__h=[]}catch(_){return n.__H.__h=[],o.options.__e(_,n.__v),!0}}),r=[]}function H(_){"function"==typeof _.u&&_.u()}function l(_){_.u=_.__()}function y(t,_){return!t||_.some(function(_,n){return _!==t[n]})}function E(_,n){return"function"==typeof n?n(_):n}o.options.__r=function(_){c&&c(_),e=0;var n=(u=_.__c).__H;n&&(n.__h.forEach(H),n.__h.forEach(l),n.__h=[])},o.options.diffed=function(_){f&&f(_);var n=_.__c;n&&n.__H&&n.__H.__h.length&&(1!==r.push(n)&&t===o.options.requestAnimationFrame||((t=o.options.requestAnimationFrame)||function(_){function n(){clearTimeout(o),cancelAnimationFrame(t),setTimeout(_)}var t,o=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(v))},o.options.__c=function(_,t){t.some(function(n){try{n.__h.forEach(H),n.__h=n.__h.filter(function(_){return!_.__||l(_)})}catch(_){t.some(function(_){_.__h&&(_.__h=[])}),t=[],o.options.__e(_,n.__v)}}),n&&n(_,t)},o.options.unmount=function(_){s&&s(_);var n=_.__c;if(n&&n.__H)try{n.__H.__.forEach(function(_){return _.u&&_.u()})}catch(_){o.options.__e(_,n.__v)}},_.useState=p,_.useReducer=h,_.useEffect=function(_,n){var t=a(e++,3);!o.options.__s&&y(t.__H,n)&&(t.__=_,t.__H=n,u.__H.__h.push(t))},_.useLayoutEffect=m,_.useRef=function(_){return i=5,d(function(){return{current:_}},[])},_.useImperativeHandle=function(_,n,t){i=6,m(function(){"function"==typeof _?_(n()):_&&(_.current=n())},null==t?t:t.concat(_))},_.useMemo=d,_.useCallback=function(_,n){return i=8,d(function(){return _},n)},_.useContext=function(_){var n=u.context[_.__c],t=a(e++,9);return t.__c=_,n?(null==t.__&&(t.__=!0,n.sub(u)),n.props.value):_.__},_.useDebugValue=function(_,n){o.options.useDebugValue&&o.options.useDebugValue(n?n(_):_)},_.useErrorBoundary=function(_){var n=a(e++,10),t=p();return n.__=_,u.componentDidCatch||(u.componentDidCatch=function(_){n.__&&n.__(_),t[1](_)}),[t[0],function(){t[1](void 0)}]}});