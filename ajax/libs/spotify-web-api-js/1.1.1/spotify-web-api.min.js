"use strict";var SpotifyWebApi=function(){function i(t,e){return t.abort=e,t}function s(){var t=Array.prototype.slice.call(arguments),r=t[0],e=t.slice(1),r=r||{};return e.forEach(function(t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])}),r}function p(n,a){function t(r,o){var t,e=n.type||"GET";p.open(e,function(t,e){var r,o="";for(var n in e){e.hasOwnProperty(n)&&(r=e[n],o+=encodeURIComponent(n)+"="+encodeURIComponent(r)+"&")}return 0<o.length&&(t=t+"?"+(o=o.substring(0,o.length-1))),t}(n.url,n.params)),l&&p.setRequestHeader("Authorization","Bearer "+l),n.contentType&&p.setRequestHeader("Content-Type",n.contentType),p.onreadystatechange=function(){if(4===p.readyState){var t=null;try{t=p.responseText?JSON.parse(p.responseText):""}catch(t){console.error(t)}200<=p.status&&p.status<300?(e=t,r&&r(e),a&&a(null,e)):(o&&o(p),a&&a(p,null))}var e},"GET"===e?p.send(null):(t=null,n.postData&&(t="image/jpeg"===n.contentType?n.postData:JSON.stringify(n.postData)),p.send(t))}var e,r,o,s,p=new XMLHttpRequest;return a?(t(),null):(e=t,r=function(){p.abort()},null!==c?(s=c.defer(),e(function(t){s.resolve(t)},function(t){s.reject(t)}),o=s.promise):window.Promise&&(o=new window.Promise(e)),o?new i(o,r):null)}function a(t,e,r,o){var n={},a=null;return"object"==typeof e?(n=e,a=r):"function"==typeof e&&(a=e),"GET"!==(t.type||"GET")&&t.postData&&!o?t.postData=s(t.postData,n):t.params=s(t.params,n),p(t,a)}function t(){}var u="https://api.spotify.com/v1",l=null,c=null;return(t.prototype={constructor:SpotifyWebApi}).getGeneric=function(t,e){return a({url:t},e)},t.prototype.getMe=function(t,e){return a({url:u+"/me"},t,e)},t.prototype.getMySavedTracks=function(t,e){return a({url:u+"/me/tracks"},t,e)},t.prototype.addToMySavedTracks=function(t,e,r){return a({url:u+"/me/tracks",type:"PUT",postData:t},e,r)},t.prototype.removeFromMySavedTracks=function(t,e,r){return a({url:u+"/me/tracks",type:"DELETE",postData:t},e,r)},t.prototype.containsMySavedTracks=function(t,e,r){var o={url:u+"/me/tracks/contains",params:{ids:t.join(",")}};return a(o,e,r)},t.prototype.getMySavedAlbums=function(t,e){return a({url:u+"/me/albums"},t,e)},t.prototype.addToMySavedAlbums=function(t,e,r){return a({url:u+"/me/albums",type:"PUT",postData:t},e,r)},t.prototype.removeFromMySavedAlbums=function(t,e,r){return a({url:u+"/me/albums",type:"DELETE",postData:t},e,r)},t.prototype.containsMySavedAlbums=function(t,e,r){var o={url:u+"/me/albums/contains",params:{ids:t.join(",")}};return a(o,e,r)},t.prototype.getMyTopArtists=function(t,e){return a({url:u+"/me/top/artists"},t,e)},t.prototype.getMyTopTracks=function(t,e){return a({url:u+"/me/top/tracks"},t,e)},t.prototype.getMyRecentlyPlayedTracks=function(t,e){return a({url:u+"/me/player/recently-played"},t,e)},t.prototype.followUsers=function(t,e){var r={url:u+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"user"}};return a(r,e)},t.prototype.followArtists=function(t,e){var r={url:u+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"artist"}};return a(r,e)},t.prototype.followPlaylist=function(t,e,r){return a({url:u+"/playlists/"+t+"/followers",type:"PUT",postData:{}},e,r)},t.prototype.unfollowUsers=function(t,e){var r={url:u+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"user"}};return a(r,e)},t.prototype.unfollowArtists=function(t,e){var r={url:u+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"artist"}};return a(r,e)},t.prototype.unfollowPlaylist=function(t,e){return a({url:u+"/playlists/"+t+"/followers",type:"DELETE"},e)},t.prototype.isFollowingUsers=function(t,e){var r={url:u+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"user"}};return a(r,e)},t.prototype.isFollowingArtists=function(t,e){var r={url:u+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"artist"}};return a(r,e)},t.prototype.areFollowingPlaylist=function(t,e,r){var o={url:u+"/playlists/"+t+"/followers/contains",type:"GET",params:{ids:e.join(",")}};return a(o,r)},t.prototype.getFollowedArtists=function(t,e){return a({url:u+"/me/following",type:"GET",params:{type:"artist"}},t,e)},t.prototype.getUser=function(t,e,r){var o={url:u+"/users/"+encodeURIComponent(t)};return a(o,e,r)},t.prototype.getUserPlaylists=function(t,e,r){var o;return"string"==typeof t?o={url:u+"/users/"+encodeURIComponent(t)+"/playlists"}:(o={url:u+"/me/playlists"},r=e,e=t),a(o,e,r)},t.prototype.getPlaylist=function(t,e,r){return a({url:u+"/playlists/"+t},e,r)},t.prototype.getPlaylistTracks=function(t,e,r){return a({url:u+"/playlists/"+t+"/tracks"},e,r)},t.prototype.createPlaylist=function(t,e){return a({url:u+"/me/playlists",type:"POST",postData:t},t,e)},t.prototype.changePlaylistDetails=function(t,e,r){return a({url:u+"/playlists/"+t,type:"PUT",postData:e},e,r)},t.prototype.addTracksToPlaylist=function(t,e,r,o){return a({url:u+"/playlists/"+t+"/tracks",type:"POST",postData:{uris:e}},r,o,!0)},t.prototype.replaceTracksInPlaylist=function(t,e,r){return a({url:u+"/playlists/"+t+"/tracks",type:"PUT",postData:{uris:e}},{},r)},t.prototype.reorderTracksInPlaylist=function(t,e,r,o,n){return a({url:u+"/playlists/"+t+"/tracks",type:"PUT",postData:{range_start:e,insert_before:r}},o,n)},t.prototype.removeTracksFromPlaylist=function(t,e,r){var o=e.map(function(t){return"string"==typeof t?{uri:t}:t});return a({url:u+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:o}},{},r)},t.prototype.removeTracksFromPlaylistWithSnapshotId=function(t,e,r,o){var n=e.map(function(t){return"string"==typeof t?{uri:t}:t});return a({url:u+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:n,snapshot_id:r}},{},o)},t.prototype.removeTracksFromPlaylistInPositions=function(t,e,r,o){return a({url:u+"/playlists/"+t+"/tracks",type:"DELETE",postData:{positions:e,snapshot_id:r}},{},o)},t.prototype.uploadCustomPlaylistCoverImage=function(t,e,r){var o={url:u+"/playlists/"+t+"/images",type:"PUT",postData:e.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return a(o,{},r)},t.prototype.getAlbum=function(t,e,r){return a({url:u+"/albums/"+t},e,r)},t.prototype.getAlbumTracks=function(t,e,r){return a({url:u+"/albums/"+t+"/tracks"},e,r)},t.prototype.getAlbums=function(t,e,r){var o={url:u+"/albums/",params:{ids:t.join(",")}};return a(o,e,r)},t.prototype.getTrack=function(t,e,r){var o={};return o.url=u+"/tracks/"+t,a(o,e,r)},t.prototype.getTracks=function(t,e,r){var o={url:u+"/tracks/",params:{ids:t.join(",")}};return a(o,e,r)},t.prototype.getArtist=function(t,e,r){return a({url:u+"/artists/"+t},e,r)},t.prototype.getArtists=function(t,e,r){var o={url:u+"/artists/",params:{ids:t.join(",")}};return a(o,e,r)},t.prototype.getArtistAlbums=function(t,e,r){return a({url:u+"/artists/"+t+"/albums"},e,r)},t.prototype.getArtistTopTracks=function(t,e,r,o){return a({url:u+"/artists/"+t+"/top-tracks",params:{country:e}},r,o)},t.prototype.getArtistRelatedArtists=function(t,e,r){return a({url:u+"/artists/"+t+"/related-artists"},e,r)},t.prototype.getFeaturedPlaylists=function(t,e){return a({url:u+"/browse/featured-playlists"},t,e)},t.prototype.getNewReleases=function(t,e){return a({url:u+"/browse/new-releases"},t,e)},t.prototype.getCategories=function(t,e){return a({url:u+"/browse/categories"},t,e)},t.prototype.getCategory=function(t,e,r){return a({url:u+"/browse/categories/"+t},e,r)},t.prototype.getCategoryPlaylists=function(t,e,r){return a({url:u+"/browse/categories/"+t+"/playlists"},e,r)},t.prototype.search=function(t,e,r,o){var n={url:u+"/search/",params:{q:t,type:e.join(",")}};return a(n,r,o)},t.prototype.searchAlbums=function(t,e,r){return this.search(t,["album"],e,r)},t.prototype.searchArtists=function(t,e,r){return this.search(t,["artist"],e,r)},t.prototype.searchTracks=function(t,e,r){return this.search(t,["track"],e,r)},t.prototype.searchPlaylists=function(t,e,r){return this.search(t,["playlist"],e,r)},t.prototype.getAudioFeaturesForTrack=function(t,e){var r={};return r.url=u+"/audio-features/"+t,a(r,{},e)},t.prototype.getAudioFeaturesForTracks=function(t,e){return a({url:u+"/audio-features",params:{ids:t}},{},e)},t.prototype.getAudioAnalysisForTrack=function(t,e){var r={};return r.url=u+"/audio-analysis/"+t,a(r,{},e)},t.prototype.getRecommendations=function(t,e){return a({url:u+"/recommendations"},t,e)},t.prototype.getAvailableGenreSeeds=function(t){return a({url:u+"/recommendations/available-genre-seeds"},{},t)},t.prototype.getMyDevices=function(t){return a({url:u+"/me/player/devices"},{},t)},t.prototype.getMyCurrentPlaybackState=function(t,e){return a({url:u+"/me/player"},t,e)},t.prototype.getMyCurrentPlayingTrack=function(t,e){return a({url:u+"/me/player/currently-playing"},t,e)},t.prototype.transferMyPlayback=function(t,e,r){var o=e||{};return o.device_ids=t,a({type:"PUT",url:u+"/me/player",postData:o},e,r)},t.prototype.play=function(e,t){var r="device_id"in(e=e||{})?{device_id:e.device_id}:null,o={};return["context_uri","uris","offset","position_ms"].forEach(function(t){t in e&&(o[t]=e[t])}),a({type:"PUT",url:u+"/me/player/play",params:r,postData:o},"function"==typeof e?e:{},t)},t.prototype.pause=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return a({type:"PUT",url:u+"/me/player/pause",params:r},t,e)},t.prototype.skipToNext=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return a({type:"POST",url:u+"/me/player/next",params:r},t,e)},t.prototype.skipToPrevious=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return a({type:"POST",url:u+"/me/player/previous",params:r},t,e)},t.prototype.seek=function(t,e,r){var o={position_ms:t};return"device_id"in e&&(o.device_id=e.device_id),a({type:"PUT",url:u+"/me/player/seek",params:o},e,r)},t.prototype.setRepeat=function(t,e,r){var o={state:t};return"device_id"in e&&(o.device_id=e.device_id),a({type:"PUT",url:u+"/me/player/repeat",params:o},e,r)},t.prototype.setVolume=function(t,e,r){var o={volume_percent:t};return"device_id"in e&&(o.device_id=e.device_id),a({type:"PUT",url:u+"/me/player/volume",params:o},e,r)},t.prototype.setShuffle=function(t,e,r){var o={state:t};return"device_id"in e&&(o.device_id=e.device_id),a({type:"PUT",url:u+"/me/player/shuffle",params:o},e,r)},t.prototype.getAccessToken=function(){return l},t.prototype.setAccessToken=function(t){l=t},t.prototype.setPromiseImplementation=function(t){var e=!1;try{var r=new t(function(t){t()});"function"==typeof r.then&&"function"==typeof r.catch&&(e=!0)}catch(t){console.error(t)}if(!e)throw new Error("Unsupported implementation of Promises/A+");c=t},t}();"object"==typeof module&&"object"==typeof module.exports&&(module.exports=SpotifyWebApi);