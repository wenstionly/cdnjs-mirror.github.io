{"version":3,"sources":["webpack://G2Plot/webpack/universalModuleDefinition","webpack://G2Plot/webpack/bootstrap","webpack://G2Plot/../src/is-array-like.ts","webpack://G2Plot/../src/contains.ts","webpack://G2Plot/../src/filter.ts","webpack://G2Plot/../src/difference.ts","webpack://G2Plot/../src/is-type.ts","webpack://G2Plot/../src/is-function.ts","webpack://G2Plot/../src/is-nil.ts","webpack://G2Plot/../src/is-array.ts","webpack://G2Plot/../src/is-object.ts","webpack://G2Plot/../src/each.ts","webpack://G2Plot/../src/keys.ts","webpack://G2Plot/../src/is-match.ts","webpack://G2Plot/../src/is-object-like.ts","webpack://G2Plot/../src/is-plain-object.ts","webpack://G2Plot/../src/find.ts","webpack://G2Plot/../src/find-index.ts","webpack://G2Plot/../src/first-value.ts","webpack://G2Plot/../src/flatten.ts","webpack://G2Plot/../src/flatten-deep.ts","webpack://G2Plot/../src/get-range.ts","webpack://G2Plot/../src/pull.ts","webpack://G2Plot/../src/pull-at.ts","webpack://G2Plot/../src/reduce.ts","webpack://G2Plot/../src/remove.ts","webpack://G2Plot/../src/is-string.ts","webpack://G2Plot/../src/sort-by.ts","webpack://G2Plot/../src/uniq.ts","webpack://G2Plot/../src/union.ts","webpack://G2Plot/../src/values-of-key.ts","webpack://G2Plot/../src/head.ts","webpack://G2Plot/../src/last.ts","webpack://G2Plot/../src/starts-with.ts","webpack://G2Plot/../src/ends-with.ts","webpack://G2Plot/../src/every.ts","webpack://G2Plot/../src/some.ts","webpack://G2Plot/../src/group-by.ts","webpack://G2Plot/../src/group-to-map.ts","webpack://G2Plot/../src/group.ts","webpack://G2Plot/../src/get-wrap-behavior.ts","webpack://G2Plot/../src/wrap-behavior.ts","webpack://G2Plot/../src/number2color.ts","webpack://G2Plot/../src/parse-radius.ts","webpack://G2Plot/../src/clamp.ts","webpack://G2Plot/../src/fixed-base.ts","webpack://G2Plot/../src/is-number.ts","webpack://G2Plot/../src/is-decimal.ts","webpack://G2Plot/../src/is-even.ts","webpack://G2Plot/../src/is-integer.ts","webpack://G2Plot/../src/is-negative.ts","webpack://G2Plot/../src/is-number-equal.ts","webpack://G2Plot/../src/is-odd.ts","webpack://G2Plot/../src/is-positive.ts","webpack://G2Plot/../src/max-by.ts","webpack://G2Plot/../src/min-by.ts","webpack://G2Plot/../src/mod.ts","webpack://G2Plot/../src/to-degree.ts","webpack://G2Plot/../src/to-integer.ts","webpack://G2Plot/../src/to-radian.ts","webpack://G2Plot/../src/for-in.ts","webpack://G2Plot/../src/has.ts","webpack://G2Plot/../src/has-key.ts","webpack://G2Plot/../src/values.ts","webpack://G2Plot/../src/has-value.ts","webpack://G2Plot/../src/to-string.ts","webpack://G2Plot/../src/lower-case.ts","webpack://G2Plot/../src/lower-first.ts","webpack://G2Plot/../src/substitute.ts","webpack://G2Plot/../src/upper-case.ts","webpack://G2Plot/../src/upper-first.ts","webpack://G2Plot/../src/get-type.ts","webpack://G2Plot/../src/is-arguments.ts","webpack://G2Plot/../src/is-boolean.ts","webpack://G2Plot/../src/is-date.ts","webpack://G2Plot/../src/is-error.ts","webpack://G2Plot/../src/is-finite.ts","webpack://G2Plot/../src/is-null.ts","webpack://G2Plot/../src/is-prototype.ts","webpack://G2Plot/../src/is-reg-exp.ts","webpack://G2Plot/../src/is-undefined.ts","webpack://G2Plot/../src/is-element.ts","webpack://G2Plot/../src/request-animation-frame.ts","webpack://G2Plot/../src/clear-animation-frame.ts","webpack://G2Plot/../src/mix.ts","webpack://G2Plot/../src/augment.ts","webpack://G2Plot/../src/clone.ts","webpack://G2Plot/../src/debounce.ts","webpack://G2Plot/../src/memoize.ts","webpack://G2Plot/../src/deep-mix.ts","webpack://G2Plot/../src/extend.ts","webpack://G2Plot/../src/index-of.ts","webpack://G2Plot/../src/is-empty.ts","webpack://G2Plot/../src/is-equal.ts","webpack://G2Plot/../src/is-equal-with.ts","webpack://G2Plot/../src/map.ts","webpack://G2Plot/../src/map-values.ts","webpack://G2Plot/../src/get.ts","webpack://G2Plot/../src/set.ts","webpack://G2Plot/../src/pick.ts","webpack://G2Plot/../src/throttle.ts","webpack://G2Plot/../src/to-array.ts","webpack://G2Plot/../src/unique-id.ts","webpack://G2Plot/../src/noop.ts","webpack://G2Plot/../src/identity.ts","webpack://G2Plot/../src/size.ts","webpack://G2Plot/../src/cache.ts","webpack://G2Plot/./node_modules/tslib/tslib.es6.js","webpack://G2Plot/./node_modules/@antv/g2/node_modules/tslib/tslib.es6.js","webpack://G2Plot/../src/ext.ts","webpack://G2Plot/./src/base/plot.ts","webpack://G2Plot/./src/base/global.ts","webpack://G2Plot/../src/add-event-listener.ts","webpack://G2Plot/../src/create-dom.ts","webpack://G2Plot/../src/get-style.ts","webpack://G2Plot/../src/get-height.ts","webpack://G2Plot/../src/get-outer-height.ts","webpack://G2Plot/../src/get-width.ts","webpack://G2Plot/../src/get-outer-width.ts","webpack://G2Plot/../src/get-ratio.ts","webpack://G2Plot/../src/modify-css.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/common.js","webpack://G2Plot/./src/dependents.ts","webpack://G2Plot/../../src/util/path.ts","webpack://G2Plot/../../src/event/graph-event.ts","webpack://G2Plot/../../src/util/util.ts","webpack://G2Plot/../../src/abstract/base.ts","webpack://G2Plot/../../src/util/matrix.ts","webpack://G2Plot/../../src/abstract/element.ts","webpack://G2Plot/../../src/abstract/container.ts","webpack://G2Plot/./node_modules/d3-timer/src/timer.js","webpack://G2Plot/./node_modules/d3-ease/src/linear.js","webpack://G2Plot/./node_modules/d3-ease/src/quad.js","webpack://G2Plot/./node_modules/d3-ease/src/cubic.js","webpack://G2Plot/./node_modules/d3-ease/src/poly.js","webpack://G2Plot/./node_modules/d3-ease/src/sin.js","webpack://G2Plot/./node_modules/d3-ease/src/exp.js","webpack://G2Plot/./node_modules/d3-ease/src/circle.js","webpack://G2Plot/./node_modules/d3-ease/src/bounce.js","webpack://G2Plot/./node_modules/d3-ease/src/back.js","webpack://G2Plot/./node_modules/d3-ease/src/elastic.js","webpack://G2Plot/./node_modules/d3-color/src/define.js","webpack://G2Plot/./node_modules/d3-color/src/color.js","webpack://G2Plot/./node_modules/d3-interpolate/src/basis.js","webpack://G2Plot/./node_modules/d3-interpolate/src/constant.js","webpack://G2Plot/./node_modules/d3-interpolate/src/color.js","webpack://G2Plot/./node_modules/d3-interpolate/src/rgb.js","webpack://G2Plot/./node_modules/d3-interpolate/src/basisClosed.js","webpack://G2Plot/./node_modules/d3-interpolate/src/numberArray.js","webpack://G2Plot/./node_modules/d3-interpolate/src/array.js","webpack://G2Plot/./node_modules/d3-interpolate/src/date.js","webpack://G2Plot/./node_modules/d3-interpolate/src/number.js","webpack://G2Plot/./node_modules/d3-interpolate/src/object.js","webpack://G2Plot/./node_modules/d3-interpolate/src/string.js","webpack://G2Plot/./node_modules/d3-interpolate/src/value.js","webpack://G2Plot/../../src/animate/timeline.ts","webpack://G2Plot/../../src/util/color.ts","webpack://G2Plot/../../src/event/event-contoller.ts","webpack://G2Plot/../../src/abstract/canvas.ts","webpack://G2Plot/../../src/abstract/group.ts","webpack://G2Plot/../../src/abstract/shape.ts","webpack://G2Plot/../src/index.ts","webpack://G2Plot/./src/theme/index.ts","webpack://G2Plot/./src/util/event.ts","webpack://G2Plot/./src/util/bbox.ts","webpack://G2Plot/./src/base/view-layer.ts","webpack://G2Plot/./src/geoms/factory.ts","webpack://G2Plot/../../src/abstract/component.ts","webpack://G2Plot/../../src/abstract/group-component.ts","webpack://G2Plot/../../src/util/event.ts","webpack://G2Plot/../../src/util/theme.ts","webpack://G2Plot/../../src/annotation/line.ts","webpack://G2Plot/../../src/annotation/text.ts","webpack://G2Plot/../../src/annotation/arc.ts","webpack://G2Plot/../../src/annotation/region.ts","webpack://G2Plot/../../src/annotation/image.ts","webpack://G2Plot/../../src/annotation/data-marker.ts","webpack://G2Plot/../../src/annotation/data-region.ts","webpack://G2Plot/../../src/annotation/region-filter.ts","webpack://G2Plot/../../src/util/state.ts","webpack://G2Plot/../../src/axis/base.ts","webpack://G2Plot/../../../src/axis/overlap/auto-ellipsis.ts","webpack://G2Plot/../../src/util/label.ts","webpack://G2Plot/../../../src/axis/overlap/auto-hide.ts","webpack://G2Plot/../../../src/axis/overlap/auto-rotate.ts","webpack://G2Plot/../../src/axis/line.ts","webpack://G2Plot/../../src/axis/circle.ts","webpack://G2Plot/../../src/crosshair/base.ts","webpack://G2Plot/../../src/crosshair/line.ts","webpack://G2Plot/../../src/crosshair/circle.ts","webpack://G2Plot/../../src/abstract/html-component.ts","webpack://G2Plot/../../src/crosshair/html-theme.ts","webpack://G2Plot/../../src/crosshair/css-const.ts","webpack://G2Plot/../../src/crosshair/html.ts","webpack://G2Plot/../../src/grid/base.ts","webpack://G2Plot/../../src/grid/circle.ts","webpack://G2Plot/../../src/grid/line.ts","webpack://G2Plot/../../src/legend/base.ts","webpack://G2Plot/../../src/legend/category.ts","webpack://G2Plot/../../src/legend/continuous.ts","webpack://G2Plot/../../src/tooltip/css-const.ts","webpack://G2Plot/../../src/tooltip/html-theme.ts","webpack://G2Plot/../../src/tooltip/html.ts","webpack://G2Plot/../../src/util/align.ts","webpack://G2Plot/../../src/trend/constant.ts","webpack://G2Plot/../../src/trend/path.ts","webpack://G2Plot/../../src/trend/trend.ts","webpack://G2Plot/../../src/slider/constant.ts","webpack://G2Plot/../../src/slider/handler.ts","webpack://G2Plot/../../src/slider/slider.ts","webpack://G2Plot/../../src/scrollbar/scrollbar.ts","webpack://G2Plot/../src/line.ts","webpack://G2Plot/./src/components/label/base.ts","webpack://G2Plot/../../src/tick-method/register.ts","webpack://G2Plot/../src/base.ts","webpack://G2Plot/../../src/category/base.ts","webpack://G2Plot/../../src/util/time.ts","webpack://G2Plot/../../src/util/bisector.ts","webpack://G2Plot/../../src/category/time.ts","webpack://G2Plot/../../src/continuous/base.ts","webpack://G2Plot/../../src/continuous/linear.ts","webpack://G2Plot/../../src/util/math.ts","webpack://G2Plot/../../src/continuous/log.ts","webpack://G2Plot/../../src/continuous/pow.ts","webpack://G2Plot/../../src/continuous/time.ts","webpack://G2Plot/../../src/continuous/quantize.ts","webpack://G2Plot/../../src/continuous/quantile.ts","webpack://G2Plot/../src/factory.ts","webpack://G2Plot/../../src/identity/index.ts","webpack://G2Plot/../../src/util/extended.ts","webpack://G2Plot/../../src/tick-method/cat.ts","webpack://G2Plot/../../src/util/d3-linear.ts","webpack://G2Plot/../../src/util/interval.ts","webpack://G2Plot/../../src/util/strict-limit.ts","webpack://G2Plot/../../src/util/pretty.ts","webpack://G2Plot/../../src/tick-method/quantile.ts","webpack://G2Plot/../../src/tick-method/time-pretty.ts","webpack://G2Plot/../../src/tick-method/index.ts","webpack://G2Plot/../../src/tick-method/time-cat.ts","webpack://G2Plot/../../src/tick-method/linear.ts","webpack://G2Plot/../../src/tick-method/r-prettry.ts","webpack://G2Plot/../../src/tick-method/time.ts","webpack://G2Plot/../../src/tick-method/log.ts","webpack://G2Plot/../../src/tick-method/pow.ts","webpack://G2Plot/../../src/tick-method/d3-linear.ts","webpack://G2Plot/./src/util/math.ts","webpack://G2Plot/./src/components/factory.ts","webpack://G2Plot/./src/util/scale.ts","webpack://G2Plot/./src/util/view.ts","webpack://G2Plot/./src/util/color.ts","webpack://G2Plot/../src/util.ts","webpack://G2Plot/./node_modules/warning/warning.js","webpack://G2Plot/../src/constant.ts","webpack://G2Plot/../../src/engine/index.ts","webpack://G2Plot/../../src/util/dom.ts","webpack://G2Plot/../../src/attributes/base.ts","webpack://G2Plot/../../src/attributes/color.ts","webpack://G2Plot/../../src/attributes/opacity.ts","webpack://G2Plot/../../src/attributes/position.ts","webpack://G2Plot/../../src/attributes/shape.ts","webpack://G2Plot/../../src/attributes/size.ts","webpack://G2Plot/../src/dependents.ts","webpack://G2Plot/../../src/util/scale.ts","webpack://G2Plot/../../src/util/axis.ts","webpack://G2Plot/../../src/facet/facet.ts","webpack://G2Plot/../../src/facet/index.ts","webpack://G2Plot/../../../src/interaction/action/base.ts","webpack://G2Plot/../../../src/interaction/action/callback.ts","webpack://G2Plot/../../../src/interaction/action/register.ts","webpack://G2Plot/../../src/util/graphics.ts","webpack://G2Plot/../../src/util/helper.ts","webpack://G2Plot/../../src/util/coordinate.ts","webpack://G2Plot/../../../../src/geometry/shape/util/path.ts","webpack://G2Plot/../../src/util/padding.ts","webpack://G2Plot/../../src/util/bbox.ts","webpack://G2Plot/../../../src/interaction/action/util.ts","webpack://G2Plot/../../src/interaction/context.ts","webpack://G2Plot/../../src/interaction/interaction.ts","webpack://G2Plot/../../src/interaction/grammar-interaction.ts","webpack://G2Plot/../../src/interaction/index.ts","webpack://G2Plot/../../../src/theme/style-sheet/light.ts","webpack://G2Plot/../../src/theme/index.ts","webpack://G2Plot/../../src/util/tooltip.ts","webpack://G2Plot/../../../src/chart/controller/index.ts","webpack://G2Plot/../../../src/chart/controller/coordinate.ts","webpack://G2Plot/../../src/chart/event.ts","webpack://G2Plot/../../../src/chart/layout/padding-cal.ts","webpack://G2Plot/../../../src/chart/layout/auto.ts","webpack://G2Plot/../../../src/chart/layout/index.ts","webpack://G2Plot/../../../src/chart/util/scale-pool.ts","webpack://G2Plot/../../src/chart/view.ts","webpack://G2Plot/../../src/chart/chart.ts","webpack://G2Plot/../../../src/chart/controller/base.ts","webpack://G2Plot/../../src/adjusts/adjust.ts","webpack://G2Plot/../../src/adjusts/dodge.ts","webpack://G2Plot/../../src/adjusts/jitter.ts","webpack://G2Plot/../../src/adjusts/stack.ts","webpack://G2Plot/../../src/adjusts/symmetric.ts","webpack://G2Plot/../../../src/animate/animation/index.ts","webpack://G2Plot/../../src/animate/index.ts","webpack://G2Plot/../../../src/geometry/element/index.ts","webpack://G2Plot/../../../src/geometry/label/index.ts","webpack://G2Plot/../../../src/geometry/shape/base.ts","webpack://G2Plot/../../../src/geometry/util/is-model-change.ts","webpack://G2Plot/../../../src/geometry/util/parse-fields.ts","webpack://G2Plot/../../src/geometry/base.ts","webpack://G2Plot/../../../src/geometry/util/group-data.ts","webpack://G2Plot/../../src/util/transform.ts","webpack://G2Plot/../../src/component/labels.ts","webpack://G2Plot/../../../src/geometry/label/base.ts","webpack://G2Plot/../src/core.ts","webpack://G2Plot/../../../src/theme/style-sheet/dark.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-path-points.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-style.ts","webpack://G2Plot/../../../../src/geometry/shape/util/split-points.ts","webpack://G2Plot/../../../../src/geometry/shape/line/util.ts","webpack://G2Plot/../../../../src/geometry/shape/line/index.ts","webpack://G2Plot/../../src/geometry/path.ts","webpack://G2Plot/../../../../src/geometry/shape/area/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/index.ts","webpack://G2Plot/../../src/geometry/area.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/index.ts","webpack://G2Plot/../../src/geometry/edge.ts","webpack://G2Plot/../../src/geometry/heatmap.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/util.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/index.ts","webpack://G2Plot/../../../src/geometry/util/shape-size.ts","webpack://G2Plot/../../src/geometry/interval.ts","webpack://G2Plot/../../src/geometry/line.ts","webpack://G2Plot/../../src/util/marker.ts","webpack://G2Plot/../../../../src/geometry/shape/point/util.ts","webpack://G2Plot/../../../../src/geometry/shape/point/index.ts","webpack://G2Plot/../../src/geometry/point.ts","webpack://G2Plot/../../../../src/geometry/shape/polygon/index.ts","webpack://G2Plot/../../src/geometry/polygon.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/index.ts","webpack://G2Plot/../../src/geometry/schema.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/line.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth-line.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/arc.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/vhv.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/funnel.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/line.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/pyramid.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/tick.ts","webpack://G2Plot/../../../../src/geometry/shape/line/step.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/box.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/candle.ts","webpack://G2Plot/../../../../src/geometry/shape/point/hollow.ts","webpack://G2Plot/../../../../src/geometry/shape/point/image.ts","webpack://G2Plot/../../../../src/geometry/shape/point/solid.ts","webpack://G2Plot/../../../src/geometry/label/interval.ts","webpack://G2Plot/../../../src/geometry/label/polar.ts","webpack://G2Plot/../../../src/geometry/label/pie.ts","webpack://G2Plot/../../../../src/geometry/label/layout/overlap.ts","webpack://G2Plot/../../../src/animate/animation/util.ts","webpack://G2Plot/../../../src/animate/animation/sector-path-update.ts","webpack://G2Plot/../../../src/animate/animation/zoom.ts","webpack://G2Plot/../../src/util/facet.ts","webpack://G2Plot/../../src/facet/circle.ts","webpack://G2Plot/../../src/facet/list.ts","webpack://G2Plot/../../src/facet/matrix.ts","webpack://G2Plot/../../src/facet/mirror.ts","webpack://G2Plot/../../src/facet/rect.ts","webpack://G2Plot/../../src/facet/tree.ts","webpack://G2Plot/../../../src/chart/controller/annotation.ts","webpack://G2Plot/../../src/util/grid.ts","webpack://G2Plot/../../../src/chart/controller/axis.ts","webpack://G2Plot/../../src/util/direction.ts","webpack://G2Plot/../../src/util/attr.ts","webpack://G2Plot/../../src/util/legend.ts","webpack://G2Plot/../../../src/chart/controller/legend.ts","webpack://G2Plot/../../../src/chart/controller/slider.ts","webpack://G2Plot/../../../src/chart/controller/tooltip.ts","webpack://G2Plot/../../../src/interaction/action/active-region.ts","webpack://G2Plot/../../../../src/interaction/action/component/tooltip.ts","webpack://G2Plot/../../../../src/interaction/action/component/sibling-tooltp.ts","webpack://G2Plot/../../../../src/interaction/action/element/state-base.ts","webpack://G2Plot/../../../../src/interaction/action/element/state.ts","webpack://G2Plot/../../../../src/interaction/action/element/active.ts","webpack://G2Plot/../../../../src/interaction/action/element/link-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-state.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-active.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-unchecked.ts","webpack://G2Plot/../../../../src/interaction/action/mask/base.ts","webpack://G2Plot/../../../../src/interaction/action/mask/circle.ts","webpack://G2Plot/../../../../src/interaction/action/mask/rect.ts","webpack://G2Plot/../../../../src/interaction/action/mask/dim-rect.ts","webpack://G2Plot/../../../../src/interaction/action/mask/path.ts","webpack://G2Plot/../../../../src/interaction/action/mask/smooth-path.ts","webpack://G2Plot/../../../src/interaction/action/cursor.ts","webpack://G2Plot/../../../../src/interaction/action/data/filter.ts","webpack://G2Plot/../../../../src/interaction/action/data/range-filter.ts","webpack://G2Plot/../../../../src/interaction/action/data/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/view/button.ts","webpack://G2Plot/../../../../src/interaction/action/view/drag.ts","webpack://G2Plot/../../../../src/interaction/action/view/move.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-transform.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-translate.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-zoom.ts","webpack://G2Plot/../../../../src/geometry/label/layout/distribute.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://G2Plot/../../../src/animate/animation/fade.ts","webpack://G2Plot/../../../src/animate/animation/grow-in.ts","webpack://G2Plot/../../../src/animate/animation/scale-in.ts","webpack://G2Plot/../../../src/animate/animation/wave-in.ts","webpack://G2Plot/../../../src/animate/animation/position-update.ts","webpack://G2Plot/../../../src/animate/animation/path-in.ts","webpack://G2Plot/./node_modules/fecha/src/fecha.js","webpack://G2Plot/./src/util/common.ts","webpack://G2Plot/../src/cubic.ts","webpack://G2Plot/./src/interaction/base.ts","webpack://G2Plot/./src/util/responsive/rules/text-hide.ts","webpack://G2Plot/./src/plots/column/layer.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/mat3.js","webpack://G2Plot/./src/base/layer.ts","webpack://G2Plot/./src/geoms/base.ts","webpack://G2Plot/./src/plots/column/component/label.ts","webpack://G2Plot/./src/sparkline/tiny-layer.ts","webpack://G2Plot/../../src/coord/base.ts","webpack://G2Plot/../../src/coord/cartesian.ts","webpack://G2Plot/../../src/coord/helix.ts","webpack://G2Plot/../../src/coord/polar.ts","webpack://G2Plot/./src/components/base.ts","webpack://G2Plot/./src/base/controller/state.ts","webpack://G2Plot/./src/util/responsive/theme.ts","webpack://G2Plot/./src/plots/line/layer.ts","webpack://G2Plot/./src/util/responsive/apply/axis.ts","webpack://G2Plot/./src/util/g-util.ts","webpack://G2Plot/./src/plots/bar/layer.ts","webpack://G2Plot/./src/plots/stacked-column/layer.ts","webpack://G2Plot/./src/plots/pie/component/label/base-label.ts","webpack://G2Plot/./src/plots/calendar/constant.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/vec3.js","webpack://G2Plot/../../src/bbox/index.ts","webpack://G2Plot/../../src/util/text.ts","webpack://G2Plot/../src/path-2-absolute.ts","webpack://G2Plot/../src/polyline.ts","webpack://G2Plot/../src/catmull-rom-2-bezier.ts","webpack://G2Plot/../src/parse-path-string.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/vec2.js","webpack://G2Plot/../../src/bbox/util.ts","webpack://G2Plot/./src/interaction/core.ts","webpack://G2Plot/./src/base/controller/theme.ts","webpack://G2Plot/./src/util/path.ts","webpack://G2Plot/./src/geoms/line/main.ts","webpack://G2Plot/./src/components/label/point.ts","webpack://G2Plot/./src/plots/bar/theme.ts","webpack://G2Plot/./src/plots/bar/component/label.ts","webpack://G2Plot/./src/plots/stacked-bar/layer.ts","webpack://G2Plot/./src/util/data.ts","webpack://G2Plot/./src/plots/area/layer.ts","webpack://G2Plot/./src/plots/stacked-area/layer.ts","webpack://G2Plot/./src/plots/column/theme.ts","webpack://G2Plot/./src/plots/grouped-column/layer.ts","webpack://G2Plot/./src/plots/pie/component/label/utils/index.ts","webpack://G2Plot/./src/plots/rose/layer.ts","webpack://G2Plot/./src/plots/waterfall/layer.ts","webpack://G2Plot/./src/util/date.ts","webpack://G2Plot/./src/plots/gauge/layer.ts","webpack://G2Plot/./src/combo/column-line/layer.ts","webpack://G2Plot/../../src/util/offscreen.ts","webpack://G2Plot/../src/quadratic.ts","webpack://G2Plot/../src/path-2-segments.ts","webpack://G2Plot/../../src/util/parse.ts","webpack://G2Plot/../../src/util/arc-params.ts","webpack://G2Plot/../../src/util/arrow.ts","webpack://G2Plot/../../src/util/draw.ts","webpack://G2Plot/../../src/shape/base.ts","webpack://G2Plot/../../src/shape/circle.ts","webpack://G2Plot/../../src/shape/ellipse.ts","webpack://G2Plot/../../src/shape/image.ts","webpack://G2Plot/../../../src/util/in-stroke/line.ts","webpack://G2Plot/../../src/shape/line.ts","webpack://G2Plot/../../src/shape/marker.ts","webpack://G2Plot/../../../src/util/in-path/point-in-path.ts","webpack://G2Plot/../../../src/util/in-path/polygon.ts","webpack://G2Plot/../../../src/util/in-stroke/arc.ts","webpack://G2Plot/../../src/shape/path.ts","webpack://G2Plot/../../../src/util/in-stroke/polyline.ts","webpack://G2Plot/../../src/shape/polygon.ts","webpack://G2Plot/../../src/shape/polyline.ts","webpack://G2Plot/../../src/shape/rect.ts","webpack://G2Plot/../../../src/util/in-stroke/rect-radius.ts","webpack://G2Plot/../../../src/util/in-stroke/rect.ts","webpack://G2Plot/../../src/shape/text.ts","webpack://G2Plot/../../src/util/hit.ts","webpack://G2Plot/../src/canvas.ts","webpack://G2Plot/../../src/util/svg.ts","webpack://G2Plot/../../src/shape/dom.ts","webpack://G2Plot/../../../src/shape/marker/symbols.ts","webpack://G2Plot/../../../src/shape/marker/index.ts","webpack://G2Plot/../../src/util/format.ts","webpack://G2Plot/../../src/defs/gradient.ts","webpack://G2Plot/../../src/defs/shadow.ts","webpack://G2Plot/../../src/defs/arrow.ts","webpack://G2Plot/../../src/defs/clip.ts","webpack://G2Plot/../../src/defs/pattern.ts","webpack://G2Plot/../../src/defs/index.ts","webpack://G2Plot/./src/interface/config.ts","webpack://G2Plot/./node_modules/process/browser.js","webpack://G2Plot/../src/bezier.ts","webpack://G2Plot/../src/get-arc-params.ts","webpack://G2Plot/./src/components/description.ts","webpack://G2Plot/./src/util/formatter.ts","webpack://G2Plot/./src/util/state-manager.ts","webpack://G2Plot/./src/interaction/helper/data-range.ts","webpack://G2Plot/./src/theme/global.ts","webpack://G2Plot/./src/theme/default.ts","webpack://G2Plot/./src/geoms/area/main.ts","webpack://G2Plot/./src/geoms/line/mini.ts","webpack://G2Plot/./src/util/responsive/node/shape-nodes.ts","webpack://G2Plot/./src/util/responsive/responsive.ts","webpack://G2Plot/./src/util/responsive/constraints/index.ts","webpack://G2Plot/./src/util/responsive/rules/index.ts","webpack://G2Plot/./src/util/responsive/rules/clear-overlapping.ts","webpack://G2Plot/./src/util/responsive/rules/datetime-string-abbrevaite.ts","webpack://G2Plot/./src/util/responsive/rules/digits-abbreviate.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling.ts","webpack://G2Plot/./src/util/responsive/rules/text-abbreviate.ts","webpack://G2Plot/./src/util/responsive/apply/base.ts","webpack://G2Plot/./src/util/responsive/apply/label.ts","webpack://G2Plot/./src/components/label/point-auto.ts","webpack://G2Plot/./src/plots/line/component/label/line-label.ts","webpack://G2Plot/./src/components/conversion-tag.ts","webpack://G2Plot/./src/plots/bar/component/label-auto.ts","webpack://G2Plot/./src/plots/grouped-bar/layer.ts","webpack://G2Plot/./src/plots/percent-stacked-bar/layer.ts","webpack://G2Plot/./src/plots/area/component/label/area-point.ts","webpack://G2Plot/./src/plots/area/component/label/area-point-auto.ts","webpack://G2Plot/./src/plots/area/theme.ts","webpack://G2Plot/./src/plots/percent-stacked-area/layer.ts","webpack://G2Plot/./src/plots/column/component/label-auto.ts","webpack://G2Plot/./src/plots/column/event.ts","webpack://G2Plot/./src/plots/stacked-column/component/label.ts","webpack://G2Plot/./src/plots/percent-stacked-column/layer.ts","webpack://G2Plot/./src/plots/pie/layer.ts","webpack://G2Plot/./src/plots/donut/layer.ts","webpack://G2Plot/./src/plots/scatter/layer.ts","webpack://G2Plot/./src/plots/scatter/event.ts","webpack://G2Plot/./src/plots/gauge/geometry/shape/gauge-shape.ts","webpack://G2Plot/./src/sparkline/progress/layer.ts","webpack://G2Plot/./src/combo/base.ts","webpack://G2Plot/./node_modules/detect-browser/index.js","webpack://G2Plot/./node_modules/@antv/g-svg/node_modules/detect-browser/index.js","webpack://G2Plot/../src/is-polygons-intersect.ts","webpack://G2Plot/./src/index.ts","webpack://G2Plot/../../src/bbox/register.ts","webpack://G2Plot/../../src/bbox/rect.ts","webpack://G2Plot/../../src/bbox/circle.ts","webpack://G2Plot/../../src/bbox/polyline.ts","webpack://G2Plot/../../src/bbox/polygon.ts","webpack://G2Plot/../../src/bbox/text.ts","webpack://G2Plot/../../src/bbox/path.ts","webpack://G2Plot/../src/arc.ts","webpack://G2Plot/../src/ellipse.ts","webpack://G2Plot/../src/parse-path.ts","webpack://G2Plot/../../src/bbox/line.ts","webpack://G2Plot/../../src/bbox/ellipse.ts","webpack://G2Plot/../src/segments.ts","webpack://G2Plot/../src/interface.ts","webpack://G2Plot/../src/point-in-polygon.ts","webpack://G2Plot/../src/get-line-intersect.ts","webpack://G2Plot/../../../src/chart/controller/gesture.ts","webpack://G2Plot/./src/components/axis/parser.ts","webpack://G2Plot/./src/components/guide-line.ts","webpack://G2Plot/./src/components/label/parser.ts","webpack://G2Plot/./src/components/axis/state.ts","webpack://G2Plot/./src/components/label/state.ts","webpack://G2Plot/./src/components/tooltip/state.ts","webpack://G2Plot/./src/interaction/index.ts","webpack://G2Plot/./src/interaction/scrollbar.ts","webpack://G2Plot/./src/interaction/slider.ts","webpack://G2Plot/./src/interaction/timeline.ts","webpack://G2Plot/./src/components/timeline/index.ts","webpack://G2Plot/./src/components/timeline/button.ts","webpack://G2Plot/./src/base/controller/padding.ts","webpack://G2Plot/./src/theme/dark.ts","webpack://G2Plot/./src/theme/theme.ts","webpack://G2Plot/./src/theme/utils.ts","webpack://G2Plot/./src/util/responsive/default.ts","webpack://G2Plot/./src/base/controller/canvas.ts","webpack://G2Plot/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://G2Plot/(webpack)/buildin/global.js","webpack://G2Plot/./src/base/controller/event.ts","webpack://G2Plot/./src/plots/index.ts","webpack://G2Plot/./src/plots/line/index.ts","webpack://G2Plot/./src/geoms/area/index.ts","webpack://G2Plot/./src/geoms/area/mini.ts","webpack://G2Plot/./src/geoms/interval/index.ts","webpack://G2Plot/./src/geoms/interval/main.ts","webpack://G2Plot/./src/geoms/line/index.ts","webpack://G2Plot/./src/geoms/line/guide.ts","webpack://G2Plot/./src/geoms/point/index.ts","webpack://G2Plot/./src/geoms/point/circle.ts","webpack://G2Plot/./src/geoms/point/guide.ts","webpack://G2Plot/./src/plots/line/animation/clipIn-with-data.ts","webpack://G2Plot/./src/plots/line/apply-responsive/index.ts","webpack://G2Plot/./src/plots/line/apply-responsive/axis.ts","webpack://G2Plot/./src/util/responsive/constraints/column-width.ts","webpack://G2Plot/./src/util/responsive/constraints/element-collision.ts","webpack://G2Plot/./src/util/responsive/constraints/element-dist.ts","webpack://G2Plot/./src/util/responsive/constraints/element-dist-vertical.ts","webpack://G2Plot/./src/util/responsive/constraints/element-width.ts","webpack://G2Plot/./src/util/responsive/constraints/min-ring-thickness.ts","webpack://G2Plot/./src/util/responsive/constraints/ring-thickness.ts","webpack://G2Plot/./src/util/responsive/rules/node-jitter.ts","webpack://G2Plot/./src/util/responsive/rules/node-jitter-upward.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-abbrevate.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-change.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-state.ts","webpack://G2Plot/./src/util/responsive/rules/robust-abbrevaite.ts","webpack://G2Plot/./src/util/responsive/rules/text-rotation.ts","webpack://G2Plot/./src/util/responsive/rules/text-wrapper.ts","webpack://G2Plot/./src/plots/line/apply-responsive/label.ts","webpack://G2Plot/./src/plots/line/event.ts","webpack://G2Plot/./src/components/marker-point.ts","webpack://G2Plot/./src/plots/line/theme.ts","webpack://G2Plot/./src/plots/line/apply-responsive/theme.ts","webpack://G2Plot/./src/plots/line/interaction/index.ts","webpack://G2Plot/./src/plots/line/interaction/line-active.ts","webpack://G2Plot/./src/plots/line/interaction/line-select.ts","webpack://G2Plot/./src/plots/treemap/index.ts","webpack://G2Plot/./src/plots/treemap/layer.ts","webpack://G2Plot/./src/plots/treemap/layout/squarify.ts","webpack://G2Plot/./src/plots/treemap/layout/dice.ts","webpack://G2Plot/./src/plots/treemap/layout/slice.ts","webpack://G2Plot/./src/plots/treemap/interaction/index.ts","webpack://G2Plot/./src/plots/treemap/interaction/drillDown.ts","webpack://G2Plot/./src/components/breadcrumb.ts","webpack://G2Plot/./src/plots/treemap/interaction/animation.ts","webpack://G2Plot/./src/plots/treemap/event.ts","webpack://G2Plot/./src/plots/treemap/components/label.ts","webpack://G2Plot/./src/plots/step-line/index.ts","webpack://G2Plot/./src/plots/step-line/layer.ts","webpack://G2Plot/./src/plots/bar/index.ts","webpack://G2Plot/./src/plots/bar/apply-responsive/index.ts","webpack://G2Plot/./src/plots/bar/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/bar/event.ts","webpack://G2Plot/./src/plots/stacked-bar/index.ts","webpack://G2Plot/./src/plots/stacked-bar/theme.ts","webpack://G2Plot/./src/plots/stacked-bar/component/label.ts","webpack://G2Plot/./src/plots/stacked-bar/component/label-auto.ts","webpack://G2Plot/./src/plots/grouped-bar/index.ts","webpack://G2Plot/./src/plots/grouped-bar/theme.ts","webpack://G2Plot/./src/plots/percent-stacked-bar/index.ts","webpack://G2Plot/./src/plots/range-bar/index.ts","webpack://G2Plot/./src/plots/range-bar/layer.ts","webpack://G2Plot/./src/plots/range-bar/component/label.ts","webpack://G2Plot/./src/plots/range-bar/animation.ts","webpack://G2Plot/./src/plots/area/index.ts","webpack://G2Plot/./src/plots/area/apply-responsive/index.ts","webpack://G2Plot/./src/plots/area/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/area/event.ts","webpack://G2Plot/./src/plots/stacked-area/index.ts","webpack://G2Plot/./src/plots/stacked-area/component/index.ts","webpack://G2Plot/./src/plots/stacked-area/component/label/line-label.ts","webpack://G2Plot/./src/plots/stacked-area/component/label/area-label.ts","webpack://G2Plot/./src/plots/stacked-area/component/label/area-point.ts","webpack://G2Plot/./src/plots/stacked-area/component/label/area-point-auto.ts","webpack://G2Plot/./src/plots/stacked-area/theme.ts","webpack://G2Plot/./src/plots/percent-stacked-area/index.ts","webpack://G2Plot/./src/plots/column/index.ts","webpack://G2Plot/./src/plots/column/apply-responsive/index.ts","webpack://G2Plot/./src/plots/column/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/column/apply-responsive/label.ts","webpack://G2Plot/./src/plots/column/apply-responsive/theme.ts","webpack://G2Plot/./src/plots/grouped-column/index.ts","webpack://G2Plot/./src/plots/grouped-column/theme.ts","webpack://G2Plot/./src/plots/stacked-column/index.ts","webpack://G2Plot/./src/components/connected-area.ts","webpack://G2Plot/./src/plots/stacked-column/theme.ts","webpack://G2Plot/./src/plots/stacked-column/component/label-auto.ts","webpack://G2Plot/./src/plots/range-column/index.ts","webpack://G2Plot/./src/plots/range-column/layer.ts","webpack://G2Plot/./src/plots/range-column/component/label.ts","webpack://G2Plot/./src/plots/range-column/animation.ts","webpack://G2Plot/./src/plots/percent-stacked-column/index.ts","webpack://G2Plot/./src/plots/pie/index.ts","webpack://G2Plot/./src/plots/pie/event.ts","webpack://G2Plot/./src/plots/pie/component/label/index.ts","webpack://G2Plot/./src/plots/pie/component/label/utils/text.ts","webpack://G2Plot/./src/plots/pie/component/label/inner-label.ts","webpack://G2Plot/./src/plots/pie/component/label/outer-label.ts","webpack://G2Plot/./src/plots/pie/component/label/outer-center-label.ts","webpack://G2Plot/./src/plots/pie/component/label/spider-label.ts","webpack://G2Plot/./src/plots/pie/theme.ts","webpack://G2Plot/./src/plots/density-heatmap/index.ts","webpack://G2Plot/./src/plots/density-heatmap/layer.ts","webpack://G2Plot/./src/geoms/heatmap/linear.ts","webpack://G2Plot/./src/plots/density-heatmap/components/index.ts","webpack://G2Plot/./src/plots/density-heatmap/components/background.ts","webpack://G2Plot/./src/plots/density-heatmap/components/legend.ts","webpack://G2Plot/./src/plots/density-heatmap/event.ts","webpack://G2Plot/./src/plots/heatmap/index.ts","webpack://G2Plot/./src/plots/heatmap/layer.ts","webpack://G2Plot/./src/plots/heatmap/shape.ts","webpack://G2Plot/./src/plots/heatmap/component/index.ts","webpack://G2Plot/./src/plots/heatmap/component/label.ts","webpack://G2Plot/./src/plots/heatmap/component/legend.ts","webpack://G2Plot/./src/plots/word-cloud/index.ts","webpack://G2Plot/./src/plots/word-cloud/layer.ts","webpack://G2Plot/./src/plots/word-cloud/word-cloud-tooltips.ts","webpack://G2Plot/./src/plots/word-cloud/wordcloud2.ts","webpack://G2Plot/./src/plots/rose/index.ts","webpack://G2Plot/./src/plots/rose/event.ts","webpack://G2Plot/./src/plots/funnel/index.ts","webpack://G2Plot/./src/plots/funnel/layer.ts","webpack://G2Plot/./src/plots/funnel/theme.ts","webpack://G2Plot/./src/plots/funnel/geometry/shape/funnel-basic-rect.ts","webpack://G2Plot/./src/plots/funnel/geometry/shape/funnel-dynamic-rect.ts","webpack://G2Plot/./src/plots/funnel/animation/funnel-scale-in-x.ts","webpack://G2Plot/./src/plots/funnel/animation/funnel-scale-in-y.ts","webpack://G2Plot/./src/plots/stacked-rose/index.ts","webpack://G2Plot/./src/plots/stacked-rose/layer.ts","webpack://G2Plot/./src/plots/grouped-rose/index.ts","webpack://G2Plot/./src/plots/grouped-rose/layer.ts","webpack://G2Plot/./src/plots/radar/index.ts","webpack://G2Plot/./src/plots/radar/layer.ts","webpack://G2Plot/./src/plots/radar/event.ts","webpack://G2Plot/./src/plots/radar/theme.ts","webpack://G2Plot/./src/plots/liquid/index.ts","webpack://G2Plot/./src/plots/liquid/layer.ts","webpack://G2Plot/./src/plots/liquid/event.ts","webpack://G2Plot/./src/plots/liquid/geometry/shape/liquid.ts","webpack://G2Plot/./src/plots/liquid/animation/liquid-move-in.ts","webpack://G2Plot/./src/plots/histogram/index.ts","webpack://G2Plot/./src/plots/histogram/layer.ts","webpack://G2Plot/./src/plots/density/index.ts","webpack://G2Plot/./src/plots/density/layer.ts","webpack://G2Plot/./src/plots/donut/index.ts","webpack://G2Plot/./src/plots/donut/event.ts","webpack://G2Plot/./src/plots/donut/component/ring-statistic.ts","webpack://G2Plot/./src/plots/donut/component/statistic.ts","webpack://G2Plot/./src/plots/donut/component/statistic-template.ts","webpack://G2Plot/./src/plots/waterfall/index.ts","webpack://G2Plot/./src/plots/waterfall/geometry/shape/waterfall.ts","webpack://G2Plot/./src/plots/waterfall/event.ts","webpack://G2Plot/./src/plots/waterfall/component/label/waterfall-label.ts","webpack://G2Plot/./src/plots/waterfall/component/label/diff-label.ts","webpack://G2Plot/./src/plots/scatter/index.ts","webpack://G2Plot/./src/plots/scatter/components/quadrant.ts","webpack://G2Plot/./src/plots/scatter/components/trendline.ts","webpack://G2Plot/./src/plots/scatter/theme.ts","webpack://G2Plot/./src/plots/bubble/index.ts","webpack://G2Plot/./src/plots/bubble/layer.ts","webpack://G2Plot/./src/plots/bubble/shape.ts","webpack://G2Plot/./src/plots/bubble/theme.ts","webpack://G2Plot/./src/plots/bullet/index.ts","webpack://G2Plot/./src/plots/bullet/layer.ts","webpack://G2Plot/./src/plots/bullet/event.ts","webpack://G2Plot/./src/plots/bullet/component/bulletRect.ts","webpack://G2Plot/./src/plots/bullet/component/bulletTarget.ts","webpack://G2Plot/./src/plots/bullet/theme.ts","webpack://G2Plot/./src/plots/calendar/index.ts","webpack://G2Plot/./src/plots/calendar/layer.ts","webpack://G2Plot/./src/plots/calendar/util.ts","webpack://G2Plot/./src/plots/calendar/event.ts","webpack://G2Plot/./src/plots/calendar/shape.ts","webpack://G2Plot/./src/plots/gauge/index.ts","webpack://G2Plot/./src/plots/gauge/event.ts","webpack://G2Plot/./src/plots/fan-gauge/index.ts","webpack://G2Plot/./src/plots/fan-gauge/layer.ts","webpack://G2Plot/./src/plots/meter-gauge/index.ts","webpack://G2Plot/./src/plots/meter-gauge/layer.ts","webpack://G2Plot/./src/plots/compatiblePlots/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/ring/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/group-column/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/group-bar/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/percentage-stack-area/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/percentage-stack-bar/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/percentage-stack-column/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/stack-area/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/stack-bar/index.ts","webpack://G2Plot/./src/plots/compatiblePlots/stack-column/index.ts","webpack://G2Plot/./src/sparkline/progress/index.ts","webpack://G2Plot/./src/sparkline/progress/component/marker.ts","webpack://G2Plot/./src/sparkline/progress/event.ts","webpack://G2Plot/./src/sparkline/ring-progress/index.ts","webpack://G2Plot/./src/sparkline/ring-progress/layer.ts","webpack://G2Plot/./src/sparkline/ring-progress/event.ts","webpack://G2Plot/./src/sparkline/tiny-column/index.ts","webpack://G2Plot/./src/sparkline/tiny-column/layer.ts","webpack://G2Plot/./src/sparkline/tiny-column/event.ts","webpack://G2Plot/./src/sparkline/tiny-area/index.ts","webpack://G2Plot/./src/sparkline/tiny-area/layer.ts","webpack://G2Plot/./src/sparkline/tiny-area/event.ts","webpack://G2Plot/./src/sparkline/tiny-line/index.ts","webpack://G2Plot/./src/sparkline/tiny-line/layer.ts","webpack://G2Plot/./src/sparkline/tiny-line/event.ts","webpack://G2Plot/./src/combo/dual-line/index.ts","webpack://G2Plot/./src/combo/dual-line/layer.ts","webpack://G2Plot/./src/combo/column-line/index.ts","webpack://G2Plot/./src/combo/groupedColumn-line/index.ts","webpack://G2Plot/./src/combo/groupedColumn-line/layer.ts","webpack://G2Plot/./src/combo/stackedColumn-line/index.ts","webpack://G2Plot/./src/combo/stackedColumn-line/layer.ts","webpack://G2Plot/./node_modules/d3-regression/src/utils/points.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/determination.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/geometry.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/interpose.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/ols.js","webpack://G2Plot/./node_modules/d3-regression/src/exponential.js","webpack://G2Plot/./node_modules/d3-regression/src/linear.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/median.js","webpack://G2Plot/./node_modules/d3-regression/src/loess.js","webpack://G2Plot/./node_modules/d3-regression/src/logarithmic.js","webpack://G2Plot/./node_modules/d3-regression/src/quadratic.js","webpack://G2Plot/./node_modules/d3-regression/src/polynomial.js","webpack://G2Plot/./node_modules/d3-regression/src/power.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","result","arr","str","base","toString","index","indexOf","length","num","precision","maxData","data","obj","rst","k","memoized","dist","superObj","func","default_1","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","__createBinding","k2","undefined","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__importDefault","default","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","__setModuleDefault","container","props","containerDOM","document","getElementById","forceFit","isNil","width","height","renderer","pixelRatio","theme","localRefresh","canvasController","plot","canvas","layers","destroyed","createLayers","eventController","bindEvents","parseEvents","destroy","eachLayer","layer","clearEvents","repaint","draw","updateConfig","config","all","updateCanvasSize","updateCanvasTheme","changeData","getScaleByField","field","getXScale","getYScale","getColorScale","getPlotTheme","getData","bindStateManager","stateManager","cfg","setActive","condition","style","setSelected","setDisable","setDefault","getView","view","getLayer","idx","getCanvas","getLayers","render","cb","each","addLayer","findIndex","item","type","viewLayer","getPlotType","deepMix","x","eventsName","keys","CANVAS_EVENT_MAP","events","contains","isFunction","eventName","handler","on","GLOBAL_PLOT_MAP","ctr","toLowerCase","addEventListener","remove","TABLE","getStyle","dom","parseFloat","el","modifyCSS","EPSILON","ARRAY_TYPE","Float32Array","RANDOM","Math","random","PI","hypot","sqrt","IElement","ICanvas","IGroup","IShape","BBox","Canvas","View","registerAnimation","registerGeometry","Geometry","Interaction","registerInteraction","registerShape","getTheme","Util","getShapeFactory","registerComponentController","VIEW_LIFE_CIRCLE","COMPONENT_TYPE","FIELD_ORIGIN","Gesture","MarkerSymbols","Datum","Data","LooseObject","Options","Point","ShapeInfo","AttributeOption","AdjustOption","LabelOption","MappingDatum","DEFAULT_ANIMATE_CFG","getDefaultAnimateCfg","doAnimate","HtmlTooltip","HtmlTooltipTheme","TooltipCssConst","GroupComponent","Axis","Legend","Tooltip","Slider","Scrollbar","GroupComponentCfg","TooltipCfg","Coordinate","ORIGIN","_ORIGIN","Base","a10","a11","a12","a20","a21","a22","out","Element","repeat","minX","maxX","minY","maxY","group","shape","Container","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","_next","timer","callback","delay","time","restart","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","linear","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","stop","polyIn","custom","pow","exponent","polyOut","polyInOut","pi","halfPi","sinIn","cos","sinOut","sin","sinInOut","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b0","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","asin","max","amplitude","period","elasticOut","elasticInOut","extend","parent","definition","Color","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","trim","exec","parseInt","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","min","round","h","Hsl","hslConvert","hsl2rgb","m1","m2","basis","v0","v1","v2","v3","t3","copy","channels","displayable","formatHsl","brighter","darker","gamma","nogamma","exponential","constant","rgbGamma","start","end","colorRgb","rgbSpline","spline","colors","values","floor","slice","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","source","am","bm","bs","bi","lastIndex","number","one","zero","join","string","date","numberArray","isArray","valueOf","update","duration","animation","easing","elapsed","ratio","cPathPoint","cProps","Timeline","relativeShape","_emitEvent","EventController","event","_this","child","AbstractShape","getGlobalTheme","registerGlobalTheme","registerTheme","convertToG2Theme","eventNames","mobileEventNames","getEventMap","title","description","breadcrumb","getRegionEventMap","LAYER_EVENT_MAP","EVENT_MAP","axis","legend","getMobileEventMap","map","eventMap","namePrefix","upperFirst","eventPrefix","prefix","eventList","onEvent","ev","eventData","clientX","clientY","gEvent","fromBBoxObject","bbox","fromRange","equals","interactions","labels","options","getOptions","initialOptions","paddingController","stateController","themeController","getDefaultOptions","visible","alignTo","text","padding","position","tooltip","shared","showCrosshairs","crosshairs","offset","xAxis","grid","line","tickLine","autoRotate","autoHide","spacing","yAxis","curOptions","defaultOptions","reduce","flatten","src","cur","splice","beforeInit","init","processData","scales","legends","showTitle","axes","coordinate","geometries","annotations","panelRange","animate","views","clear","drawTitle","drawDescription","interaction","coord","scale","addGeometry","annotation","viewRange","getViewRange","region","viewRangeToRegion","backgroundGroup","addGroup","middleGroup","foregroundGroup","getPadding","limitInPlot","applyInteractions","AFTER_RENDER","afterRender","afterInit","defaultState","defaultStates","processAutoPadding","onChange","customTooltip","isEmpty","xField","yField","getShapes","shapes","geom","doDestroy","processOptions","getPlot","getLabels","getResponsiveTheme","getInteractions","setState","scaleTypes","mapValues","scaleConfig","meta","setConfig","xAxis_parser","getComponent","dim","yAxis_parser","axesConfig","tooltipOptions","customContent","domStyles","customContentCfg","isString","getElementsByClassName","hideTooltip","getLegendPosition","positionList","split","legendConfig","offsetX","offsetY","flipPage","marker","itemName","guideLine","forEach","inst","Ctor","getInteraction","getInteractionRange","layerBBox","eventParser","range","isTextUsable","leftMargin","rightMargin","topMargin","mix","wrapperWidth","registerPadding","titleBBox","getBBox","doRenderLabel","geometry","labelsContainer","getLabelComponent","doDestroyInteractions","doDestroyLabels","processOuterPadding","GEOMETRY_MAP","area","point","Geom","id","attrs","tick","startStr","startIndex","hasAdd","isVertical","path","_super","center","closed","x1","getElementByLocalId","stroke","subGroup","leftArrow","maxLabel","getDefaultCfg","px","py","validCfg","box","pointAt","pointDistance","pointToLine","vec2","tangentAngle","labelsCfgMap","lastLabelsCfgMap","getGeometry","show","hide","getCoordinate","AFTER_PAINT","addDisposable","off","renderInner","elements","element","elementIdx","drawLabelItem","adjustLabel","clone","layoutLabels","animateCfg","animateOption","findById","oldAttrs","updateAnimateCfg","attr","toAttrs","appearAnimateCfg","leaveAnimateCfg","tempShape","addShape","drawLabelText","extraCfgs","elementIndex","model","getModel","items","getLabelItemAttrs","getDefaultOffset","offsetPoint","getLabelOffset","dataItem","mappingData","getLabelId","Number","isNumber","getLabelOffsetByDimAndFactor","factor","origin","_origin","xScale","yScale","labelId","getElementId","getCoordinateBBox","getWidth","getHeight","LABEL_CONFIG_MAP","component","hi","calBase","E","log","appendPercent","w","pretty","log10","toFixed","ceil","abs","unit","nu","res","registerTickMethod","lastValue","tickInterval","ticks","magnitude","sum","dotProduct2D","va","vb","applyMatrix","matrix","tag","vector","vec3","transformMat3","isBetween","angleTo","magA","magB","dot","acos","crossProduct2D","angle","crossProduct3D","ax","ay","az","z","bx","by","bz","sub2D","isPointInPolygon","polygon","inside","xi","yi","xj","yj","sqr","dist2","distBetweenPointLine","p1","p2","l2","distSquare","minDistBetweenPointPolygon","isPolygonIntersection","polyA","polyB","getLineIntersect","p0","p3","D0","D1","kross","distBetweenPoints","minDistBetweenConvexPolygon","minA","minB","localMin","bboxOnRotate","ulMatrix","bboxWidth","bboxHeight","top_left","top_right","bottom_left","bottom_right","points","sort","tops","bottoms","topLeft","topRight","bottomLeft","bottomRight","left","right","top","bottom","centerX","centerY","lineSimplification","DouglasPeucker","threshold","endIndex","list1","list2","getMedian","array","list","half","getMean","sturges","LN2","curX","curY","COMPONENT_MAPPER","STATE_MAPPER","Components","desScale","axisConfig","intervals","intervalArr","basicInterval","intervalCount","tickCount","timeIntervals","mask","minLimit","maxLimit","nice","formatter","tickMethod","validData","filter","getAllGeometryByType","getOverlapArea","margin","head","dones","compare","some","panel","deltaX","deltaY","rgb2arr","colorStr","substr","toHex","band","reflect","from","to","isContrastColorWhite","minNum","xArr","yArr","warning","ENGINES","getEngine","G","Error","registerEngine","engine","changeVisible","Opacity","Shape","Size","LineAxis","CircleAxis","LineGrid","CircleGrid","CategoryLegend","ContinuousLegend","dateRegex","createScaleByField","scaleDef","test","getDefaultType","getName","alias","getAxisRegion","direction","isRect","DIRECTION","TOP","RIGHT","BOTTOM","LEFT","getLineAxisRelativeRegion","isPolar","isTransposed","getCircleAxisRelativeRegion","convert","getAxisFactorByRegion","getAxisThemeCfg","getCircleAxisCenterRadius","isReflectY","startVector","normalVector","startAngle","endAngle","radius","getAxisOption","getAxisDirection","axisOption","def","getAxisTitleText","facets","createContainer","generateFacets","renderViews","clearFacetViews","facetToView","facet","createView","beforeEachView","eachView","afterEachView","LAYER","FORE","createFacetViews","removeView","getFieldValues","cache","getRegion","rows","cols","xIndex","yIndex","xRatio","yRatio","fields","getDefaultTitleCfg","fontSize","fill","fontFamily","processAxis","coordinateOption","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","getFacetDataFilter","conditions","datum","Facets","ctor","context","addAction","applyCfg","removeAction","execute","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","action","polarToCartesian","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerRadius","innerStart","innerEnd","middlePoint","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","getArcPath","getAngle","shapeModel","getPointsBox","coordStartAngle","diffAngle","getReplaceAttrs","sourceShape","targetShape","originAttrs","newAttrs","omit","uniq","sourceArray","targetArray","getXDimensionLength","getRadius","getDistanceToCenter","getCenter","isPointInCoordinate","invertPoint","invert","getAngleByPoint","atan2","getCoordinateClipCfg","endState","startState","diff","_convertArr","tmp","len","catmullRom2bezier","crp","constraint","isLoop","pointList","cp1","cp2","controlPointList","smooth","prevPoint","nextPoint","cps","hasConstraint","sub","d0","distance","d1","cp0","add","getLinePath","isInCircle","_points2path","getSplinePath","constaint","first","prePoint","splinePath","unshift","convertPolarPath","pre","transposed","subPath","curPoint","xDim","angleRange","flag","convertPoint","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","parsePadding","paddingArray","isEqual","subBBox","merge","cut","TOP_LEFT","TOP_RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT_TOP","LEFT_BOTTOM","shrink","gap","exceed","size","getMaskBBox","tolerance","maskBBox","getCanvasBBox","getCurrentElement","getDelegationObject","delegateObject","isElementChange","fromShape","toShape","isList","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","shapePoints","shapeBBox","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","subView","getElementsByState","stateName","getElementsBy","hasState","getElementValue","record","box1","box2","seg","getComponents","co","dx","dy","isInBox","getSilbings","siblings","normalPoint","point2Normalize","isInRecords","records","xFiled","isIn","actions","cacheMap","params","getAction","find","getCurrentPoint","HTMLElement","getPointByClient","getCurrentShape","isInPlot","isPointInPlot","isInShape","isInComponent","components","initEvents","parseAction","actionStr","createAction","methodName","executeAction","actionObject","STEP_NAMES","steps","callbackCaches","emitCaches","initContext","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","subSteps","actionArr","isAllowStep","currentStepName","isAllowExcute","getKey","once","isEnable","enterStep","afterExecute","actionCallback","debounce","wait","immediate","throttle","leading","trailing","nameArr","removeEventListener","Interactions","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","Themes","createThemeByStylesheet","brandColor","paletteQualitative10","paletteQualitative20","paletteSemanticRed","paletteSemanticGreen","paletteSemanticYellow","axisLineBorderColor","axisLineBorder","axisLineDash","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisTitleTextFontWeight","axisTickLineBorderColor","axisTickLineLength","axisTickLineBorder","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLabelFontWeight","axisGridBorderColor","axisGridBorder","axisGridLineDash","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerColor","legendMarkerSize","legendCircleMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","sliderRailFillColor","sliderRailBorder","sliderRailBorderColor","sliderRailWidth","sliderRailHeight","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderLabelTextFontWeight","sliderHandlerFillColor","sliderHandlerWidth","sliderHandlerHeight","sliderHandlerBorder","sliderHandlerBorderColor","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineBorder","annotationLineDash","annotationTextFillColor","annotationTextFontSize","annotationTextLineHeight","annotationTextFontWeight","annotationTextBorderColor","annotationTextBorder","annotationRegionFillColor","annotationRegionFillOpacity","annotationRegionBorder","annotationRegionBorderColor","annotationDataMarkerLineLength","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","tooltipCrosshairsLineDash","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","tooltipTextFontWeight","labelFillColor","labelFontSize","labelLineHeight","labelFontWeight","labelBorderColor","labelBorder","innerLabelFillColor","innerLabelFontSize","innerLabelLineHeight","innerLabelFontWeight","innerLabelBorderColor","innerLabelBorder","labelLineBorder","labelLineBorderColor","pointFillColor","pointFillOpacity","pointSize","pointBorder","pointBorderColor","pointBorderOpacity","pointActiveBorderColor","pointSelectedBorder","pointSelectedBorderColor","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPointSize","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointFillColor","hollowPointActiveBorder","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","lineBorder","lineBorderColor","lineBorderOpacity","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillColor","areaActiveFillOpacity","areaSelectedFillColor","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaActiveBorderColor","hollowAreaSelectedBorder","hollowAreaSelectedBorderColor","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorder","intervalActiveBorderColor","intervalActiveBorderOpacity","intervalSelectedBorder","intervalSelectedBorderColor","intervalSelectedBorderOpacity","intervalInactiveBorderOpacity","intervalInactiveFillOpacity","hollowIntervalBorder","hollowIntervalBorderColor","hollowIntervalBorderOpacity","hollowIntervalFillColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderOpacity","snapEqual","value1","translate","value2","filterYValue","yValue","originData","getXDistance","isCategory","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","GROUP_ATTRS","getAttributesForLegend","tmpScale","getScale","isLinear","findDataByPoint","geometryType","last","xValue","rangeMax","rangeMin","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","tooltipTitle","titleField","getAttribute","getFields","getText","getTooltipTitle","tooltipOption","defaultColor","addItem","itemValue","callbackParams","itemCfg","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","LOAD_COMPONENT_CONTROLLERS","plugin","option","wrapperOption","hasAction","isTheta","C","transpose","execActions","adjust","resetMatrix","rotate","sx","sy","getOption","includeActions","args","includes","originalEvent","Event","inc","calculatePadding","isAutoPadding","viewBBox","autoPadding","paddingCal","GRID","TOOLTIP","bboxObject","getLayoutBBox","componentBBox","AXIS","calculatedPadding","defaultLayout","getController","slider","newCoordinateBBox","coordinateBBox","layout","adjustCoordinate","controller","Map","syncScales","createScale","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","sync","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","change","sm","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","deleteScale","controllers","usedControllers","scalePool","layoutFunc","isPreMouseInPlot","isDataChanged","isCoordinateChanged","createdScaleKeys","onCanvasEvent","evt","createViewEvent","doPlotEvent","emit","onDelegateEvents","themeObject","setLayout","calculateViewBBox","initComponentController","coordinateController","initOptions","isUpdate","BEFORE_RENDER","paint","BEFORE_CLEAR","filteredData","coordinateInstance","getRootView","AFTER_CLEAR","BEFORE_DESTROY","console","warn","filters","legendOption","scaleOption","guide","coordinateCfg","facetInstance","status","updateOptions","opt","existInteraction","interaciton","createInteraction","removeInteraction","BEFORE_CHANGE_DATA","AFTER_CHANGE_DATA","sharedOptions","zIndex","GROUP_Z_INDEX","removedView","getYScales","tmpMap","getScalesByDim","dimType","defaultKey","getScaleKey","BG","MID","getLegendAttributes","getXY","xScales","yScales","showTooltip","lockTooltip","unlockTooltip","isTooltipLocked","getSnapRecords","dataArray","dataLen","snapRecords","filterData","every","filterFieldData","curStart","curEnd","bl","tr","renderDataRecursive","BEFORE_PAINT","renderLayoutRecursive","renderPaintRecursive","initComponents","doLayout","tl","setClip","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","doFilterData","createCoordinate","initGeometries","renderFacet","controllerName","currentInPlot","TYPE","PLOT_EVENTS","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","createOrUpdateScales","scaleDefs","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","scaleOptions","isIdentity","count","isFullCircle","doAnimation","canvasRegion","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","autoFit","defaultInteractions","ele","wrapperElement","appendChild","getChartSize","onResize","updateCanvasStyle","bindAutoFit","initDefaultInteractions","changeSize","unbindAutoFit","display","verticalAlign","ANIMATIONS_MAP","getAnimation","appear","enter","leave","GEOMETRY_ANIMATE_CFG","schema","edge","GEOMETRY_GROUP_APPEAR_ANIMATION","elementName","animateType","parsedAnimateCfg","parseAnimateConfig","animateFunction","states","shapeFactory","offscreenGroup","shapeType","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","syncShapeStyle","getAnimateCfg","labelShape","statesStyle","stateStatus","toFront","toBack","offscreenShape","state","eventObject","clearStates","getStates","labelBBox","getStatesStyle","stateOption","defaultShapeType","stateTheme","getStateStyle","shapeKey","stateCfg","shapeStyle","GroupCtor","getGroupBase","isGroup","children","newChildren","stopAnimate","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getShape","getPoints","getDefaultPoints","getMarker","markerCfg","markerStyle","ShapeBase","parsePath","parsedPath","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","className","geomObj","shapeObj","isModelChange","currentModel","preModel","parseFields","elementsMap","attributeOption","lastElementsMap","generatePoints","beforeMappingData","adjusts","idFields","hasSorted","sortable","userTheme","positionCfg","createAttrOption","adjustCfg","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","setCfg","initAttributes","adjustScale","lastAttributeOption","defaultSize","beforeMapping","mappingArray","eachGroup","mapping","createElements","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","defaultCfg","doGroupAppearAnimate","renderLabels","deletedElement","geometryLabel","getGroupAttributes","getDefaultValue","attrName","getAttributeValues","getAdjust","adjustType","getShapeMarker","shapeName","elementId","xVal","yVal","dodgeAdjust","dodgeBy","attributeType","eachOpt","groupFields","attributeName","obj1","obj2","updateStackRange","createShapePointsCfg","normalizeValues","y0","createElement","mappingDatum","shapeCfg","getDrawCfg","defaultStyle","getStyleCfg","nextPoints","subIndex","currentShapeCfg","preShapeCfg","getLabelType","coordinateType","labelType","attrCfg","attrType","sizes","colors10","colors20","AttributeCtor","categoryScales","groupedArray","groupData","beforeAdjust","subData","subLen","adjustData","adjustNames","dodgeRatio","columnWidthRatio","reverseOrder","adjustInstance","process","appendConditions","groups","mergeArray","tmpMin","tmpMax","currentData","generateShapePoints","nextData","shapeAttr","newRecord","names","val","mappingRecord","rstX","rstY","xLen","yLen","labelsMap","labelsRenderer","shapesMap","filterLabelsById","labelChildren","getChildren","transform","getMatrix","setMatrix","rotateRadian","lastShapesMap","createOffscreenGroup","renderLabel","renderLabelLine","currentShape","currentChild","deleteShape","content","shapeAppendCfg","labelGroup","isShape","textAlign","textBaseline","layouts","labelItems","labelItem","labelLine","labelLineCfg","capture","getLabelItems","mapppingArray","labelCfgs","getLabelCfgs","labelCfg","labelContent","total","getLabelPoint","getLabelAlign","getLabelsRenderer","getGeometryShapes","getDefaultLabelCfg","setLabelPosition","labelPointCfg","getOffsetVector","getDimValue","centroid","xs","ys","former","current","getPolygonCentroid","point1","point2","align","defaultLabelCfg","labelScales","callbackCfg","originText","getLabelText","originValues","innerLabels","labelTexts","subVal","VERSION","antvDark","isValueEmpty","isYNil","getPathPoints","connectNulls","filtered","isStroke","isFill","sizeName","splitPoints","eachY","LineSymbols","dash","hv","vh","hvh","vhv","getLineMarker","symbol","lineWidth","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","eachLinePoints","shapeAttrs","getShapeAttrs","getShapeInfo","getPointsAndData","registeredShape","topLinePoints","bottomLinePoints","reverse","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","pointInfo","yItem","startOnZero","paletteCache","prepareRange","prepareSize","blur","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","colorField","row","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","r2","ctx","getContext","clearRect","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","beginPath","arc","closePath","valueField","getShadowCanvasCtx","alpha","drawGrayScaleBlurredCircle","colored","getImageData","colorize","putImageData","imageShape","getImageShape","shadowCanvas","globalAlpha","drawImage","img","colorAttr","pixels","palette","gradient","getRectPoints","isPyramid","yMin","yMax","xMin","xMax","getRectPath","firstPoint","getFunnelPath","xValues","sourceArr","findMinDistance","normalizedSize","wr","multiplePieWidthRatio","roseWidthRatio","mergeData","getDodgeCount","maxColumnWidth","minColumnWidth","xDimensionLength","normalizedMaxColumnWidth","normalizedMinColumnWidth","sizeAttr","hexagon","diffX","bowtie","diffY","cross","plus","hyphen","SHAPES","drawPoints","pointPosition","subX","subY","temp","xOffset","yOffset","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","c1","c2","getSmoothPath","getVHVPath","getTickPoints","getInterpolateShapeAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandleYValues","sorted","targetLength","padValue","padEnd","sourceLength","getCandlePoints","yValues","point0","HALF_PI","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","middleAngle","getPointAngle","isLabelEmit","labelPositionCfg","getCirclePoint","getLabelRotate","labelAngle","isLabelLimit","startPoint","endPoint","bitmap","xGap","yGap","hasGap","fillGap","adjustLabelPosition","doScaleAnimate","endMatrix","direct","scaledMatrix","applyToMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","command","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","renderTitle","avgAngle","facetR","middle","facetData","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","colValues","getPageCount","getRowCol","col","pageSize","columnTitle","rowTitle","facetIndex","columnValues","rowValues","afterChartRender","drawLines","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","getFacetsByLevel","originColIndex","getRegionIndex","level","addFacetLines","subFacet","subRegion","middle1","middle2","drawLine","foregroundContainer","backgroundContainer","updateComponentFn","extra","getAnnotationTheme","getAnnotationCfg","createComponentFn","createAnnotation","updated","WeakMap","existCo","newCache","includeOption","isTop","NONE","ANNOTATION","image","dataMarker","dataRegion","regionFilter","parsePosition","xPos","yPos","parsePercentPosition","getNormalizedValue","getRegionPoints","viewData","startXValue","endXValue","scaled","xPercent","yPercent","sp","ep","autoAdjust","lineLength","elem","getComponentContainer","getGridThemeCfg","getLineGridItems","alignTick","getTicks","tickValue","preTick","currentTick","currentIndex","currentValue","middleValue","getCircleGridItems","preValue","showGrid","axisTheme","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","axisContainer","createXAxes","createYAxes","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","verticalFactor","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","br","getMappingValue","restArgs","setMarkerSymbol","getLegendLayout","startsWith","getLegendOption","getDirection","createCustomLegend","LEGEND","loopLegends","createFieldLegend","layoutBBox","maxSize","getCategoryLegendSizeCfg","maxWidth","maxHeight","y1","x2","y2","getComponentById","customCfg","getCategoryCfg","getContinuousCfg","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","scaleValue","attrLegendCfg","rail","track","mergeLegendCfg","themeMarker","userMarker","customItems","getCustomLegendItems","unchecked","isInPolar","getLegendItems","baseCfg","categoryCfg","reversed","vw","cw","ch","onValueChanged","updateMinMaxText","updateSlider","createSlider","getSliderCfg","OTHER","trendCfg","dataSize","xData","minIndex","maxIndex","minText","maxText","isLocked","isVisible","getTitle","dataPoint","getTooltipCfg","follow","showMarkers","showContent","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","setCapture","guideGroup","tooltipCrosshairsGroup","findItemsFromView","snapItem","aItem","yDistance","uniqItems","subItem","enterable","parentNode","getTooltipMarkersGroup","crosshairsType","renderXCrosshairs","renderYCrosshairs","tooltipCfg","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Line","textCfg","firstItem","getGuideGroup","getTooltipItemsByHitShape","getTooltipItemsByFindData","tooltipItems","childView","appendRatio","firstElement","lastElement","innterRadius","regionPath","hasClass","baseVal","timeStamp","lastTimeStamp","preLoc","location","curLoc","toElement","cls","isParent","siblingPoint","setElementState","enable","setStateEnable","clearViewState","getItem","ignoreListItemStates","isItemIgnore","setStateByComponent","setElementsStateByItem","setStateByElement","isMathItem","toggle","reset","active","getLinkPath","nextElement","nextBBox","addLinkShape","linkByElement","getElementsByField","linkGroup","nextEl","removeLink","link","unlink","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","clearHighlight","setHighlightBy","setElementHighlight","activeElements","highlight","highlightElements","selected","ignoreItemStates","getTriggerListInfo","info","getAllowComponents","allowSetStateByElement","clearAllComponentsState","clearItemsState","componentNames","allowSetStateByItem","ignoreStates","setItemsState","setItemState","getItems","triggerInfo","activeItems","getItemsByState","starting","moving","preMovePoint","emitEvent","createMask","maskAttrs","getMaskAttrs","draggable","updateMask","moveStart","move","currentPoint","moveEnd","resize","clampPoint","inPlot","normalStart","normalEnd","addPoint","getSpline","setCursor","cursor","pointer","crosshair","help","eResize","wResize","nResize","sResize","neResize","nwResize","seResize","swResize","nsResize","ewResize","filterView","unCheckedItems","getValue","getFilter","minValue","maxValue","dims","hasDim","normalCurrent","reRender","byRecord","filterByRecord","filterByBBox","maskElements","buttonGroup","buttonCfg","textStyle","activeStyle","getButtonCfg","drawButton","textBBox","buttonShape","resetPosition","dragStart","drag","isMoving","startMatrix","cfgFields","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","zoomRatio","zoomIn","zoom","zoomDim","zoomOut","dRatio","zoomLinear","toMin","toMax","greedy","Greedy","canFill","maxLabelsCountForOneSide","labelShapes","lineHeight","plotRange","isRight","overlapping","startY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","rPow2","dyPow2","antiCollision","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","param","nt","times","accessedCache","spiralFill","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","fillOpacity","strokeOpacity","clipShape","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","getTotalLength","lineDashOffset","fecha","token","word","literal","noop","shorten","sLen","newArr","monthUpdate","arrName","i18n","charAt","toUpperCase","month","pad","String","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","D","formatFlags","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","parseFlags","day","cent","year","hour","minute","second","millisecond","isPm","minutes","parts","match","timezoneOffset","masks","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","i18nSettings","getTime","literals","replace","$0","$1","parse","dateStr","dateInfo","parseInfo","newFormat","matches","today","UTC","breaks","findAll","bboxA","bboxB","cubicAt","onet","interactionRange","interactionConfig","disposables","BaseInteraction","GLOBAL_INTERACTION_MAP","registerPlotInteraction","plotType","PLOT_INTERACTION_MAP","layerRange","fn","getViewLayer","getRange","getInteractionConfig","G2_GEOM_MAP","column","PLOT_GEOM_MAP","adjustColor","conversionTag","responsive","applyResponsive","geometryParser","processedData","extractScale","adjustColumn","getGeom","positionFields","geometryTooltip","EventParser","getGeometryByType","stage","methods","method","registerPlotType","BaseColumnLayer","glMatrix","fromMat4","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","identity","a01","a02","a00","b01","b11","b21","det","adjoint","determinant","multiply","b00","b02","b10","b12","b20","b22","rad","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","a0","a1","a2","a3","a4","a5","a6","a7","a8","b1","b2","b3","b4","b5","b6","b7","b8","mul","visibility","rendered","eventHandlers","getLayerBBox","layerRegion","getLayerRegion","removeLayer","updateBBox","recursive","originRange","newRange","updateBBoxByParent","getGlobalPosition","globalX","globalY","getGlobalBBox","globalPosition","parentWidth","parentHeight","parentX","parentY","getPosition","mappingDatumIndex","getTextFill","getTextStroke","getTextAlign","getTextBaseLine","adjustPosition","labelRange","shapeRange","getElementShapeBBox","yPosition","dir","shapeColor","shapeOpacity","mappingColor","xValuesMin","xValueMax","yValuesMin","yValuesMax","registerLabelComponent","ColumnLabel","defaultGuidelineCfg","getGroup","exp","shapeContainers","createStateManager","manager","_updateStateProcess","onStateChange","_stateChangeProcess","related","_getShapes","_getOriginAttrs","shapeOrigin","stateStyle","_getDefaultStateStyle","originAttr","setZIndex","_parserRelated","setStateCfg","_eventParser","onChangeCfg","geoms","shapeContainer","eventCfg","styleField","getComponentStateMethod","stateType","resetZIndex","_INDEX","RESPONSIVE_THEME_MAP","DEFAULT_RESPONSIVE_THEME","GEOM_MAP","markerPoints","lineSize","lineStyle","lineJoin","lineCap","wordSpacing","markerPoint","markerPointOpt","seriesField","trySetScaleMinToZero","addLine","getPlotOption","LineActive","LineSelect","singleLineLabelCheck","LineLayer","SCALE_MAPPER","cat","timeCat","axisInstance","getAxisInstance","shouldApply","responsiveTheme","rawLabels","shapeNodes","constraints","rules","nodes","onEnd","updateTicks","origion_nodes","getType","scaleType","axisIndex","tickLineContainer","ext","radian","bar","inputData","adjustBar","getLabelOptionsByPosition","BaseBarLayer","connectedArea","triggerOn","stackField","StackedColumnLayer","percent2Number","endsWith","CROOK_DISTANCE","adjustOverlap","overlapArea","prev","prevBox","currBox","near","checkInPanel","adjustItem","initArcPoints","drawTexts","getFilteredSum","angleField","filteredDataItem","allowOverlap","shapeInfos","shapeInfo","filteredSum","percent","textShape","panelBox","adjustText","rotateLabel","ellipsisTexts","getEllipsisText","itemGroups","anchor","arcPoints","inLeft","breakAt","getEndPoint","labelPosition","smoothPath","straightPath","linePath","anchors","DAY_FIELD","WEEK_FIELD","DATE_FIELD","IS_MONTH_CENTER_FIELD","FORMATTER","MONTHS","WEEKS","divide","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","normalize","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformMat4","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","mag","cosine","vec","div","sqrDist","sqrLen","stride","arg","register_1","register","lineCount","offscreen_1","getOffScreenContext","util_1","catmullRom2Bezier","transformMat2","transformMat2d","sinC","cosC","startArrowShape","endArrowShape","EVENT_TYPES","_eventHandlers","_bindEvents","startEvent","processEvent","endEvent","resetEvent","_start","preStart","afterStart","_process","preProcess","afterProcess","_end","preEnd","afterEnd","_reset","preReset","afterReset","wrapBehavior","_unbindEvents","eh","G2DefaultTheme","plotG2Theme","_getPointRadius","smoothBezier","parseSize","parseColor","parseStyle","sizeProps","styleProps","datumIndex","overlap","isOverlapped","getGlobalTolerance","labelResamplingByChange","clearOverlapping","previous","findPrevious","currentCenter","previousCenter","distX","distY","overlapped","isBBoxIntersect","labelABBox","labelBBBox","labelsClone","PointLabel","DEFAULT_BAR_THEME","darkStyle","lightStyle","columnStyle","normal","disable","getTextBaseline","xPosition","BarLabel","autoRotateTitle","StackedBarLayer","transformDataPercentage","groupField","measures","chain","groupBy","vals","groupTotals","newData","itemIdx","fieldIdx","areaStyle","adjustArea","adjustLine","adjustPoint","lineConfig","AreaLayer","plotComponents","lineLabel","areaLabel","renderPlotComponents","getPlotComponents","StackedAreaLayer","DEFAULT_COLUMN_THEME","marginRatio","GroupedColumnLayer","xOverlap","yOverlap","rose","sectorStyle","categoryField","radiusField","getRadiusScale","getAngleScale","coordConfig","widthRatio","extractLabel","adjustRoseAdjust","adjustLabelOptions","labelOptions","RoseLayer","waterfall","VALUE_FIELD","IS_TOTAL","diffLabel","leaderLine","showTotal","waterfallStyle","adjustLegendOptions","adjustMeta","_parseStyle","_parseColor","plotData","prevValue","totalValue","isObject","rising","falling","legendOptions","metaOptions","valueFieldMeta","WaterfallLayer","advanceBy","ms","setMilliseconds","DAY_MS","dates","ds","curr","oneJan","rangeBackgroundStyle","rangeSize","statistic","subTickCount","pivot","thickness","pin","rangeSorted","valueText","initG2Shape","gaugeShape","GaugeShape","uniqueId","setOption","textPosition","offsetValue","annotationConfigs","statistics","renderStatistic","containerSize","GaugeLayer","defaultLineConfig","connectNull","defaultColumnConfig","defaultYAxisConfig","colorMapping","leftConfig","rightConfig","columnConfig","lineSeriesField","colors_20","seriesValue","getValueBySeriesField","checkData","drawColumn","metaInfo","createLayer","customLegend","adjustLayout","containerDom","originItem","dataItemsA","getDataByXField","geomLayers","getUnCheckedValue","totalItems","legendCfg","symbols","createNormalLegend","createSingleLegend","multipleLegendFilter","legendFilter","Category","updateAutoRender","itemBackground","legendItems","filteredValue","legend_group","layerHide","showLayer","pull","hideLayer","lineData","ColumnLineLayer","quadraticAt","segments","nextParams","startTangent","endTangent","startMovePoint","lastStartMovePointIndex","segment","graph_event_1","vRatio","u","arrowShape","Group","Marker","onAttrChange","cx","cy","isHit","r4","Text","clip","hasAttribute","createDom","sortDom","afterAttrsChange","getDefaultAttrs","circle","square","diamond","triangle","triangleDown","createPath","Polyline","r1","r3","DAY","miniute","week","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","runClearTimeout","Item","nextTick","browser","env","argv","version","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","it","textWrapper","textContent","tShape","wrappedTextArr","wrappedText","chars","breakIndex","breakText","combineFormatter","formatters","curText","getNoopFormatter","getPrecisionFormatter","getSuffixFormatter","suffix","_states","_stateStack","_onUpdate","getState","getAllStates","_changeTimer","stateStack","_triggerEvent","getDataByScaleRange","vertical","groupedData","newValues","GLOBAL_THEME_MAP","DEFAULT_GLOBAL_THEME","dark","DEFAULT_DARK_THEME","defaultTheme","COLOR_PLATE_10","COLOR_PLATE_20","DESCRIPTION_BOTTOM_MARGIN","legendPosition","TOP_BLEEDING","titleVisible","descriptionVisible","BOTTOM_BLEEDING","bleeding","alignWithAxis","lineDash","autoHideLabel","alignWithLabel","innerPadding","boxShadow","_getColorMappingField","colorMappingField","parseShape","_parserNodes","measure","MathUtil","measureNodes","node","iterationTime","iterationIndex","rulesLocker","constraintIndex","currentConstraint","_run","onStart","_iteration","_applyRules","onIteration","constraintPassed","_constraintsTest","constraintsLib","constraintOption","usage","_constraintCompare","_constraintAssignment","expression","_chainConstraintCompare","_paddingConstraintCompare","_groupConstraintCompare","_chainConstraintAssign","_paddingConstraintAssign","ruleCfg","rule","rulesLib","_applyRule","elementDist","elementDistVertical","elementCollision","elementWidth","columnWidth","ringThickness","minRingThickness","textRotation","textAbbreviate","textHide","digitsAbbreviate","datetimeStringAbbrevaite","robustAbbrevaite","nodesResampling","nodesResamplingByAbbrevate","nodesResamplingByChange","nodesResamplingByState","nodeJitter","nodeJitterUpward","isNodeOverlap","nodeA","nodeB","_shape","getDateTimeMode","mapper","campareText","startText","endText","timeDuration","timeCycle","previousText","currentStamp","previousStamp","needAbbrevaite","cycle","getAbbrevaiteFormatter","sameSectionFormatter","unitMapper","abbravateDigitsByUnit","unitname","order","decimal","numbers","extractNumbers","unitNumber","getUnitByNumber","unitBit","intervalBit","remainder","remainderBit","getDigitsDecimal","getLinearNodesInterval","isKeep","keepCfg","oddKeep","keep","isOdd","abbravateText","abbreviateBy","labelShapesContainer","groupedMap","sortLabels","checkOriginEqual","datumLeft","datumRight","moveInPanel","downFail","checkShapeOverlap","PointAutoLabel","labelStyle","originPoints","lastPoint","_init","arrow","headSize","valueUpper","valueLower","shapeLower","shapeUpper","_drawTag","pointUpper","pointLower","_drawTagArrow","_drawTagValue","totalWidth","tagArrow","_fadeInTagShape","tagValue","textWidth","cWidth","cEnd","textAdjusted","shouldInShapeLabels","inShapeLabels","autoHideLabels","groupedLabels","curGroup","fillWhite","filteredLabels","filterLabels","todo","pages","BarAutoLabel","valuesOfKey","origin_items","defaultMeta","GroupedBarLayer","metaConfig","PercentStackedBarLayer","AreaPointLabel","adjustAreaLabelsStyle","areaGeometry","areas","getStrokePoints","bgColor","AreaPointAutoLabel","DEFAULT_AREA_THEME","pointStyle","fillStyle","PercentStackedAreaLayer","ColumnAutoLabel","SHAPE_EVENT_MAP","StackedColumnLabel","PercentStackedColumnLayer","pie","pieStyle","labelComponent","labelConfig","LabelCtor","getPieLabel","PieLayer","ring","totalLabel","triggerOff","DonutLayer","centralId","statisticClass","adjustLabelDefaultOptions","removeChild","wrapperNode","labelStyleConfig","scatter","quadrant","trendline","plotOptions","isValidLinearValue","xAxisType","yAxisType","timeLineInteraction","keyField","extractTooltip","ScatterLayer","confidence","quadrantLabel","quadrantLine","uid","Gauge","gauge","ringRadius","getAngleRange","starAngle","currentAngle","drawBarGauge","drawInSideAxis","drawGauge","drawOutSideAxis","drawAxis","drawPivot","drawBottomRing","drawRangeColor","drawCurrentRing","rangeStyle","valueToAngle","path2","drawRing","backgroundStyle","ringStyle","path3","startValue","drawRect","tickLineStyle","result1","sortedLastIndex","colorIndex","angleValue","xA1","yA1","xB1","yB1","thick","xA2","yA2","xB2","yB2","largeArcFlag","pivotConfig","bigCircle","smCircle","dirVec","angle1","angle2","progress","DEFAULT_COLOR","isEntered","processProps","barSize","getSize","barStyle","progressStyle","parseColorProps","hasKey","styleUpdateAnimation","updateColorConfigByStyle","updateMarkers","markers","progressSize","progressContainer","rect","colorOption","markerLength","animationOptions","getUpdateAnimationOptions","progressShapes","ProgressLayer","requiredField","mockData","getMockData","changeDataByIndex","LayerCtr","colorValue","yAxisConfig","styleMap","styleKey","yAxisGlobalConfig","getYAxisGlobalConfig","leftScaleData","getScaleData","linearScale","isInteger","legendABBox","legendBBBox","leftPadding","rightPadding","legendHeight","LEGEND_MARGIN","uniquePadding","setLocation","getYAxisContainer","setGeometryVisibility","axisCtr","axisGroups","uncheckedItems","viewMinX","viewMaxX","viewMinY","viewMaxY","mock","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","matchUserAgent","ua","matched","_a","regex","uaMatch","parseUserAgent","matchedRule","versionParts","output","ii","createVersionParts","detectOS","searchBotMatch","getNodeVersion","detect","userAgent","navigator","product","browserName","parseToLines","lines","LayerConfig","ViewConfig","PlotConfig","TinyLayerConfig","ProgressConfig","RingProgressConfig","TinyColumnConfig","TinyAreaConfig","TinyLineConfig","DualLineConfig","ColumnLineConfig","GroupedColumnLineConfig","StackedColumnLineConfig","registerResponsiveConstraint","IConstraint","registerResponsiveRule","registerResponsiveTheme","util_2","text_1","analyzePoints","totalLength","calcDirection","xDistance","calcDistance","convertPoints","touches","touch","touchStart","startTime","startPoints","startDistance","pressTimeout","emitStart","eventType","touchMove","clearPressTimeout","currentDistance","getEventType","prevMoveTime","lastMoveTime","prevMovePoints","lastMovePoints","touchEnd","emitEnd","intervalTime","velocity","delegateEvent","isProcess","panEventListeners","getEvents","pan","Controller","propagationDelegate","isNumberEqual","Component","propertyMapping","themeConfig","_needDraw","_styleParser","localProps","_isVisible","_lineParser","_gridParser","_tickLineParser","_labelParser","_titleParser","propos","propsConfig","applyThemeConfig","alternateColor","restLabelProps","parseFormatter","titleConfig","getDefaultStyle","baseConfig","stateValue","_getState","toArray","extractXValue","_extractValues","getDefaultTextAlign","textConfig","rest","originConfig","getConfig","parseCallBack","labelProps","parseOffset","onActive","getAllAxisLabels","beforeCompare","disableStyle","fontWeight","axisComponentOption","labelArr","scaleField","labelData","con","getAllLabels","geomLabels","POSITION_MAPPER","getPositionField","shouldActive","processState","expected","originItems","getValidScrollbarConfig","_cfg","categorySize","onChangeFn","paddingTop","paddingRight","paddingBottom","paddingLeft","thumbOffset","trackLen","renderScrollbar","measureScrollBar","changeViewData","getScrollRange","scrollbar","thumbLen","isHorizontal","cnt","xScaleCfg","yScalesCfg","clamp","startIdx","endIdx","origData","metaCfg","origAnimate","getValidSliderConfig","foregroundStyle","handlerStyle","renderSlider","getSliderData","getSliderConfig","getSliderMinMaxText","isArea","getSliderTrendData","getValidTimeLineConfig","loop","auto","speed","setAnimate","isAnimate","renderTimeLine","timeLineConfig","defaultCurrentTick","timeline","originAnimation","getFilterData","firstRender","isPlay","changePlayStatus","onTimeSelectMouseMove","stopPropagation","preventDefault","pageX","prevX","setTimeSelectX","onTimeSelectMouseUp","syncCurrnentTick","onTimeSelectMouseDown","renderPlayButton","renderTimeSelect","timeLineButton","timeSelect","playHandler","cancelAnimationFrame","initEvent","getTimeLinePath","timeLine","tickPosList","textList","lastX","timeSelectText","adjustTickIndex","timeSelectX","startPlay","isSync","updateElement","renderMarker","initElement","startMarker","getStartMarkerPath","pauseGroupMarker","pauseLeftMarker","pauseRightMarker","sideLength","innerPaddingComponents","outerPaddingComponents","checkIfExist","clearOuterComponents","_getInnerAutoPadding","components_bbox","_getAxis","_mergeBBox","_getLegend","panelPadding","_getPanel","globalBBox","bboxes","getAxisComponents","getLegendComponents","rightDist","leftDist","topDist","bottomDist","backgroundColor","PLOT_THEME_MAP","styleMapShape","g2Theme","geometryTheme","convertThemeToG2Theme","plotTheme","category","lineNumber","degree","dateTime","getCanvasSize","offsetWidth","offsetHeight","getCanvasDOM","globalTheme","styles","resizeObserver","unobserve","disconnect","bindForceFit","observe","initGCanvas","SVG","MapShim","getIndex","entry","class_1","__entries__","configurable","entries","_i","isBrowser","global$1","global","self","Function","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","childList","characterData","subtree","_b","propertyName","getInstance","instance_","defineConfigurable","writable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","getBordersSize","positions","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getContentRect","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","clearActive","observation","ResizeObserver","addEvent","onEvents","eventObj","getEventObj","isShapeInView","onLayerEvent","onMove","shape1","shape2","lastShape","groupName","parentName","isPointInBBox","subLayers","LineConfig","TreemapConfig","StepLineConfig","BarConfig","StackedBarConfig","GroupedBarConfig","PercentStackedBarConfig","RangeBarConfig","AreaConfig","StackedAreaConfig","PercentStackedAreaConfig","ColumnConfig","GroupedColumnConfig","StackedColumnConfig","RangeColumnConfig","PercentStackedColumnConfig","PieConfig","DensityHeatmapConfig","HeatmapConfig","WordCloudConfig","RoseConfig","FunnelConfig","StackedRoseConfig","GroupedRoseConfig","RadarConfig","LiquidConfig","HistogramConfig","DensityConfig","DonutConfig","WaterfallConfig","ScatterConfig","BubbleConfig","BulletConfig","CalendarConfig","GaugeConfig","FanGaugeConfig","MeterGaugeConfig","layerProps","main","mini","isSmooth","getStraightPath","parseGradient","COLOR_MAPPER","_needParserColor","_getSizeProps","_getStyleProps","_needParseAttribute","sizeField","mappingField","_parseColorByField","getValuesByField","plotInfo","getPositionByRatio","dataPoints","currentX","animationConfig","shapeData","onFrame","yText","getDataByPosition","afterRenderResponsive","preRender","polygonA","polygonB","minThickness","vector_horizontal","mag_horizontal","adjustAngle","alignDirection","shapeBbox","shapeId","getShapeById","getShapeId","originX","originY","origin_position","nodesClone","getNodeByNumber","stateNodes","extract_data","min_node","max_node","median_node","getStateNodes","initialProps","isState","isTime","wrapperText","ApplyResponsiveLineLabel","DEFAULT_STYLE","ACTIVE_STYLE","SELECTED_STYLE","getDataArray","_renderPoints","_addInteraction","dataItemIdx","isMatch","pointAttrs","imageUrl","_animatePoint","_renderLabel","pointShape","selectedPoint","_onActive","_onInactive","_onSelected","Treemap","maxLevel","isDrilldown","treemapData","getTreemapData","rootData","getAllNodes","depth","isNested","adjustStyleByDepth","rectStyle","interactionCfg","inter","Ctr","INTERACTION_MAP","showLabel","cliperHeight","labelHeight","getLabelHeight","parentLabelOffset","c_rows","x0","fillColorField","fieldName","PARENT_NODE_OFFSET","nested","TreemapLayer","sumValue","beta","newRatio","minRatio","nodeValue","dice","node_x","node_y","drilldown","startNode","itemWidth","itemHeight","currentNode","currentDepth","drillingDown","tempoData","initGeometry","saveOriginMapping","startNodeName","onInteraction","currentWidth","rootItem","getRootItem","parents","findParent","targetParent","rollingUp","updateRoot","previousDepth","mappingInfo","originMapping","mappingCfg","DrillDownInteraction","onItemGroupToggleActive","itemGroup","rectShape","itemActiveBackgroundStyle","itemBackgroundStyle","offEvents","itemPadding","separator","separatorStyle","maxItemWidth","renderItems","startX","topPadding","bottomPadding","backgroundRect","class","textShapeBBox","backgroundRectAttr","sepShape","emitEventName","clickCallback","dblclickCallback","mouseEnterCallback","mouseLeaveCallback","getTemShapes","tem_shapes","getRect","hideLabel","transformMatrix","tem_container","groupTransform","findShapeByName","shrinkTemp","tailShape","tailWidth","abbreviateWidth","isLeafNode","adjustLeafLabel","adjustParentLabel","labelText","LEAF_LABEL_OFFSET","StepLineLayer","StepLine","Bar","StackedBar","StackedBarLabel","StackedBarAutoLabel","GroupedBar","PercentStackedBar","RangeBar","shapeCaches","setShapeCache","RangeBarLayer","leftStyle","rightStyle","getTextColor","getShapeBbox","la","lb","shapeMinX","shapeMaxX","shapeWidth","shapeCache","clipInFromCenter","updateFromCenter","fromPath","getShapeFromCache","toPath","animationName","Area","StackedArea","ComponentsInfo","componentInfo","interpolateY","leftPoint","rightPoint","getXIndex","scaleFactor","groupedPoints","labelPoints","pointArray","labelPoint","drawLabel","labelSize","getFontSize","autoScale","xRange","resolution","interpolatedPoints","getInterpolatedPoints","getLabelBbox","fitOption","aspect","justTest","bisection","testFit","fit","testOption","maxIteration","passesTest","x1_index","ceiling","ceilingFloor","StackedAreaPointLabel","StackedAreaPointAutoLabel","PercentStackedArea","Column","ApplyResponsiveColumnLabel","GroupedColumn","StackedColumn","_areaStyle","_lineStyle","groupedShapes","_getGroupedShapes","_drawConnection","_initialAnimation","_onDisabled","originColor","_getShapeStyle","styleName","mappedStyle","getClip","StackedColumnAutoLabel","RangeColumn","RangeColumnLayer","topStyle","bottomStyle","textBaeline","shapeMinY","shapeMaxY","shapeHeight","DEFAULT_OFFSET","clipInFromCenterVertical","updateFromCenterVertical","PercentStackedColumn","Pie","PieLabelConfig","PieLabels","inner","outer","measureTextWidth","memoize","font","fontStyle","fontVariant","measureText","leftText","DOT_WIDTH","currentText","leftWidth","prevLabel","resolveCollision","prevBBox","pos1","pos2","getOverlapInfo","yMover","actualPos","leftHalf","isLeft","_antiCollision","totalR","maxLabelsCount","labelBox","topLabels","bottomLabels","adjustLabels","isBottom","ry","maxLabelWidth","rx","rxPow2","ryPow2","boxCenter","distance_offset","_adjustOptions","halves","polarRadius","targetAngle","anchorPoint","inflectionPoint","shapeIndex","_anchor","_inflection","_data","textGroup","_side","texts","formatted","textAttrs","lowerText","lowerTextAttrs","maxCountForOneSide","sidePadding","canvasHeight","totalH","labelY","labelWidth","drawnLabels","_drawLabel","_drawLabelLine","x_dir","point3","starter","DensityHeatmap","intensity","defaultConfig","DensityHeatmapLayer","prepareBlur","colorUtil","circleCanvas","grayScaleCanvas","circleRadius","globalCompositeOperation","Image","toDataURL","LinearHeatmap","background","renderColorBackground","renderImageBackground","dataSlides","getDarkOptions","getLayout","getDefaultWidth","getDefaultHeight","plotContainer","getScales","colorScale","renderHorizontal","renderVertical","legendLayout","addInteraction","origin_bbox","gridWidth","gridHeight","gridLineContainer","gridColors","valueStep","appendInfo","dataSlide","getDataSlide","gridlineStyle","plotWidth","plotHeight","getTopPosition","targetInfo","relativeData","getFilteredData","slide","heatmap","legendLabel","heatmapBackground","changeShape","mappingSize","disableMappingSize","getSizeScale","Heatmap","gridSize","gridAlign","circleToRect","rectToCircle","rectSizeMapping","circleSizeMapping","rectDisableSizeMapping","circleDisableSizeMapping","geomConfig","getGridSize","addRect","addCircle","styleConfig","shapeSize","sizeRatio","curvePath","getCircleCurve","rectPath","ps","offsetRatio","circlePath","getCirclePath","HeatmapLayer","getContent","interactiveEvents","colorStep","tickStep","gradientColor","ticklineStyle","tri_path","tri_height","anchorStyle","tri_width","geomEventHandler","moveAnchor","mouseleaveHandler","mouseleave","_toolTipsAction","dimension","_toolTips","weight","_configHoverAction","onWordCloudHover","_enableToolTips","enableToolTips","_initToolTips","_render","inPanel","_targetCanvas","maskImage","_handleMaskImage","crossOrigin","onload","naturalHeight","naturalWidth","_startWithMaskImage","onerror","_handleG2PlotConfig","targetCtx","wordStyle","rotation","minFontSize","maxFontSize","minRotation","maxRotation","_scaleMaskImageCanvas","_transformWhite2BlackPixels","maskImageCanvas","maskImageContext","bctx","fillRect","bgPixel","imageData","newImageData","createImageData","clearCanvas","maskCanvasScaled","imageSmoothingEnabled","newCfg","itemTpl","setImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","oSetImmediate","postMessage","callbacks","message","stopImmediatePropagation","clearImmediate","msClearImmediate","webkitClearImmediate","mozClearImmediate","oClearImmediate","isSupported","fillText","hanWidth","mWidth","shuffleArray","WordCloud","tagName","settings","animatable","drawOutOfBound","drawMask","maskColor","maskGapWidth","abortThreshold","abort","rotateRatio","rotationSteps","shuffle","ellipticity","classes","onWordCloudClick","interactionItems","fontKey","maxWeight","isCardioid","theta","thetaPrime","ngx","ngy","maxRadius","escapeTime","maskRectWidth","rotationRange","random_hsl_color","getTextClasses","hovered","interactive","infoGrid","getInfoGridFromMouseTouchEvent","currentTarget","getBoundingClientRect","eventX","eventY","defaultHoverAction","wordcloudhover","wordcloudclick","pointsAtRadius","getPointsAtRadius","T","exceedTime","getTextInfo","rotateDeg","getRealFontSize","mu","fcanvas","fctx","willReadFrequently","fw","fh","boxWidth","boxHeight","fgw","fgh","fillTextOffsetX","fillTextOffsetY","cgh","cgw","setAttribute","gy","occupied","gx","bounds","singleGridLoop","gw","gh","fillTextWidth","fillTextHeight","drawText","getInteractionItemById","save","transX","transY","restore","span","transformRule","styleRules","whiteSpace","webkitTransform","msTransform","transformOrigin","webkitTransformOrigin","msTransformOrigin","cssProp","fillGridAt","tryToPutWordAtPoint","gxy","canFitText","updateGrid","rot","putWord","sendEvent","cancelable","detail","createEvent","initCustomEvent","dispatchEvent","webkitTapHighlightColor","stopInteraction","loopingFunction","stoppingFunction","listener","anotherWordCloudStart","drawn","canceled","Rose","Funnel","_shouldResetPercentages","_shouldResetLabels","_shouldResetCompareTexts","_legendsListenerAttached","_onLegendContainerMouseDown","legendItem","refreshPercentages","refreshLabels","dynamicHeight","_findCheckedDataByMouseDownLegendItem","_genCustomFieldForDynamicHeight","compareField","_updateDataForCompare","refreshCompareTexts","adjustProps","_reduceDataForCompare","percentage","yValueUpper","yValueLower","compareText","adjustFunnel","funnel","funnelStyle","htmlContent","clss","elMarker","CONTAINER_CLASS","elRoot","TITLE_CLASS","elTitle","MARKER_CLASS","LIST_CLASS","pairs","compareValues","compareValue","LIST_ITEM_CLASS","elListItem","NAME_CLASS","VALUE_CLASS","appearDuration","_animationAppearTimeoutHandler","fadeInPercentages","fadeInCompareTexts","fadeInLabels","resetLabels","resetPercentages","resetCompareTexts","percentageContainer","_findPercentageContainer","compareTextContainer","_findCompareTextContainer","checkedData","_findCheckedDataInNewData","percentageLine","percentageText","percentageValue","adjustTimestamp","_eachShape","datumLower","datumUpper","_findPercentageMembersInContainerByIndex","valueWidth","textProc","valueProc","eachProc","lastBBox","members","currBBox","eachCalc","member","fadeOutPercentages","_calcRefreshFadeDurations","fadeOutDuration","createIfNotFound","lineId","textId","valueId","updateDuration","enterDuration","fadeInDuration","datumTop","_getGeometry","_getAdjustedTextFillByShape","__compare__","formatArgs","_findLabelInContainerByIndex","fadeOutLabels","shapeParentBBox","fadeOutCompareTexts","_findCheckedData","ratioUpper","ratioLower","dataLength","flags","uncheckedXValues","compareValueFirstVisited","newDatum","yValuesNext","yTotal","FunnelLayer","_getRectPoints","yRatios","yRatiosNext","yValueNext","_getFunnelPath","firstPointX","pointX","_getRectPath","funnelScaleInX","shapeTargetAttrs","funnelScaleInY","StackedRose","StackedRoseLayer","GroupedRose","GroupedRoseLayer","Radar","angleAxis","radiusAxis","gridType","RadarLayer","changeValue","Liquid","shouldFadeInAnnotation","liquidStyle","adjustLiquid","liquid","statisticConfig","extractStatistic","fadeInAnnotation","colorStyle","calcAnnotationColorStyle","forIn","darkColorStyle","waveColor","strokeWidth","LiquidLayer","ShapeUtil","ValueUtil","getLineAttrs","defaultAttrs","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","cp","minP","getFillAttrs","waves","clipCircle","waveCount","wave","addWaterWave","liquidMoveIn","wrap","wrapTargetOpacity","wavesTargetMatrix","Histogram","binField","binWidth","binNumber","originData_copy","sortBy","rangeWidth","_binWidth","_defaultBinNumber","bins","bin","getBin","binName","HistogramLayer","Density","kernels","epanechnikov","gaussian","uniform","quartic","triweight","cosinus","originXAxisConfig","kernel","kernelFunc","originDataCopy","_binNumber","samples","densities","density","kernelDensityEstimator","DensityLayer","Donut","adjustOptions","triggerOnEvent","displayData","parseStatisticData","htmlString","getStatisticHtmlString","updateHtml","triggerOffEvent","getTotalValue","getStatisticTemplate","html","getStatisticSize","statisticTemplate","getSingleDataTemplate","getTwoDataTemplate","triggerOnConfig","isElement","htmlNode","setDomPosition","innerHTML","updatePosition","alignX","alignY","getOuterWidth","getOuterHeight","containerStyle","valueStyle","classId","Waterfall","linkPath","shapeBox","WaterfallLabel","formattedText","Scatter","quadrantGroups","regionData","xRegion","xBaseline","yBaseline","verticalLineData","horizontalLineData","topQuadrant","bottomQuadrant","rightTopQuadrant","rightBottomQuadrant","leftTopQuadrant","leftBottomQuadrant","getRegionStyle","getLabelConfig","regionStyle","REGRESSION_MAP","regressionExp","regressionLinear","loess","regressionLoess","regressionLog","poly","regressionPoly","regressionPow","quad","regressionQuad","showConfidence","confidenceStyle","reg","xscale_view","yscale_view","trendlineData","LinearScale","yRange","confidencePath","getConfidencePath","getTrendlinePoints","conf","rSquared","confidenceData","upperPoints","lowerPoints","y0Ratio","y1Ratio","viewScale","dataMin","minBy","dataMax","maxBy","maxRatio","trendMin","trendMax","inactive","Bubble","BubbleLayer","HOLLOW_SHAPES","Bullet","bullet","STACK_FIELD","X_FIELD","Y_FIELD","rangeColors","measureSize","markerSize","markerColors","ranges","bulletRect","bulletTarget","markerColor","measureColors","adjustYAxisOptions","dataOptions","dataIdx","valueIdx","BulletLayer","rangeBox","drawBulletTicks","ticksStyle","tickPosition","tickOffset","tickIdx","tickText","tickLineCfg","drawTarget","Calendar","dateField","dateRange","getDateRange","generateCalendarData","polygonConfig","monthWeek","getMonthCenterWeek","weeks","months","CalendarLayer","parseDateRange","fromDate","toDate","dateString","getWeek","monthWeekMap","append","isLastWeekOfMonth","isLastDayOfMonth","FanGauge","rangeColor","bottomRatio","1","siderTexts","renderSideText","allAnnotations","FanGaugeLayer","MeterGauge","MeterGaugeLayer","RingConfig","GroupColumnConfig","GroupBarConfig","PercentageStackAreaConfig","PercentageStackBarConfig","PercentageStackColumnConfig","StackAreaConfig","StackBarConfig","StackColumnConfig","Ring","GroupColumn","GroupBar","PercentageStackArea","PercentageStackBar","PercentageStackColumn","StackArea","StackBar","StackColumn","Progress","updateCfg","origin_attr","RingProgress","getThickness","RingProgressLayer","ringProgress","TinyColumn","columnSize","columnNumber","getColumnNum","TinyColumnLayer","onColumnClick","onColumnDblclick","onColumnMousemove","onColumnMousedown","onColumnMouseup","onColumnMouseenter","onColumnMouseleave","onColumnContextmenu","TinyArea","TinyAreaLayer","onAreaClick","onAreaDblclick","onAreaMousemove","onAreaMousedown","onAreaMouseup","onAreaMouseenter","onAreaMouseleave","onAreaContextmenu","onLineClick","onLineDblclick","onLineMousemove","onLineMousedown","onLineMouseup","onLineMouseenter","onLineMouseleave","onLineContextmenu","TinyLine","TinyLineLayer","DualLine","lineConfigs","serieField","spliceIndex","DualLineLayer","ColumnLine","GroupedColumnLine","groupedValue","getValueByGroupField","columnGroupField","columnData","mockA","mockB","GroupedColumnLineLayer","StackedColumnLine","stackedValue","getValueByStackField","columnStackField","StackedColumnLineLayer","isFinite","xv","yv","X","Float64Array","Y","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","delta","slope","domain","YL","XY","XYL","X2Y","ly","xy","X2","intercept","bandwidth","bw","yhat","residuals","robustWeights","i0","i1","W","denom","xk","yk","tricube","xkw","updateInterval","medianResidual","logarithmic","lx","quadratic","X3","X4","n0","X2X2","polynomial","coefficients","lhs","rhs","coef","gaussianElimination","uncenter","power","YS"],"mappings":"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","file":"g2plot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G2Plot\"] = factory();\n\telse\n\t\troot[\"G2Plot\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 167);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArrayLike = function (value) {\n    /**\n     * isArrayLike([1, 2, 3]) => true\n     * isArrayLike(document.body.children) => true\n     * isArrayLike('abc') => true\n     * isArrayLike(Function) => false\n     */\n    return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\nexports.default = isArrayLike;\n//# sourceMappingURL=is-array-like.js.map","import isArrayLike from './is-array-like';\nvar contains = function (arr, value) {\n    if (!isArrayLike(arr)) {\n        return false;\n    }\n    return arr.indexOf(value) > -1;\n};\nexport default contains;\n//# sourceMappingURL=contains.js.map","import isArrayLike from './is-array-like';\nvar filter = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        if (func(value, index)) {\n            result.push(value);\n        }\n    }\n    return result;\n};\nexport default filter;\n//# sourceMappingURL=filter.js.map","import filter from './filter';\nimport contains from './contains';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\nvar difference = function (arr, values) {\n    if (values === void 0) { values = []; }\n    return filter(arr, function (value) { return !contains(values, value); });\n};\nexport default difference;\n//# sourceMappingURL=difference.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexports.default = isType;\n//# sourceMappingURL=is-type.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * \n * @param  {*} fn \n * @return {Boolean}  \n */\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (value) {\n    return is_type_1.default(value, 'Function');\n});\n//# sourceMappingURL=is-function.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexports.default = isNil;\n//# sourceMappingURL=is-nil.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (value) {\n    return Array.isArray ?\n        Array.isArray(value) :\n        is_type_1.default(value, 'Array');\n});\n//# sourceMappingURL=is-array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return value !== null && type === 'object' || type === 'function';\n});\n//# sourceMappingURL=is-object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"./is-array\");\nvar is_object_1 = require(\"./is-object\");\nfunction each(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (is_array_1.default(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (is_object_1.default(elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\nexports.default = each;\n//# sourceMappingURL=each.js.map","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) { return Object.keys(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(key);\n        }\n    });\n    return result;\n};\nexport default keys;\n//# sourceMappingURL=keys.js.map","import isNil from './is-nil';\nimport keys from './keys';\nfunction isMatch(obj, attrs) {\n    var _keys = keys(attrs);\n    var length = _keys.length;\n    if (isNil(obj))\n        return !length;\n    for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isMatch;\n//# sourceMappingURL=is-match.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nexports.default = isObjectLike;\n//# sourceMappingURL=is-object-like.js.map","import isObjectLike from './is-object-like';\nimport isType from './is-type';\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\nexport default isPlainObject;\n//# sourceMappingURL=is-plain-object.js.map","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nfunction find(arr, predicate) {\n    if (!isArray(arr))\n        return null;\n    var _predicate;\n    if (isFunction(predicate)) {\n        _predicate = predicate;\n    }\n    if (isPlainObject(predicate)) {\n        _predicate = function (a) { return isMatch(a, predicate); };\n    }\n    if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n            if (_predicate(arr[i])) {\n                return arr[i];\n            }\n        }\n    }\n    return null;\n}\nexport default find;\n//# sourceMappingURL=find.js.map","function findIndex(arr, predicate, fromIndex) {\n    if (fromIndex === void 0) { fromIndex = 0; }\n    for (var i = fromIndex; i < arr.length; i++) {\n        if (predicate(arr[i], i)) {\n            // \n            return i;\n        }\n    }\n    return -1;\n}\nexport default findIndex;\n//# sourceMappingURL=find-index.js.map","import isNil from './is-nil';\nimport isArray from './is-array';\nvar firstValue = function (data, name) {\n    var rst = null;\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil(value)) {\n            if (isArray(value)) {\n                rst = value[0]; // todo  firstValue @\n            }\n            else {\n                rst = value;\n            }\n            break;\n        }\n    }\n    return rst;\n};\nexport default firstValue;\n//# sourceMappingURL=first-value.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\nvar flatten = function (arr) {\n    if (!isArray(arr)) {\n        return [];\n    }\n    var rst = [];\n    for (var i = 0; i < arr.length; i++) {\n        rst = rst.concat(arr[i]);\n    }\n    return rst;\n};\nexport default flatten;\n//# sourceMappingURL=flatten.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\nvar flattenDeep = function (arr, result) {\n    if (result === void 0) { result = []; }\n    if (!isArray(arr)) {\n        result.push(arr);\n    }\n    else {\n        for (var i = 0; i < arr.length; i += 1) {\n            flattenDeep(arr[i], result);\n        }\n    }\n    return result;\n};\nexport default flattenDeep;\n//# sourceMappingURL=flatten-deep.js.map","import isArray from './is-array';\nvar getRange = function (values) {\n    //  NaN min,max \n    var filterValues = values.filter(function (v) { return !isNaN(v); });\n    if (!filterValues.length) { // 0\n        return {\n            min: 0,\n            max: 0,\n        };\n    }\n    if (isArray(values[0])) {\n        var tmp = [];\n        for (var i = 0; i < values.length; i++) {\n            tmp = tmp.concat(values[i]);\n        }\n        filterValues = tmp;\n    }\n    var max = Math.max.apply(null, filterValues);\n    var min = Math.min.apply(null, filterValues);\n    return {\n        min: min,\n        max: max,\n    };\n};\nexport default getRange;\n//# sourceMappingURL=get-range.js.map","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\nvar pull = function (arr) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var fromIndex = -1;\n        while ((fromIndex = indexOf.call(arr, value)) > -1) {\n            splice.call(arr, fromIndex, 1);\n        }\n    }\n    return arr;\n};\nexport default pull;\n//# sourceMappingURL=pull.js.map","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\nvar pullAt = function pullAt(arr, indexes) {\n    if (!isArrayLike(arr)) {\n        return [];\n    }\n    var length = arr ? indexes.length : 0;\n    var last = length - 1;\n    while (length--) {\n        var previous = void 0;\n        var index = indexes[length];\n        if (length === last || index !== previous) {\n            previous = index;\n            splice.call(arr, index, 1);\n        }\n    }\n    return arr;\n};\nexport default pullAt;\n//# sourceMappingURL=pull-at.js.map","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar reduce = function (arr, fn, init) {\n    if (!isArray(arr) && !isPlainObject(arr)) {\n        return arr;\n    }\n    var result = init;\n    each(arr, function (data, i) {\n        result = fn(result, data, i);\n    });\n    return result;\n};\nexport default reduce;\n//# sourceMappingURL=reduce.js.map","import isArrayLike from './is-array-like';\nimport pullAt from './pull-at';\nvar remove = function (arr, predicate) {\n    /**\n     * const arr = [1, 2, 3, 4]\n     * const evens = remove(arr, n => n % 2 == 0)\n     * console.log(arr) // => [1, 3]\n     * console.log(evens) // => [2, 4]\n     */\n    var result = [];\n    if (!isArrayLike(arr)) {\n        return result;\n    }\n    var i = -1;\n    var indexes = [];\n    var length = arr.length;\n    while (++i < length) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            result.push(value);\n            indexes.push(i);\n        }\n    }\n    pullAt(arr, indexes);\n    return result;\n};\nexport default remove;\n//# sourceMappingURL=remove.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (str) {\n    return is_type_1.default(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","import isArray from './is-array';\nimport isString from './is-string';\nimport isFunction from './is-function';\nfunction sortBy(arr, key) {\n    var comparer;\n    if (isFunction(key)) {\n        comparer = function (a, b) { return key(a) - key(b); };\n    }\n    else {\n        var keys_1 = [];\n        if (isString(key)) {\n            keys_1.push(key);\n        }\n        else if (isArray(key)) {\n            keys_1 = key;\n        }\n        comparer = function (a, b) {\n            for (var i = 0; i < keys_1.length; i += 1) {\n                var prop = keys_1[i];\n                if (a[prop] > b[prop]) {\n                    return 1;\n                }\n                if (a[prop] < b[prop]) {\n                    return -1;\n                }\n            }\n            return 0;\n        };\n    }\n    arr.sort(comparer);\n    return arr;\n}\nexport default sortBy;\n//# sourceMappingURL=sort-by.js.map","import contains from './contains';\nimport each from './each';\nvar uniq = function (arr) {\n    var resultArr = [];\n    each(arr, function (item) {\n        if (!contains(resultArr, item)) {\n            resultArr.push(item);\n        }\n    });\n    return resultArr;\n};\nexport default uniq;\n//# sourceMappingURL=uniq.js.map","import uniq from './uniq';\nvar union = function () {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return uniq([].concat.apply([], sources));\n};\nexport default union;\n//# sourceMappingURL=union.js.map","import isArray from './is-array';\nimport isNil from './is-nil';\nexport default (function (data, name) {\n    var rst = [];\n    var tmpMap = {};\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil(value)) {\n            // flatten\n            if (!isArray(value)) {\n                value = [value];\n            }\n            for (var j = 0; j < value.length; j++) {\n                var val = value[j];\n                // unique\n                if (!tmpMap[val]) {\n                    rst.push(val);\n                    tmpMap[val] = true;\n                }\n            }\n        }\n    }\n    return rst;\n});\n//# sourceMappingURL=values-of-key.js.map","import isArrayLike from './is-array-like';\nexport default function head(o) {\n    if (isArrayLike(o)) {\n        return o[0];\n    }\n    return undefined;\n}\n//# sourceMappingURL=head.js.map","import isArrayLike from './is-array-like';\nexport default function last(o) {\n    if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\n//# sourceMappingURL=last.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction startsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[0] === e : false;\n}\nexport default startsWith;\n//# sourceMappingURL=starts-with.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction endsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[arr.length - 1] === e : false;\n}\nexport default endsWith;\n//# sourceMappingURL=ends-with.js.map","/**\n *  false\n * @param arr\n * @param func\n */\nvar every = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (!func(arr[i], i))\n            return false;\n    }\n    return true;\n};\nexport default every;\n//# sourceMappingURL=every.js.map","/**\n *  true\n * @param arr\n * @param func\n */\nvar some = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (func(arr[i], i))\n            return true;\n    }\n    return false;\n};\nexport default some;\n//# sourceMappingURL=some.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction groupBy(data, condition) {\n    if (!condition || !isArray(data)) {\n        return {};\n    }\n    var result = {};\n    //  \n    var predicate = isFunction(condition) ? condition : function (item) { return item[condition]; };\n    var key;\n    for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        key = predicate(item);\n        if (hasOwnProperty.call(result, key)) {\n            result[key].push(item);\n        }\n        else {\n            result[key] = [item];\n        }\n    }\n    return result;\n}\nexport default groupBy;\n//# sourceMappingURL=group-by.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nimport groupBy from './group-by';\nvar groupToMap = function (data, condition) {\n    if (!condition) {\n        return {\n            0: data,\n        };\n    }\n    if (!isFunction(condition)) {\n        var paramsCondition_1 = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n        condition = function (row) {\n            var unique = '_'; // Key\n            for (var i = 0, l = paramsCondition_1.length; i < l; i++) {\n                unique += row[paramsCondition_1[i]] && row[paramsCondition_1[i]].toString();\n            }\n            return unique;\n        };\n    }\n    var groups = groupBy(data, condition);\n    return groups;\n};\nexport default groupToMap;\n//# sourceMappingURL=group-to-map.js.map","import { __extends } from \"tslib\";\nimport { AbstractGroup } from '@antv/g-base';\nimport { each } from '@antv/util';\nimport * as Shape from './shape';\nimport { drawChildren, refreshElement } from './util/draw';\nimport { setClip, setTransform } from './util/svg';\nimport { SVG_ATTR_MAP } from './constant';\nimport { createSVGElement } from './util/dom';\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // SVG  <g>\n    Group.prototype.isEntityGroup = function () {\n        return true;\n    };\n    Group.prototype.createDom = function () {\n        var element = createSVGElement('g');\n        this.set('el', element);\n        var parent = this.getParent();\n        if (parent) {\n            var parentNode = parent.get('el');\n            if (parentNode) {\n                parentNode.appendChild(element);\n            }\n            else {\n                // parentNode maybe null for group\n                parentNode = parent.createDom();\n                parent.set('el', parentNode);\n                parentNode.appendChild(element);\n            }\n        }\n        return element;\n    };\n    //  afterAttrsChange \n    Group.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        var canvas = this.get('canvas');\n        // \n        if (canvas && canvas.get('autoDraw')) {\n            var context = canvas.get('context');\n            this.createPath(context, targetAttrs);\n        }\n    };\n    /**\n     * \n     * @param {ChangeType} changeType \n     */\n    Group.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    Group.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Group.prototype.getGroupBase = function () {\n        return Group;\n    };\n    Group.prototype.draw = function (context) {\n        var children = this.getChildren();\n        var el = this.get('el');\n        if (this.get('destroyed')) {\n            if (el) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else {\n            if (!el) {\n                this.createDom();\n            }\n            setClip(this, context);\n            this.createPath(context);\n            if (children.length) {\n                drawChildren(context, children);\n            }\n        }\n    };\n    /**\n     * \n     * @param {Defs} context \n     * @param {ShapeAttrs} targetAttrs \n     */\n    Group.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        setTransform(this);\n    };\n    return Group;\n}(AbstractGroup));\nexport default Group;\n//# sourceMappingURL=group.js.map","/**\n * \n * @protected\n * @param  {Object} obj   \n * @param  {String} action \n * @return {Function}        \n */\nfunction getWrapBehavior(obj, action) {\n    return obj['_wrap_' + action];\n}\nexport default getWrapBehavior;\n//# sourceMappingURL=get-wrap-behavior.js.map","/**\n * this,\n * @protected\n * @param  {Object} obj   \n * @param  {String} action \n * @return {Function}        \n */\nfunction wrapBehavior(obj, action) {\n    if (obj['_wrap_' + action]) {\n        return obj['_wrap_' + action];\n    }\n    var method = function (e) {\n        obj[action](e);\n    };\n    obj['_wrap_' + action] = method;\n    return method;\n}\nexport default wrapBehavior;\n//# sourceMappingURL=wrap-behavior.js.map","var numColorCache = {};\nfunction numberToColor(num) {\n    // \n    var color = numColorCache[num];\n    if (!color) {\n        var str = num.toString(16);\n        for (var i = str.length; i < 6; i++) {\n            str = '0' + str;\n        }\n        color = '#' + str;\n        numColorCache[num] = color;\n    }\n    return color;\n}\nexport default numberToColor;\n//# sourceMappingURL=number2color.js.map","import isArray from './is-array';\nfunction parseRadius(radius) {\n    var r1 = 0, r2 = 0, r3 = 0, r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4\n    };\n}\nexport default parseRadius;\n//# sourceMappingURL=parse-radius.js.map","var clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexport default clamp;\n//# sourceMappingURL=clamp.js.map","var fixedBase = function (v, base) {\n    var str = base.toString();\n    var index = str.indexOf('.');\n    if (index === -1) {\n        return Math.round(v);\n    }\n    var length = str.substr(index + 1).length;\n    if (length > 20) {\n        length = 20;\n    }\n    return parseFloat(v.toFixed(length));\n};\nexport default fixedBase;\n//# sourceMappingURL=fixed-base.js.map","/**\n * \n * @return {Boolean} \n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","import isNumber from './is-number';\nvar isDecimal = function (num) {\n    return isNumber(num) && num % 1 !== 0;\n};\nexport default isDecimal;\n//# sourceMappingURL=is-decimal.js.map","import isNumber from './is-number';\nvar isEven = function (num) {\n    return isNumber(num) && num % 2 === 0;\n};\nexport default isEven;\n//# sourceMappingURL=is-even.js.map","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n    return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;\n//# sourceMappingURL=is-integer.js.map","import isNumber from './is-number';\nvar isNegative = function (num) {\n    return isNumber(num) && num < 0;\n};\nexport default isNegative;\n//# sourceMappingURL=is-negative.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PRECISION = 0.00001; // numbers less than this is considered as 0\nfunction isNumberEqual(a, b, precision) {\n    if (precision === void 0) { precision = PRECISION; }\n    return Math.abs((a - b)) < precision;\n}\nexports.default = isNumberEqual;\n;\n//# sourceMappingURL=is-number-equal.js.map","import isNumber from './is-number';\nvar isOdd = function (num) {\n    return isNumber(num) && num % 2 !== 0;\n};\nexport default isOdd;\n//# sourceMappingURL=is-odd.js.map","import isNumber from './is-number';\nvar isPositive = function (num) {\n    return isNumber(num) && num > 0;\n};\nexport default isPositive;\n//# sourceMappingURL=is-positive.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var max = arr[0];\n    var maxData;\n    if (isFunction(fn)) {\n        maxData = fn(arr[0]);\n    }\n    else {\n        maxData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data > maxData) {\n            max = val;\n            maxData = data;\n        }\n    });\n    return max;\n});\n//# sourceMappingURL=max-by.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var min = arr[0];\n    var minData;\n    if (isFunction(fn)) {\n        minData = fn(arr[0]);\n    }\n    else {\n        minData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data < minData) {\n            min = val;\n            minData = data;\n        }\n    });\n    return min;\n});\n//# sourceMappingURL=min-by.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mod = function (n, m) {\n    return ((n % m) + m) % m;\n};\nexports.default = mod;\n//# sourceMappingURL=mod.js.map","var DEGREE = 180 / Math.PI;\nvar toDegree = function (radian) {\n    return DEGREE * radian;\n};\nexport default toDegree;\n//# sourceMappingURL=to-degree.js.map","export default parseInt;\n//# sourceMappingURL=to-integer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RADIAN = Math.PI / 180;\nvar toRadian = function (degree) {\n    return RADIAN * degree;\n};\nexports.default = toRadian;\n//# sourceMappingURL=to-radian.js.map","import each from './each';\nexport default each;\n//# sourceMappingURL=for-in.js.map","export default (function (obj, key) { return obj.hasOwnProperty(key); });\n//# sourceMappingURL=has.js.map","import has from './has';\nexport default has;\n//# sourceMappingURL=has-key.js.map","import each from './each';\nimport isFunction from './is-function';\n// @ts-ignore\nvar values = Object.values ? function (obj) { return Object.values(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexport default values;\n//# sourceMappingURL=values.js.map","import contains from './contains';\nimport values from './values';\nexport default (function (obj, value) { return contains(values(obj), value); });\n//# sourceMappingURL=has-value.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_nil_1 = require(\"./is-nil\");\nexports.default = (function (value) {\n    if (is_nil_1.default(value))\n        return '';\n    return value.toString();\n});\n//# sourceMappingURL=to-string.js.map","import toString from './to-string';\nvar lowerCase = function (str) {\n    return toString(str).toLowerCase();\n};\nexport default lowerCase;\n//# sourceMappingURL=lower-case.js.map","import toString from './to-string';\nvar lowerFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\nexport default lowerFirst;\n//# sourceMappingURL=lower-first.js.map","function substitute(str, o) {\n    if (!str || !o) {\n        return str;\n    }\n    return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n            return match.slice(1);\n        }\n        return (o[name] === undefined) ? '' : o[name];\n    });\n}\nexport default substitute;\n//# sourceMappingURL=substitute.js.map","import toString from './to-string';\nvar upperCase = function (str) {\n    return toString(str).toUpperCase();\n};\nexport default upperCase;\n//# sourceMappingURL=upper-case.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar to_string_1 = require(\"./to-string\");\nvar upperFirst = function (value) {\n    var str = to_string_1.default(value);\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\nexports.default = upperFirst;\n//# sourceMappingURL=upper-first.js.map","var toString = {}.toString;\nvar getType = function (value) {\n    return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\nexport default getType;\n//# sourceMappingURL=get-type.js.map","/**\n * \n *\n * @param {Object} value \n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isArguments = function (value) {\n    return isType(value, 'Arguments');\n};\nexport default isArguments;\n//# sourceMappingURL=is-arguments.js.map","/**\n * \n *\n * @param {Object} value \n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isBoolean = function (value) {\n    return isType(value, 'Boolean');\n};\nexport default isBoolean;\n//# sourceMappingURL=is-boolean.js.map","import isType from './is-type';\nvar isDate = function (value) {\n    return isType(value, 'Date');\n};\nexport default isDate;\n//# sourceMappingURL=is-date.js.map","/**\n * \n *\n * @param {Object} value \n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isError = function (value) {\n    return isType(value, 'Error');\n};\nexport default isError;\n//# sourceMappingURL=is-error.js.map","/**\n * \n * @return {Boolean}\n */\nimport isNumber from './is-number';\nexport default function (value) {\n    return isNumber(value) && isFinite(value);\n}\n//# sourceMappingURL=is-finite.js.map","var isNull = function (value) {\n    return value === null;\n};\nexport default isNull;\n//# sourceMappingURL=is-null.js.map","var objectProto = Object.prototype;\nvar isPrototype = function (value) {\n    var Ctor = value && value.constructor;\n    var proto = (typeof Ctor === 'function' && Ctor.prototype) || objectProto;\n    return value === proto;\n};\nexport default isPrototype;\n//# sourceMappingURL=is-prototype.js.map","import isType from './is-type';\nvar isRegExp = function (str) {\n    return isType(str, 'RegExp');\n};\nexport default isRegExp;\n//# sourceMappingURL=is-reg-exp.js.map","var isUndefined = function (value) {\n    return value === undefined;\n};\nexport default isUndefined;\n//# sourceMappingURL=is-undefined.js.map","/**\n * HTML\n * @return {Boolean} HTML\n */\nvar isElement = function (o) {\n    return o instanceof Element || o instanceof HTMLDocument;\n};\nexport default isElement;\n//# sourceMappingURL=is-element.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction requestAnimationFrame(fn) {\n    var method = window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        // @ts-ignore\n        window.mozRequestAnimationFrame ||\n        // @ts-ignore\n        window.msRequestAnimationFrame ||\n        function (f) {\n            return setTimeout(f, 16);\n        };\n    return method(fn);\n}\nexports.default = requestAnimationFrame;\n;\n//# sourceMappingURL=request-animation-frame.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction cancelAnimationFrame(handler) {\n    var method = window.cancelAnimationFrame ||\n        window.webkitCancelAnimationFrame ||\n        // @ts-ignore\n        window.mozCancelAnimationFrame ||\n        // @ts-ignore\n        window.msCancelAnimationFrame ||\n        clearTimeout;\n    method(handler);\n}\nexports.default = cancelAnimationFrame;\n;\n//# sourceMappingURL=clear-animation-frame.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n            dist[key] = obj[key];\n        }\n    }\n}\nfunction mix(dist, src1, src2, src3) {\n    if (src1)\n        _mix(dist, src1);\n    if (src2)\n        _mix(dist, src2);\n    if (src3)\n        _mix(dist, src3);\n    return dist;\n}\nexports.default = mix;\n//# sourceMappingURL=mix.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar augment = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var c = args[0];\n    for (var i = 1; i < args.length; i++) {\n        var obj = args[i];\n        if (isFunction(obj)) {\n            obj = obj.prototype;\n        }\n        mix(c.prototype, obj);\n    }\n};\nexport default augment;\n//# sourceMappingURL=augment.js.map","import isArray from './is-array';\nvar clone = function (obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    var rst;\n    if (isArray(obj)) {\n        rst = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n            if (typeof obj[i] === 'object' && obj[i] != null) {\n                rst[i] = clone(obj[i]);\n            }\n            else {\n                rst[i] = obj[i];\n            }\n        }\n    }\n    else {\n        rst = {};\n        for (var k in obj) {\n            if (typeof obj[k] === 'object' && obj[k] != null) {\n                rst[k] = clone(obj[k]);\n            }\n            else {\n                rst[k] = obj[k];\n            }\n        }\n    }\n    return rst;\n};\nexport default clone;\n//# sourceMappingURL=clone.js.map","function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexport default debounce;\n//# sourceMappingURL=debounce.js.map","import isFunction from './is-function';\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\nexport default (function (f, resolver) {\n    if (!isFunction(f)) {\n        throw new TypeError('Expected a function');\n    }\n    var memoized = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        //  key resolver key\n        var key = resolver ? resolver.apply(this, args) : args[0];\n        var cache = memoized.cache;\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        var result = f.apply(this, args);\n        // \n        cache.set(key, result);\n        return result;\n    };\n    memoized.cache = new Map();\n    return memoized;\n});\n//# sourceMappingURL=memoize.js.map","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n            var value = src[key];\n            if (value !== null && isPlainObject(value)) {\n                if (!isPlainObject(dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (isArray(value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo \nvar deepMix = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexport default deepMix;\n//# sourceMappingURL=deep-mix.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar extend = function (subclass, superclass, overrides, staticOverrides) {\n    // \n    if (!isFunction(superclass)) {\n        overrides = superclass;\n        superclass = subclass;\n        subclass = function () { };\n    }\n    var create = Object.create ?\n        function (proto, c) {\n            return Object.create(proto, {\n                constructor: {\n                    value: c\n                }\n            });\n        } :\n        function (proto, c) {\n            function Tmp() { }\n            Tmp.prototype = proto;\n            var o = new Tmp();\n            o.constructor = c;\n            return o;\n        };\n    var superObj = create(superclass.prototype, subclass); // new superclass(),//prototype\n    subclass.prototype = mix(superObj, subclass.prototype); // prototype\n    subclass.superclass = create(superclass.prototype, superclass);\n    mix(superObj, overrides);\n    mix(subclass, staticOverrides);\n    return subclass;\n};\nexport default extend;\n//# sourceMappingURL=extend.js.map","import isArrayLike from './is-array-like';\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike(arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexport default indexOf;\n//# sourceMappingURL=index-of.js.map","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isEmpty(value) {\n    /**\n     * isEmpty(null) => true\n     * isEmpty() => true\n     * isEmpty(true) => true\n     * isEmpty(1) => true\n     * isEmpty([1, 2, 3]) => false\n     * isEmpty('abc') => false\n     * isEmpty({ a: 1 }) => false\n     */\n    if (isNil(value)) {\n        return true;\n    }\n    if (isArrayLike(value)) {\n        return !value.length;\n    }\n    var type = getType(value);\n    if (type === 'Map' || type === 'Set') {\n        return !value.size;\n    }\n    if (isPrototype(value)) {\n        return !Object.keys(value).length;\n    }\n    for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isEmpty;\n//# sourceMappingURL=is-empty.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_object_like_1 = require(\"./is-object-like\");\nvar is_array_like_1 = require(\"./is-array-like\");\nvar is_string_1 = require(\"./is-string\");\nvar isEqual = function (value, other) {\n    if (value === other) {\n        return true;\n    }\n    if (!value || !other) {\n        return false;\n    }\n    if (is_string_1.default(value) || is_string_1.default(other)) {\n        return false;\n    }\n    if (is_array_like_1.default(value) || is_array_like_1.default(other)) {\n        if (value.length !== other.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < value.length; i++) {\n            rst = isEqual(value[i], other[i]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    if (is_object_like_1.default(value) || is_object_like_1.default(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n        if (valueKeys.length !== otherKeys.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < valueKeys.length; i++) {\n            rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    return false;\n};\nexports.default = isEqual;\n//# sourceMappingURL=is-equal.js.map","import isFunction from './is-function';\nimport isEqual from './is-equal';\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\nexport default (function (value, other, fn) {\n    if (!isFunction(fn)) {\n        return isEqual(value, other);\n    }\n    return !!fn(value, other);\n});\n//# sourceMappingURL=is-equal-with.js.map","import isArrayLike from './is-array-like';\nvar map = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n    }\n    var result = [];\n    for (var index = 0; index < arr.length; index++) {\n        var value = arr[index];\n        result.push(func(value, index));\n    }\n    return result;\n};\nexport default map;\n//# sourceMappingURL=map.js.map","import isNil from './is-nil';\nimport isObject from './is-object';\nvar identity = function (v) { return v; };\nexport default (function (object, func) {\n    if (func === void 0) { func = identity; }\n    var r = {};\n    if (isObject(object) && !isNil(object)) {\n        Object.keys(object).forEach(function (key) {\n            // @ts-ignore\n            r[key] = func(object[key], key);\n        });\n    }\n    return r;\n});\n//# sourceMappingURL=map-values.js.map","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\nexport default (function (obj, key, defaultValue) {\n    var p = 0;\n    var keyArr = isString(key) ? key.split('.') : key;\n    while (obj && p < keyArr.length) {\n        obj = obj[keyArr[p++]];\n    }\n    return (obj === undefined || p < keyArr.length) ? defaultValue : obj;\n});\n//# sourceMappingURL=get.js.map","import isObject from './is-object';\nimport isString from './is-string';\nimport isNumber from './is-number';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\nexport default (function (obj, path, value) {\n    var o = obj;\n    var keyArr = isString(path) ? path.split('.') : path;\n    keyArr.forEach(function (key, idx) {\n        // \n        if (idx < keyArr.length - 1) {\n            if (!isObject(o[key])) {\n                o[key] = isNumber(keyArr[idx + 1]) ? [] : {};\n            }\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return obj;\n});\n//# sourceMappingURL=set.js.map","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n    if (object === null || !isPlainObject(object)) {\n        return {};\n    }\n    var result = {};\n    each(keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n//# sourceMappingURL=pick.js.map","export default (function (func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options)\n        options = {};\n    var later = function () {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            context = args = null;\n    };\n    var throttled = function () {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n    return throttled;\n});\n//# sourceMappingURL=throttle.js.map","import isArrayLike from './is-array-like';\nexport default (function (value) {\n    return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n});\n//# sourceMappingURL=to-array.js.map","var map = {};\nexport default (function (prefix) {\n    prefix = prefix || 'g';\n    if (!map[prefix]) {\n        map[prefix] = 1;\n    }\n    else {\n        map[prefix] += 1;\n    }\n    return prefix + map[prefix];\n});\n//# sourceMappingURL=unique-id.js.map","export default (function () { });\n//# sourceMappingURL=noop.js.map","export default (function (v) { return v; });\n//# sourceMappingURL=identity.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","/**\n * k-v \n */\nvar default_1 = /** @class */ (function () {\n    function default_1() {\n        this.map = {};\n    }\n    default_1.prototype.has = function (key) {\n        return this.map[key] !== undefined;\n    };\n    default_1.prototype.get = function (key, def) {\n        var v = this.map[key];\n        return v === undefined ? def : v;\n    };\n    default_1.prototype.set = function (key, value) {\n        this.map[key] = value;\n    };\n    default_1.prototype.clear = function () {\n        this.map = {};\n    };\n    default_1.prototype.delete = function (key) {\n        delete this.map[key];\n    };\n    default_1.prototype.size = function () {\n        return Object.keys(this.map).length;\n    };\n    return default_1;\n}());\nexport default default_1;\n//# sourceMappingURL=cache.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @description  gl-matrix \n * */\nimport { mat3, vec2 } from 'gl-matrix';\nexport function leftTranslate(out, a, v) {\n    var transMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromTranslation(transMat, v);\n    return mat3.multiply(out, transMat, a);\n}\nexport function leftRotate(out, a, rad) {\n    var rotateMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromRotation(rotateMat, rad);\n    return mat3.multiply(out, rotateMat, a);\n}\nexport function leftScale(out, a, v) {\n    var scaleMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n    mat3.fromScaling(scaleMat, v);\n    return mat3.multiply(out, scaleMat, a);\n}\nfunction leftMultiply(out, a, a1) {\n    return mat3.multiply(out, a1, a);\n}\n/**\n *  actions  transform\n * @param m\n * @param actions\n */\nexport function transform(m, actions) {\n    var matrix = m ? [].concat(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    for (var i = 0, len = actions.length; i < len; i++) {\n        var action = actions[i];\n        switch (action[0]) {\n            case 't':\n                leftTranslate(matrix, matrix, [action[1], action[2]]);\n                break;\n            case 's':\n                leftScale(matrix, matrix, [action[1], action[2]]);\n                break;\n            case 'r':\n                leftRotate(matrix, matrix, action[1]);\n                break;\n            case 'm':\n                leftMultiply(matrix, matrix, action[1]);\n                break;\n            default:\n                break;\n        }\n    }\n    return matrix;\n}\n/**\n *  v1   v2 \n * @param  {Array} v1 \n * @param  {Array} v2 \n * @return {Boolean} >= 0  < 0 \n */\nexport function direction(v1, v2) {\n    return v1[0] * v2[1] - v2[0] * v1[1];\n}\n/**\n *  v1  v2 \n * @param v1\n * @param v2\n * @param direct\n */\nexport function angleTo(v1, v2, direct) {\n    var ang = vec2.angle(v1, v2);\n    var angleLargeThanPI = direction(v1, v2) >= 0;\n    if (direct) {\n        if (angleLargeThanPI) {\n            return Math.PI * 2 - ang;\n        }\n        return ang;\n    }\n    if (angleLargeThanPI) {\n        return ang;\n    }\n    return Math.PI * 2 - ang;\n}\n/**\n * \n * @param out\n * @param v\n * @param flag\n */\nexport function vertical(out, v, flag) {\n    if (flag) {\n        out[0] = v[1];\n        out[1] = -1 * v[0];\n    }\n    else {\n        out[0] = -1 * v[1];\n        out[1] = v[0];\n    }\n    return out;\n}\n//# sourceMappingURL=ext.js.map","import EventEmitter from '@antv/event-emitter';\nimport { ICanvas } from '../dependents';\nimport { isNil, each, findIndex, deepMix, keys, contains, isFunction } from '@antv/util';\nimport { RecursivePartial, LooseMap } from '../interface/types';\nimport StateManager from '../util/state-manager';\nimport CanvasController from './controller/canvas';\nimport EventController from './controller/event';\nimport { getPlotType } from './global';\nimport Layer from './layer';\nimport ViewLayer from './view-layer';\nimport { CANVAS_EVENT_MAP } from '../util/event';\n\nexport interface PlotConfig {\n  forceFit?: boolean;\n  width?: number;\n  renderer?: string;\n  height?: number;\n  pixelRatio?: number;\n  theme?: LooseMap | string;\n  localRefresh?: boolean;\n}\n\ntype LayerCtor<C> = ViewLayer<C>;\n\nexport default class BasePlot<\n  T extends PlotConfig = PlotConfig,\n  L extends LayerCtor<T> = LayerCtor<T>\n> extends EventEmitter {\n  public width: number;\n  public height: number;\n  public forceFit: boolean;\n  public renderer: string;\n  public pixelRatio: number;\n  public theme: string | object;\n  public localRefresh?: boolean;\n  public canvas: ICanvas;\n  public destroyed: boolean;\n  protected layers: Array<L>;\n  private canvasController: CanvasController;\n  private eventController: EventController;\n  protected containerDOM: HTMLElement;\n\n  constructor(container: HTMLElement, props: T) {\n    super();\n    this.containerDOM = typeof container === 'string' ? document.getElementById(container) : container;\n    this.forceFit = !isNil(props.forceFit) ? props.forceFit : isNil(props.width) && isNil(props.height);\n    this.renderer = props.renderer || 'canvas';\n    this.pixelRatio = props.pixelRatio || null;\n    this.width = props.width;\n    this.height = props.height;\n    this.theme = props.theme;\n    this.localRefresh = props.localRefresh;\n    this.canvasController = new CanvasController({\n      containerDOM: this.containerDOM,\n      plot: this,\n    });\n    /** update layer properties */\n    this.width = this.canvasController.width;\n    this.height = this.canvasController.height;\n    this.canvas = this.canvasController.canvas;\n    this.layers = [];\n    this.destroyed = false;\n\n    this.createLayers(props);\n\n    /** bind events */\n    this.eventController = new EventController({\n      plot: this,\n      canvas: this.canvasController.canvas,\n    });\n\n    this.eventController.bindEvents();\n    this.parseEvents(props);\n  }\n\n  /**  */\n  public destroy() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    this.canvasController.destroy();\n    this.eventController.clearEvents();\n    this.layers = [];\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   */\n  public repaint(): void {\n    this.canvasController.canvas.draw();\n  }\n\n  public updateConfig(config: RecursivePartial<T>, all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof ViewLayer) {\n          layer.updateConfig(config);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof Layer) {\n        layer.updateConfig(config);\n      }\n    }\n\n    if (config.width) {\n      this.width = config.width as number;\n    }\n    if (config.height) {\n      this.height = config.height as number;\n    }\n    if (config.theme) {\n      this.theme = config.theme;\n    }\n\n    this.canvasController.updateCanvasSize();\n    this.canvasController.updateCanvasTheme();\n  }\n\n  public changeData(data: any[], all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof ViewLayer) {\n          layer.changeData(data);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof ViewLayer) {\n        layer.changeData(data);\n      }\n    }\n  }\n\n  public getScaleByField(field: string) {\n    return this.layers[0].getScaleByField(field);\n  }\n\n  public getXScale() {\n    return this.layers[0].getXScale();\n  }\n\n  public getYScale() {\n    return this.layers[0].getYScale();\n  }\n\n  public getColorScale() {\n    return this.layers[0].getColorScale();\n  }\n\n  public getPlotTheme() {\n    const layer: any = this.layers[0];\n    return layer.getPlotTheme();\n  }\n\n  public getData() {\n    const layer: any = this.layers[0];\n    return layer.getData();\n  }\n\n  /**\n   * stateManager\n   *  Layer\n   *\n   *  @param stateManager\n   *  @param cfg\n   */\n  public bindStateManager(stateManager: StateManager, cfg: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.bindStateManager(stateManager, cfg);\n      }\n    });\n  }\n\n  /**\n   * \n   *\n   *  @param condition\n   * @param style\n   */\n  public setActive(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setActive(condition, style);\n      }\n    });\n  }\n\n  public setSelected(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setSelected(condition, style);\n      }\n    });\n  }\n\n  public setDisable(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setDisable(condition, style);\n      }\n    });\n  }\n\n  public setDefault(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setDefault(condition, style);\n      }\n    });\n  }\n\n  /**\n   *  Plot  View\n   */\n  public getView() {\n    //  getLayer \n    return (this.layers[0] as ViewLayer<T>).view;\n  }\n\n  /**\n   *  Layer Layer\n   * @param idx\n   */\n  public getLayer(idx: number = 0) {\n    return this.layers[idx];\n  }\n\n  public getCanvas() {\n    return this.canvasController.canvas;\n  }\n\n  public getLayers() {\n    return this.layers;\n  }\n\n  public render() {\n    this.eachLayer((layer) => layer.render());\n  }\n\n  protected eachLayer(cb: (layer: Layer<any>) => void) {\n    each(this.layers, cb);\n  }\n\n  /**\n   * add children layer\n   * @param layer\n   */\n  public addLayer(layer: L) {\n    const idx = findIndex(this.layers, (item) => item === layer);\n    if (idx < 0) {\n      this.layers.push(layer);\n    }\n  }\n\n  protected createLayers(props: T & { type?: string; layers?: any }) {\n    if (props.layers) {\n      // TODO: combo plot\n    } else if (props.type) {\n      const viewLayerCtr = getPlotType(props.type);\n      const viewLayerProps: T = deepMix({}, props, {\n        canvas: this.canvasController.canvas,\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n      });\n      const viewLayer = new viewLayerCtr(viewLayerProps);\n      this.addLayer(viewLayer);\n    }\n  }\n\n  protected parseEvents(props) {\n    const eventsName = keys(CANVAS_EVENT_MAP);\n    if (props.events) {\n      each(props.events, (e, k) => {\n        if (contains(eventsName, k) && isFunction(e)) {\n          const eventName = CANVAS_EVENT_MAP[k] || k;\n          const handler = e;\n          this.on(eventName, handler);\n        }\n      });\n    }\n  }\n}\n","/**  */\nconst GLOBAL_PLOT_MAP: Record<string, any> = {};\n\nexport function registerPlotType(name: string, ctr: any): void {\n  GLOBAL_PLOT_MAP[name.toLowerCase()] = ctr;\n}\n\nexport function getPlotType(name: string) {\n  return GLOBAL_PLOT_MAP[name.toLowerCase()];\n}\n","export default function addEventListener(target, eventType, callback) {\n    if (target) {\n        if (typeof target.addEventListener === 'function') {\n            target.addEventListener(eventType, callback, false);\n            return {\n                remove: function () {\n                    target.removeEventListener(eventType, callback, false);\n                },\n            };\n            // @ts-ignore\n        }\n        if (typeof target.attachEvent === 'function') {\n            // @ts-ignore\n            target.attachEvent('on' + eventType, callback);\n            return {\n                remove: function () {\n                    // @ts-ignore\n                    target.detachEvent('on' + eventType, callback);\n                },\n            };\n        }\n    }\n}\n//# sourceMappingURL=add-event-listener.js.map","/**\n * DOM \n * @param  {String} str Dom \n * @return {HTMLElement}  DOM \n */\nvar TABLE;\nvar TABLE_TR;\nvar FRAGMENT_REG;\nvar CONTAINERS;\nfunction initConstants() {\n    TABLE = document.createElement('table');\n    TABLE_TR = document.createElement('tr');\n    FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\n    CONTAINERS = {\n        tr: document.createElement('tbody'),\n        tbody: TABLE,\n        thead: TABLE,\n        tfoot: TABLE,\n        td: TABLE_TR,\n        th: TABLE_TR,\n        '*': document.createElement('div'),\n    };\n}\nexport default function createDom(str) {\n    if (!TABLE) {\n        initConstants();\n    }\n    var name = FRAGMENT_REG.test(str) && RegExp.$1;\n    if (!name || !(name in CONTAINERS)) {\n        name = '*';\n    }\n    var container = CONTAINERS[name];\n    str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n    container.innerHTML = '' + str;\n    var dom = container.childNodes[0];\n    container.removeChild(dom);\n    return dom;\n}\n//# sourceMappingURL=create-dom.js.map","/**\n * \n * @param  {Object} dom DOM\n * @param  {String} name \n * @param  {Any} defaultValue \n * @return {String} \n */\nexport default function getStyle(dom, name, defaultValue) {\n    var v;\n    try {\n        v = window.getComputedStyle ?\n            window.getComputedStyle(dom, null)[name] :\n            dom.style[name]; // dom.style  style \n    }\n    catch (e) {\n        // do nothing\n    }\n    finally {\n        v = v === undefined ? defaultValue : v;\n    }\n    return v;\n}\n//# sourceMappingURL=get-style.js.map","import getStyle from './get-style';\nexport default function getHeight(el, defaultValue) {\n    var height = getStyle(el, 'height', defaultValue);\n    if (height === 'auto') {\n        height = el.offsetHeight;\n    }\n    return parseFloat(height);\n}\n//# sourceMappingURL=get-height.js.map","import getStyle from './get-style';\nimport getHeight from './get-height';\nexport default function getOuterHeight(el, defaultValue) {\n    var height = getHeight(el, defaultValue);\n    var bTop = parseFloat(getStyle(el, 'borderTopWidth')) || 0;\n    var pTop = parseFloat(getStyle(el, 'paddingTop')) || 0;\n    var pBottom = parseFloat(getStyle(el, 'paddingBottom')) || 0;\n    var bBottom = parseFloat(getStyle(el, 'borderBottomWidth')) || 0;\n    var mTop = parseFloat(getStyle(el, 'marginTop')) || 0;\n    var mBottom = parseFloat(getStyle(el, 'marginBottom')) || 0;\n    return height + bTop + bBottom + pTop + pBottom + mTop + mBottom;\n}\n//# sourceMappingURL=get-outer-height.js.map","import getStyle from './get-style';\nexport default function getHeight(el, defaultValue) {\n    var width = getStyle(el, 'width', defaultValue);\n    if (width === 'auto') {\n        width = el.offsetWidth;\n    }\n    return parseFloat(width);\n}\n//# sourceMappingURL=get-width.js.map","import getStyle from './get-style';\nimport getWidth from './get-width';\nexport default function getOuterWidth(el, defaultValue) {\n    var width = getWidth(el, defaultValue);\n    var bLeft = parseFloat(getStyle(el, 'borderLeftWidth')) || 0;\n    var pLeft = parseFloat(getStyle(el, 'paddingLeft')) || 0;\n    var pRight = parseFloat(getStyle(el, 'paddingRight')) || 0;\n    var bRight = parseFloat(getStyle(el, 'borderRightWidth')) || 0;\n    var mRight = parseFloat(getStyle(el, 'marginRight')) || 0;\n    var mLeft = parseFloat(getStyle(el, 'marginLeft')) || 0;\n    return width + bLeft + bRight + pLeft + pRight + mLeft + mRight;\n}\n//# sourceMappingURL=get-outer-width.js.map","export default function getRatio() {\n    return window.devicePixelRatio ? window.devicePixelRatio : 2;\n}\n//# sourceMappingURL=get-ratio.js.map","export default function modifyCSS(dom, css) {\n    if (dom) {\n        for (var key in css) {\n            if (css.hasOwnProperty(key)) {\n                dom.style[key] = css[key];\n            }\n        }\n    }\n    return dom;\n}\n//# sourceMappingURL=modify-css.js.map","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","// G\nexport { IElement, ICanvas, IGroup, IShape, BBox } from '@antv/g-base';\nexport { Canvas } from '@antv/g-canvas';\nexport { Canvas as SVG } from '@antv/g-svg';\n\n// G2\nexport {\n  View,\n  registerAnimation,\n  registerGeometry,\n  Geometry,\n  Interaction,\n  registerInteraction,\n  registerShape,\n  getTheme,\n  Util,\n  getShapeFactory,\n  registerComponentController,\n} from '@antv/g2';\nexport { VIEW_LIFE_CIRCLE, COMPONENT_TYPE, FIELD_ORIGIN } from '@antv/g2/lib/constant';\nimport Gesture from '@antv/g2/lib/chart/controller/gesture';\nexport { Gesture };\nexport { MarkerSymbols } from '@antv/g2/lib/util/marker';\nexport {\n  Datum,\n  Data,\n  LooseObject,\n  Options,\n  Point,\n  ShapeInfo,\n  AttributeOption,\n  AdjustOption,\n  LabelOption,\n  MappingDatum,\n} from '@antv/g2/lib/interface';\nexport { DEFAULT_ANIMATE_CFG, getDefaultAnimateCfg, doAnimate } from '@antv/g2/lib/animate';\nexport { default as Element } from '@antv/g2/lib/geometry/element';\n\n// Component\nimport HtmlTooltip from '@antv/component/lib/tooltip/html';\nimport HtmlTooltipTheme from '@antv/component/lib/tooltip/html-theme';\nimport * as TooltipCssConst from '@antv/component/lib/tooltip/css-const';\nexport { HtmlTooltip, HtmlTooltipTheme, TooltipCssConst };\nexport { GroupComponent, Axis, Legend, Tooltip, Slider, Scrollbar } from '@antv/component';\nexport { GroupComponentCfg, TooltipCfg } from '@antv/component/lib/types';\n\n// Coordinate\nexport { Coordinate } from '@antv/coord';\n\n// Common\nexport const ORIGIN = 'origin';\nexport const _ORIGIN = '_origin';\n","import { __assign } from \"tslib\";\n/**\n * @fileoverview path \n * @author dxq613@gmail.com\n */\nimport { PathUtil } from '@antv/g-base';\nimport QuadUtil from '@antv/g-math/lib/quadratic';\nimport CubicUtil from '@antv/g-math/lib/cubic';\nimport { inBox } from './util';\nimport inLine from './in-stroke/line';\nimport inArc from './in-stroke/arc';\nimport * as mat3 from 'gl-matrix/mat3';\nimport * as vec3 from 'gl-matrix/vec3';\nfunction hasArc(path) {\n    var hasArc = false;\n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        var cmd = params[0];\n        if (cmd === 'C' || cmd === 'A' || cmd === 'Q') {\n            hasArc = true;\n            break;\n        }\n    }\n    return hasArc;\n}\nfunction isPointInStroke(segments, lineWidth, x, y) {\n    var isHit = false;\n    var halfWidth = lineWidth / 2;\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint, box = segment.box;\n        // \n        if (box && !inBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth, x, y)) {\n            continue;\n        }\n        switch (segment.command) {\n            // L  Z  M \n            case 'L':\n            case 'Z':\n                isHit = inLine(prePoint[0], prePoint[1], currentPoint[0], currentPoint[1], lineWidth, x, y);\n                break;\n            case 'Q':\n                var qDistance = QuadUtil.pointDistance(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], x, y);\n                isHit = qDistance <= lineWidth / 2;\n                break;\n            case 'C':\n                var cDistance = CubicUtil.pointDistance(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6], x, y);\n                isHit = cDistance <= lineWidth / 2;\n                break;\n            case 'A':\n                // \n                var arcParams = segment.arcParams;\n                var cx = arcParams.cx, cy = arcParams.cy, rx = arcParams.rx, ry = arcParams.ry, startAngle = arcParams.startAngle, endAngle = arcParams.endAngle, xRotation = arcParams.xRotation;\n                var p = [x, y, 1];\n                var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n                var r = rx > ry ? rx : ry;\n                var scaleX = rx > ry ? 1 : rx / ry;\n                var scaleY = rx > ry ? ry / rx : 1;\n                mat3.translate(m, m, [-cx, -cy]);\n                mat3.rotate(m, m, -xRotation);\n                mat3.scale(m, m, [1 / scaleX, 1 / scaleY]);\n                vec3.transformMat3(p, p, m);\n                isHit = inArc(0, 0, r, startAngle, endAngle, lineWidth, p[0], p[1]);\n                break;\n            default:\n                break;\n        }\n        if (isHit) {\n            break;\n        }\n    }\n    return isHit;\n}\n/**\n *  path \n * @param {Array} path \n * @returns {Array} \n */\nfunction extractPolygons(path) {\n    var count = path.length;\n    var polygons = [];\n    var polylines = [];\n    var points = []; //  'M'\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        var cmd = params[0];\n        if (cmd === 'M') {\n            //  'M' \n            if (points.length) {\n                //  'Z'\n                polylines.push(points);\n                points = []; // \n            }\n            points.push([params[1], params[2]]);\n        }\n        else if (cmd === 'Z') {\n            if (points.length) {\n                // \n                polygons.push(points);\n                points = []; // \n            }\n            //  'Z'\n        }\n        else {\n            points.push([params[1], params[2]]);\n        }\n    }\n    //  points  polygons  polyline\n    //  M Z \n    if (points.length > 0) {\n        polylines.push(points);\n    }\n    return {\n        polygons: polygons,\n        polylines: polylines,\n    };\n}\nexport default __assign({ hasArc: hasArc,\n    extractPolygons: extractPolygons,\n    isPointInStroke: isPointInStroke }, PathUtil);\n//# sourceMappingURL=path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GraphEvent = /** @class */ (function () {\n    function GraphEvent(type, event) {\n        /**\n         * \n         * @type {boolean}\n         */\n        this.bubbles = true;\n        /**\n         * \n         * @type {object}\n         */\n        this.target = null;\n        /**\n         * \n         * @type {object}\n         */\n        this.currentTarget = null;\n        /**\n         * \n         * @type {object}\n         */\n        this.delegateTarget = null;\n        /**\n         *  ev.delegateObject = ev.currentTarget.get('delegateObject')\n         * @type {object}\n         */\n        this.delegateObject = null;\n        /**\n         * \n         * @type {boolean}\n         */\n        this.defaultPrevented = false;\n        /**\n         * \n         * @type {boolean}\n         */\n        this.propagationStopped = false;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.shape = null;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.fromShape = null;\n        /**\n         * \n         * @type {IShape}\n         */\n        this.toShape = null;\n        // \n        this.propagationPath = [];\n        this.type = type;\n        this.name = type;\n        this.originalEvent = event;\n        this.timeStamp = event.timeStamp;\n    }\n    /**\n     * \n     */\n    GraphEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n        if (this.originalEvent.preventDefault) {\n            this.originalEvent.preventDefault();\n        }\n    };\n    /**\n     * \n     */\n    GraphEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    GraphEvent.prototype.toString = function () {\n        var type = this.type;\n        return \"[Event (type=\" + type + \")]\";\n    };\n    GraphEvent.prototype.save = function () { };\n    GraphEvent.prototype.restore = function () { };\n    return GraphEvent;\n}());\nexports.default = GraphEvent;\n//# sourceMappingURL=graph-event.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getPixelRatio() {\n    return window ? window.devicePixelRatio : 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n */\nfunction distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexports.distance = distance;\n/**\n * \n * @param {number} minX    x\n * @param {number} minY    y\n * @param {number} width  \n * @param {number} height \n * @param {[type]} x       x\n * @param {[type]} y       y\n */\nfunction inBox(minX, minY, width, height, x, y) {\n    return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\nexports.inBox = inBox;\nfunction intersectRect(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\nexports.intersectRect = intersectRect;\n// \nfunction mergeRegion(region1, region2) {\n    if (!region1 || !region2) {\n        return region1 || region2;\n    }\n    return {\n        minX: Math.min(region1.minX, region2.minX),\n        minY: Math.min(region1.minY, region2.minY),\n        maxX: Math.max(region1.maxX, region2.maxX),\n        maxY: Math.max(region1.maxY, region2.maxY),\n    };\n}\nexports.mergeRegion = mergeRegion;\n/**\n *  [x, y]\n * @param {Array} point1 \n * @param {Array} point2 \n */\nfunction isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\nexports.isSamePoint = isSamePoint;\nvar is_nil_1 = require(\"@antv/util/lib/is-nil\");\nexports.isNil = is_nil_1.default;\nvar is_string_1 = require(\"@antv/util/lib/is-string\");\nexports.isString = is_string_1.default;\nvar is_function_1 = require(\"@antv/util/lib/is-function\");\nexports.isFunction = is_function_1.default;\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nexports.isArray = is_array_1.default;\nvar each_1 = require(\"@antv/util/lib/each\");\nexports.each = each_1.default;\nvar to_radian_1 = require(\"@antv/util/lib/to-radian\");\nexports.toRadian = to_radian_1.default;\nvar mod_1 = require(\"@antv/util/lib/mod\");\nexports.mod = mod_1.default;\nvar is_number_equal_1 = require(\"@antv/util/lib/is-number-equal\");\nexports.isNumberEqual = is_number_equal_1.default;\nvar request_animation_frame_1 = require(\"@antv/util/lib/request-animation-frame\");\nexports.requestAnimationFrame = request_animation_frame_1.default;\nvar clear_animation_frame_1 = require(\"@antv/util/lib/clear-animation-frame\");\nexports.clearAnimationFrame = clear_animation_frame_1.default;\n//# sourceMappingURL=util.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\nimport { mix } from '../util/util';\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /**\n         * \n         * @type {boolean}\n         */\n        _this.destroyed = false;\n        var defaultCfg = _this.getDefaultCfg();\n        _this.cfg = mix(defaultCfg, cfg);\n        return _this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    // \n    Base.prototype.get = function (name) {\n        return this.cfg[name];\n    };\n    // \n    Base.prototype.set = function (name, value) {\n        this.cfg[name] = value;\n    };\n    // \n    Base.prototype.destroy = function () {\n        this.cfg = {\n            destroyed: true,\n        };\n        this.off();\n        this.destroyed = true;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\n/**\n * @fileoverview  gl-matrix,  g-mobile  g-webgl  matrix \n *  2D  gl-matrix\n * @author dxq613@gmail.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 3\n * @param {number[]} a 1\n * @param {number[]} b 2\n */\nfunction multiplyMatrix(a, b) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b00 = b[0];\n    var b01 = b[1];\n    var b02 = b[2];\n    var b10 = b[3];\n    var b11 = b[4];\n    var b12 = b[5];\n    var b20 = b[6];\n    var b21 = b[7];\n    var b22 = b[8];\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\nexports.multiplyMatrix = multiplyMatrix;\n/**\n * 32\n * @param {number[]} m \n * @param {number[]} v \n */\nfunction multiplyVec2(m, v) {\n    var out = [];\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\nexports.multiplyVec2 = multiplyVec2;\n/**\n * \n * @param {number[]} a \n */\nfunction invert(a) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b01 = a22 * a11 - a12 * a21;\n    var b11 = -a22 * a10 + a12 * a20;\n    var b21 = a21 * a10 - a11 * a20;\n    // Calculate the determinant\n    var det = a00 * b01 + a01 * b11 + a02 * b21;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\nexports.invert = invert;\n//# sourceMappingURL=matrix.js.map","import { __extends } from \"tslib\";\nimport { each, isEqual, isFunction, isNumber, isObject, isArray, noop, mix, upperFirst, uniqueId } from '@antv/util';\nimport { ext } from '@antv/matrix-util';\nimport { removeFromArray, isParent } from '../util/util';\nimport { multiplyMatrix, multiplyVec2, invert } from '../util/matrix';\nimport Base from './base';\nvar MATRIX = 'matrix';\nvar CLONE_CFGS = ['zIndex', 'capture', 'visible', 'type'];\n//  toAttrs \nvar RESERVED_PORPS = ['repeat'];\nvar DELEGATION_SPLIT = ':';\nvar WILDCARD = '*';\n// \n// \nfunction _cloneArrayAttr(arr) {\n    var result = [];\n    for (var i = 0; i < arr.length; i++) {\n        if (isArray(arr[i])) {\n            result.push([].concat(arr[i]));\n        }\n        else {\n            result.push(arr[i]);\n        }\n    }\n    return result;\n}\nfunction getFormatFromAttrs(toAttrs, shape) {\n    var fromAttrs = {};\n    var attrs = shape.attrs;\n    for (var k in toAttrs) {\n        fromAttrs[k] = attrs[k];\n    }\n    return fromAttrs;\n}\nfunction getFormatToAttrs(props, shape) {\n    var toAttrs = {};\n    var attrs = shape.attr();\n    each(props, function (v, k) {\n        if (RESERVED_PORPS.indexOf(k) === -1 && !isEqual(attrs[k], v)) {\n            toAttrs[k] = v;\n        }\n    });\n    return toAttrs;\n}\nfunction checkExistedAttrs(animations, animation) {\n    if (animation.onFrame) {\n        return animations;\n    }\n    var startTime = animation.startTime, delay = animation.delay, duration = animation.duration;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    each(animations, function (item) {\n        //  <  &&  > \n        if (startTime + delay < item.startTime + item.delay + item.duration && duration > item.delay) {\n            each(animation.toAttrs, function (v, k) {\n                if (hasOwnProperty.call(item.toAttrs, k)) {\n                    delete item.toAttrs[k];\n                    delete item.fromAttrs[k];\n                }\n            });\n        }\n    });\n    return animations;\n}\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /**\n         * @protected\n         * \n         * @type {ShapeAttrs}\n         */\n        _this.attrs = {};\n        var attrs = _this.getDefaultAttrs();\n        mix(attrs, cfg.attrs);\n        _this.attrs = attrs;\n        _this.initAttrs(attrs);\n        _this.initAnimate(); // \n        return _this;\n    }\n    // override\n    Element.prototype.getDefaultCfg = function () {\n        return {\n            visible: true,\n            capture: true,\n            zIndex: 0,\n        };\n    };\n    /**\n     * @protected\n     * \n     */\n    Element.prototype.getDefaultAttrs = function () {\n        return {\n            matrix: this.getDefaultMatrix(),\n            opacity: 1,\n        };\n    };\n    /**\n     * @protected\n     * \n     * @param {ChangeType} changeType \n     */\n    Element.prototype.onCanvasChange = function (changeType) { };\n    /**\n     * @protected\n     * \n     * @param {object} attrs \n     */\n    Element.prototype.initAttrs = function (attrs) { };\n    /**\n     * @protected\n     * \n     */\n    Element.prototype.initAnimate = function () {\n        this.set('animable', true);\n        this.set('animating', false);\n    };\n    Element.prototype.isGroup = function () {\n        return false;\n    };\n    Element.prototype.getParent = function () {\n        return this.get('parent');\n    };\n    Element.prototype.getCanvas = function () {\n        return this.get('canvas');\n    };\n    Element.prototype.attr = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var name = args[0], value = args[1];\n        if (!name)\n            return this.attrs;\n        if (isObject(name)) {\n            for (var k in name) {\n                this.setAttr(k, name[k]);\n            }\n            this.afterAttrsChange(name);\n            return this;\n        }\n        if (args.length === 2) {\n            this.setAttr(name, value);\n            this.afterAttrsChange((_a = {},\n                _a[name] = value,\n                _a));\n            return this;\n        }\n        return this.attrs[name];\n    };\n    // \n    Element.prototype.isClipped = function (refX, refY) {\n        var clip = this.getClip();\n        return clip && !clip.isHit(refX, refY);\n    };\n    /**\n     * \n     * @param {string} name \n     * @param {any} value \n     */\n    Element.prototype.setAttr = function (name, value) {\n        var originValue = this.attrs[name];\n        if (originValue !== value) {\n            this.attrs[name] = value;\n            this.onAttrChange(name, value, originValue);\n        }\n    };\n    /**\n     * @protected\n     * \n     * @param {string} name \n     * @param {any} value \n     * @param {any} originValue \n     */\n    Element.prototype.onAttrChange = function (name, value, originValue) {\n        if (name === 'matrix') {\n            this.set('totalMatrix', null);\n        }\n    };\n    /**\n     * \n     * @protected\n     */\n    Element.prototype.afterAttrsChange = function (targetAttrs) {\n        this.onCanvasChange('attr');\n    };\n    Element.prototype.show = function () {\n        //  set\n        this.set('visible', true);\n        this.onCanvasChange('show');\n        return this;\n    };\n    Element.prototype.hide = function () {\n        //  set\n        this.set('visible', false);\n        this.onCanvasChange('hide');\n        return this;\n    };\n    Element.prototype.setZIndex = function (zIndex) {\n        this.set('zIndex', zIndex);\n        var parent = this.getParent();\n        if (parent) {\n            //  zIndex  ( onCanvasChange('zIndex')) sort \n            parent.sort();\n        }\n        return this;\n    };\n    Element.prototype.toFront = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.push(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.toBack = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.unshift(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.remove = function (destroy) {\n        if (destroy === void 0) { destroy = true; }\n        var parent = this.getParent();\n        if (parent) {\n            removeFromArray(parent.getChildren(), this);\n            if (!parent.get('clearing')) {\n                //  remove\n                this.onCanvasChange('remove');\n            }\n        }\n        else {\n            this.onCanvasChange('remove');\n        }\n        if (destroy) {\n            this.destroy();\n        }\n    };\n    Element.prototype.resetMatrix = function () {\n        this.attr(MATRIX, this.getDefaultMatrix());\n        this.onCanvasChange('matrix');\n    };\n    Element.prototype.getMatrix = function () {\n        return this.attr(MATRIX);\n    };\n    Element.prototype.setMatrix = function (m) {\n        this.attr(MATRIX, m);\n        this.onCanvasChange('matrix');\n    };\n    //  matrix\n    Element.prototype.getTotalMatrix = function () {\n        var totalMatrix = this.get('totalMatrix');\n        if (!totalMatrix) {\n            var currentMatrix = this.attr('matrix');\n            var parentMatrix = this.get('parentMatrix');\n            if (parentMatrix && currentMatrix) {\n                totalMatrix = multiplyMatrix(parentMatrix, currentMatrix);\n            }\n            else {\n                totalMatrix = currentMatrix || parentMatrix;\n            }\n            this.set('totalMatrix', totalMatrix);\n        }\n        return totalMatrix;\n    };\n    //  matrix\n    Element.prototype.applyMatrix = function (matrix) {\n        var currentMatrix = this.attr('matrix');\n        var totalMatrix = null;\n        if (matrix && currentMatrix) {\n            totalMatrix = multiplyMatrix(matrix, currentMatrix);\n        }\n        else {\n            totalMatrix = currentMatrix || matrix;\n        }\n        this.set('totalMatrix', totalMatrix);\n        this.set('parentMatrix', matrix);\n    };\n    /**\n     * @protected\n     * \n     * @returns {number[]|null} \n     */\n    Element.prototype.getDefaultMatrix = function () {\n        return null;\n    };\n    // \n    Element.prototype.applyToMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            return multiplyVec2(matrix, v);\n        }\n        return v;\n    };\n    // /\n    Element.prototype.invertFromMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            var invertMatrix = invert(matrix);\n            if (invertMatrix) {\n                return multiplyVec2(invertMatrix, v);\n            }\n        }\n        return v;\n    };\n    //  clip\n    Element.prototype.setClip = function (clipCfg) {\n        var canvas = this.getCanvas();\n        //  clip clip  clip \n        // TODO: setClip  shape  shape \n        // const preShape = this.get('clipShape');\n        // if (preShape) {\n        //   //  clipShape \n        //   preShape.destroy();\n        // }\n        var clipShape = null;\n        //  null clipShape\n        if (clipCfg) {\n            var ShapeBase = this.getShapeBase();\n            var shapeType = upperFirst(clipCfg.type);\n            var Cons = ShapeBase[shapeType];\n            if (Cons) {\n                clipShape = new Cons({\n                    type: clipCfg.type,\n                    isClipShape: true,\n                    attrs: clipCfg.attrs,\n                    canvas: canvas,\n                });\n            }\n        }\n        this.set('clipShape', clipShape);\n        this.onCanvasChange('clip');\n        return clipShape;\n    };\n    Element.prototype.getClip = function () {\n        //  this.cfg.xxx\n        var clipShape = this.cfg.clipShape;\n        //  Null\n        if (!clipShape) {\n            return null;\n        }\n        return clipShape;\n    };\n    Element.prototype.clone = function () {\n        var _this = this;\n        var originAttrs = this.attrs;\n        var attrs = {};\n        each(originAttrs, function (i, k) {\n            if (isArray(originAttrs[k])) {\n                attrs[k] = _cloneArrayAttr(originAttrs[k]);\n            }\n            else {\n                attrs[k] = originAttrs[k];\n            }\n        });\n        var cons = this.constructor;\n        // @ts-ignore\n        var clone = new cons({ attrs: attrs });\n        each(CLONE_CFGS, function (cfgName) {\n            clone.set(cfgName, _this.get(cfgName));\n        });\n        return clone;\n    };\n    Element.prototype.destroy = function () {\n        var destroyed = this.destroyed;\n        if (destroyed) {\n            return;\n        }\n        this.attrs = {};\n        _super.prototype.destroy.call(this);\n        // this.onCanvasChange('destroy');\n    };\n    /**\n     * \n     * @return {boolean} \n     */\n    Element.prototype.isAnimatePaused = function () {\n        return this.get('_pause').isPaused;\n    };\n    /**\n     * \n     * 1. animate(toAttrs: ElementAttrs, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 2. animate(onFrame: OnFrame, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 3. animate(toAttrs: ElementAttrs, cfg: AnimateCfg)\n     * 4. animate(onFrame: OnFrame, cfg: AnimateCfg)\n     * :\n     *   toAttrs  \n     *   onFrame  \n     *   duration \n     *   easing   \n     *   callback \n     *   delay    \n     */\n    Element.prototype.animate = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.set('animating', true);\n        var timeline = this.get('timeline');\n        if (!timeline) {\n            timeline = this.get('canvas').get('timeline');\n            this.set('timeline', timeline);\n        }\n        var animations = this.get('animations') || [];\n        //  tick\n        if (!timeline.timer) {\n            timeline.initTimer();\n        }\n        var toAttrs = args[0], duration = args[1], _a = args[2], easing = _a === void 0 ? 'easeLinear' : _a, _b = args[3], callback = _b === void 0 ? noop : _b, _c = args[4], delay = _c === void 0 ? 0 : _c;\n        var onFrame;\n        var repeat;\n        var pauseCallback;\n        var resumeCallback;\n        var animateCfg;\n        //  toAttrs onFrame\n        if (isFunction(toAttrs)) {\n            onFrame = toAttrs;\n            toAttrs = {};\n        }\n        else if (isObject(toAttrs) && toAttrs.onFrame) {\n            //  3.0 onFrame  repeat  toAttrs \n            onFrame = toAttrs.onFrame;\n            repeat = toAttrs.repeat;\n        }\n        //  duration animateCfg\n        if (isObject(duration)) {\n            animateCfg = duration;\n            duration = animateCfg.duration;\n            easing = animateCfg.easing || 'easeLinear';\n            delay = animateCfg.delay || 0;\n            // animateCfg \n            repeat = animateCfg.repeat || repeat || false;\n            callback = animateCfg.callback || noop;\n            pauseCallback = animateCfg.pauseCallback || noop;\n            resumeCallback = animateCfg.resumeCallback || noop;\n        }\n        else {\n            //  callback delay\n            if (isNumber(callback)) {\n                delay = callback;\n                callback = null;\n            }\n            //  easing callback\n            if (isFunction(easing)) {\n                callback = easing;\n                easing = 'easeLinear';\n            }\n            else {\n                easing = easing || 'easeLinear';\n            }\n        }\n        var formatToAttrs = getFormatToAttrs(toAttrs, this);\n        var animation = {\n            fromAttrs: getFormatFromAttrs(formatToAttrs, this),\n            toAttrs: formatToAttrs,\n            duration: duration,\n            easing: easing,\n            repeat: repeat,\n            callback: callback,\n            pauseCallback: pauseCallback,\n            resumeCallback: resumeCallback,\n            delay: delay,\n            startTime: timeline.getTime(),\n            id: uniqueId(),\n            onFrame: onFrame,\n            pathFormatted: false,\n        };\n        // \n        if (animations.length > 0) {\n            // ,\n            animations = checkExistedAttrs(animations, animation);\n        }\n        else {\n            // \n            timeline.addAnimator(this);\n        }\n        animations.push(animation);\n        this.set('animations', animations);\n        this.set('_pause', { isPaused: false });\n    };\n    /**\n     * \n     * @param {boolean} toEnd \n     */\n    Element.prototype.stopAnimate = function (toEnd) {\n        var _this = this;\n        if (toEnd === void 0) { toEnd = true; }\n        var animations = this.get('animations');\n        each(animations, function (animation) {\n            // \n            if (toEnd) {\n                if (animation.onFrame) {\n                    _this.attr(animation.onFrame(1));\n                }\n                else {\n                    _this.attr(animation.toAttrs);\n                }\n            }\n            if (animation.callback) {\n                // \n                animation.callback();\n            }\n        });\n        this.set('animating', false);\n        this.set('animations', []);\n    };\n    /**\n     * \n     */\n    Element.prototype.pauseAnimate = function () {\n        var timeline = this.get('timeline');\n        var animations = this.get('animations');\n        var pauseTime = timeline.getTime();\n        each(animations, function (animation) {\n            animation._paused = true;\n            animation._pauseTime = pauseTime;\n            if (animation.pauseCallback) {\n                // \n                animation.pauseCallback();\n            }\n        });\n        // \n        this.set('_pause', {\n            isPaused: true,\n            pauseTime: pauseTime,\n        });\n        return this;\n    };\n    /**\n     * \n     */\n    Element.prototype.resumeAnimate = function () {\n        var timeline = this.get('timeline');\n        var current = timeline.getTime();\n        var animations = this.get('animations');\n        var pauseTime = this.get('_pause').pauseTime;\n        // \n        each(animations, function (animation) {\n            animation.startTime = animation.startTime + (current - pauseTime);\n            animation._paused = false;\n            animation._pauseTime = null;\n            if (animation.resumeCallback) {\n                animation.resumeCallback();\n            }\n        });\n        this.set('_pause', {\n            isPaused: false,\n        });\n        this.set('animations', animations);\n        return this;\n    };\n    /**\n     * \n     * @param  {string}     type \n     * @param  {GraphEvent} eventObj \n     */\n    Element.prototype.emitDelegation = function (type, eventObj) {\n        var _this = this;\n        var paths = eventObj.propagationPath;\n        var events = this.getEvents();\n        var relativeShape;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n        }\n        else if (type === 'mouseleave') {\n            relativeShape = eventObj.toShape;\n        }\n        var _loop_1 = function (i) {\n            var element = paths[i];\n            //  name \n            var name_1 = element.get('name');\n            if (name_1) {\n                //  mouseenter  mouseleave  Parent\n                if (\n                //  element  Group  Canvas  isParent\n                (element.isGroup() || (element.isCanvas && element.isCanvas())) &&\n                    relativeShape &&\n                    isParent(element, relativeShape)) {\n                    return \"break\";\n                }\n                if (isArray(name_1)) {\n                    each(name_1, function (subName) {\n                        _this.emitDelegateEvent(element, subName, eventObj);\n                    });\n                }\n                else {\n                    this_1.emitDelegateEvent(element, name_1, eventObj);\n                }\n            }\n        };\n        var this_1 = this;\n        //  shape\n        for (var i = 0; i < paths.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Element.prototype.emitDelegateEvent = function (element, name, eventObj) {\n        var events = this.getEvents();\n        //  name:type\n        var eventName = name + DELEGATION_SPLIT + eventObj.type;\n        if (events[eventName] || events[WILDCARD]) {\n            //  * = \n            eventObj.name = eventName;\n            eventObj.currentTarget = element;\n            eventObj.delegateTarget = this;\n            //  delegateObject \n            eventObj.delegateObject = element.get('delegateObject');\n            this.emit(eventName, eventObj);\n        }\n    };\n    /**\n     * \n     * @param {number} translateX \n     * @param {number} translateY \n     * @return {IElement} \n     */\n    Element.prototype.translate = function (translateX, translateY) {\n        if (translateX === void 0) { translateX = 0; }\n        if (translateY === void 0) { translateY = 0; }\n        var matrix = this.getMatrix();\n        var newMatrix = ext.transform(matrix, [['t', translateX, translateY]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * \n     * @param {number} targetX \n     * @param {number} targetX \n     * @return {IElement} \n     */\n    Element.prototype.move = function (targetX, targetY) {\n        var x = this.attr('x') || 0;\n        var y = this.attr('y') || 0;\n        this.translate(targetX - x, targetY - y);\n        return this;\n    };\n    /**\n     *  move  moveTo  moveTo \n     * @param {number} targetX  x \n     * @param {number} targetY  y \n     * @return {IElement} \n     */\n    Element.prototype.moveTo = function (targetX, targetY) {\n        return this.move(targetX, targetY);\n    };\n    /**\n     * \n     * @param {number} ratioX \n     * @param {number} ratioY \n     * @return {IElement} \n     */\n    Element.prototype.scale = function (ratioX, ratioY) {\n        var matrix = this.getMatrix();\n        var newMatrix = ext.transform(matrix, [['s', ratioX, ratioY || ratioX]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     *  (0, 0) \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotate = function (radian) {\n        var matrix = this.getMatrix();\n        var newMatrix = ext.transform(matrix, [['r', radian]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotateAtStart = function (rotate) {\n        var _a = this.attr(), x = _a.x, y = _a.y;\n        var matrix = this.getMatrix();\n        var newMatrix = ext.transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     *  (x, y) \n     * @param {number} radian ()\n     * @return {IElement} \n     */\n    Element.prototype.rotateAtPoint = function (x, y, rotate) {\n        var matrix = this.getMatrix();\n        var newMatrix = ext.transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=element.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { isFunction, isObject, each, removeFromArray, upperFirst, isAllowCapture } from '../util/util';\nvar SHAPE_MAP = {};\nvar INDEX = '_INDEX';\nfunction afterAdd(element) {\n    if (element.isGroup()) {\n        if (element.isEntityGroup() || element.get('children').length) {\n            element.onCanvasChange('add');\n        }\n    }\n    else {\n        element.onCanvasChange('add');\n    }\n}\n/**\n *  canvas\n * @param {IElement} element \n * @param {ICanvas}  canvas  \n */\nfunction setCanvas(element, canvas) {\n    element.set('canvas', canvas);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setCanvas(child, canvas);\n            });\n        }\n    }\n}\n/**\n *  timeline\n * @param {IElement} element  \n * @param {Timeline} timeline \n */\nfunction setTimeline(element, timeline) {\n    element.set('timeline', timeline);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setTimeline(child, timeline);\n            });\n        }\n    }\n}\nfunction contains(container, element) {\n    var children = container.getChildren();\n    return children.indexOf(element) >= 0;\n}\nfunction removeChild(container, element, destroy) {\n    if (destroy === void 0) { destroy = true; }\n    //  element.remove() \n    if (destroy) {\n        element.destroy();\n    }\n    else {\n        element.set('parent', null);\n        element.set('canvas', null);\n    }\n    removeFromArray(container.getChildren(), element);\n}\nfunction getComparer(compare) {\n    return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n    };\n}\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Container.prototype.isCanvas = function () {\n        return false;\n    };\n    //  BBox\n    Container.prototype.getBBox = function () {\n        // \n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // \n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = Math.min.apply(null, xArr);\n            maxX = Math.max.apply(null, xArr);\n            minY = Math.min.apply(null, yArr);\n            maxY = Math.max.apply(null, yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    // \n    Container.prototype.getCanvasBBox = function () {\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // \n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getCanvasBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = Math.min.apply(null, xArr);\n            maxX = Math.max.apply(null, xArr);\n            minY = Math.min.apply(null, yArr);\n            maxY = Math.max.apply(null, yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    Container.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        cfg['children'] = [];\n        return cfg;\n    };\n    Container.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'matrix') {\n            var totalMatrix = this.getTotalMatrix();\n            this._applyChildrenMarix(totalMatrix);\n        }\n    };\n    // \n    Container.prototype.applyMatrix = function (matrix) {\n        var preTotalMatrix = this.getTotalMatrix();\n        _super.prototype.applyMatrix.call(this, matrix);\n        var totalMatrix = this.getTotalMatrix();\n        // totalMatrix  null \n        // \n        if (totalMatrix === preTotalMatrix) {\n            return;\n        }\n        this._applyChildrenMarix(totalMatrix);\n    };\n    // \n    Container.prototype._applyChildrenMarix = function (totalMatrix) {\n        var children = this.getChildren();\n        each(children, function (child) {\n            child.applyMatrix(totalMatrix);\n        });\n    };\n    // \n    Container.prototype.addShape = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var type = args[0];\n        var cfg = args[1];\n        if (isObject(type)) {\n            cfg = type;\n        }\n        else {\n            cfg['type'] = type;\n        }\n        var shapeType = SHAPE_MAP[cfg.type];\n        if (!shapeType) {\n            shapeType = upperFirst(cfg.type);\n            SHAPE_MAP[cfg.type] = shapeType;\n        }\n        var ShapeBase = this.getShapeBase();\n        var shape = new ShapeBase[shapeType](cfg);\n        this.add(shape);\n        return shape;\n    };\n    Container.prototype.addGroup = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var groupClass = args[0], cfg = args[1];\n        var group;\n        if (isFunction(groupClass)) {\n            if (cfg) {\n                group = new groupClass(cfg);\n            }\n            else {\n                group = new groupClass({\n                    // canvas,\n                    parent: this,\n                });\n            }\n        }\n        else {\n            var tmpCfg = groupClass || {};\n            var TmpGroupClass = this.getGroupBase();\n            group = new TmpGroupClass(tmpCfg);\n        }\n        this.add(group);\n        return group;\n    };\n    Container.prototype.getCanvas = function () {\n        var canvas;\n        if (this.isCanvas()) {\n            canvas = this;\n        }\n        else {\n            canvas = this.get('canvas');\n        }\n        return canvas;\n    };\n    Container.prototype.getShape = function (x, y, ev) {\n        // \n        if (!isAllowCapture(this)) {\n            return null;\n        }\n        var children = this.getChildren();\n        var shape;\n        //  group\n        if (!this.isCanvas()) {\n            var v = [x, y, 1];\n            //  x, y  group \n            v = this.invertFromMatrix(v);\n            if (!this.isClipped(v[0], v[1])) {\n                shape = this._findShape(children, v[0], v[1], ev);\n            }\n        }\n        else {\n            shape = this._findShape(children, x, y, ev);\n        }\n        return shape;\n    };\n    Container.prototype._findShape = function (children, x, y, ev) {\n        var shape = null;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (isAllowCapture(child)) {\n                if (child.isGroup()) {\n                    shape = child.getShape(x, y, ev);\n                }\n                else if (child.isHit(x, y)) {\n                    shape = child;\n                }\n            }\n            if (shape) {\n                break;\n            }\n        }\n        return shape;\n    };\n    Container.prototype.add = function (element) {\n        var canvas = this.getCanvas();\n        var children = this.getChildren();\n        var timeline = this.get('timeline');\n        var preParent = element.getParent();\n        if (preParent) {\n            removeChild(preParent, element, false);\n        }\n        element.set('parent', this);\n        if (canvas) {\n            setCanvas(element, canvas);\n        }\n        if (timeline) {\n            setTimeline(element, timeline);\n        }\n        children.push(element);\n        afterAdd(element);\n        this._applyElementMatrix(element);\n    };\n    // \n    Container.prototype._applyElementMatrix = function (element) {\n        var totalMatrix = this.getTotalMatrix();\n        // \n        if (totalMatrix) {\n            element.applyMatrix(totalMatrix);\n        }\n    };\n    Container.prototype.getChildren = function () {\n        return this.get('children');\n    };\n    Container.prototype.sort = function () {\n        var children = this.getChildren();\n        // \n        each(children, function (child, index) {\n            child[INDEX] = index;\n            return child;\n        });\n        children.sort(getComparer(function (obj1, obj2) {\n            return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        this.onCanvasChange('sort');\n    };\n    Container.prototype.clear = function () {\n        this.set('clearing', true);\n        if (this.destroyed) {\n            return;\n        }\n        var children = this.getChildren();\n        for (var i = children.length - 1; i >= 0; i--) {\n            children[i].destroy(); // \n        }\n        this.set('children', []);\n        this.onCanvasChange('clear');\n        this.set('clearing', false);\n    };\n    Container.prototype.destroy = function () {\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getLast = function () {\n        var children = this.getChildren();\n        return this.getChildByIndex(children.length - 1);\n    };\n    /**\n     * \n     * @return {IElement} \n     */\n    Container.prototype.getChildByIndex = function (index) {\n        var children = this.getChildren();\n        return children[index];\n    };\n    /**\n     * \n     * @return {number} \n     */\n    Container.prototype.getCount = function () {\n        var children = this.getChildren();\n        return children.length;\n    };\n    /**\n     * \n     * @param {IElement} element \n     * @return {boolean}\n     */\n    Container.prototype.contain = function (element) {\n        var children = this.getChildren();\n        return children.indexOf(element) > -1;\n    };\n    /**\n     * \n     * @param {IElement} element \n     * @param {boolean} destroy  true\n     */\n    Container.prototype.removeChild = function (element, destroy) {\n        if (destroy === void 0) { destroy = true; }\n        if (this.contain(element)) {\n            element.remove(destroy);\n        }\n    };\n    /**\n     * \n     * @param  {ElementFilterFn}   fn  \n     * @return {IElement[]} \n     */\n    Container.prototype.findAll = function (fn) {\n        var rst = [];\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst.push(element);\n            }\n            if (element.isGroup()) {\n                rst = rst.concat(element.findAll(fn));\n            }\n        });\n        return rst;\n    };\n    /**\n     * \n     * @param  {ElementFilterFn} fn    \n     * @return {IElement|null} \n     */\n    Container.prototype.find = function (fn) {\n        var rst = null;\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst = element;\n            }\n            else if (element.isGroup()) {\n                rst = element.find(fn);\n            }\n            if (rst) {\n                return false;\n            }\n        });\n        return rst;\n    };\n    /**\n     *  ID \n     * @param {string} id  id\n     * @return {IElement|null} \n     */\n    Container.prototype.findById = function (id) {\n        return this.find(function (element) {\n            return element.get('id') === id;\n        });\n    };\n    /**\n     * \n     *  className \n     * TODO:  G6 3.3  G6  findByClassName G \n     * @param {string} className  className\n     * @return {IElement | null} \n     */\n    Container.prototype.findByClassName = function (className) {\n        return this.find(function (element) {\n            return element.get('className') === className;\n        });\n    };\n    /**\n     *  name \n     * @param {string}      name \n     * @return {IElement[]} \n     */\n    Container.prototype.findAllByName = function (name) {\n        return this.findAll(function (element) {\n            return element.get('name') === name;\n        });\n    };\n    return Container;\n}(Element));\nexport default Container;\n//# sourceMappingURL=container.js.map","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import { isEqual, isNumber, isFunction } from '@antv/util';\nimport * as d3Timer from 'd3-timer';\nimport * as d3Ease from 'd3-ease';\nimport { interpolate, interpolateArray } from 'd3-interpolate'; // \nimport * as PathUtil from '../util/path';\nimport { isColorProp, isGradientColor } from '../util/color';\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n *  ratio \n * @param {IElement}  shape    \n * @param {Animation} animation \n * @param {number}    ratio    \n * @return {boolean}  \n */\nfunction _update(shape, animation, ratio) {\n    var cProps = {}; // \n    var fromAttrs = animation.fromAttrs, toAttrs = animation.toAttrs;\n    if (shape.destroyed) {\n        return;\n    }\n    var interf; //  \n    for (var k in toAttrs) {\n        if (!isEqual(fromAttrs[k], toAttrs[k])) {\n            if (k === 'path') {\n                var toPath = toAttrs[k];\n                var fromPath = fromAttrs[k];\n                if (toPath.length > fromPath.length) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]); // \n                    fromPath = PathUtil.parsePathString(fromAttrs[k]); // \n                    fromPath = PathUtil.fillPathByDiff(fromPath, toPath);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                }\n                else if (!animation.pathFormatted) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]);\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                    animation.pathFormatted = true;\n                }\n                cProps[k] = [];\n                for (var i = 0; i < toPath.length; i++) {\n                    var toPathPoint = toPath[i];\n                    var fromPathPoint = fromPath[i];\n                    var cPathPoint = [];\n                    for (var j = 0; j < toPathPoint.length; j++) {\n                        if (isNumber(toPathPoint[j]) && fromPathPoint && isNumber(fromPathPoint[j])) {\n                            interf = interpolate(fromPathPoint[j], toPathPoint[j]);\n                            cPathPoint.push(interf(ratio));\n                        }\n                        else {\n                            cPathPoint.push(toPathPoint[j]);\n                        }\n                    }\n                    cProps[k].push(cPathPoint);\n                }\n            }\n            else if (k === 'matrix') {\n                /*\n                 \n                 TODO:  WebGL \n                 */\n                var matrixFn = interpolateArray(fromAttrs[k] || IDENTITY_MATRIX, toAttrs[k] || IDENTITY_MATRIX);\n                var currentMatrix = matrixFn(ratio);\n                cProps[k] = currentMatrix;\n            }\n            else if (isColorProp(k) && isGradientColor(toAttrs[k])) {\n                cProps[k] = toAttrs[k];\n            }\n            else if (!isFunction(toAttrs[k])) {\n                // \n                interf = interpolate(fromAttrs[k], toAttrs[k]);\n                cProps[k] = interf(ratio);\n            }\n        }\n    }\n    shape.attr(cProps);\n}\n/**\n *  onFrame \n * @param {IElement}  shape    \n * @param {Animation} animation \n * @param {number}    elapsed  ()\n * @return {boolean}  \n */\nfunction update(shape, animation, elapsed) {\n    var startTime = animation.startTime, delay = animation.delay;\n    // \n    if (elapsed < startTime + delay || animation._paused) {\n        return false;\n    }\n    var ratio;\n    var duration = animation.duration;\n    var easing = animation.easing;\n    // \n    elapsed = elapsed - startTime - animation.delay;\n    if (animation.repeat) {\n        //  elapsed > duration ratio \n        ratio = (elapsed % duration) / duration;\n        ratio = d3Ease[easing](ratio);\n    }\n    else {\n        ratio = elapsed / duration;\n        if (ratio < 1) {\n            // \n            ratio = d3Ease[easing](ratio);\n        }\n        else {\n            // \n            if (animation.onFrame) {\n                shape.attr(animation.onFrame(1));\n            }\n            else {\n                shape.attr(animation.toAttrs);\n            }\n            return true;\n        }\n    }\n    if (animation.onFrame) {\n        var attrs = animation.onFrame(ratio);\n        shape.attr(attrs);\n    }\n    else {\n        _update(shape, animation, ratio);\n    }\n    return false;\n}\nvar Timeline = /** @class */ (function () {\n    /**\n     * \n     * @param {}\n     */\n    function Timeline(canvas) {\n        /**\n         * \n         * @type {IElement[]}\n         */\n        this.animators = [];\n        /**\n         * \n         * @type {number}\n         */\n        this.current = 0;\n        /**\n         * \n         * @type {d3Timer.Timer}\n         */\n        this.timer = null;\n        this.canvas = canvas;\n    }\n    /**\n     * \n     */\n    Timeline.prototype.initTimer = function () {\n        var _this = this;\n        var isFinished = false;\n        var shape;\n        var animations;\n        var animation;\n        this.timer = d3Timer.timer(function (elapsed) {\n            _this.current = elapsed;\n            if (_this.animators.length > 0) {\n                for (var i = _this.animators.length - 1; i >= 0; i--) {\n                    shape = _this.animators[i];\n                    if (shape.destroyed) {\n                        // \n                        _this.removeAnimator(i);\n                        continue;\n                    }\n                    if (!shape.isAnimatePaused()) {\n                        animations = shape.get('animations');\n                        for (var j = animations.length - 1; j >= 0; j--) {\n                            animation = animations[j];\n                            isFinished = update(shape, animation, elapsed);\n                            if (isFinished) {\n                                animations.splice(j, 1);\n                                isFinished = false;\n                                if (animation.callback) {\n                                    animation.callback();\n                                }\n                            }\n                        }\n                    }\n                    if (animations.length === 0) {\n                        _this.removeAnimator(i);\n                    }\n                }\n                var autoDraw = _this.canvas.get('autoDraw');\n                //  canvas.draw() \n                if (!autoDraw) {\n                    _this.canvas.draw();\n                }\n            }\n        });\n    };\n    /**\n     * \n     */\n    Timeline.prototype.addAnimator = function (shape) {\n        this.animators.push(shape);\n    };\n    /**\n     * \n     */\n    Timeline.prototype.removeAnimator = function (index) {\n        this.animators.splice(index, 1);\n    };\n    /**\n     * \n     */\n    Timeline.prototype.isAnimating = function () {\n        return !!this.animators.length;\n    };\n    /**\n     * \n     */\n    Timeline.prototype.stop = function () {\n        if (this.timer) {\n            this.timer.stop();\n        }\n    };\n    /**\n     * \n     * @param {boolean} toEnd  stopAnimate \n     */\n    Timeline.prototype.stopAllAnimations = function (toEnd) {\n        if (toEnd === void 0) { toEnd = true; }\n        this.animators.forEach(function (animator) {\n            animator.stopAnimate(toEnd);\n        });\n        this.animators = [];\n        this.canvas.draw();\n    };\n    /**\n     * \n     */\n    Timeline.prototype.getTime = function () {\n        return this.current;\n    };\n    return Timeline;\n}());\nexport default Timeline;\n//# sourceMappingURL=timeline.js.map","export var isColorProp = function (prop) { return ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(prop); };\nexport var isGradientColor = function (val) { return /^[r,R,L,l]{1}[\\s]*\\(/.test(val); };\n//# sourceMappingURL=color.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nimport GraphEvent from './graph-event';\nimport { each, isParent } from '../util/util';\nvar CLICK_OFFSET = 40;\nvar LEFT_BTN_CODE = 0;\nvar DELEGATION_SPLIT = ':';\nvar EVENTS = [\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'mouseout',\n    'mouseover',\n    'mousemove',\n    'mouseleave',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'dragenter',\n    'dragover',\n    'dragleave',\n    'drop',\n    'contextmenu',\n    'mousewheel',\n];\n// \nfunction hasDelegation(events, type) {\n    for (var key in events) {\n        if (events.hasOwnProperty(key) && key.indexOf(DELEGATION_SPLIT + type) >= 0) {\n            return true;\n        }\n    }\n    return false;\n}\n//  shape  canvas\nfunction emitTargetEvent(target, type, eventObj) {\n    eventObj.name = type;\n    eventObj.target = target;\n    eventObj.currentTarget = target;\n    eventObj.delegateTarget = target;\n    target.emit(type, eventObj);\n}\n// , enter  leave  fromShape  toShape \nfunction bubbleEvent(container, type, eventObj) {\n    if (eventObj.bubbles) {\n        var relativeShape = void 0;\n        var isOverEvent = false;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n            isOverEvent = true;\n        }\n        else if (type === 'mouseleave') {\n            isOverEvent = true;\n            relativeShape = eventObj.toShape;\n        }\n        // canvas  mouseenter mouseleave  canvas \n        if (container.isCanvas() && isOverEvent) {\n            return;\n        }\n        // \n        if (relativeShape && isParent(container, relativeShape)) {\n            // \n            eventObj.bubbles = false;\n            return;\n        }\n        // \n        eventObj.name = type;\n        eventObj.currentTarget = container;\n        eventObj.delegateTarget = container;\n        container.emit(type, eventObj);\n    }\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        var _this = this;\n        // \n        this.draggingShape = null;\n        this.dragging = false;\n        // /touch\n        this.currentShape = null;\n        this.mousedownShape = null;\n        this.mousedownPoint = null;\n        // \n        this._eventCallback = function (ev) {\n            var type = ev.type;\n            _this._triggerEvent(type, ev);\n        };\n        //  document \n        this._onDocumentMove = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                //  canvas \n                if (_this.dragging || _this.currentShape) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    // \n                    if (_this.dragging) {\n                        _this._emitEvent('drag', ev, pointInfo, _this.draggingShape);\n                    }\n                    // \n                    //  mouseleave  bug \n                    // if (this.currentShape) {\n                    //   this._emitEvent('mouseleave', ev, pointInfo, this.currentShape, this.currentShape, null);\n                    //   this.currentShape = null;\n                    // }\n                }\n            }\n        };\n        //  document  dragend\n        this._onDocumentMouseUp = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                //  canvas \n                if (_this.dragging) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    if (_this.draggingShape) {\n                        //  drop \n                        _this._emitEvent('drop', ev, pointInfo, null);\n                    }\n                    _this._emitEvent('dragend', ev, pointInfo, _this.draggingShape);\n                    _this._afterDrag(_this.draggingShape, pointInfo, ev);\n                }\n            }\n        };\n        this.canvas = cfg.canvas;\n    }\n    EventController.prototype.init = function () {\n        this._bindEvents();\n    };\n    // \n    EventController.prototype._bindEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.addEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            //  shape mouse leave \n            // \n            document.addEventListener('mousemove', this._onDocumentMove);\n            // \n            document.addEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    // \n    EventController.prototype._clearEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.removeEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            document.removeEventListener('mousemove', this._onDocumentMove);\n            document.removeEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    EventController.prototype._getEventObj = function (type, event, point, target, fromShape, toShape) {\n        var eventObj = new GraphEvent(type, event);\n        eventObj.fromShape = fromShape;\n        eventObj.toShape = toShape;\n        eventObj.x = point.x;\n        eventObj.y = point.y;\n        eventObj.clientX = point.clientX;\n        eventObj.clientY = point.clientY;\n        eventObj.propagationPath.push(target);\n        // x,ycanvasmatrix\n        return eventObj;\n    };\n    // \n    EventController.prototype._getShape = function (point, ev) {\n        return this.canvas.getShape(point.x, point.y, ev);\n    };\n    // \n    EventController.prototype._getPointInfo = function (ev) {\n        var canvas = this.canvas;\n        var clientPoint = canvas.getClientByEvent(ev);\n        var point = canvas.getPointByEvent(ev);\n        return {\n            x: point.x,\n            y: point.y,\n            clientX: clientPoint.x,\n            clientY: clientPoint.y,\n        };\n    };\n    // \n    EventController.prototype._triggerEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        // \n        var shape = this._getShape(pointInfo, ev);\n        var method = this[\"_on\" + type];\n        var leaveCanvas = false;\n        if (method) {\n            method.call(this, pointInfo, shape, ev);\n        }\n        else {\n            var preShape = this.currentShape;\n            // \n            if (type === 'mouseenter' || type === 'dragenter' || type === 'mouseover') {\n                this._emitEvent(type, ev, pointInfo, null, null, shape); // \n                if (shape) {\n                    this._emitEvent(type, ev, pointInfo, shape, null, shape); // \n                }\n                if (type === 'mouseenter' && this.draggingShape) {\n                    // ,  dragleave\n                    this._emitEvent('dragenter', ev, pointInfo, null);\n                }\n            }\n            else if (type === 'mouseleave' || type === 'dragleave' || type === 'mouseout') {\n                leaveCanvas = true;\n                if (preShape) {\n                    this._emitEvent(type, ev, pointInfo, preShape, preShape, null); // \n                }\n                this._emitEvent(type, ev, pointInfo, null, preShape, null); // \n                if (type === 'mouseleave' && this.draggingShape) {\n                    this._emitEvent('dragleave', ev, pointInfo, null);\n                }\n            }\n            else {\n                this._emitEvent(type, ev, pointInfo, shape, null, null); //  from, to\n            }\n        }\n        if (!leaveCanvas) {\n            this.currentShape = shape;\n        }\n        //  shape  preShape  shape  shape \n        if (shape && !shape.get('destroyed')) {\n            var canvas = this.canvas;\n            var el = canvas.get('el');\n            el.style.cursor = shape.attr('cursor') || canvas.get('cursor');\n        }\n    };\n    // click \n    EventController.prototype._onmousedown = function (pointInfo, shape, event) {\n        //  mousedown  mousedownShape  mousedown \n        if (event.button === LEFT_BTN_CODE) {\n            this.mousedownShape = shape;\n            this.mousedownPoint = pointInfo;\n            this.mousedownTimeStamp = event.timeStamp;\n        }\n        this._emitEvent('mousedown', event, pointInfo, shape, null, null); // mousedown fromShape, toShape\n    };\n    // mouseleave  mouseenter \n    // mouseenter  mouseover \n    EventController.prototype._emitMouseoverEvents = function (event, pointInfo, fromShape, toShape) {\n        var el = this.canvas.get('el');\n        if (fromShape !== toShape) {\n            if (fromShape) {\n                this._emitEvent('mouseout', event, pointInfo, fromShape, fromShape, toShape);\n                this._emitEvent('mouseleave', event, pointInfo, fromShape, fromShape, toShape);\n                //  fromShape \n                if (!toShape || toShape.get('destroyed')) {\n                    el.style.cursor = this.canvas.get('cursor');\n                }\n            }\n            if (toShape) {\n                this._emitEvent('mouseover', event, pointInfo, toShape, fromShape, toShape);\n                this._emitEvent('mouseenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n        }\n    };\n    // dragover  mouseover mousemove\n    EventController.prototype._emitDragoverEvents = function (event, pointInfo, fromShape, toShape, isCanvasEmit) {\n        if (toShape) {\n            if (toShape !== fromShape) {\n                if (fromShape) {\n                    this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n                }\n                this._emitEvent('dragenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n            if (!isCanvasEmit) {\n                this._emitEvent('dragover', event, pointInfo, toShape);\n            }\n        }\n        else if (fromShape) {\n            // TODO:  drag  dragleave  toShape  null\n            // \n            this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n        }\n        if (isCanvasEmit) {\n            this._emitEvent('dragover', event, pointInfo, toShape);\n        }\n    };\n    // drag \n    EventController.prototype._afterDrag = function (draggingShape, pointInfo, event) {\n        if (draggingShape) {\n            draggingShape.set('capture', true); // \n            this.draggingShape = null;\n        }\n        this.dragging = false;\n        // drag  draggingShape \n        var shape = this._getShape(pointInfo, event);\n        //  enterleave \n        if (shape !== draggingShape) {\n            this._emitMouseoverEvents(event, pointInfo, draggingShape, shape);\n        }\n        this.currentShape = shape; //  shape mouseleave \n    };\n    // \n    EventController.prototype._onmouseup = function (pointInfo, shape, event) {\n        // eevent.button === 0  mouseup  click \n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n        if (event.button === LEFT_BTN_CODE) {\n            var draggingShape = this.draggingShape;\n            if (this.dragging) {\n                //  drag \n                if (draggingShape) {\n                    this._emitEvent('drop', event, pointInfo, shape);\n                }\n                this._emitEvent('dragend', event, pointInfo, draggingShape);\n                this._afterDrag(draggingShape, pointInfo, event);\n            }\n            else {\n                this._emitEvent('mouseup', event, pointInfo, shape); //  mouseup  click\n                if (shape === this.mousedownShape) {\n                    this._emitEvent('click', event, pointInfo, shape);\n                }\n                this.mousedownShape = null;\n                this.mousedownPoint = null;\n            }\n        }\n    };\n    //  dragover  mousemove  dragenter, dragleave \n    EventController.prototype._ondragover = function (pointInfo, shape, event) {\n        event.preventDefault(); //  dragover  preventDefault canvas  drop \n        var preShape = this.currentShape;\n        this._emitDragoverEvents(event, pointInfo, preShape, shape, true);\n    };\n    //  mousemove \n    EventController.prototype._onmousemove = function (pointInfo, shape, event) {\n        var canvas = this.canvas;\n        var preShape = this.currentShape;\n        var draggingShape = this.draggingShape;\n        // \n        if (this.dragging) {\n            // \n            if (draggingShape) {\n                //  shape  dragenter, dragleave, dragover  drag \n                this._emitDragoverEvents(event, pointInfo, preShape, shape, false);\n            }\n            //  draggingShape  draggingShape  drag  canvas \n            //  canvas  drag \n            this._emitEvent('drag', event, pointInfo, draggingShape);\n        }\n        else {\n            var mousedownPoint = this.mousedownPoint;\n            if (mousedownPoint) {\n                //  drag \n                var mousedownShape = this.mousedownShape;\n                var now = event.timeStamp;\n                var timeWindow = now - this.mousedownTimeStamp;\n                var dx = mousedownPoint.clientX - pointInfo.clientX;\n                var dy = mousedownPoint.clientY - pointInfo.clientY;\n                var dist = dx * dx + dy * dy;\n                if (timeWindow > 120 || dist > CLICK_OFFSET) {\n                    if (mousedownShape && mousedownShape.get('draggable')) {\n                        //  draggable  shape  drag \n                        draggingShape = this.mousedownShape; //  shape\n                        draggingShape.set('capture', false); //  dragover,dragenter,dragleave,drop\n                        this.draggingShape = draggingShape;\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, draggingShape);\n                        // \n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else if (!mousedownShape && canvas.get('draggable')) {\n                        //  draggable  canvas  drag \n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, null);\n                        // \n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else {\n                        this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                        this._emitEvent('mousemove', event, pointInfo, shape);\n                    }\n                }\n                else {\n                    this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                    this._emitEvent('mousemove', event, pointInfo, shape);\n                }\n            }\n            else {\n                //  mouse over \n                this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                // \n                this._emitEvent('mousemove', event, pointInfo, shape);\n            }\n        }\n    };\n    // \n    EventController.prototype._emitEvent = function (type, event, pointInfo, shape, fromShape, toShape) {\n        var eventObj = this._getEventObj(type, event, pointInfo, shape, fromShape, toShape);\n        //  shape \n        if (shape) {\n            eventObj.shape = shape;\n            //  shape \n            emitTargetEvent(shape, type, eventObj);\n            var parent_1 = shape.getParent();\n            // \n            while (parent_1) {\n                // \n                parent_1.emitDelegation(type, eventObj);\n                // \n                if (!eventObj.propagationStopped) {\n                    bubbleEvent(parent_1, type, eventObj);\n                }\n                eventObj.propagationPath.push(parent_1);\n                parent_1 = parent_1.getParent();\n            }\n        }\n        else {\n            //  shape  canvas \n            var canvas = this.canvas;\n            //  canvas \n            emitTargetEvent(canvas, type, eventObj);\n        }\n    };\n    EventController.prototype.destroy = function () {\n        // \n        this._clearEvents();\n        // \n        this.canvas = null;\n        this.currentShape = null;\n        this.draggingShape = null;\n        this.mousedownPoint = null;\n        this.mousedownShape = null;\n        this.mousedownTimeStamp = null;\n    };\n    return EventController;\n}());\nexport default EventController;\n//# sourceMappingURL=event-contoller.js.map","import { __extends } from \"tslib\";\nimport { detect } from 'detect-browser';\nimport Container from './container';\nimport { isBrowser, isNil, isString } from '../util/util';\nimport Timeline from '../animate/timeline';\nimport EventController from '../event/event-contoller';\nvar PX_SUFFIX = 'px';\nvar browser = detect();\nvar isFirefox = browser && browser.name === 'firefox';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initContainer();\n        _this.initDom();\n        _this.initEvents();\n        _this.initTimeline();\n        return _this;\n    }\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        // set default cursor style for canvas\n        cfg['cursor'] = 'default';\n        // CSS transform \n        cfg['supportCSSTransform'] = false;\n        return cfg;\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (isString(container)) {\n            container = document.getElementById(container);\n            this.set('container', container);\n        }\n    };\n    /**\n     * @protected\n     *  DOM\n     */\n    Canvas.prototype.initDom = function () {\n        var el = this.createDom();\n        this.set('el', el);\n        // \n        var container = this.get('container');\n        container.appendChild(el);\n        // \n        this.setDOMSize(this.get('width'), this.get('height'));\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initEvents = function () {\n        var eventController = new EventController({\n            canvas: this,\n        });\n        eventController.init();\n        this.set('eventController', eventController);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.initTimeline = function () {\n        var timeline = new Timeline(this);\n        this.set('timeline', timeline);\n    };\n    /**\n     * @protected\n     *  DOM \n     * @param {number} width  \n     * @param {number} height \n     */\n    Canvas.prototype.setDOMSize = function (width, height) {\n        var el = this.get('el');\n        if (isBrowser) {\n            el.style.width = width + PX_SUFFIX;\n            el.style.height = height + PX_SUFFIX;\n        }\n    };\n    // \n    Canvas.prototype.changeSize = function (width, height) {\n        this.setDOMSize(width, height);\n        this.set('width', width);\n        this.set('height', height);\n        this.onCanvasChange('changeSize');\n    };\n    /**\n     * \n     * @return {Renderer} \n     */\n    Canvas.prototype.getRenderer = function () {\n        return this.get('renderer');\n    };\n    /**\n     *  cursor \n     * @return {Cursor}\n     */\n    Canvas.prototype.getCursor = function () {\n        return this.get('cursor');\n    };\n    /**\n     *  cursor \n     * @param {Cursor} cursor  cursor \n     */\n    Canvas.prototype.setCursor = function (cursor) {\n        this.set('cursor', cursor);\n        var el = this.get('el');\n        if (isBrowser && el) {\n            // \n            el.style.cursor = cursor;\n        }\n    };\n    // \n    Canvas.prototype.getPointByEvent = function (ev) {\n        var supportCSSTransform = this.get('supportCSSTransform');\n        if (supportCSSTransform) {\n            // For Firefox <= 38\n            if (isFirefox && !isNil(ev.layerX) && ev.layerX !== ev.offsetX) {\n                return {\n                    x: ev.layerX,\n                    y: ev.layerY,\n                };\n            }\n            if (!isNil(ev.offsetX)) {\n                // For IE6+, Firefox >= 39, Chrome, Safari, Opera\n                return {\n                    x: ev.offsetX,\n                    y: ev.offsetY,\n                };\n            }\n        }\n        // should calculate by self for other cases, like Safari in ios\n        // TODO: support CSS transform\n        var _a = this.getClientByEvent(ev), clientX = _a.x, clientY = _a.y;\n        return this.getPointByClient(clientX, clientY);\n    };\n    //  touch  clientX  clientY \n    Canvas.prototype.getClientByEvent = function (ev) {\n        var clientInfo = ev;\n        if (ev.touches) {\n            if (ev.type === 'touchend') {\n                clientInfo = ev.changedTouches[0];\n            }\n            else {\n                clientInfo = ev.touches[0];\n            }\n        }\n        return {\n            x: clientInfo.clientX,\n            y: clientInfo.clientY,\n        };\n    };\n    // \n    Canvas.prototype.getPointByClient = function (clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: clientX - bbox.left,\n            y: clientY - bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.getClientByPoint = function (x, y) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: x + bbox.left,\n            y: y + bbox.top,\n        };\n    };\n    // \n    Canvas.prototype.draw = function () { };\n    /**\n     * @protected\n     *  DOM \n     */\n    Canvas.prototype.removeDom = function () {\n        var el = this.get('el');\n        el.parentNode.removeChild(el);\n    };\n    /**\n     * @protected\n     * \n     */\n    Canvas.prototype.clearEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.destroy();\n    };\n    Canvas.prototype.isCanvas = function () {\n        return true;\n    };\n    Canvas.prototype.getParent = function () {\n        return null;\n    };\n    Canvas.prototype.destroy = function () {\n        var timeline = this.get('timeline');\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        // \n        if (timeline) {\n            // \n            timeline.stop();\n        }\n        this.clearEvents();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    return Canvas;\n}(Container));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { __extends } from \"tslib\";\nimport Container from './container';\nvar AbstractGroup = /** @class */ (function (_super) {\n    __extends(AbstractGroup, _super);\n    function AbstractGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractGroup.prototype.isGroup = function () {\n        return true;\n    };\n    AbstractGroup.prototype.isEntityGroup = function () {\n        return false;\n    };\n    AbstractGroup.prototype.clone = function () {\n        var clone = _super.prototype.clone.call(this);\n        // \n        var children = this.getChildren();\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            clone.add(child.clone());\n        }\n        return clone;\n    };\n    return AbstractGroup;\n}(Container));\nexport default AbstractGroup;\n//# sourceMappingURL=group.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { multiplyVec2 } from '../util/matrix';\nvar AbstractShape = /** @class */ (function (_super) {\n    __extends(AbstractShape, _super);\n    function AbstractShape(cfg) {\n        return _super.call(this, cfg) || this;\n    }\n    // \n    AbstractShape.prototype._isInBBox = function (refX, refY) {\n        var bbox = this.getBBox();\n        return bbox.minX <= refX && bbox.maxX >= refX && bbox.minY <= refY && bbox.maxY >= refY;\n    };\n    /**\n     * \n     * @protected\n     * @param {ShapeAttrs} targetAttrs \n     */\n    AbstractShape.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        this.clearCacheBBox();\n    };\n    // \n    AbstractShape.prototype.getBBox = function () {\n        var bbox = this.get('bbox');\n        if (!bbox) {\n            bbox = this.calculateBBox();\n            this.set('bbox', bbox);\n        }\n        return bbox;\n    };\n    // \n    AbstractShape.prototype.getCanvasBBox = function () {\n        var canvasBox = this.get('canvasBox');\n        if (!canvasBox) {\n            canvasBox = this.calculateCanvasBBox();\n            this.set('canvasBox', canvasBox);\n        }\n        return canvasBox;\n    };\n    AbstractShape.prototype.applyMatrix = function (matrix) {\n        _super.prototype.applyMatrix.call(this, matrix);\n        // \n        this.set('canvasBox', null);\n    };\n    /**\n     *  bbox\n     * @return {BBox} \n     */\n    AbstractShape.prototype.calculateCanvasBBox = function () {\n        var bbox = this.getBBox();\n        var totalMatrix = this.getTotalMatrix();\n        var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n        if (totalMatrix) {\n            var topLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.minY]);\n            var topRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.minY]);\n            var bottomLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.maxY]);\n            var bottomRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.maxY]);\n            minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n            maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n        }\n        var attrs = this.attrs;\n        //  shadow  shadow\n        if (attrs.shadowColor) {\n            var _a = attrs.shadowBlur, shadowBlur = _a === void 0 ? 0 : _a, _b = attrs.shadowOffsetX, shadowOffsetX = _b === void 0 ? 0 : _b, _c = attrs.shadowOffsetY, shadowOffsetY = _c === void 0 ? 0 : _c;\n            var shadowLeft = minX - shadowBlur + shadowOffsetX;\n            var shadowRight = maxX + shadowBlur + shadowOffsetX;\n            var shadowTop = minY - shadowBlur + shadowOffsetY;\n            var shadowBottom = maxY + shadowBlur + shadowOffsetY;\n            minX = Math.min(minX, shadowLeft);\n            maxX = Math.max(maxX, shadowRight);\n            minY = Math.min(minY, shadowTop);\n            maxY = Math.max(maxY, shadowBottom);\n        }\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    /**\n     * @protected\n     *  bbox\n     */\n    AbstractShape.prototype.clearCacheBBox = function () {\n        this.set('bbox', null);\n        this.set('canvasBox', null);\n    };\n    // \n    AbstractShape.prototype.isClipShape = function () {\n        return this.get('isClipShape');\n    };\n    /**\n     * @protected\n     * \n     * @param  {number}  refX  x\n     * @param  {number}  refY  Y\n     * @return {boolean} \n     */\n    AbstractShape.prototype.isInShape = function (refX, refY) {\n        return false;\n    };\n    /**\n     *  BBox \n     *  false imagemarker  BBox \n     * @return {Boolean}  BBox \n     */\n    AbstractShape.prototype.isOnlyHitBox = function () {\n        return false;\n    };\n    //  Shape \n    AbstractShape.prototype.isHit = function (x, y) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        var vec = [x, y, 1];\n        vec = this.invertFromMatrix(vec);\n        var refX = vec[0], refY = vec[1];\n        var inBBox = this._isInBBox(refX, refY);\n        // \n        if (this.isOnlyHitBox()) {\n            return inBBox;\n        }\n        // \n        if (inBBox && !this.isClipped(refX, refY)) {\n            // \n            if (this.isInShape(refX, refY)) {\n                return true;\n            }\n            // \n            if (startArrowShape && startArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n            // \n            if (endArrowShape && endArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return AbstractShape;\n}(Element));\nexport default AbstractShape;\n//# sourceMappingURL=shape.js.map","import * as Shape from './shape';\nvar pkg = require('../package.json');\nexport var version = pkg.version;\nexport { Event } from '@antv/g-base';\nexport { default as Canvas } from './canvas';\nexport { default as Group } from './group';\nexport { Shape };\n//# sourceMappingURL=index.js.map","// // defaultTheme \n// import defaultTheme from './default';\n//\n// import Theme from './theme';\n//\n// export { Theme as default, defaultTheme };\n\n// \nexport { getGlobalTheme, registerGlobalTheme } from './global';\n// \nexport { getTheme, registerTheme } from './theme';\n// \nexport { convertToG2Theme } from './utils';\n","import ViewLayer from '../base/view-layer';\nimport { LooseMap } from '../interface/types';\nimport { each, deepMix, upperFirst } from '@antv/util';\n\ntype IEventmap = LooseMap<string>;\n\ntype Handler = (...__: any[]) => {};\n\nconst eventNames = [\n  'click',\n  'dblclick',\n  'mousemove',\n  'mouseenter',\n  'mouseleave',\n  'mousedown',\n  'mouseup',\n  'contextmenu',\n];\n\nconst mobileEventNames = [\n  /*'touchstart',\n  'touchmove',\n  'touchend',\n  'pressstart',\n  'press',\n  'pressend',\n  'swipestart',\n  'swipe',\n  'swipeend',\n  'pinchstart',\n  'pinch',\n  'pinchend',\n  'panstart',\n  'pan',\n  'panend',*/\n];\n\nconst viewComponentMap = {\n  axis: 'axis-label',\n  label: 'label',\n  legend: 'legend-item',\n};\n\nconst canvasComponentMap = {\n  title: 'title',\n  description: 'description',\n  breadcrumb: 'breadcrumb',\n};\n\nconst CANVAS_EVENT_MAP: IEventmap = deepMix(getEventMap(canvasComponentMap), getRegionEventMap('Plot', eventNames));\n\nconst LAYER_EVENT_MAP: IEventmap = getRegionEventMap('Layer', eventNames);\n\n//view\nconst EVENT_MAP: IEventmap = deepMix(\n  {},\n  getEventMap(viewComponentMap),\n  getRegionEventMap('View', eventNames),\n  getMobileEventMap()\n);\n\nfunction onEvent(layer: ViewLayer, eventName: string, handler: Handler) {\n  layer.view.on(eventName, (ev?: any) => {\n    const eventData = {\n      x: ev?.x,\n      y: ev?.y,\n      clientX: ev?.clientX,\n      clientY: ev?.clientY,\n      target: ev?.target,\n      data: ev?.data ? ev.data.data : null,\n      plot: layer,\n      canvas: layer.canvas,\n      gEvent: ev?.gEvent,\n    };\n    handler(eventData);\n  });\n}\n\nexport function getEventMap(map) {\n  const eventMap: IEventmap = {};\n  each(map, (item, key) => {\n    const componentName = upperFirst(key);\n    const namePrefix = `on${componentName}`;\n    const eventPrefix = `${item}:`;\n    each(eventNames, (name) => {\n      const eventName = upperFirst(name);\n      const eventKey = `${namePrefix}${eventName}`;\n      const event = `${eventPrefix}${name}`;\n      eventMap[eventKey] = event;\n    });\n  });\n  return eventMap;\n}\n\nexport function getRegionEventMap(prefix, eventList) {\n  const eventMap: IEventmap = {};\n  const namePrefix = `on`;\n  each(eventList, (name) => {\n    const eventName = upperFirst(name);\n    const eventKey = `${namePrefix}${prefix}${eventName}`;\n    eventMap[eventKey] = name;\n  });\n  return eventMap;\n}\n\nexport function getMobileEventMap() {\n  const eventMap: IEventmap = {};\n  const namePrefix = `on`;\n  each(mobileEventNames, (name) => {\n    const eventName = upperFirst(name);\n    const eventKey = `${namePrefix}${eventName}`;\n    eventMap[eventKey] = name;\n  });\n  return eventMap;\n}\n\nexport { IEventmap, EVENT_MAP, CANVAS_EVENT_MAP, LAYER_EVENT_MAP, onEvent };\n","export interface PointType {\n  readonly x: number;\n  readonly y: number;\n}\n\nexport default class BBox {\n  readonly x: number;\n  readonly y: number;\n  readonly height: number;\n  readonly width: number;\n\n  static fromBBoxObject(bbox: any) {\n    return new BBox(bbox.x, bbox.y, bbox.width, bbox.height);\n  }\n\n  static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    // range\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n  }\n\n  public equals(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  public get minX() {\n    return this.x;\n  }\n\n  public get maxX() {\n    return this.x + this.width;\n  }\n\n  public get minY() {\n    return this.y;\n  }\n\n  public get maxY() {\n    return this.y + this.height;\n  }\n\n  public get tl() {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr() {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl() {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br() {\n    return { x: this.maxX, y: this.maxY };\n  }\n}\n","import {\n  deepMix,\n  isEmpty,\n  mapValues,\n  get,\n  each,\n  assign,\n  isFunction,\n  mix,\n  map,\n  flatten,\n  reduce,\n  findIndex,\n  isString,\n  contains,\n} from '@antv/util';\nimport { View, BBox, Geometry, VIEW_LIFE_CIRCLE, registerComponentController, Gesture } from '../dependents';\nimport TextDescription from '../components/description';\nimport BaseLabel, { LabelComponentConfig, getLabelComponent } from '../components/label/base';\nimport { getComponent } from '../components/factory';\nimport Interaction from '../interaction/core';\nimport BaseInteraction, { InteractionCtor } from '../interaction/index';\nimport {\n  Axis,\n  IDescription,\n  IInteractions,\n  ITitle,\n  Label,\n  Legend,\n  StateConfig,\n  Tooltip,\n  DataItem,\n  Animation,\n  Meta,\n  GuideLineConfig,\n  CustomTooltipConfig,\n} from '../interface/config';\nimport { G2Config } from '../interface/config';\nimport { EVENT_MAP, onEvent } from '../util/event';\nimport PaddingController from './controller/padding';\nimport StateController from './controller/state';\nimport ThemeController from './controller/theme';\nimport Layer, { LayerConfig } from './layer';\nimport { isTextUsable } from '../util/common';\nimport { LooseMap } from '../interface/types';\n\nexport interface ViewConfig {\n  renderer?: string;\n  data?: DataItem[];\n  meta?: LooseMap<Meta>;\n  padding?: number | number[] | string;\n  xField?: string;\n  yField?: string;\n  color?: string | string[] | {};\n  xAxis?: Axis;\n  yAxis?: Axis;\n  label?: Label;\n  tooltip?: Tooltip;\n  legend?: Legend;\n  animation?: Animation | boolean;\n  theme?: LooseMap | string;\n  responsiveTheme?: {} | string;\n  interactions?: IInteractions[];\n  responsive?: boolean;\n  title?: ITitle;\n  description?: IDescription;\n  guideLine?: GuideLineConfig[];\n  events?: {\n    [k: string]: ((...args: any[]) => any) | boolean;\n  };\n  defaultState?: {\n    active?: StateConfig;\n    inActive?: StateConfig;\n    selected?: StateConfig;\n    disabled?: StateConfig;\n  };\n  name?: string;\n}\n\nexport interface ViewLayerConfig extends ViewConfig, LayerConfig {}\n\nregisterComponentController('gesture', Gesture);\n\nexport default abstract class ViewLayer<T extends ViewLayerConfig = ViewLayerConfig> extends Layer<T> {\n  public static getDefaultOptions(): Partial<ViewConfig> {\n    return {\n      renderer: 'canvas',\n      title: {\n        visible: false,\n        alignTo: 'left',\n        text: '',\n      },\n      description: {\n        visible: false,\n        text: '',\n        alignTo: 'left',\n      },\n      padding: 'auto',\n      legend: {\n        visible: true,\n        position: 'bottom-center',\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: true,\n        crosshairs: {\n          type: 'x',\n        },\n        offset: 20,\n      },\n      xAxis: {\n        visible: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n          autoRotate: true,\n          autoHide: true,\n        },\n        title: {\n          visible: false,\n          spacing: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: false,\n        },\n        title: {\n          autoRotate: true,\n          visible: false,\n          spacing: 12,\n        },\n      },\n      label: {\n        visible: false,\n      },\n      interactions: [{ type: 'tooltip' }, { type: 'legend-active' }, { type: 'legend-filter' }],\n      animation: false,\n    };\n  }\n  public type: string;\n  public view: View;\n  public theme: any;\n  public initialOptions: T;\n  public title: TextDescription;\n  public description: TextDescription;\n  public viewRange: BBox;\n  protected paddingController: PaddingController;\n  protected stateController: StateController;\n  protected themeController: ThemeController;\n  public config: G2Config;\n  protected interactions: Interaction[] = [];\n  protected labels: BaseLabel[] = [];\n\n  constructor(props: T) {\n    super(props);\n    this.options = this.getOptions(props);\n    this.initialOptions = deepMix({}, this.options);\n    this.paddingController = new PaddingController({\n      plot: this,\n    });\n    this.stateController = new StateController({\n      plot: this,\n    });\n    this.themeController = new ThemeController();\n  }\n\n  public getOptions(props: Partial<T>): T {\n    const curOptions = this.options || {};\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions(props);\n    // interactions \n    const interactions = reduce(\n      flatten(map([options, defaultOptions, curOptions, props], (src) => get(src, 'interactions', []))),\n      (result, cur) => {\n        const idx = findIndex(result, (item) => item.type === cur.type);\n        if (idx >= 0) {\n          result.splice(idx, 1);\n        }\n        return [...result, cur];\n      },\n      []\n    );\n    return deepMix({}, options, defaultOptions, curOptions, props, { interactions });\n  }\n\n  public beforeInit() {\n    super.beforeInit();\n  }\n\n  public init() {\n    super.init();\n    this.theme = this.themeController.getTheme(this.options, this.type);\n    this.config = {\n      data: this.processData(this.options.data),\n      scales: {},\n      legends: {},\n      tooltip: {\n        showTitle: true,\n      },\n      axes: {},\n      coordinate: { type: 'cartesian' },\n      geometries: [],\n      annotations: [],\n      interactions: [],\n      theme: this.theme,\n      panelRange: {},\n      animate: {} as any,\n      views: [],\n    };\n\n    this.paddingController.clear();\n\n    this.drawTitle();\n    this.drawDescription();\n    // interaction\n    this.interaction();\n    this.coord();\n    this.scale();\n    this.axis();\n    this.tooltip();\n    this.legend();\n    this.addGeometry();\n    this.annotation();\n    this.animation();\n\n    this.viewRange = this.getViewRange();\n    const region = this.viewRangeToRegion(this.viewRange);\n    this.view = new View({\n      parent: null,\n      canvas: this.canvas,\n      backgroundGroup: this.container.addGroup(),\n      middleGroup: this.container.addGroup(),\n      foregroundGroup: this.container.addGroup(),\n      padding: this.paddingController.getPadding(),\n      theme: this.theme,\n      options: this.config,\n      limitInPlot: true,\n      region,\n    });\n    this.applyInteractions();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n      this.afterRender();\n    });\n  }\n\n  public afterInit() {\n    super.afterInit();\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    if (this.options.padding !== 'auto') {\n      this.parseEvents();\n    }\n  }\n\n  public afterRender() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    const { options } = this;\n    const padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n    /** autopadding */\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n    if (options.tooltip?.custom?.onChange && options.padding !== 'auto') {\n      this.customTooltip();\n    }\n  }\n\n  /**  */\n  public render(): void {\n    super.render();\n    const { data } = this.options;\n    if (!isEmpty(data)) {\n      this.view.render();\n    }\n  }\n\n  /**  */\n  public repaint(): void {\n    if (this.canvas) {\n      this.canvas.draw();\n    }\n  }\n\n  public getScaleByField(field: string) {\n    return this.view.getScaleByField(field);\n  }\n\n  public getXScale() {\n    const { xField } = this.options;\n    if (xField) {\n      return this.view.getScaleByField(xField);\n    }\n  }\n\n  public getYScale() {\n    const { yField } = this.options;\n    if (yField) {\n      return this.view.getScaleByField(yField);\n    }\n  }\n\n  public getColorScale() {\n    const options: any = this.options;\n    if (contains(options, 'colorField')) {\n      return this.view.getScaleByField(options);\n    }\n  }\n\n  public getShapes() {\n    const geometries = this.view.geometries;\n    const shapes = {};\n    // todo: geometry \n    each(geometries, (geom) => {\n      const { type } = geom;\n      shapes[type] = geom.getShapes();\n    });\n    return shapes;\n  }\n\n  /**  */\n  public destroy(): void {\n    this.doDestroy();\n    super.destroy();\n  }\n\n  /**  */\n  public updateConfig(cfg: Partial<T>): void {\n    this.doDestroy();\n    if (!cfg.padding && this.initialOptions.padding && this.initialOptions.padding === 'auto') {\n      cfg.padding = 'auto';\n    }\n    this.options = this.getOptions(cfg);\n    this.processOptions(this.options);\n  }\n\n  public changeData(data: DataItem[]): void {\n    this.options.data = this.processData(data);\n    this.view.changeData(this.options.data);\n  }\n\n  // plot apiplot\n  public getPlot() {\n    return this.view;\n  }\n\n  /**\n   * \n   */\n  public getLabels() {\n    return this.labels;\n  }\n\n  // G2 Theme\n  public getTheme() {\n    if (!this.theme) {\n      return this.themeController.getTheme(this.options, this.type);\n    }\n    return this.theme;\n  }\n\n  public getResponsiveTheme() {\n    return this.themeController.getResponsiveTheme(this.type);\n  }\n\n  // Plot Theme\n  public getPlotTheme() {\n    return this.themeController.getPlotTheme(this.options, this.type);\n  }\n\n  public getInteractions() {\n    return this.interactions;\n  }\n\n  // stateManager\n  public bindStateManager(stateManager, cfg): void {\n    this.stateController.bindStateManager(stateManager, cfg);\n  }\n\n  // \n  public setActive(condition, style) {\n    this.stateController.setState({ type: 'active', condition, style });\n  }\n\n  public setSelected(condition, style) {\n    this.stateController.setState({ type: 'selected', condition, style });\n  }\n\n  public setDisable(condition, style) {\n    this.stateController.setState({ type: 'disable', condition, style });\n  }\n\n  public setDefault(condition, style) {\n    this.stateController.setState({ type: 'default', condition, style });\n  }\n\n  //  ViewLayer \n  public getData(start?: number, end?: number): object[] {\n    return this.processData((this.options.data || []).slice(start, end));\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    return data;\n  }\n\n  protected abstract coord(): void;\n\n  protected scale(): void {\n    /** scale meta */\n    // 1. this.config.scalesxAxis/yAxisxField/yFieldscalemetametascale\n    // 2. xAxis/yAxistypemetatype\n    const scaleTypes = mapValues(this.config.scales, (scaleConfig: any) => {\n      const type = scaleConfig.type;\n      return type ? { type } : {};\n    });\n    const scales = deepMix({}, this.config.scales, this.options.meta || {}, scaleTypes);\n\n    this.setConfig('scales', scales);\n  }\n\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    const axesConfig = {};\n    axesConfig[this.options.xField] = xAxis_parser;\n    axesConfig[this.options.yField] = yAxis_parser;\n    /** config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected tooltip(): void {\n    if (this.options.tooltip.visible === false) {\n      this.setConfig('tooltip', false);\n      return;\n    }\n    const tooltipOptions = get(this.options, 'tooltip');\n    if (tooltipOptions.custom?.container) {\n      tooltipOptions.container = tooltipOptions.custom.container;\n    }\n    if (tooltipOptions.custom?.customContent) {\n      tooltipOptions.customContent = tooltipOptions.custom.customContent;\n    }\n    this.setConfig('tooltip', deepMix({}, tooltipOptions));\n\n    deepMix(this.config.theme.tooltip, this.options.tooltip.domStyles);\n  }\n\n  protected customTooltip() {\n    const customContentCfg = this.options.tooltip.custom;\n    let container;\n    if (customContentCfg.container) {\n      container = isString(customContentCfg.container)\n        ? document.getElementById(customContentCfg.container)\n        : customContentCfg.container;\n    }\n    this.view.on('tooltip:show', () => {\n      if (!customContentCfg.container) {\n        container = this.canvas.cfg.container.getElementsByClassName('g2-tooltip')[0];\n      }\n    });\n    this.view.hideTooltip();\n    this.view.on('tooltip:change', (ev: CustomTooltipConfig) => {\n      if (container) {\n        customContentCfg.onChange(container, ev);\n      }\n    });\n  }\n\n  protected getLegendPosition(position: string): any {\n    const positionList = position.split('-');\n    // G2 4.0  XXX-center  XXX \n    if (positionList && positionList.length > 1 && positionList[1] === 'center') {\n      return positionList[0];\n    }\n    return position;\n  }\n\n  protected legend(): void {\n    if (this.options.legend.visible === false) {\n      this.setConfig('legends', false);\n      return;\n    }\n    const options = deepMix({}, this.theme.legend, this.options.legend);\n    const legendConfig = {\n      position: this.getLegendPosition(get(options, 'position')),\n      offsetX: get(options, 'offsetX'),\n      offsetY: get(options, 'offsetY'),\n      flipPage: get(options, 'flipPage'),\n      marker: get(options, 'marker'),\n      title: options.title?.visible ? get(options, 'title') : null,\n      itemName: get(options, 'text'),\n    };\n\n    this.setConfig('legends', legendConfig);\n  }\n\n  protected annotation() {\n    const config = [];\n    if (this.config.coordinate.type === 'cartesian' && this.options.guideLine) {\n      each(this.options.guideLine, (line) => {\n        const guideLine = getComponent('guideLine', {\n          plot: this,\n          cfg: line,\n        });\n        config.push(guideLine);\n      });\n    }\n    this.setConfig('annotations', config);\n  }\n\n  protected abstract addGeometry(): void;\n  protected abstract geometryParser(dim: string, type: string): string;\n\n  protected interaction() {\n    const { interactions = [] } = this.options;\n    each(interactions, (interaction) => {\n      const { type } = interaction;\n      if (type === 'slider' || type === 'scrollbar') {\n        const axisConfig = {\n          label: {\n            autoHide: true,\n            autoRotate: false,\n          },\n        };\n        this.options.xAxis = deepMix({}, this.options.xAxis, axisConfig);\n      }\n      this.setConfig('interaction', interaction);\n    });\n  }\n\n  protected animation() {\n    if (this.options.animation === false) {\n      this.setConfig('animate', false);\n    }\n  }\n\n  protected applyInteractions(): void {\n    const { interactions = [] } = this.options;\n    if (this.interactions) {\n      this.interactions.forEach((inst) => {\n        inst.destroy();\n      });\n    }\n    this.interactions = [];\n    interactions.forEach((interaction) => {\n      const Ctor: InteractionCtor | undefined = BaseInteraction.getInteraction(interaction.type, this.type);\n      if (Ctor) {\n        const inst: BaseInteraction = new Ctor(\n          { view: this.view },\n          this,\n          Ctor.getInteractionRange(this.layerBBox, interaction.cfg),\n          interaction.cfg\n        );\n        this.interactions.push(inst);\n      }\n    });\n  }\n\n  /** G2 config */\n  protected setConfig<K extends keyof G2Config>(key: K, config: G2Config[K] | boolean): void {\n    if (key === 'geometry') {\n      this.config.geometries.push(config as G2Config['geometry']);\n      return;\n    }\n    if (key === 'interaction') {\n      this.config.interactions.push(config as any);\n      return;\n    }\n    if (config === false) {\n      this.config[key] = false;\n      return;\n    }\n    assign(this.config[key], config);\n  }\n\n  protected parseEvents(eventParser?): void {\n    const { options } = this;\n    if (options.events) {\n      super.parseEvents(options.events);\n      const eventmap = eventParser ? eventParser.EVENT_MAP : EVENT_MAP;\n      each(options.events, (e, k) => {\n        if (isFunction(e)) {\n          const eventName = eventmap[k] || k;\n          const handler = e;\n          onEvent(this, eventName, handler);\n        }\n      });\n    }\n  }\n\n  protected drawTitle(): void {\n    const props = this.options;\n    const range = this.layerBBox;\n    if (this.title) {\n      this.title.destroy();\n      this.title = null;\n    }\n\n    if (isTextUsable(props.title)) {\n      const width = this.width;\n      const theme = this.config.theme;\n      const title = new TextDescription({\n        leftMargin: range.minX + theme.title.padding[3],\n        rightMargin: range.maxX - theme.title.padding[1],\n        topMargin: range.minY + theme.title.padding[0],\n        text: props.title.text,\n        style: mix(theme.title, props.title.style),\n        wrapperWidth: width - theme.title.padding[3] - theme.title.padding[1],\n        container: this.container.addGroup() as any,\n        theme,\n        index: isTextUsable(props.description) ? 0 : 1,\n        plot: this,\n        alignTo: props.title.alignTo,\n        name: 'title',\n      });\n      this.title = title;\n      this.paddingController.registerPadding(title, 'outer');\n    }\n  }\n\n  protected drawDescription(): void {\n    const props = this.options;\n    const range = this.layerBBox;\n    if (this.description) {\n      this.description.destroy();\n      this.description = null;\n    }\n\n    if (isTextUsable(props.description)) {\n      const width = this.width;\n      const theme = this.config.theme;\n      let topMargin = 0;\n\n      if (this.title) {\n        const titleBBox = this.title.getBBox();\n        topMargin += titleBBox.minY + titleBBox.height;\n        topMargin += theme.description.padding[0];\n      } else {\n        // titletitlepadding\n        topMargin += range.minY + theme.title.padding[0];\n      }\n\n      const description = new TextDescription({\n        leftMargin: range.minX + theme.description.padding[3],\n        topMargin,\n        rightMargin: range.maxX - theme.title.padding[1],\n        text: props.description.text,\n        style: mix(theme.description, props.description.style),\n        wrapperWidth: width - theme.description.padding[3] - theme.description.padding[1],\n        container: this.container.addGroup() as any,\n        theme,\n        index: 1,\n        plot: this,\n        alignTo: props.description.alignTo,\n        name: 'description',\n      });\n      this.description = description;\n      this.paddingController.registerPadding(description, 'outer');\n    }\n  }\n\n  protected doRenderLabel(geometry: Geometry, label: Label) {\n    each(this.labels, (item) => {\n      item.destroy();\n    });\n    this.labels = [];\n    const config: LabelComponentConfig = {\n      layer: this,\n      container: geometry.labelsContainer,\n      geometry,\n      label,\n    };\n    const Ctor = getLabelComponent(label.type);\n    if (Ctor) {\n      const label = new Ctor(config);\n      label.render();\n      this.labels.push(label);\n    }\n  }\n\n  /** destroyupdateConfig_destroy */\n  private doDestroy() {\n    this.doDestroyInteractions();\n    this.doDestroyLabels();\n    /** g2.view */\n    if (!this.view.destroyed) {\n      this.view.destroy();\n    }\n  }\n\n  private doDestroyInteractions() {\n    //  interactions\n    if (this.interactions) {\n      this.interactions.forEach((inst) => {\n        inst.destroy();\n      });\n    }\n    this.interactions = [];\n  }\n\n  private doDestroyLabels() {\n    //  geometry  label\n    each(this.labels, (label: BaseLabel) => {\n      label.destroy();\n    });\n    this.labels = [];\n  }\n\n  protected getViewRange() {\n    //  Range  Interaction  ViewMargin \n    const { interactions = [] } = this.options;\n    const layerBBox = this.layerBBox;\n    interactions.forEach((interaction) => {\n      const Ctor: InteractionCtor | undefined = BaseInteraction.getInteraction(interaction.type, this.type);\n      const range: BBox | undefined = Ctor && Ctor.getInteractionRange(layerBBox, interaction.cfg);\n      let position = '';\n      if (range) {\n        //  Range \n        if (range.maxY === layerBBox.maxY && range.minY > layerBBox.minY) {\n          // margin[2] += range.height;\n          position = 'bottom';\n        } else if (range.maxX === layerBBox.maxX && range.minX > layerBBox.minX) {\n          // margin[1] += range.width;\n          position = 'right';\n        } else if (range.minX === layerBBox.minX && range.maxX > layerBBox.maxX) {\n          // margin[3] += range.width;\n          position = 'left';\n        } else if (range.minY === layerBBox.minY && range.maxY > layerBBox.maxY) {\n          // margin[0] += range.height;\n          position = 'top';\n        }\n        this.paddingController.registerPadding(\n          {\n            getBBox: () => {\n              return range;\n            },\n            position,\n          },\n          'outer'\n        );\n      }\n    });\n    const viewRange = this.paddingController.processOuterPadding();\n    return viewRange;\n  }\n\n  private viewRangeToRegion(viewRange) {\n    const { x, y, width, height } = this;\n    const start = { x: 0, y: 0 },\n      end = { x: 1, y: 1 };\n    start.x = viewRange.minX / (x + width);\n    start.y = viewRange.minY / (y + height);\n    end.x = viewRange.maxX / (x + width);\n    end.y = viewRange.maxY / (y + height);\n\n    return {\n      start,\n      end,\n    };\n  }\n}\n","import Area from './area/index';\nimport Interval from './interval/index';\nimport Line from './line/index';\nimport Point from './point/index';\n/**\n * elementelementmini\n * g2element\n */\n\nconst GEOMETRY_MAP = {\n  area: Area,\n  line: Line,\n  point: Point,\n  interval: Interval,\n};\n\ntype FirstCtrParam<T> = T extends new (first: infer R) => any ? R : never;\n\ntype MapType = typeof GEOMETRY_MAP;\n\nexport function getGeom<T extends keyof MapType, U extends keyof MapType[T]>(\n  name: T,\n  type: U,\n  cfg: FirstCtrParam<MapType[T][U]>\n) {\n  const Geom: any = GEOMETRY_MAP[name][type];\n  return new Geom(cfg).config;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar g_base_1 = require(\"@antv/g-base\");\nvar util_1 = require(\"@antv/util\");\nvar LOCATION_FIELD_MAP = {\n    none: [],\n    point: ['x', 'y'],\n    region: ['start', 'end'],\n    points: ['points'],\n    circle: ['center', 'radius', 'startAngle', 'endAngle'],\n};\nvar Component = /** @class */ (function (_super) {\n    tslib_1.__extends(Component, _super);\n    function Component(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initCfg();\n        return _this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    Component.prototype.getDefaultCfg = function () {\n        return {\n            id: '',\n            name: '',\n            type: '',\n            locationType: 'none',\n            offsetX: 0,\n            offsetY: 0,\n            animate: false,\n            capture: true,\n            updateAutoRender: false,\n            animateOption: {\n                appear: null,\n                update: {\n                    duration: 400,\n                    easing: 'easeQuadInOut',\n                },\n                enter: {\n                    duration: 400,\n                    easing: 'easeQuadInOut',\n                },\n                leave: {\n                    duration: 350,\n                    easing: 'easeQuadIn',\n                },\n            },\n            events: null,\n            defaultCfg: {},\n            visible: true,\n        };\n    };\n    /**\n     *  render \n     * @example\n     * axis.clear();\n     * axis.render();\n     */\n    Component.prototype.clear = function () { };\n    /**\n     * \n     * @param {object} cfg \n     */\n    Component.prototype.update = function (cfg) {\n        var _this = this;\n        var defaultCfg = this.get('defaultCfg');\n        util_1.each(cfg, function (value, name) {\n            var originCfg = _this.get(name);\n            var newCfg = value;\n            if (originCfg !== value) {\n                //  null \n                if (util_1.isObject(value) && defaultCfg[name]) {\n                    // \n                    newCfg = util_1.deepMix({}, defaultCfg[name], value);\n                }\n                _this.set(name, newCfg);\n            }\n        });\n        this.updateInner(cfg);\n        this.afterUpdate(cfg);\n    };\n    // \n    Component.prototype.updateInner = function (cfg) {\n    };\n    Component.prototype.afterUpdate = function (cfg) {\n        // \n        if (util_1.hasKey(cfg, 'visible')) {\n            if (cfg.visible) {\n                this.show();\n            }\n            else {\n                this.hide();\n            }\n        }\n        // capture\n        if (util_1.hasKey(cfg, 'capture')) {\n            this.setCapture(cfg.capture);\n        }\n    };\n    Component.prototype.getLayoutBBox = function () {\n        return this.getBBox(); //  getBBox\n    };\n    Component.prototype.getLocationType = function () {\n        return this.get('locationType');\n    };\n    Component.prototype.getOffset = function () {\n        return {\n            offsetX: this.get('offsetX'),\n            offsetY: this.get('offsetY'),\n        };\n    };\n    //  update\n    Component.prototype.setOffset = function (offsetX, offsetY) {\n        this.update({\n            offsetX: offsetX,\n            offsetY: offsetY,\n        });\n    };\n    Component.prototype.setLocation = function (cfg) {\n        var location = tslib_1.__assign({}, cfg);\n        this.update(location);\n    };\n    //  ILocation  getLocation\n    Component.prototype.getLocation = function () {\n        var _this = this;\n        var location = {};\n        var locationType = this.get('locationType');\n        var fields = LOCATION_FIELD_MAP[locationType];\n        util_1.each(fields, function (field) {\n            location[field] = _this.get(field);\n        });\n        return location;\n    };\n    Component.prototype.isList = function () {\n        return false;\n    };\n    Component.prototype.isSlider = function () {\n        return false;\n    };\n    /**\n     * @protected\n     * \n     */\n    Component.prototype.init = function () { };\n    // \n    Component.prototype.initCfg = function () {\n        var _this = this;\n        var defaultCfg = this.get('defaultCfg');\n        util_1.each(defaultCfg, function (value, name) {\n            var cfg = _this.get(name);\n            if (util_1.isObject(cfg)) {\n                var newCfg = util_1.deepMix({}, value, cfg);\n                _this.set(name, newCfg);\n            }\n        });\n    };\n    return Component;\n}(g_base_1.Base));\nexports.default = Component;\n//# sourceMappingURL=component.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport { difference, each, isNil, keys, mix, pick } from '@antv/util';\nimport { propagationDelegate } from '../util/event';\nimport { applyMatrix2BBox, getMatrixByTranslate } from '../util/matrix';\nimport { getBBoxWithClip, updateClip } from '../util/util';\nimport Component from './component';\nvar STATUS_UPDATE = 'update_status';\nvar COPY_PROPERTIES = ['visible', 'tip', 'delegateObject']; // \nvar COPY_PROPERTIES_EXCLUDES = ['container', 'group', 'shapesMap', 'isRegister', 'isUpdating', 'destroyed']; // \nvar GroupComponent = /** @class */ (function (_super) {\n    __extends(GroupComponent, _super);\n    function GroupComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupComponent.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { container: null, \n            /**\n             * @private\n             *  Map\n             */\n            shapesMap: {}, group: null, capture: true, \n            /**\n             * @private \n             * @type {false}\n             */\n            isRegister: false, \n            /**\n             * @private \n             * @type {false}\n             */\n            isUpdating: false, \n            /**\n             * @private\n             *  renderupdate  false, clear \n             */\n            isInit: true });\n    };\n    GroupComponent.prototype.remove = function () {\n        this.clear();\n        var group = this.get('group');\n        group.remove();\n    };\n    GroupComponent.prototype.clear = function () {\n        var group = this.get('group');\n        group.clear();\n        this.set('shapesMap', {});\n        this.clearOffScreenCache();\n        this.set('isInit', true);\n    };\n    GroupComponent.prototype.getChildComponentById = function (id) {\n        var group = this.getElementById(id);\n        var inst = group && group.get('component');\n        return inst;\n    };\n    GroupComponent.prototype.getElementById = function (id) {\n        return this.get('shapesMap')[id];\n    };\n    GroupComponent.prototype.getElementByLocalId = function (localId) {\n        var id = this.getElementId(localId);\n        return this.getElementById(id);\n    };\n    GroupComponent.prototype.getElementsByName = function (name) {\n        var rst = [];\n        each(this.get('shapesMap'), function (elem) {\n            if (elem.get('name') === name) {\n                rst.push(elem);\n            }\n        });\n        return rst;\n    };\n    GroupComponent.prototype.getContainer = function () {\n        return this.get('container');\n    };\n    GroupComponent.prototype.updateInner = function (cfg) {\n        // this.updateInner();\n        // this.set('isUpdating', false);\n        this.offScreenRender();\n        if (this.get('updateAutoRender')) {\n            this.render();\n        }\n    };\n    GroupComponent.prototype.render = function () {\n        var offScreenGroup = this.get('offScreenGroup');\n        if (!offScreenGroup) {\n            offScreenGroup = this.offScreenRender();\n        }\n        var group = this.get('group');\n        this.updateElements(offScreenGroup, group);\n        this.deleteElements();\n        this.applyOffset();\n        if (!this.get('eventInitted')) {\n            this.initEvent();\n            this.set('eventInitted', true);\n        }\n        this.set('isInit', false);\n    };\n    GroupComponent.prototype.show = function () {\n        var group = this.get('group');\n        group.show();\n        this.set('visible', true);\n    };\n    GroupComponent.prototype.hide = function () {\n        var group = this.get('group');\n        group.hide();\n        this.set('visible', false);\n    };\n    GroupComponent.prototype.setCapture = function (capture) {\n        var group = this.get('group');\n        group.set('capture', capture);\n        this.set('capture', capture);\n    };\n    GroupComponent.prototype.destroy = function () {\n        this.removeEvent();\n        this.remove();\n        _super.prototype.destroy.call(this);\n    };\n    GroupComponent.prototype.getBBox = function () {\n        return this.get('group').getCanvasBBox();\n    };\n    GroupComponent.prototype.getLayoutBBox = function () {\n        var group = this.get('group');\n        //  clear offScreenBBox \n        var bbox = this.getInnerLayoutBBox();\n        var matrix = group.getTotalMatrix();\n        if (matrix) {\n            bbox = applyMatrix2BBox(matrix, bbox);\n        }\n        return bbox; //  getBBox\n    };\n    //  on, off, emit  group\n    GroupComponent.prototype.on = function (evt, callback, once) {\n        var group = this.get('group');\n        group.on(evt, callback, once);\n        return this;\n    };\n    GroupComponent.prototype.off = function (evt, callback) {\n        var group = this.get('group');\n        group && group.off(evt, callback);\n        return this;\n    };\n    GroupComponent.prototype.emit = function (eventName, eventObject) {\n        var group = this.get('group');\n        group.emit(eventName, eventObject);\n    };\n    GroupComponent.prototype.init = function () {\n        _super.prototype.init.call(this);\n        if (!this.get('group')) {\n            this.initGroup();\n        }\n        this.offScreenRender(); //  group\n    };\n    // \n    GroupComponent.prototype.getInnerLayoutBBox = function () {\n        return this.get('offScreenBBox') || this.get('group').getBBox();\n    };\n    // \n    GroupComponent.prototype.delegateEmit = function (eventName, eventObject) {\n        var group = this.get('group');\n        eventObject.target = group;\n        group.emit(eventName, eventObject);\n        propagationDelegate(group, eventName, eventObject);\n    };\n    //  group , canvas \n    GroupComponent.prototype.createOffScreenGroup = function () {\n        var group = this.get('group');\n        var GroupClass = group.getGroupBase(); // \n        var newGroup = new GroupClass({\n            delegateObject: this.getDelegateObject(),\n        });\n        return newGroup;\n    };\n    //  offset\n    GroupComponent.prototype.applyOffset = function () {\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        this.moveElementTo(this.get('group'), {\n            x: offsetX,\n            y: offsetY,\n        });\n    };\n    GroupComponent.prototype.initGroup = function () {\n        var container = this.get('container');\n        this.set('group', container.addGroup({\n            id: this.get('id'),\n            name: this.get('name'),\n            capture: this.get('capture'),\n            visible: this.get('visible'),\n            isComponent: true,\n            component: this,\n            delegateObject: this.getDelegateObject(),\n        }));\n    };\n    // \n    GroupComponent.prototype.offScreenRender = function () {\n        this.clearOffScreenCache();\n        var offScreenGroup = this.createOffScreenGroup();\n        this.renderInner(offScreenGroup);\n        this.set('offScreenGroup', offScreenGroup);\n        //  bbox\n        this.set('offScreenBBox', getBBoxWithClip(offScreenGroup));\n        return offScreenGroup;\n    };\n    /**\n     * @protected\n     *  isReigeter \n     * @param {IGroup} parent \n     * @param {object} cfg    \n     */\n    GroupComponent.prototype.addGroup = function (parent, cfg) {\n        this.appendDelegateObject(parent, cfg);\n        var group = parent.addGroup(cfg);\n        if (this.get('isRegister')) {\n            this.registerElement(group);\n        }\n        return group;\n    };\n    /**\n     * @protected\n     *  isReigeter \n     * @param {IGroup} parent \n     * @param {object} cfg    \n     */\n    GroupComponent.prototype.addShape = function (parent, cfg) {\n        this.appendDelegateObject(parent, cfg);\n        var shape = parent.addShape(cfg);\n        if (this.get('isRegister')) {\n            this.registerElement(shape);\n        }\n        return shape;\n    };\n    /**\n     * \n     *\n     * @param parent \n     * @param cfg \n     */\n    GroupComponent.prototype.addComponent = function (parent, cfg) {\n        var id = cfg.id, Ctor = cfg.component, restCfg = __rest(cfg, [\"id\", \"component\"]);\n        // @ts-ignore\n        var inst = new Ctor(__assign(__assign({}, restCfg), { id: id, container: parent, updateAutoRender: this.get('updateAutoRender') }));\n        inst.init();\n        inst.render();\n        if (this.get('isRegister')) {\n            this.registerElement(inst.get('group'));\n        }\n        return inst;\n    };\n    GroupComponent.prototype.initEvent = function () { };\n    GroupComponent.prototype.removeEvent = function () {\n        var group = this.get('group');\n        group.off();\n    };\n    GroupComponent.prototype.getElementId = function (localId) {\n        var id = this.get('id'); //  Id\n        var name = this.get('name'); // \n        return id + \"-\" + name + \"-\" + localId;\n    };\n    GroupComponent.prototype.registerElement = function (element) {\n        var id = element.get('id');\n        this.get('shapesMap')[id] = element;\n    };\n    GroupComponent.prototype.unregisterElement = function (element) {\n        var id = element.get('id');\n        delete this.get('shapesMap')[id];\n    };\n    // \n    GroupComponent.prototype.moveElementTo = function (element, point) {\n        var matrix = getMatrixByTranslate(point);\n        element.attr('matrix', matrix);\n    };\n    /**\n     *  0 \n     * @protected\n     * @param {string} elmentName \n     * @param {IElement} newElement  \n     * @param {object} animateCfg \n     */\n    GroupComponent.prototype.addAnimation = function (elmentName, newElement, animateCfg) {\n        // \n        var originOpacity = newElement.attr('opacity');\n        if (isNil(originOpacity)) {\n            originOpacity = 1;\n        }\n        newElement.attr('opacity', 0);\n        newElement.animate({ opacity: originOpacity }, animateCfg);\n    };\n    /**\n     *  0 \n     * @protected\n     * @param {string} elmentName \n     * @param {IElement} originElement \n     * @param {object} animateCfg \n     */\n    GroupComponent.prototype.removeAnimation = function (elementName, originElement, animateCfg) {\n        originElement.animate({ opacity: 0 }, animateCfg);\n    };\n    /**\n     * \n     * @param {string} elmentName \n     * @param {IElement} originElement \n     * @param {object} newAttrs  \n     * @param {object} animateCfg \n     */\n    GroupComponent.prototype.updateAnimation = function (elementName, originElement, newAttrs, animateCfg) {\n        originElement.animate(newAttrs, animateCfg);\n    };\n    // \n    GroupComponent.prototype.updateElements = function (newGroup, originGroup) {\n        var _this = this;\n        var animate = this.get('animate');\n        var animateOption = this.get('animateOption');\n        var children = newGroup.getChildren().slice(0); //  originGroup  children \n        var preElement; // \n        each(children, function (element) {\n            var elementId = element.get('id');\n            var originElement = _this.getElementById(elementId);\n            var elementName = element.get('name');\n            if (originElement) {\n                if (element.get('isComponent')) {\n                    // \n                    var childComponent = element.get('component');\n                    var origChildComponent = originElement.get('component');\n                    var newCfg = pick(childComponent.cfg, difference(keys(childComponent.cfg), COPY_PROPERTIES_EXCLUDES));\n                    origChildComponent.update(newCfg);\n                    originElement.set(STATUS_UPDATE, 'update');\n                }\n                else {\n                    var replaceAttrs = _this.getReplaceAttrs(originElement, element);\n                    // \n                    if (animate && animateOption.update) {\n                        // \n                        _this.updateAnimation(elementName, originElement, replaceAttrs, animateOption.update);\n                    }\n                    else {\n                        // originElement.attrs = replaceAttrs; // \n                        originElement.attr(replaceAttrs);\n                    }\n                    // \n                    if (element.isGroup()) {\n                        _this.updateElements(element, originElement);\n                    }\n                    // \n                    each(COPY_PROPERTIES, function (name) {\n                        originElement.set(name, element.get(name));\n                    });\n                    updateClip(originElement, element);\n                    preElement = originElement;\n                    // \n                    originElement.set(STATUS_UPDATE, 'update');\n                }\n            }\n            else {\n                // \n                originGroup.add(element); //  group  insertAt \n                var siblings = originGroup.getChildren(); // \n                siblings.splice(siblings.length - 1, 1); // \n                if (preElement) {\n                    // \n                    var index = siblings.indexOf(preElement);\n                    siblings.splice(index + 1, 0, element); // \n                }\n                else {\n                    siblings.unshift(element);\n                }\n                _this.registerElement(element); // \n                element.set(STATUS_UPDATE, 'add'); // \n                if (element.get('isComponent')) {\n                    // container\n                    var childComponent = element.get('component');\n                    childComponent.set('container', originGroup);\n                }\n                else if (element.isGroup()) {\n                    // \n                    _this.registerNewGroup(element);\n                }\n                preElement = element;\n                if (animate) {\n                    var animateCfg = _this.get('isInit') ? animateOption.appear : animateOption.enter;\n                    if (animateCfg) {\n                        _this.addAnimation(elementName, element, animateCfg);\n                    }\n                }\n            }\n        });\n    };\n    GroupComponent.prototype.clearUpdateStatus = function (group) {\n        var children = group.getChildren();\n        each(children, function (el) {\n            el.set(STATUS_UPDATE, null); // \n        });\n    };\n    // \n    GroupComponent.prototype.clearOffScreenCache = function () {\n        var offScreenGroup = this.get('offScreenGroup');\n        if (offScreenGroup) {\n            //  Group\n            offScreenGroup.destroy();\n        }\n        this.set('offScreenGroup', null);\n        this.set('offScreenBBox', null);\n    };\n    // private updateInner() {\n    //   const group = this.get('group');\n    //   const newGroup = this.createOffScreenGroup();\n    //   this.renderInner(newGroup);\n    //   this.applyOffset();\n    //   this.updateElements(newGroup, group);\n    //   this.deleteElements();\n    //   newGroup.destroy(); // \n    // }\n    // \n    GroupComponent.prototype.getDelegateObject = function () {\n        var _a;\n        var name = this.get('name');\n        var delegateObject = (_a = {},\n            _a[name] = this,\n            _a.component = this,\n            _a);\n        return delegateObject;\n    };\n    // \n    GroupComponent.prototype.appendDelegateObject = function (parent, cfg) {\n        var parentObject = parent.get('delegateObject');\n        if (!cfg.delegateObject) {\n            cfg.delegateObject = {};\n        }\n        mix(cfg.delegateObject, parentObject); // \n    };\n    //  undefined\n    GroupComponent.prototype.getReplaceAttrs = function (originElement, newElement) {\n        var originAttrs = originElement.attr();\n        var newAttrs = newElement.attr();\n        each(originAttrs, function (v, k) {\n            if (newAttrs[k] === undefined) {\n                newAttrs[k] = undefined;\n            }\n        });\n        return newAttrs;\n    };\n    GroupComponent.prototype.registerNewGroup = function (group) {\n        var _this = this;\n        var children = group.getChildren();\n        each(children, function (element) {\n            _this.registerElement(element); // \n            element.set(STATUS_UPDATE, 'add'); // \n            if (element.isGroup()) {\n                _this.registerNewGroup(element);\n            }\n        });\n    };\n    // \n    GroupComponent.prototype.deleteElements = function () {\n        var _this = this;\n        var shapesMap = this.get('shapesMap');\n        var deleteArray = [];\n        // \n        each(shapesMap, function (element, id) {\n            if (!element.get(STATUS_UPDATE) || element.destroyed) {\n                deleteArray.push([id, element]);\n            }\n            else {\n                element.set(STATUS_UPDATE, null); // \n            }\n        });\n        var animate = this.get('animate');\n        var animateOption = this.get('animateOption');\n        // \n        each(deleteArray, function (item) {\n            var id = item[0], element = item[1];\n            if (!element.destroyed) {\n                var elementName = element.get('name');\n                if (animate && animateOption.leave) {\n                    // \n                    var callbackAnimCfg = mix({\n                        callback: function () {\n                            _this.removeElement(element);\n                        },\n                    }, animateOption.leave);\n                    _this.removeAnimation(elementName, element, callbackAnimCfg);\n                }\n                else {\n                    _this.removeElement(element);\n                }\n            }\n            delete shapesMap[id]; // \n        });\n    };\n    GroupComponent.prototype.removeElement = function (element) {\n        if (element.get('isGroup')) {\n            var component = element.get('component');\n            if (component) {\n                component.destroy();\n            }\n        }\n        element.remove();\n    };\n    return GroupComponent;\n}(Component));\nexport default GroupComponent;\n//# sourceMappingURL=group-component.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.propagationDelegate = void 0;\nvar graph_event_1 = require(\"@antv/g-base/lib/event/graph-event\");\n/**\n *\n * @param group \n * @param eventName \n * @param eventObject \n */\nfunction propagationDelegate(group, eventName, eventObject) {\n    var event = new graph_event_1.default(eventName, eventObject);\n    event.target = group;\n    event.propagationPath.push(group); //  group  delegation\n    group.emitDelegation(eventName, event);\n    var parent = group.getParent();\n    // \n    while (parent) {\n        // \n        parent.emitDelegation(eventName, event);\n        event.propagationPath.push(parent);\n        parent = parent.getParent();\n    }\n}\nexports.propagationDelegate = propagationDelegate;\n//# sourceMappingURL=event.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    fontFamily: \"\\n  \\\"-apple-system\\\", BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto,\\\"Helvetica Neue\\\",\\n  Helvetica, \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Microsoft YaHei\\\",\\n  SimSun, \\\"sans-serif\\\"\",\n    textColor: '#2C3542',\n    activeTextColor: '#333333',\n    uncheckedColor: '#D8D8D8',\n    lineColor: '#416180',\n    regionColor: '#CCD7EB',\n    verticalAxisRotate: -Math.PI / 4,\n    horizontalAxisRotate: Math.PI / 4,\n};\n//# sourceMappingURL=theme.js.map","import { __assign, __extends } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nvar LineAnnotation = /** @class */ (function (_super) {\n    __extends(LineAnnotation, _super);\n    function LineAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    LineAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'line', locationType: 'region', start: null, end: null, style: {}, text: null, defaultCfg: {\n                style: {\n                    fill: Theme.textColor,\n                    fontSize: 12,\n                    textAlign: 'center',\n                    textBaseline: 'bottom',\n                    fontFamily: Theme.fontFamily,\n                },\n                text: {\n                    position: 'center',\n                    autoRotate: true,\n                    content: null,\n                    offsetX: 0,\n                    offsetY: 0,\n                    style: {\n                        stroke: Theme.lineColor,\n                        lineWidth: 1,\n                    },\n                },\n            } });\n    };\n    LineAnnotation.prototype.renderInner = function (group) {\n        this.renderLine(group);\n        if (this.get('text')) {\n            this.renderLabel(group);\n        }\n    };\n    // \n    LineAnnotation.prototype.renderLine = function (group) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        this.addShape(group, {\n            type: 'line',\n            id: this.getElementId('line'),\n            name: 'annotation-line',\n            attrs: __assign({ x1: start.x, y1: start.y, x2: end.x, y2: end.y }, style),\n        });\n    };\n    //  label \n    LineAnnotation.prototype.getLabelPoint = function (start, end, position) {\n        var percent;\n        if (position === 'start') {\n            percent = 0;\n        }\n        else if (position === 'center') {\n            percent = 0.5;\n        }\n        else if (isString(position) && position.indexOf('%') !== -1) {\n            percent = parseInt(position, 10) / 100;\n        }\n        else if (isNumber(position)) {\n            percent = position;\n        }\n        else {\n            percent = 1;\n        }\n        if (percent > 1 || percent < 0) {\n            percent = 1;\n        }\n        return {\n            x: getValueByPercent(start.x, end.x, percent),\n            y: getValueByPercent(start.y, end.y, percent),\n        };\n    };\n    //  label\n    LineAnnotation.prototype.renderLabel = function (group) {\n        var text = this.get('text');\n        var start = this.get('start');\n        var end = this.get('end');\n        var position = text.position, content = text.content, style = text.style, offsetX = text.offsetX, offsetY = text.offsetY, autoRotate = text.autoRotate;\n        var point = this.getLabelPoint(start, end, position);\n        var attrs = __assign({ x: point.x + offsetX, y: point.y + offsetY, text: content }, style);\n        // \n        if (autoRotate) {\n            var vector = [end.x - start.x, end.y - start.y];\n            var angle = Math.atan2(vector[1], vector[0]);\n            var matrix = getMatrixByAngle(point, angle);\n            attrs.matrix = matrix;\n        }\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('line-text'),\n            name: 'annotation-line-text',\n            attrs: attrs,\n        });\n    };\n    return LineAnnotation;\n}(GroupComponent));\nexport default LineAnnotation;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport Theme from '../util/theme';\nvar TextAnnotation = /** @class */ (function (_super) {\n    __extends(TextAnnotation, _super);\n    function TextAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    TextAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'text', locationType: 'point', x: 0, y: 0, content: '', rotate: null, style: {}, defaultCfg: {\n                style: {\n                    fill: Theme.textColor,\n                    fontSize: 12,\n                    textAlign: 'center',\n                    textBaseline: 'middle',\n                    fontFamily: Theme.fontFamily,\n                },\n            } });\n    };\n    //  setLocation  text\n    TextAnnotation.prototype.setLocation = function (location) {\n        this.set('x', location.x);\n        this.set('y', location.y);\n        this.resetLocation();\n    };\n    TextAnnotation.prototype.renderInner = function (group) {\n        this.renderText(group);\n    };\n    TextAnnotation.prototype.renderText = function (group) {\n        var _a = this.getLocation(), x = _a.x, y = _a.y;\n        var content = this.get('content');\n        var style = this.get('style');\n        var text = this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('text'),\n            name: 'annotation-text',\n            attrs: __assign({ x: x,\n                y: y, text: content }, style),\n        });\n        this.applyRotate(text, x, y);\n    };\n    TextAnnotation.prototype.applyRotate = function (textShape, x, y) {\n        var rotate = this.get('rotate');\n        var matrix = null;\n        if (rotate) {\n            matrix = getMatrixByAngle({ x: x, y: y }, rotate);\n        }\n        textShape.attr('matrix', matrix);\n    };\n    TextAnnotation.prototype.resetLocation = function () {\n        var textShape = this.getElementByLocalId('text');\n        if (textShape) {\n            var _a = this.getLocation(), x = _a.x, y = _a.y;\n            textShape.attr({\n                x: x,\n                y: y,\n            });\n            this.applyRotate(textShape, x, y);\n        }\n    };\n    return TextAnnotation;\n}(GroupComponent));\nexport default TextAnnotation;\n//# sourceMappingURL=text.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { getCirclePoint } from '../util/util';\nvar ArcAnnotation = /** @class */ (function (_super) {\n    __extends(ArcAnnotation, _super);\n    function ArcAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    ArcAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'arc', locationType: 'circle', center: null, radius: 100, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2, style: {\n                stroke: '#999',\n                lineWidth: 1,\n            } });\n    };\n    ArcAnnotation.prototype.renderInner = function (group) {\n        this.renderArc(group);\n    };\n    ArcAnnotation.prototype.getArcPath = function () {\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var startPoint = getCirclePoint(center, radius, startAngle);\n        var endPoint = getCirclePoint(center, radius, endAngle);\n        var largeFlag = endAngle - startAngle > Math.PI ? 1 : 0;\n        var path = [['M', startPoint.x, startPoint.y]];\n        if (endAngle - startAngle === Math.PI * 2) {\n            // \n            var middlePoint = getCirclePoint(center, radius, startAngle + Math.PI);\n            path.push(['A', radius, radius, 0, largeFlag, 1, middlePoint.x, middlePoint.y]);\n            path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n        }\n        else {\n            path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n        }\n        return path;\n    };\n    //  arc\n    ArcAnnotation.prototype.renderArc = function (group) {\n        //   get('center') \n        var path = this.getArcPath();\n        var style = this.get('style');\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('arc'),\n            name: 'annotation-arc',\n            attrs: __assign({ path: path }, style),\n        });\n    };\n    return ArcAnnotation;\n}(GroupComponent));\nexport default ArcAnnotation;\n//# sourceMappingURL=arc.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nimport { regionToBBox } from '../util/util';\nvar RegionAnnotation = /** @class */ (function (_super) {\n    __extends(RegionAnnotation, _super);\n    function RegionAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    RegionAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'region', locationType: 'region', start: null, end: null, style: {}, defaultCfg: {\n                style: {\n                    lineWidth: 0,\n                    fill: Theme.regionColor,\n                    opacity: 0.4,\n                },\n            } });\n    };\n    RegionAnnotation.prototype.renderInner = function (group) {\n        this.renderRegion(group);\n    };\n    RegionAnnotation.prototype.renderRegion = function (group) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        var bbox = regionToBBox({ start: start, end: end });\n        this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('region'),\n            name: 'annotation-region',\n            attrs: __assign({ x: bbox.x, y: bbox.y, width: bbox.width, height: bbox.height }, style),\n        });\n    };\n    return RegionAnnotation;\n}(GroupComponent));\nexport default RegionAnnotation;\n//# sourceMappingURL=region.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar ImageAnnotation = /** @class */ (function (_super) {\n    __extends(ImageAnnotation, _super);\n    function ImageAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * \n     * @returns {object} \n     */\n    ImageAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'image', locationType: 'region', start: null, end: null, src: null, style: {} });\n    };\n    ImageAnnotation.prototype.renderInner = function (group) {\n        this.renderImage(group);\n    };\n    ImageAnnotation.prototype.getImageAttrs = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        var bbox = regionToBBox({ start: start, end: end });\n        var src = this.get('src');\n        return __assign({ x: bbox.x, y: bbox.y, img: src, width: bbox.width, height: bbox.height }, style);\n    };\n    // \n    ImageAnnotation.prototype.renderImage = function (group) {\n        this.addShape(group, {\n            type: 'image',\n            id: this.getElementId('image'),\n            name: 'annotation-image',\n            attrs: this.getImageAttrs(),\n        });\n    };\n    return ImageAnnotation;\n}(GroupComponent));\nexport default ImageAnnotation;\n//# sourceMappingURL=image.js.map","import { __assign, __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nvar DataMarkerAnnotation = /** @class */ (function (_super) {\n    __extends(DataMarkerAnnotation, _super);\n    function DataMarkerAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * \n     * @returns {object} \n     */\n    DataMarkerAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'dataMarker', locationType: 'point', x: 0, y: 0, point: {}, line: {}, text: {}, direction: 'upward', autoAdjust: true, coordinateBBox: null, defaultCfg: {\n                point: {\n                    display: true,\n                    style: {\n                        r: 3,\n                        fill: '#FFFFFF',\n                        stroke: '#1890FF',\n                        lineWidth: 2,\n                    },\n                },\n                line: {\n                    display: true,\n                    length: 20,\n                    style: {\n                        stroke: Theme.lineColor,\n                        lineWidth: 1,\n                    },\n                },\n                text: {\n                    content: '',\n                    display: true,\n                    style: {\n                        fill: Theme.textColor,\n                        opacity: 0.65,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n            } });\n    };\n    DataMarkerAnnotation.prototype.renderInner = function (group) {\n        if (get(this.get('line'), 'display')) {\n            this.renderLine(group);\n        }\n        if (get(this.get('text'), 'display')) {\n            this.renderText(group);\n        }\n        if (get(this.get('point'), 'display')) {\n            this.renderPoint(group);\n        }\n        if (this.get('autoAdjust')) {\n            this.autoAdjust(group);\n        }\n    };\n    DataMarkerAnnotation.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x') + this.get('offsetX'),\n            y: this.get('y') + this.get('offsetY'),\n        });\n    };\n    DataMarkerAnnotation.prototype.renderPoint = function (group) {\n        var point = this.getShapeAttrs().point;\n        this.addShape(group, {\n            type: 'circle',\n            id: this.getElementId('point'),\n            name: 'annotation-point',\n            attrs: point,\n        });\n    };\n    DataMarkerAnnotation.prototype.renderLine = function (group) {\n        var line = this.getShapeAttrs().line;\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('line'),\n            name: 'annotation-line',\n            attrs: line,\n        });\n    };\n    DataMarkerAnnotation.prototype.renderText = function (group) {\n        var text = this.getShapeAttrs().text;\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('text'),\n            name: 'annotation-text',\n            attrs: text,\n        });\n    };\n    DataMarkerAnnotation.prototype.autoAdjust = function (group) {\n        var direction = this.get('direction');\n        var x = this.get('x');\n        var y = this.get('y');\n        var lineLength = get(this.get('line'), 'length', 0);\n        var coordinateBBox = this.get('coordinateBBox');\n        var _a = group.getBBox(), minX = _a.minX, maxX = _a.maxX, minY = _a.minY, maxY = _a.maxY;\n        var textShape = group.findById(this.getElementId('text'));\n        var lineShape = group.findById(this.getElementId('line'));\n        if (!coordinateBBox) {\n            return;\n        }\n        if (textShape) {\n            if (x + minX <= coordinateBBox.minX) {\n                // \n                textShape.attr('textAlign', 'start');\n            }\n            if (x + maxX >= coordinateBBox.maxX) {\n                // \n                textShape.attr('textAlign', 'end');\n            }\n        }\n        if ((direction === 'upward' && y + minY <= coordinateBBox.minY) ||\n            (direction !== 'upward' && y + maxY >= coordinateBBox.maxY)) {\n            // \n            var textBaseline = void 0;\n            var factor = void 0;\n            if (direction === 'upward' && y + minY <= coordinateBBox.minY) {\n                textBaseline = 'top';\n                factor = 1;\n            }\n            else {\n                textBaseline = 'bottom';\n                factor = -1;\n            }\n            textShape.attr('textBaseline', textBaseline);\n            if (lineShape) {\n                lineShape.attr('path', [\n                    ['M', 0, 0],\n                    ['L', 0, lineLength * factor],\n                ]);\n            }\n            textShape.attr('y', (lineLength + 2) * factor);\n        }\n    };\n    DataMarkerAnnotation.prototype.getShapeAttrs = function () {\n        var lineDisplay = get(this.get('line'), 'display');\n        var pointStyle = get(this.get('point'), 'style', {});\n        var lineStyle = get(this.get('line'), 'style', {});\n        var textStyle = get(this.get('text'), 'style', {});\n        var direction = this.get('direction');\n        var lineLength = lineDisplay ? get(this.get('line'), 'length', 0) : 0;\n        var factor = direction === 'upward' ? -1 : 1;\n        return {\n            point: __assign({ x: 0, y: 0 }, pointStyle),\n            line: __assign({ path: [\n                    ['M', 0, 0],\n                    ['L', 0, lineLength * factor],\n                ] }, lineStyle),\n            text: __assign({ x: 0, y: (lineLength + 2) * factor, text: get(this.get('text'), 'content', ''), textBaseline: direction === 'upward' ? 'bottom' : 'top' }, textStyle),\n        };\n    };\n    return DataMarkerAnnotation;\n}(GroupComponent));\nexport default DataMarkerAnnotation;\n//# sourceMappingURL=data-marker.js.map","import { __assign, __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nimport { pointsToBBox } from '../util/util';\nvar DataRegionAnnotation = /** @class */ (function (_super) {\n    __extends(DataRegionAnnotation, _super);\n    function DataRegionAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * \n     * @returns {object} \n     */\n    DataRegionAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'dataRegion', locationType: 'points', points: [], lineLength: 0, region: {}, text: {}, defaultCfg: {\n                region: {\n                    style: {\n                        lineWidth: 0,\n                        fill: Theme.regionColor,\n                        opacity: 0.4,\n                    },\n                },\n                text: {\n                    content: '',\n                    style: {\n                        textAlign: 'center',\n                        textBaseline: 'bottom',\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n            } });\n    };\n    DataRegionAnnotation.prototype.renderInner = function (group) {\n        var regionStyle = get(this.get('region'), 'style', {});\n        var textStyle = get(this.get('text'), 'style', {});\n        var lineLength = this.get('lineLength') || 0;\n        var points = this.get('points');\n        if (!points.length) {\n            return;\n        }\n        var bbox = pointsToBBox(points);\n        // render region\n        var path = [];\n        path.push(['M', points[0].x, bbox.minY - lineLength]);\n        points.forEach(function (point) {\n            path.push(['L', point.x, point.y]);\n        });\n        path.push(['L', points[points.length - 1].x, points[points.length - 1].y - lineLength]);\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('region'),\n            name: 'annotation-region',\n            attrs: __assign({ path: path }, regionStyle),\n        });\n        // render text\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('text'),\n            name: 'annotation-text',\n            attrs: __assign({ x: (bbox.minX + bbox.maxX) / 2, y: bbox.minY - lineLength, text: get(this.get('text'), 'content', '') }, textStyle),\n        });\n    };\n    return DataRegionAnnotation;\n}(GroupComponent));\nexport default DataRegionAnnotation;\n//# sourceMappingURL=data-region.js.map","import { __assign, __extends } from \"tslib\";\nimport { clone, each } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar RegionFilterAnnotation = /** @class */ (function (_super) {\n    __extends(RegionFilterAnnotation, _super);\n    function RegionFilterAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * \n     * @returns {object} \n     */\n    RegionFilterAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'regionFilter', locationType: 'region', start: null, end: null, color: null, shape: [] });\n    };\n    RegionFilterAnnotation.prototype.renderInner = function (group) {\n        var _this = this;\n        var start = this.get('start');\n        var end = this.get('end');\n        // 1. add region layer\n        var layer = this.addGroup(group, {\n            id: this.getElementId('region-filter'),\n            capture: false,\n        });\n        // 2. clone shape & color it\n        each(this.get('shapes'), function (shape, shapeIdx) {\n            var type = shape.get('type');\n            var attrs = clone(shape.attr());\n            _this.adjustShapeAttrs(attrs);\n            _this.addShape(layer, {\n                id: _this.getElementId(\"shape-\" + type + \"-\" + shapeIdx),\n                capture: false,\n                type: type,\n                attrs: attrs,\n            });\n        });\n        // 3. clip\n        var clipBBox = regionToBBox({ start: start, end: end });\n        layer.setClip({\n            type: 'rect',\n            attrs: {\n                x: clipBBox.minX,\n                y: clipBBox.minY,\n                width: clipBBox.width,\n                height: clipBBox.height,\n            },\n        });\n    };\n    RegionFilterAnnotation.prototype.adjustShapeAttrs = function (attr) {\n        var color = this.get('color');\n        if (attr.fill) {\n            attr.fill = attr.fillStyle = color;\n        }\n        attr.stroke = attr.strokeStyle = color;\n    };\n    return RegionFilterAnnotation;\n}(GroupComponent));\nexport default RegionFilterAnnotation;\n//# sourceMappingURL=region-filter.js.map","import { each, mix } from '@antv/util';\n// \nexport function getStatesStyle(item, elementName, stateStyles) {\n    var styleName = elementName + \"Style\"; // activeStyle\n    var styles = null;\n    each(stateStyles, function (v, state) {\n        if (item[state] && v[styleName]) {\n            if (!styles) {\n                styles = {};\n            }\n            mix(styles, v[styleName]); // \n        }\n    });\n    return styles;\n}\n//# sourceMappingURL=state.js.map","import { __assign, __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { each, filter, isNil, isNumberEqual, mix } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport { getStatesStyle } from '../util/state';\nimport Theme from '../util/theme';\nvar AxisBase = /** @class */ (function (_super) {\n    __extends(AxisBase, _super);\n    function AxisBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AxisBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'axis', ticks: [], line: {}, tickLine: {}, subTickLine: null, title: null, \n            /**\n             * \n             */\n            label: {}, \n            /**\n             * titletickLine \n             */\n            verticalFactor: 1, \n            // \n            verticalLimitLength: null, overlapOrder: ['autoRotate', 'autoEllipsis', 'autoHide'], tickStates: {}, defaultCfg: {\n                line: {\n                    // @type {Attrs} ,null\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n                tickLine: {\n                    // @type {Attrs} \n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                    alignTick: true,\n                    length: 5,\n                    displayWithLabel: true,\n                },\n                subTickLine: {\n                    // @type {Attrs} \n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                    count: 4,\n                    length: 2,\n                },\n                label: {\n                    autoRotate: true,\n                    autoHide: false,\n                    autoEllipsis: false,\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                        fontWeight: 'normal',\n                    },\n                    offset: 10,\n                },\n                title: {\n                    autoRotate: true,\n                    spacing: 5,\n                    position: 'center',\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                        textAlign: 'center',\n                    },\n                },\n                tickStates: {\n                    active: {\n                        labelStyle: {\n                            fontWeight: 500,\n                        },\n                        tickLineStyle: {\n                            lineWidth: 2,\n                        },\n                    },\n                    inactive: {\n                        labelStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                    },\n                },\n            } });\n    };\n    /**\n     * \n     */\n    AxisBase.prototype.renderInner = function (group) {\n        if (this.get('line')) {\n            this.drawLine(group);\n        }\n        // drawTicks  drawLabels  drawTickLines\n        this.drawTicks(group);\n        if (this.get('title')) {\n            this.drawTitle(group);\n        }\n    };\n    //  IList \n    AxisBase.prototype.isList = function () {\n        return true;\n    };\n    /**\n     * \n     * @return {ListItem[]} \n     */\n    AxisBase.prototype.getItems = function () {\n        return this.get('ticks');\n    };\n    /**\n     * \n     * @param {ListItem[]} items \n     */\n    AxisBase.prototype.setItems = function (items) {\n        this.update({\n            ticks: items,\n        });\n    };\n    /**\n     * \n     * @param {ListItem} item \n     * @param {object}   cfg  \n     */\n    AxisBase.prototype.updateItem = function (item, cfg) {\n        mix(item, cfg);\n        this.clear(); // \n        this.render();\n    };\n    /**\n     * \n     */\n    AxisBase.prototype.clearItems = function () {\n        var itemGroup = this.getElementByLocalId('label-group');\n        itemGroup && itemGroup.clear();\n    };\n    /**\n     * \n     * @param {ListItem} item  \n     * @param {string}   state \n     * @param {boolean}  value , true, false\n     */\n    AxisBase.prototype.setItemState = function (item, state, value) {\n        item[state] = value;\n        this.updateTickStates(item); // \n    };\n    /**\n     * \n     * @param {ListItem} item  \n     * @param {boolean} state \n     */\n    AxisBase.prototype.hasState = function (item, state) {\n        return !!item[state];\n    };\n    AxisBase.prototype.getItemStates = function (item) {\n        var tickStates = this.get('tickStates');\n        var rst = [];\n        each(tickStates, function (v, k) {\n            if (item[k]) {\n                // item.selected\n                rst.push(k);\n            }\n        });\n        return rst;\n    };\n    /**\n     * \n     * @param {string} state \n     */\n    AxisBase.prototype.clearItemsState = function (state) {\n        var _this = this;\n        var items = this.getItemsByState(state);\n        each(items, function (item) {\n            _this.setItemState(item, state, false);\n        });\n    };\n    /**\n     * \n     * @param  {string}     state [description]\n     * @return {ListItem[]}       [description]\n     */\n    AxisBase.prototype.getItemsByState = function (state) {\n        var _this = this;\n        var items = this.getItems();\n        return filter(items, function (item) {\n            return _this.hasState(item, state);\n        });\n    };\n    AxisBase.prototype.getSidePoint = function (point, offset) {\n        var self = this;\n        var vector = self.getSideVector(offset, point);\n        return {\n            x: point.x + vector[0],\n            y: point.y + vector[1],\n        };\n    };\n    AxisBase.prototype.getTextAnchor = function (vector) {\n        var align;\n        if (isNumberEqual(vector[0], 0)) {\n            align = 'center';\n        }\n        else if (vector[0] > 0) {\n            align = 'start';\n        }\n        else if (vector[0] < 0) {\n            align = 'end';\n        }\n        return align;\n    };\n    AxisBase.prototype.processOverlap = function (labelGroup) { };\n    // \n    AxisBase.prototype.drawLine = function (group) {\n        var path = this.getLinePath();\n        var line = this.get('line'); // line  drawLine \n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('line'),\n            name: 'axis-line',\n            attrs: mix({\n                path: path,\n            }, line.style),\n        });\n    };\n    AxisBase.prototype.getTickLineItems = function (ticks) {\n        var _this = this;\n        var tickLineItems = [];\n        var tickLine = this.get('tickLine');\n        var alignTick = tickLine.alignTick;\n        var tickLineLength = tickLine.length;\n        var tickSegment = 1;\n        var tickCount = ticks.length;\n        if (tickCount >= 2) {\n            tickSegment = ticks[1].value - ticks[0].value;\n        }\n        each(ticks, function (tick) {\n            var point = tick.point;\n            if (!alignTick) {\n                // tickLine  tick  point\n                point = _this.getTickPoint(tick.value - tickSegment / 2);\n            }\n            var endPoint = _this.getSidePoint(point, tickLineLength);\n            tickLineItems.push({\n                startPoint: point,\n                tickValue: tick.value,\n                endPoint: endPoint,\n                tickId: tick.id,\n                id: \"tickline-\" + tick.id,\n            });\n        });\n        //  tickLine  tickLine\n        // if (!alignTick && tickCount > 0) {\n        //   const tick = ticks[tickCount - 1];\n        //   const point = this.getTickPoint(tick.value + tickSegment / 2);\n        // }\n        return tickLineItems;\n    };\n    AxisBase.prototype.getSubTickLineItems = function (tickLineItems) {\n        var subTickLineItems = [];\n        var subTickLine = this.get('subTickLine');\n        var subCount = subTickLine.count;\n        var tickLineCount = tickLineItems.length;\n        //  2 \n        if (tickLineCount >= 2) {\n            for (var i = 0; i < tickLineCount - 1; i++) {\n                var pre = tickLineItems[i];\n                var next = tickLineItems[i + 1];\n                for (var j = 0; j < subCount; j++) {\n                    var percent = (j + 1) / (subCount + 1);\n                    var tickValue = (1 - percent) * pre.tickValue + percent * next.tickValue;\n                    var point = this.getTickPoint(tickValue);\n                    var endPoint = this.getSidePoint(point, subTickLine.length);\n                    subTickLineItems.push({\n                        startPoint: point,\n                        endPoint: endPoint,\n                        tickValue: tickValue,\n                        id: \"sub-\" + pre.id + \"-\" + j,\n                    });\n                }\n            }\n        }\n        return subTickLineItems;\n    };\n    AxisBase.prototype.getTickLineAttrs = function (tickItem, type) {\n        var tickLineStyle = this.get(type).style;\n        var startPoint = tickItem.startPoint, endPoint = tickItem.endPoint;\n        var attrs = mix({\n            x1: startPoint.x,\n            y1: startPoint.y,\n            x2: endPoint.x,\n            y2: endPoint.y,\n        }, tickLineStyle);\n        return attrs;\n    };\n    // \n    AxisBase.prototype.drawTick = function (tickItem, tickLineGroup, type) {\n        this.addShape(tickLineGroup, {\n            type: 'line',\n            id: this.getElementId(tickItem.id),\n            name: \"axis-\" + type,\n            attrs: this.getTickLineAttrs(tickItem, type),\n        });\n    };\n    // \n    AxisBase.prototype.drawTickLines = function (group) {\n        var _this = this;\n        var ticks = this.get('ticks');\n        var subTickLine = this.get('subTickLine');\n        var tickLineItems = this.getTickLineItems(ticks);\n        var tickLineGroup = this.addGroup(group, {\n            name: 'axis-tickline-group',\n            id: this.getElementId('tickline-group'),\n        });\n        var tickCfg = this.get('tickLine');\n        each(tickLineItems, function (item) {\n            if (tickCfg.displayWithLabel) {\n                //  label  label\n                var labelId = _this.getElementId(\"label-\" + item.tickId);\n                if (group.findById(labelId)) {\n                    _this.drawTick(item, tickLineGroup, 'tickLine');\n                }\n            }\n            else {\n                _this.drawTick(item, tickLineGroup, 'tickLine');\n            }\n        });\n        if (subTickLine) {\n            var subTickLineItems = this.getSubTickLineItems(tickLineItems);\n            each(subTickLineItems, function (item) {\n                _this.drawTick(item, tickLineGroup, 'subTickLine');\n            });\n        }\n    };\n    //  ticks  id\n    AxisBase.prototype.processTicks = function () {\n        var _this = this;\n        var ticks = this.get('ticks');\n        each(ticks, function (tick) {\n            tick.point = _this.getTickPoint(tick.value);\n            //  tick  id\n            if (isNil(tick.id)) {\n                //  tick.name id\n                tick.id = tick.name;\n            }\n        });\n    };\n    //  ticks  tickLine\n    AxisBase.prototype.drawTicks = function (group) {\n        var _this = this;\n        this.processTicks();\n        if (this.get('label')) {\n            this.drawLabels(group);\n        }\n        if (this.get('tickLine')) {\n            this.drawTickLines(group);\n        }\n        var ticks = this.get('ticks');\n        each(ticks, function (tick) {\n            _this.applyTickStates(tick, group);\n        });\n    };\n    //  label \n    AxisBase.prototype.getLabelAttrs = function (tick, index) {\n        var labelCfg = this.get('label');\n        var offset = labelCfg.offset, style = labelCfg.style, rotate = labelCfg.rotate, formatter = labelCfg.formatter;\n        var point = this.getSidePoint(tick.point, offset);\n        var vector = this.getSideVector(offset, point);\n        var text = formatter ? formatter(tick.name, tick, index) : tick.name;\n        var attrs = mix({\n            x: point.x,\n            y: point.y,\n            text: text,\n            textAlign: this.getTextAnchor(vector),\n        }, style);\n        if (rotate) {\n            attrs.matrix = getMatrixByAngle(point, rotate);\n        }\n        return attrs;\n    };\n    // \n    AxisBase.prototype.drawLabels = function (group) {\n        var _this = this;\n        var ticks = this.get('ticks');\n        var labelGroup = this.addGroup(group, {\n            name: 'axis-label-group',\n            id: this.getElementId('label-group'),\n        });\n        each(ticks, function (tick, index) {\n            _this.addShape(labelGroup, {\n                type: 'text',\n                name: 'axis-label',\n                id: _this.getElementId(\"label-\" + tick.id),\n                attrs: _this.getLabelAttrs(tick, index),\n                delegateObject: {\n                    tick: tick,\n                    item: tick,\n                    index: index,\n                },\n            });\n        });\n        this.processOverlap(labelGroup);\n    };\n    // \n    AxisBase.prototype.getTitleAttrs = function () {\n        var titleCfg = this.get('title');\n        var style = titleCfg.style, position = titleCfg.position, offset = titleCfg.offset, _a = titleCfg.spacing, spacing = _a === void 0 ? 0 : _a, autoRotate = titleCfg.autoRotate;\n        var titleHeight = style.fontSize;\n        var percent = 0.5;\n        if (position === 'start') {\n            percent = 0;\n        }\n        else if (position === 'end') {\n            percent = 1;\n        }\n        var point = this.getTickPoint(percent); // \n        //  titleOffset  label offset\n        var titlePoint = this.getSidePoint(point, offset || spacing + titleHeight / 2); // \n        var attrs = mix({\n            x: titlePoint.x,\n            y: titlePoint.y,\n            text: titleCfg.text,\n        }, style);\n        var rotate = titleCfg.rotate; // rotate \n        var angle = rotate;\n        if (isNil(rotate) && autoRotate) {\n            // \n            var vector = this.getAxisVector(point);\n            var v1 = [1, 0]; // \n            angle = ext.angleTo(vector, v1, true);\n        }\n        if (angle) {\n            var matrix = getMatrixByAngle(titlePoint, angle);\n            attrs.matrix = matrix;\n        }\n        return attrs;\n    };\n    // \n    AxisBase.prototype.drawTitle = function (group) {\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('title'),\n            name: 'axis-title',\n            attrs: this.getTitleAttrs(),\n        });\n    };\n    AxisBase.prototype.applyTickStates = function (tick, group) {\n        var states = this.getItemStates(tick);\n        if (states.length) {\n            var tickStates = this.get('tickStates');\n            //  label  tickLine\n            var labelId = this.getElementId(\"label-\" + tick.id);\n            var labelShape = group.findById(labelId);\n            if (labelShape) {\n                var labelStateStyle = getStatesStyle(tick, 'label', tickStates);\n                labelStateStyle && labelShape.attr(labelStateStyle);\n            }\n            var tickLineId = this.getElementId(\"tickline-\" + tick.id);\n            var tickLineShape = group.findById(tickLineId);\n            if (tickLineShape) {\n                var tickLineStateStyle = getStatesStyle(tick, 'tickLine', tickStates);\n                tickLineStateStyle && tickLineShape.attr(tickLineStateStyle);\n            }\n        }\n    };\n    AxisBase.prototype.updateTickStates = function (tick) {\n        var states = this.getItemStates(tick);\n        var tickStates = this.get('tickStates');\n        var labelCfg = this.get('label');\n        var labelShape = this.getElementByLocalId(\"label-\" + tick.id);\n        var tickLineCfg = this.get('tickLine');\n        var tickLineShape = this.getElementByLocalId(\"tickline-\" + tick.id);\n        if (states.length) {\n            if (labelShape) {\n                var labelStateStyle = getStatesStyle(tick, 'label', tickStates);\n                labelStateStyle && labelShape.attr(labelStateStyle);\n            }\n            if (tickLineShape) {\n                var tickLineStateStyle = getStatesStyle(tick, 'tickLine', tickStates);\n                tickLineStateStyle && tickLineShape.attr(tickLineStateStyle);\n            }\n        }\n        else {\n            if (labelShape) {\n                labelShape.attr(labelCfg.style);\n            }\n            if (tickLineShape) {\n                tickLineShape.attr(tickLineCfg.style);\n            }\n        }\n    };\n    return AxisBase;\n}(GroupComponent));\nexport default AxisBase;\n//# sourceMappingURL=base.js.map","import { each } from '@antv/util';\nvar ELLIPSIS_CODE = '\\u2026';\nvar ELLIPSIS_CODE_LENGTH = 2; // \nfunction strLen(str) {\n    var len = 0;\n    for (var i = 0; i < str.length; i++) {\n        len += charAtLength(str, i);\n    }\n    return len;\n}\nfunction charAtLength(str, i) {\n    if (str.charCodeAt(i) > 0 && str.charCodeAt(i) < 128) {\n        return 1;\n    }\n    else {\n        return 2;\n    }\n}\nfunction getLabelLength(isVertical, label) {\n    var bbox = label.getCanvasBBox();\n    return isVertical ? bbox.width : bbox.height;\n}\nfunction ellipsisLabel(isVertical, label, limitLength, position) {\n    var text = label.attr('text');\n    var labelLength = getLabelLength(isVertical, label);\n    var codeLength = strLen(text);\n    var ellipsised = false;\n    if (limitLength < labelLength) {\n        var reseveLength = Math.floor((limitLength / labelLength) * codeLength) - ELLIPSIS_CODE_LENGTH; // \n        var newText = void 0;\n        if (reseveLength >= 0) {\n            newText = ellipsisString(text, reseveLength, position);\n        }\n        else {\n            newText = ELLIPSIS_CODE;\n        }\n        if (newText) {\n            label.attr('text', newText);\n            ellipsised = true;\n        }\n    }\n    if (ellipsised) {\n        label.set('tip', text);\n    }\n    else {\n        label.set('tip', null);\n    }\n    return ellipsised;\n}\nfunction ellipsisString(str, reseveLength, position) {\n    var count = str.length;\n    var rst = '';\n    if (position === 'tail') {\n        for (var i = 0, index = 0; i < reseveLength;) {\n            var charLength = charAtLength(str, index);\n            if (i + charLength <= reseveLength) {\n                rst += str[index];\n                i += charAtLength(str, index);\n                index++;\n            }\n            else {\n                break;\n            }\n        }\n        rst += ELLIPSIS_CODE;\n    }\n    else if (position === 'head') {\n        for (var i = 0, index = count - 1; i < reseveLength;) {\n            var charLength = charAtLength(str, index);\n            if (i + charLength <= reseveLength) {\n                rst += str[index];\n                i += charAtLength(str, index);\n                index--;\n            }\n            else {\n                break;\n            }\n        }\n        rst = ELLIPSIS_CODE + rst;\n    }\n    else {\n        var startStr = '';\n        var endStr = '';\n        for (var i = 0, startIndex = 0, endIndex = count - 1; i < reseveLength;) {\n            var startCodeLen = charAtLength(str, startIndex);\n            var hasAdd = false; // \n            if (startCodeLen + i <= reseveLength) {\n                startStr += str[startIndex];\n                startIndex++;\n                i += startCodeLen;\n                hasAdd = true;\n            }\n            var endCodeLen = charAtLength(str, endIndex);\n            if (endCodeLen + i <= reseveLength) {\n                endStr = str[endIndex] + endStr;\n                i += endCodeLen;\n                endIndex--;\n                hasAdd = true;\n            }\n            if (!hasAdd) {\n                // \n                break;\n            }\n        }\n        rst = startStr + ELLIPSIS_CODE + endStr;\n    }\n    return rst;\n}\nfunction ellipseLabels(isVertical, labelGroup, limitLength, position) {\n    var children = labelGroup.getChildren();\n    var ellipsised = false;\n    each(children, function (label) {\n        var rst = ellipsisLabel(isVertical, label, limitLength, position);\n        ellipsised = ellipsised || rst;\n    });\n    return ellipsised;\n}\nexport function getDefault() {\n    return ellipsisTail;\n}\nexport function ellipsisHead(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'head');\n}\nexport function ellipsisTail(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'tail');\n}\nexport function ellipsisMiddle(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'middle');\n}\n//# sourceMappingURL=auto-ellipsis.js.map","import { each } from '@antv/util';\nexport function getMaxLabelWidth(labels) {\n    var max = 0;\n    each(labels, function (label) {\n        var bbox = label.getBBox();\n        var width = bbox.width;\n        if (max < width) {\n            max = width;\n        }\n    });\n    return max;\n}\n//# sourceMappingURL=label.js.map","import { getMaxLabelWidth } from '../../util/label';\n// \nfunction isRotate(label) {\n    var matrix = label.attr('matrix');\n    return matrix && matrix[0] !== 1; // \n}\n// autohide \n// function isOutLimit(isVertical: boolean, label: IElement, limitLength: number) {\n//   if (!limitLength) {\n//     //  limitLength  false\n//     return false;\n//   }\n//   const canvasBBox = label.getCanvasBBox();\n//   let isOut = false;\n//   if (isVertical) {\n//     isOut = canvasBBox.width > limitLength;\n//   } else {\n//     isOut = canvasBBox.height > limitLength;\n//   }\n//   return isOut;\n// }\n// \nfunction isOverlap(isVertical, rotated, preBox, curBox, reversed) {\n    if (reversed === void 0) { reversed = false; }\n    var overlap = false;\n    if (isVertical) {\n        // \n        overlap = Math.abs(preBox.y - curBox.y) < preBox.height;\n    }\n    else {\n        // \n        if (rotated) {\n            //  x \n            var height = reversed ? curBox.height : preBox.height;\n            overlap = Math.abs(preBox.x - curBox.x) < height;\n        }\n        else {\n            //  x \n            var width = reversed ? curBox.width : preBox.width;\n            overlap = Math.abs(preBox.x - curBox.x) < width;\n        }\n    }\n    return overlap;\n}\n// \nfunction reserveOne(isVertical, labelsGroup, reversed) {\n    var labels = labelsGroup.getChildren().slice(); // \n    if (!labels.length) {\n        return false;\n    }\n    var hasHide = false;\n    if (reversed) {\n        // \n        labels.reverse();\n    }\n    var count = labels.length;\n    var first = labels[0];\n    var rotated = isRotate(first);\n    var preBox = first.getBBox();\n    for (var i = 1; i < count; i++) {\n        var label = labels[i];\n        var curBBox = label.getBBox();\n        //  isOutLimit(isVertical, label, limitLength) ||\n        var isHide = isOverlap(isVertical, rotated, preBox, curBBox, reversed);\n        if (isHide) {\n            label.hide();\n            hasHide = true;\n        }\n        else {\n            preBox = curBBox;\n        }\n    }\n    return hasHide;\n}\nexport function getDefault() {\n    return equidistance;\n}\n/**\n *  label  limitLength \n * @param {boolean} isVertical  \n * @param {IGroup}  labelsGroup label \n */\nexport function reserveFirst(isVertical, labelsGroup) {\n    return reserveOne(isVertical, labelsGroup, false);\n}\n/**\n *  label  limitLength \n * @param {boolean} isVertical  \n * @param {IGroup}  labelsGroup label \n */\nexport function reserveLast(isVertical, labelsGroup) {\n    return reserveOne(isVertical, labelsGroup, true);\n}\n/**\n *  label  limitLength \n * @param {boolean} isVertical  \n * @param {IGroup}  labelsGroup label \n */\nexport function reserveBoth(isVertical, labelsGroup) {\n    var labels = labelsGroup.getChildren().slice(); // \n    if (labels.length <= 2) {\n        //  2 \n        return false;\n    }\n    var hasHide = false;\n    var count = labels.length;\n    var first = labels[0];\n    var last = labels[count - 1];\n    var rotated = isRotate(first);\n    var preBox = first.getBBox();\n    var preLabel = first;\n    // \n    for (var i = 1; i < count - 1; i++) {\n        var label = labels[i];\n        var curBBox = label.getBBox();\n        //  isOutLimit(isVertical, label, limitLength) ||\n        var isHide = isOverlap(isVertical, rotated, preBox, curBBox);\n        if (isHide) {\n            label.hide();\n            hasHide = true;\n        }\n        else {\n            preBox = curBBox;\n            preLabel = label;\n        }\n    }\n    var lastBBox = last.getBBox();\n    var overlap = isOverlap(isVertical, rotated, preBox, lastBBox); //  limit\n    if (overlap) {\n        // \n        preLabel.hide();\n        hasHide = true;\n    }\n    return hasHide;\n}\n/**\n *  label  limitLength \n * @param {boolean} isVertical  \n * @param {IGroup}  labelsGroup label \n */\nexport function equidistance(isVertical, labelsGroup) {\n    var labels = labelsGroup.getChildren().slice(); // \n    if (labels.length < 2) {\n        //  2  2 \n        return false;\n    }\n    var hasHide = false;\n    var first = labels[0];\n    var firstBBox = first.getBBox();\n    var second = labels[1];\n    var rotated = isRotate(first);\n    var count = labels.length;\n    var interval = 0; // \n    if (isVertical) {\n        // \n        var distance = Math.abs(second.attr('y') - first.attr('y'));\n        interval = firstBBox.height / distance;\n    }\n    else {\n        // \n        if (rotated) {\n            var distance = Math.abs(second.attr('x') - first.attr('x'));\n            interval = firstBBox.width / distance;\n        }\n        else {\n            var maxWidth = getMaxLabelWidth(labels);\n            var distance = Math.abs(second.attr('x') - first.attr('x'));\n            interval = maxWidth / distance;\n        }\n    }\n    // interval > 1  label \n    if (interval > 1) {\n        interval = Math.ceil(interval);\n        for (var i = 0; i < count; i++) {\n            if (i % interval !== 0) {\n                //  label\n                labels[i].hide();\n                hasHide = true;\n            }\n        }\n    }\n    return hasHide;\n}\n//# sourceMappingURL=auto-hide.js.map","import { each } from '@antv/util';\nimport { getMaxLabelWidth } from '../../util/label';\nimport { getMatrixByAngle } from '../../util/matrix';\nimport Theme from '../../util/theme';\n// \nfunction setLabelsAngle(labels, angle) {\n    each(labels, function (label) {\n        var x = label.attr('x');\n        var y = label.attr('y');\n        var matrix = getMatrixByAngle({ x: x, y: y }, angle);\n        label.attr('matrix', matrix);\n    });\n}\n// \nfunction labelRotate(isVertical, labelsGroup, limitLength, getAngle) {\n    var labels = labelsGroup.getChildren();\n    if (!labels.length) {\n        return false;\n    }\n    if (!isVertical && labels.length < 2) {\n        // \n        return false;\n    }\n    var maxWidth = getMaxLabelWidth(labels);\n    var isOverlap = false;\n    if (isVertical) {\n        // limitLength  0  null \n        isOverlap = !!limitLength && maxWidth > limitLength;\n    }\n    else {\n        //  limitLength \n        var tickWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n        isOverlap = maxWidth > tickWidth;\n    }\n    if (isOverlap) {\n        var angle = getAngle(limitLength, maxWidth);\n        setLabelsAngle(labels, angle);\n    }\n    return isOverlap;\n}\nexport function getDefault() {\n    return fixedAngle;\n}\n/**\n * \n * @param  {boolean} isVertical  \n * @param  {IGroup}  labelsGroup  group\n * @param  {number}  limitLength \n * @return {boolean}             \n */\nexport function fixedAngle(isVertical, labelsGroup, limitLength) {\n    return labelRotate(isVertical, labelsGroup, limitLength, function () {\n        return isVertical ? Theme.verticalAxisRotate : Theme.horizontalAxisRotate;\n    });\n}\n/**\n * \n * @param  {boolean} isVertical  \n * @param  {IGroup}  labelsGroup  group\n * @param  {number}  limitLength \n * @return {boolean}             \n */\nexport function unfixedAngle(isVertical, labelsGroup, limitLength) {\n    return labelRotate(isVertical, labelsGroup, limitLength, function (length, maxWidth) {\n        if (!length) {\n            //  limitLength\n            return isVertical ? Theme.verticalAxisRotate : Theme.horizontalAxisRotate;\n        }\n        if (isVertical) {\n            //  limitLength > maxWidth  overlap\n            return -Math.acos(length / maxWidth);\n        }\n        else {\n            var angle = 0;\n            if (length > maxWidth) {\n                // asin  -1 1\n                angle = Math.PI / 4;\n            }\n            else {\n                angle = Math.asin(length / maxWidth);\n                if (angle > Math.PI / 4) {\n                    //  Math.PI / 4 \n                    angle = Math.PI / 4;\n                }\n            }\n            return angle;\n        }\n    });\n}\n//# sourceMappingURL=auto-rotate.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { each, isFunction, isNil, isNumberEqual } from '@antv/util';\nimport AxisBase from './base';\nimport * as OverlapUtil from './overlap';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Line.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line', locationType: 'region', \n            /**\n             * , x, y\n             * @type {object}\n             */\n            start: null, \n            /**\n             * , x, y\n             * @type {object}\n             */\n            end: null });\n    };\n    //  path\n    Line.prototype.getLinePath = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var path = [];\n        path.push(['M', start.x, start.y]);\n        path.push(['L', end.x, end.y]);\n        return path;\n    };\n    //  layout bbox line \n    Line.prototype.getInnerLayoutBBox = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var bbox = _super.prototype.getInnerLayoutBBox.call(this);\n        var minX = Math.min(start.x, end.x, bbox.x);\n        var minY = Math.min(start.y, end.y, bbox.y);\n        var maxX = Math.max(start.x, end.x, bbox.maxX);\n        var maxY = Math.max(start.y, end.y, bbox.maxY);\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    Line.prototype.isVertical = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return isNumberEqual(start.x, end.x);\n    };\n    Line.prototype.isHorizontal = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return isNumberEqual(start.y, end.y);\n    };\n    Line.prototype.getTickPoint = function (tickValue) {\n        var self = this;\n        var start = self.get('start');\n        var end = self.get('end');\n        var regionX = end.x - start.x;\n        var regionY = end.y - start.y;\n        return {\n            x: start.x + regionX * tickValue,\n            y: start.y + regionY * tickValue,\n        };\n    };\n    // \n    Line.prototype.getSideVector = function (offset) {\n        var axisVector = this.getAxisVector();\n        var normal = vec2.normalize([0, 0], axisVector);\n        var factor = this.get('verticalFactor');\n        var verticalVector = [normal[1], normal[0] * -1]; // \n        return vec2.scale([0, 0], verticalVector, offset * factor);\n    };\n    // \n    Line.prototype.getAxisVector = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return [end.x - start.x, end.y - start.y];\n    };\n    Line.prototype.processOverlap = function (labelGroup) {\n        var _this = this;\n        var isVertical = this.isVertical();\n        var isHorizontal = this.isHorizontal();\n        // \n        if (!isVertical && !isHorizontal) {\n            return;\n        }\n        var labelCfg = this.get('label');\n        var titleCfg = this.get('title');\n        var verticalLimitLength = this.get('verticalLimitLength');\n        var labelOffset = labelCfg.offset;\n        var limitLength = verticalLimitLength;\n        var titleHeight = 0;\n        var titleSpacing = 0;\n        if (titleCfg) {\n            titleHeight = titleCfg.style.fontSize;\n            titleSpacing = titleCfg.spacing;\n        }\n        if (limitLength) {\n            limitLength = limitLength - labelOffset - titleSpacing - titleHeight;\n        }\n        var overlapOrder = this.get('overlapOrder');\n        each(overlapOrder, function (name) {\n            if (labelCfg[name]) {\n                _this.autoProcessOverlap(name, labelCfg[name], labelGroup, limitLength);\n            }\n        });\n        if (titleCfg) {\n            //  title  offset\n            var bbox = labelGroup.getBBox();\n            var length_1 = isVertical ? bbox.width : bbox.height;\n            if (isNil(titleCfg.offset)) {\n                //  offset\n                titleCfg.offset = labelOffset + length_1 + titleSpacing + titleHeight / 2;\n            }\n        }\n    };\n    Line.prototype.autoProcessOverlap = function (name, value, labelGroup, limitLength) {\n        var _this = this;\n        var isVertical = this.isVertical();\n        var hasAdjusted = false;\n        var util = OverlapUtil[name];\n        if (value === true) {\n            // \n            hasAdjusted = util.getDefault()(isVertical, labelGroup, limitLength);\n        }\n        else if (isFunction(value)) {\n            // \n            hasAdjusted = value(isVertical, labelGroup, limitLength);\n        }\n        else if (util[value]) {\n            // \n            hasAdjusted = util[value](isVertical, labelGroup, limitLength);\n        }\n        if (name === 'autoRotate') {\n            // \n            if (hasAdjusted) {\n                var labels = labelGroup.getChildren();\n                var verticalFactor_1 = this.get('verticalFactor');\n                each(labels, function (label) {\n                    var textAlign = label.attr('textAlign');\n                    if (textAlign === 'center') {\n                        // \n                        var newAlign = verticalFactor_1 > 0 ? 'end' : 'start';\n                        label.attr('textAlign', newAlign);\n                    }\n                });\n            }\n        }\n        else if (name === 'autoHide') {\n            var children = labelGroup.getChildren().slice(0); // \n            each(children, function (label) {\n                if (!label.get('visible')) {\n                    if (_this.get('isRegister')) {\n                        // \n                        _this.unregisterElement(label);\n                    }\n                    label.remove(); //  label \n                }\n            });\n        }\n    };\n    return Line;\n}(AxisBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport AxisBase from './base';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', locationType: 'circle', center: null, radius: null, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2 });\n    };\n    Circle.prototype.getLinePath = function () {\n        var center = this.get('center');\n        var x = center.x;\n        var y = center.y;\n        var rx = this.get('radius');\n        var ry = rx;\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var path = [];\n        if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n            path = [['M', x, y - ry], ['A', rx, ry, 0, 1, 1, x, y + ry], ['A', rx, ry, 0, 1, 1, x, y - ry], ['Z']];\n        }\n        else {\n            var startPoint = this.getCirclePoint(startAngle);\n            var endPoint = this.getCirclePoint(endAngle);\n            var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n            var sweep = startAngle > endAngle ? 0 : 1;\n            path = [\n                ['M', x, y],\n                ['L', startPoint.x, startPoint.y],\n                ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y],\n                ['L', x, y],\n            ];\n        }\n        return path;\n    };\n    Circle.prototype.getTickPoint = function (tickValue) {\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var angle = startAngle + (endAngle - startAngle) * tickValue;\n        return this.getCirclePoint(angle);\n    };\n    // \n    Circle.prototype.getSideVector = function (offset, point) {\n        var center = this.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        var factor = this.get('verticalFactor');\n        var vecLen = vec2.length(vector);\n        vec2.scale(vector, vector, (factor * offset) / vecLen);\n        return vector;\n    };\n    // \n    Circle.prototype.getAxisVector = function (point) {\n        var center = this.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        return [vector[1], -1 * vector[0]]; // \n    };\n    // \n    Circle.prototype.getCirclePoint = function (angle, radius) {\n        var center = this.get('center');\n        radius = radius || this.get('radius');\n        return {\n            x: center.x + Math.cos(angle) * radius,\n            y: center.y + Math.sin(angle) * radius,\n        };\n    };\n    return Circle;\n}(AxisBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport Theme from '../util/theme';\nimport { formatPadding } from '../util/util';\nvar CrosshairBase = /** @class */ (function (_super) {\n    __extends(CrosshairBase, _super);\n    function CrosshairBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'crosshair', type: 'base', line: {}, text: null, textBackground: {}, capture: false, defaultCfg: {\n                line: {\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n                text: {\n                    position: 'start',\n                    offset: 10,\n                    autoRotate: false,\n                    content: null,\n                    style: {\n                        fill: Theme.textColor,\n                        textAlign: 'center',\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n                textBackground: {\n                    padding: 5,\n                    style: {\n                        stroke: Theme.lineColor,\n                    },\n                },\n            } });\n    };\n    CrosshairBase.prototype.renderInner = function (group) {\n        if (this.get('line')) {\n            this.renderLine(group);\n        }\n        if (this.get('text')) {\n            this.renderText(group);\n            this.renderBackground(group);\n        }\n    };\n    CrosshairBase.prototype.renderText = function (group) {\n        var text = this.get('text');\n        var style = text.style, autoRotate = text.autoRotate, content = text.content;\n        if (!isNil(content)) {\n            var textPoint = this.getTextPoint();\n            var matrix = null;\n            if (autoRotate) {\n                var angle = this.getRotateAngle();\n                matrix = getMatrixByAngle(textPoint, angle);\n            }\n            this.addShape(group, {\n                type: 'text',\n                name: 'crosshair-text',\n                id: this.getElementId('text'),\n                attrs: __assign(__assign(__assign({}, textPoint), { text: content, matrix: matrix }), style),\n            });\n        }\n    };\n    CrosshairBase.prototype.renderLine = function (group) {\n        var path = this.getLinePath();\n        var line = this.get('line');\n        var style = line.style;\n        this.addShape(group, {\n            type: 'path',\n            name: 'crosshair-line',\n            id: this.getElementId('line'),\n            attrs: __assign({ path: path }, style),\n        });\n    };\n    // \n    CrosshairBase.prototype.renderBackground = function (group) {\n        var textId = this.getElementId('text');\n        var textShape = group.findById(textId); // \n        var textBackground = this.get('textBackground');\n        if (textBackground && textShape) {\n            var textBBox = textShape.getBBox();\n            var padding = formatPadding(textBackground.padding); //  padding \n            var style = textBackground.style;\n            var backgroundShape = this.addShape(group, {\n                type: 'rect',\n                name: 'crosshair-text-background',\n                id: this.getElementId('text-background'),\n                attrs: __assign({ x: textBBox.x - padding[3], y: textBBox.y - padding[0], width: textBBox.width + padding[1] + padding[3], height: textBBox.height + padding[0] + padding[2], matrix: textShape.attr('matrix') }, style),\n            });\n            backgroundShape.toBack();\n        }\n    };\n    return CrosshairBase;\n}(GroupComponent));\nexport default CrosshairBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { getTextPoint } from '../util/util';\nimport CrosshairBase from './base';\nvar LineCrosshair = /** @class */ (function (_super) {\n    __extends(LineCrosshair, _super);\n    function LineCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LineCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line', locationType: 'region', start: null, end: null });\n    };\n    // \n    LineCrosshair.prototype.getRotateAngle = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var position = this.get('text').position;\n        var angle = Math.atan2(end.y - start.y, end.x - start.x);\n        var tangentAngle = position === 'start' ? angle - Math.PI / 2 : angle + Math.PI / 2;\n        return tangentAngle;\n    };\n    LineCrosshair.prototype.getTextPoint = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var _b = this.get('text'), position = _b.position, offset = _b.offset;\n        return getTextPoint(start, end, position, offset);\n    };\n    LineCrosshair.prototype.getLinePath = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        return [\n            ['M', start.x, start.y],\n            ['L', end.x, end.y],\n        ];\n    };\n    return LineCrosshair;\n}(CrosshairBase));\nexport default LineCrosshair;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport { getCirclePoint } from '../util/util';\nimport CrosshairBase from './base';\nvar LineCrosshair = /** @class */ (function (_super) {\n    __extends(LineCrosshair, _super);\n    function LineCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LineCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', locationType: 'circle', center: null, radius: 100, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2 });\n    };\n    LineCrosshair.prototype.getRotateAngle = function () {\n        var _a = this.getLocation(), startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var position = this.get('text').position;\n        var tangentAngle = position === 'start' ? startAngle + Math.PI / 2 : endAngle - Math.PI / 2;\n        return tangentAngle;\n    };\n    LineCrosshair.prototype.getTextPoint = function () {\n        var text = this.get('text');\n        var position = text.position, offset = text.offset;\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var angle = position === 'start' ? startAngle : endAngle;\n        var tangentAngle = this.getRotateAngle() - Math.PI;\n        var point = getCirclePoint(center, radius, angle);\n        //  offset\n        // const tangent = [Math.cos(tangentAngle), Math.sin(tangentAngle)];\n        // const offsetVector = vec2.scale([], tangent, offset);\n        var offsetX = Math.cos(tangentAngle) * offset;\n        var offsetY = Math.sin(tangentAngle) * offset;\n        return {\n            x: point.x + offsetX,\n            y: point.y + offsetY,\n        };\n    };\n    LineCrosshair.prototype.getLinePath = function () {\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var path = null;\n        if (endAngle - startAngle === Math.PI * 2) {\n            // \n            var x = center.x, y = center.y;\n            path = [\n                ['M', x, y - radius],\n                ['A', radius, radius, 0, 1, 1, x, y + radius],\n                ['A', radius, radius, 0, 1, 1, x, y - radius],\n                ['Z'],\n            ];\n        }\n        else {\n            var startPoint = getCirclePoint(center, radius, startAngle);\n            var endPoint = getCirclePoint(center, radius, endAngle);\n            var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n            var sweep = startAngle > endAngle ? 0 : 1;\n            path = [\n                ['M', startPoint.x, startPoint.y],\n                ['A', radius, radius, 0, large, sweep, endPoint.x, endPoint.y],\n            ];\n        }\n        return path;\n    };\n    return LineCrosshair;\n}(CrosshairBase));\nexport default LineCrosshair;\n//# sourceMappingURL=circle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar dom_util_1 = require(\"@antv/dom-util\");\nvar util_1 = require(\"@antv/util\");\nvar util_2 = require(\"../util/util\");\nvar component_1 = require(\"./component\");\nvar HtmlComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(HtmlComponent, _super);\n    function HtmlComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HtmlComponent.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return tslib_1.__assign(tslib_1.__assign({}, cfg), { container: null, containerTpl: '<div></div>', updateAutoRender: true, containerClassName: '', parent: null });\n        return cfg;\n    };\n    HtmlComponent.prototype.getContainer = function () {\n        return this.get('container');\n    };\n    /**\n     * \n     */\n    HtmlComponent.prototype.show = function () {\n        var container = this.get('container');\n        container.style.display = '';\n        this.set('visible', true);\n    };\n    /**\n     * \n     */\n    HtmlComponent.prototype.hide = function () {\n        var container = this.get('container');\n        container.style.display = 'none';\n        this.set('visible', false);\n    };\n    /**\n     * \n     * @param capture \n     */\n    HtmlComponent.prototype.setCapture = function (capture) {\n        var container = this.getContainer();\n        var value = capture ? 'auto' : 'none';\n        container.style.pointerEvents = value;\n        this.set('capture', capture);\n    };\n    HtmlComponent.prototype.getBBox = function () {\n        var container = this.getContainer();\n        var x = parseFloat(container.style.left) || 0;\n        var y = parseFloat(container.style.top) || 0;\n        return util_2.createBBox(x, y, container.clientWidth, container.clientHeight);\n    };\n    HtmlComponent.prototype.clear = function () {\n        var container = this.get('container');\n        util_2.clearDom(container);\n    };\n    HtmlComponent.prototype.destroy = function () {\n        this.removeEvent();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     *  init DOM \n     */\n    HtmlComponent.prototype.init = function () {\n        _super.prototype.init.call(this);\n        this.initContainer();\n        this.initDom();\n        this.resetStyles(); // \n        this.applyStyles(); // \n        this.initEvent();\n        this.initCapture();\n        this.initVisible();\n    };\n    HtmlComponent.prototype.initCapture = function () {\n        this.setCapture(this.get('capture'));\n    };\n    HtmlComponent.prototype.initVisible = function () {\n        if (!this.get('visible')) {\n            // \n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    };\n    HtmlComponent.prototype.initDom = function () {\n    };\n    HtmlComponent.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (util_1.isNil(container)) {\n            //  container \n            container = this.createDom();\n            var parent_1 = this.get('parent');\n            if (util_1.isString(parent_1)) {\n                parent_1 = document.getElementById(parent_1);\n                this.set('parent', parent_1);\n            }\n            parent_1.appendChild(container);\n            this.set('container', container);\n        }\n        else if (util_1.isString(container)) {\n            //  id,  container\n            container = document.getElementById(container);\n            this.set('container', container);\n        } // else container  DOM\n        if (!this.get('parent')) {\n            this.set('parent', container.parentNode);\n        }\n    };\n    // \n    HtmlComponent.prototype.resetStyles = function () {\n        var style = this.get('domStyles');\n        var defaultStyles = this.get('defaultStyles');\n        if (!style) {\n            style = defaultStyles;\n        }\n        else {\n            style = util_1.deepMix({}, defaultStyles, style);\n        }\n        this.set('domStyles', style);\n    };\n    // \n    HtmlComponent.prototype.applyStyles = function () {\n        var domStyles = this.get('domStyles');\n        if (!domStyles) {\n            return;\n        }\n        var container = this.getContainer();\n        this.applyChildrenStyles(container, domStyles);\n        var containerClassName = this.get('containerClassName');\n        if (containerClassName && util_2.hasClass(container, containerClassName)) {\n            var containerCss = domStyles[containerClassName];\n            dom_util_1.modifyCSS(container, containerCss);\n        }\n    };\n    HtmlComponent.prototype.applyChildrenStyles = function (element, styles) {\n        util_1.each(styles, function (style, name) {\n            var elements = element.getElementsByClassName(name);\n            util_1.each(elements, function (el) {\n                dom_util_1.modifyCSS(el, style);\n            });\n        });\n    };\n    //  DOM\n    HtmlComponent.prototype.applyStyle = function (cssName, dom) {\n        var domStyles = this.get('domStyles');\n        dom_util_1.modifyCSS(dom, domStyles[cssName]);\n    };\n    /**\n     * @protected\n     */\n    HtmlComponent.prototype.createDom = function () {\n        var containerTpl = this.get('containerTpl');\n        return dom_util_1.createDom(containerTpl);\n    };\n    /**\n     * @protected\n     * \n     */\n    HtmlComponent.prototype.initEvent = function () { };\n    /**\n     * @protected\n     *  DOM\n     */\n    HtmlComponent.prototype.removeDom = function () {\n        var container = this.get('container');\n        container && container.parentNode.removeChild(container);\n    };\n    /**\n     * @protected\n     * \n     */\n    HtmlComponent.prototype.removeEvent = function () { };\n    HtmlComponent.prototype.updateInner = function (cfg) {\n        // \n        if (util_1.hasKey(cfg, 'domStyles')) {\n            this.resetStyles();\n            this.applyStyles();\n        }\n        // \n        this.resetPosition();\n    };\n    HtmlComponent.prototype.resetPosition = function () { };\n    ;\n    return HtmlComponent;\n}(component_1.default));\nexports.default = HtmlComponent;\n//# sourceMappingURL=html-component.js.map","var _a;\nimport Theme from '../util/theme';\n// tooltip  dom  css \nimport * as CssConst from './css-const';\nexport default (_a = {},\n    // css style for tooltip\n    _a[\"\" + CssConst.CONTAINER_CLASS] = {\n        position: 'relative'\n    },\n    _a[\"\" + CssConst.CROSSHAIR_LINE] = {\n        position: 'absolute',\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\n    },\n    _a[\"\" + CssConst.CROSSHAIR_TEXT] = {\n        position: 'absolute',\n        color: Theme.textColor,\n        fontFamily: Theme.fontFamily,\n    },\n    _a);\n//# sourceMappingURL=html-theme.js.map","export var CONTAINER_CLASS = 'g2-crosshair';\nexport var CROSSHAIR_LINE = CONTAINER_CLASS + \"-line\";\nexport var CROSSHAIR_TEXT = CONTAINER_CLASS + \"-text\";\n//# sourceMappingURL=css-const.js.map","import { __assign, __extends } from \"tslib\";\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { substitute, hasKey } from '@antv/util';\nimport { toPx, getTextPoint } from '../util/util';\nimport HtmlComponent from '../abstract/html-component';\nimport * as CssConst from './css-const';\nimport HtmlTheme from './html-theme';\nvar HtmlCrosshair = /** @class */ (function (_super) {\n    __extends(HtmlCrosshair, _super);\n    function HtmlCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HtmlCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'crosshair', type: 'html', locationType: 'region', start: { x: 0, y: 0 }, end: { x: 0, y: 0 }, capture: false, text: null, containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"></div>\", crosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_LINE + \"\\\"></div>\", textTpl: \"<span class=\\\"\" + CssConst.CROSSHAIR_TEXT + \"\\\">{content}</span>\", domStyles: null, containerClassName: CssConst.CONTAINER_CLASS, defaultStyles: HtmlTheme, defaultCfg: {\n                text: {\n                    position: 'start',\n                    content: null,\n                    align: 'center',\n                    offset: 10\n                }\n            } });\n    };\n    HtmlCrosshair.prototype.render = function () {\n        this.resetText();\n        this.resetPosition();\n    };\n    //  crosshair\n    HtmlCrosshair.prototype.initCrossHair = function () {\n        var container = this.getContainer();\n        var crosshairTpl = this.get('crosshairTpl');\n        var crosshairEl = createDom(crosshairTpl);\n        container.appendChild(crosshairEl);\n        this.applyStyle(CssConst.CROSSHAIR_LINE, crosshairEl);\n        this.set('crosshairEl', crosshairEl);\n    };\n    // \n    HtmlCrosshair.prototype.getTextPoint = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var _b = this.get('text'), position = _b.position, offset = _b.offset;\n        return getTextPoint(start, end, position, offset);\n    };\n    //  text\n    HtmlCrosshair.prototype.resetText = function () {\n        var text = this.get('text');\n        var textEl = this.get('textEl');\n        if (text) {\n            var content = text.content;\n            if (!textEl) {\n                var container = this.getContainer();\n                var textTpl = substitute(this.get('textTpl'), text);\n                textEl = createDom(textTpl);\n                container.appendChild(textEl);\n                this.applyStyle(CssConst.CROSSHAIR_TEXT, textEl);\n                this.set('textEl', textEl);\n            }\n            textEl.innerHTML = content;\n        }\n        else if (textEl) {\n            textEl.remove();\n        }\n    };\n    // \n    HtmlCrosshair.prototype.isVertical = function (start, end) {\n        return start.x === end.x;\n    };\n    // \n    HtmlCrosshair.prototype.resetPosition = function () {\n        var crosshairEl = this.get('crosshairEl');\n        if (!crosshairEl) {\n            this.initCrossHair();\n            crosshairEl = this.get('crosshairEl');\n        }\n        var start = this.get('start');\n        var end = this.get('end');\n        var minX = Math.min(start.x, end.x);\n        var minY = Math.min(start.y, end.y);\n        if (this.isVertical(start, end)) {\n            modifyCSS(crosshairEl, {\n                width: '1px',\n                height: toPx(Math.abs(end.y - start.y))\n            });\n        }\n        else {\n            modifyCSS(crosshairEl, {\n                height: '1px',\n                width: toPx(Math.abs(end.x - start.x))\n            });\n        }\n        modifyCSS(crosshairEl, {\n            top: toPx(minY),\n            left: toPx(minX)\n        });\n        this.alignText();\n    };\n    HtmlCrosshair.prototype.alignText = function () {\n        //  text \n        var textEl = this.get('textEl');\n        if (textEl) {\n            var align = this.get('text').align;\n            var clientWidth = textEl.clientWidth;\n            var point = this.getTextPoint();\n            switch (align) {\n                case 'center':\n                    point.x = point.x - clientWidth / 2;\n                    break;\n                case 'right':\n                    point.x = point.x - clientWidth;\n                case 'left':\n                    break;\n            }\n            modifyCSS(textEl, {\n                top: toPx(point.y),\n                left: toPx(point.x)\n            });\n        }\n    };\n    HtmlCrosshair.prototype.updateInner = function (cfg) {\n        if (hasKey(cfg, 'text')) {\n            this.resetText();\n        }\n        _super.prototype.updateInner.call(this, cfg);\n    };\n    return HtmlCrosshair;\n}(HtmlComponent));\nexport default HtmlCrosshair;\n//# sourceMappingURL=html.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, isString, mix } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nvar GridBase = /** @class */ (function (_super) {\n    __extends(GridBase, _super);\n    function GridBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GridBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'grid', line: {}, alternateColor: null, capture: false, items: [], closed: false, defaultCfg: {\n                line: {\n                    type: 'line',\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n            } });\n    };\n    /**\n     * \n     * @return {string} \n     */\n    GridBase.prototype.getLineType = function () {\n        var line = this.get('line') || this.get('defaultCfg').line;\n        return line.type;\n    };\n    GridBase.prototype.renderInner = function (group) {\n        this.drawGrid(group);\n    };\n    GridBase.prototype.getAlternatePath = function (prePoints, points) {\n        var regionPath = this.getGridPath(prePoints);\n        var reversePoints = points.slice(0).reverse();\n        var nextPath = this.getGridPath(reversePoints, true);\n        var closed = this.get('closed');\n        if (closed) {\n            regionPath = regionPath.concat(nextPath);\n        }\n        else {\n            nextPath[0][0] = 'L'; // \n            regionPath = regionPath.concat(nextPath);\n            regionPath.push(['Z']);\n        }\n        return regionPath;\n    };\n    // \n    GridBase.prototype.getPathStyle = function () {\n        return this.get('line').style;\n    };\n    // \n    GridBase.prototype.drawGrid = function (group) {\n        var _this = this;\n        var line = this.get('line');\n        var items = this.get('items');\n        var alternateColor = this.get('alternateColor');\n        var preItem = null;\n        each(items, function (item, index) {\n            var id = item.id || index;\n            // \n            if (line) {\n                var style = _this.getPathStyle();\n                var lineId = _this.getElementId(\"line-\" + id);\n                var gridPath = _this.getGridPath(item.points);\n                _this.addShape(group, {\n                    type: 'path',\n                    name: 'grid-line',\n                    id: lineId,\n                    attrs: mix({\n                        path: gridPath,\n                    }, style),\n                });\n            }\n            //  alternateColor \n            // \n            if (alternateColor && index > 0) {\n                var regionId = _this.getElementId(\"region-\" + id);\n                var isEven = index % 2 === 0;\n                if (isString(alternateColor)) {\n                    // \n                    if (isEven) {\n                        _this.drawAlternateRegion(regionId, group, preItem.points, item.points, alternateColor);\n                    }\n                }\n                else {\n                    var color = isEven ? alternateColor[1] : alternateColor[0];\n                    _this.drawAlternateRegion(regionId, group, preItem.points, item.points, color);\n                }\n            }\n            preItem = item;\n        });\n    };\n    // \n    GridBase.prototype.drawAlternateRegion = function (id, group, prePoints, points, color) {\n        var regionPath = this.getAlternatePath(prePoints, points);\n        this.addShape(group, {\n            type: 'path',\n            id: id,\n            name: 'grid-region',\n            attrs: {\n                path: regionPath,\n                fill: color,\n            },\n        });\n    };\n    return GridBase;\n}(GroupComponent));\nexport default GridBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport GridBase from './base';\nfunction distance(x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', \n            /**\n             * \n             * @type {object}\n             */\n            center: null, \n            /**\n             * \n             * @type {true}\n             */\n            closed: true });\n    };\n    Circle.prototype.getGridPath = function (points, reversed) {\n        var lineType = this.getLineType();\n        var closed = this.get('closed');\n        var path = [];\n        if (points.length) {\n            // \n            if (lineType === 'circle') {\n                var center = this.get('center');\n                var firstPoint = points[0];\n                var radius_1 = distance(center.x, center.y, firstPoint.x, firstPoint.y);\n                var sweepFlag_1 = reversed ? 0 : 1; // \n                if (closed) {\n                    // \n                    path.push(['M', center.x, center.y - radius_1]);\n                    path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, center.x, center.y + radius_1]);\n                    path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, center.x, center.y - radius_1]);\n                    path.push(['Z']);\n                }\n                else {\n                    each(points, function (point, index) {\n                        if (index === 0) {\n                            path.push(['M', point.x, point.y]);\n                        }\n                        else {\n                            path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, point.x, point.y]);\n                        }\n                    });\n                }\n            }\n            else {\n                each(points, function (point, index) {\n                    if (index === 0) {\n                        path.push(['M', point.x, point.y]);\n                    }\n                    else {\n                        path.push(['L', point.x, point.y]);\n                    }\n                });\n                if (closed) {\n                    path.push(['Z']);\n                }\n            }\n        }\n        return path;\n    };\n    return Circle;\n}(GridBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport GridBase from './base';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Line.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line' });\n    };\n    Line.prototype.getGridPath = function (points) {\n        var path = [];\n        each(points, function (point, index) {\n            if (index === 0) {\n                path.push(['M', point.x, point.y]);\n            }\n            else {\n                path.push(['L', point.x, point.y]);\n            }\n        });\n        return path;\n    };\n    return Line;\n}(GridBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { createBBox, formatPadding } from '../util/util';\nvar LegendBase = /** @class */ (function (_super) {\n    __extends(LegendBase, _super);\n    function LegendBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LegendBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'legend', \n            /**\n             *  horizontalvertical\n             * @type {String}\n             */\n            layout: 'horizontal', locationType: 'point', x: 0, y: 0, offsetX: 0, offsetY: 0, title: null, background: null });\n    };\n    LegendBase.prototype.getLayoutBBox = function () {\n        var bbox = _super.prototype.getLayoutBBox.call(this);\n        var x = this.get('x');\n        var y = this.get('y');\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        var maxWidth = this.get('maxWidth');\n        var maxHeight = this.get('maxHeight');\n        var minX = x + offsetX;\n        var minY = y + offsetY;\n        var width = bbox.maxX - minX;\n        var height = bbox.maxY - minY;\n        if (maxWidth) {\n            width = Math.min(width, maxWidth);\n        }\n        if (maxHeight) {\n            height = Math.min(height, maxHeight);\n        }\n        return createBBox(minX, minY, width, height);\n    };\n    LegendBase.prototype.setLocation = function (cfg) {\n        this.set('x', cfg.x);\n        this.set('y', cfg.y);\n        this.resetLocation();\n    };\n    LegendBase.prototype.resetLocation = function () {\n        var x = this.get('x');\n        var y = this.get('y');\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        this.moveElementTo(this.get('group'), {\n            x: x + offsetX,\n            y: y + offsetY,\n        });\n    };\n    LegendBase.prototype.applyOffset = function () {\n        this.resetLocation();\n    };\n    // \n    LegendBase.prototype.getDrawPoint = function () {\n        return this.get('currentPoint');\n    };\n    LegendBase.prototype.setDrawPoint = function (point) {\n        return this.set('currentPoint', point);\n    };\n    // \n    LegendBase.prototype.renderInner = function (group) {\n        this.resetDraw();\n        if (this.get('title')) {\n            this.drawTitle(group);\n        }\n        this.drawLegendContent(group);\n        if (this.get('background')) {\n            this.drawBackground(group);\n        }\n        // this.resetLocation(); // \n    };\n    // \n    LegendBase.prototype.drawBackground = function (group) {\n        var background = this.get('background');\n        var bbox = group.getBBox();\n        var padding = formatPadding(background.padding);\n        var attrs = __assign({ \n            //  (0,0) \n            x: 0, y: 0, width: bbox.width + padding[1] + padding[3], height: bbox.height + padding[0] + padding[2] }, background.style);\n        var backgroundShape = this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('background'),\n            name: 'legend-background',\n            attrs: attrs,\n        });\n        backgroundShape.toBack();\n    };\n    // \n    LegendBase.prototype.drawTitle = function (group) {\n        var currentPoint = this.get('currentPoint');\n        var titleCfg = this.get('title');\n        var spacing = titleCfg.spacing, style = titleCfg.style, text = titleCfg.text;\n        var shape = this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('title'),\n            name: 'legend-title',\n            attrs: __assign({ text: text, x: currentPoint.x, y: currentPoint.y }, style),\n        });\n        var bbox = shape.getBBox();\n        // \n        this.set('currentPoint', { x: currentPoint.x, y: bbox.maxY + spacing });\n    };\n    //  padding\n    LegendBase.prototype.resetDraw = function () {\n        var background = this.get('background');\n        var currentPoint = { x: 0, y: 0 };\n        if (background) {\n            var padding = formatPadding(background.padding);\n            currentPoint.x = padding[3]; //  padding\n            currentPoint.y = padding[0]; //  padding\n        }\n        this.set('currentPoint', currentPoint); // \n    };\n    return LegendBase;\n}(GroupComponent));\nexport default LegendBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, filter, get, mix } from '@antv/util';\nimport { getMatrixByAngle, getMatrixByTranslate } from '../util/matrix';\nimport { getStatesStyle } from '../util/state';\nimport Theme from '../util/theme';\nimport LegendBase from './base';\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentPageIndex = 1;\n        _this.totalPagesCnt = 1;\n        _this.pageWidth = 0;\n        _this.pageHeight = 0;\n        _this.startX = 0;\n        _this.startY = 0;\n        _this.onNavigationBack = function () {\n            var itemGroup = _this.getElementByLocalId('item-group');\n            if (_this.currentPageIndex > 1) {\n                _this.currentPageIndex -= 1;\n                _this.updateNavigation();\n                var matrix = _this.getCurrentNavigationMatrix();\n                if (_this.get('animate')) {\n                    itemGroup.animate({\n                        matrix: matrix,\n                    }, 100);\n                }\n                else {\n                    itemGroup.attr({ matrix: matrix });\n                }\n            }\n        };\n        _this.onNavigationAfter = function () {\n            var itemGroup = _this.getElementByLocalId('item-group');\n            if (_this.currentPageIndex < _this.totalPagesCnt) {\n                _this.currentPageIndex += 1;\n                _this.updateNavigation();\n                var matrix = _this.getCurrentNavigationMatrix();\n                if (_this.get('animate')) {\n                    itemGroup.animate({\n                        matrix: matrix,\n                    }, 100);\n                }\n                else {\n                    itemGroup.attr({ matrix: matrix });\n                }\n            }\n        };\n        return _this;\n    }\n    Category.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'legend', type: 'category', itemSpacing: 24, itemWidth: null, itemHeight: null, itemName: {}, itemValue: null, maxWidth: null, maxHeight: null, marker: {}, items: [], itemStates: {}, itemBackground: {}, defaultCfg: {\n                title: {\n                    spacing: 5,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'top',\n                    },\n                },\n                background: {\n                    padding: 5,\n                    style: {\n                        stroke: Theme.lineColor,\n                    },\n                },\n                itemBackground: {\n                    style: {\n                        opacity: 0,\n                        fill: '#fff',\n                    },\n                },\n                itemName: {\n                    spacing: 16,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'middle',\n                    },\n                },\n                marker: {\n                    spacing: 8,\n                    style: {\n                        r: 6,\n                        symbol: 'circle',\n                    },\n                },\n                itemValue: {\n                    alignRight: false,\n                    formatter: null,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'middle',\n                    },\n                },\n                itemStates: {\n                    active: {\n                        nameStyle: {\n                            opacity: 0.8,\n                        },\n                    },\n                    unchecked: {\n                        nameStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                        markerStyle: {\n                            fill: Theme.uncheckedColor,\n                            stroke: Theme.uncheckedColor,\n                        },\n                    },\n                    inactive: {\n                        nameStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                        markerStyle: {\n                            opacity: 0.2,\n                        },\n                    },\n                },\n            } });\n    };\n    //  IList \n    Category.prototype.isList = function () {\n        return true;\n    };\n    /**\n     * \n     * @return {ListItem[]} \n     */\n    Category.prototype.getItems = function () {\n        return this.get('items');\n    };\n    /**\n     * \n     * @param {ListItem[]} items \n     */\n    Category.prototype.setItems = function (items) {\n        this.update({\n            items: items,\n        });\n    };\n    /**\n     * \n     * @param {ListItem} item \n     * @param {object}   cfg  \n     */\n    Category.prototype.updateItem = function (item, cfg) {\n        mix(item, cfg);\n        this.clear(); // \n        this.render();\n    };\n    /**\n     * \n     */\n    Category.prototype.clearItems = function () {\n        var itemGroup = this.getElementByLocalId('item-group');\n        itemGroup && itemGroup.clear();\n    };\n    /**\n     * \n     * @param {ListItem} item  \n     * @param {string}   state \n     * @param {boolean}  value , true, false\n     */\n    Category.prototype.setItemState = function (item, state, value) {\n        item[state] = value;\n        var itemElement = this.getElementByLocalId(\"item-\" + item.id);\n        if (itemElement) {\n            var items = this.getItems();\n            var index = items.indexOf(item);\n            var offsetGroup = this.createOffScreenGroup(); //  group\n            var newElement = this.drawItem(item, index, this.getItemHeight(), offsetGroup);\n            this.updateElements(newElement, itemElement); // \n            this.clearUpdateStatus(itemElement); //  bug\n        }\n    };\n    /**\n     * \n     * @param {ListItem} item  \n     * @param {boolean} state \n     */\n    Category.prototype.hasState = function (item, state) {\n        return !!item[state];\n    };\n    Category.prototype.getItemStates = function (item) {\n        var itemStates = this.get('itemStates');\n        var rst = [];\n        each(itemStates, function (v, k) {\n            if (item[k]) {\n                // item.selected\n                rst.push(k);\n            }\n        });\n        return rst;\n    };\n    /**\n     * \n     * @param {string} state \n     */\n    Category.prototype.clearItemsState = function (state) {\n        var _this = this;\n        var items = this.getItemsByState(state);\n        each(items, function (item) {\n            _this.setItemState(item, state, false);\n        });\n    };\n    /**\n     * \n     * @param  {string}     state [description]\n     * @return {ListItem[]}       [description]\n     */\n    Category.prototype.getItemsByState = function (state) {\n        var _this = this;\n        var items = this.getItems();\n        return filter(items, function (item) {\n            return _this.hasState(item, state);\n        });\n    };\n    //  legend \n    Category.prototype.drawLegendContent = function (group) {\n        this.processItems();\n        this.drawItems(group);\n    };\n    //  id\n    Category.prototype.processItems = function () {\n        var items = this.get('items');\n        each(items, function (item) {\n            if (!item.id) {\n                //  id name\n                item.id = item.name;\n            }\n        });\n    };\n    // \n    Category.prototype.drawItems = function (group) {\n        var _this = this;\n        var itemContainerGroup = this.addGroup(group, {\n            id: this.getElementId('item-container-group'),\n            name: 'legend-item-container-group',\n        });\n        var itemGroup = this.addGroup(itemContainerGroup, {\n            id: this.getElementId('item-group'),\n            name: 'legend-item-group',\n        });\n        var itemHeight = this.getItemHeight();\n        var itemWidth = this.get('itemWidth');\n        var itemSpacing = this.get('itemSpacing');\n        var currentPoint = this.get('currentPoint');\n        var startX = currentPoint.x;\n        var startY = currentPoint.y;\n        var layout = this.get('layout');\n        var items = this.get('items');\n        var wrapped = false;\n        var pageWidth = 0;\n        var maxWidth = this.get('maxWidth'); //  layout : 'horizontal' \n        var maxHeight = this.get('maxHeight'); // \n        // \n        each(items, function (item, index) {\n            var subGroup = _this.drawItem(item, index, itemHeight, itemGroup);\n            var bbox = subGroup.getBBox();\n            var width = itemWidth || bbox.width;\n            if (width > pageWidth) {\n                pageWidth = width;\n            }\n            if (layout === 'horizontal') {\n                // \n                if (maxWidth && maxWidth < currentPoint.x + width - startX) {\n                    // \n                    wrapped = true;\n                    currentPoint.x = startX;\n                    currentPoint.y += itemHeight;\n                }\n                _this.moveElementTo(subGroup, currentPoint);\n                currentPoint.x += width + itemSpacing;\n            }\n            else {\n                // \n                if (maxHeight && maxHeight < currentPoint.y + itemHeight - startY) {\n                    // \n                    wrapped = true;\n                    currentPoint.x += pageWidth + itemSpacing;\n                    currentPoint.y = startY;\n                    pageWidth = 0;\n                }\n                _this.moveElementTo(subGroup, currentPoint);\n                currentPoint.y += itemHeight; // itemSpacing \n            }\n        });\n        if (wrapped && this.get('flipPage')) {\n            this.pageHeight = 0;\n            this.pageWidth = 0;\n            this.totalPagesCnt = 1;\n            this.startX = startX;\n            this.startY = startY;\n            this.adjustNavigation(group, itemGroup);\n        }\n    };\n    //  name \n    Category.prototype.getItemHeight = function () {\n        var itemHeight = this.get('itemHeight');\n        if (!itemHeight) {\n            var nameCfg = this.get('itemName');\n            if (nameCfg) {\n                itemHeight = nameCfg.style.fontSize + 8;\n            }\n        }\n        return itemHeight;\n    };\n    //  marker\n    Category.prototype.drawMarker = function (container, markerCfg, item, itemHeight) {\n        var markerAttrs = __assign(__assign(__assign({ x: 0, y: itemHeight / 2 }, markerCfg.style), { symbol: get(item.marker, 'symbol', 'circle') }), get(item.marker, 'style', {}));\n        var shape = this.addShape(container, {\n            type: 'marker',\n            id: this.getElementId(\"item-\" + item.id + \"-marker\"),\n            name: 'legend-item-marker',\n            attrs: markerAttrs,\n        });\n        var bbox = shape.getBBox();\n        shape.attr('x', bbox.width / 2); // marker \n        var _a = shape.attr(), stroke = _a.stroke, fill = _a.fill;\n        if (stroke) {\n            shape.set('isStroke', true);\n        }\n        if (fill) {\n            shape.set('isFill', true);\n        }\n        return shape;\n    };\n    // \n    Category.prototype.drawItemText = function (container, textName, cfg, item, itemHeight, xPosition, index) {\n        var formatter = cfg.formatter;\n        var attrs = __assign({ x: xPosition, y: itemHeight / 2, text: formatter ? formatter(item[textName], item, index) : item[textName] }, cfg.style);\n        return this.addShape(container, {\n            type: 'text',\n            id: this.getElementId(\"item-\" + item.id + \"-\" + textName),\n            name: \"legend-item-\" + textName,\n            attrs: attrs,\n        });\n    };\n    // \n    Category.prototype.drawItem = function (item, index, itemHeight, itemGroup) {\n        var groupId = \"item-\" + item.id;\n        //  Group  setClip\n        var subContainer = this.addGroup(itemGroup, {\n            name: 'legend-item-container',\n            id: this.getElementId(\"item-container-\" + groupId),\n            delegateObject: {\n                item: item,\n                index: index,\n            },\n        });\n        var subGroup = this.addGroup(subContainer, {\n            name: 'legend-item',\n            id: this.getElementId(groupId),\n            delegateObject: {\n                item: item,\n                index: index,\n            },\n        });\n        var marker = this.get('marker');\n        var itemName = this.get('itemName');\n        var itemValue = this.get('itemValue');\n        var itemBackground = this.get('itemBackground');\n        var curX = 0; //  x \n        if (marker) {\n            var markerShape = this.drawMarker(subGroup, marker, item, itemHeight);\n            curX = markerShape.getBBox().maxX + marker.spacing;\n        }\n        if (itemName) {\n            var nameShape = this.drawItemText(subGroup, 'name', itemName, item, itemHeight, curX, index);\n            curX = nameShape.getBBox().maxX + itemName.spacing;\n        }\n        if (itemValue) {\n            var valueShape = this.drawItemText(subGroup, 'value', itemValue, item, itemHeight, curX, index);\n            var itemWidth = this.get('itemWidth');\n            if (itemWidth && itemValue.alignRight) {\n                // \n                valueShape.attr({\n                    textAlign: 'right',\n                    x: itemWidth,\n                });\n            } //  value  name \n        }\n        // \n        if (itemBackground) {\n            var bbox = subGroup.getBBox();\n            var backShape = this.addShape(subGroup, {\n                type: 'rect',\n                name: 'legend-item-background',\n                id: this.getElementId(groupId + \"-background\"),\n                attrs: __assign({ x: 0, y: 0, width: bbox.width, height: itemHeight }, itemBackground.style),\n            });\n            backShape.toBack();\n        }\n        this.applyItemStates(item, subGroup);\n        return subGroup;\n    };\n    //  items\n    Category.prototype.adjustNavigation = function (container, itemGroup) {\n        var _this = this;\n        var startX = this.startX;\n        var startY = this.startY;\n        var layout = this.get('layout');\n        var subGroups = itemGroup.findAll(function (item) { return item.get('name') === 'legend-item'; });\n        var maxWidth = this.get('maxWidth');\n        var maxHeight = this.get('maxHeight');\n        var itemWidth = this.get('itemWidth');\n        var itemSpacing = this.get('itemSpacing');\n        var itemHeight = this.getItemHeight();\n        var navigation = this.drawNavigation(container, layout, '00/00', 12);\n        var navigationBBox = navigation.getBBox();\n        var currentPoint = { x: startX, y: startY };\n        var pages = 1;\n        var widthLimit = 0;\n        var pageWidth = 0;\n        var maxItemWidth = 0;\n        if (layout === 'horizontal') {\n            this.pageHeight = itemHeight;\n            each(subGroups, function (item) {\n                var bbox = item.getBBox();\n                var width = itemWidth || bbox.width;\n                if ((widthLimit && widthLimit < currentPoint.x + width + itemSpacing) ||\n                    maxWidth < currentPoint.x + width + itemSpacing + navigationBBox.width) {\n                    if (pages === 1) {\n                        widthLimit = currentPoint.x + itemSpacing;\n                        _this.pageWidth = widthLimit;\n                        _this.moveElementTo(navigation, {\n                            x: maxWidth - itemSpacing - navigationBBox.width - navigationBBox.minX,\n                            y: currentPoint.y + itemHeight / 2 - navigationBBox.height / 2 - navigationBBox.minY,\n                        });\n                    }\n                    pages += 1;\n                    currentPoint.x = startX;\n                    currentPoint.y += itemHeight;\n                }\n                _this.moveElementTo(item, currentPoint);\n                item.getParent().setClip({\n                    type: 'rect',\n                    attrs: {\n                        x: currentPoint.x,\n                        y: currentPoint.y,\n                        width: width + itemSpacing,\n                        height: itemHeight,\n                    },\n                });\n                currentPoint.x += width + itemSpacing;\n            });\n        }\n        else {\n            each(subGroups, function (item) {\n                var bbox = item.getBBox();\n                if (bbox.width > pageWidth) {\n                    pageWidth = bbox.width;\n                }\n            });\n            maxItemWidth = pageWidth;\n            pageWidth += itemSpacing;\n            if (maxWidth) {\n                // maxWidth \n                pageWidth = Math.min(maxWidth, pageWidth);\n                maxItemWidth = Math.min(maxWidth, maxItemWidth);\n            }\n            this.pageWidth = pageWidth;\n            this.pageHeight = maxHeight - Math.max(navigationBBox.height, itemHeight);\n            var cntPerPage_1 = Math.floor(this.pageHeight / itemHeight);\n            each(subGroups, function (item, index) {\n                if (index !== 0 && index % cntPerPage_1 === 0) {\n                    pages += 1;\n                    currentPoint.x += pageWidth;\n                    currentPoint.y = startY;\n                }\n                _this.moveElementTo(item, currentPoint);\n                item.getParent().setClip({\n                    type: 'rect',\n                    attrs: {\n                        x: currentPoint.x,\n                        y: currentPoint.y,\n                        width: pageWidth,\n                        height: itemHeight,\n                    },\n                });\n                currentPoint.y += itemHeight;\n            });\n            this.totalPagesCnt = pages;\n            this.moveElementTo(navigation, {\n                x: startX + maxItemWidth / 2 - navigationBBox.width / 2 - navigationBBox.minX,\n                y: maxHeight - navigationBBox.height - navigationBBox.minY,\n            });\n        }\n        if (this.pageHeight && this.pageWidth) {\n            //  clip clip  itemContainerGroup itemGroup  matrix\n            itemGroup.getParent().setClip({\n                type: 'rect',\n                attrs: {\n                    x: this.startX,\n                    y: this.startY,\n                    width: this.pageWidth,\n                    height: this.pageHeight,\n                },\n            });\n        }\n        this.totalPagesCnt = pages;\n        if (this.currentPageIndex > this.totalPagesCnt) {\n            this.currentPageIndex = 1;\n        }\n        this.updateNavigation(navigation);\n        // update initial matrix\n        itemGroup.attr('matrix', this.getCurrentNavigationMatrix());\n    };\n    Category.prototype.drawNavigation = function (group, layout, text, size) {\n        var currentPoint = { x: 0, y: 0 };\n        var subGroup = this.addGroup(group, {\n            id: this.getElementId('navigation-group'),\n            name: 'legend-navigation',\n        });\n        var leftArrow = this.drawArrow(subGroup, currentPoint, 'navigation-arrow-left', layout === 'horizontal' ? 'up' : 'left', size);\n        leftArrow.on('click', this.onNavigationBack);\n        var leftArrowBBox = leftArrow.getBBox();\n        currentPoint.x += leftArrowBBox.width + 2;\n        var textShape = this.addShape(subGroup, {\n            type: 'text',\n            id: this.getElementId('navigation-text'),\n            name: 'navigation-text',\n            attrs: {\n                x: currentPoint.x,\n                y: currentPoint.y + size / 2,\n                text: text,\n                fontSize: 12,\n                fill: '#ccc',\n                textBaseline: 'middle',\n            },\n        });\n        var textBBox = textShape.getBBox();\n        currentPoint.x += textBBox.width + 2;\n        var rightArrow = this.drawArrow(subGroup, currentPoint, 'navigation-arrow-right', layout === 'horizontal' ? 'down' : 'right', size);\n        rightArrow.on('click', this.onNavigationAfter);\n        return subGroup;\n    };\n    Category.prototype.updateNavigation = function (navigation) {\n        var text = this.currentPageIndex + \"/\" + this.totalPagesCnt;\n        var textShape = navigation ? navigation.getChildren()[1] : this.getElementByLocalId('navigation-text');\n        var leftArrow = navigation\n            ? navigation.findById(this.getElementId('navigation-arrow-left'))\n            : this.getElementByLocalId('navigation-arrow-left');\n        var rightArrow = navigation\n            ? navigation.findById(this.getElementId('navigation-arrow-right'))\n            : this.getElementByLocalId('navigation-arrow-right');\n        var origBBox = textShape.getBBox();\n        textShape.attr('text', text);\n        var newBBox = textShape.getBBox();\n        textShape.attr('x', textShape.attr('x') - (newBBox.width - origBBox.width) / 2);\n        leftArrow.attr('opacity', this.currentPageIndex === 1 ? 0.45 : 1);\n        leftArrow.attr('cursor', this.currentPageIndex === 1 ? 'not-allowed' : 'pointer');\n        rightArrow.attr('opacity', this.currentPageIndex === this.totalPagesCnt ? 0.45 : 1);\n        rightArrow.attr('cursor', this.currentPageIndex === this.totalPagesCnt ? 'not-allowed' : 'pointer');\n    };\n    Category.prototype.drawArrow = function (group, currentPoint, name, direction, size) {\n        var x = currentPoint.x, y = currentPoint.y;\n        var rotateMap = {\n            right: (90 * Math.PI) / 180,\n            left: ((360 - 90) * Math.PI) / 180,\n            up: 0,\n            down: (180 * Math.PI) / 180,\n        };\n        var shape = this.addShape(group, {\n            type: 'path',\n            id: this.getElementId(name),\n            name: name,\n            attrs: {\n                path: [['M', x + size / 2, y], ['L', x, y + size], ['L', x + size, y + size], ['Z']],\n                fill: '#000',\n                cursor: 'pointer',\n            },\n        });\n        shape.attr('matrix', getMatrixByAngle({ x: x + size / 2, y: y + size / 2 }, rotateMap[direction]));\n        return shape;\n    };\n    Category.prototype.getCurrentNavigationMatrix = function () {\n        var _a = this, currentPageIndex = _a.currentPageIndex, pageWidth = _a.pageWidth, pageHeight = _a.pageHeight;\n        var layout = this.get('layout');\n        var translate = layout === 'horizontal'\n            ? {\n                x: 0,\n                y: pageHeight * (1 - currentPageIndex),\n            }\n            : {\n                x: pageWidth * (1 - currentPageIndex),\n                y: 0,\n            };\n        return getMatrixByTranslate(translate);\n    };\n    // \n    Category.prototype.applyItemStates = function (item, subGroup) {\n        var states = this.getItemStates(item);\n        var hasStates = states.length > 0;\n        if (hasStates) {\n            var children = subGroup.getChildren();\n            var itemStates_1 = this.get('itemStates');\n            each(children, function (element) {\n                var name = element.get('name');\n                var elName = name.split('-')[2]; // marker, name, value\n                var statesStyle = getStatesStyle(item, elName, itemStates_1);\n                if (statesStyle) {\n                    element.attr(statesStyle);\n                    if (elName === 'marker' && !(element.get('isStroke') && element.get('isFill'))) {\n                        //  marker  stroke  fill  unchecked \n                        if (element.get('isStroke')) {\n                            element.attr('fill', null);\n                        }\n                        if (element.get('isFill')) {\n                            element.attr('stroke', null);\n                        }\n                    }\n                }\n            });\n        }\n    };\n    return Category;\n}(LegendBase));\nexport default Category;\n//# sourceMappingURL=category.js.map","import { __assign, __extends } from \"tslib\";\nimport { clone, mix, upperFirst } from '@antv/util';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nimport LegendBase from './base';\nvar HANDLER_HEIGHT_RATIO = 1.4;\nvar HANDLER_TRIANGLE_RATIO = 0.4;\nvar ContinueLegend = /** @class */ (function (_super) {\n    __extends(ContinueLegend, _super);\n    function ContinueLegend() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ContinueLegend.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'continue', min: 0, max: 100, value: null, colors: [], track: {}, rail: {}, label: {}, handler: {}, slidable: true, tip: null, step: null, maxWidth: null, maxHeight: null, defaultCfg: {\n                label: {\n                    align: 'rail',\n                    spacing: 5,\n                    formatter: null,\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n                handler: {\n                    size: 10,\n                    style: {\n                        fill: '#fff',\n                        stroke: '#333',\n                    },\n                },\n                track: {},\n                rail: {\n                    type: 'color',\n                    size: 20,\n                    defaultLength: 100,\n                    style: {\n                        fill: '#DCDEE2',\n                    },\n                },\n                title: {\n                    spacing: 5,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'top',\n                    },\n                },\n            } });\n    };\n    ContinueLegend.prototype.isSlider = function () {\n        return true;\n    };\n    //  IList \n    ContinueLegend.prototype.getValue = function () {\n        return this.getCurrentValue();\n    };\n    ContinueLegend.prototype.getRange = function () {\n        return {\n            min: this.get('min'),\n            max: this.get('max'),\n        };\n    };\n    //  range\n    ContinueLegend.prototype.setRange = function (min, max) {\n        this.update({\n            min: min,\n            max: max,\n        });\n    };\n    ContinueLegend.prototype.setValue = function (value) {\n        var originValue = this.getValue();\n        this.set('value', value);\n        var group = this.get('group');\n        this.resetTrackClip();\n        if (this.get('slidable')) {\n            this.resetHandlers(group);\n        }\n        this.delegateEmit('valuechanged', {\n            originValue: originValue,\n            value: value,\n        });\n    };\n    ContinueLegend.prototype.initEvent = function () {\n        var group = this.get('group');\n        this.bindSliderEvent(group);\n        this.bindRailEvent(group);\n        this.bindTrackEvent(group);\n    };\n    ContinueLegend.prototype.drawLegendContent = function (group) {\n        this.drawRail(group);\n        this.drawLabels(group);\n        this.fixedElements(group); // \n        this.resetTrack(group);\n        this.resetTrackClip(group);\n        if (this.get('slidable')) {\n            this.resetHandlers(group);\n        }\n    };\n    ContinueLegend.prototype.bindSliderEvent = function (group) {\n        this.bindHandlersEvent(group);\n    };\n    ContinueLegend.prototype.bindHandlersEvent = function (group) {\n        var _this = this;\n        group.on('legend-handler-min:drag', function (ev) {\n            var minValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var maxValue = currentValue[1];\n            if (maxValue < minValue) {\n                // \n                maxValue = minValue;\n            }\n            _this.setValue([minValue, maxValue]);\n        });\n        group.on('legend-handler-max:drag', function (ev) {\n            var maxValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var minValue = currentValue[0];\n            if (minValue > maxValue) {\n                // \n                minValue = maxValue;\n            }\n            _this.setValue([minValue, maxValue]);\n        });\n    };\n    ContinueLegend.prototype.bindRailEvent = function (group) { };\n    ContinueLegend.prototype.bindTrackEvent = function (group) {\n        var _this = this;\n        var prePoint = null;\n        group.on('legend-track:dragstart', function (ev) {\n            prePoint = {\n                x: ev.x,\n                y: ev.y,\n            };\n        });\n        group.on('legend-track:drag', function (ev) {\n            if (!prePoint) {\n                return;\n            }\n            var preValue = _this.getValueByCanvasPoint(prePoint.x, prePoint.y);\n            var curValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var curDiff = currentValue[1] - currentValue[0];\n            var range = _this.getRange();\n            var dValue = curValue - preValue;\n            if (dValue < 0) {\n                // , \n                if (currentValue[0] + dValue > range.min) {\n                    _this.setValue([currentValue[0] + dValue, currentValue[1] + dValue]);\n                }\n                else {\n                    _this.setValue([range.min, range.min + curDiff]);\n                }\n                //  && ||\n            }\n            else if (dValue > 0) {\n                if (dValue > 0 && currentValue[1] + dValue < range.max) {\n                    _this.setValue([currentValue[0] + dValue, currentValue[1] + dValue]);\n                }\n                else {\n                    _this.setValue([range.max - curDiff, range.max]);\n                }\n            }\n            prePoint = {\n                x: ev.x,\n                y: ev.y,\n            };\n        });\n        group.on('legend-track:dragend', function (ev) {\n            prePoint = null;\n        });\n    };\n    ContinueLegend.prototype.drawLabels = function (group) {\n        this.drawLabel('min', group);\n        this.drawLabel('max', group);\n    };\n    ContinueLegend.prototype.drawLabel = function (name, group) {\n        var labelCfg = this.get('label');\n        var style = labelCfg.style;\n        var labelAlign = labelCfg.align;\n        var value = this.get(name);\n        var alignAttrs = this.getLabelAlignAttrs(name, labelAlign);\n        var localId = \"label-\" + name;\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId(localId),\n            name: \"legend-label-\" + name,\n            attrs: __assign(__assign({ x: 0, y: 0, text: value }, style), alignAttrs),\n        });\n    };\n    // \n    ContinueLegend.prototype.getLabelAlignAttrs = function (name, align) {\n        var isVertical = this.isVertical();\n        var textAlign = 'center';\n        var textBaseline = 'middle';\n        if (isVertical) {\n            // \n            textAlign = 'start';\n            if (align !== 'rail') {\n                if (name === 'min') {\n                    textBaseline = 'top';\n                }\n                else {\n                    textBaseline = 'bottom';\n                }\n            }\n            else {\n                textBaseline = 'top';\n            }\n        }\n        else {\n            if (align !== 'rail') {\n                textBaseline = 'top';\n                if (name === 'min') {\n                    textAlign = 'start';\n                }\n                else {\n                    textAlign = 'end';\n                }\n            }\n            else {\n                textAlign = 'start';\n                textBaseline = 'middle';\n            }\n        }\n        return {\n            textAlign: textAlign,\n            textBaseline: textBaseline,\n        };\n    };\n    ContinueLegend.prototype.getRailPath = function (x, y, w, h) {\n        var railCfg = this.get('rail');\n        var size = railCfg.size, defaultLength = railCfg.defaultLength, type = railCfg.type;\n        var isVertical = this.isVertical();\n        var length = defaultLength;\n        var width = w;\n        var height = h;\n        if (!width) {\n            width = isVertical ? size : length;\n        }\n        if (!height) {\n            height = isVertical ? length : size;\n        }\n        var path = [];\n        if (type === 'color') {\n            path.push(['M', x, y]);\n            path.push(['L', x + width, y]);\n            path.push(['L', x + width, y + height]);\n            path.push(['L', x, y + height]);\n            path.push(['Z']);\n        }\n        else {\n            path.push(['M', x + width, y]);\n            path.push(['L', x + width, y + height]);\n            path.push(['L', x, y + height]);\n            path.push(['Z']);\n        }\n        return path;\n    };\n    ContinueLegend.prototype.drawRail = function (group) {\n        var railCfg = this.get('rail');\n        var style = railCfg.style;\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('rail'),\n            name: 'legend-rail',\n            attrs: __assign({ path: this.getRailPath(0, 0) }, style),\n        });\n    };\n    // \n    ContinueLegend.prototype.getTrackColor = function (colors) {\n        var count = colors.length;\n        if (!count) {\n            return null;\n        }\n        if (count === 1) {\n            return colors[0];\n        }\n        var color; //  l(0) 0:colors[0] 0.5:colors[1] 1:colors[2];\n        if (this.isVertical()) {\n            // \n            color = 'l(90)';\n        }\n        else {\n            color = 'l(0)';\n        }\n        for (var i = 0; i < count; i++) {\n            var percent = i / (count - 1);\n            color += \" \" + percent + \":\" + colors[i];\n        }\n        return color;\n    };\n    ContinueLegend.prototype.getTrackPath = function (group) {\n        var railShape = this.getRailShape(group);\n        var path = railShape.attr('path');\n        return clone(path);\n    };\n    ContinueLegend.prototype.getClipTrackAttrs = function (group) {\n        var value = this.getCurrentValue();\n        var min = value[0], max = value[1];\n        var railBBox = this.getRailBBox(group);\n        var startPoint = this.getPointByValue(min, group);\n        var endPoint = this.getPointByValue(max, group);\n        var isVertical = this.isVertical();\n        var x;\n        var y;\n        var width;\n        var height;\n        if (isVertical) {\n            x = railBBox.minX;\n            y = startPoint.y;\n            width = railBBox.width;\n            height = endPoint.y - startPoint.y;\n        }\n        else {\n            x = startPoint.x;\n            y = railBBox.minY;\n            width = endPoint.x - startPoint.x;\n            height = railBBox.height;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    };\n    //  track  path  \n    ContinueLegend.prototype.getTrackAttrs = function (group) {\n        var trackCfg = this.get('track');\n        var colors = this.get('colors');\n        var path = this.getTrackPath(group);\n        return mix({\n            path: path,\n            fill: this.getTrackColor(colors),\n        }, trackCfg.style);\n    };\n    ContinueLegend.prototype.resetTrackClip = function (group) {\n        var container = group || this.get('group');\n        var trackId = this.getElementId('track');\n        var trackShape = container.findById(trackId);\n        var clipShape = trackShape.getClip();\n        var attrs = this.getClipTrackAttrs(group);\n        if (!clipShape) {\n            trackShape.setClip({\n                type: 'rect',\n                attrs: attrs,\n            });\n        }\n        else {\n            clipShape.attr(attrs);\n        }\n    };\n    ContinueLegend.prototype.resetTrack = function (group) {\n        var trackId = this.getElementId('track');\n        var trackShape = group.findById(trackId);\n        var trackAttrs = this.getTrackAttrs(group);\n        if (trackShape) {\n            trackShape.attr(trackAttrs);\n        }\n        else {\n            this.addShape(group, {\n                type: 'path',\n                id: trackId,\n                draggable: this.get('slidable'),\n                name: 'legend-track',\n                attrs: trackAttrs,\n            });\n        }\n    };\n    ContinueLegend.prototype.getPointByValue = function (value, group) {\n        var _a = this.getRange(), min = _a.min, max = _a.max;\n        var percent = (value - min) / (max - min);\n        var bbox = this.getRailBBox(group);\n        var isVertcal = this.isVertical();\n        var point = { x: 0, y: 0 };\n        if (isVertcal) {\n            point.x = bbox.minX + bbox.width / 2;\n            point.y = getValueByPercent(bbox.minY, bbox.maxY, percent);\n        }\n        else {\n            point.x = getValueByPercent(bbox.minX, bbox.maxX, percent);\n            point.y = bbox.minY + bbox.height / 2;\n        }\n        return point;\n    };\n    ContinueLegend.prototype.getRailShape = function (group) {\n        var container = group || this.get('group');\n        return container.findById(this.getElementId('rail'));\n    };\n    // \n    ContinueLegend.prototype.getRailBBox = function (group) {\n        var railShape = this.getRailShape(group);\n        var bbox = railShape.getBBox();\n        return bbox;\n    };\n    ContinueLegend.prototype.getRailCanvasBBox = function () {\n        var container = this.get('group');\n        var railShape = container.findById(this.getElementId('rail'));\n        var bbox = railShape.getCanvasBBox();\n        return bbox;\n    };\n    // \n    ContinueLegend.prototype.isVertical = function () {\n        return this.get('layout') === 'vertical';\n    };\n    // \n    ContinueLegend.prototype.getValueByCanvasPoint = function (x, y) {\n        var _a = this.getRange(), min = _a.min, max = _a.max;\n        var bbox = this.getRailCanvasBBox(); //  x, y \n        var isVertcal = this.isVertical();\n        var step = this.get('step');\n        var percent;\n        if (isVertcal) {\n            //  y\n            percent = (y - bbox.minY) / bbox.height;\n        }\n        else {\n            //  x\n            percent = (x - bbox.minX) / bbox.width;\n        }\n        var value = getValueByPercent(min, max, percent);\n        if (step) {\n            var count = Math.round((value - min) / step);\n            value = min + count * step; // \n        }\n        if (value > max) {\n            value = max;\n        }\n        if (value < min) {\n            value = min;\n        }\n        return value;\n    };\n    // \n    ContinueLegend.prototype.getCurrentValue = function () {\n        var value = this.get('value');\n        if (!value) {\n            // \n            value = [this.get('min'), this.get('max')];\n        }\n        return value;\n    };\n    //  handler\n    ContinueLegend.prototype.resetHandlers = function (group) {\n        var currentValue = this.getCurrentValue();\n        var min = currentValue[0], max = currentValue[1];\n        this.resetHandler(group, 'min', min);\n        this.resetHandler(group, 'max', max);\n    };\n    //  path\n    ContinueLegend.prototype.getHandlerPath = function (handlerCfg, point) {\n        var isVertical = this.isVertical();\n        var path = [];\n        var width = handlerCfg.size;\n        var x = point.x, y = point.y;\n        var height = width * HANDLER_HEIGHT_RATIO;\n        var halfWidth = width / 2;\n        var oneSixthWidth = width / 6;\n        if (isVertical) {\n            /**\n             *  handler x,y\n             *  /----|\n             *    -- |\n             *    -- |\n             *  \\----|\n             */\n            var triangleX = x + height * HANDLER_TRIANGLE_RATIO;\n            path.push(['M', x, y]);\n            path.push(['L', triangleX, y + halfWidth]);\n            path.push(['L', x + height, y + halfWidth]);\n            path.push(['L', x + height, y - halfWidth]);\n            path.push(['L', triangleX, y - halfWidth]);\n            path.push(['Z']);\n            // \n            path.push(['M', triangleX, y + oneSixthWidth]);\n            path.push(['L', x + height - 2, y + oneSixthWidth]);\n            path.push(['M', triangleX, y - oneSixthWidth]);\n            path.push(['L', x + height - 2, y - oneSixthWidth]);\n        }\n        else {\n            /**\n             *  x,y\n             *  /   \\\n             * | | | |\n             * | | | |\n             *  -----\n             */\n            var triangleY = y + height * HANDLER_TRIANGLE_RATIO;\n            path.push(['M', x, y]);\n            path.push(['L', x - halfWidth, triangleY]);\n            path.push(['L', x - halfWidth, y + height]);\n            path.push(['L', x + halfWidth, y + height]);\n            path.push(['L', x + halfWidth, triangleY]);\n            path.push(['Z']);\n            // \n            path.push(['M', x - oneSixthWidth, triangleY]);\n            path.push(['L', x - oneSixthWidth, y + height - 2]);\n            path.push(['M', x + oneSixthWidth, triangleY]);\n            path.push(['L', x + oneSixthWidth, y + height - 2]);\n        }\n        return path;\n    };\n    //  handler \n    ContinueLegend.prototype.resetHandler = function (group, name, value) {\n        var point = this.getPointByValue(value, group);\n        var handlerCfg = this.get('handler');\n        var path = this.getHandlerPath(handlerCfg, point);\n        var id = this.getElementId(\"handler-\" + name);\n        var handlerShape = group.findById(id);\n        var isVertical = this.isVertical();\n        if (handlerShape) {\n            handlerShape.attr('path', path);\n        }\n        else {\n            this.addShape(group, {\n                type: 'path',\n                name: \"legend-handler-\" + name,\n                draggable: true,\n                id: id,\n                attrs: __assign(__assign({ path: path }, handlerCfg.style), { cursor: isVertical ? 'ns-resize' : 'ew-resize' }),\n            });\n        }\n    };\n    //  maxWidth, maxHeight  rail \n    // \n    ContinueLegend.prototype.fixedElements = function (group) {\n        var railShape = group.findById(this.getElementId('rail'));\n        var minLabel = group.findById(this.getElementId('label-min'));\n        var maxLabel = group.findById(this.getElementId('label-max'));\n        var startPoint = this.getDrawPoint();\n        if (this.isVertical()) {\n            // \n            this.fixedVertail(minLabel, maxLabel, railShape, startPoint);\n        }\n        else {\n            // \n            this.fixedHorizontal(minLabel, maxLabel, railShape, startPoint);\n        }\n    };\n    ContinueLegend.prototype.fitRailLength = function (minLabelBBox, maxLabelBBox, railBBox, railShape) {\n        var isVertical = this.isVertical();\n        var lengthField = isVertical ? 'height' : 'width';\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var maxLength = this.get(\"max\" + upperFirst(lengthField)); // get('maxWidth')\n        if (maxLength) {\n            var elementsLength = labelAlign === 'rail'\n                ? railBBox[lengthField] + minLabelBBox[lengthField] + maxLabelBBox[lengthField] + spacing * 2\n                : railBBox[lengthField];\n            var diff = elementsLength - maxLength;\n            if (diff > 0) {\n                // \n                this.changeRailLength(railShape, lengthField, railBBox[lengthField] - diff);\n            }\n        }\n    };\n    ContinueLegend.prototype.changeRailLength = function (railShape, lengthField, length) {\n        var bbox = railShape.getBBox();\n        var path;\n        if (lengthField === 'height') {\n            path = this.getRailPath(bbox.x, bbox.y, bbox.width, length);\n        }\n        else {\n            path = this.getRailPath(bbox.x, bbox.y, length, bbox.height);\n        }\n        railShape.attr('path', path);\n    };\n    ContinueLegend.prototype.changeRailPosition = function (railShape, x, y) {\n        var bbox = railShape.getBBox();\n        var path = this.getRailPath(x, y, bbox.width, bbox.height);\n        railShape.attr('path', path);\n    };\n    ContinueLegend.prototype.fixedHorizontal = function (minLabel, maxLabel, railShape, startPoint) {\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var railBBox = railShape.getBBox();\n        var minLabelBBox = minLabel.getBBox();\n        var maxLabelBBox = maxLabel.getBBox();\n        var railHeight = railBBox.height; //  rail \n        this.fitRailLength(minLabelBBox, maxLabelBBox, railBBox, railShape);\n        railBBox = railShape.getBBox();\n        if (labelAlign === 'rail') {\n            //  rail \n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railHeight / 2,\n            });\n            this.changeRailPosition(railShape, startPoint.x + minLabelBBox.width + spacing, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x + minLabelBBox.width + railBBox.width + spacing * 2,\n                y: startPoint.y + railHeight / 2,\n            });\n        }\n        else if (labelAlign === 'top') {\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y + minLabelBBox.height + spacing);\n        }\n        else {\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y);\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railBBox.height + spacing,\n            });\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width,\n                y: startPoint.y + railBBox.height + spacing,\n            });\n        }\n    };\n    ContinueLegend.prototype.fixedVertail = function (minLabel, maxLabel, railShape, startPoint) {\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var railBBox = railShape.getBBox();\n        var minLabelBBox = minLabel.getBBox();\n        var maxLabelBBox = maxLabel.getBBox();\n        this.fitRailLength(minLabelBBox, maxLabelBBox, railBBox, railShape);\n        railBBox = railShape.getBBox();\n        if (labelAlign === 'rail') {\n            //  rail \n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y + minLabelBBox.height + spacing);\n            maxLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + minLabelBBox.height + railBBox.height + spacing * 2,\n            });\n        }\n        else if (labelAlign === 'right') {\n            minLabel.attr({\n                x: startPoint.x + railBBox.width + spacing,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width + spacing,\n                y: startPoint.y + railBBox.height,\n            });\n        }\n        else {\n            // left\n            var maxLabelWidth = Math.max(minLabelBBox.width, maxLabelBBox.width);\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x + maxLabelWidth + spacing, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railBBox.height,\n            });\n        }\n    };\n    return ContinueLegend;\n}(LegendBase));\nexport default ContinueLegend;\n//# sourceMappingURL=continuous.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CROSSHAIR_Y = exports.CROSSHAIR_X = exports.NAME_CLASS = exports.VALUE_CLASS = exports.MARKER_CLASS = exports.LIST_ITEM_CLASS = exports.LIST_CLASS = exports.TITLE_CLASS = exports.CONTAINER_CLASS = void 0;\nexports.CONTAINER_CLASS = 'g2-tooltip';\nexports.TITLE_CLASS = 'g2-tooltip-title';\nexports.LIST_CLASS = 'g2-tooltip-list';\nexports.LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nexports.MARKER_CLASS = 'g2-tooltip-marker';\nexports.VALUE_CLASS = 'g2-tooltip-value';\nexports.NAME_CLASS = 'g2-tooltip-name';\nexports.CROSSHAIR_X = 'g2-tooltip-crosshair-x';\nexports.CROSSHAIR_Y = 'g2-tooltip-crosshair-y';\n//# sourceMappingURL=css-const.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar theme_1 = require(\"../util/theme\");\n// tooltip  dom  css \nvar CssConst = require(\"./css-const\");\nexports.default = (_a = {},\n    // css style for tooltip\n    _a[\"\" + CssConst.CONTAINER_CLASS] = {\n        position: 'absolute',\n        visibility: 'visible',\n        // @2018-07-25 by blue.lb \n        // whiteSpace: 'nowrap',\n        zIndex: 8,\n        transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' +\n            'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' +\n            'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n        backgroundColor: 'rgba(255, 255, 255, 0.9)',\n        boxShadow: '0px 0px 10px #aeaeae',\n        borderRadius: '3px',\n        color: 'rgb(87, 87, 87)',\n        fontSize: '12px',\n        fontFamily: theme_1.default.fontFamily,\n        lineHeight: '20px',\n        padding: '10px 10px 6px 10px',\n    },\n    _a[\"\" + CssConst.TITLE_CLASS] = {\n        marginBottom: '4px',\n    },\n    _a[\"\" + CssConst.LIST_CLASS] = {\n        margin: '0px',\n        listStyleType: 'none',\n        padding: '0px',\n    },\n    _a[\"\" + CssConst.LIST_ITEM_CLASS] = {\n        listStyleType: 'none',\n        marginBottom: '4px',\n    },\n    _a[\"\" + CssConst.MARKER_CLASS] = {\n        width: '8px',\n        height: '8px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        marginRight: '8px',\n    },\n    _a[\"\" + CssConst.VALUE_CLASS] = {\n        display: 'inline-block',\n        float: 'right',\n        marginLeft: '30px',\n    },\n    _a[\"\" + CssConst.CROSSHAIR_X] = {\n        position: 'absolute',\n        width: '1px',\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\n    },\n    _a[\"\" + CssConst.CROSSHAIR_Y] = {\n        position: 'absolute',\n        height: '1px',\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\n    },\n    _a);\n//# sourceMappingURL=html-theme.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar color_util_1 = require(\"@antv/color-util\");\nvar dom_util_1 = require(\"@antv/dom-util\");\nvar util_1 = require(\"@antv/util\");\nvar html_component_1 = require(\"../abstract/html-component\");\nvar util_2 = require(\"../util/util\");\nvar CssConst = require(\"./css-const\");\nvar html_theme_1 = require(\"./html-theme\");\nvar align_1 = require(\"../util/align\");\nfunction hasOneKey(obj, keys) {\n    var result = false;\n    util_1.each(keys, function (key) {\n        if (util_1.hasKey(obj, key)) {\n            result = true;\n            return false;\n        }\n    });\n    return result;\n}\nvar Tooltip = /** @class */ (function (_super) {\n    tslib_1.__extends(Tooltip, _super);\n    function Tooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Tooltip.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return tslib_1.__assign(tslib_1.__assign({}, cfg), { name: 'tooltip', type: 'html', x: 0, y: 0, items: [], customContent: null, containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"><div class=\\\"\" + CssConst.TITLE_CLASS + \"\\\"></div><ul class=\\\"\" + CssConst.LIST_CLASS + \"\\\"></ul></div>\", itemTpl: \"<li class=\\\"\" + CssConst.LIST_ITEM_CLASS + \"\\\" data-index={index}>\\n          <span class=\\\"\" + CssConst.MARKER_CLASS + \"\\\" style=\\\"background:{color}\\\"></span>\\n          <span class=\\\"\" + CssConst.NAME_CLASS + \"\\\">{name}</span>:\\n          <span class=\\\"\" + CssConst.VALUE_CLASS + \"\\\">{value}</span>\\n        </li>\", xCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_X + \"\\\"></div>\", yCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_Y + \"\\\"></div>\", title: null, showTitle: true, \n            /**\n             * tooltip \n             * @type {Region}\n             */\n            region: null, \n            // crosshair \n            crosshairsRegion: null, containerClassName: CssConst.CONTAINER_CLASS, \n            // x, y, xy\n            crosshairs: null, offset: 10, position: 'right', domStyles: null, defaultStyles: html_theme_1.default });\n    };\n    // tooltip  titleitems  corosshairs\n    Tooltip.prototype.render = function () {\n        if (this.get('customContent')) {\n            this.renderCustomContent();\n        }\n        else {\n            this.resetTitle();\n            this.renderItems();\n        }\n        // \n        this.resetPosition();\n    };\n    // \n    Tooltip.prototype.clear = function () {\n        //  crosshair  container \n        this.clearCrosshairs();\n        this.setTitle(''); // \n        this.clearItemDoms();\n    };\n    Tooltip.prototype.show = function () {\n        var container = this.getContainer();\n        if (!container || this.destroyed) {\n            // \n            return;\n        }\n        this.set('visible', true);\n        dom_util_1.modifyCSS(container, {\n            visibility: 'visible',\n        });\n        this.setCrossHairsVisible(true);\n    };\n    Tooltip.prototype.hide = function () {\n        var container = this.getContainer();\n        // relative: https://github.com/antvis/g2/issues/1221\n        if (!container || this.destroyed) {\n            return;\n        }\n        this.set('visible', false);\n        dom_util_1.modifyCSS(container, {\n            visibility: 'hidden',\n        });\n        this.setCrossHairsVisible(false);\n    };\n    //  IPointLocation \n    Tooltip.prototype.getLocation = function () {\n        return { x: this.get('x'), y: this.get('y') };\n    };\n    //  IPointLocation \n    Tooltip.prototype.setLocation = function (point) {\n        this.set('x', point.x);\n        this.set('y', point.y);\n        this.resetPosition();\n    };\n    Tooltip.prototype.setCrossHairsVisible = function (visible) {\n        var display = visible ? '' : 'none';\n        var xCrosshairDom = this.get('xCrosshairDom');\n        var yCrosshairDom = this.get('yCrosshairDom');\n        xCrosshairDom &&\n            dom_util_1.modifyCSS(xCrosshairDom, {\n                display: display,\n            });\n        yCrosshairDom &&\n            dom_util_1.modifyCSS(yCrosshairDom, {\n                display: display,\n            });\n    };\n    //  customContent  customContent  container\n    Tooltip.prototype.initContainer = function () {\n        _super.prototype.initContainer.call(this);\n        if (this.get('customContent')) {\n            if (this.get('container')) {\n                this.get('container').remove();\n            }\n            var container = this.getHtmlContentNode();\n            this.get('parent').appendChild(container);\n            this.set('container', container);\n            this.resetStyles();\n            this.applyStyles();\n        }\n    };\n    //  DOM  DOM \n    Tooltip.prototype.updateInner = function (cfg) {\n        if (this.get('customContent')) {\n            this.renderCustomContent();\n        }\n        else {\n            // \n            if (hasOneKey(cfg, ['title', 'showTitle'])) {\n                this.resetTitle();\n            }\n            // \n            if (util_1.hasKey(cfg, 'items')) {\n                this.renderItems();\n            }\n        }\n        _super.prototype.updateInner.call(this, cfg);\n    };\n    Tooltip.prototype.initDom = function () {\n        this.cacheDoms();\n    };\n    //  DOM\n    Tooltip.prototype.removeDom = function () {\n        _super.prototype.removeDom.call(this);\n        this.clearCrosshairs();\n    };\n    // \n    Tooltip.prototype.resetPosition = function () {\n        var x = this.get('x');\n        var y = this.get('y');\n        var offset = this.get('offset');\n        var _a = this.getOffset(), offsetX = _a.offsetX, offsetY = _a.offsetY;\n        var position = this.get('position');\n        var region = this.get('region');\n        var container = this.getContainer();\n        var bbox = this.getBBox();\n        var width = bbox.width, height = bbox.height;\n        var limitBox;\n        if (region) {\n            // \n            limitBox = util_2.regionToBBox(region);\n        }\n        var point = align_1.getAlignPoint(x, y, offset, width, height, position, limitBox);\n        dom_util_1.modifyCSS(container, {\n            left: util_2.toPx(point.x + offsetX),\n            top: util_2.toPx(point.y + offsetY),\n        });\n        this.resetCrosshairs();\n    };\n    //  customContent \n    Tooltip.prototype.renderCustomContent = function () {\n        var node = this.getHtmlContentNode();\n        var parent = this.get('parent');\n        var curContainer = this.get('container');\n        if (curContainer && curContainer.parentNode === parent) {\n            parent.replaceChild(node, curContainer);\n        }\n        else {\n            parent.appendChild(node);\n        }\n        this.set('container', node);\n        this.resetStyles();\n        this.applyStyles();\n    };\n    Tooltip.prototype.getHtmlContentNode = function () {\n        var node;\n        var customContent = this.get('customContent');\n        if (customContent) {\n            var elem = customContent(this.get('title'), this.get('items'));\n            if (util_1.isElement(elem)) {\n                node = elem;\n            }\n            else {\n                node = dom_util_1.createDom(elem);\n            }\n        }\n        return node;\n    };\n    //  DOM\n    Tooltip.prototype.cacheDoms = function () {\n        var container = this.getContainer();\n        var titleDom = container.getElementsByClassName(CssConst.TITLE_CLASS)[0];\n        var listDom = container.getElementsByClassName(CssConst.LIST_CLASS)[0];\n        this.set('titleDom', titleDom);\n        this.set('listDom', listDom);\n    };\n    //  title\n    Tooltip.prototype.resetTitle = function () {\n        var title = this.get('title');\n        var showTitle = this.get('showTitle');\n        if (showTitle && title) {\n            this.setTitle(title);\n        }\n        else {\n            this.setTitle('');\n        }\n    };\n    //  title \n    Tooltip.prototype.setTitle = function (text) {\n        var titleDom = this.get('titleDom');\n        if (titleDom) {\n            titleDom.innerText = text;\n        }\n    };\n    //  crosshair\n    Tooltip.prototype.resetCrosshairs = function () {\n        var crosshairsRegion = this.get('crosshairsRegion');\n        var crosshairs = this.get('crosshairs');\n        if (!crosshairsRegion || !crosshairs) {\n            //  crosshair region \n            this.clearCrosshairs();\n        }\n        else {\n            var crosshairBox = util_2.regionToBBox(crosshairsRegion);\n            var xCrosshairDom = this.get('xCrosshairDom');\n            var yCrosshairDom = this.get('yCrosshairDom');\n            if (crosshairs === 'x') {\n                this.resetCrosshair('x', crosshairBox);\n                //  x  crosshairy \n                if (yCrosshairDom) {\n                    yCrosshairDom.remove();\n                    this.set('yCrosshairDom', null);\n                }\n            }\n            else if (crosshairs === 'y') {\n                this.resetCrosshair('y', crosshairBox);\n                //  y  crosshairx \n                if (xCrosshairDom) {\n                    xCrosshairDom.remove();\n                    this.set('xCrosshairDom', null);\n                }\n            }\n            else {\n                this.resetCrosshair('x', crosshairBox);\n                this.resetCrosshair('y', crosshairBox);\n            }\n            this.setCrossHairsVisible(this.get('visible'));\n        }\n    };\n    //  crosshair  x,y\n    Tooltip.prototype.resetCrosshair = function (name, bbox) {\n        var croshairDom = this.checkCrosshair(name);\n        var value = this.get(name);\n        if (name === 'x') {\n            dom_util_1.modifyCSS(croshairDom, {\n                left: util_2.toPx(value),\n                top: util_2.toPx(bbox.y),\n                height: util_2.toPx(bbox.height),\n            });\n        }\n        else {\n            dom_util_1.modifyCSS(croshairDom, {\n                top: util_2.toPx(value),\n                left: util_2.toPx(bbox.x),\n                width: util_2.toPx(bbox.width),\n            });\n        }\n    };\n    //  crosshair  dom \n    Tooltip.prototype.checkCrosshair = function (name) {\n        var domName = name + \"CrosshairDom\";\n        var tplName = name + \"CrosshairTpl\";\n        var constName = \"CROSSHAIR_\" + name.toUpperCase();\n        var styleName = CssConst[constName];\n        var croshairDom = this.get(domName);\n        var parent = this.get('parent');\n        if (!croshairDom) {\n            croshairDom = dom_util_1.createDom(this.get(tplName)); // \n            this.applyStyle(styleName, croshairDom); // \n            parent.appendChild(croshairDom); //  tooltip \n            this.set(domName, croshairDom);\n        }\n        return croshairDom;\n    };\n    Tooltip.prototype.renderItems = function () {\n        this.clearItemDoms();\n        var items = this.get('items');\n        var itemTpl = this.get('itemTpl');\n        var listDom = this.get('listDom');\n        if (listDom) {\n            util_1.each(items, function (item) {\n                var color = color_util_1.default.toCSSGradient(item.color);\n                var substituteObj = tslib_1.__assign(tslib_1.__assign({}, item), { color: color });\n                var domStr = util_1.substitute(itemTpl, substituteObj);\n                var itemDom = dom_util_1.createDom(domStr);\n                listDom.appendChild(itemDom);\n            });\n            this.applyChildrenStyles(listDom, this.get('domStyles'));\n        }\n    };\n    Tooltip.prototype.clearItemDoms = function () {\n        if (this.get('listDom')) {\n            util_2.clearDom(this.get('listDom'));\n        }\n    };\n    Tooltip.prototype.clearCrosshairs = function () {\n        var xCrosshairDom = this.get('xCrosshairDom');\n        var yCrosshairDom = this.get('yCrosshairDom');\n        xCrosshairDom && xCrosshairDom.remove();\n        yCrosshairDom && yCrosshairDom.remove();\n        this.set('xCrosshairDom', null);\n        this.set('yCrosshairDom', null);\n    };\n    return Tooltip;\n}(html_component_1.default));\nexports.default = Tooltip;\n//# sourceMappingURL=html.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAlignPoint = exports.getPointByPosition = exports.getOutSides = void 0;\n// \nfunction getOutSides(x, y, width, height, limitBox) {\n    var hits = {\n        left: x < limitBox.x,\n        right: x + width > limitBox.x + limitBox.width,\n        top: y < limitBox.y,\n        bottom: y + height > limitBox.y + limitBox.height,\n    };\n    return hits;\n}\nexports.getOutSides = getOutSides;\nfunction getPointByPosition(x, y, offset, width, height, position) {\n    var px = x;\n    var py = y;\n    switch (position) {\n        case 'left': // left center\n            px = x - width - offset;\n            py = y - height / 2;\n            break;\n        case 'right':\n            px = x + offset;\n            py = y - height / 2;\n            break;\n        case 'top':\n            px = x - width / 2;\n            py = y - height - offset;\n            break;\n        case 'bottom':\n            // bottom\n            px = x - width / 2;\n            py = y + offset;\n            break;\n        default:\n            // auto,  top-right\n            px = x + offset;\n            py = y - height - offset;\n            break;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n}\nexports.getPointByPosition = getPointByPosition;\nfunction getAlignPoint(x, y, offset, width, height, position, limitBox) {\n    var point = getPointByPosition(x, y, offset, width, height, position);\n    if (limitBox) {\n        var outSides = getOutSides(point.x, point.y, width, height, limitBox);\n        if (position === 'auto') {\n            //  auto tooltip \n            if (outSides.right) {\n                point.x = x - width - offset;\n            }\n            if (outSides.top) {\n                point.y = y + offset;\n            }\n        }\n        else if (position === 'top' || position === 'bottom') {\n            if (outSides.left) {\n                // \n                point.x = limitBox.x;\n            }\n            if (outSides.right) {\n                // \n                point.x = limitBox.x + limitBox.width - width;\n            }\n            if (position === 'top' && outSides.top) {\n                // \n                point.y = y + offset;\n            }\n            if (position === 'bottom' && outSides.bottom) {\n                point.y = y - height - offset;\n            }\n        }\n        else {\n            // \n            if (outSides.top) {\n                point.y = limitBox.y;\n            }\n            if (outSides.bottom) {\n                point.y = limitBox.y + limitBox.height - height;\n            }\n            if (position === 'left' && outSides.left) {\n                point.x = x + offset;\n            }\n            if (position === 'right' && outSides.right) {\n                point.x = x - width - offset;\n            }\n        }\n    }\n    return point;\n}\nexports.getAlignPoint = getAlignPoint;\n//# sourceMappingURL=align.js.map","export var BACKGROUND_STYLE = {\n    // fill: 'red',\n    opacity: 0,\n};\nexport var LINE_STYLE = {\n    stroke: '#C5C5C5',\n    strokeOpacity: 0.85,\n};\nexport var AREA_STYLE = {\n    fill: '#CACED4',\n    opacity: 0.85,\n};\n//# sourceMappingURL=constant.js.map","import { __spreadArrays } from \"tslib\";\nimport { catmullRom2Bezier } from '@antv/path-util';\nimport { Category, Linear } from '@antv/scale';\nimport { each, head, isEqual, map } from '@antv/util';\n/**\n *  path\n * @param points\n */\nfunction pointsToPath(points) {\n    return map(points, function (p, idx) {\n        var command = idx === 0 ? 'M' : 'L';\n        var x = p[0], y = p[1];\n        return [command, x, y];\n    });\n}\n/**\n *  path\n * @param points\n */\nexport function getLinePath(points) {\n    return pointsToPath(points);\n}\n/**\n * \n * @param points\n */\nexport function getSmoothLinePath(points) {\n    if (points.length <= 2) {\n        // \n        return getLinePath(points);\n    }\n    var data = [];\n    each(points, function (p) {\n        // \n        if (!isEqual(p, data.slice(data.length - 2))) {\n            data.push(p[0], p[1]);\n        }\n    });\n    // const constraint = [ // \n    //   [ 0, 0 ],\n    //   [ 1, 1 ],\n    // ];\n    var path = catmullRom2Bezier(data, false);\n    var _a = head(points), x = _a[0], y = _a[1];\n    path.unshift(['M', x, y]);\n    return path;\n}\n/**\n *  path scale \n * @param data\n * @param width\n * @param height\n * @param smooth\n */\nexport function dataToPath(data, width, height, smooth) {\n    if (smooth === void 0) { smooth = true; }\n    //  scale  y \n    var y = new Linear({\n        values: data,\n    });\n    var x = new Category({\n        values: map(data, function (v, idx) { return idx; }),\n    });\n    var points = map(data, function (v, idx) {\n        return [x.scale(idx) * width, height - y.scale(v) * height];\n    });\n    return smooth ? getSmoothLinePath(points) : getLinePath(points);\n}\n/**\n *  path  area path\n * @param path\n * @param width\n * @param height\n */\nexport function linePathToAreaPath(path, width, height) {\n    var areaPath = __spreadArrays(path);\n    areaPath.push(['L', width, 0]);\n    areaPath.push(['L', 0, height]);\n    areaPath.push(['Z']);\n    return areaPath;\n}\n//# sourceMappingURL=path.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\nvar Trend = /** @class */ (function (_super) {\n    __extends(Trend, _super);\n    function Trend() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Trend.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'trend', x: 0, y: 0, width: 200, height: 16, smooth: true, isArea: false, data: [], backgroundStyle: BACKGROUND_STYLE, lineStyle: LINE_STYLE, areaStyle: AREA_STYLE });\n    };\n    Trend.prototype.renderInner = function (group) {\n        var _a = this.cfg, width = _a.width, height = _a.height, data = _a.data, smooth = _a.smooth, isArea = _a.isArea, backgroundStyle = _a.backgroundStyle, lineStyle = _a.lineStyle, areaStyle = _a.areaStyle;\n        // \n        this.addShape(group, {\n            id: this.getElementId('background'),\n            type: 'rect',\n            attrs: __assign({ x: 0, y: 0, width: width,\n                height: height }, backgroundStyle),\n        });\n        var path = dataToPath(data, width, height, smooth);\n        // \n        this.addShape(group, {\n            id: this.getElementId('line'),\n            type: 'path',\n            attrs: __assign({ path: path }, lineStyle),\n        });\n        // area\n        //  path \n        if (isArea) {\n            var areaPath = linePathToAreaPath(path, width, height);\n            this.addShape(group, {\n                id: this.getElementId('area'),\n                type: 'path',\n                attrs: __assign({ path: areaPath }, areaStyle),\n            });\n        }\n    };\n    Trend.prototype.applyOffset = function () {\n        var _a = this.cfg, x = _a.x, y = _a.y;\n        // \n        this.moveElementTo(this.get('group'), {\n            x: x,\n            y: y,\n        });\n    };\n    return Trend;\n}(GroupComponent));\nexport { Trend };\nexport default Trend;\n//# sourceMappingURL=trend.js.map","/**\n * \n */\nexport var BACKGROUND_STYLE = {\n    fill: '#416180',\n    opacity: 0.05,\n};\nexport var FOREGROUND_STYLE = {\n    fill: '#5B8FF9',\n    opacity: 0.15,\n    cursor: 'move',\n};\nexport var DEFAULT_HANDLER_WIDTH = 10;\nexport var HANDLER_STYLE = {\n    width: DEFAULT_HANDLER_WIDTH,\n    height: 24,\n};\nexport var TEXT_STYLE = {\n    textBaseline: 'middle',\n    fill: '#000',\n    opacity: 0.45,\n};\nexport var SLIDER_CHANGE = 'sliderchange';\n//# sourceMappingURL=constant.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nvar DEFAULT_STYLE = {\n    fill: '#F7F7F7',\n    stroke: '#BFBFBF',\n    radius: 2,\n    opacity: 1,\n    cursor: 'ew-resize',\n    // \n    highLightFill: '#FFF',\n};\nvar Handler = /** @class */ (function (_super) {\n    __extends(Handler, _super);\n    function Handler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Handler.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'handler', x: 0, y: 0, width: 10, height: 24, style: DEFAULT_STYLE });\n    };\n    Handler.prototype.renderInner = function (group) {\n        var _a = this.cfg, width = _a.width, height = _a.height, style = _a.style;\n        var fill = style.fill, stroke = style.stroke, radius = style.radius, opacity = style.opacity, cursor = style.cursor;\n        // \n        this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('background'),\n            attrs: {\n                x: 0,\n                y: 0,\n                width: width,\n                height: height,\n                fill: fill,\n                stroke: stroke,\n                radius: radius,\n                opacity: opacity,\n                cursor: cursor,\n            },\n        });\n        // \n        var x1 = (1 / 3) * width;\n        var x2 = (2 / 3) * width;\n        var y1 = (1 / 4) * height;\n        var y2 = (3 / 4) * height;\n        this.addShape(group, {\n            id: this.getElementId('line-left'),\n            type: 'line',\n            attrs: {\n                x1: x1,\n                y1: y1,\n                x2: x1,\n                y2: y2,\n                stroke: stroke,\n                cursor: cursor,\n            },\n        });\n        this.addShape(group, {\n            id: this.getElementId('line-right'),\n            type: 'line',\n            attrs: {\n                x1: x2,\n                y1: y1,\n                x2: x2,\n                y2: y2,\n                stroke: stroke,\n                cursor: cursor,\n            },\n        });\n    };\n    Handler.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Handler.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    Handler.prototype.bindEvents = function () {\n        var _this = this;\n        this.get('group').on('mouseenter', function () {\n            var highLightFill = _this.get('style').highLightFill;\n            _this.getElementByLocalId('background').attr('fill', highLightFill);\n            _this.draw();\n        });\n        this.get('group').on('mouseleave', function () {\n            var fill = _this.get('style').fill;\n            _this.getElementByLocalId('background').attr('fill', fill);\n            _this.draw();\n        });\n    };\n    Handler.prototype.draw = function () {\n        var canvas = this.get('container').get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    return Handler;\n}(GroupComponent));\nexport { Handler };\nexport default Handler;\n//# sourceMappingURL=handler.js.map","import { __assign, __extends } from \"tslib\";\nimport { clamp, each, get, isArray, isNil, size } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { Trend } from '../trend/trend';\nimport { BACKGROUND_STYLE, DEFAULT_HANDLER_WIDTH, FOREGROUND_STYLE, HANDLER_STYLE, SLIDER_CHANGE, TEXT_STYLE, } from './constant';\nimport { Handler } from './handler';\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (target) { return function (e) {\n            _this.currentTarget = target;\n            // \n            var event = e.originalEvent;\n            // 2. \n            event.stopPropagation();\n            event.preventDefault();\n            // \n            _this.prevX = get(event, 'touches.0.pageX', event.pageX);\n            _this.prevY = get(event, 'touches.0.pageY', event.pageY);\n            // 3.  move  up \n            var containerDOM = _this.getContainerDOM();\n            containerDOM.addEventListener('mousemove', _this.onMouseMove);\n            containerDOM.addEventListener('mouseup', _this.onMouseUp);\n            containerDOM.addEventListener('mouseleave', _this.onMouseUp);\n            // \n            containerDOM.addEventListener('touchmove', _this.onMouseMove);\n            containerDOM.addEventListener('touchend', _this.onMouseUp);\n            containerDOM.addEventListener('touchcancel', _this.onMouseUp);\n        }; };\n        _this.onMouseMove = function (event) {\n            var width = _this.cfg.width;\n            var originValue = [_this.get('start'), _this.get('end')];\n            //  emit \n            event.stopPropagation();\n            event.preventDefault();\n            var x = get(event, 'touches.0.pageX', event.pageX);\n            var y = get(event, 'touches.0.pageY', event.pageY);\n            //  slider  x\n            var offsetX = x - _this.prevX;\n            var offsetXRange = _this.adjustOffsetRange(offsetX / width);\n            //  start end range \n            _this.updateStartEnd(offsetXRange);\n            //  ui\n            _this.updateUI(_this.getElementByLocalId('foreground'), _this.getElementByLocalId('minText'), _this.getElementByLocalId('maxText'));\n            _this.prevX = x;\n            _this.prevY = y;\n            _this.draw();\n            //  startend  end >= start\n            _this.emit(SLIDER_CHANGE, [_this.get('start'), _this.get('end')].sort());\n            _this.delegateEmit('valuechanged', {\n                originValue: originValue,\n                value: [_this.get('start'), _this.get('end')],\n            });\n        };\n        _this.onMouseUp = function () {\n            // \n            if (_this.currentTarget) {\n                _this.currentTarget = undefined;\n            }\n            var containerDOM = _this.getContainerDOM();\n            if (containerDOM) {\n                containerDOM.removeEventListener('mousemove', _this.onMouseMove);\n                containerDOM.removeEventListener('mouseup', _this.onMouseUp);\n                //  canvas \n                containerDOM.removeEventListener('mouseleave', _this.onMouseUp);\n                // \n                containerDOM.removeEventListener('touchmove', _this.onMouseMove);\n                containerDOM.removeEventListener('touchend', _this.onMouseUp);\n                containerDOM.removeEventListener('touchcancel', _this.onMouseUp);\n            }\n        };\n        return _this;\n    }\n    Slider.prototype.setRange = function (min, max) {\n        this.set('minLimit', min);\n        this.set('maxLimit', max);\n        var oldStart = this.get('start');\n        var oldEnd = this.get('end');\n        var newStart = clamp(oldStart, min, max);\n        var newEnd = clamp(oldEnd, min, max);\n        if (!this.get('isInit') && (oldStart !== newStart || oldEnd !== newEnd)) {\n            this.setValue([newStart, newEnd]);\n        }\n    };\n    Slider.prototype.getRange = function () {\n        return {\n            min: this.get('minLimit') || 0,\n            max: this.get('maxLimit') || 1,\n        };\n    };\n    Slider.prototype.setValue = function (value) {\n        var range = this.getRange();\n        if (isArray(value) && value.length === 2) {\n            var originValue = [this.get('start'), this.get('end')];\n            this.update({\n                start: clamp(value[0], range.min, range.max),\n                end: clamp(value[1], range.min, range.max),\n            });\n            if (!this.get('updateAutoRender')) {\n                this.render();\n            }\n            this.delegateEmit('valuechanged', {\n                originValue: originValue,\n                value: value,\n            });\n        }\n    };\n    Slider.prototype.getValue = function () {\n        return [this.get('start'), this.get('end')];\n    };\n    Slider.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'slider', x: 0, y: 0, width: 100, height: 16, backgroundStyle: {}, foregroundStyle: {}, handlerStyle: {}, textStyle: {}, defaultCfg: {\n                backgroundStyle: BACKGROUND_STYLE,\n                foregroundStyle: FOREGROUND_STYLE,\n                handlerStyle: HANDLER_STYLE,\n                textStyle: TEXT_STYLE,\n            } });\n    };\n    Slider.prototype.update = function (cfg) {\n        var start = cfg.start, end = cfg.end;\n        var validCfg = __assign({}, cfg);\n        if (!isNil(start)) {\n            validCfg.start = clamp(start, 0, 1);\n        }\n        if (!isNil(end)) {\n            validCfg.end = clamp(end, 0, 1);\n        }\n        _super.prototype.update.call(this, validCfg);\n        this.minHandler = this.getChildComponentById(this.getElementId('minHandler'));\n        this.maxHandler = this.getChildComponentById(this.getElementId('maxHandler'));\n    };\n    Slider.prototype.init = function () {\n        this.set('start', clamp(this.get('start'), 0, 1));\n        this.set('end', clamp(this.get('end'), 0, 1));\n        _super.prototype.init.call(this);\n    };\n    Slider.prototype.renderInner = function (group) {\n        var _a = this.cfg, start = _a.start, end = _a.end, width = _a.width, height = _a.height, _b = _a.trendCfg, trendCfg = _b === void 0 ? {} : _b, minText = _a.minText, maxText = _a.maxText, _c = _a.backgroundStyle, backgroundStyle = _c === void 0 ? {} : _c, _d = _a.foregroundStyle, foregroundStyle = _d === void 0 ? {} : _d, _e = _a.textStyle, textStyle = _e === void 0 ? {} : _e, _f = _a.handlerStyle, handlerStyle = _f === void 0 ? {} : _f;\n        var min = start * width;\n        var max = end * width;\n        // \n        if (size(get(trendCfg, 'data'))) {\n            this.addComponent(group, __assign({ component: Trend, id: this.getElementId('trend'), x: 0, y: 0, width: width,\n                height: height }, trendCfg));\n        }\n        // 1. \n        this.addShape(group, {\n            id: this.getElementId('background'),\n            type: 'rect',\n            attrs: __assign({ x: 0, y: 0, width: width,\n                height: height }, backgroundStyle),\n        });\n        // 2. \n        var minTextShape = this.addShape(group, {\n            id: this.getElementId('minText'),\n            type: 'text',\n            attrs: __assign({ \n                // x: 0,\n                y: height / 2, textAlign: 'right', text: minText, silent: false }, textStyle),\n        });\n        var maxTextShape = this.addShape(group, {\n            id: this.getElementId('maxText'),\n            type: 'text',\n            attrs: __assign({ \n                // x: 0,\n                y: height / 2, textAlign: 'left', text: maxText, silent: false }, textStyle),\n        });\n        // 3.  \n        var foregroundShape = this.addShape(group, {\n            id: this.getElementId('foreground'),\n            name: 'foreground',\n            type: 'rect',\n            attrs: __assign({ \n                // x: 0,\n                y: 0, \n                // width: 0,\n                height: height }, foregroundStyle),\n        });\n        // \n        // const handlerWidth = get(handlerStyle, 'width', 10);\n        var handlerHeight = get(handlerStyle, 'height', 24);\n        // 4. \n        this.minHandler = this.addComponent(group, __assign({ component: Handler, id: this.getElementId('minHandler'), name: 'handler-min', x: 0, y: (height - handlerHeight) / 2, width: width, height: handlerHeight, cursor: 'ew-resize' }, handlerStyle));\n        this.maxHandler = this.addComponent(group, __assign({ component: Handler, id: this.getElementId('maxHandler'), name: 'handler-max', x: 0, y: (height - handlerHeight) / 2, width: width, height: handlerHeight, cursor: 'ew-resize' }, handlerStyle));\n        this.updateUI(foregroundShape, minTextShape, maxTextShape);\n    };\n    Slider.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Slider.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    Slider.prototype.updateUI = function (foregroundShape, minTextShape, maxTextShape) {\n        var _a = this.cfg, start = _a.start, end = _a.end, width = _a.width, minText = _a.minText, maxText = _a.maxText, handlerStyle = _a.handlerStyle;\n        var min = start * width;\n        var max = end * width;\n        // 1. foreground\n        foregroundShape.attr('x', min);\n        foregroundShape.attr('width', max - min);\n        // \n        var handlerWidth = get(handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n        // \n        minTextShape.attr('text', minText);\n        maxTextShape.attr('text', maxText);\n        var _b = this._dodgeText([min, max], minTextShape, maxTextShape), minAttrs = _b[0], maxAttrs = _b[1];\n        // 2. \n        if (this.minHandler) {\n            this.minHandler.update({\n                x: min - handlerWidth / 2,\n            });\n            if (!this.get('updateAutoRender')) {\n                this.minHandler.render();\n            }\n        }\n        each(minAttrs, function (v, k) { return minTextShape.attr(k, v); });\n        // 3. \n        if (this.maxHandler) {\n            this.maxHandler.update({\n                x: max - handlerWidth / 2,\n            });\n            if (!this.get('updateAutoRender')) {\n                this.maxHandler.render();\n            }\n        }\n        each(maxAttrs, function (v, k) { return maxTextShape.attr(k, v); });\n    };\n    Slider.prototype.bindEvents = function () {\n        var group = this.get('group');\n        group.on('handler-min:mousedown', this.onMouseDown('minHandler'));\n        group.on('handler-min:touchstart', this.onMouseDown('minHandler'));\n        // 2. \n        group.on('handler-max:mousedown', this.onMouseDown('maxHandler'));\n        group.on('handler-max:touchstart', this.onMouseDown('maxHandler'));\n        // 3. \n        var foreground = group.findById(this.getElementId('foreground'));\n        foreground.on('mousedown', this.onMouseDown('foreground'));\n        foreground.on('touchstart', this.onMouseDown('foreground'));\n    };\n    /**\n     *  offsetRange\n     * @param offsetRange\n     */\n    Slider.prototype.adjustOffsetRange = function (offsetRange) {\n        var _a = this.cfg, start = _a.start, end = _a.end;\n        // \n        switch (this.currentTarget) {\n            case 'minHandler': {\n                var min = 0 - start;\n                var max = 1 - start;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            case 'maxHandler': {\n                var min = 0 - end;\n                var max = 1 - end;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            case 'foreground': {\n                var min = 0 - start;\n                var max = 1 - end;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n        }\n    };\n    Slider.prototype.updateStartEnd = function (offsetRange) {\n        var _a = this.cfg, start = _a.start, end = _a.end;\n        // \n        switch (this.currentTarget) {\n            case 'minHandler':\n                start += offsetRange;\n                break;\n            case 'maxHandler':\n                end += offsetRange;\n                break;\n            case 'foreground':\n                start += offsetRange;\n                end += offsetRange;\n                break;\n        }\n        this.set('start', start);\n        this.set('end', end);\n    };\n    /**\n     *  text \n     * \n     * @param range\n     */\n    Slider.prototype._dodgeText = function (range, minTextShape, maxTextShape) {\n        var _a, _b;\n        var _c = this.cfg, handlerStyle = _c.handlerStyle, width = _c.width;\n        var PADDING = 2;\n        var handlerWidth = get(handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n        var min = range[0], max = range[1];\n        var sorted = false;\n        //  min max \n        if (min > max) {\n            _a = [max, min], min = _a[0], max = _a[1];\n            _b = [maxTextShape, minTextShape], minTextShape = _b[0], maxTextShape = _b[1];\n            sorted = true;\n        }\n        // \n        var minBBox = minTextShape.getBBox();\n        var maxBBox = maxTextShape.getBBox();\n        var minAttrs = minBBox.width > min - PADDING\n            ? { x: min + handlerWidth / 2 + PADDING, textAlign: 'left' }\n            : { x: min - handlerWidth / 2 - PADDING, textAlign: 'right' };\n        var maxAttrs = maxBBox.width > width - max - PADDING\n            ? { x: max - handlerWidth / 2 - PADDING, textAlign: 'right' }\n            : { x: max + handlerWidth / 2 + PADDING, textAlign: 'left' };\n        return !sorted ? [minAttrs, maxAttrs] : [maxAttrs, minAttrs];\n    };\n    Slider.prototype.draw = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    Slider.prototype.getContainerDOM = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        return canvas && canvas.get('container');\n    };\n    return Slider;\n}(GroupComponent));\nexport { Slider };\nexport default Slider;\n//# sourceMappingURL=slider.js.map","import { __assign, __extends } from \"tslib\";\nimport { addEventListener } from '@antv/dom-util';\nimport { clamp, get, noop } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nvar DEFAULT_STYLE = {\n    trackColor: 'rgba(0,0,0,0)',\n    thumbColor: 'rgba(0,0,0,0.15)',\n    size: 8,\n    lineCap: 'round',\n};\nexport var DEFAULT_THEME = {\n    // \n    default: DEFAULT_STYLE,\n    //  hover \n    hover: {\n        thumbColor: 'rgba(0,0,0,0.2)',\n    },\n};\nvar Scrollbar = /** @class */ (function (_super) {\n    __extends(Scrollbar, _super);\n    function Scrollbar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.clearEvents = noop;\n        _this.onStartEvent = function (isMobile) { return function (e) {\n            _this.isMobile = isMobile;\n            e.originalEvent.preventDefault();\n            var clientX = isMobile ? get(e.originalEvent, 'touches.0.clientX') : e.clientX;\n            var clientY = isMobile ? get(e.originalEvent, 'touches.0.clientY') : e.clientY;\n            // \n            _this.startPos = _this.cfg.isHorizontal ? clientX : clientY;\n            _this.bindLaterEvent();\n        }; };\n        _this.bindLaterEvent = function () {\n            var containerDOM = _this.getContainerDOM();\n            var events = [];\n            if (_this.isMobile) {\n                events = [\n                    addEventListener(containerDOM, 'touchmove', _this.onMouseMove),\n                    addEventListener(containerDOM, 'touchend', _this.onMouseUp),\n                    addEventListener(containerDOM, 'touchcancel', _this.onMouseUp),\n                ];\n            }\n            else {\n                events = [\n                    addEventListener(containerDOM, 'mousemove', _this.onMouseMove),\n                    addEventListener(containerDOM, 'mouseup', _this.onMouseUp),\n                    //  canvas containerDom  mouseup\n                    addEventListener(containerDOM, 'mouseleave', _this.onMouseUp),\n                ];\n            }\n            _this.clearEvents = function () {\n                events.forEach(function (e) {\n                    e.remove();\n                });\n            };\n        };\n        // \n        //  dom  dom \n        _this.onMouseMove = function (e) {\n            var _a = _this.cfg, isHorizontal = _a.isHorizontal, thumbOffset = _a.thumbOffset;\n            e.preventDefault();\n            var clientX = _this.isMobile ? get(e, 'touches.0.clientX') : e.clientX;\n            var clientY = _this.isMobile ? get(e, 'touches.0.clientY') : e.clientY;\n            // \n            var endPos = isHorizontal ? clientX : clientY;\n            // ,  diffDis,  container dom\n            var diff = endPos - _this.startPos;\n            //  _startPos\n            _this.startPos = endPos;\n            _this.updateThumbOffset(thumbOffset + diff);\n        };\n        _this.onMouseUp = function (e) {\n            e.preventDefault();\n            _this.clearEvents();\n        };\n        // ,\n        _this.onTrackClick = function (e) {\n            var _a = _this.cfg, isHorizontal = _a.isHorizontal, x = _a.x, y = _a.y, thumbLen = _a.thumbLen;\n            var containerDOM = _this.getContainerDOM();\n            var rect = containerDOM.getBoundingClientRect();\n            var clientX = e.clientX, clientY = e.clientY;\n            var offset = isHorizontal ? clientX - rect.left - x - thumbLen / 2 : clientY - rect.top - y - thumbLen / 2;\n            var newOffset = _this.validateRange(offset);\n            _this.updateThumbOffset(newOffset);\n        };\n        _this.onThumbMouseOver = function () {\n            var thumbColor = _this.cfg.theme.hover.thumbColor;\n            _this.getElementByLocalId('thumb').attr('stroke', thumbColor);\n            _this.draw();\n        };\n        _this.onThumbMouseOut = function () {\n            var thumbColor = _this.cfg.theme.default.thumbColor;\n            _this.getElementByLocalId('thumb').attr('stroke', thumbColor);\n            _this.draw();\n        };\n        return _this;\n    }\n    Scrollbar.prototype.setRange = function (min, max) {\n        this.set('minLimit', min);\n        this.set('maxLimit', max);\n        var curValue = this.getValue();\n        var newValue = clamp(curValue, min, max);\n        if (curValue !== newValue && !this.get('isInit')) {\n            this.setValue(newValue);\n        }\n    };\n    Scrollbar.prototype.getRange = function () {\n        var min = this.get('minLimit') || 0;\n        var max = this.get('maxLimit') || 1;\n        return { min: min, max: max };\n    };\n    Scrollbar.prototype.setValue = function (value) {\n        var range = this.getRange();\n        var originalValue = this.getValue();\n        this.update({\n            thumbOffset: (this.get('trackLen') - this.get('thumbLen')) * clamp(value, range.min, range.max),\n        });\n        this.delegateEmit('valuechange', {\n            originalValue: originalValue,\n            value: this.getValue(),\n        });\n    };\n    Scrollbar.prototype.getValue = function () {\n        return clamp(this.get('thumbOffset') / (this.get('trackLen') - this.get('thumbLen')), 0, 1);\n    };\n    Scrollbar.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'scrollbar', isHorizontal: true, minThumbLen: 20, thumbOffset: 0, theme: DEFAULT_THEME });\n    };\n    Scrollbar.prototype.renderInner = function (group) {\n        this.renderTrackShape(group);\n        this.renderThumbShape(group);\n    };\n    Scrollbar.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Scrollbar.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    //  shape\n    Scrollbar.prototype.renderTrackShape = function (group) {\n        var _a = this.cfg, trackLen = _a.trackLen, _b = _a.theme, theme = _b === void 0 ? { default: {} } : _b;\n        var _c = theme.default, lineCap = _c.lineCap, trackColor = _c.trackColor, size = _c.size;\n        var attrs = this.get('isHorizontal')\n            ? {\n                x1: 0 + size / 2,\n                y1: size / 2,\n                x2: trackLen - size / 2,\n                y2: size / 2,\n                lineWidth: size,\n                stroke: trackColor,\n                lineCap: lineCap,\n            }\n            : {\n                x1: size / 2,\n                y1: 0 + size / 2,\n                x2: size / 2,\n                y2: trackLen - size / 2,\n                lineWidth: size,\n                stroke: trackColor,\n                lineCap: lineCap,\n            };\n        return this.addShape(group, {\n            id: this.getElementId('track'),\n            name: 'track',\n            type: 'line',\n            attrs: attrs,\n        });\n    };\n    //  shape\n    Scrollbar.prototype.renderThumbShape = function (group) {\n        var _a = this.cfg, thumbOffset = _a.thumbOffset, thumbLen = _a.thumbLen, _b = _a.theme, theme = _b === void 0 ? { default: {} } : _b;\n        var _c = theme.default, size = _c.size, lineCap = _c.lineCap, thumbColor = _c.thumbColor;\n        var attrs = this.get('isHorizontal')\n            ? {\n                x1: thumbOffset + size / 2,\n                y1: size / 2,\n                x2: thumbOffset + thumbLen - size / 2,\n                y2: size / 2,\n                lineWidth: size,\n                stroke: thumbColor,\n                lineCap: lineCap,\n                cursor: 'default',\n            }\n            : {\n                x1: size / 2,\n                y1: thumbOffset + size / 2,\n                x2: size / 2,\n                y2: thumbOffset + thumbLen - size / 2,\n                lineWidth: size,\n                stroke: thumbColor,\n                lineCap: lineCap,\n                cursor: 'default',\n            };\n        return this.addShape(group, {\n            id: this.getElementId('thumb'),\n            name: 'thumb',\n            type: 'line',\n            attrs: attrs,\n        });\n    };\n    Scrollbar.prototype.bindEvents = function () {\n        var group = this.get('group');\n        group.on('mousedown', this.onStartEvent(false));\n        group.on('mouseup', this.onMouseUp);\n        group.on('touchstart', this.onStartEvent(true));\n        group.on('touchend', this.onMouseUp);\n        var trackShape = group.findById(this.getElementId('track'));\n        trackShape.on('click', this.onTrackClick);\n        var thumbShape = group.findById(this.getElementId('thumb'));\n        thumbShape.on('mouseover', this.onThumbMouseOver);\n        thumbShape.on('mouseout', this.onThumbMouseOut);\n    };\n    Scrollbar.prototype.getContainerDOM = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        return canvas && canvas.get('container');\n    };\n    Scrollbar.prototype.validateRange = function (offset) {\n        var _a = this.cfg, thumbLen = _a.thumbLen, trackLen = _a.trackLen;\n        var newOffset = offset;\n        if (offset + thumbLen > trackLen) {\n            newOffset = trackLen - thumbLen;\n        }\n        else if (offset + thumbLen < thumbLen) {\n            newOffset = 0;\n        }\n        return newOffset;\n    };\n    Scrollbar.prototype.draw = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    Scrollbar.prototype.updateThumbOffset = function (offset) {\n        var _a = this.cfg, thumbOffset = _a.thumbOffset, isHorizontal = _a.isHorizontal, thumbLen = _a.thumbLen, size = _a.size;\n        var newOffset = this.validateRange(offset);\n        if (newOffset === thumbOffset) {\n            //  offset \n            return;\n        }\n        var thumbShape = this.getElementByLocalId('thumb');\n        if (isHorizontal) {\n            thumbShape.attr({\n                x1: newOffset + size / 2,\n                x2: newOffset + thumbLen - size / 2,\n            });\n        }\n        else {\n            thumbShape.attr({\n                y1: newOffset + size / 2,\n                y2: newOffset + thumbLen - size / 2,\n            });\n        }\n        this.emitOffsetChange(newOffset);\n    };\n    Scrollbar.prototype.emitOffsetChange = function (offset) {\n        var _a = this.cfg, originalValue = _a.thumbOffset, trackLen = _a.trackLen, thumbLen = _a.thumbLen;\n        this.cfg.thumbOffset = offset;\n        // \n        this.emit('scrollchange', {\n            thumbOffset: offset,\n            ratio: clamp(offset / (trackLen - thumbLen), 0, 1),\n        });\n        this.delegateEmit('valuechange', {\n            originalValue: originalValue,\n            value: offset,\n        });\n    };\n    return Scrollbar;\n}(GroupComponent));\nexport { Scrollbar };\n//# sourceMappingURL=scrollbar.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar vec2 = require(\"gl-matrix/vec2\");\nexports.default = {\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @return {object} \n     */\n    box: function (x1, y1, x2, y2) {\n        return util_1.getBBoxByArray([x1, x2], [y1, y2]);\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @return {number} \n     */\n    length: function (x1, y1, x2, y2) {\n        return util_1.distance(x1, y1, x2, y2);\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @param {number} t \n     * @return {object}  x, y \n     */\n    pointAt: function (x1, y1, x2, y2, t) {\n        return {\n            x: (1 - t) * x1 + t * x2,\n            y: (1 - t) * y1 + t * y2,\n        };\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @param {number} x   x\n     * @param {number} y   y\n     * @return {number} \n     */\n    pointDistance: function (x1, y1, x2, y2, x, y) {\n        //  x1, y1  p, p1, p2  a\n        // p1a = p1p.p1p2/|p1p2| * (p1p )\n        var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n        if (cross < 0) {\n            return util_1.distance(x1, y1, x, y);\n        }\n        var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n        if (cross > lengthSquare) {\n            return util_1.distance(x2, y2, x, y);\n        }\n        return this.pointToLine(x1, y1, x2, y2, x, y);\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @param {number} x   x\n     * @param {number} y   y\n     * @return {number} \n     */\n    pointToLine: function (x1, y1, x2, y2, x, y) {\n        var d = [x2 - x1, y2 - y1];\n        // \n        if (vec2.exactEquals(d, [0, 0])) {\n            return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n        }\n        var u = [-d[1], d[0]];\n        vec2.normalize(u, u);\n        var a = [x - x1, y - y1];\n        return Math.abs(vec2.dot(a, u));\n    },\n    /**\n     * \n     * @param {number} x1  x\n     * @param {number} y1  y\n     * @param {number} x2  x\n     * @param {number} y2  y\n     * @return {number} \n     */\n    tangentAngle: function (x1, y1, x2, y2) {\n        return Math.atan2(y2 - y1, x2 - x1);\n    },\n};\n//# sourceMappingURL=line.js.map","import { deepMix, each, map, isArray, get, clone, isNumber } from '@antv/util';\nimport ViewLayer from '../../base/view-layer';\nimport BaseComponent, { BaseComponentConfig } from '../base';\nimport {\n  IGroup,\n  IShape,\n  View,\n  Geometry,\n  Element,\n  Coordinate,\n  MappingDatum,\n  VIEW_LIFE_CIRCLE,\n  getDefaultAnimateCfg,\n  doAnimate,\n  ORIGIN,\n} from '../../dependents';\nimport { Label, TextStyle } from '../../interface/config';\nimport { LooseMap } from '../../interface/types';\nimport BBox from '../../util/bbox';\n\nexport interface LabelComponentConfig extends BaseComponentConfig {\n  layer: ViewLayer;\n  geometry: Geometry;\n  label: Label;\n}\n\nexport interface LabelComponentCtor<T extends LabelComponentConfig = LabelComponentConfig> {\n  new (config: T): LabelComponent;\n}\n\nexport default abstract class LabelComponent<L extends Label = Label> extends BaseComponent<LabelComponentConfig> {\n  protected layer: ViewLayer;\n  protected view: View;\n  protected geometry: Geometry;\n  protected coord: Coordinate;\n  protected options: L;\n  protected labels: IShape[];\n  private labelsCfgMap: Record<string, TextStyle> = {};\n  private lastLabelsCfgMap: Record<string, TextStyle> = {};\n\n  public getGeometry() {\n    return this.geometry;\n  }\n\n  public getLabels() {\n    return this.labels;\n  }\n\n  public show() {\n    this.container.show();\n  }\n\n  public hide() {\n    this.container.hide();\n  }\n\n  protected init(config: LabelComponentConfig) {\n    this.layer = config.layer;\n    const view = this.layer.view;\n    this.view = view;\n    this.geometry = config.geometry;\n    this.coord = view.getCoordinate();\n    this.options = deepMix(this.getDefaultOptions(), config.label);\n\n    const callback = () => {\n      this.clear();\n      this.render();\n    };\n    view.on(VIEW_LIFE_CIRCLE.AFTER_PAINT, callback);\n    this.addDisposable(() => {\n      view.off(VIEW_LIFE_CIRCLE.AFTER_PAINT, callback);\n    });\n  }\n\n  protected renderInner(group: IGroup) {\n    this.labels = [];\n    this.labelsCfgMap = {};\n\n    //  Label \n    each(this.geometry.elements, (element: Element, elementIdx: number) => {\n      const labels = [].concat(this.drawLabelItem(group, element, elementIdx));\n      each(labels, (label, idx) => {\n        this.adjustLabel(label, element, idx);\n        if (!label.destroyed) {\n          this.labels.push(label);\n          this.labelsCfgMap[label.get('id')] = clone(label.attrs);\n        }\n      });\n    });\n\n    // \n    this.layoutLabels(this.geometry, this.labels);\n\n    //  G2 Label \n    const lastLabelsCfgMap = this.lastLabelsCfgMap;\n    const labelsCfgMap = this.labelsCfgMap;\n    const animateCfg = this.geometry.animateOption ? getDefaultAnimateCfg('label', this.coord) : false;\n    each(labelsCfgMap, (attrs: TextStyle, id: string) => {\n      const shape = group.findById(id) as IShape;\n      if (shape) {\n        if (lastLabelsCfgMap[id]) {\n          const oldAttrs = lastLabelsCfgMap[id];\n          // \n          const updateAnimateCfg = get(animateCfg, 'update');\n          if (updateAnimateCfg) {\n            shape.attr(oldAttrs);\n            doAnimate(shape, updateAnimateCfg, {\n              toAttrs: {\n                ...attrs,\n              },\n              coordinate: this.coord,\n            });\n          }\n        } else {\n          //  shape\n          const appearAnimateCfg = get(animateCfg, 'appear');\n          if (appearAnimateCfg) {\n            doAnimate(shape, appearAnimateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: this.coord,\n            });\n          }\n        }\n      }\n      delete lastLabelsCfgMap[id];\n    });\n    each(lastLabelsCfgMap, (attrs: TextStyle, id) => {\n      // \n      const leaveAnimateCfg = get(animateCfg, 'leave');\n      if (leaveAnimateCfg) {\n        const tempShape = group.addShape('text', {\n          attrs,\n          id,\n          name: 'label',\n        });\n        doAnimate(tempShape, leaveAnimateCfg, {\n          toAttrs: null,\n          coordinate: this.coord,\n        });\n      }\n    });\n    this.lastLabelsCfgMap = this.labelsCfgMap;\n  }\n\n  protected drawLabelText(group: IGroup, attrs: TextStyle, extraCfgs: LooseMap = {}): IShape {\n    return group.addShape('text', {\n      attrs,\n      ...extraCfgs,\n    });\n  }\n\n  protected drawLabelItem(group: IGroup, element: Element, elementIndex: number): IShape | IShape[] {\n    const model = element.getModel();\n    const items = [].concat(this.getLabelItemAttrs(element, elementIndex));\n    const offset = this.getDefaultOffset();\n    const offsetPoint = this.getLabelOffset();\n    return map(items, (attrs, index) => {\n      const position = {\n        x: attrs.x + offsetPoint.x,\n        y: attrs.y + offsetPoint.y,\n      };\n      const dataItem = isArray(model.mappingData) ? model.mappingData[index] : model.mappingData;\n      const id = this.getLabelId(dataItem);\n      return this.drawLabelText(\n        group,\n        { ...attrs, ...position },\n        {\n          id,\n          name: 'label',\n          offset,\n          element,\n          [ORIGIN]: dataItem,\n        }\n      );\n    });\n  }\n\n  /**  Label  offset */\n  protected getDefaultOffset() {\n    return Number(this.options.offset);\n  }\n\n  /**  Label  offset  offsetoffsetXoffsetY */\n  protected getLabelOffset() {\n    const { offsetX, offsetY } = this.options;\n    return {\n      x: isNumber(offsetX) ? offsetX : 0,\n      y: isNumber(offsetY) ? offsetY : 0,\n    };\n  }\n\n  /**  offset  */\n  protected getLabelOffsetByDimAndFactor(dim: 'x' | 'y', factor: number) {\n    const { offsetX, offsetY } = this.options;\n    const offset = this.getDefaultOffset();\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    offsetPoint[dim] = offset * factor;\n    if (isNumber(offsetX)) {\n      offsetPoint.x += offsetX;\n    }\n    if (isNumber(offsetY)) {\n      offsetPoint.y += offsetY;\n    }\n    return offsetPoint;\n  }\n\n  /**  */\n  protected getDefaultOptions(): Partial<L> {\n    return {};\n  }\n\n  /**  Label  */\n  protected abstract getLabelItemAttrs(element: Element, idx: number): TextStyle | TextStyle[];\n\n  /**  Label  */\n  protected abstract adjustLabel(label: IShape, element: Element, datumIdx: number): void;\n\n  /**  Labels  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected layoutLabels(geometry: Geometry, labels: IShape[]): void {\n    // empty\n  }\n\n  protected getLabelId(data: MappingDatum): string {\n    const origin = data._origin;\n    const type = this.geometry.type;\n    const xScale = this.geometry.getXScale();\n    const yScale = this.geometry.getYScale();\n    let labelId = this.geometry.getElementId(data);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  protected getCoordinateBBox() {\n    const { coord } = this;\n    const { start, end } = coord;\n    return new BBox(Math.min(start.x, end.x), Math.min(start.y, end.y), coord.getWidth(), coord.getHeight());\n  }\n}\n\n// Label \nconst LABEL_CONFIG_MAP: Record<string, LabelComponentCtor> = {};\n\nexport function registerLabelComponent(type: string, component: LabelComponentCtor) {\n  LABEL_CONFIG_MAP[type] = component;\n}\n\nexport function getLabelComponent(type: string): LabelComponentCtor {\n  return LABEL_CONFIG_MAP[type];\n}\n","var methodCache = {};\n/**\n *  ticks \n * @param key \n * @returns  ticks \n */\nexport function getTickMethod(key) {\n    return methodCache[key];\n}\n/**\n *  ticks \n * @param key \n * @param method \n */\nexport function registerTickMethod(key, method) {\n    methodCache[key] = method;\n}\n//# sourceMappingURL=register.js.map","import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.visible = true;\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.visible = false;\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n","import { __extends, __spreadArrays } from \"tslib\";\nimport { indexOf, isNil, isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * \n * @class\n */\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'cat';\n        _this.isCategory = true;\n        return _this;\n    }\n    Category.prototype.translate = function (value) {\n        var index = indexOf(this.values, value);\n        if (index === -1) {\n            return isNumber(value) ? value : NaN;\n        }\n        return index;\n    };\n    Category.prototype.scale = function (value) {\n        var order = this.translate(value);\n        //  0.5 \n        // if (order < this.min - 0.5 || order > this.max + 0.5) {\n        //   return NaN;\n        // }\n        var percent = this.calcPercent(order, this.min, this.max);\n        return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n    };\n    Category.prototype.invert = function (scaledValue) {\n        var domainRange = this.max - this.min;\n        var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n        var idx = Math.round(domainRange * percent) + this.min;\n        if (idx < this.min || idx > this.max) {\n            return NaN;\n        }\n        return this.values[idx];\n    };\n    Category.prototype.getText = function (value) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var v = value;\n        // valueindex\n        if (isNumber(value) && !this.values.includes(value)) {\n            v = this.values[v];\n        }\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n    };\n    // \n    Category.prototype.initCfg = function () {\n        this.tickMethod = 'cat';\n    };\n    //  min, max\n    Category.prototype.setDomain = function () {\n        //  min\n        if (isNil(this.getConfig('min'))) {\n            this.min = 0;\n        }\n        if (isNil(this.getConfig('max'))) {\n            var size = this.values.length;\n            this.max = size > 1 ? size - 1 : size;\n        }\n    };\n    return Category;\n}(Base));\nexport default Category;\n//# sourceMappingURL=base.js.map","import { isDate, isString, last } from '@antv/util';\nimport fecha from 'fecha';\nimport * as fecha1 from 'fecha';\nimport bisector from './bisector';\nvar FORMAT_METHOD = 'format';\nexport function timeFormat(time, mask) {\n    var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n    return method(time, mask);\n}\n/**\n * \n * @param value \n */\nexport function toTimeStamp(value) {\n    if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n            value = new Date(value).getTime();\n        }\n        else {\n            // new Date('2010/01/10')  new Date('2010-01-10') :\n            // : Fri Jan 10 2020 02:40:13 GMT+0800 ()\n            //  Sun Jan 10 2010 08:00:00 GMT+0800 ()\n            value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n    }\n    if (isDate(value)) {\n        value = value.getTime();\n    }\n    return value;\n}\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = DAY * 31;\nvar YEAR = DAY * 365;\nexport { SECOND, MINUTE, HOUR, DAY, MONTH, YEAR };\nvar intervals = [\n    ['HH:mm:ss', SECOND],\n    ['HH:mm:ss', SECOND * 10],\n    ['HH:mm:ss', SECOND * 30],\n    ['HH:mm', MINUTE],\n    ['HH:mm', MINUTE * 10],\n    ['HH:mm', MINUTE * 30],\n    ['HH', HOUR],\n    ['HH', HOUR * 6],\n    ['HH', HOUR * 12],\n    ['YYYY-MM-DD', DAY],\n    ['YYYY-MM-DD', DAY * 4],\n    ['YYYY-WW', DAY * 7],\n    ['YYYY-MM', MONTH],\n    ['YYYY-MM', MONTH * 4],\n    ['YYYY-MM', MONTH * 6],\n    ['YYYY', DAY * 380],\n];\nexport function getTickInterval(min, max, tickCount) {\n    var target = (max - min) / tickCount;\n    var idx = bisector(function (o) { return o[1]; })(intervals, target) - 1;\n    var interval = intervals[idx];\n    if (idx < 0) {\n        interval = intervals[0];\n    }\n    else if (idx >= intervals.length) {\n        interval = last(intervals);\n    }\n    return interval;\n}\n//# sourceMappingURL=time.js.map","import { isNil } from '@antv/util';\n/**\n * \n * https://github.com/d3/d3-array/blob/master/src/bisector.js\n */\nexport default function (getter) {\n    /**\n     * x: \n     * lo: \n     * hi: \n     */\n    return function (a, x, _lo, _hi) {\n        var lo = isNil(_lo) ? 0 : _lo;\n        var hi = isNil(_hi) ? a.length : _hi;\n        while (lo < hi) {\n            var mid = (lo + hi) >>> 1;\n            if (getter(a[mid]) > x) {\n                hi = mid;\n            }\n            else {\n                lo = mid + 1;\n            }\n        }\n        return lo;\n    };\n}\n//# sourceMappingURL=bisector.js.map","import { __extends } from \"tslib\";\nimport { each, isNumber } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Category from './base';\n/**\n * \n * @class\n */\nvar TimeCat = /** @class */ (function (_super) {\n    __extends(TimeCat, _super);\n    function TimeCat() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @override\n     */\n    TimeCat.prototype.translate = function (value) {\n        value = toTimeStamp(value);\n        var index = this.values.indexOf(value);\n        if (index === -1) {\n            if (isNumber(value) && value < this.values.length) {\n                index = value;\n            }\n            else {\n                index = NaN;\n            }\n        }\n        return index;\n    };\n    /**\n     *  getText\n     * @override\n     */\n    TimeCat.prototype.getText = function (value, tickIndex) {\n        var index = this.translate(value);\n        if (index > -1) {\n            var result = this.values[index];\n            var formatter = this.formatter;\n            result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n            return result;\n        }\n        return value;\n    };\n    TimeCat.prototype.initCfg = function () {\n        this.tickMethod = 'time-cat';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7; //  7 14 30 \n    };\n    TimeCat.prototype.setDomain = function () {\n        var values = this.values;\n        // \n        each(values, function (v, i) {\n            values[i] = toTimeStamp(v);\n        });\n        values.sort(function (v1, v2) {\n            return v1 - v2;\n        });\n        _super.prototype.setDomain.call(this);\n    };\n    return TimeCat;\n}(Category));\nexport default TimeCat;\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { filter, getRange, head, isNil, last } from '@antv/util';\nimport Base from '../base';\n/**\n * \n * @class\n */\nvar Continuous = /** @class */ (function (_super) {\n    __extends(Continuous, _super);\n    function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContinuous = true;\n        return _this;\n    }\n    Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n            return NaN;\n        }\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return rangeMin;\n        }\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n    };\n    Continuous.prototype.init = function () {\n        _super.prototype.init.call(this);\n        // init  min, max  ticks \n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n        if (firstTick < this.min) {\n            this.min = firstTick;\n        }\n        if (lastTick > this.max) {\n            this.max = lastTick;\n        }\n        // strict-limit \n        if (!isNil(this.minLimit)) {\n            this.min = firstTick;\n        }\n        if (!isNil(this.maxLimit)) {\n            this.max = lastTick;\n        }\n    };\n    Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values), min = _a.min, max = _a.max;\n        if (isNil(this.min)) {\n            this.min = min;\n        }\n        if (isNil(this.max)) {\n            this.max = max;\n        }\n        if (this.min > this.max) {\n            this.min = min;\n            this.max = max;\n        }\n    };\n    Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) {\n            ticks = filter(ticks, function (tick) {\n                return tick >= _this.min && tick <= _this.max;\n            });\n        }\n        return ticks;\n    };\n    // \n    Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n    };\n    Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n    };\n    return Continuous;\n}(Base));\nexport default Continuous;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Continuous from './base';\n/**\n * \n * @class\n */\nvar Linear = /** @class */ (function (_super) {\n    __extends(Linear, _super);\n    function Linear() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'linear';\n        _this.isLinear = true;\n        return _this;\n    }\n    Linear.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        return this.min + percent * (this.max - this.min);\n    };\n    Linear.prototype.initCfg = function () {\n        this.tickMethod = 'wilkinson-extended';\n        this.nice = false;\n    };\n    return Linear;\n}(Continuous));\nexport default Linear;\n//# sourceMappingURL=linear.js.map","import { each, isNil } from '@antv/util';\n// ab x^^a = b;x\n//  b  \nexport function calBase(a, b) {\n    var e = Math.E;\n    var value;\n    if (b >= 0) {\n        value = Math.pow(e, Math.log(b) / a); // \n    }\n    else {\n        value = Math.pow(e, Math.log(-b) / a) * -1; // \n    }\n    return value;\n}\nexport function log(a, b) {\n    if (a === 1) {\n        return 1;\n    }\n    return Math.log(b) / Math.log(a);\n}\nexport function getLogPositiveMin(values, base, max) {\n    if (isNil(max)) {\n        max = Math.max.apply(null, values);\n    }\n    var positiveMin = max;\n    each(values, function (value) {\n        if (value > 0 && value < positiveMin) {\n            positiveMin = value;\n        }\n    });\n    if (positiveMin === max) {\n        positiveMin = max / base;\n    }\n    if (positiveMin > 1) {\n        positiveMin = 1;\n    }\n    return positiveMin;\n}\n//# sourceMappingURL=math.js.map","import { __extends } from \"tslib\";\nimport { getLogPositiveMin, log } from '../util/math';\nimport Continuous from './base';\n/**\n * Log \n */\nvar Log = /** @class */ (function (_super) {\n    __extends(Log, _super);\n    function Log() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'log';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Log.prototype.invert = function (value) {\n        var base = this.base;\n        var max = log(base, this.max);\n        var rangeMin = this.rangeMin();\n        var range = this.rangeMax() - rangeMin;\n        var min;\n        var positiveMin = this.positiveMin;\n        if (positiveMin) {\n            if (value === 0) {\n                return 0;\n            }\n            min = log(base, positiveMin / base);\n            var appendPercent = (1 / (max - min)) * range; // 0  positiveMin\n            if (value < appendPercent) {\n                //  0 - positiveMin \n                return (value / appendPercent) * positiveMin;\n            }\n        }\n        else {\n            min = log(base, this.min);\n        }\n        var percent = (value - rangeMin) / range;\n        var tmp = percent * (max - min) + min;\n        return Math.pow(base, tmp);\n    };\n    Log.prototype.initCfg = function () {\n        this.tickMethod = 'log';\n        this.base = 10;\n        this.tickCount = 6;\n        this.nice = true;\n    };\n    // \n    Log.prototype.setDomain = function () {\n        _super.prototype.setDomain.call(this);\n        var min = this.min;\n        if (min < 0) {\n            throw new Error('When you use log scale, the minimum value must be greater than zero!');\n        }\n        if (min === 0) {\n            this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n        }\n    };\n    // \n    Log.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return 0;\n        }\n        // 00\n        if (value <= 0) {\n            return 0;\n        }\n        var base = this.base;\n        var positiveMin = this.positiveMin;\n        // min == 0, 0tick0\n        if (positiveMin) {\n            min = (positiveMin * 1) / base;\n        }\n        var percent;\n        //  value /  \n        if (value < positiveMin) {\n            percent = value / positiveMin / (log(base, max) - log(base, min));\n        }\n        else {\n            percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n        }\n        return percent;\n    };\n    return Log;\n}(Continuous));\nexport default Log;\n//# sourceMappingURL=log.js.map","import { __extends } from \"tslib\";\nimport { calBase } from '../util/math';\nimport Continuous from './base';\n/**\n * Pow \n */\nvar Pow = /** @class */ (function (_super) {\n    __extends(Pow, _super);\n    function Pow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'pow';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Pow.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        var exponent = this.exponent;\n        var max = calBase(exponent, this.max);\n        var min = calBase(exponent, this.min);\n        var tmp = percent * (max - min) + min;\n        var factor = tmp >= 0 ? 1 : -1;\n        return Math.pow(tmp, exponent) * factor;\n    };\n    Pow.prototype.initCfg = function () {\n        this.tickMethod = 'pow';\n        this.exponent = 2;\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    // value\n    Pow.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return 0;\n        }\n        var exponent = this.exponent;\n        var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n        return percent;\n    };\n    return Pow;\n}(Continuous));\nexport default Pow;\n//# sourceMappingURL=pow.js.map","import { __extends } from \"tslib\";\nimport { each, isDate, isNil, isNumber, isString } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Linear from './linear';\n/**\n * \n * @class\n */\nvar Time = /** @class */ (function (_super) {\n    __extends(Time, _super);\n    function Time() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'time';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Time.prototype.getText = function (value, index) {\n        var numberValue = this.translate(value);\n        var formatter = this.formatter;\n        return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n    };\n    /**\n     * @override\n     */\n    Time.prototype.scale = function (value) {\n        var v = value;\n        if (isString(v) || isDate(v)) {\n            v = this.translate(v);\n        }\n        return _super.prototype.scale.call(this, v);\n    };\n    /**\n     * \n     * @override\n     */\n    Time.prototype.translate = function (v) {\n        return toTimeStamp(v);\n    };\n    Time.prototype.initCfg = function () {\n        this.tickMethod = 'time-pretty';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7;\n        this.nice = false;\n    };\n    Time.prototype.setDomain = function () {\n        var values = this.values;\n        //  min, max this.min, this.max\n        var minConfig = this.getConfig('min');\n        var maxConfig = this.getConfig('max');\n        //  min,max \n        if (!isNil(minConfig) || !isNumber(minConfig)) {\n            this.min = this.translate(this.min);\n        }\n        if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n            this.max = this.translate(this.max);\n        }\n        //  min, max \n        if (values && values.length) {\n            // \n            var timeStamps_1 = [];\n            var min_1 = Infinity; // \n            var secondMin_1 = min_1; // \n            var max_1 = 0;\n            // min,max,secondMin\n            each(values, function (v) {\n                var timeStamp = toTimeStamp(v);\n                if (isNaN(timeStamp)) {\n                    throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n                }\n                if (min_1 > timeStamp) {\n                    secondMin_1 = min_1;\n                    min_1 = timeStamp;\n                }\n                else if (secondMin_1 > timeStamp) {\n                    secondMin_1 = timeStamp;\n                }\n                if (max_1 < timeStamp) {\n                    max_1 = timeStamp;\n                }\n                timeStamps_1.push(timeStamp);\n            });\n            // \n            if (values.length > 1) {\n                this.minTickInterval = secondMin_1 - min_1;\n            }\n            if (isNil(minConfig)) {\n                this.min = min_1;\n            }\n            if (isNil(maxConfig)) {\n                this.max = max_1;\n            }\n        }\n    };\n    return Time;\n}(Linear));\nexport default Time;\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { each, head, last } from '@antv/util';\nimport Continuous from './base';\n/**\n * \n */\nvar Quantize = /** @class */ (function (_super) {\n    __extends(Quantize, _super);\n    function Quantize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'quantize';\n        return _this;\n    }\n    Quantize.prototype.invert = function (value) {\n        var ticks = this.ticks;\n        var length = ticks.length;\n        var percent = this.getInvertPercent(value);\n        var minIndex = Math.floor(percent * (length - 1));\n        // \n        if (minIndex >= length - 1) {\n            return last(ticks);\n        }\n        //  \n        if (minIndex < 0) {\n            return head(ticks);\n        }\n        var minTick = ticks[minIndex];\n        var nextTick = ticks[minIndex + 1];\n        //  tick \n        var minIndexPercent = minIndex / (length - 1);\n        var maxIndexPercent = (minIndex + 1) / (length - 1);\n        return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n    };\n    Quantize.prototype.initCfg = function () {\n        this.tickMethod = 'r-pretty';\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    Quantize.prototype.calculateTicks = function () {\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) { //  nice = false , min, max\n            if (last(ticks) !== this.max) {\n                ticks.push(this.max);\n            }\n            if (head(ticks) !== this.min) {\n                ticks.unshift(this.min);\n            }\n        }\n        return ticks;\n    };\n    // \n    Quantize.prototype.getScalePercent = function (value) {\n        var ticks = this.ticks;\n        // \n        if (value < head(ticks)) {\n            return 0;\n        }\n        // \n        if (value > last(ticks)) {\n            return 1;\n        }\n        var minIndex = 0;\n        each(ticks, function (tick, index) {\n            if (value >= tick) {\n                minIndex = index;\n            }\n            else {\n                return false;\n            }\n        });\n        return minIndex / (ticks.length - 1);\n    };\n    return Quantize;\n}(Continuous));\nexport default Quantize;\n//# sourceMappingURL=quantize.js.map","import { __extends } from \"tslib\";\nimport Quantize from './quantize';\nvar Quantile = /** @class */ (function (_super) {\n    __extends(Quantile, _super);\n    function Quantile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'quantile';\n        return _this;\n    }\n    Quantile.prototype.initCfg = function () {\n        this.tickMethod = 'quantile';\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    return Quantile;\n}(Quantize));\nexport default Quantile;\n//# sourceMappingURL=quantile.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar base_1 = require(\"./attributes/base\");\nexports.Attribute = base_1.default;\n//  attribute map\nvar ATTRIBUTE_MAP = {};\n/**\n *  Attribute \n * @param type\n */\nvar getAttribute = function (type) {\n    return ATTRIBUTE_MAP[type.toLowerCase()];\n};\nexports.getAttribute = getAttribute;\nvar registerAttribute = function (type, ctor) {\n    //  type \n    if (getAttribute(type)) {\n        throw new Error(\"Attribute type '\" + type + \"' existed.\");\n    }\n    //  map \n    ATTRIBUTE_MAP[type.toLowerCase()] = ctor;\n};\nexports.registerAttribute = registerAttribute;\ntslib_1.__exportStar(require(\"./interface\"), exports);\n//# sourceMappingURL=factory.js.map","import { __extends } from \"tslib\";\nimport { isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * identity scalescale/invert\n * Rhttps://github.com/r-lib/scales/blob/master/R/pal-identity.r\n * d3https://github.com/d3/d3-scale/blob/master/src/identity.js\n */\nvar Identity = /** @class */ (function (_super) {\n    __extends(Identity, _super);\n    function Identity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'identity';\n        _this.isIdentity = true;\n        return _this;\n    }\n    Identity.prototype.calculateTicks = function () {\n        return this.values;\n    };\n    Identity.prototype.scale = function (value) {\n        //  identity  dodge\n        if (this.values[0] !== value && isNumber(value)) {\n            return value;\n        }\n        return this.range[0];\n    };\n    Identity.prototype.invert = function (value) {\n        var range = this.range;\n        if (value < range[0] || value > range[1]) {\n            return NaN;\n        }\n        return this.values[0];\n    };\n    return Identity;\n}(Base));\nexport default Identity;\n//# sourceMappingURL=index.js.map","import { head, indexOf, last, map, size } from '@antv/util';\nexport var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport var ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100;\n// https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n    var n = size(Q);\n    var i = indexOf(Q, q);\n    var v = 0;\n    var m = mod(lmin, lstep);\n    if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n    }\n    return 1 - i / (n - 1) - j + v;\n}\nfunction simplicityMax(q, Q, j) {\n    var n = size(Q);\n    var i = indexOf(Q, q);\n    var v = 1;\n    return 1 - i / (n - 1) - j + v;\n}\nfunction density(k, m, dmin, dmax, lmin, lmax) {\n    var r = (k - 1) / (lmax - lmin);\n    var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n    return 2 - Math.max(r / rt, rt / r);\n}\nfunction densityMax(k, m) {\n    if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n    }\n    return 1;\n}\nfunction coverage(dmin, dmax, lmin, lmax) {\n    var range = dmax - dmin;\n    return 1 - (0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2))) / Math.pow(0.1 * range, 2);\n}\nfunction coverageMax(dmin, dmax, span) {\n    var range = dmax - dmin;\n    if (span > range) {\n        var half = (span - range) / 2;\n        return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n    }\n    return 1;\n}\nfunction legibility() {\n    return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dmin \n * @param dmax \n * @param m tick\n * @param onlyLoose minmax[3, 97]\n * @param Q nice numbers\n * @param w \n */\nexport default function extended(dmin, dmax, m, onlyLoose, Q, w) {\n    if (m === void 0) { m = 5; }\n    if (onlyLoose === void 0) { onlyLoose = true; }\n    if (Q === void 0) { Q = DEFAULT_Q; }\n    if (w === void 0) { w = [0.25, 0.2, 0.5, 0.05]; }\n    if (dmin === dmax || m === 1) {\n        return {\n            min: dmin,\n            max: dmax,\n            ticks: [dmin],\n        };\n    }\n    var best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0,\n    };\n    var j = 1;\n    while (j < Infinity) {\n        for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n            var q = Q_1[_i];\n            var sm = simplicityMax(q, Q, j);\n            if (Number.isNaN(sm)) {\n                throw new Error('NaN');\n            }\n            if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n                j = Infinity;\n                break;\n            }\n            var k = 2;\n            while (k < Infinity) {\n                var dm = densityMax(k, m);\n                if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n                    break;\n                }\n                var delta = (dmax - dmin) / (k + 1) / j / q;\n                var z = Math.ceil(Math.log10(delta));\n                while (z < Infinity) {\n                    var step = j * q * Math.pow(10, z);\n                    var cm = coverageMax(dmin, dmax, step * (k - 1));\n                    if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                        break;\n                    }\n                    var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n                    var maxStart = Math.ceil(dmin / step) * j;\n                    if (minStart > maxStart) {\n                        z = z + 1;\n                        continue;\n                    }\n                    for (var start = minStart; start <= maxStart; start = start + 1) {\n                        var lmin = start * (step / j);\n                        var lmax = lmin + step * (k - 1);\n                        var lstep = step;\n                        var s = simplicity(q, Q, j, lmin, lmax, lstep);\n                        var c = coverage(dmin, dmax, lmin, lmax);\n                        var g = density(k, m, dmin, dmax, lmin, lmax);\n                        var l = legibility();\n                        var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n                        if (score > best.score && (!onlyLoose || (lmin <= dmin && lmax >= dmax))) {\n                            best.lmin = lmin;\n                            best.lmax = lmax;\n                            best.lstep = lstep;\n                            best.score = score;\n                        }\n                    }\n                    z = z + 1;\n                }\n                k = k + 1;\n            }\n        }\n        j = j + 1;\n    }\n    // \n    var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n    var range = [];\n    for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n        range.push(tick);\n    }\n    var ticks = toFixed ? map(range, function (x) { return Number.parseFloat(x.toFixed(toFixed)); }) : range;\n    return {\n        min: Math.min(dmin, head(ticks)),\n        max: Math.max(dmax, last(ticks)),\n        ticks: ticks,\n    };\n}\n//# sourceMappingURL=extended.js.map","import { filter, isNil, isNumber } from '@antv/util';\nimport extended from '../util/extended';\n/**\n *  ticks\n * @param cfg \n * @returns  ticks\n */\nexport default function calculateCatTicks(cfg) {\n    var values = cfg.values, tickInterval = cfg.tickInterval, tickCount = cfg.tickCount;\n    var ticks = values;\n    if (isNumber(tickInterval)) {\n        return filter(ticks, function (__, i) { return i % tickInterval === 0; });\n    }\n    var min = cfg.min, max = cfg.max;\n    if (isNil(min)) {\n        min = 0;\n    }\n    if (isNil(max)) {\n        max = values.length - 1;\n    }\n    if (isNumber(tickCount) && tickCount < max - min) {\n        // \n        // tslint:disable-next-line: no-shadowed-variable\n        var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var valid = filter(ticks_1, function (tick) { return tick >= min && tick <= max; });\n        return valid.map(function (index) { return values[index]; });\n    }\n    return values.slice(min, max + 1);\n}\n//# sourceMappingURL=cat.js.map","export default function d3Linear(cfg) {\n    var min = cfg.min, max = cfg.max, nice = cfg.nice, tickCount = cfg.tickCount;\n    var linear = new D3Linear();\n    linear.domain([min, max]);\n    if (nice) {\n        linear.nice(tickCount);\n    }\n    return linear.ticks(tickCount);\n}\nvar DEFAULT_COUNT = 5;\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\n// https://github.com/d3/d3-scale\nvar D3Linear = /** @class */ (function () {\n    function D3Linear() {\n        this._domain = [0, 1];\n    }\n    D3Linear.prototype.domain = function (domain) {\n        if (domain) {\n            this._domain = Array.from(domain, Number);\n            return this;\n        }\n        return this._domain.slice();\n    };\n    D3Linear.prototype.nice = function (count) {\n        var _a, _b;\n        if (count === void 0) { count = DEFAULT_COUNT; }\n        var d = this._domain.slice();\n        var i0 = 0;\n        var i1 = this._domain.length - 1;\n        var start = this._domain[i0];\n        var stop = this._domain[i1];\n        var step;\n        if (stop < start) {\n            _a = [stop, start], start = _a[0], stop = _a[1];\n            _b = [i1, i0], i0 = _b[0], i1 = _b[1];\n        }\n        step = tickIncrement(start, stop, count);\n        if (step > 0) {\n            start = Math.floor(start / step) * step;\n            stop = Math.ceil(stop / step) * step;\n            step = tickIncrement(start, stop, count);\n        }\n        else if (step < 0) {\n            start = Math.ceil(start * step) / step;\n            stop = Math.floor(stop * step) / step;\n            step = tickIncrement(start, stop, count);\n        }\n        if (step > 0) {\n            d[i0] = Math.floor(start / step) * step;\n            d[i1] = Math.ceil(stop / step) * step;\n            this.domain(d);\n        }\n        else if (step < 0) {\n            d[i0] = Math.ceil(start * step) / step;\n            d[i1] = Math.floor(stop * step) / step;\n            this.domain(d);\n        }\n        return this;\n    };\n    D3Linear.prototype.ticks = function (count) {\n        if (count === void 0) { count = DEFAULT_COUNT; }\n        return d3ArrayTicks(this._domain[0], this._domain[this._domain.length - 1], count || DEFAULT_COUNT);\n    };\n    return D3Linear;\n}());\nexport { D3Linear };\nfunction d3ArrayTicks(start, stop, count) {\n    var reverse;\n    var i = -1;\n    var n;\n    var ticks;\n    var step;\n    (stop = +stop), (start = +start), (count = +count);\n    if (start === stop && count > 0) {\n        return [start];\n    }\n    // tslint:disable-next-line\n    if ((reverse = stop < start)) {\n        (n = start), (start = stop), (stop = n);\n    }\n    // tslint:disable-next-line\n    if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) {\n        return [];\n    }\n    if (step > 0) {\n        start = Math.ceil(start / step);\n        stop = Math.floor(stop / step);\n        ticks = new Array((n = Math.ceil(stop - start + 1)));\n        while (++i < n) {\n            ticks[i] = (start + i) * step;\n        }\n    }\n    else {\n        start = Math.floor(start * step);\n        stop = Math.ceil(stop * step);\n        ticks = new Array((n = Math.ceil(start - stop + 1)));\n        while (++i < n) {\n            ticks[i] = (start - i) / step;\n        }\n    }\n    if (reverse) {\n        ticks.reverse();\n    }\n    return ticks;\n}\nfunction tickIncrement(start, stop, count) {\n    var step = (stop - start) / Math.max(0, count);\n    var power = Math.floor(Math.log(step) / Math.LN10);\n    var error = step / Math.pow(10, power);\n    return power >= 0\n        ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n        : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n//# sourceMappingURL=d3-linear.js.map","import { fixedBase } from '@antv/util';\nfunction snapMultiple(v, base, snapType) {\n    var div;\n    if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n    }\n    else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n    }\n    else {\n        div = Math.round(v / base);\n    }\n    return div * base;\n}\nexport default function intervalTicks(min, max, interval) {\n    //  interval \n    var minTick = snapMultiple(min, interval, 'floor');\n    var maxTick = snapMultiple(max, interval, 'ceil');\n    // \n    minTick = fixedBase(minTick, interval);\n    maxTick = fixedBase(maxTick, interval);\n    var ticks = [];\n    for (var i = minTick; i <= maxTick; i = i + interval) {\n        var tickValue = fixedBase(i, interval); // \n        ticks.push(tickValue);\n    }\n    return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n    };\n}\n//# sourceMappingURL=interval.js.map","import { isNil } from '@antv/util';\n/**\n *  minLimit/maxLimit/tickCount  ticks\n *\n * @param cfg Scale \n * @return ticks\n */\nexport default function strictLimit(cfg, defaultMin, defaultMax) {\n    var _a;\n    var minLimit = cfg.minLimit, maxLimit = cfg.maxLimit, min = cfg.min, max = cfg.max, _b = cfg.tickCount, tickCount = _b === void 0 ? 5 : _b;\n    var tickMin = isNil(minLimit) ? (isNil(defaultMin) ? min : defaultMin) : minLimit;\n    var tickMax = isNil(maxLimit) ? (isNil(defaultMax) ? max : defaultMax) : maxLimit;\n    if (tickMin > tickMax) {\n        _a = [tickMin, tickMax], tickMax = _a[0], tickMin = _a[1];\n    }\n    if (tickCount <= 2) {\n        return [tickMin, tickMax];\n    }\n    var step = (tickMax - tickMin) / (tickCount - 1);\n    var ticks = [];\n    for (var i = 0; i < tickCount; i++) {\n        ticks.push(tickMin + step * i);\n    }\n    return ticks;\n}\n//# sourceMappingURL=strict-limit.js.map","export default function pretty(min, max, n) {\n    if (n === void 0) { n = 5; }\n    var res = {\n        max: 0,\n        min: 0,\n        ticks: [],\n    };\n    /*\n      R pretty:\n      https://svn.r-project.org/R/trunk/src/appl/pretty.c\n      https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n      */\n    var h = 1.5; // high.u.bias\n    var h5 = 0.5 + 1.5 * h; // u5.bias\n    // \n    var d = max - min;\n    var c = d / n;\n    // d\n    // const min_n = Math.floor(n / 3);\n    // const shrink_sml = Math.pow(2, 5);\n    // if (Math.log10(d) < -2) {\n    //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n    // }\n    var base = Math.pow(10, Math.floor(Math.log10(c)));\n    var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n    var unit = base;\n    if (2 * base - c < h * (c - unit)) {\n        unit = 2 * base;\n        if (5 * base - c < h5 * (c - unit)) {\n            unit = 5 * base;\n            if (10 * base - c < h * (c - unit)) {\n                unit = 10 * base;\n            }\n        }\n    }\n    var nu = Math.ceil(max / unit);\n    var ns = Math.floor(min / unit);\n    res.max = Math.max(nu * unit, max);\n    res.min = Math.min(ns * unit, min);\n    var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n    while (x < max) {\n        res.ticks.push(x);\n        x += unit;\n        if (toFixed) {\n            x = Number.parseFloat(x.toFixed(toFixed));\n        }\n    }\n    res.ticks.push(x);\n    return res;\n}\n//# sourceMappingURL=pretty.js.map","/**\n *  https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n * @param x  \n * @param p  \n */\nfunction quantileSorted(x, p) {\n    var idx = x.length * p;\n    /*if (x.length === 0) { // \n      throw new Error('quantile requires at least one value.');\n    } else if (p < 0 || p > 1) {\n      throw new Error('quantiles must be between 0 and 1');\n    } else */\n    if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n    }\n    else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n    }\n    else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n    }\n    else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n    }\n    else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n    }\n}\nexport default function calculateTicks(cfg) {\n    var tickCount = cfg.tickCount, values = cfg.values;\n    if (!values || !values.length) {\n        return [];\n    }\n    var sorted = values.slice().sort(function (a, b) {\n        return a - b;\n    });\n    var ticks = [];\n    for (var i = 0; i < tickCount; i++) {\n        var p = i / (tickCount - 1);\n        ticks.push(quantileSorted(sorted, p));\n    }\n    return ticks;\n}\n//# sourceMappingURL=quantile.js.map","import { DAY, HOUR, MINUTE, MONTH, SECOND, YEAR } from '../util/time';\nfunction getYear(date) {\n    return new Date(date).getFullYear();\n}\nfunction createYear(year) {\n    return new Date(year, 0, 1).getTime();\n}\nfunction getMonth(date) {\n    return new Date(date).getMonth();\n}\nfunction diffMonth(min, max) {\n    var minYear = getYear(min);\n    var maxYear = getYear(max);\n    var minMonth = getMonth(min);\n    var maxMonth = getMonth(max);\n    return (maxYear - minYear) * 12 + ((maxMonth - minMonth) % 12);\n}\nfunction creatMonth(year, month) {\n    return new Date(year, month, 1).getTime();\n}\nfunction diffDay(min, max) {\n    return Math.ceil((max - min) / DAY);\n}\nfunction diffHour(min, max) {\n    return Math.ceil((max - min) / HOUR);\n}\nfunction diffMinus(min, max) {\n    return Math.ceil((max - min) / (60 * 1000));\n}\n/**\n *  time  ticks month, year  pretty \n * @param cfg \n * @returns  ticks\n */\nexport default function timePretty(cfg) {\n    var min = cfg.min, max = cfg.max, minTickInterval = cfg.minTickInterval;\n    var tickInterval = cfg.tickInterval;\n    var tickCount = cfg.tickCount;\n    var ticks = [];\n    //  tickInterval  tickCount \n    if (!tickInterval) {\n        tickInterval = (max - min) / tickCount;\n        // \n        if (minTickInterval && tickInterval < minTickInterval) {\n            tickInterval = minTickInterval;\n        }\n    }\n    var minYear = getYear(min);\n    //  1 \n    if (tickInterval > YEAR) {\n        var maxYear = getYear(max);\n        var yearInterval = Math.ceil(tickInterval / YEAR);\n        for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n            ticks.push(createYear(i));\n        }\n    }\n    else if (tickInterval > MONTH) {\n        // \n        var monthInterval = Math.ceil(tickInterval / MONTH);\n        var mmMoth = getMonth(min);\n        var dMonths = diffMonth(min, max);\n        for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n            ticks.push(creatMonth(minYear, i + mmMoth));\n        }\n    }\n    else if (tickInterval > DAY) {\n        // \n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var mday = date.getDate();\n        var day = Math.ceil(tickInterval / DAY);\n        var ddays = diffDay(min, max);\n        for (var i = 0; i < ddays + day; i = i + day) {\n            ticks.push(new Date(year, month, mday + i).getTime());\n        }\n    }\n    else if (tickInterval > HOUR) {\n        // \n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var day = date.getDate();\n        var hour = date.getHours();\n        var hours = Math.ceil(tickInterval / HOUR);\n        var dHours = diffHour(min, max);\n        for (var i = 0; i <= dHours + hours; i = i + hours) {\n            ticks.push(new Date(year, month, day, hour + i).getTime());\n        }\n    }\n    else if (tickInterval > MINUTE) {\n        // \n        var dMinus = diffMinus(min, max);\n        var minutes = Math.ceil(tickInterval / MINUTE);\n        for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n            ticks.push(min + i * MINUTE);\n        }\n    }\n    else {\n        // \n        var interval = tickInterval;\n        if (interval < SECOND) {\n            interval = SECOND;\n        }\n        var minSecond = Math.floor(min / SECOND) * SECOND;\n        var dSeconds = Math.ceil((max - min) / SECOND);\n        var seconds = Math.ceil(interval / SECOND);\n        for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n            ticks.push(minSecond + i * SECOND);\n        }\n    }\n    return ticks;\n}\n//# sourceMappingURL=time-pretty.js.map","import cat from './cat';\nimport d3Linear from './d3-linear';\nimport linear from './linear';\nimport log from './log';\nimport pow from './pow';\nimport quantile from './quantile';\nimport rPretty from './r-prettry';\nimport { getTickMethod, registerTickMethod } from './register';\nimport time from './time';\nimport timeCat from './time-cat';\nimport timePretty from './time-pretty';\nregisterTickMethod('cat', cat);\nregisterTickMethod('time-cat', timeCat);\nregisterTickMethod('wilkinson-extended', linear);\nregisterTickMethod('r-pretty', rPretty);\nregisterTickMethod('time', time);\nregisterTickMethod('time-pretty', timePretty);\nregisterTickMethod('log', log);\nregisterTickMethod('pow', pow);\nregisterTickMethod('quantile', quantile);\nregisterTickMethod('d3-linear', d3Linear);\nexport { getTickMethod };\n//# sourceMappingURL=index.js.map","import { last } from '@antv/util';\nimport catTicks from './cat';\n/**\n *  ticks, \n * @param cfg \n * @returns  ticks\n */\nexport default function calculateTimeCatTicks(cfg) {\n    var ticks = catTicks(cfg);\n    var lastValue = last(cfg.values);\n    if (lastValue !== last(ticks)) {\n        ticks.push(lastValue);\n    }\n    return ticks;\n}\n//# sourceMappingURL=time-cat.js.map","import { head, isNil, last } from '@antv/util';\nimport extended from '../util/extended';\nimport interval from '../util/interval';\nimport strictLimit from '../util/strict-limit';\n/**\n *  ticks wilkinson extended \n * @param cfg \n * @returns  ticks\n */\nexport default function linear(cfg) {\n    var min = cfg.min, max = cfg.max, tickCount = cfg.tickCount, nice = cfg.nice, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = extended(min, max, tickCount, nice).ticks;\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=linear.js.map","import { head, isNil, last } from '@antv/util';\nimport interval from '../util/interval';\nimport pretty from '../util/pretty';\nimport strictLimit from '../util/strict-limit';\n/**\n *  ticks R's pretty \n * @param cfg \n * @returns  ticks\n */\nexport default function linearPretty(cfg) {\n    var min = cfg.min, max = cfg.max, tickCount = cfg.tickCount, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = pretty(min, max, tickCount).ticks;\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=r-prettry.js.map","import { getTickInterval } from '../util/time';\nexport default function calculateTimeTicks(cfg) {\n    var min = cfg.min, max = cfg.max, minTickInterval = cfg.minTickInterval;\n    var tickInterval = cfg.tickInterval;\n    var tickCount = cfg.tickCount;\n    //  tickInterval  tickCount \n    if (tickInterval) {\n        tickCount = Math.ceil((max - min) / tickInterval);\n    }\n    else {\n        tickInterval = getTickInterval(min, max, tickCount)[1];\n        var count = (max - min) / tickInterval;\n        var ratio = count / tickCount;\n        if (ratio > 1) {\n            tickInterval = tickInterval * Math.ceil(ratio);\n        }\n        // \n        if (minTickInterval && tickInterval < minTickInterval) {\n            tickInterval = minTickInterval;\n        }\n    }\n    var ticks = [];\n    for (var i = min; i < max + tickInterval; i += tickInterval) {\n        ticks.push(i);\n    }\n    return ticks;\n}\n//# sourceMappingURL=time.js.map","import { getLogPositiveMin, log } from '../util/math';\n/**\n *  log  ticks min = 0 \n * @param cfg \n * @returns  ticks\n */\nexport default function calculateLogTicks(cfg) {\n    var base = cfg.base, tickCount = cfg.tickCount, min = cfg.min, max = cfg.max, values = cfg.values;\n    var minTick;\n    var maxTick = log(base, max);\n    if (min > 0) {\n        minTick = Math.floor(log(base, min));\n    }\n    else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n    }\n    var count = maxTick - minTick;\n    var avg = Math.ceil(count / tickCount);\n    var ticks = [];\n    for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n    }\n    if (min <= 0) {\n        //  <= 0  0\n        ticks.unshift(0);\n    }\n    return ticks;\n}\n//# sourceMappingURL=log.js.map","import { calBase } from '../util/math';\nimport pretty from '../util/pretty';\n/**\n *  Pow  ticks\n * @param cfg \n * @returns  ticks\n */\nexport default function calculatePowTicks(cfg) {\n    var exponent = cfg.exponent, tickCount = cfg.tickCount;\n    var max = Math.ceil(calBase(exponent, cfg.max));\n    var min = Math.floor(calBase(exponent, cfg.min));\n    var ticks = pretty(min, max, tickCount).ticks;\n    return ticks.map(function (tick) {\n        var factor = tick >= 0 ? 1 : -1;\n        return Math.pow(tick, exponent) * factor;\n    });\n}\n//# sourceMappingURL=pow.js.map","import { head, isNil, last } from '@antv/util';\nimport d3Linear from '../util/d3-linear';\nimport interval from '../util/interval';\nimport strictLimit from '../util/strict-limit';\nexport default function d3LinearTickMethod(cfg) {\n    var min = cfg.min, max = cfg.max, tickInterval = cfg.tickInterval, minLimit = cfg.minLimit, maxLimit = cfg.maxLimit;\n    var ticks = d3Linear(cfg);\n    if (!isNil(minLimit) || !isNil(maxLimit)) {\n        return strictLimit(cfg, head(ticks), last(ticks));\n    }\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return ticks;\n}\n//# sourceMappingURL=d3-linear.js.map","import { vec3 } from '@antv/matrix-util';\nimport { each, clone } from '@antv/util';\n\nfunction magnitude(v) {\n  let sum = 0;\n  each(v, (value) => {\n    sum += value * value;\n  });\n  return Math.sqrt(sum);\n}\n\nfunction dotProduct2D(va, vb) {\n  return va.x * vb.y + va.y * vb.x;\n}\n\nfunction angleTo(va, vb) {\n  const magA = magnitude(va);\n  const magB = magnitude(vb);\n  const dot = dotProduct2D(va, vb);\n  const angle = Math.acos(dot / magA / magB);\n  return angle;\n}\n\nfunction crossProduct2D(va, vb) {\n  const magA = magnitude(va);\n  const magB = magnitude(vb);\n  const dot = dotProduct2D(va, vb);\n  const angle = Math.acos(dot / magA / magB);\n  return magA * magB * Math.sin(angle);\n}\n\nfunction crossProduct3D(va, vb) {\n  const ax = va.x,\n    ay = va.y,\n    az = va.z;\n  const bx = vb.x,\n    by = vb.y,\n    bz = vb.z;\n\n  const x = ay * bz - az * by;\n  const y = az * bx - ax * bz;\n  const z = ax * by - ay * bx;\n\n  return { x, y, z };\n}\n\nfunction sub2D(va, vb) {\n  return { x: va.x - vb.x, y: va.y - vb.y };\n}\n\nfunction applyMatrix(point, matrix, tag = 1) {\n  const vector: [number, number, number] = [point.x, point.y, tag];\n  vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1],\n  };\n}\n\nfunction isBetween(value, min, max) {\n  return value >= min && value <= max;\n}\n\nconst tolerance = 0.001;\n\nfunction getLineIntersect(p0, p1, p2, p3) {\n  const E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y,\n  };\n  const D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y,\n  };\n  const D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y,\n  };\n  const kross = D0.x * D1.y - D0.y * D1.x;\n  const sqrKross = kross * kross;\n  const sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  const sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n  let point = null;\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    const s = (E.x * D1.y - E.y * D1.x) / kross;\n    const t = (E.x * D0.y - E.y * D0.x) / kross;\n    if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n      point = {\n        x: p0.x + s * D0.x,\n        y: p0.y + s * D0.y,\n      };\n    }\n  }\n  return point;\n}\n\nfunction isPointInPolygon(p, polygon) {\n  /**  */\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n\n    const intersect = yi > p.y !== yj > p.y && p.x <= ((xj - xi) * (p.y - yi)) / (yj - yi) + xi;\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n  return inside;\n}\n\nfunction sqr(v) {\n  return v * v;\n}\n\nfunction dist2(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPoints(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPointLine(p, p1, p2) {\n  const l2 = dist2(p1, p2);\n  if (l2 === 0) {\n    return dist2(p, p1);\n  }\n  let t = ((p.x - p1.x) * (p2.x - p1.x) + (p.y - p1.y) * (p2.y - p1.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  const distSquare = dist2(p, { x: p1.x + t * (p2.x - p1.x), y: p1.y + t * (p2.y - p1.y) });\n  return Math.sqrt(distSquare);\n}\n\n// todo https://blog.csdn.net/WilliamSun0122/article/details/77994526\nfunction minDistBetweenPointPolygon(p, polygon) {\n  let min = Infinity;\n  /** vertice to vertice */\n  each(polygon, (v) => {\n    const dist = Math.sqrt(dist2(v, p));\n    if (min > dist) {\n      min = dist;\n    }\n  });\n  /** vertice to edge */\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    const dist = distBetweenPointLine(p, { x: xi, y: yi }, { x: xj, y: yj });\n    if (min > dist) {\n      min = dist;\n    }\n  }\n\n  return min;\n}\n\nfunction isPolygonIntersection(polyA, polyB) {\n  for (const p of polyA) {\n    const inside = isPointInPolygon(p, polyB);\n    if (inside) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction minDistBetweenConvexPolygon(polyA, polyB) {\n  if (isPolygonIntersection(polyA, polyB)) {\n    return 0;\n  }\n  let minA = Infinity;\n  let minB = Infinity;\n  each(polyA, (v) => {\n    const localMin = minDistBetweenPointPolygon(v, polyB);\n    if (minA > localMin) {\n      minA = localMin;\n    }\n  });\n  each(polyB, (v) => {\n    const localMin = minDistBetweenPointPolygon(v, polyA);\n    if (minB > localMin) {\n      minB = localMin;\n    }\n  });\n\n  return Math.min(minA, minB);\n}\n\nfunction bboxOnRotate(shape) {\n  const bbox = shape.getBBox();\n  const x = bbox.minX;\n  const y = bbox.minY;\n  /*\n   * step1: shape\n   * apply\n   * \n   */\n  const bboxWidth = bbox.maxX - bbox.minX;\n  const bboxHeight = bbox.maxY - bbox.minY;\n  // const matrix = shape.getTotalMatrix();\n  const matrix = shape.attr('matrix');\n  let ulMatrix;\n  if (matrix) {\n    ulMatrix = [matrix[0], matrix[1], 0, matrix[3], matrix[4], 0, 0, 0, 1];\n  } else {\n    ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  }\n  const top_left = applyMatrix({ x: 0, y: 0 }, ulMatrix);\n  top_left.x += x;\n  top_left.y += y;\n  const top_right = applyMatrix({ x: bboxWidth, y: 0 }, ulMatrix);\n  top_right.x += x;\n  top_right.y += y;\n  const bottom_left = applyMatrix({ x: 0, y: bboxHeight }, ulMatrix);\n  bottom_left.x += x;\n  bottom_left.y += y;\n  const bottom_right = applyMatrix({ x: bboxWidth, y: bboxHeight }, ulMatrix);\n  bottom_right.x += x;\n  bottom_right.y += y;\n  /** step2 */\n  const points = [top_left, top_right, bottom_left, bottom_right];\n  points.sort((a, b) => {\n    return a.y - b.y;\n  });\n  const minY = points[0].y;\n  const maxY = points[points.length - 1].y;\n  const tops = [points[0], points[1]];\n  const bottoms = [points[2], points[3]];\n  const topLeft = tops[0].x < tops[1].x ? tops[0] : tops[1];\n  const topRight = tops[0].x < tops[1].x ? tops[1] : tops[0];\n  const bottomLeft = bottoms[0].x < bottoms[1].x ? bottoms[0] : bottoms[1];\n  const bottomRight = bottoms[0].x < bottoms[1].x ? bottoms[1] : bottoms[0];\n  points.sort((a, b) => {\n    return a.x - b.x;\n  });\n  const minX = points[0].x;\n  const maxX = points[points.length - 1].x;\n  const node = {\n    width: maxX - minX,\n    height: maxY - minY,\n    left: minX,\n    right: maxX,\n    top: minY,\n    bottom: maxY,\n    topLeft,\n    topRight,\n    bottomLeft,\n    bottomRight,\n    centerX: minX + (maxX - minX) / 2,\n    centerY: minY + (maxY - minY) / 2,\n    // shape\n  };\n  return node;\n}\n\n/**\n * \n */\n\nconst THRESHOLD = 2;\n\nfunction lineSimplification(points) {\n  if (points.length < 5) {\n    return points;\n  }\n  return DouglasPeucker(points, THRESHOLD);\n}\n\n// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\nfunction DouglasPeucker(points, threshold) {\n  let result;\n  let max = -Infinity;\n  let index = 0;\n  const endIndex = points.length - 1;\n  for (let i = 1; i < endIndex; i++) {\n    const point = points[i];\n    const line = { start: points[0], end: points[endIndex] };\n    const dist = distBetweenPointLine(point, line.start, line.end);\n    if (dist > max) {\n      max = dist;\n      index = i;\n    }\n  }\n\n  if (max > threshold) {\n    const list1 = DouglasPeucker(points.slice(0, index + 1), threshold);\n    const list2 = DouglasPeucker(points.slice(index, points.length), threshold);\n    result = list1.concat(list2);\n  } else {\n    result = [points[0], points[points.length - 1]];\n  }\n  return result;\n}\n\n/**  */\nfunction getMedian(array) {\n  const list = clone(array);\n  list.sort((a, b) => {\n    return a - b;\n  });\n\n  const half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return (list[half - 1] + list[half]) / 2.0;\n}\n\nfunction getMean(array) {\n  let sum: number = 0;\n  each(array, (num: number) => {\n    sum += num;\n  });\n  return sum / array.length;\n}\n\nfunction sturges(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n\nexport {\n  applyMatrix,\n  isBetween,\n  getLineIntersect,\n  isPointInPolygon,\n  distBetweenPoints,\n  distBetweenPointLine,\n  isPolygonIntersection,\n  minDistBetweenConvexPolygon,\n  bboxOnRotate,\n  dotProduct2D,\n  crossProduct2D,\n  crossProduct3D,\n  sub2D,\n  angleTo,\n  lineSimplification,\n  getMedian,\n  getMean,\n  sturges,\n  dist2,\n};\n\n/**\n *  x/y/width/heightBBoxstep\n * @param x\n * @param y\n * @param width\n * @param height\n * @param step\n */\nexport function getStrokePoints(x: number, y: number, width: number, height: number, step = 2) {\n  const points: Array<[number, number]> = [];\n  // top\n  for (let curX = x; curX <= x + width; curX += step) {\n    points.push([curX, y]);\n  }\n  // right\n  for (let curY = y; curY <= y + height; curY += step) {\n    points.push([x + width, curY]);\n  }\n  // bottom\n  for (let curX = x + width; curX >= x; curX -= step) {\n    points.push([curX, y + height]);\n  }\n  // left\n  for (let curY = y + height; curY >= y; curY -= step) {\n    points.push([x, curY]);\n  }\n  return points;\n}\n","// components parser\nimport AxisParser from './axis/parser';\nimport GuideLine from './guide-line';\nimport LabelParser from './label/parser';\n\n// components state methods\nimport axisState from './axis/state';\nimport labelState from './label/state';\nimport tooltipState from './tooltip/state';\n\ntype FirstArgs<T> = T extends new (first: infer U) => any ? U : never;\n\nconst COMPONENT_MAPPER = {\n  axis: AxisParser,\n  label: LabelParser,\n  guideLine: GuideLine,\n};\n\nconst STATE_MAPPER = {\n  tooltip: tooltipState,\n  label: labelState,\n  axis: axisState,\n};\n\nexport function getComponent<K extends keyof typeof COMPONENT_MAPPER>(\n  name: K,\n  cfg: FirstArgs<typeof COMPONENT_MAPPER[K]>\n) {\n  const Components = COMPONENT_MAPPER[name];\n  return new Components(cfg).config;\n}\n\nexport function getComponentStateMethod(name, type) {\n  return STATE_MAPPER[name][type];\n}\n","import { isNil, isNumber, filter } from '@antv/util';\nimport { timeIntervals } from '../interface/config';\nimport { ScaleConfig } from '@antv/scale';\n\nfunction adjustTimeTickInterval(interval: string) {\n  const intervals = timeIntervals;\n  const intervalArr = interval.split(' ');\n  const basicInterval = intervals[intervalArr[1]];\n  const intervalCount = parseInt(intervalArr[0], 10);\n  return [basicInterval.format, intervalCount * basicInterval.value];\n}\n\nexport function extractScale(desScale, axisConfig) {\n  if (!axisConfig) {\n    return desScale;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickCount')) {\n    desScale.tickCount = axisConfig.tickCount;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'type')) {\n    // fixme: dateTime plot\n    if (axisConfig.type !== 'dateTime') {\n      desScale.type = axisConfig.type;\n    }\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickInterval')) {\n    if (axisConfig.type === 'time') {\n      desScale.tickInterval = adjustTimeTickInterval(axisConfig.tickInterval);\n    } else {\n      desScale.tickInterval = axisConfig.tickInterval;\n    }\n  }\n\n  if (axisConfig.type === 'time' && axisConfig.mask) {\n    desScale.mask = axisConfig.mask;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'min')) {\n    desScale.min = axisConfig.min;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'max')) {\n    desScale.max = axisConfig.max;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'minLimit')) {\n    desScale.minLimit = axisConfig.minLimit;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'maxLimit')) {\n    desScale.maxLimit = axisConfig.maxLimit;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'nice')) {\n    desScale.nice = axisConfig.nice;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'formatter')) {\n    desScale.formatter = axisConfig.formatter;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'exponent')) {\n    desScale.exponent = axisConfig.exponent;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'base')) {\n    desScale.base = axisConfig.base;\n  }\n  if (axisConfig.tickMethod) {\n    desScale.tickMethod = axisConfig.tickMethod;\n  }\n}\n\nexport function trySetScaleMinToZero(desScale: ScaleConfig, data: (number | number[] | string | undefined | null)[]) {\n  const validData: number[] = filter(data, (v) => isNumber(v)) as number[];\n  const min = Math.min(...validData);\n  const max = Math.max(...validData);\n\n  if (min > 0) {\n    if (isNil(desScale.min)) {\n      desScale.min = 0;\n    }\n  } else if (max < 0) {\n    if (isNil(desScale.max)) {\n      desScale.max = 0;\n    }\n  }\n}\n","import { head, filter, map, some } from '@antv/util';\nimport { View, Geometry, Element, IShape, IGroup, IElement, MappingDatum, ORIGIN } from '../dependents';\nimport BBox from '../util/bbox';\n\nexport function getAllGeometryByType(view: View, type: string): Geometry[] {\n  return filter(view.geometries, (geometry: Geometry) => geometry.type === type);\n}\n\nexport function getGeometryByType(view: View, type: string): Geometry | undefined {\n  return head(getAllGeometryByType(view, type));\n}\n\nexport function getGeometryShapes(geometry: Geometry): (IShape | IGroup)[] {\n  return map(geometry.elements, (element: Element) => element.shape);\n}\n\n/** Shape`` */\nexport function checkOriginEqual(\n  cur: IElement,\n  dones: IElement[],\n  compare: (a: MappingDatum, b: MappingDatum) => boolean\n) {\n  return some(dones, (done) => {\n    return compare(done.get(ORIGIN), cur.get(ORIGIN));\n  });\n}\n\n/** labelpanel */\nexport function moveInPanel(shape: IElement, panel: BBox) {\n  const box = shape.getBBox();\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (box.minX < panel.minX) {\n    deltaX = box.minX - panel.minX;\n  } else if (box.maxX > panel.maxX) {\n    deltaX = box.maxX - panel.maxX;\n  }\n  if (deltaX) {\n    shape.attr('x', shape.attr('x') - deltaX);\n  }\n\n  if (box.minY < panel.minY) {\n    deltaY = box.minY - panel.minY;\n  } else if (box.maxY > panel.maxY) {\n    deltaY = box.maxY - panel.maxY;\n  }\n  if (deltaY) {\n    shape.attr('y', shape.attr('y') - deltaY);\n  }\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { each } from '@antv/util';\n\nexport function rgb2arr(str: string) {\n  const colorStr: string = str.indexOf('#') === 0 ? str.substr(1) : str;\n  const arr = [];\n  arr.push(parseInt(colorStr.substr(0, 2), 16));\n  arr.push(parseInt(colorStr.substr(2, 2), 16));\n  arr.push(parseInt(colorStr.substr(4, 2), 16));\n  return arr;\n}\n\nexport function toHex(value) {\n  let v;\n  v = Math.round(value);\n  v = v.toString(16);\n  if (v.length === 1) {\n    v = `0${value}`;\n  }\n  return v;\n}\n\nexport function arr2rgb(arr) {\n  return `#${toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2])}`;\n}\n\nexport function mappingColor(band, gray) {\n  let reflect;\n  each(band, (b) => {\n    const map = b;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\n// YIQ\n// http://24ways.org/2010/calculating-color-contrast\nexport const isContrastColorWhite = (rgb: string): boolean => {\n  const [r, g, b] = rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction minNum(array) {\n    return Math.min.apply(null, array);\n}\nfunction maxNum(array) {\n    return Math.max.apply(null, array);\n}\n/**\n * \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n * @return {number} \n */\nfunction distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexports.distance = distance;\nfunction isNumberEqual(v1, v2) {\n    return Math.abs(v1 - v2) < 0.001;\n}\nexports.isNumberEqual = isNumberEqual;\nfunction getBBoxByArray(xArr, yArr) {\n    var minX = minNum(xArr);\n    var minY = minNum(yArr);\n    var maxX = maxNum(xArr);\n    var maxY = maxNum(yArr);\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexports.getBBoxByArray = getBBoxByArray;\nfunction getBBoxRange(x1, y1, x2, y2) {\n    return {\n        minX: minNum([x1, x2]),\n        maxX: maxNum([x1, x2]),\n        minY: minNum([y1, y2]),\n        maxY: maxNum([y1, y2]),\n    };\n}\nexports.getBBoxRange = getBBoxRange;\nfunction piMod(angle) {\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\nexports.piMod = piMod;\n//# sourceMappingURL=util.js.map","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_Y = 0; //  y \n// \nexports.MARGIN_RATIO = 1 / 2;\nexports.DODGE_RATIO = 1 / 2;\n// \nexports.GAP = 0.05;\n//# sourceMappingURL=constant.js.map","import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n","import { toArray } from '@antv/util';\nimport { SHAPE_TO_TAGS } from '../constant';\n/**\n *  svg \n * @param type svg\n */\nexport function createSVGElement(type) {\n    return document.createElementNS('http://www.w3.org/2000/svg', type);\n}\n/**\n *  dom \n * @param  {IShape} shape \n * @return {SVGElement}\n */\nexport function createDom(shape) {\n    var type = SHAPE_TO_TAGS[shape.type];\n    var parent = shape.getParent();\n    if (!type) {\n        throw new Error(\"the type \" + shape.type + \" is not supported by svg\");\n    }\n    var element = createSVGElement(type);\n    if (shape.get('id')) {\n        element.id = shape.get('id');\n    }\n    shape.set('el', element);\n    shape.set('attrs', {});\n    //  defs  dom parent  context  defs \n    if (parent) {\n        var parentNode = parent.get('el');\n        if (parentNode) {\n            parentNode.appendChild(element);\n        }\n        else {\n            // parentNode maybe null for group\n            parentNode = parent.createDom();\n            parent.set('el', parentNode);\n            parentNode.appendChild(element);\n        }\n    }\n    return element;\n}\n/**\n *  dom \n * @param {IElement} element  \n * @param {sorter}   function \n */\nexport function sortDom(element, sorter) {\n    var el = element.get('el');\n    var childList = toArray(el.children).sort(sorter);\n    // create empty fragment\n    var fragment = document.createDocumentFragment();\n    childList.forEach(function (child) {\n        fragment.appendChild(child);\n    });\n    el.appendChild(fragment);\n}\n/**\n *  dom \n * @param {SVGElement} element     dom \n * @param {number}     targetIndex ( 0 )\n */\nexport function moveTo(element, targetIndex) {\n    var parentNode = element.parentNode;\n    var siblings = Array.from(parentNode.childNodes).filter(\n    //  defs \n    function (node) { return node.nodeType === 1 && node.nodeName.toLowerCase() !== 'defs'; });\n    // \n    var target = siblings[targetIndex];\n    var currentIndex = siblings.indexOf(element);\n    // \n    if (target) {\n        //  > \n        if (currentIndex > targetIndex) {\n            parentNode.insertBefore(element, target);\n        }\n        else if (currentIndex < targetIndex) {\n            //  < \n            // \n            var targetNext = siblings[targetIndex + 1];\n            // \n            if (targetNext) {\n                parentNode.insertBefore(element, targetNext);\n            }\n            else {\n                // \n                parentNode.appendChild(element);\n            }\n        }\n    }\n    else {\n        parentNode.appendChild(element);\n    }\n}\n//# sourceMappingURL=dom.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/util\");\n// todo \nvar toScaleString = function (scale, value) {\n    if (util_1.isString(value)) {\n        return value;\n    }\n    return scale.invert(scale.scale(value));\n};\n/**\n * \n * @class Base\n */\nvar Attribute = /** @class */ (function () {\n    function Attribute(cfg) {\n        this.names = [];\n        this.scales = [];\n        this.linear = false;\n        this.values = [];\n        this.callback = function () { return []; };\n        // \n        this._parseCfg(cfg);\n    }\n    /**\n     * \n     * @param params  scale \n     */\n    Attribute.prototype.mapping = function () {\n        var _this = this;\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        var values = params.map(function (param, idx) {\n            return _this._toOriginParam(param, _this.scales[idx]);\n        });\n        return this.callback.apply(this, values);\n    };\n    /**\n     * \n     * @param percent\n     */\n    Attribute.prototype.getLinearValue = function (percent) {\n        // \n        var steps = this.values.length - 1;\n        var step = Math.floor(steps * percent);\n        var leftPercent = steps * percent - step;\n        // todo \n        var start = this.values[step];\n        var end = step === steps ? start : this.values[step + 1];\n        // \n        return start + (end - start) * leftPercent;\n    };\n    /**\n     * \n     */\n    Attribute.prototype.getNames = function () {\n        var scales = this.scales;\n        var names = this.names;\n        var length = Math.min(scales.length, names.length);\n        var rst = [];\n        for (var i = 0; i < length; i += 1) {\n            rst.push(names[i]);\n        }\n        return rst;\n    };\n    /**\n     * \n     */\n    Attribute.prototype.getFields = function () {\n        return this.scales.map(function (scale) { return scale.field; });\n    };\n    /**\n     * \n     * @param name\n     */\n    Attribute.prototype.getScale = function (name) {\n        return this.scales[this.names.indexOf(name)];\n    };\n    /**\n     *  callback callback  values \n     * @param params\n     */\n    Attribute.prototype.defaultCallback = function () {\n        var _this = this;\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        //  params  fields values \n        if (params.length === 0) {\n            return this.values;\n        }\n        return params.map(function (param, idx) {\n            var scale = _this.scales[idx];\n            return scale.type === 'identity' ? scale.values[0] : _this._getAttributeValue(scale, param);\n        });\n    };\n    // \n    Attribute.prototype._parseCfg = function (cfg) {\n        var _this = this;\n        var _a = cfg.type, type = _a === void 0 ? 'base' : _a, _b = cfg.names, names = _b === void 0 ? [] : _b, _c = cfg.scales, scales = _c === void 0 ? [] : _c, _d = cfg.values, values = _d === void 0 ? [] : _d, callback = cfg.callback;\n        this.type = type;\n        this.scales = scales;\n        this.values = values;\n        this.names = names;\n        //  callback \n        this.callback = function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            /**\n             *  callback  null ,  callback \n             */\n            if (callback) {\n                // \n                var ret = callback.apply(void 0, params);\n                if (!util_1.isNil(ret)) {\n                    return [ret];\n                }\n            }\n            //  callback  callback \n            return _this.defaultCallback.apply(_this, params);\n        };\n    };\n    // \n    Attribute.prototype._getAttributeValue = function (scale, value) {\n        //  values \n        if (scale.isCategory && !this.linear) {\n            //  scale \n            var idx = scale.translate(value);\n            return this.values[idx % this.values.length];\n        }\n        // \n        var percent = scale.scale(value);\n        return this.getLinearValue(percent);\n    };\n    /**\n     *  scale \n     * @param param\n     * @param scale\n     * @private\n     */\n    Attribute.prototype._toOriginParam = function (param, scale) {\n        // \n        //  scale \n        return !scale.isLinear\n            ? util_1.isArray(param)\n                ? param.map(function (p) { return toScaleString(scale, p); })\n                : toScaleString(scale, param)\n            : param;\n    };\n    return Attribute;\n}());\nexports.default = Attribute;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport colorUtil from '@antv/color-util';\nimport { isString } from '@antv/util';\nimport Attribute from './base';\nvar Color = /** @class */ (function (_super) {\n    __extends(Color, _super);\n    function Color(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'color';\n        _this.names = ['color'];\n        if (isString(_this.values)) {\n            _this.linear = true;\n        }\n        _this.gradient = colorUtil.gradient(_this.values);\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Color.prototype.getLinearValue = function (percent) {\n        return this.gradient(percent);\n    };\n    return Color;\n}(Attribute));\nexport default Color;\n//# sourceMappingURL=color.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Opacity = /** @class */ (function (_super) {\n    __extends(Opacity, _super);\n    function Opacity(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'opacity';\n        _this.names = ['opacity'];\n        return _this;\n    }\n    return Opacity;\n}(Attribute));\nexport default Opacity;\n//# sourceMappingURL=opacity.js.map","import { __extends } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nimport Attribute from './base';\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.names = ['x', 'y'];\n        _this.type = 'position';\n        return _this;\n    }\n    Position.prototype.mapping = function (x, y) {\n        var _a = this.scales, scaleX = _a[0], scaleY = _a[1];\n        if (isNil(x) || isNil(y)) {\n            return [];\n        }\n        return [\n            isArray(x) ? x.map(function (xi) { return scaleX.scale(xi); }) : scaleX.scale(x),\n            isArray(y) ? y.map(function (yi) { return scaleY.scale(yi); }) : scaleY.scale(y),\n        ];\n    };\n    return Position;\n}(Attribute));\nexport default Position;\n//# sourceMappingURL=position.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Shape = /** @class */ (function (_super) {\n    __extends(Shape, _super);\n    function Shape(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'shape';\n        _this.names = ['shape'];\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Shape.prototype.getLinearValue = function (percent) {\n        var idx = Math.round((this.values.length - 1) * percent);\n        return this.values[idx];\n    };\n    return Shape;\n}(Attribute));\nexport default Shape;\n//# sourceMappingURL=shape.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Size = /** @class */ (function (_super) {\n    __extends(Size, _super);\n    function Size(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'size';\n        _this.names = ['size'];\n        return _this;\n    }\n    return Size;\n}(Attribute));\nexport default Size;\n//# sourceMappingURL=size.js.map","/*  */\n\n// G\nexport { ICanvas, IElement, IGroup, IShape } from '@antv/g-base/lib/interfaces';\nexport { PathCommand, BBox, Point, ShapeAttrs } from '@antv/g-base/lib/types';\nexport { Event, AbstractGroup, AbstractShape } from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust/lib/factory';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr/lib/factory';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig } from '@antv/scale';\nexport { Tick } from '@antv/scale/lib/types';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n } from '@antv/component';\nexport { IComponent, IList } from '@antv/component/lib/interfaces';\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n} from '@antv/component/lib/types';\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { getScale, Scale } from '../dependents';\nimport { LooseObject, ScaleOption } from '../interface';\n\nconst dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'time';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  // \n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n","import { get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  return get(theme, ['components', 'axis', direction], {});\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map(\n      (facet): View => {\n        return this.facetToView(facet);\n      }\n    );\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    // x, y  100% \n    const xRatio = 1 / (cols === 0 ? 1 : cols);\n    const yRatio = 1 / (rows === 0 ? 1 : rows);\n\n    const start = {\n      x: xRatio * xIndex,\n      y: yRatio * yIndex,\n    };\n\n    const end = {\n      x: xRatio * (xIndex + 1),\n      y: yRatio * (yIndex + 1),\n    };\n\n    return {\n      start,\n      end,\n    };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      padding: 10,\n      fields: [],\n    }\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      }\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string) {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { each, isEmpty, isNumber, isNumberEqual } from '@antv/util';\nimport { Coordinate, IShape } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = (xs as number[]).length - 1;\n  let diff;\n  let k = 0;\n  while (++i < (xs as number[]).length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  keys.forEach((key: string) => {\n    delete obj[key];\n  });\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: object = {}) {\n  for (const source of sourceArray) {\n    if (!map[source]) {\n      targetArray.push(source);\n      map[source] = true;\n    }\n  }\n  return targetArray;\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\n\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n\n  const prePoint = {\n    x: pre[1],\n    y: pre[2],\n  };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { parsePadding } from './padding';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = parsePadding(gap);\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): number[] {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY]\n  ];\n}","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport isPolygonsIntersect  from '@antv/path-util/lib/is-polygons-intersect';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[]{\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath =  getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, {x: maskBBox.x, y: maskBBox.y});\n  const end = getSiblingPoint(view, sibling, {x: maskBBox.maxX, y: maskBBox.maxY});\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, subView => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter(el => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, seg => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for(let i = 1; i < seg.length; i = i+2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'))\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter(sub => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, r => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, subView => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape();//  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.view = null;\n    this.event = null;\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractonConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nfunction parseAction(actionStr: string, context: IInteractionContext): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName } = actionObject;\n  if (action[methodName]) {\n    action[methodName]();\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps) => {\n      each(subSteps, (step) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          step.actionObject = [];\n          each(actionArr, (actionStr) => {\n            step.actionObject.push(parseAction(actionStr, context));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExcute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {};// \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExcute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        }\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) { //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing\n          });\n        } else { // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractonConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractonConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractonConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractonConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\nexport const antvLight = {\n  /**  */\n  brandColor: QUALITATIVE_10[0],\n  /**  1 10  */\n  paletteQualitative10: QUALITATIVE_10,\n  /**  2 10  */\n  paletteQualitative20: QUALITATIVE_20,\n  /**  */\n  paletteSemanticRed: '#F4664A',\n  /**  */\n  paletteSemanticGreen: '#30BF78',\n  /**  */\n  paletteSemanticYellow: '#FAAD14',\n  /**  */\n  fontFamily: `\"-apple-system\", \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n  \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n  \"Noto Color Emoji\"`,\n\n  // --------------------  --------------------\n  /**  */\n  axisLineBorderColor: BLACK_COLORS[25],\n  /**  */\n  axisLineBorder: 0.5,\n  /**  lineDash  */\n  axisLineDash: null,\n\n  /**  */\n  axisTitleTextFillColor: BLACK_COLORS[65],\n  /**  */\n  axisTitleTextFontSize: 12,\n  /**  */\n  axisTitleTextLineHeight: 12,\n  /**  */\n  axisTitleTextFontWeight: 'normal',\n\n  /**  */\n  axisTickLineBorderColor: BLACK_COLORS[25],\n  /**  */\n  axisTickLineLength: 4,\n  /**  */\n  axisTickLineBorder: 0.5,\n\n  /**  */\n  axisSubTickLineBorderColor: BLACK_COLORS[15],\n  /**  */\n  axisSubTickLineLength: 2,\n  /**  */\n  axisSubTickLineBorder: 0.5,\n\n  /**  */\n  axisLabelFillColor: BLACK_COLORS[45],\n  /**  */\n  axisLabelFontSize: 12,\n  /**  */\n  axisLabelLineHeight: 12,\n  /**  */\n  axisLabelFontWeight: 'normal',\n\n  /**  */\n  axisGridBorderColor: BLACK_COLORS[15],\n  /**  */\n  axisGridBorder: 0.5,\n  /**  */\n  axisGridLineDash: null,\n\n  // --------------------  --------------------\n  /**  */\n  legendTitleTextFillColor: BLACK_COLORS[45],\n  /**  */\n  legendTitleTextFontSize: 12,\n  /**  */\n  legendTitleTextLineHeight: 21,\n  /**  */\n  legendTitleTextFontWeight: 'normal',\n\n  /**  marker  */\n  legendMarkerColor: QUALITATIVE_10[0],\n  /**  marker  */\n  legendMarkerSize: 4,\n  /**  'circle' marker  */\n  legendCircleMarkerSize: 4,\n  /**  'square' marker  */\n  legendSquareMarkerSize: 4,\n  /**  'line' marker  */\n  legendLineMarkerSize: 5,\n\n  /**  */\n  legendItemNameFillColor: BLACK_COLORS[65],\n  /**  */\n  legendItemNameFontSize: 12,\n  /**  */\n  legendItemNameLineHeight: 12,\n  /**  */\n  legendItemNameFontWeight: 'normal',\n\n  /**  */\n  sliderRailFillColor: BLACK_COLORS[15],\n  /**  */\n  sliderRailBorder: 0,\n  /**  */\n  sliderRailBorderColor: null,\n  /**  */\n  sliderRailWidth: 100,\n  /**  */\n  sliderRailHeight: 12,\n\n  /**  */\n  sliderLabelTextFillColor: BLACK_COLORS[45],\n  /**  */\n  sliderLabelTextFontSize: 12,\n  /**  */\n  sliderLabelTextLineHeight: 12,\n  /**  */\n  sliderLabelTextFontWeight: 'normal',\n\n  /**  */\n  sliderHandlerFillColor: BLACK_COLORS[6],\n  /**  */\n  sliderHandlerWidth: 10,\n  /**  */\n  sliderHandlerHeight: 14,\n  /**  */\n  sliderHandlerBorder: 1,\n  /**  */\n  sliderHandlerBorderColor: BLACK_COLORS[25],\n\n  // -------------------- Annotation --------------------\n  /** arc  */\n  annotationArcBorderColor: BLACK_COLORS[15],\n  /** arc  */\n  annotationArcBorder: 0.5,\n\n  /** line  */\n  annotationLineBorderColor: BLACK_COLORS[25],\n  /** line  */\n  annotationLineBorder: 0.5,\n  /** lube  */\n  annotationLineDash: null,\n\n  /** text  */\n  annotationTextFillColor: BLACK_COLORS[65],\n  /** text  */\n  annotationTextFontSize: 12,\n  /** text  */\n  annotationTextLineHeight: 12,\n  /** text  */\n  annotationTextFontWeight: 'normal',\n  /** text  */\n  annotationTextBorderColor: WHITE_COLORS[95],\n  /** text  */\n  annotationTextBorder: 1.5,\n\n  /** region  */\n  annotationRegionFillColor: BLACK_COLORS[100],\n  /** region  */\n  annotationRegionFillOpacity: 0.06,\n  /** region  */\n  annotationRegionBorder: 0,\n  /** region  */\n  annotationRegionBorderColor: null,\n\n  /** dataMarker  */\n  annotationDataMarkerLineLength: 16,\n\n  // -------------------- Tooltip --------------------\n  /** tooltip crosshairs  */\n  tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n  /** tooltip crosshairs  */\n  tooltipCrosshairsBorder: 0.5,\n  /** tooltip crosshairs  */\n  tooltipCrosshairsLineDash: null,\n\n  /** tooltip  */\n  tooltipContainerFillColor: 'rgb(255, 255, 255)',\n  tooltipContainerFillOpacity: 0.95,\n  /** tooltip  */\n  tooltipContainerShadow: '0px 0px 10px #aeaeae',\n  /** tooltip  */\n  tooltipContainerBorderRadius: 3,\n\n  /** tooltip  */\n  tooltipTextFillColor: BLACK_COLORS[65],\n  /** tooltip  */\n  tooltipTextFontSize: 12,\n  /** tooltip  */\n  tooltipTextLineHeight: 12,\n  /** tooltip  */\n  tooltipTextFontWeight: 'bold',\n\n\n  // -------------------- Geometry labels --------------------\n  /** Geometry label  */\n  labelFillColor: BLACK_COLORS[65],\n  /** Geometry label  */\n  labelFontSize: 12,\n  /** Geometry label  */\n  labelLineHeight: 12,\n  /** Geometry label  */\n  labelFontWeight: 'normal',\n  /** Geometry label  */\n  labelBorderColor: null,\n  /** Geometry label  */\n  labelBorder: 0,\n\n  /** Geometry innerLabel  */\n  innerLabelFillColor: WHITE_COLORS[100],\n  /** Geometry innerLabel  */\n  innerLabelFontSize: 12,\n  /** Geometry innerLabel  */\n  innerLabelLineHeight: 12,\n  /** Geometry innerLabel  */\n  innerLabelFontWeight: 'normal',\n  /** Geometry innerLabel  */\n  innerLabelBorderColor: null,\n  /** Geometry innerLabel  */\n  innerLabelBorder: 0,\n\n  /** Geometry label */\n  labelLineBorder: 0.5,\n  /** Geometry label  */\n  labelLineBorderColor: BLACK_COLORS[25],\n\n  // -------------------- Geometry --------------------\n  /**  */\n  pointFillColor: QUALITATIVE_10[0],\n  /**  */\n  pointFillOpacity: 0.95,\n  /**  */\n  pointSize: 4,\n  /**  */\n  pointBorder: 1,\n  /**  */\n  pointBorderColor: WHITE_COLORS[100],\n  /**  */\n  pointBorderOpacity: 1,\n\n  /**  active  */\n  pointActiveBorderColor: BLACK_COLORS[100],\n\n  /**  selected  */\n  pointSelectedBorder: 2,\n  /**  selected  */\n  pointSelectedBorderColor: BLACK_COLORS[100],\n\n  /**  inactive  */\n  pointInactiveFillOpacity: 0.3,\n  /**  inactive  */\n  pointInactiveBorderOpacity: 0.3,\n\n  /**  */\n  hollowPointSize: 4,\n  /**  */\n  hollowPointBorder: 1,\n  /**  */\n  hollowPointBorderColor: QUALITATIVE_10[0],\n  /**  */\n  hollowPointBorderOpacity: 0.95,\n  hollowPointFillColor: WHITE_COLORS[100],\n\n  /**  active  */\n  hollowPointActiveBorder: 1,\n  /**  active  */\n  hollowPointActiveBorderColor: BLACK_COLORS[100],\n  /**  active  */\n  hollowPointActiveBorderOpacity: 1,\n\n  /**  selected  */\n  hollowPointSelectedBorder: 2,\n  /**  selected  */\n  hollowPointSelectedBorderColor: BLACK_COLORS[100],\n  /**  selected  */\n  hollowPointSelectedBorderOpacity: 1,\n\n  /**  inactive  */\n  hollowPointInactiveBorderOpacity: 0.3,\n\n  /**  */\n  lineBorder: 2,\n  /**  */\n  lineBorderColor: QUALITATIVE_10[0],\n  /**  */\n  lineBorderOpacity: 1,\n\n  /**  Active  */\n  lineActiveBorder: 3,\n\n  /**  selected  */\n  lineSelectedBorder: 3,\n\n  /**  inactive  */\n  lineInactiveBorderOpacity: 0.3,\n\n  /** area  */\n  areaFillColor: QUALITATIVE_10[0],\n  /** area  */\n  areaFillOpacity: 0.25,\n\n  /** area  active  */\n  areaActiveFillColor: QUALITATIVE_10[0],\n  areaActiveFillOpacity: 0.5,\n\n  /** area  selected  */\n  areaSelectedFillColor: QUALITATIVE_10[0],\n  areaSelectedFillOpacity: 0.5,\n\n  /** area inactive  */\n  areaInactiveFillOpacity: 0.3,\n\n  /** hollowArea  */\n  hollowAreaBorderColor: QUALITATIVE_10[0],\n  /** hollowArea  */\n  hollowAreaBorder: 2,\n  /** hollowArea  */\n  hollowAreaBorderOpacity: 1,\n\n  /** hollowArea active  */\n  hollowAreaActiveBorder: 3,\n  hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n  /** hollowArea selected  */\n  hollowAreaSelectedBorder: 3,\n  hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n  /** hollowArea inactive  */\n  hollowAreaInactiveBorderOpacity: 0.3,\n\n  /** interval  */\n  intervalFillColor: QUALITATIVE_10[0],\n  /** interval  */\n  intervalFillOpacity: 0.95,\n\n  /** interval active  */\n  intervalActiveBorder: 1,\n  /** interval active  */\n  intervalActiveBorderColor: BLACK_COLORS[100],\n  intervalActiveBorderOpacity: 1,\n\n  /** interval selected  */\n  intervalSelectedBorder: 2,\n  /** interval selected  */\n  intervalSelectedBorderColor: BLACK_COLORS[100],\n  /** interval selected  */\n  intervalSelectedBorderOpacity: 1,\n\n  /** interval inactive  */\n  intervalInactiveBorderOpacity: 0.3,\n  /** interval inactive  */\n  intervalInactiveFillOpacity: 0.3,\n\n  /** interval  */\n  hollowIntervalBorder: 2,\n  /** hollowInterval  */\n  hollowIntervalBorderColor: QUALITATIVE_10[0],\n  /** hollowInterval  */\n  hollowIntervalBorderOpacity: 1,\n  hollowIntervalFillColor: WHITE_COLORS[100],\n\n  /** hollowInterval active  */\n  hollowIntervalActiveBorder: 2,\n  /** hollowInterval active  */\n  hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorder: 3,\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorderOpacity: 1,\n\n  /** hollowInterval inactive  */\n  hollowIntervalInactiveBorderOpacity: 0.3,\n}\n","import { deepMix, get, lowerCase } from '@antv/util';\nimport { LooseObject, StyleSheet } from '../interface';\n\nimport { createThemeByStylesheet } from '../util/theme';\nimport { antvLight as DefaultStyleSheet } from './style-sheet/light';\n\nconst defaultTheme = createThemeByStylesheet(DefaultStyleSheet as StyleSheet);\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = deepMix({}, Themes.default, value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  hasKey,\n  isArray,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  values,\n} from '@antv/util';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point } from '../interface';\nimport { getName } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: string) {\n  let titleField = title;\n  if (!title) {\n    const positionAttr = geometry.getAttribute('position');\n    const fields = positionAttr.getFields();\n    titleField = fields[0];\n  }\n  const scales = geometry.scales;\n  if (scales[titleField]) {\n    //  scale scale.getText() \n    return scales[titleField].getText(originData[titleField]);\n  }\n  //  scale title \n  return hasKey(originData, titleField) ? originData[titleField] : titleField;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      //  position \n      scale = tmpScale;\n      break;\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if ((xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue))\n        && (xValue > xScale.max || xValue < xScale.min)) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(data: MappingDatum, geometry: Geometry, title: string = '') {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (!isNil(itemValue) && itemValue !== '') {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName || tooltipTitle,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    if (!isNil(originData[valueScale.field])) {\n      // null ,undefined\n      value = getTooltipValue(originData, valueScale);\n      name = getTooltipName(originData, geometry);\n      addItem(name, value);\n    }\n  }\n  return items;\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push([ 'rotate', angle ]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push([ 'reflect', dim ]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push([ 'scale', sx, sy ]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push([ 'transpose' ]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    }\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, action => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: number[]): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): Padding {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return parsePadding(padding);\n  }\n\n  //  auto padding padding\n  const { viewBBox, autoPadding } = view;\n\n  const paddingCal = new PaddingCal();\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { component, type } = co;\n\n    // grid, tooltip  padding \n    if (type === COMPONENT_TYPE.GRID || type === COMPONENT_TYPE.TOOLTIP) {\n      return;\n    }\n\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    if (type === COMPONENT_TYPE.AXIS) {\n      const exceed = componentBBox.exceed(viewBBox);\n      paddingCal.shrink(exceed);\n    } else {\n      //  padding\n      const direction = co.direction;\n\n      // const direction =\n      //   type === COMPONENT_TYPE.AXIS ? getTranslateDirection(co.direction, view.getCoordinate()) : co.direction;\n      paddingCal.inc(componentBBox, direction);\n    }\n  });\n\n  const calculatedPadding = paddingCal.getPadding();\n\n  if (autoPadding) {\n    // \n    return [\n      Math.max(autoPadding[0], calculatedPadding[0]),\n      Math.max(autoPadding[1], calculatedPadding[1]),\n      Math.max(autoPadding[2], calculatedPadding[2]),\n      Math.max(autoPadding[3], calculatedPadding[3]),\n    ];\n  }\n\n  return calculatedPadding;\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\nimport { calculatePadding } from './auto';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n * \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n\n  // 1.  auto padding -> absolute padding\n  const padding = calculatePadding(view);\n  // 2.  coordinateBBox\n  const newCoordinateBBox = view.viewBBox.shrink(padding);\n  // 3.  coordinateBBox \n  if (view.coordinateBBox.isEqual(newCoordinateBBox)) {\n    if (annotation) {\n      //  Annotation  layout() \n      annotation.layout();\n    }\n    return;\n  }\n  view.coordinateBBox = newCoordinateBBox;\n  view.adjustCoordinate();\n\n  // 3.  coordinate \n  [axis, slider, legend, annotation ].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale } from '../../dependents';\nimport { Data, LooseObject, ScaleOption } from '../../interface';\nimport { createScaleByField, syncScale } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales= new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync() {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          scale.change({\n            values,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = []\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    let scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n} from '../interface';\n\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\n\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isFullCircle, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport TooltipComponent from './controller/tooltip';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string = uniqueId('view');\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: number[];\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      theme,\n      options,\n      limitInPlot,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), theme) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    //  coordinate controller\n    this.coordinateController = new CoordinateController(this.options.coordinate);\n\n    this.initOptions();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].init();\n    }\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   */\n  public render(isUpdate: boolean = false) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER);\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      controllers[i].clear();\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation') as Annotation;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    this.initOptions();\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, theme) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/manual/tutorial/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA);\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA);\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.')\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    return this.geometries.map((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        return yScale;\n      }\n    });\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n        ? this.middleGroup\n        : layer === LAYER.FORE\n          ? this.foregroundGroup\n          : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return (flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown) as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return ((this.getRootView() as unknown) as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip') as TooltipComponent;\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip') as TooltipComponent;\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip') as TooltipComponent;\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip') as TooltipComponent;\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip') as TooltipComponent;\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip') as TooltipComponent;\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoorinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    this.renderLayoutRecursive(isUpdate);\n\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  coordinateBBoxupdate \n    this.doLayout();\n    // 5.  padding \n    const viewBBox = this.viewBBox;\n    const coordinateBBox = this.coordinateBBox;\n\n    if (!this.padding) {\n      //  padding  padding  autoPadding \n      this.autoPadding = [\n        coordinateBBox.tl.y - viewBBox.tl.y,\n        viewBBox.tr.x - coordinateBBox.tr.x,\n        viewBBox.bl.y - coordinateBBox.bl.y,\n        coordinateBBox.tl.x - viewBBox.tl.x\n      ];\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    if (this.limitInPlot) {\n      const middleGroup = this.middleGroup;\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n\n      //  coordinate bbox \n      this.coordinateBBox = this.viewBBox;\n    }\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {// \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  }\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        e.type = TYPE;\n        this.emit(TYPE, e);\n        if (type === 'mouseleave' || type === 'touchend') { // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            e.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, e);\n          }\n          e.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, e);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            e.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, e);\n          }\n          e.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, e);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') { //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            e.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, e);\n          }\n          e.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, e);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key,\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync();\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = {};\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = {};\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          const count = values.length;\n          let range;\n\n          if (count === 1) {\n            range = [0.5, 1]; // , [0.5,0.5] \n          } else {\n            let widthRatio = 1;\n            let offset = 0;\n\n            if (isFullCircle(coordinate)) {\n              if (!coordinate.isTransposed) {\n                range = [0, 1 - 1 / count];\n              } else {\n                widthRatio = get(this.theme, 'widthRatio.multiplePie', 1 / 1.3);\n                offset = (1 / count) * widthRatio;\n                range = [offset / 2, 1 - offset / 2];\n              }\n            } else {\n              offset = 1 / count / 2; // \n              range = [offset, 1 - offset]; // \n            }\n          }\n          //  range\n          scale.range = range;\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    };\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const { geometries = [], interactions = [], views = [], annotations = [] } = this.options;\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation') as Annotation;\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\n\nimport { ChartCfg } from '../interface';\n\nimport { GROUP_Z_INDEX } from '../constant';\n\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      defaultInteractions = [ 'tooltip', 'legend-filter', 'legend-active', 'continuous-filter' ],\n      options,\n      limitInPlot,\n      theme,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, interaction => {\n      this.interaction(interaction)\n    });\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    return this;\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    //  true autoFit = falseforceFit() \n    const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n    this.changeSize(width, height);\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   */\n  public clear() {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = require(\"@antv/util\");\nvar constant_1 = require(\"../constant\");\nvar Adjust = /** @class */ (function () {\n    function Adjust(cfg) {\n        var xField = cfg.xField, yField = cfg.yField, _a = cfg.adjustNames, adjustNames = _a === void 0 ? ['x', 'y'] : _a;\n        this.adjustNames = adjustNames;\n        this.xField = xField;\n        this.yField = yField;\n    }\n    /**\n     *  adjust \n     * @param dim\n     */\n    Adjust.prototype.isAdjust = function (dim) {\n        return this.adjustNames.indexOf(dim) >= 0;\n    };\n    Adjust.prototype.getAdjustRange = function (dim, dimValue, values) {\n        var yField = this.yField;\n        var index = values.indexOf(dimValue);\n        var length = values.length;\n        var pre;\n        var next;\n        //  y  y \n        if (!yField && this.isAdjust('y')) {\n            pre = 0;\n            next = 1;\n        }\n        else if (length > 1) {\n            // \n            pre = values[index === 0 ? 0 : index - 1];\n            // \n            next = values[index === length - 1 ? length - 1 : index + 1];\n            if (index !== 0) {\n                pre += (dimValue - pre) / 2;\n            }\n            else {\n                pre -= (next - dimValue) / 2;\n            }\n            if (index !== length - 1) {\n                next -= (next - dimValue) / 2;\n            }\n            else {\n                next += (dimValue - values[length - 2]) / 2;\n            }\n        }\n        else {\n            pre = dimValue === 0 ? 0 : dimValue - 0.5;\n            next = dimValue === 0 ? 1 : dimValue + 0.5;\n        }\n        return {\n            pre: pre,\n            next: next,\n        };\n    };\n    Adjust.prototype.adjustData = function (groupedDataArray, mergedData) {\n        var _this = this;\n        // \n        var dimValuesMap = this.getDimValues(mergedData);\n        // \n        _.each(groupedDataArray, function (dataArray, index) {\n            // \n            //  dim \n            _.each(dimValuesMap, function (values, dim) {\n                // \n                _this.adjustDim(dim, values, dataArray, index);\n            });\n        });\n    };\n    /**\n     * adjustData\n     * @param data \n     * @param dim \n     * @return \n     */\n    Adjust.prototype.groupData = function (data, dim) {\n        // \n        _.each(data, function (record) {\n            if (record[dim] === undefined) {\n                record[dim] = constant_1.DEFAULT_Y;\n            }\n        });\n        //  dim \n        return _.groupBy(data, dim);\n    };\n    /** @override */\n    Adjust.prototype.adjustDim = function (dim, values, data, index) { };\n    /**\n     * \n     * @param mergedData \n     * @return \n     */\n    Adjust.prototype.getDimValues = function (mergedData) {\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        var dimValuesMap = {};\n        // \n        var dims = [];\n        if (xField && this.isAdjust('x')) {\n            dims.push(xField);\n        }\n        if (yField && this.isAdjust('y')) {\n            dims.push(yField);\n        }\n        dims.forEach(function (dim) {\n            // \n            dimValuesMap[dim] = _.valuesOfKey(mergedData, dim).sort(function (v1, v2) { return v1 - v2; });\n        });\n        //  y\n        if (!yField && this.isAdjust('y')) {\n            var dim = 'y';\n            dimValuesMap[dim] = [constant_1.DEFAULT_Y, 1]; //  y  0  1 \n        }\n        return dimValuesMap;\n    };\n    return Adjust;\n}());\nexports.default = Adjust;\n//# sourceMappingURL=adjust.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { DODGE_RATIO, MARGIN_RATIO } from '../constant';\nimport Adjust from './adjust';\nvar Dodge = /** @class */ (function (_super) {\n    __extends(Dodge, _super);\n    function Dodge(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.cacheMap = {};\n        _this.adjustDataArray = [];\n        _this.mergeData = [];\n        var _a = cfg.marginRatio, marginRatio = _a === void 0 ? MARGIN_RATIO : _a, _b = cfg.dodgeRatio, dodgeRatio = _b === void 0 ? DODGE_RATIO : _b, dodgeBy = cfg.dodgeBy;\n        _this.marginRatio = marginRatio;\n        _this.dodgeRatio = dodgeRatio;\n        _this.dodgeBy = dodgeBy;\n        return _this;\n    }\n    Dodge.prototype.process = function (groupDataArray) {\n        var groupedDataArray = _.clone(groupDataArray);\n        // \n        var mergeData = _.flatten(groupedDataArray);\n        var dodgeBy = this.dodgeBy;\n        //  dim \n        var adjustDataArray = dodgeBy ? _.group(mergeData, dodgeBy) : groupedDataArray;\n        this.cacheMap = {};\n        this.adjustDataArray = adjustDataArray;\n        this.mergeData = mergeData;\n        this.adjustData(adjustDataArray, mergeData);\n        this.adjustDataArray = [];\n        this.mergeData = [];\n        return groupedDataArray;\n    };\n    Dodge.prototype.adjustDim = function (dim, values, data, frameIndex) {\n        var _this = this;\n        var map = this.getDistribution(dim);\n        var groupData = this.groupData(data, dim); // \n        _.each(groupData, function (group, key) {\n            var range;\n            // xField  dodge\n            if (values.length === 1) {\n                range = {\n                    pre: values[0] - 1,\n                    next: values[0] + 1,\n                };\n            }\n            else {\n                // \n                range = _this.getAdjustRange(dim, parseFloat(key), values);\n            }\n            _.each(group, function (d) {\n                var value = d[dim];\n                var valueArr = map[value];\n                var valIndex = valueArr.indexOf(frameIndex);\n                d[dim] = _this.getDodgeOffset(range, valIndex, valueArr.length);\n            });\n        });\n        return [];\n    };\n    Dodge.prototype.getDodgeOffset = function (range, idx, len) {\n        var _a = this, dodgeRatio = _a.dodgeRatio, marginRatio = _a.marginRatio;\n        var pre = range.pre, next = range.next;\n        var tickLength = next - pre;\n        var width = (tickLength * dodgeRatio) / len;\n        var margin = marginRatio * width;\n        var offset = (1 / 2) * (tickLength - len * width - (len - 1) * margin) +\n            ((idx + 1) * width + idx * margin) -\n            (1 / 2) * width -\n            (1 / 2) * tickLength;\n        return (pre + next) / 2 + offset;\n    };\n    Dodge.prototype.getDistribution = function (dim) {\n        var groupedDataArray = this.adjustDataArray;\n        var cacheMap = this.cacheMap;\n        var map = cacheMap[dim];\n        if (!map) {\n            map = {};\n            _.each(groupedDataArray, function (data, index) {\n                var values = _.valuesOfKey(data, dim);\n                if (!values.length) {\n                    values.push(0);\n                }\n                _.each(values, function (val) {\n                    if (!map[val]) {\n                        map[val] = [];\n                    }\n                    map[val].push(index);\n                });\n            });\n            cacheMap[dim] = map;\n        }\n        return map;\n    };\n    return Dodge;\n}(Adjust));\nexport default Dodge;\n//# sourceMappingURL=dodge.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { GAP } from '../constant';\nimport Adjust from './adjust';\nfunction randomNumber(min, max) {\n    return (max - min) * Math.random() + min;\n}\nvar Jitter = /** @class */ (function (_super) {\n    __extends(Jitter, _super);\n    function Jitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Jitter.prototype.process = function (groupDataArray) {\n        var groupedDataArray = _.clone(groupDataArray);\n        // \n        var mergeData = _.flatten(groupedDataArray);\n        // \n        this.adjustData(groupedDataArray, mergeData);\n        return groupedDataArray;\n    };\n    /**\n     * index dim  jitter \n     * @param dim\n     * @param values\n     * @param dataArray\n     */\n    Jitter.prototype.adjustDim = function (dim, values, dataArray) {\n        var _this = this;\n        //  dim \n        var groupDataArray = this.groupData(dataArray, dim);\n        return _.each(groupDataArray, function (data, dimValue) {\n            return _this.adjustGroup(data, dim, parseFloat(dimValue), values);\n        });\n    };\n    // \n    Jitter.prototype.getAdjustOffset = function (range) {\n        var pre = range.pre, next = range.next;\n        // \n        var margin = (next - pre) * GAP;\n        return randomNumber(pre + margin, next - margin);\n    };\n    // adjust group data\n    Jitter.prototype.adjustGroup = function (group, dim, dimValue, values) {\n        var _this = this;\n        // \n        var range = this.getAdjustRange(dim, dimValue, values);\n        _.each(group, function (data) {\n            data[dim] = _this.getAdjustOffset(range); // \n        });\n        return group;\n    };\n    return Jitter;\n}(Adjust));\nexport default Jitter;\n//# sourceMappingURL=jitter.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Cache = _.Cache;\nvar Stack = /** @class */ (function (_super) {\n    __extends(Stack, _super);\n    function Stack(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        var _a = cfg.adjustNames, adjustNames = _a === void 0 ? ['y'] : _a, _b = cfg.height, height = _b === void 0 ? NaN : _b, _c = cfg.size, size = _c === void 0 ? 10 : _c, _d = cfg.reverseOrder, reverseOrder = _d === void 0 ? false : _d;\n        _this.adjustNames = adjustNames;\n        _this.height = height;\n        _this.size = size;\n        _this.reverseOrder = reverseOrder;\n        return _this;\n    }\n    /**\n     * \n     * @param groupDataArray \n     */\n    Stack.prototype.process = function (groupDataArray) {\n        var _a = this, yField = _a.yField, reverseOrder = _a.reverseOrder;\n        //  y  y  stack\n        // \n        var d = yField ? this.processStack(groupDataArray) : this.processOneDimStack(groupDataArray);\n        return reverseOrder ? this.reverse(d) : d;\n    };\n    Stack.prototype.reverse = function (groupedDataArray) {\n        return groupedDataArray.slice(0).reverse();\n    };\n    Stack.prototype.processStack = function (groupDataArray) {\n        var _a = this, xField = _a.xField, yField = _a.yField, reverseOrder = _a.reverseOrder;\n        // \n        var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray;\n        // \n        var positive = new Cache();\n        var negative = new Cache();\n        return groupedDataArray.map(function (dataArray) {\n            return dataArray.map(function (data) {\n                var _a;\n                var x = _.get(data, xField, 0);\n                var y = _.get(data, yField);\n                var xKey = x.toString();\n                // todo  _origin y  symmetric stack\n                y = _.isArray(y) ? y[1] : y;\n                if (!_.isNil(y)) {\n                    var cache = y >= 0 ? positive : negative;\n                    if (!cache.has(xKey)) {\n                        cache.set(xKey, 0);\n                    }\n                    var xValue = cache.get(xKey);\n                    var newXValue = y + xValue;\n                    // \n                    cache.set(xKey, newXValue);\n                    return __assign(__assign({}, data), (_a = {}, _a[yField] = [xValue, newXValue], _a));\n                }\n                // \n                return data;\n            });\n        });\n    };\n    Stack.prototype.processOneDimStack = function (groupDataArray) {\n        var _this = this;\n        var _a = this, xField = _a.xField, height = _a.height, reverseOrder = _a.reverseOrder;\n        var yField = 'y';\n        // \n        var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray;\n        // \n        var cache = new Cache();\n        return groupedDataArray.map(function (dataArray) {\n            return dataArray.map(function (data) {\n                var _a;\n                var size = _this.size;\n                var xValue = data[xField];\n                // todo  stack \n                var stackHeight = (size * 2) / height;\n                if (!cache.has(xValue)) {\n                    cache.set(xValue, stackHeight / 2); // \n                }\n                var stackValue = cache.get(xValue);\n                //  stackHeight\n                cache.set(xValue, stackValue + stackHeight);\n                return __assign(__assign({}, data), (_a = {}, _a[yField] = stackValue, _a));\n            });\n        });\n    };\n    return Stack;\n}(Adjust));\nexport default Stack;\n//# sourceMappingURL=stack.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Symmetric = /** @class */ (function (_super) {\n    __extends(Symmetric, _super);\n    function Symmetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Symmetric.prototype.process = function (groupDataArray) {\n        var mergeData = _.flatten(groupDataArray);\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        //  x  \n        var cache = this.getXValuesMaxMap(mergeData);\n        // \n        var max = Math.max.apply(Math, Object.keys(cache).map(function (key) { return cache[key]; }));\n        return _.map(groupDataArray, function (dataArray) {\n            return _.map(dataArray, function (data) {\n                var _a, _b;\n                var yValue = data[yField];\n                var xValue = data[xField];\n                // \n                if (_.isArray(yValue)) {\n                    var off_1 = (max - cache[xValue]) / 2;\n                    return __assign(__assign({}, data), (_a = {}, _a[yField] = _.map(yValue, function (y) { return off_1 + y; }), _a));\n                }\n                // \n                var offset = (max - yValue) / 2;\n                return __assign(__assign({}, data), (_b = {}, _b[yField] = [offset, yValue + offset], _b));\n            });\n        });\n    };\n    //  x \n    Symmetric.prototype.getXValuesMaxMap = function (mergeData) {\n        var _this = this;\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        //  xField \n        var groupDataArray = _.groupBy(mergeData, function (data) { return data[xField]; });\n        //  xField \n        return _.mapValues(groupDataArray, function (dataArray) { return _this.getDimMaxValue(dataArray, yField); });\n    };\n    Symmetric.prototype.getDimMaxValue = function (mergeData, dim) {\n        //  value \n        var dimValues = _.map(mergeData, function (data) { return _.get(data, dim, []); });\n        // dim value  stack \n        var flattenValues = _.flatten(dimValues);\n        // \n        return Math.max.apply(Math, flattenValues);\n    };\n    return Symmetric;\n}(Adjust));\nexport default Symmetric;\n//# sourceMappingURL=symmetric.js.map","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect\n          ? coordinate.isTransposed\n            ? 'scale-in-x'\n            : 'scale-in-y'\n          : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isString } from '@antv/util';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\n\nimport { propagationDelegate } from '@antv/component/lib/util/event';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, '', this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = undefined;\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape.toBack();\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      states.forEach((state) => {\n        this.syncShapeStyle(shape, offscreenShape, state, null);\n      });\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, 'reset', null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    //@ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      return animate[animateType];\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name \n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType]\n      } else if(isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    state: string = '',\n    animateCfg,\n    index: number = 0\n  ) {\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], state, animateCfg, index + i);\n      }\n    } else {\n      if (state && state !== 'reset') {\n        let name = sourceShape.get('name');\n        if (isArray(name)) { //  element  name\n          name = name[1];\n        }\n        const style = this.getStateStyle(state, name || index); //  name\n        targetShape.attr(style);\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (state) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox, cfg?: LooseObject) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn>  = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some([\n    'color',\n    'shape',\n    'size',\n    'x',\n    'y',\n    'isInCircle',\n    'data',\n    'style',\n    'defaultStyle',\n    'points',\n    'mappingData',\n  ], (key: string) => {\n    return !isEqual(currentModel[key], preModel[key]);\n  });\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\n\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n}\n\n//  elementId  label element  labels labels \n//  ./label/base.ts#L263\nfunction filterLabelsById(id: string, labelsMap: Record<string, IGroup>) {\n  const labels = [];\n  each(labelsMap, (label: IGroup, labelId: string) => {\n    const elementId = labelId.split(' ')[0];\n    if (elementId === id) {\n      labels.push(label);\n    }\n  });\n\n  return labels;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption)\n    }\n\n    this.defaultSize = undefined;\n    this.elements = [];\n    this.elementsMap = {};\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    const mappingArray = [];\n    for (let index = 0, length = dataArray.length; index < length; index++) {\n      const eachGroup = dataArray[index];\n      const mappingData = this.mapping(eachGroup);\n      mappingArray.push(mappingData);\n      this.createElements(mappingData, index, isUpdate);\n    }\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      this.renderLabels(flatten(mappingArray), isUpdate);\n    }\n\n    this.dataArray = mappingArray;\n\n    //  elements\n    each(this.lastElementsMap, (deletedElement: Element) => {\n      // \n      deletedElement.animate = this.animateOption;\n      deletedElement.destroy();\n    });\n\n    this.lastElementsMap = this.elementsMap;\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg) {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => {\n      return condition(element);\n    });\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = xVal;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = {};\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = {}; // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): Array<IShape | IGroup> {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      };\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): ShapePoint {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    };\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [ shapeName, 'default' ], {}).style;\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  /**\n   *  Elements\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected createElements(mappingData: MappingDatum[], index: number, isUpdate: boolean = false): Element[] {\n    const { lastElementsMap, elementsMap, elements } = this;\n    for (let subIndex = 0, length = mappingData.length; subIndex < length; subIndex++) {\n      const mappingDatum = mappingData[subIndex];\n      let id = this.getElementId(mappingDatum);\n      if (elementsMap[id]) {\n        //  index \n        id = `${id}-${index}-${subIndex}`;\n      }\n\n      let result = lastElementsMap[id];\n      if (!result) {\n        //  element\n        result = this.createElement(mappingDatum, isUpdate);\n      } else {\n        // element \n        const currentShapeCfg = this.getDrawCfg(mappingDatum);\n        const preShapeCfg = result.getModel();\n        if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n          result.animate = this.animateOption;\n          // \n          result.update(currentShapeCfg); //  element\n        }\n\n        delete lastElementsMap[id];\n      }\n\n      elements.push(result);\n      elementsMap[id] = result;\n    }\n\n    return elements;\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const coordinateType = coordinate.type;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  private createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  private initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (scale.isCategory && !tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            this.groupScales.push(scale);\n            tmpMap[field] = true;\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for(let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for(let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    let result = dataArray;\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          adjustCfg.dodgeRatio = this.theme.columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if ((min < scale.min) && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if ((max > scale.max) && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    each(this.elementsMap, (element: Element, id) => {\n      const labels = filterLabelsById(id, labelsMap); // element  label \n      if (labels.length) {\n        element.labelShape = labels;\n        for (let i = 0; i < labels.length; i++) {\n          const label = labels[i];\n          const labelChildren = label.getChildren();\n          for (let j = 0; j < labelChildren.length; j++) {\n            const child = labelChildren[j];\n            child.cfg.name = [ 'element', 'label'];\n            child.cfg.element = element;\n          }\n        }\n      }\n    });\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [ data ];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) { //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","import { deepMix, each, get, isArray } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\n\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getReplaceAttrs } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n  private lastShapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n\n  /**\n   * \n   */\n  public render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    this.shapesMap = {};\n    const container = this.container;\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // step 2:  labels\n      this.doLayout(items, shapes);\n      // step 3:  labelLine\n      this.renderLabelLine(items);\n      // step 4:  label\n      this.adjustLabel(items);\n    }\n\n    // \n    const lastShapesMap = this.lastShapesMap;\n    const shapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentShape = lastShapesMap[id]; //  shape\n          const currentAnimateCfg = shape.get('animateCfg');\n          currentShape.set('data', data);\n          currentShape.set('origin', origin);\n          currentShape.set('animateCfg', currentAnimateCfg);\n          currentShape.set('coordinate', coordinate);\n\n          const updateAnimateCfg = get(currentAnimateCfg, 'update');\n          const currentChildren = currentShape.getChildren();\n          shape.getChildren().map((child, index) => {\n            const currentChild = currentChildren[index] as IShape;\n            currentChild.set('data', data);\n            currentChild.set('origin', origin);\n            currentChild.set('animateCfg', currentAnimateCfg);\n            currentChild.set('coordinate', coordinate);\n\n            const newAttrs = getReplaceAttrs(currentChild, child);\n            if (updateAnimateCfg) {\n              doAnimate(currentChild, updateAnimateCfg, {\n                toAttrs: newAttrs,\n                coordinate,\n              });\n            } else {\n              currentChild.attr(newAttrs);\n            }\n          });\n\n          this.shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          container.add(shape);\n\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.lastShapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n    this.lastShapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n    this.lastShapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup) {\n    const { id, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      data,\n      origin: mappingData,\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape()))  {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - (height / 2);\n\n      if (textAlign === 'center') {\n        x = x - (width / 2);\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    this.shapesMap[id] = labelGroup;\n  }\n\n  // typelabel\n  private doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      each(layouts, (layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (layoutFn) {\n          const labelShapes = [];\n          const geometryShapes = [];\n          each(this.shapesMap, (labelShape, id) => {\n            labelShapes.push(labelShape);\n            geometryShapes.push(shapes[id]);\n          });\n\n          layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n        }\n      });\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[]) {\n    each(labelItems, (labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = labelItem.start;\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = this.shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[]) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = this.shapesMap[id];\n        if (!labelGroup.destroyed) {\n          const labelShape = labelGroup.find(ele => ele.get('type') === 'text');\n          if (labelShape) {\n            if (item.offsetX) {\n              labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n            }\n            if (item.offsetY) {\n              labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n            }\n          }\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public render(mapppingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mapppingArray);\n\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg() {\n    return get(this.geometry.theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * \n   * @param offset\n   * @returns\n   */\n  protected getDefaultOffset(offset: number) {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelOffset(labelCfg: LabelCfg, index: number, total: number) {\n    const offset = this.getDefaultOffset(labelCfg.offset);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value, idx) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          //  label y,  y\n          if (v.length <= 2) {\n            v = v[value.length - 1];\n          } else {\n            v = avg(v);\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    // \n    if (mappingData && this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffset(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = this.getDefaultOffset(item.offset);\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme, labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n        // polygon  offset  0  \n        labelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n      } else {\n        labelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset = 0) {\n    const coordinate = this.getCoordinate();\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(offset, 0) : coordinate.applyMatrix(0, offset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","/* G2  Geometry */\n\nexport const VERSION = '4.0.8';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction } from './interaction'; // Interaction \nexport { Facet} from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport { Types };\n","\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\nexport const antvDark = {\n  /**  */\n  brandColor: QUALITATIVE_10[0],\n  /**  1 10  */\n  paletteQualitative10: QUALITATIVE_10,\n  /**  2 10  */\n  paletteQualitative20: QUALITATIVE_20,\n  /**  */\n  paletteSemanticRed: '#F4664A',\n  /**  */\n  paletteSemanticGreen: '#30BF78',\n  /**  */\n  paletteSemanticYellow: '#FAAD14',\n  /**  */\n  fontFamily: `\"-apple-system\", \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n  \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n  \"Noto Color Emoji\"`,\n\n  // --------------------  --------------------\n  /**  */\n  axisLineBorderColor: BLACK_COLORS[25],\n  /**  */\n  axisLineBorder: 0.5,\n  /**  lineDash  */\n  axisLineDash: null,\n\n  /**  */\n  axisTitleTextFillColor: BLACK_COLORS[65],\n  /**  */\n  axisTitleTextFontSize: 12,\n  /**  */\n  axisTitleTextLineHeight: 12,\n  /**  */\n  axisTitleTextFontWeight: 'normal',\n\n  /**  */\n  axisTickLineBorderColor: BLACK_COLORS[25],\n  /**  */\n  axisTickLineLength: 4,\n  /**  */\n  axisTickLineBorder: 0.5,\n\n  /**  */\n  axisSubTickLineBorderColor: BLACK_COLORS[15],\n  /**  */\n  axisSubTickLineLength: 2,\n  /**  */\n  axisSubTickLineBorder: 0.5,\n\n  /**  */\n  axisLabelFillColor: BLACK_COLORS[45],\n  /**  */\n  axisLabelFontSize: 12,\n  /**  */\n  axisLabelLineHeight: 12,\n  /**  */\n  axisLabelFontWeight: 'normal',\n\n  /**  */\n  axisGridBorderColor: BLACK_COLORS[15],\n  /**  */\n  axisGridBorder: 0.5,\n  /**  */\n  axisGridLineDash: null,\n\n  // --------------------  --------------------\n  /**  */\n  legendTitleTextFillColor: BLACK_COLORS[45],\n  /**  */\n  legendTitleTextFontSize: 12,\n  /**  */\n  legendTitleTextLineHeight: 21,\n  /**  */\n  legendTitleTextFontWeight: 'normal',\n\n  /**  marker  */\n  legendMarkerColor: QUALITATIVE_10[0],\n  /**  marker  */\n  legendMarkerSize: 4,\n  /**  'circle' marker  */\n  legendCircleMarkerSize: 4,\n  /**  'square' marker  */\n  legendSquareMarkerSize: 4,\n  /**  'line' marker  */\n  legendLineMarkerSize: 5,\n\n  /**  */\n  legendItemNameFillColor: BLACK_COLORS[65],\n  /**  */\n  legendItemNameFontSize: 12,\n  /**  */\n  legendItemNameLineHeight: 12,\n  /**  */\n  legendItemNameFontWeight: 'normal',\n\n  /**  */\n  sliderRailFillColor: BLACK_COLORS[15],\n  /**  */\n  sliderRailBorder: 0,\n  /**  */\n  sliderRailBorderColor: null,\n  /**  */\n  sliderRailWidth: 100,\n  /**  */\n  sliderRailHeight: 12,\n\n  /**  */\n  sliderLabelTextFillColor: BLACK_COLORS[45],\n  /**  */\n  sliderLabelTextFontSize: 12,\n  /**  */\n  sliderLabelTextLineHeight: 12,\n  /**  */\n  sliderLabelTextFontWeight: 'normal',\n\n  /**  */\n  sliderHandlerFillColor: WHITE_COLORS[6],\n  /**  */\n  sliderHandlerWidth: 10,\n  /**  */\n  sliderHandlerHeight: 14,\n  /**  */\n  sliderHandlerBorder: 1,\n  /**  */\n  sliderHandlerBorderColor: WHITE_COLORS[25],\n\n  // -------------------- Annotation --------------------\n  /** arc  */\n  annotationArcBorderColor: BLACK_COLORS[15],\n  /** arc  */\n  annotationArcBorder: 0.5,\n\n  /** line  */\n  annotationLineBorderColor: BLACK_COLORS[25],\n  /** line  */\n  annotationLineBorder: 0.5,\n  /** lube  */\n  annotationLineDash: null,\n\n  /** text  */\n  annotationTextFillColor: BLACK_COLORS[65],\n  /** text  */\n  annotationTextFontSize: 12,\n  /** text  */\n  annotationTextLineHeight: 12,\n  /** text  */\n  annotationTextFontWeight: 'normal',\n  /** text  */\n  annotationTextBorderColor: WHITE_COLORS[95],\n  /** text  */\n  annotationTextBorder: 1.5,\n\n  /** region  */\n  annotationRegionFillColor: BLACK_COLORS[100],\n  /** region  */\n  annotationRegionFillOpacity: 0.06,\n  /** region  */\n  annotationRegionBorder: 0,\n  /** region  */\n  annotationRegionBorderColor: null,\n\n  /** dataMarker  */\n  annotationDataMarkerLineLength: 16,\n\n  // -------------------- Tooltip --------------------\n  /** tooltip crosshairs  */\n  tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n  /** tooltip crosshairs  */\n  tooltipCrosshairsBorder: 0.5,\n  /** tooltip crosshairs  */\n  tooltipCrosshairsLineDash: null,\n\n  /** tooltip  */\n  tooltipContainerFillColor: '#1f1f1f',\n  tooltipContainerFillOpacity: 0.95,\n  /** tooltip  */\n  tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n  /** tooltip  */\n  tooltipContainerBorderRadius: 3,\n\n  /** tooltip  */\n  tooltipTextFillColor: BLACK_COLORS[65],\n  /** tooltip  */\n  tooltipTextFontSize: 12,\n  /** tooltip  */\n  tooltipTextLineHeight: 12,\n  /** tooltip  */\n  tooltipTextFontWeight: 'bold',\n\n\n  // -------------------- Geometry labels --------------------\n  /** Geometry label  */\n  labelFillColor: BLACK_COLORS[65],\n  /** Geometry label  */\n  labelFontSize: 12,\n  /** Geometry label  */\n  labelLineHeight: 12,\n  /** Geometry label  */\n  labelFontWeight: 'normal',\n  /** Geometry label  */\n  labelBorderColor: null,\n  /** Geometry label  */\n  labelBorder: 0,\n\n  /** Geometry innerLabel  */\n  innerLabelFillColor: WHITE_COLORS[100],\n  /** Geometry innerLabel  */\n  innerLabelFontSize: 12,\n  /** Geometry innerLabel  */\n  innerLabelLineHeight: 12,\n  /** Geometry innerLabel  */\n  innerLabelFontWeight: 'normal',\n  /** Geometry innerLabel  */\n  innerLabelBorderColor: null,\n  /** Geometry innerLabel  */\n  innerLabelBorder: 0,\n\n  /** Geometry label */\n  labelLineBorder: 0.5,\n  /** Geometry label  */\n  labelLineBorderColor: BLACK_COLORS[25],\n\n  // -------------------- Geometry --------------------\n  /**  */\n  pointFillColor: QUALITATIVE_10[0],\n  /**  */\n  pointFillOpacity: 0.95,\n  /**  */\n  pointSize: 4,\n  /**  */\n  pointBorder: 1,\n  /**  */\n  pointBorderColor: WHITE_COLORS[100],\n  /**  */\n  pointBorderOpacity: 1,\n\n  /**  active  */\n  pointActiveBorderColor: BLACK_COLORS[100],\n\n  /**  selected  */\n  pointSelectedBorder: 2,\n  /**  selected  */\n  pointSelectedBorderColor: BLACK_COLORS[100],\n\n  /**  inactive  */\n  pointInactiveFillOpacity: 0.3,\n  /**  inactive  */\n  pointInactiveBorderOpacity: 0.3,\n\n  /**  */\n  hollowPointSize: 4,\n  /**  */\n  hollowPointBorder: 1,\n  /**  */\n  hollowPointBorderColor: QUALITATIVE_10[0],\n  /**  */\n  hollowPointBorderOpacity: 0.95,\n  hollowPointFillColor: WHITE_COLORS[100],\n\n  /**  active  */\n  hollowPointActiveBorder: 1,\n  /**  active  */\n  hollowPointActiveBorderColor: BLACK_COLORS[100],\n  /**  active  */\n  hollowPointActiveBorderOpacity: 1,\n\n  /**  selected  */\n  hollowPointSelectedBorder: 2,\n  /**  selected  */\n  hollowPointSelectedBorderColor: BLACK_COLORS[100],\n  /**  selected  */\n  hollowPointSelectedBorderOpacity: 1,\n\n  /**  inactive  */\n  hollowPointInactiveBorderOpacity: 0.3,\n\n  /**  */\n  lineBorder: 2,\n  /**  */\n  lineBorderColor: QUALITATIVE_10[0],\n  /**  */\n  lineBorderOpacity: 1,\n\n  /**  Active  */\n  lineActiveBorder: 3,\n\n  /**  selected  */\n  lineSelectedBorder: 3,\n\n  /**  inactive  */\n  lineInactiveBorderOpacity: 0.3,\n\n  /** area  */\n  areaFillColor: QUALITATIVE_10[0],\n  /** area  */\n  areaFillOpacity: 0.25,\n\n  /** area  active  */\n  areaActiveFillColor: QUALITATIVE_10[0],\n  areaActiveFillOpacity: 0.5,\n\n  /** area  selected  */\n  areaSelectedFillColor: QUALITATIVE_10[0],\n  areaSelectedFillOpacity: 0.5,\n\n  /** area inactive  */\n  areaInactiveFillOpacity: 0.3,\n\n  /** hollowArea  */\n  hollowAreaBorderColor: QUALITATIVE_10[0],\n  /** hollowArea  */\n  hollowAreaBorder: 2,\n  /** hollowArea  */\n  hollowAreaBorderOpacity: 1,\n\n  /** hollowArea active  */\n  hollowAreaActiveBorder: 3,\n  hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n  /** hollowArea selected  */\n  hollowAreaSelectedBorder: 3,\n  hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n  /** hollowArea inactive  */\n  hollowAreaInactiveBorderOpacity: 0.3,\n\n  /** interval  */\n  intervalFillColor: QUALITATIVE_10[0],\n  /** interval  */\n  intervalFillOpacity: 0.95,\n\n  /** interval active  */\n  intervalActiveBorder: 1,\n  /** interval active  */\n  intervalActiveBorderColor: BLACK_COLORS[100],\n  intervalActiveBorderOpacity: 1,\n\n  /** interval selected  */\n  intervalSelectedBorder: 2,\n  /** interval selected  */\n  intervalSelectedBorderColor: BLACK_COLORS[100],\n  /** interval selected  */\n  intervalSelectedBorderOpacity: 1,\n\n  /** interval inactive  */\n  intervalInactiveBorderOpacity: 0.3,\n  /** interval inactive  */\n  intervalInactiveFillOpacity: 0.3,\n\n  /** interval  */\n  hollowIntervalBorder: 2,\n  /** hollowInterval  */\n  hollowIntervalBorderColor: QUALITATIVE_10[0],\n  /** hollowInterval  */\n  hollowIntervalBorderOpacity: 1,\n  hollowIntervalFillColor: WHITE_COLORS[100],\n\n  /** hollowInterval active  */\n  hollowIntervalActiveBorder: 2,\n  /** hollowInterval active  */\n  hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorder: 3,\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorderOpacity: 1,\n\n  /** hollowInterval inactive  */\n  hollowIntervalInactiveBorderOpacity: 0.3,\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls?: boolean) {\n  if (!points.length) {\n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        result.push(tmp);\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n","import { isNil } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle } = cfg;\n  const points = getPathPoints(cfg.points, connectNulls); //  connectNulls  points\n\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint));\n  }\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(points: Point[], isInCircle: boolean, smooth?: boolean, constraint?: Position[]) {\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[]\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\nfunction getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[]\n) {\n  const first = points[0];\n\n  return isArray(first.y)\n    ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint)\n    : getSinglePath(points as Point[], isInCircle, smooth, constraint);\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false } = cfg;\n    this.connectNulls = connectNulls;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected createElements(mappingData: MappingDatum[], index: number, isUpdate: boolean = false): Element[] {\n    // Path  element \n    const { lastElementsMap, elementsMap, elements, container } = this;\n    const elementId = this.getElementId(mappingData);\n    const shapeCfg = this.getShapeInfo(mappingData);\n\n    let result = lastElementsMap[elementId];\n    if (!result) {\n      const shapeFactory = this.getShapeFactory();\n\n      result = new Element({\n        shapeFactory,\n        container,\n        offscreenGroup: this.getOffscreenGroup(),\n      });\n      result.geometry = this;\n      result.animate = this.animateOption;\n      result.draw(shapeCfg, isUpdate); //  shape\n    } else {\n      // element \n      const preShapeCfg = result.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        result.animate = this.animateOption;\n        // \n        result.update(shapeCfg); //  element\n      }\n      delete lastElementsMap[elementId];\n    }\n\n    elements.push(result);\n    elementsMap[elementId] = result;\n\n    return elements;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  const topLinePoints = []; // area \n  let bottomLinePoints = []; // area \n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  }\n  bottomLinePoints = bottomLinePoints.reverse();\n\n  let path = [];\n  each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n    let subPath = [];\n    const parsedPoints = registeredShape.parsePoints(pointsData);\n    const p1 = parsedPoints[0];\n    if (isInCircle) {\n      parsedPoints.push({ x: p1.x, y: p1.y });\n    }\n    if (smooth) {\n      subPath = getSplinePath(parsedPoints, false, constraint);\n    } else {\n      subPath = getLinePath(parsedPoints, false);\n    }\n\n    if (index > 0) {\n      subPath[0][0] = 'L';\n    }\n    path = path.concat(subPath);\n  });\n\n  path.push(['Z']);\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = true } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; // Area  x \n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  }\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected createElements(mappingData: MappingDatum[], index: number, isUpdate: boolean = false) {\n    const range = this.prepareRange(mappingData);\n    const radius = this.prepareSize();\n\n    let blur = get(this.styleOption, ['style', 'shadowBlur']);\n    if (!isNumber(blur)) {\n      blur = radius / 2;\n    }\n\n    this.prepareGreyScaleBlurredCircle(radius, blur);\n    this.drawWithRange(mappingData, range, radius, blur);\n\n    return null;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach(row => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [ min, max ];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter(row => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data: this.getData(mappingData),\n    };\n  }\n\n  private getData(mappingData: MappingDatum[]): Data {\n    return mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n  }\n}\n","import { isArray, isNil } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint, isPyramid = false): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  if (isPyramid) {\n    // \n    // \n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2,\n    });\n  } else {\n    // \n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n  }\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @returns  path\n */\nexport function getRectPath(points: Point[]): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  path.push(['L', firstPoint.x, firstPoint.y]); // \n  path.push(['z']);\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[2].x, points[2].y],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath, getRectPoints } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = theme.multiplePieWidthRatio;\n    } else {\n      wr = theme.roseWidthRatio;\n    }\n  } else {\n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = theme.columnWidthRatio;\n  }\n  normalizedSize *= wr;\n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n\n    normalizedSize = normalizedSize / dodgeCount;\n  }\n\n  // \n  const { maxColumnWidth, minColumnWidth } = theme;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  if (maxColumnWidth) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  if (minColumnWidth) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: Math.max(Math.max.apply(null, yScale.values), yScale.max),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = true } = cfg; // Line  x \n    this.sortable = sortable;\n  }\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(shape, cfg: ShapeInfo, container: IGroup, shapeName: string, isStroke: boolean): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * 1 / 2 + to.y * 1 / 2,\n  });\n\n  points.push({\n    x: to.x,\n    y: from.y * 1 / 2 + to.y * 1 / 2,\n  });\n  points.push(to);\n\n  const sub = ['C'];\n  each(points, point => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, point => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [\n    ['M', from.x, from.y]\n  ];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [\n    ['M', points[0].x, points[0].y]\n  ];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs((points[1].x - points[0].x)) / 2,\n          Math.PI,\n          Math.PI * 2);\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  }\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [\n    ['M', from.x, from.y]\n  ];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  }\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [\n    ['M', from.x, from.y]\n  ];\n  each(points, point => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  }\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint, true);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { get } from '@antv/util';\n\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelPointCfg } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n\n  protected setLabelPosition(labelPointCfg: LabelPointCfg, mappingData: MappingDatum, index: number, position: string) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point1 = coordinate.convert(shapePoints[2]);\n    const flag = transposed ? -1 : 1;\n    const width = ((point0.x - point1.x) / 2) * flag;\n    const height = ((point0.y - point1.y) / 2) * flag;\n\n    switch (position) {\n      case 'right':\n        if (!transposed) {\n          labelPointCfg.x -= width;\n          labelPointCfg.y += height;\n        }\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'left');\n        break;\n      case 'left':\n        if (transposed) {\n          labelPointCfg.x -= width * 2;\n        } else {\n          labelPointCfg.x += width;\n          labelPointCfg.y += height;\n        }\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x -= width;\n          labelPointCfg.y -= height;\n        } else {\n          labelPointCfg.y += height * 2;\n        }\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x -= width;\n        } else {\n          labelPointCfg.y += height;\n        }\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x -= width;\n          labelPointCfg.y += height;\n        }\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'bottom');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, isArray } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = (point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2) ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = this.getDefaultOffset(point.offset);\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = this.getDefaultOffset(labelCfg.offset) * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: LabelPointCfg = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport Geometry from '../base';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  constructor(geometry: Geometry) {\n    super(geometry);\n  }\n\n  protected getDefaultLabelCfg() {\n    return get(this.geometry.theme, 'pieLabels', {});\n  }\n\n  protected getDefaultOffset(offset) {\n    return offset || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    const offset = this.getDefaultOffset(point.offset);\n    if (offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  protected getCirclePoint(angle, offset, p?) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import getArcParams from '@antv/g-canvas/lib/util/arc-params';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nfunction getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  // @ts-ignore\n  const path = toAttrs.path;\n  const pathCommands = path.map(command => command[0]);\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n\n  shape.animate((ratio) => {\n    const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n    const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n    return {\n      ...toAttrs,\n      path:\n        // hack,  /examples/bar/basic/demo/radial-line.ts \n        isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n          ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n          : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n    };\n  }, {\n    ...animateCfg,\n    callback: () => {\n      //  path  setState() \n      shape.attr('path', path);\n    }\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      }\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      }\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n","import { deepMix, each, filter } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = Math.PI * 2 / count;\n\n    // \n    const angle = -1 * Math.PI / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = Math.PI * 5 / 4; // \n    const endAngle = Math.PI * 1 / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle)\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {\n  }\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n\n      const config = deepMix({\n        position: [ '50%', '0%' ] as [string, string],\n        content: columnValue,\n      }, getFactTitleConfig(DIRECTION.TOP), this.cfg.title);\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {\n  }\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [\n        { field: columnField, value: val, values: colValues }\n      ];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      (facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1) + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n\n      const config = deepMix({\n        position: [ '50%', '0%' ] as [string, string],\n        content: columnValue,\n      }, getFactTitleConfig(DIRECTION.TOP), this.cfg.title);\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      }\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {\n  }\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i ++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j ++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const config = deepMix({\n          position: [ '50%', '0%' ] as [string, string],\n          content: columnValue,\n        }, getFactTitleConfig(DIRECTION.TOP), this.cfg.columnTitle);\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const config = deepMix({\n          position: [ '100%', '50%' ] as [string, string],\n          content: rowValue,\n        }, getFactTitleConfig(DIRECTION.RIGHT), this.cfg.rowTitle);\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option\n  }\n\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n\n      if (this.cfg.transpose) {\n        const config = deepMix({\n          position: [ '50%', '0%' ] as [string, string],\n          content: columnValue,\n        }, getFactTitleConfig(DIRECTION.TOP), this.cfg.title);\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix({\n          position: [ '100%', '50%' ] as [string, string],\n          content: rowValue,\n        }, getFactTitleConfig(DIRECTION.RIGHT), this.cfg.title);\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      }\n    })\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const config = deepMix({\n          position: [ '50%', '0%' ] as [string, string],\n          content: columnValue,\n        }, getFactTitleConfig(DIRECTION.TOP), this.cfg.columnTitle);\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const config = deepMix({\n          position: [ '100%', '50%' ] as [string, string],\n          content: rowValue,\n        }, getFactTitleConfig(DIRECTION.RIGHT), this.cfg.rowTitle);\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      }\n    }\n    return option\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      }\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {\n  }\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd'\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach(facet => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength,\n        facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + yWidth * 2 / 3 // 1/3\n    };\n    return {\n      start,\n      end\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach(facet => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach(facet => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach(facet => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [\n        {field, value, values} as Condition\n      ];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr)\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n\n      const config = deepMix({\n        position: [ '50%', '0%' ] as [string, string],\n        content: columnValue,\n      }, getFactTitleConfig(DIRECTION.TOP), this.cfg.title);\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach(facet => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height\n    };\n\n    children.forEach(subFacet => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign({\n        // @ts-ignore\n        path\n      }, line),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n}\n","import { contains, deepMix, each, get, isArray, isFunction, isNil, isString, keys, upperFirst } from '@antv/util';\n\nimport { Annotation as AnnotationComponent, IElement, IGroup, Scale } from '../../dependents';\nimport {\n  AnnotationBaseOption asBaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() {}\n\n  public layout() {\n    const components = this.getComponents();\n    const updateComponentFn = (co: ComponentOption) => {\n      const { component, extra } = co;\n      const { type } = extra;\n      const theme = this.getAnnotationTheme(type);\n\n      component.update(this.getAnnotationCfg(type, extra, theme));\n    };\n    const createComponentFn = (option: BaseOption) => {\n      const co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter regionFilter Geometry  Shape view render \n        //  render \n        if (option.type === 'regionFilter') {\n          co.component.render();\n        }\n        // \n        this.cache.set(option, co);\n      }\n    };\n\n    if (components.length) {\n      each(components, (co: ComponentOption) => {\n        const { component } = co;\n\n        if (component.get('type') === 'regionFilter') {\n          // regionFilter  Geometry Shapes\n          this.view.once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n            updateComponentFn(co);\n          });\n        } else {\n          updateComponentFn(co);\n        }\n      });\n    } else {\n      each(this.option, (option: BaseOption) => {\n        if (option.type === 'regionFilter') {\n          this.view.once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n            // regionFilter  Geometry Shapes\n            createComponentFn(option);\n          });\n        } else {\n          createComponentFn(option);\n        }\n      });\n    }\n  }\n\n  public render() {\n    //  Annotation  layout() \n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  legend\n    const updated = new WeakMap<BaseOption, true>();\n\n    const updateComponentFn = (option: BaseOption) => {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      const existCo = this.cache.get(option);\n\n      // \n      if (existCo) {\n        // \n        omit(cfg, ['container']);\n\n        existCo.component.update(cfg);\n        updated.set(option, true);\n      } else {\n        // \n        const co = this.createAnnotation(option);\n        if (co) {\n          co.component.init();\n          // NoteregionFilter regionFilter Geometry  Shape view render \n          //  render \n          if (option.type === 'regionFilter') {\n            co.component.render();\n          }\n          // \n          this.cache.set(option, co);\n          updated.set(option, true);\n        }\n      }\n    };\n\n    this.view.once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n      //  regionFilter \n      each(this.option, (option: BaseOption) => {\n        if (option.type === 'regionFilter') {\n          updateComponentFn(option);\n        }\n      });\n\n      // \n      // \n      const newCache = new Map<BaseOption, ComponentOption>();\n\n      this.cache.forEach((value: ComponentOption, key: BaseOption) => {\n        if (updated.has(key)) {\n          newCache.set(key, value);\n        } else {\n          // \n          value.component.destroy();\n        }\n      });\n\n      // \n      this.cache = newCache;\n    });\n\n    each(this.option, (option: BaseOption) => {\n      if (option.type !== 'regionFilter') {\n        updateComponentFn(option);\n      }\n    });\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.cache.clear();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(p: Position): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = this.getNormalizedValue(xPos, xScale);\n      y = this.getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = this.getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = this.getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse the value position\n   * @param val\n   * @param scale\n   */\n  private getNormalizedValue(val: number | string, scale: Scale) {\n    let result: number;\n    let scaled: number;\n\n    switch (val) {\n      case 'start':\n        result = 0;\n        break;\n      case 'end':\n        result = 1;\n        break;\n      case 'median': {\n        scaled = scale.isCategory ? (scale.values.length - 1) / 2 : (scale.min + scale.max) / 2;\n        result = scale.scale(scaled);\n        break;\n      }\n      case 'min':\n      case 'max':\n        if (scale.isCategory) {\n          scaled = val === 'min' ? 0 : scale.values.length - 1;\n        } else {\n          scaled = scale[val];\n        }\n        result = scale.scale(scaled);\n        break;\n      default:\n        result = scale.scale(val);\n    }\n\n    return result;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object {\n    const coordinate = this.view.getCoordinate();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end } = option as ArcOption;\n      const sp = this.parsePosition(start);\n      const ep = this.parsePosition(end);\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end } = option as ImageOption;\n      o = {\n        start: this.parsePosition(start),\n        end: this.parsePosition(end),\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end } = option as LineOption;\n      o = {\n        start: this.parsePosition(start),\n        end: this.parsePosition(end),\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end } = option as RegionPositionBaseOption;\n      o = {\n        start: this.parsePosition(start),\n        end: this.parsePosition(end),\n      };\n    } else if (type === 'text') {\n      const { position, rotate } = option as TextOption;\n      o = {\n        ...this.parsePosition(position),\n        content: option.content,\n        rotate,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction } = option as DataMarkerOption;\n      o = {\n        ...this.parsePosition(position),\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength } = option as DataRegionOption;\n      o = {\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        color,\n        shapes,\n        start: this.parsePosition(start),\n        end: this.parsePosition(end),\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    cfg.container = this.getComponentContainer(cfg);\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n}\n","import { get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION): object {\n  return get(theme, ['components', 'axis', direction, 'grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(coordinate: Coordinate, xScale: Scale, yScale: Scale, alignTick: boolean, dim: string) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ]\n      })\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleText,\n  getCircleAxisCenterRadius\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private gridContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.option = this.view.getOptions().axes;\n\n    this.createXAxes();\n    this.createYAxes();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed ? getAxisRegion(coordinate, direction) : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed ? getCircleAxisCenterRadius(coordinate) : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items = dim === 'x' ?\n              getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim) :\n              getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items = dim === 'x' ?\n              getLineGridItems(coordinate, scale, dim, alignTick) :\n              getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.axisContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.axisContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n    // @ts-ignore\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const { field } = scale;\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', field);\n    const gridId = this.getId('grid', field);\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed ?\n          // @ts-ignore\n          this.getLineAxisCfg(scale, xAxisOption, 'radius') :\n          this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            // @ts-ignore\n            axis = this.createLineAxis(scale, xAxisOption, layer, 'radius', dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed ?\n          // @ts-ignore\n          this.getCircleGridCfg(scale, xAxisOption, 'radius', dim) :\n          // @ts-ignore\n          this.getLineGridCfg(scale, xAxisOption, 'circle', dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            // @ts-ignore\n            grid = this.createCircleGrid(scale, xAxisOption, layer, 'radius', dim);\n          }\n        } else {\n          // @ts-ignore\n          grid = this.createLineGrid(scale, xAxisOption, layer, 'circle', dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed ?\n              // @ts-ignore\n              this.getCircleAxisCfg(scale, yAxisOption, 'circle'):\n              // @ts-ignore\n              this.getLineAxisCfg(scale, yAxisOption, 'radius');\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                // @ts-ignore\n                axis = this.createCircleAxis(scale, yAxisOption, layer, 'circle', dim);\n              }\n            } else {\n              // @ts-ignore\n              axis = this.createLineAxis(scale, yAxisOption, layer, 'radius', dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed ?\n              // @ts-ignore\n              this.getLineGridCfg(scale, yAxisOption, 'circle', dim):\n              // @ts-ignore\n              this.getCircleGridCfg(scale, yAxisOption, 'radius', dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                // @ts-ignore\n                grid = this.createLineGrid(scale, yAxisOption, layer, 'circle', dim);\n              }\n            } else {\n              // @ts-ignore\n              grid = this.createCircleGrid(scale, yAxisOption, layer, 'radius', dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  x axis \n   */\n  private createXAxes() {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption !== false) {\n      const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n      const layer = LAYER.BG;\n      const dim = 'x';\n\n      const coordinate = this.view.getCoordinate();\n\n      const axisId = this.getId('axis', scale.field);\n      const gridId = this.getId('grid', scale.field);\n\n      if (coordinate.isRect) {\n        // axis\n        const axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n\n        // grid\n        const grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n        }\n      } else if (coordinate.isPolar) {\n        let axis;\n        let grid;\n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            // @ts-ignore\n            axis = this.createLineAxis(scale, xAxisOption, layer, 'radius', dim);\n            // @ts-ignore\n            grid = this.createCircleGrid(scale, xAxisOption, layer, 'radius', dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n          // grid x \n          // @ts-ignore\n          grid = this.createLineGrid(scale, xAxisOption, layer, 'circle', dim);\n        }\n\n        this.cache.set(axisId, axis);\n        if (grid) {\n          this.cache.set(gridId, grid);\n        }\n      } else {\n        // helix and other, do not draw axis\n      }\n    }\n  }\n\n  /**\n   * create y axis\n   */\n  private createYAxes() {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n          // axis\n          const axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n          this.cache.set(axisId, axis);\n\n          // grid\n          const grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n          if (grid) {\n            this.cache.set(gridId, grid);\n          }\n        } else if (coordinate.isPolar) {\n          let axis;\n          let grid;\n          if (coordinate.isTransposed) {\n            if (isUndefined(yAxisOption)) {\n              return;\n            } else {\n              // @ts-ignore\n              axis = this.createCircleAxis(scale, yAxisOption, layer, 'circle', dim);\n              // @ts-ignore\n              grid = this.createLineGrid(scale, yAxisOption, layer, 'circle', dim);\n            }\n          } else {\n            // @ts-ignore\n            axis = this.createLineAxis(scale, yAxisOption, layer, 'radius', dim);\n            // @ts-ignore\n            grid = this.createCircleGrid(scale, yAxisOption, layer, 'radius', dim);\n          }\n          this.cache.set(this.getId('axis', scale.field), axis);\n          if (grid) {\n            this.cache.set(gridId, grid);\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      // @ts-ignore\n      direction: direction === 'radius' ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n         },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION): object {\n    const container = this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix({ title: { style: { text: titleText } } }, axisOption)\n      : axisOption;\n\n    const cfg = deepMix({\n      container,\n      ...region,\n      ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n      verticalFactor: coordinate.isPolar\n        ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n        : getAxisFactorByRegion(region, coordinate.getCenter()),\n    }, axisThemeCfg, optionWithTitle);\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string): object {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix({\n      container: this.gridContainer,\n    }, gridThemeCfg, get(axisOption, 'grid'), this.getAnimateCfg(axisOption));\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION): object {\n    const container = this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), 'circle');\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix({ title: { style: { text: titleText } } }, axisOption)\n      : axisOption;\n    const cfg = deepMix({\n      container,\n      ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n      ticks,\n      verticalFactor: 1,\n    }, axisThemeCfg, optionWithTitle);\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string): object {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    // @ts-ignore\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), 'radius');\n    const gridCfg = deepMix({\n      container: this.gridContainer,\n      center: this.view.getCoordinate().getCenter(),\n    }, gridThemeCfg, get(axisOption, 'grid'), this.getAnimateCfg(axisOption));\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption: cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","import { deepMix, isString } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendItem } from '../interface';\nimport { getMappingValue } from './attr';\nimport { MarkerSymbols } from './marker';\n\nfunction setMarkerSymbol(marker) {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param userMarker\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker,\n): any[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      const unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, userMarker);\n\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem) => {\n    const marker = deepMix({}, themeMarker, userMarker, item.marker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\n\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, LegendOption> | boolean;\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: Record<string, LegendOption> | boolean, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<Option> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() { }\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    this.option = this.view.getOptions().legends;\n\n    const doEachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const legend = this.createFieldLegend(geometry, attr, scale);\n\n      if (legend) {\n        (legend.component as GroupComponent).init();\n        this.components.push(legend);\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const component = this.createCustomLegend(\n        undefined, undefined, undefined,\n        this.option as LegendCfg,\n      );\n      if (component) {\n        component.init();\n\n        const layer = LAYER.FORE;\n        const direction = getDirection(this.option);\n\n        this.components.push({\n          id: 'global-custom',\n          component,\n          layer,\n          direction,\n          type: COMPONENT_TYPE.LEGEND,\n          extra: undefined,\n        });\n      }\n    } else {\n      // \n      this.loopLegends(doEachLegend);\n    }\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxSize = this.getCategoryLegendSizeCfg(layout);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n      const [x1, y1] = directionToPosition(this.view.coordinateBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.update({\n        x,\n        y,\n      });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(\n          undefined, undefined, undefined,\n          this.option as LegendCfg,\n        );\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) { return; }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any): object {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix({\n        text: getName(scale),\n      }, title);\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean): object {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    // the default marker style\n    const themeMarker = get(this.view.getTheme(), ['components', 'legend', direction, 'marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n\n    const items = custom ?\n      getCustomLegendItems(themeMarker, userMarker, legendOption.items) :\n      getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix({\n        text: scale ? getName(scale) : '',\n      }, title);\n    }\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const themeObject = get(this.view.getTheme(), ['components', 'legend', direction], {});\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(layout: 'horizontal' | 'vertical') {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n        maxWidth: vw * COMPONENT_MAX_VIEW_PERCENTAGE,\n        maxHeight: ch,\n      }\n      : {\n        maxWidth: cw,\n        maxHeight: vh * COMPONENT_MAX_VIEW_PERCENTAGE,\n      };\n  }\n}\n","import { deepMix, get, isObject, size } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { IGroup, Slider as SliderComponent, TrendCfg } from '../../dependents';\nimport { ComponentOption, Datum } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween, omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\nexport type SliderFormatterType = (val: any, datum: Datum, idx: number) => any;\n/** Slider  */\nexport interface SliderOption {\n  /** slider  */\n  readonly height?: number;\n\n  /**  */\n  readonly trendCfg?: TrendCfg;\n  /**  */\n  readonly backgroundStyle?: any;\n  /**  */\n  readonly foregroundStyle?: any;\n  /**  */\n  readonly handlerStyle?: any;\n  /**  */\n  readonly textStyle?: any;\n  /**  */\n  readonly minLimit?: number;\n  /**  */\n  readonly maxLimit?: number;\n  /**  */\n  readonly start?: number;\n  /**  */\n  readonly end?: number;\n  /**  */\n  formatter?: SliderFormatterType;\n}\n\ntype Option = SliderOption | boolean;\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<Option> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  /**\n   * \n   */\n  public init() {\n  }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n\n    if (this.option) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onValueChanged);\n      }\n      // changeData \n      //  text\n      const min = this.slider.component.get('start') || 0;\n      const max = this.slider.component.get('end') || 1;\n\n      this.updateMinMaxText(min, max);\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.slider) {\n\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        x: x2,\n        y: y1,\n        width,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.OTHER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    const cfg = this.getSliderCfg();\n    omit(cfg, ['x', 'y', 'width', 'start', 'end', 'minText', 'maxText']);\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      const x = 0;\n      const y = 0;\n      const width = this.view.coordinateBBox.width;\n\n      // \n      const cfg = deepMix({}, { x, y, width }, this.option);\n\n      // trendCfg \n      return { ...cfg, trendCfg };\n    }\n\n    return {};\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChanged = (v: any) => {\n    const [min, max] = v;\n\n    this.updateMinMaxText(min, max);\n\n    this.view.render(true);\n  };\n\n  private updateMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const dataSize = size(data);\n    const xScale = this.view.getXScale();\n\n    if (!xScale || !dataSize) {\n      return;\n    }\n\n    const x = xScale.field;\n\n    // x \n    const xData = data.map((datum) => datum[x] || '');\n\n    const minIndex = Math.floor(min * (dataSize - 1));\n    const maxIndex = Math.floor(max * (dataSize - 1));\n\n    let minText = get(xData, [minIndex]);\n    let maxText = get(xData, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderFormatterType;\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    // \n    this.slider.component.update({\n      minText,\n      maxText,\n      start: min,\n      end: max,\n    });\n\n    //  x \n    this.view.filter(\n      xScale.field,\n      (value: any, datum: Datum, idx: number) => isBetween(idx, minIndex, maxIndex),\n    );\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n}\n","import { deepMix, find, flatten, get, isArray, isEqual, isFunction, isUndefined, mix } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport { Point, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findDataByPoint, getTooltipItems } from '../../util/tooltip';\nimport { Controller } from './base';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private isVisible: boolean = true;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  public render() {\n    const option = this.view.getOptions().tooltip;\n    this.isVisible = option !== false;\n  }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible) { //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit('tooltip:show', {\n      items,\n      title,\n      ...point,\n    });\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit('tooltip:change', {\n        items,\n        title,\n        ...point,\n      });\n\n      if (showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(mix({}, cfg, {\n          items,\n          title,\n        }, follow ? point : {}));\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', {});\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  private getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = isUndefined(get(option, 'enterable')) ? defaultCfg.enterable : get(option, 'enterable');\n    return deepMix({}, defaultCfg, option, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    for (const item of items) {\n      const { x, y } = item;\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix({\n      start,\n      end,\n      container: this.getTooltipCrosshairsGroup(),\n    }, get(tooltipCfg, 'crosshairs', {}), this.getCrosshairsText('x', point, tooltipCfg));\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix({\n      container: this.getTooltipCrosshairsGroup()\n    }, cfg, get(tooltipCfg, 'crosshairs', {}), this.getCrosshairsText('y', point, tooltipCfg));\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if ((coordinate.isRect && yCrosshair.get('type') === 'circle')\n        || (!coordinate.isRect && yCrosshair.get('type') === 'line')) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private getTooltipItemsByHitShape(geometry, point, title) {\n    const result = [];\n    const container = geometry.container;\n    const shape = container.getShape(point.x, point.y);\n    if (shape && shape.get('visible') && shape.get('origin')) {\n      const mappingData = shape.get('origin').mappingData;\n      const items = getTooltipItems(mappingData, geometry, title);\n      if (items.length) {\n        result.push(items);\n      }\n    }\n\n    return result;\n  }\n\n  private getTooltipItemsByFindData(geometry: Geometry, point, title) {\n    const result = [];\n    const dataArray = geometry.dataArray;\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n\n    return result;\n  }\n\n  private findItemsFromView(view, point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    let result = [];\n    //  view \n    const geometries = view.geometries;\n    const { shared, title } = this.getTooltipCfg();\n    for (const geometry of geometries) {\n      if (geometry.visible && geometry.tooltipOption !== false) {\n        // geometry  tooltip\n        const geometryType = geometry.type;\n        let tooltipItems;\n        if (['point', 'edge', 'polygon'].includes(geometryType)) {\n          // \n          tooltipItems = this.getTooltipItemsByHitShape(geometry, point, title);\n        } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n          //  'area', 'line', 'path' tooltip\n          tooltipItems = this.getTooltipItemsByFindData(geometry, point, title);\n        } else {\n          if (shared !== false) {\n            tooltipItems = this.getTooltipItemsByFindData(geometry, point, title);\n          } else {\n            tooltipItems = this.getTooltipItemsByHitShape(geometry, point, title);\n          }\n        }\n        if (tooltipItems.length) {\n          // geometry  item geometry.tooltip('x*y*z')\n          result.push(tooltipItems);\n        }\n      }\n    }\n\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n}\n","import { each, head, isEqual, last } from '@antv/util';\nimport { IShape } from '../../dependents';\nimport Element from '../../geometry/element/';\nimport { LooseObject } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   */\n  public show() {\n    const view = this.context.view;\n    const ev = this.context.event;\n    const tooltipItems = view.getTooltipItems({\n      x: ev.x,\n      y: ev.y,\n    });\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n          const appendRatio = xScale.isLinear ? 0 : 0.25; //  x \n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendRatio * lastBBox.height;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendRatio * 2 * lastBBox.height;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendRatio * firstBBox.width;\n            minY = Math.min(coordinateBBox.minY, firstBBox.minY);\n            width = groupBBox.width + appendRatio * 2 * firstBBox.width;\n            height = coordinateBBox.height;\n          }\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              path,\n              fill: '#CCD6EC',\n              opacity: 0.3,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { get, isEqual, isNil } from '@antv/util';\nimport { View } from '../../../chart';\nimport { Point } from '../../../interface';\nimport Action from '../base';\n\n// \nfunction hasClass(dom, className) {\n  if (!dom) {\n    return false;\n  }\n  let cls = '';\n  if (!dom.className) { return false; }\n  if (!isNil(dom.className.baseVal)) {\n    cls = dom.className.baseVal;\n  } else {\n    cls = dom.className;\n  }\n  return cls.includes(className);\n}\n\nfunction isParent(dom, cls) {\n  let parent = dom.parentNode;\n  let rst = false;\n  while (parent && parent !== document.body) {\n    if (hasClass(parent, cls)) {\n      rst = true;\n      break;\n    }\n    parent = parent.parentNode;\n  }\n  return rst;\n}\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip \n      return;\n    }\n\n    const event = this.context.event;\n    const toElement = get(event, [ 'gEvent', 'originalEvent', 'toElement' ]);\n    if (toElement && (hasClass(toElement, 'g2-tooltip') || isParent(toElement, 'g2-tooltip'))) {\n      //  tooltip \n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { Point } from '../../../interface';\nimport {getSiblingPoint, getSilbings} from '../util'\nimport TooltipAction from './tooltip';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, sibling => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, sibling => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getCurrentElement, getDelegationObject, getElements, getElementValue, getScaleByField, isElementChange, isList} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter(state => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) { //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { each } from '@antv/util';\nimport { LooseObject} from '../../../interface';\nimport { IGroup} from '../../../dependents';\n\n/**\n * Link Elements by color\n * @ignore\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox= nextElement.shape.getCanvasBBox();\n    const path = [\n      ['M', bbox.maxX, bbox.minY],\n      ['L', nextBBox.minX, nextBBox.minY],\n      ['L', nextBBox.minX, nextBBox.maxY],\n      ['L', bbox.maxX, bbox.maxY],\n      ['Z']\n    ]\n    return path;\n  }\n  // \n  private addLinkShape(group, element: Element, nextElement: Element) {\n    group.addShape({\n      type: 'path',\n      attrs: {\n        opacity: 0.4,\n        fill: element.shape.attr('fill'),\n        path: this.getLinkPath(element, nextElement)\n      }\n    });\n  }\n  // \n  private linkByElement(element: Element) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count -1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public link() {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        capture: false\n      });\n    }\n    const element =  getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  unlink() {\n    const element =  getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if(this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport { getElements, getIntersectElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  private getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map(el => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, sibling => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter(el => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if(isMask(this.context)) { //  mask \n      each(siblings, sibling => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, sibling => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype Callback = (el) => boolean;\n\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  private setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0])\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter(el => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter(el => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements:Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter(state => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import { IList } from '@antv/component/lib/interfaces';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs\n      }\n    })\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask();\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, point => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask() {\n    const attrs = this.getMaskAttrs();\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    \n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points)\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const {start, end} = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) { //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') { // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1\n      });\n    } else { // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y\n      });\n    }\n    return {\n      start,\n      end\n    };\n  }\n}\n\nexport default DimRect;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath()\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, subView => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view,field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition } from '../../../interface';\n\nimport { View } from '../../../chart';\nimport Action from '../base';\nimport { distance, isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = {x: bbox.x, y: bbox.y};\n      currentPoint = {x: bbox.maxX, y: bbox.maxY};\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view);\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view);\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    view.render(true);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, sibling => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, sibling => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getDelegationObject, getElements, getElementValue, getScaleByField, isList, isSlider, isMask, getMaskedElements } from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if(isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import {each} from '@antv/util';\nimport Action from \"../base\";\nimport { getElements, getMaskedElements , getSiblingMaskElements, getSilbings, isInRecords, isMask} from \"../util\";\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if(this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map(el => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, sibling => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, sibling => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) { // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, sibling => {\n      const elements = getElements(sibling);\n      each(elements, el => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '@antv/component/lib/types';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP]]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y]]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn () {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom (scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut () {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max  + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && (scaled < 100 && scaled > 0.01)) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { isObject, each, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape  } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nimport { polarToCartesian } from '../../../util/graphics';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, item => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [`M ${startPoint.x}`, `${startPoint.y} Q${innerPoint.x}`, `${innerPoint.y} ${endPoint.x}`, endPoint.y].join(',');\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX =regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY ) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  // \b\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate(\n    (ratio: number) => {\n      return {\n        // \n        lineDashOffset: (1 - ratio) * length,\n      };\n    },\n    animateCfg,\n  );\n}\n","/**\n * Parse or format dates\n * @class fecha\n */\nvar fecha = {};\nvar token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigits = '\\\\d\\\\d?';\nvar threeDigits = '\\\\d{3}';\nvar fourDigits = '\\\\d{4}';\nvar word = '[^\\\\s]+';\nvar literal = /\\[([^]*?)\\]/gm;\nvar noop = function () {\n};\n\nfunction regexEscape(str) {\n  return str.replace( /[|\\\\{()[^$+*?.-]/g, '\\\\$&');\n}\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nfunction monthUpdate(arrName) {\n  return function (d, v, i18n) {\n    var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n    if (~index) {\n      d.month = index;\n    }\n  };\n}\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\nvar dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nfecha.i18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: ['am', 'pm'],\n  DoFn: function DoFn(D) {\n    return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n  }\n};\n\nvar formatFlags = {\n  D: function(dateObj) {\n    return dateObj.getDate();\n  },\n  DD: function(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function(dateObj) {\n    return dateObj.getDay();\n  },\n  dd: function(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function(dateObj) {\n    return dateObj.getMonth() + 1;\n  },\n  MM: function(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function(dateObj) {\n    return dateObj.getHours() % 12 || 12;\n  },\n  hh: function(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function(dateObj) {\n    return dateObj.getHours();\n  },\n  HH: function(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function(dateObj) {\n    return dateObj.getMinutes();\n  },\n  mm: function(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function(dateObj) {\n    return dateObj.getSeconds();\n  },\n  ss: function(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function(dateObj) {\n    return Math.round(dateObj.getMilliseconds() / 100);\n  },\n  SS: function(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function(dateObj) {\n    var o = dateObj.getTimezoneOffset();\n    return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n  }\n};\n\nvar parseFlags = {\n  D: [twoDigits, function (d, v) {\n    d.day = v;\n  }],\n  Do: [twoDigits + word, function (d, v) {\n    d.day = parseInt(v, 10);\n  }],\n  M: [twoDigits, function (d, v) {\n    d.month = v - 1;\n  }],\n  YY: [twoDigits, function (d, v) {\n    var da = new Date(), cent = +('' + da.getFullYear()).substr(0, 2);\n    d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n  }],\n  h: [twoDigits, function (d, v) {\n    d.hour = v;\n  }],\n  m: [twoDigits, function (d, v) {\n    d.minute = v;\n  }],\n  s: [twoDigits, function (d, v) {\n    d.second = v;\n  }],\n  YYYY: [fourDigits, function (d, v) {\n    d.year = v;\n  }],\n  S: ['\\\\d', function (d, v) {\n    d.millisecond = v * 100;\n  }],\n  SS: ['\\\\d{2}', function (d, v) {\n    d.millisecond = v * 10;\n  }],\n  SSS: [threeDigits, function (d, v) {\n    d.millisecond = v;\n  }],\n  d: [twoDigits, noop],\n  ddd: [word, noop],\n  MMM: [word, monthUpdate('monthNamesShort')],\n  MMMM: [word, monthUpdate('monthNames')],\n  a: [word, function (d, v, i18n) {\n    var val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      d.isPm = false;\n    } else if (val === i18n.amPm[1]) {\n      d.isPm = true;\n    }\n  }],\n  ZZ: ['[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z', function (d, v) {\n    var parts = (v + '').match(/([+-]|\\d\\d)/gi), minutes;\n\n    if (parts) {\n      minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n      d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n    }\n  }]\n};\nparseFlags.dd = parseFlags.d;\nparseFlags.dddd = parseFlags.ddd;\nparseFlags.DD = parseFlags.D;\nparseFlags.mm = parseFlags.m;\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\nparseFlags.MM = parseFlags.M;\nparseFlags.ss = parseFlags.s;\nparseFlags.A = parseFlags.a;\n\n\n// Some common format strings\nfecha.masks = {\n  default: 'ddd MMM DD YYYY HH:mm:ss',\n  shortDate: 'M/D/YY',\n  mediumDate: 'MMM D, YYYY',\n  longDate: 'MMMM D, YYYY',\n  fullDate: 'dddd, MMMM D, YYYY',\n  shortTime: 'HH:mm',\n  mediumTime: 'HH:mm:ss',\n  longTime: 'HH:mm:ss.SSS'\n};\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n */\nfecha.format = function (dateObj, mask, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof dateObj === 'number') {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n    throw new Error('Invalid Date in fecha.format');\n  }\n\n  mask = fecha.masks[mask] || mask || fecha.masks['default'];\n\n  var literals = [];\n\n  // Make literals inactive by replacing them with ??\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  // Apply formatting rules\n  mask = mask.replace(token, function ($0) {\n    return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n  });\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, function() {\n    return literals.shift();\n  });\n};\n\n/**\n * Parse a date string into an object, changes - into /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @returns {Date|boolean}\n */\nfecha.parse = function (dateStr, format, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof format !== 'string') {\n    throw new Error('Invalid format in fecha.parse');\n  }\n\n  format = fecha.masks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  var dateInfo = {};\n  var parseInfo = [];\n  var literals = [];\n  format = format.replace(literal, function($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  var newFormat = regexEscape(format).replace(token, function ($0) {\n    if (parseFlags[$0]) {\n      var info = parseFlags[$0];\n      parseInfo.push(info[1]);\n      return '(' + info[0] + ')';\n    }\n\n    return $0;\n  });\n  newFormat = newFormat.replace(/@@@/g, function() {\n    return literals.shift();\n  });\n  var matches = dateStr.match(new RegExp(newFormat, 'i'));\n  if (!matches) {\n    return null;\n  }\n\n  for (var i = 1; i < matches.length; i++) {\n    parseInfo[i - 1](dateInfo, matches[i], i18n);\n  }\n\n  var today = new Date();\n  if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var date;\n  if (dateInfo.timezoneOffset != null) {\n    dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n    date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n      dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n  } else {\n    date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n      dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n  }\n  return date;\n};\n\nexport default fecha;\n","import { View, Axis, Legend, COMPONENT_TYPE, BBox } from '../dependents';\n\n/**\n * text, title description\n *\n * @param source\n */\nexport function isTextUsable(source?: { visible?: boolean; text?: string }): boolean {\n  if (!source) return false;\n  if (source.visible === true && typeof source.text === 'string' && source.text.trim()) return true;\n  return false;\n}\n\n/**\n * \n * @param source -  ['a', 'b', 'c']\n * @param breaks - index\n *\n * @example\n * ```js\n * breakText(['a','b','c'], [1])\n *\n * // a\\nbc\n * ```\n */\nexport function breakText(source: string[], breaks: number[]): string {\n  const result = [...source];\n  breaks.forEach((pos, index) => {\n    result.splice(pos + index, 0, '\\n');\n  });\n  return result.join('');\n}\n\n/**\n *  View  Axis \n */\nexport function getAxisComponents(view: View): Axis.Base[] {\n  return (view\n    .getComponents()\n    .filter((co) => co.type === COMPONENT_TYPE.AXIS)\n    .map((co) => co.component) as unknown) as Axis.Base[];\n}\n\nexport function getLegendComponents(view: View): Legend.Base[] {\n  return (view\n    .getComponents()\n    .filter((co) => co.type === COMPONENT_TYPE.LEGEND)\n    .map((co) => co.component) as unknown) as Legend.Base[];\n}\n\nexport function getAxisShapes(view) {\n  const axisShape = view.backgroundGroup.findAll((el) => {\n    if (el.get('name')) {\n      const name = el.get('name').split('-');\n      return name[0] === 'axis';\n    }\n  });\n  return axisShape;\n}\n\nexport function getLegendShapes(view) {\n  const axisShape = view.foregroundGroup.findAll((el) => {\n    if (el.get('name')) {\n      return el.get('name') === 'legend-item-group';\n    }\n  });\n  return axisShape;\n}\n\nexport function sortedLastIndex<T>(arr: T[], val: T): number {\n  let i = arr.length;\n  while (i > 0) {\n    if (val >= arr[i - 1]) {\n      break;\n    }\n    i -= 1;\n  }\n  return i;\n}\n\n/* label */\nexport function isBBoxIntersect(bboxA: BBox, bboxB: BBox) {\n  if (bboxA.maxY < bboxB.minY || bboxB.maxY < bboxA.minY) {\n    return false;\n  }\n  if (bboxA.maxX < bboxB.minX || bboxB.maxX < bboxA.minX) {\n    return false;\n  }\n  return true;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar line_1 = require(\"./line\");\nvar bezier_1 = require(\"./bezier\");\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t; // t * t * t  Math.pow(t, 3) \n    return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;\n}\nfunction derivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));\n}\nfunction extrema(p0, p1, p2, p3) {\n    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n    var b = 6 * p0 - 12 * p1 + 6 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var extremas = [];\n    var t1;\n    var t2;\n    var discSqrt;\n    if (util_1.isNumberEqual(a, 0)) {\n        if (!util_1.isNumberEqual(b, 0)) {\n            t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (util_1.isNumberEqual(disc, 0)) {\n            extremas.push(-b / (2 * a));\n        }\n        else if (disc > 0) {\n            discSqrt = Math.sqrt(disc);\n            t1 = (-b + discSqrt) / (2 * a);\n            t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extremas.push(t2);\n            }\n        }\n    }\n    return extremas;\n}\n// \nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    // \n    var xt = cubicAt(x1, x2, x3, x4, t);\n    var yt = cubicAt(y1, y2, y3, y4, t);\n    // \n    var c1 = line_1.default.pointAt(x1, y1, x2, y2, t);\n    var c2 = line_1.default.pointAt(x2, y2, x3, y3, t);\n    var c3 = line_1.default.pointAt(x3, y3, x4, y4, t);\n    var c12 = line_1.default.pointAt(c1.x, c1.y, c2.x, c2.y, t);\n    var c23 = line_1.default.pointAt(c2.x, c2.y, c3.x, c3.y, t);\n    return [\n        [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n        [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n    ];\n}\n// \nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n    if (iterationCount === 0) {\n        return bezier_1.snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n    }\n    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n    var left = cubics[0];\n    var right = cubics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return cubicLength.apply(null, left) + cubicLength.apply(null, right);\n}\nexports.default = {\n    extrema: extrema,\n    box: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        var xArr = [x1, x4];\n        var yArr = [y1, y4];\n        var xExtrema = extrema(x1, x2, x3, x4);\n        var yExtrema = extrema(y1, y2, y3, y4);\n        for (var i = 0; i < xExtrema.length; i++) {\n            xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n        }\n        for (var i = 0; i < yExtrema.length; i++) {\n            yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        //  8 \n        return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0) {\n        return bezier_1.nearestPoint([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x4, y4, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0);\n        return util_1.distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: cubicAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return {\n            x: cubicAt(x1, x2, x3, x4, t),\n            y: cubicAt(y1, y2, y3, y4, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, x4, y4, t) {\n        var dx = derivativeAt(x1, x2, x3, x4, t);\n        var dy = derivativeAt(y1, y2, y3, y4, t);\n        return util_1.piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=cubic.js.map","import { each } from '@antv/util';\nimport { View } from '../dependents';\nimport BBox from '../util/bbox';\nimport Interaction from './core';\nimport ViewLayer from '../base/view-layer';\nimport { IInteractionConfig } from '../interface/config';\n\nexport interface InteractionCtor {\n  new (\n    cfg: { view: View },\n    viewLayer: ViewLayer<any>,\n    interactionRange?: BBox,\n    interaction?: IInteractionConfig\n  ): BaseInteraction;\n  getInteractionRange(layerRange: BBox, interaction?: IInteractionConfig): BBox;\n}\n\ninterface InteractionMap {\n  [type: string]: InteractionCtor;\n}\n\nexport default abstract class BaseInteraction extends Interaction {\n  public static registerInteraction(type: string, ctor: any) {\n    BaseInteraction.GLOBAL_INTERACTION_MAP[type] = ctor;\n  }\n\n  public static registerPlotInteraction(plotType: string, type: string, ctor: any) {\n    if (!BaseInteraction.PLOT_INTERACTION_MAP[plotType]) {\n      BaseInteraction.PLOT_INTERACTION_MAP[plotType] = {};\n    }\n    BaseInteraction.PLOT_INTERACTION_MAP[plotType][type] = ctor;\n  }\n\n  public static getInteraction(type: string, plotType?: string): InteractionCtor | undefined {\n    if (plotType && BaseInteraction.PLOT_INTERACTION_MAP[plotType] && BaseInteraction[plotType][type]) {\n      return BaseInteraction.PLOT_INTERACTION_MAP[plotType][type];\n    }\n    return BaseInteraction.GLOBAL_INTERACTION_MAP[type];\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  public static getInteractionRange(layerRange: BBox, interaction?: IInteractionConfig): BBox | undefined {\n    return undefined;\n  }\n\n  private static GLOBAL_INTERACTION_MAP: InteractionMap = {};\n  private static PLOT_INTERACTION_MAP: { [plot: string]: InteractionMap } = {};\n\n  public type: string;\n  public cfg: any;\n  private interactionConfig: IInteractionConfig;\n  private interactionRange: BBox;\n  private viewLayer: ViewLayer<any>;\n  private disposables: (() => void)[];\n\n  constructor(\n    cfg: { view: View },\n    viewLayer: ViewLayer<any>,\n    interactionRange?: BBox,\n    interaction?: IInteractionConfig\n  ) {\n    super(cfg);\n    this.viewLayer = viewLayer;\n    this.interactionRange = interactionRange;\n    this.interactionConfig = interaction;\n    this.disposables = [];\n    this.render();\n  }\n\n  public destroy(): void {\n    each(this.disposables, (fn) => {\n      fn();\n    });\n    this.disposables = [];\n    this.clear();\n    super.destroy();\n  }\n\n  protected getViewLayer(): ViewLayer<any> {\n    return this.viewLayer;\n  }\n\n  protected getRange(): BBox | undefined {\n    return this.interactionRange;\n  }\n\n  protected getInteractionConfig(): IInteractionConfig | undefined {\n    return this.interactionConfig;\n  }\n\n  protected addDisposable(fn: () => void) {\n    this.disposables.push(fn);\n  }\n\n  protected render(): void {\n    return;\n  }\n\n  protected abstract clear(): void;\n}\n","import { IShape } from '@antv/g-base';\n\nexport default function textHide(shape: IShape) {\n  shape.attr('text', '');\n}\n","import { deepMix, has, each, clone } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption } from '../../interface/config';\nimport ConversionTag from '../../components/conversion-tag';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label';\nimport './component/label-auto';\nimport * as EventParser from './event';\nimport './theme';\nimport { DataItem } from '../../interface/config';\nimport { getGeometryByType } from '../../util/view';\nimport { ColumnViewConfig } from './interface';\nimport { Maybe } from '../../interface/types';\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'column',\n};\n\nexport interface ColumnLayerConfig extends ColumnViewConfig, LayerConfig {}\n\nexport default class BaseColumnLayer<T extends ColumnLayerConfig = ColumnLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        nice: true,\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        grid: {\n          visible: true,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      label: {\n        visible: false,\n        position: 'top',\n        adjustColor: true,\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n      },\n      interactions: [\n        { type: 'tooltip' },\n        { type: 'active-region' },\n        { type: 'legend-active' },\n        { type: 'legend-filter' },\n      ],\n      conversionTag: {\n        visible: false,\n      },\n    });\n  }\n  public column: any;\n  public type: string = 'column';\n  public conversionTag?: ConversionTag;\n\n  public beforeInit() {\n    super.beforeInit();\n    /**  */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    const props = this.options;\n    this.renderLabel();\n    /**  */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    if (props.conversionTag.visible) {\n      this.conversionTag = new ConversionTag({\n        view: this.view,\n        field: props.yField,\n        transpose: true,\n        animation: props.animation === false ? false : true,\n        ...props.conversionTag,\n      });\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const { xField } = this.options;\n    const processedData = [];\n    each(originData, (data) => {\n      const d = clone(data);\n      d[xField] = d[xField].toString();\n      processedData.push(d);\n    });\n    return processedData;\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** x-scale */\n    scales[options.xField] = { type: 'cat' };\n    if (has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** y-scale */\n    scales[options.yField] = {};\n    if (has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    return;\n  }\n\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected adjustColumn(column: ElementOption) {\n    return;\n  }\n\n  protected addGeometry() {\n    const { options } = this;\n    const column = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this,\n    });\n    if (options.conversionTag.visible) {\n      this.setConfig(\n        'theme',\n        deepMix({}, this.getTheme(), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n    }\n    this.adjustColumn(column);\n    this.column = column;\n    if (options.tooltip && (options.tooltip.fields || options.tooltip.formatter)) {\n      this.geometryTooltip();\n    }\n    this.setConfig('geometry', column);\n  }\n\n  protected geometryTooltip() {\n    this.column.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.column.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.column.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.column.tooltip.fields = [this.options.xField, this.options.yField];\n        if (this.options.colorField) {\n          this.column.tooltip.fields.push(this.options.colorField);\n        }\n      }\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    if (this.options.animation === false) {\n      /**  */\n      this.column.animate = false;\n    }\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { label, yField } = this.options;\n    const scale = scales[yField];\n    if (label?.visible) {\n      const geometry = getGeometryByType(this.view, 'interval');\n      this.doRenderLabel(geometry, {\n        type: 'column',\n        formatter: scale.formatter && ((value: Maybe<string | number>) => scale.formatter(value)),\n        ...this.options.label,\n      });\n    }\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r;\n      responsive.method(this);\n    });\n  }\n}\n\nregisterPlotType('column', BaseColumnLayer);\n","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import EventEmitter from '@antv/event-emitter';\nimport { ICanvas, IGroup } from '../dependents';\nimport { deepMix, each, findIndex, keys, contains, isFunction } from '@antv/util';\nimport { Point } from '../interface/config';\nimport { LAYER_EVENT_MAP } from '../util/event';\nimport BBox from '../util/bbox';\n\nexport interface LayerConfig {\n  /** @ignore */\n  id?: string;\n  /** the top-left-x of layer, local position relative to the parent layer */\n  /** @ignore */\n  x?: number;\n  /** the top-left-y of layer, local position relative to the parent layer */\n  /** @ignore */\n  y?: number;\n  /** layer width */\n  width?: number;\n  /** layer height */\n  height?: number;\n  /** the parent node of layer */\n  /** @ignore */\n  parent?: any;\n  /** @ignore */\n  canvas?: ICanvas;\n  name?: string;\n}\n\nexport interface Region {\n  /** the top-left corner of layer-range, range from 0 to 1, relative to parent layer's range */\n  readonly start: Point;\n  /** the bottom-right corner of layer-range, range from 0 to 1, relative to parent layer's range */\n  readonly end: Point;\n}\n\nexport interface Range {\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n}\n\nexport default class Layer<T extends LayerConfig = LayerConfig> extends EventEmitter {\n  public id: string;\n  public x: number;\n  public y: number;\n  public width: number;\n  public height: number;\n  public parent: Layer;\n  public canvas: ICanvas;\n  public layerBBox: BBox;\n  public layers: Layer[] = [];\n  public container: IGroup;\n  public destroyed: boolean = false;\n  protected visibility: boolean = true;\n  protected layerRegion: Region;\n  private rendered: boolean = false;\n  private eventHandlers: any[] = [];\n  public options: T;\n\n  /**\n   * layer base for g2plot\n   */\n  constructor(props: T) {\n    super();\n    this.options = this.getOptions(props);\n    this.processOptions(this.options);\n  }\n\n  public processOptions(options) {\n    this.id = options.id;\n    this.x = options.x || 0;\n    this.y = options.y || 0;\n    this.width = options.width;\n    this.height = options.height;\n    this.canvas = options.canvas;\n    this.parent = options.parent;\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    this.options = deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  }\n\n  public beforeInit() {\n    return null;\n  }\n\n  /**\n   * init life cycle\n   */\n  public init() {\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.eachLayer((layer) => {\n      layer.init();\n    });\n  }\n\n  public afterInit() {\n    return null;\n  }\n\n  /**\n   * render layer recursively\n   */\n  public render() {\n    // fixme: plotlayerrender\n    if (!this.rendered) {\n      this.container = this.parent ? this.parent.container.addGroup() : this.canvas.addGroup();\n    }\n    this.rendered = true;\n    this.beforeInit();\n    this.init();\n    this.afterInit();\n    //(this.container, [['t', this.x, this.y]]);\n    this.eachLayer((layer) => {\n      layer.render();\n    });\n    this.canvas.draw();\n  }\n\n  /**\n   * clear layer content\n   */\n  public clear() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    this.layers = [];\n    this.container.clear();\n  }\n\n  /**\n   * destroy layer recursively, remove the container of layer\n   */\n  public destroy() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    each(this.eventHandlers, (h) => {\n      this.off(h.eventName, h.handler);\n    });\n    this.container.remove(true);\n    this.destroyed = true;\n  }\n\n  /**\n   * display layer\n   */\n  public show() {\n    this.container.attr('visible', true);\n    this.container.set('visible', true);\n    this.visibility = true;\n    this.canvas.draw();\n  }\n\n  /**\n   * hide layer\n   */\n  public hide() {\n    this.container.attr('visible', false);\n    this.container.set('visible', false);\n    this.visibility = false;\n    this.canvas.draw();\n  }\n\n  /**\n   * add children layer\n   * @param layer\n   */\n  public addLayer(layer: Layer<any>) {\n    const idx = findIndex(this.layers, (item) => item === layer);\n    if (idx < 0) {\n      if (layer.parent !== this) {\n        layer.parent = this;\n        layer.init();\n      }\n      this.layers.push(layer);\n    }\n  }\n\n  /**\n   * remove children layer\n   * @param layer\n   */\n  public removeLayer(layer: Layer<any>) {\n    const idx = findIndex(this.layers, (item) => item === layer);\n    if (idx >= 0) {\n      this.layers.splice(idx, 1);\n    }\n  }\n\n  /**\n   * update layer's display range\n   * @param props\n   * @param recursive whether update children layers or not\n   */\n  public updateBBox(props: Range, recursive: boolean = false) {\n    const originRange = {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height,\n    };\n    const newRange = deepMix({}, originRange, props);\n    this.x = newRange.x;\n    this.y = newRange.y;\n    this.width = newRange.width;\n    this.height = newRange.height;\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.render();\n    if (recursive) {\n      this.eachLayer((layer) => {\n        layer.updateBBoxByParent();\n        layer.render();\n      });\n    }\n    this.canvas.draw();\n  }\n\n  /**\n   * update display range according to parent layer's range\n   */\n  public updateBBoxByParent() {\n    const region = this.layerRegion;\n    this.x = this.parent.x + this.parent.width * region.start.x;\n    this.y = this.parent.y + this.parent.height * region.start.y;\n    this.width = this.parent.width * (region.end.x - region.start.x);\n    this.height = this.parent.height * (region.end.y - region.start.y);\n    this.layerBBox = this.getLayerBBox();\n  }\n\n  /**\n   * get global position of layer\n   */\n  public getGlobalPosition() {\n    let globalX = this.x;\n    let globalY = this.y;\n    let parent = this.parent;\n    while (parent) {\n      globalX += parent.x;\n      globalY += parent.y;\n      parent = parent.parent;\n    }\n    return { x: globalX, y: globalY };\n  }\n\n  public getGlobalBBox() {\n    const globalPosition = this.getGlobalPosition();\n    return new BBox(globalPosition.x, globalPosition.y, this.width, this.height);\n  }\n\n  public getOptions(props: Partial<T>): T {\n    let parentWidth = 0;\n    let parentHeight = 0;\n    if (props.parent) {\n      parentWidth = props.parent.width;\n      parentHeight = props.parent.height;\n    }\n    const defaultOptions = {\n      x: 0,\n      y: 0,\n      width: parentWidth,\n      height: parentHeight,\n    };\n    return deepMix({}, defaultOptions, props);\n  }\n\n  public eachLayer(cb: (layer: Layer<any>) => void) {\n    each(this.layers, cb);\n  }\n\n  protected parseEvents(eventParser?) {\n    const eventsName = keys(LAYER_EVENT_MAP);\n    each(eventParser, (e, k) => {\n      if (contains(eventsName, k) && isFunction(e)) {\n        const eventName = LAYER_EVENT_MAP[k] || k;\n        const handler = e;\n        this.on(eventName, handler);\n        this.eventHandlers.push({ name: eventName, handler });\n      }\n    });\n  }\n\n  private getLayerBBox() {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  private getLayerRegion() {\n    if (this.parent) {\n      const parentWidth = this.parent.width;\n      const parentHeight = this.parent.height;\n      const parentX = this.parent.x;\n      const parentY = this.parent.y;\n      const startX = (this.x - parentX) / parentWidth;\n      const startY = (this.y - parentY) / parentHeight;\n      const endX = (this.x + this.width - parentX) / parentWidth;\n      const endY = (this.y + this.height - parentY) / parentHeight;\n      return { start: { x: startX, y: startY }, end: { x: endX, y: endY } };\n    }\n    return { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } };\n  }\n}\n","import { assign } from '@antv/util';\nimport { ElementOption } from '../interface/config';\n\nexport default class ElementParser {\n  public plot: any;\n  public type: string;\n  public config: ElementOption;\n  public style: any;\n  private positionFields: string[];\n  private widthRatio: { [key: string]: number };\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this.init();\n  }\n\n  public init() {\n    this.config = {\n      type: this.type,\n      position: {\n        fields: this.positionFields,\n      },\n    };\n  }\n}\n","import { get, each, deepMix } from '@antv/util';\nimport { IShape, Element, MappingDatum, _ORIGIN } from '../../../dependents';\nimport BaseLabel, { registerLabelComponent } from '../../../components/label/base';\nimport { TextStyle } from '../../../interface/config';\nimport { mappingColor, rgb2arr } from '../../../util/color';\nimport BBox from '../../../util/bbox';\nimport { IColumnLabel } from '../interface';\n\nexport default class ColumnLabel<L extends IColumnLabel = IColumnLabel> extends BaseLabel<L> {\n  protected getLabelItemAttrs(element: Element, index: number): TextStyle {\n    const { style, formatter } = this.options;\n    const mappingData: MappingDatum[] = [].concat(element.getModel().mappingData);\n    const value = this.getValue(element);\n\n    return deepMix({}, style, {\n      ...this.getPosition(element),\n      text: formatter\n        ? formatter(\n            value,\n            {\n              [_ORIGIN]: mappingData[0]?._origin,\n              mappingDatum: mappingData[0],\n              mappingDatumIndex: 0,\n              element,\n              elementIndex: index,\n            },\n            index\n          )\n        : value,\n      fill: this.getTextFill(element),\n      stroke: this.getTextStroke(element),\n      textAlign: this.getTextAlign(),\n      textBaseline: this.getTextBaseLine(),\n    });\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.layer;\n    const { label = {} } = theme;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      adjustPosition: true,\n      ...label,\n    };\n  }\n\n  protected adjustLabel(label: IShape, element: Element): void {\n    const { adjustPosition } = this.options;\n    if (adjustPosition) {\n      const offset = this.getDefaultOffset();\n      const labelRange = label.getBBox();\n      const shapeRange = this.getElementShapeBBox(element);\n      if (shapeRange.height <= labelRange.height) {\n        const yPosition = shapeRange.minY + this.options.offsetY - offset;\n        label.attr('y', yPosition);\n        label.attr('textBaseline', 'bottom');\n        label.attr('fill', this.options.style.fill);\n      }\n    }\n  }\n\n  protected getValue(element: Element): number | undefined | null {\n    return get(element.getData(), this.layer.options.yField);\n  }\n\n  protected getPosition(element: Element): { x: number; y: number } {\n    const offset = this.getDefaultOffset();\n    const value = this.getValue(element);\n    const bbox = this.getElementShapeBBox(element);\n    const { minX, minY, maxY, height, width } = bbox;\n    const { offsetX, offsetY, position } = this.options;\n    const x = minX + width / 2 + offsetX;\n    const dir = value > 0 ? -1 : 1;\n    let y;\n\n    if (position === 'top') {\n      const root = value > 0 ? minY : maxY;\n      y = root + offset * dir + offsetY;\n    } else if (position === 'bottom') {\n      const root = value > 0 ? maxY : minY;\n      y = root + offset * dir + offsetY;\n    } else {\n      y = minY + height / 2 + offsetY;\n    }\n\n    return { x, y };\n  }\n\n  protected getTextFill(element: Element) {\n    const { shape } = element;\n    if (this.options.adjustColor && this.options.position !== 'top') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = this.options.style.fill;\n    return defaultColor;\n  }\n\n  protected getTextStroke(element: Element) {\n    const fill = this.getTextFill(element);\n    const { position, adjustColor } = this.options;\n    return position !== 'top' && adjustColor && fill !== 'black' ? null : undefined;\n  }\n\n  protected getElementShapeBBox(element: Element): BBox {\n    const { shape } = element;\n    const points = [];\n    each(shape.get('origin').points, (p) => {\n      points.push(this.coord.convertPoint(p));\n    });\n    const xValues = points.map((point) => point.x);\n    const xValuesMin = Math.min(...xValues);\n    const xValueMax = Math.max(...xValues);\n    const yValues = points.map((point) => point.y);\n    const yValuesMin = Math.min(...yValues);\n    const yValuesMax = Math.max(...yValues);\n    const bbox = new BBox(xValuesMin, yValuesMin, xValueMax - xValuesMin, yValuesMax - yValuesMin);\n    return bbox;\n  }\n\n  protected getTextAlign() {\n    return 'center';\n  }\n\n  protected getTextBaseLine() {\n    return 'middle';\n  }\n\n  protected getLabelOffset() {\n    // Column  offset  getPosition  position \n    return {\n      x: 0,\n      y: 0,\n    };\n  }\n}\n\nregisterLabelComponent('column', ColumnLabel);\n","import { deepMix, each } from '@antv/util';\nimport { LayerConfig } from '../base/layer';\nimport ViewLayer, { ViewConfig } from '../base/view-layer';\nimport { getComponent } from '../components/factory';\nimport '../geoms/line/mini';\n\nexport interface TinyViewConfig extends ViewConfig {\n  indicator?: any;\n  guideLine?: any; // FIXME:\n}\n\nexport interface TinyLayerConfig extends TinyViewConfig, LayerConfig {}\n\nexport default abstract class TinyLayer<T extends TinyLayerConfig = TinyLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      padding: [0, 0, 0, 0],\n      legend: {\n        visible: false,\n      },\n      xAxis: {\n        visible: false,\n      },\n      yAxis: {\n        visible: false,\n      },\n      tooltip: {\n        visible: false,\n      },\n    });\n  }\n\n  protected coord() {\n    return;\n  }\n\n  protected addGeometry() {\n    return;\n  }\n\n  protected annotation() {\n    const props = this.options;\n    const config = [];\n    const defaultGuidelineCfg = {\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#66d6a8',\n        },\n      },\n    };\n    each(props.guideLine, (line) => {\n      const guideLine = getComponent('guideLine', {\n        plot: this,\n        cfg: deepMix({}, defaultGuidelineCfg, line),\n      });\n      config.push(guideLine);\n    });\n    this.setConfig('annotations', config);\n  }\n}\n","import { __spreadArrays } from \"tslib\";\nimport { ext, mat3, vec3 } from '@antv/matrix-util';\nimport { assign } from '@antv/util';\n/**\n * Coordinate Base Class\n */\nvar Coordinate = /** @class */ (function () {\n    function Coordinate(cfg) {\n        // \n        this.type = 'coordinate';\n        this.isRect = false;\n        this.isHelix = false;\n        this.isPolar = false;\n        this.isReflectX = false;\n        this.isReflectY = false;\n        var start = cfg.start, end = cfg.end, _a = cfg.matrix, matrix = _a === void 0 ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : _a, _b = cfg.isTransposed, isTransposed = _b === void 0 ? false : _b;\n        this.start = start;\n        this.end = end;\n        this.matrix = matrix;\n        this.originalMatrix = __spreadArrays(matrix); // \n        this.isTransposed = isTransposed;\n    }\n    /**\n     * \n     */\n    Coordinate.prototype.initial = function () {\n        // centerwidthheight\n        this.center = {\n            x: (this.start.x + this.end.x) / 2,\n            y: (this.start.y + this.end.y) / 2,\n        };\n        this.width = Math.abs(this.end.x - this.start.x);\n        this.height = Math.abs(this.end.y - this.start.y);\n    };\n    /**\n     * \n     * @param cfg\n     */\n    Coordinate.prototype.update = function (cfg) {\n        assign(this, cfg);\n        this.initial();\n    };\n    Coordinate.prototype.convertDim = function (percent, dim) {\n        var _a;\n        var _b = this[dim], start = _b.start, end = _b.end;\n        // \n        if (this.isReflect(dim)) {\n            _a = [end, start], start = _a[0], end = _a[1];\n        }\n        return start + percent * (end - start);\n    };\n    Coordinate.prototype.invertDim = function (value, dim) {\n        var _a;\n        var _b = this[dim], start = _b.start, end = _b.end;\n        // \n        if (this.isReflect(dim)) {\n            _a = [end, start], start = _a[0], end = _a[1];\n        }\n        return (value - start) / (end - start);\n    };\n    /**\n     * \n     * @param x    x \n     * @param y    y \n     * @param tag  0 0, 1\n     * @return     [x, y, z]\n     */\n    Coordinate.prototype.applyMatrix = function (x, y, tag) {\n        if (tag === void 0) { tag = 0; }\n        var matrix = this.matrix;\n        var vector = [x, y, tag];\n        vec3.transformMat3(vector, vector, matrix);\n        return vector;\n    };\n    /**\n     * \n     * @param x    x \n     * @param y    y \n     * @param tag  0 0, 1\n     * @return     [x, y, z]\n     */\n    Coordinate.prototype.invertMatrix = function (x, y, tag) {\n        if (tag === void 0) { tag = 0; }\n        var matrix = this.matrix;\n        var inverted = mat3.invert([0, 0, 0, 0, 0, 0, 0, 0, 0], matrix);\n        var vector = [x, y, tag];\n        if (inverted) {\n            // \n            vec3.transformMat3(vector, vector, inverted);\n        }\n        return vector;\n    };\n    /**\n     * \n     * @param point \n     * @return      \n     */\n    Coordinate.prototype.convert = function (point) {\n        var _a = this.convertPoint(point), x = _a.x, y = _a.y;\n        var vector = this.applyMatrix(x, y, 1);\n        return {\n            x: vector[0],\n            y: vector[1],\n        };\n    };\n    /**\n     * \n     * @param point \n     * @return      \n     */\n    Coordinate.prototype.invert = function (point) {\n        var vector = this.invertMatrix(point.x, point.y, 1);\n        return this.invertPoint({\n            x: vector[0],\n            y: vector[1],\n        });\n    };\n    /**\n     * \n     * @param  radian \n     * @return        \n     */\n    Coordinate.prototype.rotate = function (radian) {\n        var matrix = this.matrix;\n        var center = this.center;\n        ext.leftTranslate(matrix, matrix, [-center.x, -center.y]);\n        ext.leftRotate(matrix, matrix, radian);\n        ext.leftTranslate(matrix, matrix, [center.x, center.y]);\n        return this;\n    };\n    /**\n     * \n     * @param dim \n     * @return    \n     */\n    Coordinate.prototype.reflect = function (dim) {\n        if (dim === 'x') {\n            this.isReflectX = !this.isReflectX;\n        }\n        else {\n            this.isReflectY = !this.isReflectY;\n        }\n        return this;\n    };\n    /**\n     * \n     * @param s1 x \n     * @param s2 y \n     * @return     \n     */\n    Coordinate.prototype.scale = function (s1, s2) {\n        var matrix = this.matrix;\n        var center = this.center;\n        ext.leftTranslate(matrix, matrix, [-center.x, -center.y]);\n        ext.leftScale(matrix, matrix, [s1, s2]);\n        ext.leftTranslate(matrix, matrix, [center.x, center.y]);\n        return this;\n    };\n    /**\n     * \n     * @param x x \n     * @param y y \n     * @return    \n     */\n    Coordinate.prototype.translate = function (x, y) {\n        var matrix = this.matrix;\n        ext.leftTranslate(matrix, matrix, [x, y]);\n        return this;\n    };\n    /**\n     *  x y \n     * @return \n     */\n    Coordinate.prototype.transpose = function () {\n        this.isTransposed = !this.isTransposed;\n        return this;\n    };\n    Coordinate.prototype.getCenter = function () {\n        return this.center;\n    };\n    Coordinate.prototype.getWidth = function () {\n        return this.width;\n    };\n    Coordinate.prototype.getHeight = function () {\n        return this.height;\n    };\n    Coordinate.prototype.getRadius = function () {\n        return this.radius;\n    };\n    /**\n     * whether has reflect\n     * @param dim\n     */\n    Coordinate.prototype.isReflect = function (dim) {\n        return dim === 'x' ? this.isReflectX : this.isReflectY;\n    };\n    /**\n     *  matrix\n     * @param matrix  matrix\n     */\n    Coordinate.prototype.resetMatrix = function (matrix) {\n        // \n        this.matrix = matrix ? matrix : __spreadArrays(this.originalMatrix);\n    };\n    return Coordinate;\n}());\nexport default Coordinate;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Coordinate from './base';\n/**\n * \n * https://www.zhihu.com/question/20665303\n */\nvar Cartesian = /** @class */ (function (_super) {\n    __extends(Cartesian, _super);\n    function Cartesian(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isRect = true;\n        _this.type = 'cartesian';\n        _this.initial();\n        return _this;\n    }\n    Cartesian.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        var start = this.start;\n        var end = this.end;\n        this.x = {\n            start: start.x,\n            end: end.x,\n        };\n        this.y = {\n            start: start.y,\n            end: end.y,\n        };\n    };\n    Cartesian.prototype.convertPoint = function (point) {\n        var _a;\n        var x = point.x, y = point.y;\n        // \n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return {\n            x: this.convertDim(x, 'x'),\n            y: this.convertDim(y, 'y'),\n        };\n    };\n    Cartesian.prototype.invertPoint = function (point) {\n        var _a;\n        var x = this.invertDim(point.x, 'x');\n        var y = this.invertDim(point.y, 'y');\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return { x: x, y: y };\n    };\n    return Cartesian;\n}(Coordinate));\nexport default Cartesian;\n//# sourceMappingURL=cartesian.js.map","import { __extends } from \"tslib\";\nimport { ext, vec2 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n/**\n * \n */\nvar Helix = /** @class */ (function (_super) {\n    __extends(Helix, _super);\n    function Helix(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isHelix = true;\n        _this.type = 'helix';\n        var _a = cfg.startAngle, startAngle = _a === void 0 ? 1.25 * Math.PI : _a, _b = cfg.endAngle, endAngle = _b === void 0 ? 7.25 * Math.PI : _b, _c = cfg.innerRadius, innerRadius = _c === void 0 ? 0 : _c, radius = cfg.radius;\n        _this.startAngle = startAngle;\n        _this.endAngle = endAngle;\n        _this.innerRadius = innerRadius;\n        _this.radius = radius;\n        _this.initial();\n        return _this;\n    }\n    Helix.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        var index = (this.endAngle - this.startAngle) / (2 * Math.PI) + 1; // \n        var maxRadius = Math.min(this.width, this.height) / 2;\n        if (this.radius && this.radius >= 0 && this.radius <= 1) {\n            maxRadius = maxRadius * this.radius;\n        }\n        this.d = Math.floor((maxRadius * (1 - this.innerRadius)) / index);\n        this.a = this.d / (Math.PI * 2); // \n        this.x = {\n            start: this.startAngle,\n            end: this.endAngle,\n        };\n        this.y = {\n            start: this.innerRadius * maxRadius,\n            end: this.innerRadius * maxRadius + this.d * 0.99,\n        };\n    };\n    /**\n     * \n     * @param point \n     * @return      \n     */\n    Helix.prototype.convertPoint = function (point) {\n        var _a;\n        var x = point.x, y = point.y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        var thi = this.convertDim(x, 'x');\n        var r = this.a * thi;\n        var newY = this.convertDim(y, 'y');\n        return {\n            x: this.center.x + Math.cos(thi) * (r + newY),\n            y: this.center.y + Math.sin(thi) * (r + newY),\n        };\n    };\n    /**\n     * \n     * @param point \n     * @return      \n     */\n    Helix.prototype.invertPoint = function (point) {\n        var _a;\n        var d = this.d + this.y.start;\n        var v = vec2.subtract([0, 0], [point.x, point.y], [this.center.x, this.center.y]);\n        var thi = ext.angleTo(v, [1, 0], true);\n        var rMin = thi * this.a; // r\n        if (vec2.length(v) < rMin) {\n            // rrMin\n            rMin = vec2.length(v);\n        }\n        var index = Math.floor((vec2.length(v) - rMin) / d); // index\n        thi = 2 * index * Math.PI + thi;\n        var r = this.a * thi;\n        var newY = vec2.length(v) - r;\n        newY = isNumberEqual(newY, 0) ? 0 : newY;\n        var x = this.invertDim(thi, 'x');\n        var y = this.invertDim(newY, 'y');\n        x = isNumberEqual(x, 0) ? 0 : x;\n        y = isNumberEqual(y, 0) ? 0 : y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return { x: x, y: y };\n    };\n    return Helix;\n}(Coordinate));\nexport default Helix;\n//# sourceMappingURL=helix.js.map","import { __extends } from \"tslib\";\nimport { ext, vec2, vec3 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\nvar Polar = /** @class */ (function (_super) {\n    __extends(Polar, _super);\n    function Polar(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isPolar = true;\n        _this.type = 'polar';\n        var _a = cfg.startAngle, startAngle = _a === void 0 ? -Math.PI / 2 : _a, _b = cfg.endAngle, endAngle = _b === void 0 ? (Math.PI * 3) / 2 : _b, _c = cfg.innerRadius, innerRadius = _c === void 0 ? 0 : _c, radius = cfg.radius;\n        _this.startAngle = startAngle;\n        _this.endAngle = endAngle;\n        _this.innerRadius = innerRadius;\n        _this.radius = radius;\n        _this.initial();\n        return _this;\n    }\n    Polar.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        while (this.endAngle < this.startAngle) {\n            this.endAngle += Math.PI * 2;\n        }\n        var oneBox = this.getOneBox();\n        var oneWidth = oneBox.maxX - oneBox.minX;\n        var oneHeight = oneBox.maxY - oneBox.minY;\n        var left = Math.abs(oneBox.minX) / oneWidth;\n        var top = Math.abs(oneBox.minY) / oneHeight;\n        var maxRadius;\n        if (this.height / oneHeight > this.width / oneWidth) {\n            // width \n            maxRadius = this.width / oneWidth;\n            this.circleCenter = {\n                x: this.center.x - (0.5 - left) * this.width,\n                y: this.center.y - (0.5 - top) * maxRadius * oneHeight,\n            };\n        }\n        else {\n            // height \n            maxRadius = this.height / oneHeight;\n            this.circleCenter = {\n                x: this.center.x - (0.5 - left) * maxRadius * oneWidth,\n                y: this.center.y - (0.5 - top) * this.height,\n            };\n        }\n        this.polarRadius = this.radius;\n        if (!this.radius) {\n            this.polarRadius = maxRadius;\n        }\n        else if (this.radius > 0 && this.radius <= 1) {\n            this.polarRadius = maxRadius * this.radius;\n        }\n        else if (this.radius <= 0 || this.radius > maxRadius) {\n            this.polarRadius = maxRadius;\n        }\n        this.x = {\n            start: this.startAngle,\n            end: this.endAngle,\n        };\n        this.y = {\n            start: this.innerRadius * this.polarRadius,\n            end: this.polarRadius,\n        };\n    };\n    Polar.prototype.getRadius = function () {\n        return this.polarRadius;\n    };\n    Polar.prototype.convertPoint = function (point) {\n        var _a;\n        var center = this.getCenter();\n        var x = point.x, y = point.y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        x = this.convertDim(x, 'x');\n        y = this.convertDim(y, 'y');\n        return {\n            x: center.x + Math.cos(x) * y,\n            y: center.y + Math.sin(x) * y,\n        };\n    };\n    Polar.prototype.invertPoint = function (point) {\n        var center = this.getCenter();\n        var vPoint = [point.x - center.x, point.y - center.y];\n        var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        ext.leftRotate(m, m, this.startAngle);\n        var vStart3 = [1, 0, 0];\n        vec3.transformMat3(vStart3, vStart3, m);\n        var vStart2 = [vStart3[0], vStart3[1]];\n        var angle = ext.angleTo(vStart2, vPoint, this.endAngle < this.startAngle);\n        if (isNumberEqual(angle, Math.PI * 2)) {\n            angle = 0;\n        }\n        var radius = vec2.length(vPoint);\n        var xPercent = angle / (this.endAngle - this.startAngle);\n        xPercent = this.endAngle - this.startAngle > 0 ? xPercent : -xPercent;\n        var yPercent = this.invertDim(radius, 'y');\n        var rst = { x: 0, y: 0 };\n        rst.x = this.isTransposed ? yPercent : xPercent;\n        rst.y = this.isTransposed ? xPercent : yPercent;\n        return rst;\n    };\n    Polar.prototype.getCenter = function () {\n        return this.circleCenter;\n    };\n    Polar.prototype.getOneBox = function () {\n        var startAngle = this.startAngle;\n        var endAngle = this.endAngle;\n        if (Math.abs(endAngle - startAngle) >= Math.PI * 2) {\n            return {\n                minX: -1,\n                maxX: 1,\n                minY: -1,\n                maxY: 1,\n            };\n        }\n        var xs = [0, Math.cos(startAngle), Math.cos(endAngle)];\n        var ys = [0, Math.sin(startAngle), Math.sin(endAngle)];\n        for (var i = Math.min(startAngle, endAngle); i < Math.max(startAngle, endAngle); i += Math.PI / 18) {\n            xs.push(Math.cos(i));\n            ys.push(Math.sin(i));\n        }\n        return {\n            minX: Math.min.apply(Math, xs),\n            maxX: Math.max.apply(Math, xs),\n            minY: Math.min.apply(Math, ys),\n            maxY: Math.max.apply(Math, ys),\n        };\n    };\n    return Polar;\n}(Coordinate));\nexport default Polar;\n//# sourceMappingURL=polar.js.map","import EventEmitter from '@antv/event-emitter';\nimport { Canvas, IGroup, BBox } from '../dependents';\nimport { each } from '@antv/util';\n\nexport interface BaseComponentConfig {\n  container: IGroup;\n}\n\nexport default abstract class BaseComponent<T extends BaseComponentConfig = BaseComponentConfig> extends EventEmitter {\n  protected container: IGroup;\n  protected group: IGroup;\n  protected destroyed: boolean;\n  protected config: T;\n  private disposables: (() => void)[];\n\n  public constructor(config: T) {\n    super();\n    this.container = config.container;\n    this.destroyed = false;\n    this.group = this.container.addGroup();\n    this.config = config;\n    this.disposables = [];\n    this.init(config);\n  }\n\n  public getGroup(): IGroup {\n    return this.group;\n  }\n\n  public getBBox(): BBox {\n    return this.getGroup().getBBox();\n  }\n\n  public clear() {\n    this.group.clear();\n  }\n\n  public render(): void {\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  }\n\n  public update(config: Partial<T>): void {\n    this.config = { ...this.config, ...config };\n    this.init({ ...this.config, config });\n    this.group.clear();\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  }\n\n  public destroy(): void {\n    each(this.disposables, (fn) => {\n      fn();\n    });\n    this.disposables = [];\n    this.group.remove(true);\n    this.destroyed = true;\n  }\n\n  protected getCanvas(): Canvas {\n    return this.container.get('canvas');\n  }\n\n  protected addDisposable(fn: () => void) {\n    this.disposables.push(fn);\n  }\n\n  protected abstract init(config: T): void;\n\n  protected abstract renderInner(group: IGroup): void;\n}\n","/**\n * stateManagerstateManager/\n */\nimport { IGroup, IShape } from '../../dependents';\nimport { isFunction, assign, each, isArray, mix, clone } from '@antv/util';\nimport { getComponentStateMethod } from '../../components/factory';\nimport { onEvent } from '../../util/event';\nimport StateManager from '../../util/state-manager';\n\nexport function compare(origin, condition) {\n  if (!isFunction(condition)) {\n    const { name, exp } = condition;\n    if (isFunction(exp)) {\n      return exp(origin[name]);\n    }\n    return origin[name] === exp;\n  }\n  return condition(origin);\n}\n\nexport default class StateController {\n  private plot: any;\n  private stateManager: StateManager;\n  private shapes: IShape[];\n  private originAttrs: any[]; // \n  private shapeContainers: IGroup[] = [];\n\n  constructor(cfg) {\n    assign(this, cfg);\n  }\n\n  public createStateManager() {\n    this.stateManager = new StateManager();\n  }\n\n  public bindStateManager(manager: StateManager, cfg) {\n    this.stateManager = manager;\n    if (cfg.setState) {\n      this._updateStateProcess(cfg.setState);\n    }\n    if (cfg.onStateChange) {\n      this._stateChangeProcess(cfg.onStateChange);\n    }\n  }\n\n  public defaultStates(states) {\n    each(states, (state, type) => {\n      const { condition, related } = state;\n      this.setState({ type, condition, related });\n    });\n  }\n\n  public setState(cfg) {\n    const { type, condition, related } = cfg;\n    this.shapes = this._getShapes();\n    this.originAttrs = this._getOriginAttrs();\n    // this.resetZIndex();\n    each(this.shapes, (shape, index) => {\n      const shapeOrigin = shape.get('origin').data;\n      const origin = isArray(shapeOrigin) ? shapeOrigin[0] : shapeOrigin;\n      if (compare(origin, condition)) {\n        const stateStyle = cfg.style ? cfg.style : this._getDefaultStateStyle(type, shape);\n        const originAttr = this.originAttrs[index];\n        let attrs;\n        if (isFunction(stateStyle)) {\n          attrs = stateStyle(originAttr);\n        } else {\n          attrs = mix({}, originAttr, stateStyle);\n        }\n        shape.attr(attrs);\n        this.setZIndex(type, shape);\n        // const canvas = this.plot.canvas;\n        // canvas.draw();\n      }\n    });\n    // \n    if (related) {\n      this._parserRelated(type, related, condition);\n    }\n    this.plot.canvas.draw();\n  }\n\n  private _updateStateProcess(setStateCfg) {\n    each(setStateCfg, (cfg: any) => {\n      const state = cfg.state;\n      let handler;\n      if (isFunction(state)) {\n        handler = (e) => {\n          const s = state(e);\n          this.stateManager.setState(s.name, s.exp);\n        };\n      } else {\n        handler = () => {\n          this.stateManager.setState(state.name, state.exp);\n        };\n      }\n      if (cfg.event) {\n        onEvent(this.plot, this._eventParser(cfg.event), handler);\n      } else {\n        handler();\n      }\n    });\n  }\n\n  private _stateChangeProcess(onChangeCfg) {\n    each(onChangeCfg, (cfg: any) => {\n      this.stateManager.on(`${cfg.name}:change`, (props) => {\n        cfg.callback(props, this.plot);\n      });\n    });\n  }\n\n  private _getShapes() {\n    const shapes = [];\n    const geoms = this.plot.view.geometries;\n    each(geoms, (geom: any) => {\n      const shapeContainer = geom.container;\n      this.shapeContainers.push(shapeContainer);\n      if (!geom.destroyed) {\n        shapes.push(...geom.getShapes());\n      }\n    });\n    return shapes;\n  }\n\n  private _getOriginAttrs() {\n    const attrs = [];\n    each(this.shapes, (shape) => {\n      attrs.push(clone(shape.attr()));\n    });\n    return attrs;\n  }\n\n  // g2 geomtryplotgeometry\n  private _eventParser(event) {\n    const eventCfg = event.split(':');\n    const eventTarget = this.plot.geometryParser('g2', eventCfg[0]);\n    const eventName = eventCfg[1];\n    return `${eventTarget}:${eventName}`;\n  }\n\n  private _getDefaultStateStyle(type, shape) {\n    const theme = this.plot.theme;\n    const plotGeomType = this.plot.geometryParser('plot', shape.name);\n    const styleField = `${plotGeomType}Style`;\n    if (theme[styleField]) {\n      let style = theme[styleField][type];\n      if (isFunction(style)) {\n        style = style(shape.attr());\n      }\n      return style;\n    }\n    return {};\n  }\n\n  private _parserRelated(type, related, condition) {\n    each(related, (r) => {\n      if (this.plot[r]) {\n        // fixme: \n        // this.plot[r].setState(type, condition);\n        const method = getComponentStateMethod(r, type);\n        method(this.plot, condition);\n      }\n    });\n  }\n\n  // private set\n  private setZIndex(stateType: string, shape: IShape | any) {\n    if (stateType === 'active' || stateType === 'selected') {\n      // shape.setZIndex(1);\n      const children = shape.get('parent').get('children');\n      children[children.length - 1].setZIndex(0);\n      shape.setZIndex(1);\n    }\n  }\n\n  private resetZIndex() {\n    each(this.shapeContainers, (container) => {\n      const children = container.get('children');\n      children.sort((obj1, obj2) => {\n        return obj1._INDEX - obj2._INDEX;\n      });\n    });\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { DEFAULT_RESPONSIVE_THEME } from './default';\n\n/**\n * \n */\nconst RESPONSIVE_THEME_MAP = {\n  default: DEFAULT_RESPONSIVE_THEME,\n};\n\n/**\n * \n * @param name\n * @param theme\n */\nexport function registerResponsiveTheme(name: string, theme) {\n  RESPONSIVE_THEME_MAP[name.toLowerCase()] = deepMix({}, DEFAULT_RESPONSIVE_THEME, theme);\n}\n\n/**\n * \n * @param name\n */\nexport function getResponsiveTheme(name: string) {\n  const theme = RESPONSIVE_THEME_MAP[name.toLowerCase()];\n  return theme ? theme : DEFAULT_RESPONSIVE_THEME;\n}\n","import { deepMix, has, map, each, some } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport {\n  ICatAxis,\n  ITimeAxis,\n  IValueAxis,\n  GraphicStyle,\n  LineStyle,\n  ISliderInteractionConfig,\n  IScrollbarInteractionConfig,\n} from '../../interface/config';\nimport { extractScale, trySetScaleMinToZero } from '../../util/scale';\nimport { getPlotOption } from './animation/clipIn-with-data';\nimport responsiveMethods from './apply-responsive';\nimport '../../components/label/point';\nimport '../../components/label/point-auto';\nimport LineLabel from './component/label/line-label';\nimport * as EventParser from './event';\nimport MarkerPoint, { MarkerPointCfg } from '../../components/marker-point';\nimport './theme';\nimport './apply-responsive/theme';\nimport { LooseMap, Maybe } from '../../interface/types';\nimport { LineActive, LineSelect } from './interaction/index';\nimport { getGeometryByType } from '../../util/view';\n\ntype IObject = LooseMap;\n\nconst GEOM_MAP = {\n  line: 'line',\n  point: 'point',\n};\n\ntype LineInteraction =\n  | { type: 'slider'; cfg: ISliderInteractionConfig }\n  | { type: 'scrollbar'; cfg?: IScrollbarInteractionConfig };\n\nexport type PointShape = string | { fields?: []; callback: () => string };\n\nexport interface LineViewConfig extends ViewConfig {\n  /**  */\n  seriesField?: string;\n  /**  */\n  smooth?: boolean;\n  /**  */\n  connectNulls?: boolean;\n  /** extra */\n  lineStyle?: LineStyle | ((...args: any[]) => LineStyle);\n  /**  */\n  point?: {\n    visible?: boolean;\n    shape?: PointShape;\n    size?: number;\n    color?: string;\n    style?: GraphicStyle;\n  };\n  markerPoints?: (Omit<MarkerPointCfg, 'view'> & {\n    visible?: boolean;\n  })[];\n  xAxis?: IValueAxis | ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n  interactions?: LineInteraction[];\n}\n\nexport interface LineLayerConfig extends LineViewConfig, LayerConfig {}\n\nexport default class LineLayer<T extends LineLayerConfig = LineLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<LineLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      connectNulls: false,\n      smooth: false,\n      lineSize: 2,\n      lineStyle: {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      point: {\n        visible: false,\n        size: 3,\n        shape: 'circle',\n        style: {\n          stroke: '#fff',\n        },\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4,\n      },\n      tooltip: {\n        crosshairs: {\n          line: {\n            style: {\n              stroke: 'rgba(0,0,0,0.45)',\n            },\n          },\n        },\n      },\n      markerPoints: [],\n    });\n  }\n\n  public line: any; // linepointlabeltooltip\n  public point: any;\n  public type: string = 'line';\n  protected markerPoints: MarkerPoint[] = [];\n\n  public afterRender() {\n    const options = this.options;\n    this.renderLabel();\n    if (options.markerPoints) {\n      // \n      each(this.markerPoints, (markerPoint: MarkerPoint) => markerPoint.destroy());\n      this.markerPoints = [];\n      options.markerPoints.forEach((markerPointOpt) => {\n        if (markerPointOpt.visible) {\n          const markerPoint = new MarkerPoint({\n            ...markerPointOpt,\n            view: this.view,\n          });\n          this.markerPoints.push(markerPoint);\n        }\n      });\n    }\n    // \n    if (options.responsive && options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    super.afterRender();\n  }\n\n  public getColorScale() {\n    const { seriesField } = this.options;\n    if (seriesField) {\n      return this.view.getScaleByField(seriesField);\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** x-scale */\n    scales[props.xField] = {};\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** y-scale */\n    scales[props.yField] = {};\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    trySetScaleMinToZero(\n      scales[props.yField],\n      map(props.data as any, (item) => item[props.yField])\n    );\n    super.scale();\n  }\n\n  protected coord() {\n    return;\n  }\n\n  protected tooltip() {\n    // markers\n    if (some(this.options.markerPoints, (markerPointOpt) => markerPointOpt.visible)) {\n      this.options.tooltip.showMarkers = false;\n    }\n    super.tooltip();\n  }\n\n  protected addGeometry() {\n    // \n    this.addLine();\n    // \n    this.addPoint();\n  }\n\n  private addLine() {\n    const props: any = this.options;\n    this.line = getGeom('line', 'main', {\n      plot: this,\n    });\n\n    if (props.tooltip && (props.tooltip.fields || props.tooltip.formatter)) {\n      this.geometryTooltip();\n    }\n\n    this.setConfig('geometry', this.line);\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const defaultConfig = { visible: false };\n    if (props.point) {\n      props.point = deepMix(defaultConfig, props.point);\n    }\n    if (props.point && props.point.visible) {\n      this.point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.setConfig('geometry', this.point);\n    }\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { label, yField } = this.options;\n    const scale = scales[yField];\n    if (label.visible) {\n      const geometry = getGeometryByType(this.view, 'line');\n      if (label.type === 'line') {\n        // TODO: Line Label \n        const label = new LineLabel({\n          view: this.view,\n          plot: this,\n          ...this.options.label,\n        });\n        label.render();\n      } else {\n        this.doRenderLabel(geometry, {\n          type: 'point',\n          formatter: scale.formatter && ((value: Maybe<string | number>) => scale.formatter(value)),\n          ...this.options.label,\n        });\n      }\n    }\n  }\n\n  protected geometryTooltip() {\n    this.line.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.line.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.line.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.line.tooltip.fields = [this.options.xField, this.options.yField];\n        if (this.options.seriesField) {\n          this.line.tooltip.fields.push(this.options.seriesField);\n        }\n      }\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (!props.animation) {\n      // \n      this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    } else {\n      getPlotOption({\n        options: this.options,\n        view: this.view,\n      });\n      this.line.animate = props.animation;\n    }\n  }\n\n  protected applyInteractions() {\n    super.applyInteractions();\n    this.interactions.push(\n      new LineActive({\n        view: this.view,\n      })\n    );\n    this.interactions.push(\n      new LineSelect({\n        view: this.view,\n      })\n    );\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r as IObject;\n      responsive.method(this);\n    });\n  }\n\n  private singleLineLabelCheck() {\n    // label\n    return !this.options.seriesField && this.options.label.type && this.options.label.type === 'line';\n  }\n}\n\nregisterPlotType('line', LineLayer);\n","import { Axis } from '../../../dependents';\nimport { each } from '@antv/util';\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\n\nconst SCALE_MAPPER = {\n  cat: 'category',\n  timeCat: 'category',\n  time: 'dateTime',\n  linear: 'linear',\n};\n\nexport default class ApplyResponsiveAxis extends ApplyResponsive {\n  private dim: string;\n  private axisInstance: Axis.Base;\n\n  protected init() {\n    this.axisInstance = this.getAxisInstance();\n    super.init();\n  }\n\n  protected shouldApply() {\n    const { options } = this.plot;\n    if (!this.responsiveTheme.axis) {\n      return false;\n    }\n    if (\n      this.responsiveTheme.axis[this.dim] &&\n      options[`${this.dim}Axis`].visible &&\n      options[`${this.dim}Axis`].label &&\n      options[`${this.dim}Axis`].label.visible\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  protected apply() {\n    const rawLabels = this.plot.view.backgroundGroup.findAll((el) => {\n      const name = el.get('name');\n      if (name === 'axis-label') {\n        const field = el.get('delegateObject').axis.get('field');\n        if (field === this.plot.options[`${this.dim}Field`]) {\n          return el;\n        }\n      }\n    });\n    const shapes = [];\n    for (let i = 0; i < rawLabels.length; i++) {\n      shapes.push(rawLabels[i]);\n    }\n    const shapeNodes = new ShapeNodes({\n      shapes,\n    });\n    const { constraints, rules } = this.responsiveTheme.axis.x[this.type];\n    new Responsive({\n      nodes: shapeNodes,\n      constraints,\n      region: this.plot.getViewRange(),\n      rules,\n      plot: this.plot,\n      onEnd: (nodes) => {\n        this.updateTicks(nodes.origion_nodes);\n      },\n    });\n  }\n\n  protected getType() {\n    const props = this.plot.options;\n    const axis = `${this.dim}Axis`;\n    const field = `${this.dim}Field`;\n    if (props[axis] && props[axis].type && props[axis].type === 'dateTime') {\n      return 'dateTime';\n    }\n    const scaleType = this.plot.view.getScaleByField([props[field]]).type;\n    return SCALE_MAPPER[scaleType];\n  }\n\n  private getAxisInstance() {\n    const axisIndex = this.dim === 'x' ? 0 : 1;\n    const axis = this.plot.view.getController('axis').getComponents()[axisIndex].component;\n    return axis;\n  }\n\n  private updateTicks(nodes) {\n    const tickLineContainer = this.plot.view.backgroundGroup.findAll((el) => {\n      const name = el.get('name');\n      if (name === 'axis-tickline-group') {\n        const field = el.get('delegateObject').axis.get('field');\n        if (field === this.plot.options[`${this.dim}Field`]) {\n          return el;\n        }\n      }\n    })[0];\n    if (tickLineContainer) {\n      const tickShapes = tickLineContainer.get('children');\n      each(nodes, (n, index) => {\n        if (n.shape.attr('text') === '') {\n          tickShapes[index].attr('opacity', 0);\n        }\n      });\n    }\n    this.plot.canvas.draw();\n  }\n}\n","import { ext } from '@antv/matrix-util';\nimport { clone } from '@antv/util';\nimport { Util } from '../dependents';\n\nexport function groupTransform(group, actions) {\n  const ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  const matrix = ext.transform(ulMatrix, actions);\n  group.setMatrix(matrix);\n}\n\nexport function transform(actions, matrix?) {\n  const ulMatrix = matrix ? clone(matrix) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  return ext.transform(ulMatrix, actions);\n}\n\nexport function move(element, x, y, matrix?) {\n  const ulMatrix = matrix ? clone(matrix) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  ulMatrix[6] = x;\n  ulMatrix[7] = y;\n  element.setMatrix(ulMatrix);\n}\n\nexport function translate(element, x, y) {\n  Util.translate(element, x, y);\n}\n\nexport function rotate(element, radian) {\n  Util.rotate(element, radian);\n}\n","import { deepMix, has, each, clone } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport ConversionTag from '../../components/conversion-tag';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, DataItem } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './theme';\nimport './component/label';\nimport './component/label-auto';\nimport * as EventParser from './event';\nimport { getGeometryByType } from '../../util/view';\nimport { BarViewConfig } from './interface';\nimport { Maybe } from '../../interface/types';\n\nconst G2_GEOM_MAP = {\n  bar: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'bar',\n};\n\nexport interface BarLayerConfig extends BarViewConfig, LayerConfig {}\n\nexport default class BaseBarLayer<T extends BarLayerConfig = BarLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<BarViewConfig> {\n    const cfg: Partial<BarViewConfig> = {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        nice: true,\n      },\n      yAxis: {\n        visible: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoRotate: false,\n          autoHide: true,\n        },\n        title: {\n          visible: false,\n          spacing: 12,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      label: {\n        visible: true,\n        position: 'left',\n        adjustColor: true,\n      },\n      legend: {\n        visible: false,\n        position: 'top-left',\n      },\n      interactions: [\n        { type: 'tooltip' },\n        { type: 'active-region' },\n        { type: 'legend-active' },\n        { type: 'legend-filter' },\n      ],\n      conversionTag: {\n        visible: false,\n      },\n    };\n    return deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public bar: any;\n  public type: string = 'bar';\n  public conversionTag?: ConversionTag;\n\n  public beforeInit() {\n    super.beforeInit();\n    const props = this.options;\n    /**  */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    const props = this.options;\n    this.renderLabel();\n    /**  */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    if (props.conversionTag.visible) {\n      this.conversionTag = new ConversionTag({\n        view: this.view,\n        field: props.xField,\n        animation: props.animation === false ? false : true,\n        ...props.conversionTag,\n      });\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const inputData = originData ? originData.slice().reverse() : originData;\n    const { yField } = this.options;\n    const processedData = [];\n    each(inputData, (data) => {\n      const d = clone(data);\n      d[yField] = d[yField].toString();\n      processedData.push(d);\n    });\n    return processedData;\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** x-scale */\n    scales[props.yField] = {\n      type: 'cat',\n    };\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    /** y-scale */\n    scales[props.xField] = {};\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    this.setConfig('coordinate', {\n      actions: [['transpose']],\n    });\n  }\n\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    /**  */\n    if (xAxis_parser) {\n      xAxis_parser.position = 'left';\n    }\n    if (yAxis_parser) {\n      yAxis_parser.position = 'bottom';\n    }\n    const axesConfig = {};\n    axesConfig[this.options.xField] = xAxis_parser;\n    axesConfig[this.options.yField] = yAxis_parser;\n    /** config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected adjustBar(bar: ElementOption) {\n    return null;\n  }\n\n  protected addGeometry() {\n    const props: any = this.options;\n    const bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    if (props.conversionTag.visible) {\n      this.setConfig(\n        'theme',\n        deepMix({}, this.getTheme(), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n    }\n    this.adjustBar(bar);\n    this.bar = bar;\n\n    if (props.tooltip && (props.tooltip.fields || props.tooltip.formatter)) {\n      this.geometryTooltip();\n    }\n\n    this.setConfig('geometry', bar);\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /**  */\n      this.bar.animate = false;\n    }\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { label, xField } = this.options;\n    const scale = scales[xField];\n    if (label?.visible) {\n      const geometry = getGeometryByType(this.view, 'interval');\n      this.doRenderLabel(geometry, {\n        type: 'bar',\n        formatter: scale.formatter && ((value: Maybe<string | number>) => scale.formatter(value)),\n        ...this.options.label,\n      });\n    }\n  }\n\n  protected geometryTooltip() {\n    this.bar.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.bar.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.bar.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.bar.tooltip.fields = [this.options.xField, this.options.yField];\n        if (this.options.colorField) {\n          this.bar.tooltip.fields.push(this.options.colorField);\n        }\n      }\n    }\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r;\n      responsive.method(this);\n    });\n  }\n\n  public getLabelOptionsByPosition(position: string) {\n    if (position === 'middle') {\n      return {\n        offset: 0,\n      };\n    }\n\n    if (position === 'left') {\n      return {\n        offset: 7,\n        style: {\n          stroke: null,\n          lineWidth: 0,\n        },\n      };\n    }\n\n    if (position === 'right') {\n      return {\n        offset: 4,\n      };\n    }\n  }\n}\n\nregisterPlotType('bar', BaseBarLayer);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ConnectedArea from '../../components/connected-area';\nimport { ElementOption } from '../../interface/config';\nimport BaseColumnLayer from '../column/layer';\nimport { ColumnViewConfig } from '../column/interface';\nimport './theme';\nimport './component/label';\nimport './component/label-auto';\nimport { getGeometryByType } from '../../util/view';\nimport { Maybe } from '../../interface/types';\n\nexport interface StackedColumnViewConfig extends ColumnViewConfig {\n  stackField: string;\n  connectedArea?: any;\n}\n\nexport interface StackedColumnLayerConfig extends StackedColumnViewConfig, LayerConfig {}\n\nexport default class StackedColumnLayer<\n  T extends StackedColumnLayerConfig = StackedColumnLayerConfig\n> extends BaseColumnLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      legend: {\n        visible: true,\n        position: 'right-top',\n      },\n      label: {\n        visible: false,\n        position: 'middle',\n        offset: 0,\n        adjustColor: true,\n      },\n      connectedArea: {\n        visible: false,\n        triggerOn: 'mouseenter',\n      },\n    });\n  }\n\n  public type: string = 'stackedColumn';\n  public connectedArea: any;\n\n  public init() {\n    if (this.options.connectedArea.visible) {\n      this.options.tooltip.crosshairs = null;\n    }\n    super.init();\n  }\n\n  public afterRender() {\n    const props = this.options;\n    // \n    if (props.connectedArea.visible) {\n      this.connectedArea = new ConnectedArea({\n        view: this.view,\n        field: props.stackField,\n        animation: props.animation === false ? false : true,\n        ...props.connectedArea,\n      });\n    }\n    super.afterRender();\n  }\n\n  public getColorScale() {\n    const { stackField } = this.options;\n    return this.view.getScaleByField(stackField);\n  }\n\n  protected adjustColumn(column: ElementOption) {\n    column.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { label, yField } = this.options;\n    const scale = scales[yField];\n    if (label && label.visible) {\n      const geometry = getGeometryByType(this.view, 'interval');\n      this.doRenderLabel(geometry, {\n        type: 'stacked-column',\n        formatter: scale.formatter && ((value: Maybe<string | number>) => scale.formatter(value)),\n        ...this.options.label,\n      });\n    }\n  }\n\n  protected geometryTooltip() {\n    this.column.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.column.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.column.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.column.tooltip.fields = [this.options.xField, this.options.yField, this.options.stackField];\n      }\n    }\n  }\n}\n\nregisterPlotType('stackedColumn', StackedColumnLayer);\n","import { IGroup, IShape, BBox } from '../../../../dependents';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix, isString } from '@antv/util';\nimport { getEndPoint, getLabelRotate, getAngleByPoint, getOverlapArea, near } from './utils';\nimport { Label, TextStyle } from '../../../../interface/config';\nimport PieLayer from '../../layer';\nimport { getEllipsisText } from './utils/text';\n\n/** label textline 4px */\nexport const CROOK_DISTANCE = 4;\n\nexport function percent2Number(value: string): number {\n  const percentage = Number(value.endsWith('%') ? value.slice(0, -1) : value);\n  return percentage / 100;\n}\n\n/**\n * panel\n */\nfunction checkInPanel(label: IShape, panel: BBox): void {\n  const box = label.getBBox();\n  //   \n  if (!(panel.y <= box.y && panel.y + panel.height >= box.y + box.height)) {\n    label.get('parent').set('visible', false);\n  }\n}\n\nexport interface LabelItem {\n  x: number;\n  y: number;\n  color: string;\n  origin: object;\n  name: string;\n  angle: number;\n  textAlign: string;\n  textBaseline?: string;\n}\n\nexport interface PieLabelConfig extends Label {\n  visible: boolean;\n  formatter?: (text: string | number | undefined | null, item: any, idx: number, ...extras: any[]) => string;\n  /** whether */\n  adjustPosition?: boolean;\n  /** allow label overlap */\n  allowOverlap?: boolean;\n  autoRotate?: boolean;\n  labelHeight?: number;\n  offset?: number | string;\n  offsetX?: number;\n  offsetY?: number;\n  /** label leader-line */\n  line?: {\n    visible?: boolean;\n    smooth?: boolean;\n    stroke?: string;\n    lineWidth?: number;\n  };\n  style?: TextStyle;\n}\n\nexport default abstract class PieBaseLabel {\n  public options: PieLabelConfig & { offset: number };\n  public destroyed: boolean = false;\n  protected plot: PieLayer;\n  protected coordinateBBox: BBox;\n  protected container: IGroup;\n  /**  */\n  protected arcPoints: LabelItem[];\n\n  constructor(plot: PieLayer, cfg: PieLabelConfig) {\n    this.plot = plot;\n    this.coordinateBBox = this.plot.view.coordinateBBox;\n    const options = deepMix(this.getDefaultOptions(), cfg, {});\n    this.adjustOption(options);\n    this.options = options;\n    this.init();\n  }\n\n  protected abstract getDefaultOptions();\n  protected abstract layout(labels: IShape[], shapeInfos: LabelItem[], panelBox: BBox);\n  /**  */\n  protected adjustOverlap(labels: IShape[], panel: BBox): void {\n    // clearOverlap;\n    for (let i = 1; i < labels.length; i++) {\n      const label = labels[i];\n      let overlapArea = 0;\n      for (let j = i - 1; j >= 0; j--) {\n        const prev = labels[j];\n        // fix: start draw point.x is error when textAlign is right\n        const prevBox = prev.getBBox();\n        const currBox = label.getBBox();\n        // if the previous one is invisible, skip\n        if (prev.get('parent').get('visible')) {\n          overlapArea = getOverlapArea(prevBox, currBox);\n          if (!near(overlapArea, 0)) {\n            label.get('parent').set('visible', false);\n            break;\n          }\n        }\n      }\n    }\n    labels.forEach((label) => checkInPanel(label, panel));\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected adjustItem(item: LabelItem): void {\n    return;\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.plot.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    //  \n    this.clear();\n    this.initArcPoints();\n    this.drawTexts();\n    this.drawLines();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  private getFilteredSum() {\n    const { angleField } = this.plot.options;\n    const filteredData = (this.plot.view as any).filteredData || [];\n    return filteredData.reduce((pre, filteredDataItem) => {\n      return pre + filteredDataItem[angleField];\n    }, 0);\n  }\n\n  /**  */\n  protected drawTexts() {\n    const { style, formatter, autoRotate, offsetX, offsetY, adjustPosition, allowOverlap } = this.options;\n    const shapeInfos = this.getItems();\n    const shapes: IShape[] = [];\n    shapeInfos.map((shapeInfo, idx) => {\n      const attrs = deepMix({}, shapeInfo, style);\n      const filteredSum = this.getFilteredSum();\n      const { angleField } = this.plot.options;\n      const percent = shapeInfo.origin[angleField] / filteredSum;\n      const content = formatter\n        ? formatter(\n            shapeInfo.name,\n            {\n              _origin: shapeInfo.origin,\n              percent,\n            },\n            idx\n          )\n        : shapeInfo.name;\n      const itemGroup = this.container.addGroup({ name: 'itemGroup', index: idx });\n      const textShape = itemGroup.addShape('text', {\n        attrs: deepMix({}, attrs, {\n          x: shapeInfo.x + offsetX,\n          y: shapeInfo.y + offsetY,\n          text: content,\n        }),\n      });\n      textShape.set('id', `text-${shapeInfo.name}-${idx}`);\n      shapes.push(textShape);\n    });\n    shapes.forEach((shape) => {\n      const panelBox = this.coordinateBBox;\n      this.adjustText(shape, panelBox);\n    });\n    if (adjustPosition) {\n      this.layout(shapes, shapeInfos, this.coordinateBBox);\n    }\n    if (!allowOverlap) {\n      this.adjustOverlap(shapes, this.coordinateBBox);\n    }\n    shapes.forEach((label, idx) => {\n      if (autoRotate) {\n        this.rotateLabel(label, getLabelRotate(shapeInfos[idx].angle));\n      }\n    });\n  }\n\n  private adjustText(label: IShape, panelBox: BBox) {\n    const box = label.getBBox();\n    let width = box.width;\n    const deltaWidth = 0;\n    if (box.maxX > panelBox.maxX) {\n      width = panelBox.maxX - box.minX;\n    } else if (box.minX < panelBox.minX) {\n      width = box.maxX - panelBox.minX;\n    }\n    if (label.attr('textAlign') === 'left') {\n      label.attr('x', Math.max(box.x - deltaWidth, 0));\n    } else if (label.attr('textAlign') === 'right') {\n      label.attr('x', Math.max(box.maxX - deltaWidth, 0));\n    }\n    if (width !== box.width) {\n      const font = {};\n      ['fontSize', 'fontFamily', 'fontWeight'].forEach((k) => {\n        font[k] = label.attr(k);\n      });\n      const ellipsisTexts = label\n        .attr('text')\n        .split('\\n')\n        .map((t) => getEllipsisText(t, width, font));\n      label.attr('text', ellipsisTexts.join('\\n'));\n    }\n  }\n\n  /**  */\n  protected drawLines() {\n    if (this.options.line.visible) {\n      const itemGroups = this.container.get('children');\n      const { center } = this.getCoordinate();\n      itemGroups.forEach((labelGroup, idx) => {\n        const label: IShape = labelGroup.get('children')[0];\n        const anchor = this.arcPoints[idx];\n        const inLeft = anchor.x < center.x;\n        //   label \n        const distance = this.options.offset > 4 ? 4 : 0;\n        const path = this.getLinePath(label, anchor, distance);\n        const style = this.options.line;\n        labelGroup.addShape('path', {\n          attrs: {\n            path,\n            stroke: anchor.color,\n            ...style,\n          },\n        });\n        //  label \n        label.attr('x', label.attr('x') + (inLeft ? -distance : distance));\n      });\n    }\n  }\n\n  /** label leader-line,  not smooth */\n  private getLinePath(label: IShape, anchor: LabelItem, distance: number): string {\n    const smooth = this.options.line ? this.options.line.smooth : false;\n    const angle = anchor.angle;\n    const { center, radius } = this.getCoordinate();\n    let breakAt = getEndPoint(center, angle, radius + distance);\n    if (distance < 4) {\n      breakAt = anchor;\n    }\n    const inLeft = anchor.x < center.x;\n    const box = label.getBBox();\n    const labelPosition = { x: inLeft ? box.maxX : box.minX, y: box.y + box.height / 2 };\n    const smoothPath = [\n      'C', // soft break\n      // 1st control point (of the curve)\n      labelPosition.x +\n        // 4 gives the connector a little horizontal bend\n        (inLeft ? 1 : -1) * (distance < 4 ? distance / 2 : 4),\n      labelPosition.y, //\n      2 * breakAt.x - anchor.x, // 2nd control point\n      2 * breakAt.y - anchor.y, //\n      breakAt.x, // end of the curve\n      breakAt.y, //\n    ];\n    const straightPath = ['L', /** pointy break */ breakAt.x, breakAt.y];\n    const linePath = smooth ? smoothPath : straightPath;\n    const path = ['M', labelPosition.x, labelPosition.y].concat(linePath).concat('L', anchor.x, anchor.y);\n\n    return path.join(',');\n  }\n\n  protected getGeometry() {\n    return this.plot.view.geometries[0];\n  }\n\n  protected getCoordinate() {\n    const coordinate = this.getGeometry().coordinate;\n    const center = coordinate.getCenter();\n    // @ts-ignore\n    const radius = coordinate.getRadius();\n    const startAngle = coordinate.startAngle;\n    return { center, radius, startAngle };\n  }\n\n  protected adjustOption(options: PieLabelConfig): void {\n    let offset = options.offset;\n    const { radius } = this.getCoordinate();\n    if (isString(offset)) {\n      offset = radius * percent2Number(offset);\n    }\n    options.offset = offset;\n  }\n\n  private rotateLabel(label: IShape, angle): void {\n    const x = label.attr('x');\n    const y = label.attr('y');\n    const matrix = ext.transform(label.getMatrix(), [\n      ['t', -x, -y],\n      ['r', angle],\n      ['t', x, y],\n    ]);\n    label.setMatrix(matrix);\n  }\n\n  private getItems(): LabelItem[] {\n    const { offset } = this.options;\n    const { center, radius } = this.getCoordinate();\n    const items = this.arcPoints.map((anchor) => {\n      const point = getEndPoint(center, anchor.angle, radius + offset);\n      const item = { ...anchor, ...point };\n      this.adjustItem(item);\n      return item;\n    });\n    return items;\n  }\n\n  // \n  private initArcPoints(): void {\n    const { angleField } = this.plot.options;\n    const elements = this.getGeometry().elements;\n    const coord = this.getCoordinate();\n    const { center, radius } = coord;\n    let { startAngle } = this.getCoordinate();\n    const scale = this.getGeometry().scales[angleField];\n    const anchors = elements.map((ele) => {\n      const origin = ele.shape.get('origin');\n      const color = origin.color;\n      const originData = origin.data[0] || origin.data;\n      const endAngle = startAngle + Math.PI * 2 * scale.scale(originData[angleField]);\n      const angle = (startAngle + endAngle) / 2;\n      const point = getEndPoint(center, angle, radius);\n      startAngle = endAngle;\n      const name = `${originData[angleField]}`;\n      const textAlign = point.x > center.x ? 'left' : 'right';\n\n      return {\n        x: point.x,\n        y: point.y,\n        color,\n        name,\n        origin: originData,\n        // \n        angle: getAngleByPoint(this.getGeometry().coordinate, point),\n        textAlign,\n      };\n    });\n    this.arcPoints = anchors;\n  }\n}\n","/**\n *  = 0\n */\nexport const DAY_FIELD = '$$day$$';\n/**\n * \n */\nexport const WEEK_FIELD = '$$week$$';\n/**\n * Date \n */\nexport const DATE_FIELD = '$$date$$';\n/**\n * \n */\nexport const IS_MONTH_CENTER_FIELD = '$$is_month_center$$';\n/**\n * \n */\nexport const FORMATTER = 'YYYY-MM-DD';\n/**\n * \n */\nexport const MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n/**\n * \n */\nexport const WEEKS = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\n","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar register_1 = require(\"./register\");\nexports.getBBoxMethod = register_1.getMethod;\nvar rect_1 = require(\"./rect\");\nvar circle_1 = require(\"./circle\");\nvar polyline_1 = require(\"./polyline\");\nvar polygon_1 = require(\"./polygon\");\nvar text_1 = require(\"./text\");\nvar path_1 = require(\"./path\");\nvar line_1 = require(\"./line\");\nvar ellipse_1 = require(\"./ellipse\");\nregister_1.register('rect', rect_1.default);\nregister_1.register('image', rect_1.default); // image  rect \nregister_1.register('circle', circle_1.default);\nregister_1.register('marker', circle_1.default); // marker  circle \nregister_1.register('polyline', polyline_1.default);\nregister_1.register('polygon', polygon_1.default);\nregister_1.register('text', text_1.default);\nregister_1.register('path', path_1.default);\nregister_1.register('line', line_1.default);\nregister_1.register('ellipse', ellipse_1.default);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar offscreen_1 = require(\"./offscreen\");\n/**\n * \n * @param text \n * @param fontSize \n * @param lineHeight \n */\nfunction getTextHeight(text, fontSize, lineHeight) {\n    var lineCount = 1;\n    if (util_1.isString(text)) {\n        lineCount = text.split('\\n').length;\n    }\n    if (lineCount > 1) {\n        var spaceingY = getLineSpaceing(fontSize, lineHeight);\n        return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n}\nexports.getTextHeight = getTextHeight;\n/**\n * \n * @param fontSize \n * @param lineHeight \n */\nfunction getLineSpaceing(fontSize, lineHeight) {\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n}\nexports.getLineSpaceing = getLineSpaceing;\n/**\n * \n * @param text \n * @param font \n */\nfunction getTextWidth(text, font) {\n    var context = offscreen_1.getOffScreenContext(); //  ctx \n    var width = 0;\n    // null  undefined  0\n    if (util_1.isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (util_1.isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        util_1.each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexports.getTextWidth = getTextWidth;\nfunction assembleFont(attrs) {\n    var fontSize = attrs.fontSize, fontFamily = attrs.fontFamily, fontWeight = attrs.fontWeight, fontStyle = attrs.fontStyle, fontVariant = attrs.fontVariant;\n    return [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ').trim();\n}\nexports.assembleFont = assembleFont;\n//# sourceMappingURL=text.js.map","import parsePathString from './parse-path-string';\nvar REGEX_MD = /[a-z]/;\nfunction toSymmetry(p, c) {\n    return [\n        c[0] + (c[0] - p[0]),\n        c[1] + (c[1] - p[1]),\n    ];\n}\nexport default function pathToAbsolute(pathString) {\n    var pathArray = parsePathString(pathString);\n    if (!pathArray || !pathArray.length) {\n        return [\n            ['M', 0, 0],\n        ];\n    }\n    var needProcess = false; //  V,H,T,S \n    for (var i = 0; i < pathArray.length; i++) {\n        var cmd = pathArray[i][0];\n        // \n        if (REGEX_MD.test(cmd) || ['V', 'H', 'T', 'S'].indexOf(cmd) >= 0) {\n            needProcess = true;\n            break;\n        }\n    }\n    // \n    // \n    if (!needProcess) {\n        return pathArray;\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    var first = pathArray[0];\n    if (first[0] === 'M' || first[0] === 'm') {\n        x = +first[1];\n        y = +first[2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    for (var i = start, ii = pathArray.length; i < ii; i++) {\n        var pa = pathArray[i];\n        var preParams = res[i - 1]; // \n        var r = [];\n        var cmd = pa[0];\n        var upCmd = cmd.toUpperCase();\n        if (cmd !== upCmd) {\n            r[0] = upCmd;\n            switch (upCmd) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + ((j % 2) ? x : y);\n                    }\n            }\n        }\n        else { // \n            r = pathArray[i];\n        }\n        //  V,H,S,T \n        switch (upCmd) {\n            case 'Z':\n                x = +mx;\n                y = +my;\n                break;\n            case 'H':\n                x = r[1];\n                r = ['L', x, y];\n                break;\n            case 'V':\n                y = r[1];\n                r = ['L', x, y];\n                break;\n            case 'T':\n                x = r[1];\n                y = r[2];\n                //  x, y \n                //  Q\n                var symetricT = toSymmetry([preParams[1], preParams[2]], [preParams[3], preParams[4]]);\n                r = ['Q', symetricT[0], symetricT[1], x, y];\n                break;\n            case 'S':\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n                //  x,y \n                //  C  S\n                var length_1 = preParams.length;\n                var symetricS = toSymmetry([preParams[length_1 - 4], preParams[length_1 - 3]], [preParams[length_1 - 2], preParams[length_1 - 1]]);\n                r = ['C', symetricS[0], symetricS[1], r[1], r[2], x, y];\n                break;\n            case 'M':\n                mx = r[r.length - 2];\n                my = r[r.length - 1];\n                break; // for lint\n            default:\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n        }\n        res.push(r);\n    }\n    return res;\n}\n//# sourceMappingURL=path-2-absolute.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar segments_1 = require(\"./segments\");\nvar util_1 = require(\"./util\");\nexports.default = {\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @return {object} \n     */\n    box: function (points) {\n        var xArr = [];\n        var yArr = [];\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i];\n            xArr.push(point[0]);\n            yArr.push(point[1]);\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @return {object} \n     */\n    length: function (points) {\n        return segments_1.lengthOfSegment(points);\n    },\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @param {number} t \n     * @return {object} \n     */\n    pointAt: function (points, t) {\n        return segments_1.pointAtSegments(points, t);\n    },\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @param {number} x  x\n     * @param {number} y  y\n     * @return {number} \n     */\n    pointDistance: function (points, x, y) {\n        return segments_1.distanceAtSegment(points, x, y);\n    },\n    /**\n     * \n     * @param {array} points  [x,y] \n     * @param {number} t \n     * @return {object} \n     */\n    tangentAngle: function (points, t) {\n        return segments_1.angleAtSegments(points, t);\n    },\n};\n//# sourceMappingURL=polyline.js.map","// http://schepers.cc/getting-to-the-point\nexport default function catmullRom2Bezier(crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [{\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            }, {\n                x: +crp[i],\n                y: +crp[i + 1],\n            }, {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            }, {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            }];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push(['C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n}\n//# sourceMappingURL=catmull-rom-2-bezier.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig');\n// Parses given path string into an array of arrays of path segments\nfunction parsePathString(pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (is_array_1.default(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return '';\n    });\n    return data;\n}\nexports.default = parsePathString;\n//# sourceMappingURL=parse-path-string.js.map","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// \nfunction mergeBBox(bbox1, bbox2) {\n    if (!bbox1 || !bbox2) {\n        return bbox1 || bbox2;\n    }\n    return {\n        minX: Math.min(bbox1.minX, bbox2.minX),\n        minY: Math.min(bbox1.minY, bbox2.minY),\n        maxX: Math.max(bbox1.maxX, bbox2.maxX),\n        maxY: Math.max(bbox1.maxY, bbox2.maxY),\n    };\n}\nexports.mergeBBox = mergeBBox;\n// \nfunction mergeArrowBBox(shape, bbox) {\n    var startArrowShape = shape.get('startArrowShape');\n    var endArrowShape = shape.get('endArrowShape');\n    var startArrowBBox = null;\n    var endArrowBBox = null;\n    if (startArrowShape) {\n        startArrowBBox = startArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, startArrowBBox);\n    }\n    if (endArrowShape) {\n        endArrowBBox = endArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, endArrowBBox);\n    }\n    return bbox;\n}\nexports.mergeArrowBBox = mergeArrowBBox;\n//# sourceMappingURL=util.js.map","import { assign, each, wrapBehavior } from '@antv/util';\nimport { View, ICanvas } from '../dependents';\n\ninterface InteractionCfg {\n  view: View;\n  startEvent?: string;\n  processEvent?: string;\n  endEvent?: string;\n  resetEvent?: string;\n}\n\nexport interface InteractionConstructor {\n  new (cfg: any): Interaction;\n}\n\nconst EVENT_TYPES = ['start', 'process', 'end', 'reset'];\n\nexport default abstract class Interaction {\n  view: View;\n  protected canvas: ICanvas;\n  startEvent: string;\n  processEvent: string;\n  endEvent: string;\n  resetEvent: string;\n  private _eventHandlers: any[];\n  constructor(cfg: InteractionCfg) {\n    const defaultCfg = this.getDefaultCfg();\n    assign(this, defaultCfg, cfg);\n    this.canvas = this.view.canvas;\n    this._eventHandlers = [];\n    this._bindEvents();\n  }\n\n  protected getDefaultCfg() {\n    return {\n      startEvent: 'mousedown',\n      processEvent: 'mousemove',\n      endEvent: 'mouseup',\n      resetEvent: 'dblclick',\n    };\n  }\n\n  private _start(ev) {\n    this.preStart(ev);\n    this.start(ev);\n    this.afterStart(ev);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected preStart(ev): void {\n    return;\n  }\n\n  protected abstract start(ev): void;\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected afterStart(ev): void {\n    return;\n  }\n\n  private _process(ev) {\n    this.preProcess(ev);\n    this.process(ev);\n    this.afterProcess(ev);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected preProcess(ev): void {\n    return;\n  }\n\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected process(ev): void {\n    return;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected afterProcess(ev): void {\n    return;\n  }\n\n  private _end(ev) {\n    this.preEnd(ev);\n    this.end(ev);\n    this.afterEnd(ev);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected preEnd(ev): void {\n    return;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected end(ev): void {\n    return;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected afterEnd(ev): void {\n    return;\n  }\n\n  private _reset(ev?: any) {\n    this.preReset(ev);\n    this.reset(ev);\n    this.afterReset(ev);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected preReset(ev?: any): void {\n    return;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected reset(ev?: any): void {\n    return;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected afterReset(ev?: any): void {\n    return;\n  }\n\n  private _bindEvents() {\n    each(EVENT_TYPES, (type) => {\n      const eventName = this[`${type}Event`];\n      const handler = wrapBehavior(this, `_${type}`);\n      this.view.on(eventName, handler);\n      this._eventHandlers.push({ type: eventName, handler });\n    });\n  }\n\n  private _unbindEvents() {\n    const eventHandlers = this._eventHandlers;\n    each(eventHandlers, (eh) => {\n      this.view.off(eh.type, eh.handler);\n    });\n  }\n\n  public destroy() {\n    this._unbindEvents();\n    this._reset();\n  }\n}\n","import { getTheme as g2GetTheme } from '../../dependents';\nimport { isString, deepMix } from '@antv/util';\nimport { convertToG2Theme, getGlobalTheme, getTheme } from '../../theme';\nimport { getResponsiveTheme } from '../../util/responsive/theme';\nimport { ViewConfig } from '../view-layer';\n\n/**\n * theme\n */\n\nconst G2DefaultTheme = g2GetTheme();\n\nexport default class ThemeController<T extends ViewConfig = ViewConfig> {\n  /**\n   * theme\n   * @param theme\n   */\n  public static getGlobalTheme(theme: string | object) {\n    if (isString(theme)) {\n      return getGlobalTheme(theme);\n    }\n    return deepMix({}, getGlobalTheme(), theme);\n  }\n\n  /**\n   *  theme  plot \n   * @param props\n   * @param type\n   */\n  public getPlotTheme(props: T, type: string) {\n    const { theme } = props;\n    if (isString(theme)) {\n      return deepMix({}, getGlobalTheme(theme), getTheme(type));\n    }\n    return deepMix({}, getGlobalTheme(), getTheme(type), theme);\n  }\n\n  /**\n   *  G2 \n   * @param props\n   * @param type\n   */\n  public getTheme(props: T, type: string): any {\n    const plotG2Theme = convertToG2Theme(this.getPlotTheme(props, type));\n    const g2Theme = deepMix({}, G2DefaultTheme, plotG2Theme);\n    return g2Theme;\n  }\n\n  public getResponsiveTheme(type: string) {\n    return getResponsiveTheme(type) || getResponsiveTheme('default');\n  }\n}\n","/**\n * @description path \n */\n\nimport { vec2 as vector2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\n\ninterface PointObject {\n  x: number;\n  y: number;\n}\n\ntype PointArray = [number, number];\n\nfunction _points2path(points: PointObject[], isInCircle: boolean): any[] {\n  const path = [];\n  if (points.length) {\n    for (let i = 0, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      const command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point: PointObject): number {\n  const center = coord.getCenter();\n  const r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr: number[], coord): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\n\nfunction _convertPolarPath(pre: any[], cur: any[], coord): any[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n\n  const prePoint = {\n    x: pre[1],\n    y: pre[2],\n  };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convertPoint(curPoint);\n  const r = _getPointRadius(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: any[]): void {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport const smoothBezier = (\n  points: PointArray[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: PointArray[]\n): PointArray[] => {\n  const cps = [];\n\n  let prevPoint: PointArray;\n  let nextPoint: PointArray;\n  const hasConstraint = !!constraint;\n  let min: PointArray;\n  let max: PointArray;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vector2.min([0, 0], min, point) as [number, number];\n      max = vector2.max([0, 0], max, point) as [number, number];\n    }\n    min = vector2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vector2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vector2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vector2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vector2.distance(point, prevPoint);\n    let d1 = vector2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vector2.scale([0, 0], v, -d0) as [number, number];\n    const v2 = vector2.scale([0, 0], v, d1) as [number, number];\n\n    let cp0 = vector2.add([0, 0], point, v1) as [number, number];\n    let cp1 = vector2.add([0, 0], point, v2) as [number, number];\n\n    if (hasConstraint) {\n      cp0 = vector2.max([0, 0], cp0, min) as [number, number];\n      cp0 = vector2.min([0, 0], cp0, max) as [number, number];\n      cp1 = vector2.max([0, 0], cp1, min) as [number, number];\n      cp1 = vector2.min([0, 0], cp1, max) as [number, number];\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n// \nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: PointArray[]): any[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: PointArray;\n  let cp2: PointArray;\n  let p: PointArray;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n//  path\nexport function getLinePath(points: PointObject[], isInCircle: boolean): any[] {\n  return _points2path(points, isInCircle);\n}\n\n// get spline \nexport function getSplinePath(points: PointObject[], isInCircle: boolean, constaint: any): any[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  each(points, (point) => {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n// \nexport function getPointRadius(coord, point: PointObject): number {\n  return _getPointRadius(coord, point);\n}\n\n// \nexport function getPointAngle(coord, point: PointObject): number {\n  const center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\nexport function convertNormalPath(coord, path: any[]): any[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\nexport function convertPolarPath(coord, path: any[]): any[] {\n  let tmp = [];\n  let pre: any[];\n  let cur: any[];\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { LooseObject } from '../../dependents';\nimport { isFunction, has, isString, isArray } from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class LineParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      connectNulls: props.connectNulls,\n    };\n    if (props.lineSize) {\n      this.parseSize();\n    }\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n    if (props.step) {\n      this.config.shape = { values: [props.step] };\n    }\n    if (props.seriesField || props.color) {\n      this.parseColor();\n    }\n    if (props.lineStyle) {\n      this.parseStyle();\n    }\n  }\n\n  public parseSize() {\n    const sizeProps = this.plot.options.lineSize;\n    const config: LooseObject = {};\n    if (isFunction(sizeProps)) {\n      config.callback = sizeProps;\n    } else {\n      config.values = [sizeProps];\n    }\n    this.config.size = config;\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    if (props.seriesField) {\n      config.fields = [props.seriesField];\n    }\n    if (has(props, 'color')) {\n      const color = props.color;\n      if (isString(color)) {\n        config.values = [color];\n      } else if (isFunction(color)) {\n        config.callback = color;\n      } else if (isArray(color)) {\n        if (props.seriesField) {\n          config.values = color;\n        } else {\n          if (color.length > 0) {\n            config.values = [color[0]];\n          }\n        }\n      }\n    }\n\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.lineStyle;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    if (isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n}\n","import { get, map, isArray, last, each } from '@antv/util';\nimport { Element, MappingDatum, _ORIGIN } from '../../dependents';\nimport BaseLabel, { registerLabelComponent } from '../../components/label/base';\nimport { TextStyle, Label } from '../../interface/config';\nimport { IShape, Geometry } from '../../dependents';\nimport { isBBoxIntersect } from '../../util/common';\n\n/**\n * :\n * label\n * */\n\nexport default class PointLabel<L extends Label = Label> extends BaseLabel<L> {\n  protected getDefaultOptions() {\n    const { theme } = this.layer;\n    const { label = {} } = theme;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      ...label,\n    };\n  }\n\n  protected getLabelOffset() {\n    return this.getLabelOffsetByDimAndFactor('y', -1);\n  }\n\n  protected getLabelItemAttrs(element: Element, index: number): TextStyle[] {\n    const { style, formatter } = this.options;\n    const mappingData: MappingDatum[] = get(element, 'model.mappingData', []);\n\n    return map(mappingData, (datum, datumIndex) => {\n      const value = this.getValue(datum);\n      return {\n        ...this.getPosition(datum),\n        text: formatter\n          ? formatter(\n              value,\n              {\n                [_ORIGIN]: datum._origin,\n                mappingDatum: datum,\n                mappingDatumIndex: datumIndex,\n                element,\n                elementIndex: index,\n              },\n              index\n            )\n          : value,\n        textAlign: 'center',\n        textBaseline: 'middle',\n        ...style,\n      };\n    });\n  }\n\n  protected getValue(datum: MappingDatum): number | undefined | null {\n    return get(datum._origin, this.layer.options.yField);\n  }\n\n  protected getPosition(datum: MappingDatum): { x: number; y: number } {\n    const pos = {\n      x: isArray(datum.x) ? last(datum.x) : datum.x,\n      y: isArray(datum.y) ? last(datum.y) : datum.y,\n    };\n    return pos;\n  }\n\n  protected layoutLabels(geometry: Geometry, labels: IShape[]): void {\n    if (!this.options.adjustPosition) {\n      return;\n    }\n    let overlap = this.isOverlapped(labels);\n    // 1label\n    if (overlap) {\n      const tolerance = this.getGlobalTolerance(labels);\n      each(labels, (label, index) => {\n        if (index > 1) {\n          this.labelResamplingByChange(label, labels, index, tolerance);\n        }\n      });\n    }\n    overlap = this.isOverlapped(labels);\n    // 2 label\n    if (overlap) {\n      each(labels, (label, index) => {\n        if (label.get('visible')) {\n          this.clearOverlapping(label, labels, index);\n        }\n      });\n    }\n  }\n\n  protected adjustLabel() {\n    return;\n  }\n\n  /**  */\n  private labelResamplingByChange(label: IShape, labels: IShape[], index: number, tolerance: number) {\n    const previous = this.findPrevious(index, labels);\n    const currentCenter = this.getCenter(label);\n    const previousCenter = this.getCenter(previous);\n    const distX = previousCenter.x - currentCenter.x;\n    const distY = previousCenter.y - currentCenter.y;\n    const dist = Math.sqrt(distX * distX + distY * distY);\n    if (dist < tolerance) {\n      label.set('visible', false);\n    }\n  }\n\n  private clearOverlapping(label: IShape, labels: IShape[], index: number) {\n    // overlapnode\n    const overlapped = [];\n    for (let i = 0; i < labels.length; i++) {\n      const current = labels[i];\n      if (i !== index && current.get('visible')) {\n        const isOverlap = isBBoxIntersect(label.getBBox(), current.getBBox());\n        if (isOverlap) {\n          overlapped.push(current);\n        }\n      }\n    }\n    // overapped label\n    if (overlapped.length > 0) {\n      overlapped.push(label);\n      overlapped.sort((a, b) => {\n        return b.minY - a.minY;\n      });\n      // label\n      each(overlapped, (label: IShape, index: number) => {\n        if (index > 0) {\n          label.set('visible', false);\n        }\n      });\n    }\n  }\n\n  /** label **/\n  private isOverlapped(labels: IShape[]) {\n    for (let i = 0; i < labels.length; i++) {\n      if (labels[i].get('visible')) {\n        const labelABBox = labels[i].getBBox();\n        for (let j = 0; j < labels.length; j++) {\n          if (j !== i && labels[j].get('visible')) {\n            const labelBBBox = labels[j].getBBox();\n            const intersection = isBBoxIntersect(labelABBox, labelBBBox);\n            if (intersection) {\n              return true;\n            }\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  private getGlobalTolerance(labels: IShape[]) {\n    const labelsClone = labels.slice();\n    labelsClone.sort((a, b) => {\n      return b.getBBox().width - a.getBBox().width;\n    });\n    return Math.round(labelsClone[0].getBBox().width);\n  }\n\n  private findPrevious(index: number, labels: IShape[]) {\n    for (let i = index - 1; i > 0; i--) {\n      if (labels[i].get('visible')) {\n        return labels[i];\n      }\n    }\n  }\n\n  private getCenter(label: IShape) {\n    const { minX, maxX, minY, maxY } = label.getBBox();\n    return { x: minX + (maxX - minX) / 2, y: minY + (maxY - minY) / 2 };\n  }\n}\n\nregisterLabelComponent('point', PointLabel);\n","import { registerTheme } from '../../theme';\n\nconst BAR_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst BAR_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nexport const DEFAULT_BAR_THEME = {\n  label: {\n    darkStyle: {\n      fill: '#2c3542',\n      stroke: '#ffffff',\n      fillOpacity: 0.85,\n    },\n    lightStyle: {\n      fill: '#ffffff',\n      stroke: '#ffffff',\n      fillOpacity: 1,\n    },\n  },\n  columnStyle: {\n    normal: {},\n    active: BAR_ACTIVE_STYLE,\n    disable: BAR_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n};\n\nregisterTheme('bar', DEFAULT_BAR_THEME);\n","import { each, get, deepMix } from '@antv/util';\nimport { Element, IShape, MappingDatum, _ORIGIN } from '../../../dependents';\nimport BaseLabel, { registerLabelComponent } from '../../../components/label/base';\nimport { rgb2arr, mappingColor } from '../../../util/color';\nimport BBox from '../../../util/bbox';\nimport { TextStyle } from '../../../interface/config';\nimport { IBarLabel } from '../interface';\n\nexport default class BarLabel<L extends IBarLabel = IBarLabel> extends BaseLabel<L> {\n  protected getLabelItemAttrs(element: Element, index: number): TextStyle {\n    const { style, formatter } = this.options;\n    const mappingData: MappingDatum[] = [].concat(element.getModel().mappingData);\n    const value = this.getValue(element);\n\n    return deepMix({}, style, {\n      ...this.getPosition(element),\n      text: formatter\n        ? formatter(\n            value,\n            {\n              [_ORIGIN]: mappingData[0]._origin,\n              mappingDatum: mappingData[0],\n              mappingDatumIndex: 0,\n              element,\n              elementIndex: index,\n            },\n            index\n          )\n        : value,\n      fill: this.getTextFill(element),\n      stroke: this.getTextStroke(element),\n      textAlign: this.getTextAlign(element),\n      textBaseline: this.getTextBaseline(),\n    });\n  }\n\n  protected adjustLabel(label: IShape, element: Element): void {\n    const { adjustPosition, style } = this.options;\n    if (adjustPosition) {\n      const offset = this.getDefaultOffset();\n      const labelRange = label.getBBox();\n      const shapeRange = this.getElementShapeBBox(element);\n      if (shapeRange.width <= labelRange.width) {\n        const xPosition = shapeRange.maxX + this.options.offsetX + offset;\n        label.attr('x', xPosition);\n        label.attr('fill', style.fill);\n      }\n    }\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.layer;\n    const { label = {} } = theme;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      adjustPosition: true,\n      ...label,\n    };\n  }\n\n  protected getValue(element: Element): number | undefined | null {\n    return get(element.getData(), this.layer.options.xField);\n  }\n\n  protected getPosition(element: Element): { x: number; y: number } {\n    const offset = this.getDefaultOffset();\n    const value = this.getValue(element);\n    const bbox = this.getElementShapeBBox(element);\n    const { minX, maxX, minY, height, width } = bbox;\n    const { offsetX, offsetY, position } = this.options;\n    const y = minY + height / 2 + offsetY;\n    const dir = value < 0 ? -1 : 1;\n    let x;\n    if (position === 'left') {\n      const root = value > 0 ? minX : maxX;\n      x = root + offset * dir + offsetX;\n    } else if (position === 'right') {\n      const root = value > 0 ? maxX : minX;\n      x = root + offset * dir + offsetX;\n    } else {\n      x = minX + width / 2 + offsetX;\n    }\n\n    return { x, y };\n  }\n\n  protected getTextFill(element: Element) {\n    const { shape } = element;\n    if (this.options.adjustColor && this.options.position !== 'right') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = this.options.style.fill;\n    return defaultColor;\n  }\n\n  protected getTextStroke(element: Element) {\n    const fill = this.getTextFill(element);\n    const { position, adjustColor } = this.options;\n    return position !== 'right' && adjustColor && fill !== 'black' ? null : undefined;\n  }\n\n  protected getTextAlign(element: Element) {\n    const value = this.getValue(element);\n    const { position } = this.options;\n    const alignOptions = {\n      right: 'left',\n      left: 'left',\n      middle: 'center',\n    };\n    const alignOptionsReverse = {\n      right: 'right',\n      left: 'right',\n      middle: 'center',\n    };\n    if (value < 0) {\n      return alignOptionsReverse[position];\n    }\n    return alignOptions[position];\n  }\n\n  protected getTextBaseline() {\n    return 'middle';\n  }\n\n  protected getElementShapeBBox(element: Element): BBox {\n    const { shape } = element;\n    const points = [];\n    each(shape.get('origin').points, (p) => {\n      points.push(this.coord.convertPoint(p));\n    });\n    const xValues = points.map((point) => point.x);\n    const xValuesMin = Math.min(...xValues);\n    const xValueMax = Math.max(...xValues);\n    const yValues = points.map((point) => point.y);\n    const yValuesMin = Math.min(...yValues);\n    const yValuesMax = Math.max(...yValues);\n    const bbox = new BBox(xValuesMin, yValuesMin, xValueMax - xValuesMin, yValuesMax - yValuesMin);\n    return bbox;\n  }\n\n  protected getLabelOffset() {\n    // Column  offset  getPosition  position \n    return {\n      x: 0,\n      y: 0,\n    };\n  }\n}\n\nregisterLabelComponent('bar', BarLabel);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption } from '../../interface/config';\nimport BaseBarLayer from '../bar/layer';\nimport { BarViewConfig } from '../bar/interface';\nimport './theme';\nimport './component/label';\nimport './component/label-auto';\nimport { getGeometryByType } from '../../util/view';\nimport { Maybe } from '../../interface/types';\n\nexport interface StackedBarViewConfig extends BarViewConfig {\n  stackField: string;\n}\n\nexport interface StackedBarLayerConfig extends StackedBarViewConfig, LayerConfig {}\n\nexport default class StackedBarLayer<T extends StackedBarLayerConfig = StackedBarLayerConfig> extends BaseBarLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        autoRotateTitle: false,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n          autoRotate: true,\n          autoHide: true,\n        },\n        title: {\n          visible: true,\n          spacing: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoRotateTitle: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoRotate: true,\n          autoHide: true,\n        },\n        title: {\n          visible: false,\n          spacing: 12,\n        },\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        offsetY: 0,\n      },\n    });\n  }\n\n  public type: string = 'stackedBar';\n\n  public getColorScale() {\n    const { stackField } = this.options;\n    return this.view.getScaleByField(stackField);\n  }\n\n  protected adjustBar(bar: ElementOption) {\n    bar.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { label, xField } = this.options;\n    const scale = scales[xField];\n    if (label?.visible) {\n      const geometry = getGeometryByType(this.view, 'interval');\n      this.doRenderLabel(geometry, {\n        type: 'stacked-bar',\n        formatter: scale.formatter && ((value: Maybe<string | number>) => scale.formatter(value)),\n        ...this.options.label,\n      });\n    }\n  }\n\n  protected geometryTooltip() {\n    this.bar.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.bar.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.bar.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.bar.tooltip.fields = [this.options.xField, this.options.yField, this.options.stackField];\n      }\n    }\n  }\n}\n\nregisterPlotType('stackedBar', StackedBarLayer);\n","import { groupBy, mapValues, map, flatten, isNumber, reduce, each } from '@antv/util';\nimport { DataItem } from '../interface/config';\n\nexport const transformDataPercentage = (data: DataItem[], groupField: string, measures: string[]): DataItem[] => {\n  // groupBygroup\n  let chain = groupBy(data, groupField);\n  chain = mapValues(chain, (items) => map(items, (item) => map(measures, (field) => item[field])));\n  chain = mapValues(chain, flatten);\n  chain = mapValues(chain, (vals) =>\n    map(vals, (val) => {\n      // @ts-ignore\n      const v = Number.parseFloat(val);\n      if (!isNumber(v) || isNaN(v)) {\n        return 0;\n      }\n      return v;\n    })\n  );\n  // @ts-ignore\n  const groupTotals = mapValues(chain, (vals: number[]) => reduce(vals, (sum, val) => sum + val, 0));\n\n  // measures\n  const newData = map(data, (item) => {\n    // @ts-ignore\n    const rst = { ...item, _origin: item, total: groupTotals[item[groupField]] };\n    each(measures, (field) => {\n      // @ts-ignore\n      rst[field] = item[field] / groupTotals[item[groupField]];\n    });\n    return rst;\n  });\n\n  // 1\n  each(groupBy(newData, groupField), (items: DataItem[]) => {\n    let sum = 0;\n    each(items, (item: DataItem, itemIdx: number) => {\n      each(measures, (field: string, fieldIdx: number) => {\n        // @ts-ignore\n        if (sum + item[field] >= 1 || (itemIdx === items.length - 1 && fieldIdx === measures.length - 1)) {\n          item[field] = 1 - sum;\n        }\n        // @ts-ignore\n        sum += item[field];\n      });\n    });\n  });\n\n  // @ts-ignore\n  return newData;\n};\n","import { deepMix, has, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption } from '../../interface/config';\nimport './component/label/area-point';\nimport './component/label/area-point-auto';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport * as EventParser from './event';\nimport './theme';\nimport { getGeometryByType } from '../../util/view';\nimport { AreaViewConfig } from './interface';\nimport { Maybe } from '../../interface/types';\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point',\n};\n\nexport interface AreaLayerConfig extends AreaViewConfig, LayerConfig {}\n\nexport default class AreaLayer<T extends AreaLayerConfig = AreaLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      smooth: false,\n      areaStyle: {\n        opacity: 0.25,\n      },\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n          lineJoin: 'round',\n          lineCap: 'round',\n        },\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4,\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: true,\n        crosshairs: {\n          type: 'x',\n        },\n        offset: 20,\n      },\n    });\n  }\n\n  public line: any;\n  public point: any;\n  public area: any;\n  public type: string = 'area';\n\n  public beforeInit() {\n    super.beforeInit();\n    /**  */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    this.renderLabel();\n    /**  */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** x-scale */\n    scales[props.xField] = {\n      type: 'cat',\n    };\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** y-scale */\n    scales[props.yField] = {};\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    return null;\n  }\n\n  protected addGeometry() {\n    const props: any = this.options;\n    const area = getGeom('area', 'main', {\n      plot: this,\n    });\n    this.area = area;\n\n    if (props.label) {\n      this.label();\n    }\n\n    if (props.tooltip && (props.tooltip.fields || props.tooltip.formatter)) {\n      this.geometryTooltip();\n    }\n\n    this.adjustArea(area);\n    this.setConfig('geometry', area);\n\n    this.addLine();\n\n    this.addPoint();\n  }\n\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected adjustArea(area: ElementOption) {\n    return;\n  }\n\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected adjustLine(line?: ElementOption) {\n    return;\n  }\n\n  //eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected adjustPoint(point?: ElementOption) {\n    return;\n  }\n\n  protected addLine() {\n    const props: any = this.options;\n    const lineConfig = deepMix({}, props.line);\n    if (lineConfig.visible) {\n      const line = getGeom('line', 'guide', {\n        type: 'line',\n        plot: this,\n        line: lineConfig,\n      });\n      this.adjustLine(line);\n      this.setConfig('geometry', line);\n      this.line = line;\n    }\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const pointConfig = deepMix({}, props.point);\n    if (pointConfig.visible) {\n      const point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.adjustPoint(point);\n      this.setConfig('geometry', point);\n      this.point = point;\n    }\n  }\n\n  protected renderLabel() {\n    const { scales } = this.config;\n    const { label, yField } = this.options;\n    const scale = scales[yField];\n    if (label.visible) {\n      const geometry = getGeometryByType(this.view, 'area');\n      this.doRenderLabel(geometry, {\n        type: 'area-point',\n        formatter: scale.formatter && ((value: Maybe<string | number>) => scale.formatter(value)),\n        ...this.options.label,\n      });\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      // \n      this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  }\n\n  protected label() {\n    return;\n  }\n\n  protected geometryTooltip() {\n    this.area.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.area.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.area.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.area.tooltip.fields = [this.options.xField, this.options.yField];\n        if (this.options.seriesField) {\n          this.area.tooltip.fields.push(this.options.seriesField);\n        }\n      }\n    }\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    each(methods, (r) => {\n      const responsive = r as any;\n      responsive.method(this);\n    });\n  }\n}\n\nregisterPlotType('area', AreaLayer);\n","import { deepMix, get, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption, Label } from '../../interface/config';\nimport BaseArea from '../area/layer';\nimport { getPlotComponents } from './component';\nimport './component/label/area-point';\nimport './component/label/area-point-auto';\nimport { StackedAreaViewConfig } from './interface';\nimport './theme';\n\nexport interface StackedAreaLayerConfig extends StackedAreaViewConfig, LayerConfig {}\n\nexport default class StackedAreaLayer<T extends StackedAreaLayerConfig = StackedAreaLayerConfig> extends BaseArea<T> {\n  protected plotComponents: any[] = [];\n\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      label: {\n        visible: false,\n        type: 'area',\n      },\n    });\n  }\n\n  public type: string = 'stackedArea';\n\n  public beforeInit() {\n    const visible = get(this.options, ['label', 'visible']);\n    const type = get(this.options, ['label', 'type']);\n    const options: any = this.options;\n    if (visible) {\n      if (type === 'line') {\n        options.lineLabel = this.options.label;\n      }\n      if (type === 'area') {\n        options.areaLabel = this.options.label;\n      }\n    }\n    super.beforeInit();\n  }\n\n  public getColorScale() {\n    const { stackField } = this.options;\n    return this.view.getScaleByField(stackField);\n  }\n\n  protected label() {\n    const props = this.options;\n    const label = props.label as Label;\n\n    if (label && label.visible === false) {\n      if (this.line) {\n        this.line.label = false;\n      }\n      if (this.point) {\n        this.point.label = false;\n      }\n      this.area.label = false;\n      return;\n    }\n  }\n\n  protected adjustArea(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected adjustLine(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected adjustPoint(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  public afterRender() {\n    this.renderPlotComponents();\n    this.options.responsive = false;\n    super.afterRender();\n  }\n\n  protected geometryTooltip() {\n    this.area.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.area.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.area.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.area.tooltip.fields = [this.options.xField, this.options.yField, this.options.stackField];\n      }\n    }\n  }\n\n  protected renderPlotComponents() {\n    const componentsType = ['areaLabel', 'lineLabel'];\n    each(componentsType, (t) => {\n      const cfg = {\n        view: this.view,\n        plot: this,\n        ...this.options[t],\n      };\n      const component = getPlotComponents(this, t, cfg);\n      if (component) {\n        component.render();\n        this.plotComponents.push(component);\n      }\n    });\n  }\n}\n\nregisterPlotType('stackedArea', StackedAreaLayer);\n","import { registerTheme } from '../../theme';\n\nconst COLUMN_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst COLUMN_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5, fillOpacity: opacity * 0.5 };\n};\n\nexport const DEFAULT_COLUMN_THEME = {\n  label: {\n    darkStyle: {\n      fill: '#2c3542',\n      stroke: '#ffffff',\n      fillOpacity: 0.85,\n    },\n    lightStyle: {\n      fill: '#ffffff',\n      stroke: '#ffffff',\n      fillOpacity: 1,\n    },\n  },\n  columnStyle: {\n    normal: {},\n    active: COLUMN_ACTIVE_STYLE,\n    disable: COLUMN_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n};\n\nregisterTheme('column', DEFAULT_COLUMN_THEME);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption } from '../../interface/config';\nimport BaseColumnLayer from '../column/layer';\nimport { ColumnViewConfig } from '../column/interface';\nimport './theme';\n\nexport interface GroupedColumnViewConfig extends ColumnViewConfig {\n  groupField: string;\n}\n\nexport interface GroupedColumnLayerConfig extends GroupedColumnViewConfig, LayerConfig {}\n\nexport default class GroupedColumnLayer extends BaseColumnLayer<GroupedColumnLayerConfig> {\n  public static getDefaultOptions(): Partial<GroupedColumnViewConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        title: {\n          visible: true,\n        },\n      },\n    });\n  }\n  public type: string = 'groupedColumn';\n  public getResponsiveTheme() {\n    return this.themeController.getResponsiveTheme('column');\n  }\n\n  public getColorScale() {\n    const { groupField } = this.options;\n    if (groupField) {\n      return this.view.getScaleByField(groupField);\n    }\n  }\n\n  protected addGeometry() {\n    super.addGeometry();\n  }\n\n  protected adjustColumn(column: ElementOption) {\n    column.adjust = [\n      {\n        type: 'dodge',\n        marginRatio: 0.1,\n      },\n    ];\n  }\n\n  protected geometryTooltip() {\n    this.column.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.column.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.column.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.column.tooltip.fields = [this.options.xField, this.options.yField, this.options.groupField];\n      }\n    }\n  }\n}\n\nregisterPlotType('groupedColumn', GroupedColumnLayer);\n","export interface Point {\n  x: number;\n  y: number;\n}\n\nexport function getEndPoint(center, angle, r): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n\nexport interface Box {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\n/**  */\nexport function getCenter(box: Box): Point {\n  return {\n    x: box.x + box.width / 2,\n    y: box.y + box.height / 2,\n  };\n}\n\nexport function getOverlapArea(a: Box, b: Box, margin = 0): number {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n  return xOverlap * yOverlap;\n}\n\n/**\n * \n * @return xOverlap x\n * @return yOverlap y\n */\nexport function getOverlapInfo(a: Box, b: Box, margin = 0): { xOverlap: number; yOverlap: number } {\n  let xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  let yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  //  sign\n  if (xOverlap && a.x < b.x) {\n    xOverlap = -xOverlap;\n  }\n  if (yOverlap && a.y < b.y) {\n    yOverlap = -yOverlap;\n  }\n\n  // \n  if (a.x === b.x && a.width === b.width) {\n    xOverlap = b.width;\n  }\n  if (a.y === b.y && a.height === b.height) {\n    yOverlap = b.height;\n  }\n\n  return { xOverlap, yOverlap };\n}\n\n/**\n * panel\n * @param panel\n * @param shape\n */\nexport function inPanel(panel: Box, shape: Box) {\n  return (\n    panel.x < shape.x &&\n    panel.x + panel.width > shape.x + shape.width &&\n    panel.y < shape.y &&\n    panel.y + panel.height > shape.y + shape.height\n  );\n}\n\n/**\n *  \n * -   \n */\nexport const near = (x: number, y: number, e: number = Number.EPSILON ** 0.5): boolean =>\n  [x, y].includes(Infinity) ? Math.abs(x) === Math.abs(y) : Math.abs(x - y) < e;\n\n/**\n * \n */\nexport function getAngleByPoint(coordinate, point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n *  label \n * @param angle\n */\nexport function getLabelRotate(angle: number) {\n  const HALF_PI = Math.PI / 2;\n  let rotate = angle;\n  if (rotate > HALF_PI || rotate < -HALF_PI) {\n    rotate = rotate + Math.PI;\n  }\n  return rotate;\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-17\n */\nimport { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../..';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { Label } from '../..';\nimport * as EventParser from './event';\nimport { GraphicStyle } from '../../interface/config';\n\nexport interface RoseViewConfig extends ViewConfig {\n  radiusField: string;\n  categoryField: string;\n  colorField?: string;\n  radius?: number;\n  innerRadius?: number;\n  /**  */\n  sectorStyle?: GraphicStyle | ((...args: any[]) => GraphicStyle);\n  label?: RoseLabel;\n}\n\ntype RoseLabel = ViewConfig['label'] & {\n  type: 'outer' | 'inner';\n  /**  */\n  adjustColor?: boolean;\n  /**  */\n  autoRotate?: boolean;\n  // labelscalefield  G2 4.0 \n  content?: string | ((...args: any[]) => string);\n};\n\nexport interface RoseLayerConfig extends RoseViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  rose: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  rose: 'column',\n};\n\nexport default class RoseLayer<T extends RoseLayerConfig = RoseLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      innerRadius: 0,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: true,\n        adjustColor: false,\n      },\n      legend: {\n        visible: true,\n        position: 'right',\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      columnStyle: {\n        stroke: 'white',\n        lineWidth: 1,\n      },\n      xAxis: {\n        visible: false,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          alignTick: false,\n          style: {\n            lineWidth: 0.5,\n          },\n        },\n        label: {\n          offset: 5,\n          autoRotate: true,\n        },\n      },\n      yAxis: {\n        visible: false,\n      },\n    });\n  }\n\n  public rose: any;\n  public type: string = 'rose';\n\n  public getOptions(props: T) {\n    const options = super.getOptions(props);\n    const columnStyle = props.sectorStyle;\n    const xField = props.categoryField;\n    const yField = props.radiusField;\n    return deepMix({}, options, { columnStyle, xField, yField });\n  }\n\n  public getRadiusScale() {\n    const { radiusField } = this.options;\n    if (radiusField) {\n      this.view.getScaleByField(radiusField);\n    }\n  }\n\n  public getAngleScale() {\n    const { categoryField } = this.options;\n    if (categoryField) {\n      this.view.getScaleByField(categoryField);\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    // super.scale();\n    const props = this.options;\n    const scales = {};\n    scales[props.radiusField] = {};\n    scales[props.categoryField] = { type: 'cat' };\n    this.setConfig('scales', scales);\n  }\n\n  /**  */\n  /*protected axis() {\n    super.axis();\n    const options = this.options;\n    if (!options.stackField && !options.groupField) {\n      this.setConfig('axes', false);\n    }\n  }*/\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius || 0,\n      },\n    };\n    this.setConfig('coordinate', coordConfig as any);\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    const rose = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [options.categoryField, options.radiusField],\n      widthRatio: {\n        rose: 1,\n      },\n    });\n    rose.label = this.extractLabel();\n    rose.adjust = this.adjustRoseAdjust();\n    this.rose = rose;\n    if (options.tooltip && (options.tooltip.fields || options.tooltip.formatter)) {\n      this.geometryTooltip();\n    }\n    this.setConfig('geometry', rose);\n  }\n\n  protected adjustRoseAdjust() {\n    return;\n  }\n\n  protected geometryTooltip() {\n    this.rose.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.rose.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.rose.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.rose.tooltip.fields = [this.options.radiusField, this.options.categoryField, this.options.colorField];\n      }\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /**  */\n      this.rose.animate = false;\n    }\n  }\n\n  protected annotation() {\n    return;\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  protected extractLabel() {\n    const options = this.options;\n    if (!options.label || !options.label.visible) {\n      return false;\n    }\n    const label = deepMix({}, options.label as Label);\n    this.adjustLabelOptions(label);\n    const fields = [options.categoryField, options.radiusField];\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'polar',\n      fields,\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  private adjustLabelOptions(labelOptions: RoseLabel) {\n    const { radiusField } = this.options;\n    if (labelOptions) {\n      const { offset, type, content } = labelOptions;\n      if (type === 'inner') {\n        labelOptions.offset = offset < 0 ? offset : -10;\n      } else if (type === 'outer') {\n        labelOptions.offset = offset >= 0 ? offset : 10;\n      }\n      if (!content) {\n        //  \n        labelOptions.content = (text, item) => `${item._origin[radiusField]}`;\n      }\n    }\n  }\n}\n\nregisterPlotType('rose', RoseLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { deepMix, get, map, isArray, reduce, has, isFunction, isString, isObject } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport './geometry/shape/waterfall';\nimport { ElementOption, DataItem, LayerConfig } from '../..';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { AttributeCfg } from '@antv/attr';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './component/label/waterfall-label';\nimport DiffLabel, { DiffLabelcfg } from './component/label/diff-label';\nimport { LineStyle, TextStyle, GraphicStyle } from '../../interface/config';\nimport { getGeometryByType } from '../../util/view';\n\nconst G2_GEOM_MAP = {\n  waterfall: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'waterfall',\n};\n\nexport const VALUE_FIELD = '$$value$$';\nexport const IS_TOTAL = '$$total$$';\nconst INDEX_FIELD = '$$index$$';\n\nexport interface WaterfallViewConfig extends ViewConfig {\n  showTotal?: {\n    visible: boolean;\n    label: string;\n  };\n  /** label */\n  diffLabel?: {\n    visible: boolean;\n    style?: TextStyle;\n    formatter?: DiffLabelcfg['formatter'];\n  };\n  leaderLine?: {\n    visible: boolean;\n    style?: LineStyle;\n  };\n  color?:\n    | string\n    | { rising: string; falling: string; total?: string }\n    | ((type: string, value: number | null, values: number | number[], index: number) => string);\n  waterfallStyle?: GraphicStyle | ((...args: any[]) => GraphicStyle);\n}\n\nexport interface WaterfallLayerConfig extends WaterfallViewConfig, LayerConfig {}\n\nexport default class WaterfallLayer extends ViewLayer<WaterfallLayerConfig> {\n  public waterfall;\n  public type: string = 'watarfall';\n  public diffLabel;\n\n  public static getDefaultOptions(): Partial<WaterfallLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      legend: {\n        visible: false,\n        position: 'bottom',\n      },\n      label: {\n        visible: true,\n        adjustPosition: true,\n      },\n      /**  label */\n      diffLabel: {\n        visible: true,\n      },\n      /**  */\n      leaderLine: {\n        visible: true,\n      },\n      /**  */\n      showTotal: {\n        visible: true,\n        label: '',\n      },\n      waterfallStyle: {\n        /**  */\n        lineWidth: 0,\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n    });\n  }\n\n  public getOptions(props: WaterfallLayerConfig) {\n    const options = super.getOptions(props);\n    this.adjustLegendOptions(options);\n    this.adjustMeta(options);\n    return options;\n  }\n\n  public afterInit() {\n    super.afterInit();\n    const options = this.options;\n    if (options.diffLabel && options.diffLabel.visible) {\n      this.diffLabel = new DiffLabel({\n        view: this.view,\n        fields: [options.xField, options.yField, VALUE_FIELD],\n        formatter: options.diffLabel.formatter,\n        style: options.diffLabel.style,\n      });\n    } else if (this.diffLabel) {\n      this.diffLabel.clear();\n      this.diffLabel = null;\n    }\n  }\n\n  public afterRender() {\n    super.afterRender();\n    const options = this.options;\n    this.view.on('tooltip:change', (e) => {\n      const { items } = e;\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n        const data = get(item, 'data', {});\n        //  tooltip namevalue\n        item.name = data[options.xField];\n        item.value = data[options.yField];\n        if (!item.value && data[IS_TOTAL]) {\n          const values = data[VALUE_FIELD];\n          item.value = values[0] - values[1];\n        }\n        e.items[i] = item;\n      }\n    });\n    this.renderLabel();\n  }\n\n  protected renderLabel() {\n    const geometry = getGeometryByType(this.view, 'interval');\n    if (this.options.label && this.options.label.visible) {\n      this.doRenderLabel(geometry, {\n        type: 'waterfall',\n        ...this.options.label,\n      });\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected interaction() {\n    this.setConfig('interactions', [{ type: 'tooltip' }, { type: 'active-region' }]);\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    const waterfall: ElementOption = {\n      type: 'interval',\n      position: {\n        fields: [options.xField, VALUE_FIELD],\n      },\n      shape: {\n        values: ['waterfall'],\n      },\n    };\n    waterfall.style = this._parseStyle();\n    waterfall.color = this._parseColor();\n    this.waterfall = waterfall;\n    if (this.options.tooltip && (this.options.tooltip.fields || this.options.tooltip.formatter)) {\n      this.geometryTooltip();\n    }\n    this.setConfig('geometry', waterfall);\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const plotData = [];\n    const xField = this.options.xField;\n    const yField = this.options.yField;\n    map(originData, (dataItem, idx: number) => {\n      let value: any = dataItem[yField];\n      if (idx > 0) {\n        const prevValue = plotData[idx - 1][VALUE_FIELD];\n        if (isArray(prevValue)) {\n          value = [prevValue[1], dataItem[yField] + prevValue[1]];\n        } else {\n          value = [prevValue, dataItem[yField] + prevValue];\n        }\n      }\n      plotData.push({\n        ...dataItem,\n        [VALUE_FIELD]: value,\n        [INDEX_FIELD]: idx,\n      });\n    });\n    if (this.options.showTotal && this.options.showTotal.visible) {\n      const values = map(originData, (o) => o[yField]);\n      const totalValue = reduce(values, (p: number, n: number) => p + n, 0);\n      plotData.push({\n        [xField]: this.options.showTotal.label,\n        [yField]: null,\n        [VALUE_FIELD]: [totalValue, 0],\n        [INDEX_FIELD]: plotData.length,\n        [IS_TOTAL]: true,\n      });\n    }\n    return plotData;\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** x-scale */\n    scales[options.xField] = { type: 'cat' };\n    if (has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** y-scale */\n    scales[VALUE_FIELD] = {};\n    if (has(options, 'yAxis')) {\n      extractScale(scales[VALUE_FIELD], options.yAxis);\n    }\n    this.setConfig('scales', scales);\n  }\n\n  /** @override */\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    const axesConfig = { fields: {} };\n    axesConfig.fields[this.options.xField] = xAxis_parser;\n    axesConfig.fields[VALUE_FIELD] = yAxis_parser;\n    /** config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected coord() {\n    return;\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  protected geometryTooltip() {\n    this.waterfall.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.waterfall.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.waterfall.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.waterfall.tooltip.fields = [this.options.xField, VALUE_FIELD];\n      }\n    }\n  }\n\n  /** style */\n  private _parseStyle(): LineStyle {\n    const style = this.options.waterfallStyle;\n    const leaderLine = this.options.leaderLine;\n    const config: Record<string, any> = {};\n    if (isFunction(style)) {\n      config.callback = (...args) => {\n        return Object.assign({}, style(...args), { leaderLine });\n      };\n    } else {\n      config.cfg = { ...style, leaderLine };\n    }\n\n    return config;\n  }\n\n  private _parseColor(): AttributeCfg {\n    const options = this.options;\n    const { xField, yField } = this.options;\n    const config: any = {\n      fields: [xField, yField, VALUE_FIELD, INDEX_FIELD],\n    };\n    if (isFunction(options.color)) {\n      config.callback = options.color;\n    } else {\n      let risingColor = '#f4664a';\n      let fallingColor = '#30bf78';\n      let totalColor = 'rgba(0, 0, 0, 0.25)';\n      if (isString(options.color)) {\n        risingColor = fallingColor = totalColor = options.color;\n      } else if (isObject(options.color)) {\n        const { rising, falling, total } = options.color;\n        risingColor = rising;\n        fallingColor = falling;\n        totalColor = total;\n      }\n      config.callback = (type, value, values: number | number[], index: number) => {\n        if (index === this.options.data.length) {\n          return totalColor || (values[0] >= 0 ? risingColor : fallingColor);\n        }\n        return (isArray(values) ? values[1] - values[0] : values) >= 0 ? risingColor : fallingColor;\n      };\n    }\n    return config as AttributeCfg;\n  }\n\n  /**  legend , legend */\n  private adjustLegendOptions(options): void {\n    const legendOptions = options.legend;\n    if (legendOptions) {\n      legendOptions.visible = false;\n    }\n  }\n\n  /**  meta  */\n  private adjustMeta(options): void {\n    const metaOptions = options.meta;\n    if (metaOptions) {\n      const valueFieldMeta = metaOptions ? metaOptions[options.yField] : {};\n      valueFieldMeta.alias = valueFieldMeta.alias || options.yField;\n      options.meta[VALUE_FIELD] = valueFieldMeta;\n    }\n  }\n}\n\nregisterPlotType('waterfall', WaterfallLayer);\n","import { head, last } from '@antv/util';\nimport fecha from 'fecha';\nimport { FORMATTER } from '../plots/calendar/constant';\n\n/**\n *  ms\n */\nexport const DAY_MS = 86400000;\n\n/**\n * \n * @param dates\n */\nexport function getDateRange(dates: Date[]): string[] {\n  const ds = [...dates].sort((a: Date, b: Date) => a.getTime() - b.getTime());\n\n  return [fecha.format(head(ds), FORMATTER), fecha.format(last(ds), FORMATTER)];\n}\n\n/**\n * \n * @param date\n */\nexport function getYearRange(date?: Date): string[] {\n  const curr = date ? date : new Date();\n\n  return [\n    fecha.format(new Date(curr.getFullYear(), 0, 1), FORMATTER),\n    fecha.format(new Date(curr.getFullYear(), 11, 30), FORMATTER),\n  ];\n}\n\n/**\n * \n */\nexport function isLastWeekOfMonth(date: Date): boolean {\n  //  7 \n  return date.getMonth() !== advanceBy(new Date(date), 7 * DAY_MS).getMonth();\n}\n\n/**\n * \n */\nexport function isLastDayOfMonth(date: Date): boolean {\n  //  1 \n  return date.getMonth() !== advanceBy(new Date(date), DAY_MS).getMonth();\n}\n\n/**\n *  date \n * @param date\n */\nexport function getWeek(date: Date): number {\n  // \n  const oneJan = new Date(date.getFullYear(), 0, 1);\n\n  return Math.ceil(((date.getTime() - oneJan.getTime()) / DAY_MS + oneJan.getDay() + 1) / 7);\n}\n\n/**\n *  0 \n * @param date\n */\nexport function getDay(date: Date): number {\n  return date.getDay();\n}\n\n/**\n *  Date  ms \n * @param d\n * @param ms\n */\nexport function advanceBy(d: Date, ms: number): Date {\n  d.setMilliseconds(d.getMilliseconds() + ms);\n  return d;\n}\n","/**\n * @author linhuiw\n * @description  layer\n */\nimport { deepMix, uniqueId } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer from '../../base/view-layer';\nimport { ElementOption } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport { GaugeViewConfig } from './interface';\nimport { GaugeShape } from './geometry/shape/gauge-shape';\nimport * as EventParser from './event';\n\nexport interface GaugeLayerConfig extends GaugeViewConfig, LayerConfig {}\n\nexport default class GaugeLayer<T extends GaugeLayerConfig = GaugeLayerConfig> extends ViewLayer<T> {\n  data: [];\n\n  gaugeShape: any;\n\n  options: any;\n\n  constructor(props) {\n    super(props);\n  }\n\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      startAngle: -7 / 6,\n      endAngle: 1 / 6,\n      rangeBackgroundStyle: {\n        fill: '#f0f0f0',\n      },\n      rangeSize: 24,\n      statistic: {\n        position: ['50%', '80%'],\n      },\n      axis: {\n        visible: true,\n        offset: -10,\n        tickCount: 21,\n        subTickCount: 4,\n        tickLine: {\n          visible: true,\n          length: 5,\n          style: {\n            stroke: '#aaa',\n            lineWidth: 2,\n          },\n        },\n        label: {\n          visible: true,\n          style: {\n            fill: '#aaa',\n            fontSize: 16,\n            textAlign: 'center',\n            textBaseline: 'middle',\n          },\n        },\n      },\n      pivot: {\n        visible: true,\n        thickness: 6,\n        pin: {\n          visible: true,\n          size: 2,\n          style: {\n            fill: '#2E364B',\n          },\n        },\n        base: {\n          visible: true,\n          style: {\n            fill: '#EEEEEE',\n          },\n        },\n        pointer: {\n          visible: true,\n          style: {\n            fill: '#CFCFCF',\n          },\n        },\n      },\n    });\n  }\n\n  public type: string = 'gauge';\n\n  public init() {\n    const { value, range } = this.options;\n    const rangeSorted = (range || []).map((d: number) => +d).sort((a: number, b: number) => a - b);\n\n    const { min = rangeSorted[0], max = rangeSorted[rangeSorted.length - 1], format = (d) => `${d}` } = this.options;\n\n    const valueText = format(value);\n    //const styleMix = this.getStyleMix();\n    //this.options.styleMix = styleMix;\n    this.options.data = [{ value: value || 0 }];\n    this.options.valueText = valueText;\n    this.options.min = min;\n    this.options.max = max;\n    this.options.format = format;\n    this.initG2Shape();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  protected initG2Shape() {\n    this.gaugeShape = new GaugeShape(uniqueId());\n    this.gaugeShape.setOption(\n      this.type,\n      deepMix({}, this.options, {\n        radius: 0.6,\n        angle: 240,\n        textPosition: '100%',\n      })\n    );\n    this.gaugeShape.render();\n  }\n\n  protected geometryParser(): string {\n    return 'gauge';\n  }\n\n  protected scale() {\n    const { min, max, format } = this.options;\n    const scales = {\n      value: {},\n    };\n    extractScale(scales.value, {\n      min,\n      max,\n      minLimit: min,\n      maxLimit: max,\n      nice: true,\n      formatter: format,\n      //  tick step\n      tickInterval: 20,\n    });\n    // @ts-ignore\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    const coordConfig: any = {\n      type: 'polar',\n      cfg: {\n        radius: 1,\n        startAngle: this.options.startAngle * Math.PI,\n        endAngle: this.options.endAngle * Math.PI,\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected axis() {\n    const { axis } = this.options;\n\n    const axesConfig: any = {\n      value: {\n        line: null,\n        grid: null,\n        tickLine: null,\n      },\n    };\n    let offsetValue;\n    if (axis.offset < 0) {\n      offsetValue = axis.offset - this.options.rangeSize - axis.tickLine.length;\n    } else {\n      offsetValue = axis.offset + axis.tickLine.length;\n    }\n    if (axis.label.visible) {\n      axesConfig.value.label = {\n        offset: offsetValue,\n        textStyle: axis.label.style,\n        autoRotate: true,\n      };\n    } else {\n      axesConfig.value.label = {\n        style: {\n          opacity: 0,\n        },\n      };\n    }\n\n    axesConfig['1'] = false;\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected addGeometry() {\n    const pointerColor = this.options.pivot.pointer.style.fill || this.theme.defaultColor;\n\n    const pointer: ElementOption = {\n      type: 'point',\n      position: {\n        fields: ['value', '1'],\n      },\n      shape: {\n        values: ['gauge'],\n      },\n      color: {\n        values: [pointerColor],\n      },\n    };\n\n    this.setConfig('geometry', pointer);\n  }\n\n  protected annotation() {\n    const { statistic } = this.options;\n    const annotationConfigs = [];\n    // @ts-ignore\n    if (statistic && statistic.visible) {\n      const statistics = this.renderStatistic();\n      annotationConfigs.push(statistics);\n    }\n    this.setConfig('annotations', annotationConfigs);\n  }\n\n  protected renderStatistic() {\n    const containerSize = Math.max(this.options.width, this.options.height) / 20;\n    const { statistic } = this.options;\n    const text = {\n      type: 'text',\n      content: statistic.text,\n      top: true,\n      position: statistic.position,\n      style: {\n        fill: statistic.color,\n        fontSize: statistic.size ? statistic.size : containerSize * 1.2,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      },\n    };\n    return text;\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('gauge', GaugeLayer);\n","import { Legend } from '@antv/component';\nimport { registerPlotType } from '../../base/global';\nimport ComboViewLayer from '../base';\nimport { LayerConfig } from '../../base/layer';\nimport LineLayer from '../../plots/line/layer';\nimport ColumnLayer from '../../plots/column/layer';\nimport { IColumnLabel } from '../../plots/column/interface';\nimport { deepMix, clone, each, contains, pull, isArray } from '@antv/util';\nimport { ICatAxis, GraphicStyle } from '../../interface/config';\nimport { ComboViewConfig, LineConfig } from '../util/interface';\nimport { getGlobalTheme } from '../../theme';\n\nexport interface ColumnConfig {\n  color?: string | string[]; //groupedColumnstackedColumn\n  columnSize?: number;\n  columnStyle?: GraphicStyle | ((...args: any[]) => GraphicStyle);\n  label?: IColumnLabel;\n}\n\nexport interface ColumnLineViewConfig extends ComboViewConfig {\n  xAxis?: ICatAxis;\n  tooltip?: any;\n  lineSeriesField?: string;\n  lineConfig?: LineConfig;\n  columnConfig?: ColumnConfig;\n}\n\nconst defaultLineConfig = {\n  color: '#f5bc32',\n  lineSize: 4,\n  connectNull: true,\n  point: {\n    visible: false,\n    size: 3,\n    shape: 'circle',\n    style: {\n      stroke: '#fff',\n    },\n  },\n  label: {\n    visible: false,\n  },\n};\n\nconst defaultColumnConfig = {\n  color: '#5B8FF9',\n};\n\nconst defaultYAxisConfig = {\n  visible: true,\n  colorMapping: true,\n  grid: {\n    visible: true,\n  },\n  line: {\n    visible: false,\n  },\n  tickLine: {\n    visible: false,\n  },\n  label: {\n    visible: true,\n    autoHide: true,\n    autoRotate: false,\n  },\n  title: {\n    autoRotate: true,\n    visible: false,\n    spacing: 12,\n  },\n};\n\ninterface ColumnLineLayerConfig extends ColumnLineViewConfig, LayerConfig {}\n\nexport default class ColumnLineLayer<T extends ColumnLineLayerConfig = ColumnLineLayerConfig> extends ComboViewLayer<\n  T\n> {\n  public static getDefaultOptions(): Partial<ColumnLineLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        leftConfig: defaultYAxisConfig,\n        rightConfig: defaultYAxisConfig,\n      },\n      lineConfig: defaultLineConfig,\n      columnConfig: defaultColumnConfig,\n      legend: {\n        visible: true,\n      },\n    });\n  }\n\n  public type: string = 'columnLine';\n  protected colors: string[];\n  protected legends: any[] = [];\n\n  public beforeInit() {\n    const { options, initialOptions } = this;\n    if (options.lineSeriesField) {\n      options.yAxis.rightConfig.colorMapping = false;\n      if (!initialOptions.lineConfig?.lineSize) {\n        options.lineConfig.lineSize = 3;\n      }\n      if (!initialOptions.lineConfig?.color) {\n        const { colors, colors_20 } = getGlobalTheme();\n        const seriesValue = this.getValueBySeriesField();\n        const colorSeries = seriesValue.length > colors.length ? colors_20 : colors;\n        const colorPlates = [];\n        each(seriesValue, (v, index) => {\n          colorPlates.push(colorSeries[index + 1]);\n        });\n        options.lineConfig.color = colorPlates;\n      }\n    }\n  }\n\n  public init() {\n    super.init();\n    if (!this.checkData()) {\n      return;\n    }\n    const { data, meta, xField, yField, lineSeriesField, legend, lineConfig, columnConfig, events } = this.options;\n    this.colors = [columnConfig.color as string, lineConfig.color as any];\n    // draw column\n    this.drawColumn();\n    //draw line\n    const metaInfo = {};\n    metaInfo[yField[1]] = { ticks: this.getTicks() };\n    const line = this.createLayer(LineLayer, data[1], {\n      xField,\n      yField: yField[1],\n      seriesField: lineSeriesField,\n      meta: deepMix({}, meta, metaInfo),\n      xAxis: {\n        visible: false,\n      },\n      yAxis: deepMix({}, this.yAxis(1), {\n        position: 'right',\n        grid: {\n          visible: false,\n        },\n        nice: true,\n      }),\n      tooltip: {\n        visible: false,\n      },\n      legend: {\n        visible: false,\n      },\n      events,\n      ...lineConfig,\n    });\n    line.render();\n    if (legend.visible) {\n      this.customLegend();\n    }\n    this.adjustLayout();\n  }\n\n  protected drawColumn() {\n    const { data, xField, yField, xAxis, tooltip, columnConfig, meta, events } = this.options;\n    const column = this.createLayer(ColumnLayer, data[0], {\n      xField,\n      yField: yField[0],\n      meta,\n      xAxis,\n      yAxis: deepMix({}, this.yAxis(0), {\n        grid: {\n          visible: true,\n        },\n        nice: true,\n      }),\n      tooltip: deepMix({}, tooltip, {\n        showMarkers: false,\n        custom: {\n          onChange: (containerDom, ev) => {\n            this.tooltip(containerDom, ev);\n          },\n        },\n      }),\n      events,\n      ...columnConfig,\n    });\n    column.render();\n  }\n\n  protected tooltip(dom, ev) {\n    const { yField } = this.options;\n    const originItem = clone(ev.items[0]);\n    const dataItemsA = this.getDataByXField(ev.title, 1);\n    if (dataItemsA) {\n      each(dataItemsA, (d, index) => {\n        const { seriesField } = this.geomLayers[1].options as any;\n        const name = seriesField ? d[seriesField] : yField[1];\n        ev.items.push({\n          ...originItem,\n          mappingData: deepMix({}, originItem.mappingData, { _origin: dataItemsA }),\n          data: d,\n          name,\n          value: d[yField[1]],\n          color: isArray(this.colors[1]) ? this.colors[1][index] : this.colors[1],\n        });\n      });\n    }\n\n    if (this.options.legend.visible) {\n      const unCheckedValue = this.getUnCheckedValue();\n      const totalItems = this.legends[0].get('items').length + this.legends[1].get('items').length;\n      // legenduncheckedtooltip\n      if (unCheckedValue.length === totalItems) {\n        dom.style.display = 'none';\n        return;\n      } else {\n        dom.style.display = 'block';\n      }\n      // legendcheckedcheckedfilter items\n      const uniqKeys = [];\n      const uniqItems = [];\n      each(ev.items, (item) => {\n        const { name } = item;\n        if (!contains(uniqKeys, name) && !contains(unCheckedValue, name)) {\n          uniqKeys.push(name);\n          uniqItems.push(item);\n        }\n      });\n      each(ev.items, (item, index) => {\n        if (index < uniqItems.length) {\n          ev.items[index] = uniqItems[index];\n        } else {\n          ev.items.pop();\n        }\n      });\n    }\n  }\n\n  protected customLegend() {\n    const { yField, legend } = this.options;\n    const { colors } = this;\n    const container = this.container.addGroup();\n    const legendCfg = legend;\n    const symbols = ['square', 'circle'];\n    each(this.geomLayers, (geom, index) => {\n      let legend;\n      if (geom.options.seriesField) {\n        const values = this.getValueBySeriesField();\n        legend = this.createNormalLegend(values, symbols[index], colors[index], legendCfg, container);\n      } else {\n        legend = this.createSingleLegend(yField[index], symbols[index], colors[index], legendCfg, container);\n      }\n      this.legends.push(legend);\n    });\n    // legend\n    each(this.geomLayers, (geom, index) => {\n      if (geom.options.seriesField) {\n        this.multipleLegendFilter(index, geom.options.seriesField);\n      } else {\n        this.legendFilter(index);\n      }\n    });\n  }\n\n  protected createSingleLegend(name, symbol, color, cfg, container) {\n    const markerCfg = deepMix(\n      {},\n      {\n        symbol,\n        style: {\n          r: 4,\n          fill: color,\n        },\n      },\n      cfg.marker\n    );\n    const items = [\n      {\n        name,\n        unchecked: false,\n        marker: markerCfg,\n      },\n    ];\n    const legend = new Legend.Category({\n      id: this.type,\n      container,\n      x: 0,\n      y: 0,\n      items: items,\n      updateAutoRender: true,\n      itemBackground: null,\n      itemName: cfg.text,\n    });\n    legend.init();\n    legend.render();\n    return legend;\n  }\n\n  protected createNormalLegend(values, symbol, color, cfg, container) {\n    const legendItems = [];\n    each(values, (v, index) => {\n      legendItems.push({\n        name: v,\n        unchecked: false,\n        marker: {\n          symbol,\n          style: {\n            r: 4,\n            fill: color[index],\n          },\n        },\n      });\n    });\n    const legend = new Legend.Category({\n      id: this.type,\n      container,\n      x: 0,\n      y: 0,\n      items: legendItems,\n      updateAutoRender: true,\n      itemBackground: null,\n      itemName: cfg.text,\n      offsetX: 0,\n    });\n    legend.init();\n    legend.render();\n    return legend;\n  }\n\n  protected multipleLegendFilter(index, field) {\n    const legend = this.legends[index];\n    const filteredValue = [];\n    const legend_group = legend.get('group');\n    let layerHide = false;\n    legend_group.on('click', (ev) => {\n      const view = this.geomLayers[index].view;\n      const item = ev.target.get('delegateObject').item;\n      if (item.unchecked) {\n        if (layerHide === true) {\n          this.showLayer(index);\n          layerHide = false;\n        }\n        pull(filteredValue, item.name);\n        view.filter(item.value, (f) => {\n          return !contains(filteredValue, f);\n        });\n        view.render();\n        legend.setItemState(item, 'unchecked', false);\n      } else {\n        legend.setItemState(item, 'unchecked', true);\n        filteredValue.push(item.name);\n        if (filteredValue.length === this.legends[index].get('items').length) {\n          // unchecktrigger tooltip\n          this.hideLayer(index);\n          layerHide = true;\n        } else {\n          view.filter(field, (f) => {\n            return !contains(filteredValue, f);\n          });\n          view.render();\n        }\n      }\n      this.canvas.draw();\n    });\n  }\n\n  protected getValueBySeriesField() {\n    const { lineSeriesField, data } = this.options;\n    const lineData = data[1];\n    const values = [];\n    each(lineData, (d) => {\n      const v = d[lineSeriesField];\n      if (!contains(values, v)) {\n        values.push(v);\n      }\n    });\n    return values;\n  }\n}\n\nregisterPlotType('columnLine', ColumnLineLayer);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//  ctx isPointInPath\nvar offScreenCtx = null;\nfunction getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\nexports.getOffScreenContext = getOffScreenContext;\n//# sourceMappingURL=offscreen.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar line_1 = require(\"./line\");\nvar util_1 = require(\"./util\");\nvar bezier_1 = require(\"./bezier\");\n// \nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// \nfunction extrema(p0, p1, p2) {\n    var a = p0 + p2 - 2 * p1;\n    if (util_1.isNumberEqual(a, 0)) {\n        return [0.5];\n    }\n    var rst = (p0 - p1) / a;\n    if (rst <= 1 && rst >= 0) {\n        return [rst];\n    }\n    return [];\n}\nfunction derivativeAt(p0, p1, p2, t) {\n    return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n// \nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n    // \n    var xt = quadraticAt(x1, x2, x3, t);\n    var yt = quadraticAt(y1, y2, y3, t);\n    // \n    var controlPoint1 = line_1.default.pointAt(x1, y1, x2, y2, t);\n    // \n    var controlPoint2 = line_1.default.pointAt(x2, y2, x3, y3, t);\n    return [\n        [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n        [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n    ];\n}\n// \nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n    if (iterationCount === 0) {\n        return (util_1.distance(x1, y1, x2, y2) + util_1.distance(x2, y2, x3, y3) + util_1.distance(x1, y1, x3, y3)) / 2;\n    }\n    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n    var left = quadratics[0];\n    var right = quadratics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return quadraticLength.apply(null, left) + quadraticLength.apply(null, right);\n}\nexports.default = {\n    box: function (x1, y1, x2, y2, x3, y3) {\n        var xExtrema = extrema(x1, x2, x3)[0];\n        var yExtrema = extrema(y1, y2, y3)[0];\n        //  box \n        var xArr = [x1, x3];\n        var yArr = [y1, y3];\n        if (xExtrema !== undefined) {\n            xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n        }\n        if (yExtrema !== undefined) {\n            yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n        }\n        return util_1.getBBoxByArray(xArr, yArr);\n    },\n    length: function (x1, y1, x2, y2, x3, y3) {\n        return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n    },\n    nearestPoint: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        return bezier_1.nearestPoint([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n    },\n    pointDistance: function (x1, y1, x2, y2, x3, y3, x0, y0) {\n        var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n        return util_1.distance(point.x, point.y, x0, y0);\n    },\n    interpolationAt: quadraticAt,\n    pointAt: function (x1, y1, x2, y2, x3, y3, t) {\n        return {\n            x: quadraticAt(x1, x2, x3, t),\n            y: quadraticAt(y1, y2, y3, t),\n        };\n    },\n    divide: function (x1, y1, x2, y2, x3, y3, t) {\n        return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n    },\n    tangentAngle: function (x1, y1, x2, y2, x3, y3, t) {\n        var dx = derivativeAt(x1, x2, x3, t);\n        var dy = derivativeAt(y1, y2, y3, t);\n        var angle = Math.atan2(dy, dx);\n        return util_1.piMod(angle);\n    },\n};\n//# sourceMappingURL=quadratic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar get_arc_params_1 = require(\"./get-arc-params\");\nvar get_arc_params_2 = require(\"./get-arc-params\");\nvar parse_path_1 = require(\"./parse-path\");\n// \nfunction toSymmetry(point, center) {\n    return [center[0] + (center[0] - point[0]), center[1] + (center[1] - point[1])];\n}\nfunction getSegments(path) {\n    path = parse_path_1.default(path);\n    var segments = [];\n    var currentPoint = null; // \n    var nextParams = null; //  path \n    var startMovePoint = null; //  M \n    var lastStartMovePointIndex = 0; //  M \n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        nextParams = path[i + 1];\n        var command = params[0];\n        // \n        var segment = {\n            command: command,\n            prePoint: currentPoint,\n            params: params,\n            startTangent: null,\n            endTangent: null,\n        };\n        switch (command) {\n            case 'M':\n                startMovePoint = [params[1], params[2]];\n                lastStartMovePointIndex = i;\n                break;\n            case 'A':\n                var arcParams = get_arc_params_1.default(currentPoint, params);\n                segment['arcParams'] = arcParams;\n                break;\n            default:\n                break;\n        }\n        if (command === 'Z') {\n            //  Z  M \n            currentPoint = startMovePoint;\n            //  Z M  M \n            nextParams = path[lastStartMovePointIndex + 1];\n        }\n        else {\n            var len = params.length;\n            currentPoint = [params[len - 2], params[len - 1]];\n        }\n        if (nextParams && nextParams[0] === 'Z') {\n            //  Z M \n            nextParams = path[lastStartMovePointIndex];\n            if (segments[lastStartMovePointIndex]) {\n                //  Z M \n                segments[lastStartMovePointIndex].prePoint = currentPoint;\n            }\n        }\n        segment['currentPoint'] = currentPoint;\n        //  M  M \n        if (segments[lastStartMovePointIndex] &&\n            get_arc_params_2.isSamePoint(currentPoint, segments[lastStartMovePointIndex].currentPoint)) {\n            segments[lastStartMovePointIndex].prePoint = segment.prePoint;\n        }\n        var nextPoint = nextParams ? [nextParams[nextParams.length - 2], nextParams[nextParams.length - 1]] : null;\n        segment['nextPoint'] = nextPoint;\n        // Add startTangent and endTangent\n        var prePoint = segment.prePoint;\n        if (['L', 'H', 'V'].includes(command)) {\n            segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n            segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n        }\n        else if (command === 'Q') {\n            // \n            var cp = [params[1], params[2]];\n            //  currentPoint\n            segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n            segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n        }\n        else if (command === 'T') {\n            var preSegment = segments[i - 1];\n            var cp = toSymmetry(preSegment.currentPoint, prePoint);\n            if (preSegment.command === 'Q') {\n                segment.command = 'Q';\n                segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n                segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n            }\n            else {\n                segment.command = 'TL';\n                segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n                segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n            }\n        }\n        else if (command === 'C') {\n            // \n            var cp1 = [params[1], params[2]];\n            var cp2 = [params[3], params[4]];\n            segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n            segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n        }\n        else if (command === 'S') {\n            var preSegment = segments[i - 1];\n            var cp1 = toSymmetry(preSegment.currentPoint, prePoint);\n            var cp2 = [params[1], params[2]];\n            if (preSegment.command === 'C') {\n                segment.command = 'C'; //  S  C \n                segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n            else {\n                segment.command = 'SQ'; //  S  SQ \n                segment.startTangent = [prePoint[0] - cp2[0], prePoint[1] - cp2[1]];\n                segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n            }\n        }\n        else if (command === 'A') {\n            var d = 0.001;\n            var _a = segment['arcParams'] || {}, _b = _a.cx, cx = _b === void 0 ? 0 : _b, _c = _a.cy, cy = _c === void 0 ? 0 : _c, _d = _a.rx, rx = _d === void 0 ? 0 : _d, _e = _a.ry, ry = _e === void 0 ? 0 : _e, _f = _a.sweepFlag, sweepFlag = _f === void 0 ? 0 : _f, _g = _a.startAngle, startAngle = _g === void 0 ? 0 : _g, _h = _a.endAngle, endAngle = _h === void 0 ? 0 : _h;\n            if (sweepFlag === 0) {\n                d *= -1;\n            }\n            var dx1 = rx * Math.cos(startAngle - d) + cx;\n            var dy1 = ry * Math.sin(startAngle - d) + cy;\n            segment.startTangent = [dx1 - startMovePoint[0], dy1 - startMovePoint[1]];\n            var dx2 = rx * Math.cos(startAngle + endAngle + d) + cx;\n            var dy2 = ry * Math.sin(startAngle + endAngle - d) + cy;\n            segment.endTangent = [prePoint[0] - dx2, prePoint[1] - dy2];\n        }\n        segments.push(segment);\n    }\n    return segments;\n}\nexports.default = getSegments;\n//# sourceMappingURL=path-2-segments.js.map","import { isString, each, isArray } from './util';\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nvar regexDot = /[^\\s\\,]+/gi;\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\nfunction addStop(steps, gradient) {\n    var arr = steps.match(regexColorStop);\n    each(arr, function (item) {\n        var itemArr = item.split(':');\n        gradient.addColorStop(itemArr[0], itemArr[1]);\n    });\n}\n/**\n * \n * @param {CanvasRenderingContext2D} context canvas \n * @param {IElement}                 element  \n * @param {string}                   gradientStr   \n * @returns {any} \n */\nexport function parseLineGradient(context, element, gradientStr) {\n    var arr = regexLG.exec(gradientStr);\n    var angle = (parseFloat(arr[1]) % 360) * (Math.PI / 180);\n    var steps = arr[2];\n    var box = element.getBBox();\n    var start;\n    var end;\n    if (angle >= 0 && angle < (1 / 2) * Math.PI) {\n        start = {\n            x: box.minX,\n            y: box.minY,\n        };\n        end = {\n            x: box.maxX,\n            y: box.maxY,\n        };\n    }\n    else if ((1 / 2) * Math.PI <= angle && angle < Math.PI) {\n        start = {\n            x: box.maxX,\n            y: box.minY,\n        };\n        end = {\n            x: box.minX,\n            y: box.maxY,\n        };\n    }\n    else if (Math.PI <= angle && angle < (3 / 2) * Math.PI) {\n        start = {\n            x: box.maxX,\n            y: box.maxY,\n        };\n        end = {\n            x: box.minX,\n            y: box.minY,\n        };\n    }\n    else {\n        start = {\n            x: box.minX,\n            y: box.maxY,\n        };\n        end = {\n            x: box.maxX,\n            y: box.minY,\n        };\n    }\n    var tanTheta = Math.tan(angle);\n    var tanTheta2 = tanTheta * tanTheta;\n    var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n    var y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n    var gradient = context.createLinearGradient(start.x, start.y, x, y);\n    addStop(steps, gradient);\n    return gradient;\n}\n/**\n * \n * @param {CanvasRenderingContext2D} context canvas \n * @param {IElement}                 element  \n * @param {string}                   gradientStr   \n * @returns {any} \n */\nexport function parseRadialGradient(context, element, gradientStr) {\n    var arr = regexRG.exec(gradientStr);\n    var fx = parseFloat(arr[1]);\n    var fy = parseFloat(arr[2]);\n    var fr = parseFloat(arr[3]);\n    var steps = arr[4];\n    // 0\n    if (fr === 0) {\n        var colors = steps.match(regexColorStop);\n        return colors[colors.length - 1].split(':')[1];\n    }\n    var box = element.getBBox();\n    var width = box.maxX - box.minX;\n    var height = box.maxY - box.minY;\n    var r = Math.sqrt(width * width + height * height) / 2;\n    var gradient = context.createRadialGradient(box.minX + width * fx, box.minY + height * fy, 0, box.minX + width / 2, box.minY + height / 2, fr * r);\n    addStop(steps, gradient);\n    return gradient;\n}\n/**\n *  pattern\n * @param {CanvasRenderingContext2D} context canvas \n * @param {IElement}                 element  \n * @param {string}                   patternStr    pattern \n */\nexport function parsePattern(context, element, patternStr) {\n    // \n    if (element.get('patternSource') && element.get('patternSource') === patternStr) {\n        return element.get('pattern');\n    }\n    var pattern;\n    var img;\n    var arr = regexPR.exec(patternStr);\n    var repeat = arr[1];\n    var source = arr[2];\n    // Function to be called when pattern loads\n    function onload() {\n        // Create pattern\n        pattern = context.createPattern(img, repeat);\n        element.set('pattern', pattern); // be a cache\n        element.set('patternSource', patternStr);\n    }\n    switch (repeat) {\n        case 'a':\n            repeat = 'repeat';\n            break;\n        case 'x':\n            repeat = 'repeat-x';\n            break;\n        case 'y':\n            repeat = 'repeat-y';\n            break;\n        case 'n':\n            repeat = 'no-repeat';\n            break;\n        default:\n            repeat = 'no-repeat';\n    }\n    img = new Image();\n    // If source URL is not a data URL\n    if (!source.match(/^data:/i)) {\n        // Set crossOrigin for this image\n        img.crossOrigin = 'Anonymous';\n    }\n    img.src = source;\n    if (img.complete) {\n        onload();\n    }\n    else {\n        img.onload = onload;\n        // Fix onload() bug in IE9\n        img.src = img.src;\n    }\n    return pattern;\n}\nexport function parseStyle(context, element, color) {\n    if (isString(color)) {\n        if (color[1] === '(' || color[2] === '(') {\n            if (color[0] === 'l') {\n                // regexLG.test(color)\n                return parseLineGradient(context, element, color);\n            }\n            if (color[0] === 'r') {\n                // regexRG.test(color)\n                return parseRadialGradient(context, element, color);\n            }\n            if (color[0] === 'p') {\n                // regexPR.test(color)\n                return parsePattern(context, element, color);\n            }\n        }\n        return color;\n    }\n}\nexport function parseRadius(radius) {\n    var r1 = 0;\n    var r2 = 0;\n    var r3 = 0;\n    var r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return [r1, r2, r3, r4];\n}\n//# sourceMappingURL=parse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\n// \nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|\nfunction vRatio(u, v) {\n    //  0  0 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// \nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nfunction getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = util_1.mod(util_1.toRadian(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // \n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // \n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    //  0  (0, 0) \n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // \n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // \n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // \n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    //  x \n    var theta = vAngle([1, 0], u);\n    // \n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        //  0 \n        rx: util_1.isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: util_1.isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\nexports.default = getArcParams;\n//# sourceMappingURL=arc-params.js.map","import { __assign, __rest } from \"tslib\";\nimport { Path } from '../shape';\nvar sin = Math.sin, cos = Math.cos, atan2 = Math.atan2, PI = Math.PI;\nfunction _addDefaultArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n    var stroke = attrs.stroke, lineWidth = attrs.lineWidth;\n    var x = x1 - x2;\n    var y = y1 - y2;\n    var rad = atan2(y, x);\n    var arrowShape = new Path({\n        type: 'path',\n        canvas: shape.get('canvas'),\n        isArrowShape: true,\n        attrs: {\n            //  10 60 \n            path: \"M\" + 10 * cos(PI / 6) + \",\" + 10 * sin(PI / 6) + \" L0,0 L\" + 10 * cos(PI / 6) + \",-\" + 10 * sin(PI / 6),\n            //  shape stroke \n            stroke: stroke,\n            lineWidth: lineWidth,\n        },\n    });\n    arrowShape.translate(x2, y2);\n    arrowShape.rotateAtPoint(x2, y2, rad);\n    shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n/**\n *  path \n * 1.  (0, 0)\n * 2.  X \n */\nfunction _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n    var startArrow = attrs.startArrow, endArrow = attrs.endArrow, stroke = attrs.stroke, lineWidth = attrs.lineWidth;\n    var arrowAttrs = isStart ? startArrow : endArrow;\n    var d = arrowAttrs.d, arrowFill = arrowAttrs.fill, arrowStroke = arrowAttrs.stroke, arrowLineWidth = arrowAttrs.lineWidth, restAttrs = __rest(arrowAttrs, [\"d\", \"fill\", \"stroke\", \"lineWidth\"]);\n    var x = x1 - x2;\n    var y = y1 - y2;\n    var rad = atan2(y, x);\n    if (d) {\n        x2 = x2 - cos(rad) * d;\n        y2 = y2 - sin(rad) * d;\n    }\n    var arrowShape = new Path({\n        type: 'path',\n        canvas: shape.get('canvas'),\n        isArrowShape: true,\n        attrs: __assign(__assign({}, restAttrs), { \n            //  stroke  lineWidth shape \n            stroke: arrowStroke || stroke, lineWidth: arrowLineWidth || lineWidth, \n            //  shape \n            fill: arrowFill }),\n    });\n    arrowShape.translate(x2, y2);\n    arrowShape.rotateAtPoint(x2, y2, rad);\n    shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n/**\n *  d  d, \n * |----------------\n * |<|--------------\n * |\n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n * @param {number} d  \n * @return {{dx: number, dy: number}} \n */\nexport function getShortenOffset(x1, y1, x2, y2, d) {\n    var rad = atan2(y2 - y1, x2 - x1);\n    return {\n        dx: cos(rad) * d,\n        dy: sin(rad) * d,\n    };\n}\n/**\n * \n * @param {IShape} shape \n * @param {ShapeAttrs} attrs shape \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n */\nexport function addStartArrow(shape, attrs, x1, y1, x2, y2) {\n    if (typeof attrs.startArrow === 'object') {\n        _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, true);\n    }\n    else if (attrs.startArrow) {\n        _addDefaultArrow(shape, attrs, x1, y1, x2, y2, true);\n    }\n    else {\n        shape.set('startArrowShape', null);\n    }\n}\n/**\n * \n * @param {IShape} shape \n * @param {ShapeAttrs} attrs shape \n * @param {number} x1  x\n * @param {number} y1  y\n * @param {number} x2  x\n * @param {number} y2  y\n */\nexport function addEndArrow(shape, attrs, x1, y1, x2, y2) {\n    if (typeof attrs.endArrow === 'object') {\n        _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, false);\n    }\n    else if (attrs.endArrow) {\n        _addDefaultArrow(shape, attrs, x1, y1, x2, y2, false);\n    }\n    else {\n        shape.set('startArrowShape', null);\n    }\n}\n//# sourceMappingURL=arrow.js.map","import { setTransform, setClip } from './svg';\nimport { sortDom, moveTo } from './dom';\nexport function drawChildren(context, children) {\n    children.forEach(function (child) {\n        child.draw(context);\n    });\n}\n/**\n *  group  shape\n * @param {IElement} element       SVG \n * @param {ChangeType} changeType  \n */\nexport function refreshElement(element, changeType) {\n    // canvas \n    var canvas = element.get('canvas');\n    // \n    if (canvas && canvas.get('autoDraw')) {\n        var context = canvas.get('context');\n        var parent_1 = element.getParent();\n        var parentChildren = parent_1 ? parent_1.getChildren() : [canvas];\n        var el = element.get('el');\n        if (changeType === 'remove') {\n            var isClipShape = element.get('isClipShape');\n            //  clip clipShape  SVG  clipPath \n            if (isClipShape) {\n                var clipPathEl = el && el.parentNode;\n                var defsEl = clipPathEl && clipPathEl.parentNode;\n                if (clipPathEl && defsEl) {\n                    defsEl.removeChild(clipPathEl);\n                }\n            }\n            else if (el && el.parentNode) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else if (changeType === 'show') {\n            el.setAttribute('visibility', 'visible');\n        }\n        else if (changeType === 'hide') {\n            el.setAttribute('visibility', 'hidden');\n        }\n        else if (changeType === 'zIndex') {\n            moveTo(el, parentChildren.indexOf(element));\n        }\n        else if (changeType === 'sort') {\n            var children_1 = element.get('children');\n            if (children_1 && children_1.length) {\n                sortDom(element, function (a, b) {\n                    return children_1.indexOf(a) - children_1.indexOf(b) ? 1 : 0;\n                });\n            }\n        }\n        else if (changeType === 'clear') {\n            // el maybe null for group\n            if (el) {\n                el.innerHTML = '';\n            }\n        }\n        else if (changeType === 'matrix') {\n            setTransform(element);\n        }\n        else if (changeType === 'clip') {\n            setClip(element, context);\n        }\n        else if (changeType === 'attr') {\n            //  afterAttrsChange  do nothing\n        }\n        else if (changeType === 'add') {\n            element.draw(context);\n        }\n    }\n}\n//# sourceMappingURL=draw.js.map","import { __assign, __extends } from \"tslib\";\nimport { AbstractShape } from '@antv/g-base';\nimport { setShadow, setTransform, setClip } from '../util/svg';\nimport { createDom } from '../util/dom';\nimport { refreshElement } from '../util/draw';\nimport { SVG_ATTR_MAP } from '../constant';\nimport * as Shape from './index';\nimport Group from '../group';\nimport { getBBoxMethod } from '@antv/g-base/lib/bbox/index';\nvar ShapeBase = /** @class */ (function (_super) {\n    __extends(ShapeBase, _super);\n    function ShapeBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'svg';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    ShapeBase.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        // \n        return __assign(__assign({}, attrs), { lineWidth: 1, lineAppendWidth: 0, strokeOpacity: 1, fillOpacity: 1 });\n    };\n    //  afterAttrsChange \n    ShapeBase.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        var canvas = this.get('canvas');\n        // \n        if (canvas && canvas.get('autoDraw')) {\n            var context = canvas.get('context');\n            this.draw(context, targetAttrs);\n        }\n    };\n    ShapeBase.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    ShapeBase.prototype.getGroupBase = function () {\n        return Group;\n    };\n    /**\n     * \n     * @param {ChangeType} changeType \n     */\n    ShapeBase.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    ShapeBase.prototype.calculateBBox = function () {\n        var el = this.get('el');\n        var bbox = null;\n        //  Dom  0\n        if (el) {\n            bbox = el.getBBox();\n        }\n        else {\n            var bboxMethod = getBBoxMethod(this.get('type'));\n            if (bboxMethod) {\n                bbox = bboxMethod(this);\n            }\n        }\n        if (bbox) {\n            var x = bbox.x, y = bbox.y, width = bbox.width, height = bbox.height;\n            var lineWidth = this.getHitLineWidth();\n            var halfWidth = lineWidth / 2;\n            var minX = x - halfWidth;\n            var minY = y - halfWidth;\n            var maxX = x + width + halfWidth;\n            var maxY = y + height + halfWidth;\n            return {\n                x: minX,\n                y: minY,\n                minX: minX,\n                minY: minY,\n                maxX: maxX,\n                maxY: maxY,\n                width: width + lineWidth,\n                height: height + lineWidth,\n            };\n        }\n        return {\n            x: 0,\n            y: 0,\n            minX: 0,\n            minY: 0,\n            maxX: 0,\n            maxY: 0,\n            width: 0,\n            height: 0,\n        };\n    };\n    ShapeBase.prototype.isFill = function () {\n        var _a = this.attr(), fill = _a.fill, fillStyle = _a.fillStyle;\n        return (fill || fillStyle || this.isClipShape()) && this.canFill;\n    };\n    ShapeBase.prototype.isStroke = function () {\n        var _a = this.attr(), stroke = _a.stroke, strokeStyle = _a.strokeStyle;\n        return (stroke || strokeStyle) && this.canStroke;\n    };\n    ShapeBase.prototype.draw = function (context, targetAttrs) {\n        var el = this.get('el');\n        if (this.get('destroyed')) {\n            if (el) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else {\n            if (!el) {\n                createDom(this);\n            }\n            setClip(this, context);\n            this.createPath(context, targetAttrs);\n            this.shadow(context, targetAttrs);\n            this.strokeAndFill(context, targetAttrs);\n            this.transform(targetAttrs);\n        }\n    };\n    /**\n     * @protected\n     * \n     * @param {Defs} context \n     * @param {ShapeAttrs} targetAttrs \n     */\n    ShapeBase.prototype.createPath = function (context, targetAttrs) { };\n    // stroke and fill\n    ShapeBase.prototype.strokeAndFill = function (context, targetAttrs) {\n        var attrs = targetAttrs || this.attr();\n        var fill = attrs.fill, fillStyle = attrs.fillStyle, stroke = attrs.stroke, strokeStyle = attrs.strokeStyle, fillOpacity = attrs.fillOpacity, strokeOpacity = attrs.strokeOpacity, lineWidth = attrs.lineWidth;\n        var el = this.get('el');\n        if (this.canFill) {\n            // :  none\n            if (!targetAttrs) {\n                this._setColor(context, 'fill', fill || fillStyle);\n            }\n            else if ('fill' in attrs) {\n                this._setColor(context, 'fill', fill);\n            }\n            else if ('fillStyle' in attrs) {\n                // compatible with fillStyle\n                this._setColor(context, 'fill', fillStyle);\n            }\n            if (fillOpacity) {\n                el.setAttribute(SVG_ATTR_MAP['fillOpacity'], fillOpacity);\n            }\n        }\n        if (this.canStroke && lineWidth > 0) {\n            if (!targetAttrs) {\n                this._setColor(context, 'stroke', stroke || strokeStyle);\n            }\n            else if ('stroke' in attrs) {\n                this._setColor(context, 'stroke', stroke);\n            }\n            else if ('strokeStyle' in attrs) {\n                // compatible with strokeStyle\n                this._setColor(context, 'stroke', strokeStyle);\n            }\n            if (strokeOpacity) {\n                el.setAttribute(SVG_ATTR_MAP['strokeOpacity'], strokeOpacity);\n            }\n            if (lineWidth) {\n                el.setAttribute(SVG_ATTR_MAP['lineWidth'], lineWidth);\n            }\n        }\n    };\n    ShapeBase.prototype._setColor = function (context, attr, value) {\n        var el = this.get('el');\n        if (!value) {\n            // need to set `none` to avoid default value\n            el.setAttribute(SVG_ATTR_MAP[attr], 'none');\n            return;\n        }\n        value = value.trim();\n        if (/^[r,R,L,l]{1}[\\s]*\\(/.test(value)) {\n            var id = context.find('gradient', value);\n            if (!id) {\n                id = context.addGradient(value);\n            }\n            el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n        }\n        else if (/^[p,P]{1}[\\s]*\\(/.test(value)) {\n            var id = context.find('pattern', value);\n            if (!id) {\n                id = context.addPattern(value);\n            }\n            el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n        }\n        else {\n            el.setAttribute(SVG_ATTR_MAP[attr], value);\n        }\n    };\n    ShapeBase.prototype.shadow = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var _a = targetAttrs || attrs, shadowOffsetX = _a.shadowOffsetX, shadowOffsetY = _a.shadowOffsetY, shadowBlur = _a.shadowBlur, shadowColor = _a.shadowColor;\n        if (shadowOffsetX || shadowOffsetY || shadowBlur || shadowColor) {\n            setShadow(this, context);\n        }\n    };\n    ShapeBase.prototype.transform = function (targetAttrs) {\n        var attrs = this.attr();\n        var matrix = (targetAttrs || attrs).matrix;\n        if (matrix) {\n            setTransform(this);\n        }\n    };\n    ShapeBase.prototype.isInShape = function (refX, refY) {\n        return this.isPointInPath(refX, refY);\n    };\n    ShapeBase.prototype.isPointInPath = function (refX, refY) {\n        var el = this.get('el');\n        var canvas = this.get('canvas');\n        var bbox = canvas.get('el').getBoundingClientRect();\n        var clientX = refX + bbox.left;\n        var clientY = refY + bbox.top;\n        var element = document.elementFromPoint(clientX, clientY);\n        if (element && element.isEqualNode(el)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * \n     * @returns {number} \n     */\n    ShapeBase.prototype.getHitLineWidth = function () {\n        var _a = this.attrs, lineWidth = _a.lineWidth, lineAppendWidth = _a.lineAppendWidth;\n        if (this.isStroke()) {\n            return lineWidth + lineAppendWidth;\n        }\n        return 0;\n    };\n    return ShapeBase;\n}(AbstractShape));\nexport default ShapeBase;\n//# sourceMappingURL=base.js.map","/**\n * @fileoverview circle\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'circle';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Circle.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, r: 0 });\n    };\n    Circle.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            //  x, y cx, cy\n            if (attr === 'x' || attr === 'y') {\n                el.setAttribute(\"c\" + attr, value);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Circle;\n}(ShapeBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","/**\n * @fileoverview ellipse\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Ellipse = /** @class */ (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'ellipse';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Ellipse.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, rx: 0, ry: 0 });\n    };\n    Ellipse.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            //  x, y cx, cy\n            if (attr === 'x' || attr === 'y') {\n                el.setAttribute(\"c\" + attr, value);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Ellipse;\n}(ShapeBase));\nexport default Ellipse;\n//# sourceMappingURL=ellipse.js.map","/**\n * @fileoverview image\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each, isString } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Image = /** @class */ (function (_super) {\n    __extends(Image, _super);\n    function Image() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'image';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    Image.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0 });\n    };\n    Image.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'img') {\n                _this._setImage(attrs.img);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Image.prototype.setAttr = function (name, value) {\n        this.attrs[name] = value;\n        if (name === 'img') {\n            this._setImage(value);\n        }\n    };\n    Image.prototype._setImage = function (img) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        if (isString(img)) {\n            el.setAttribute('href', img);\n        }\n        else if (img instanceof window.Image) {\n            if (!attrs.width) {\n                el.setAttribute('width', img.width);\n                this.attr('width', img.width);\n            }\n            if (!attrs.height) {\n                el.setAttribute('height', img.height);\n                this.attr('height', img.height);\n            }\n            el.setAttribute('href', img.src);\n        }\n        else if (img instanceof HTMLElement && isString(img.nodeName) && img.nodeName.toUpperCase() === 'CANVAS') {\n            // @ts-ignore\n            el.setAttribute('href', img.toDataURL());\n        }\n        else if (img instanceof ImageData) {\n            var canvas = document.createElement('canvas');\n            canvas.setAttribute('width', \"\" + img.width);\n            canvas.setAttribute('height', \"\" + img.height);\n            canvas.getContext('2d').putImageData(img, 0, 0);\n            if (!attrs.width) {\n                el.setAttribute('width', \"\" + img.width);\n                this.attr('width', img.width);\n            }\n            if (!attrs.height) {\n                el.setAttribute('height', \"\" + img.height);\n                this.attr('height', img.height);\n            }\n            el.setAttribute('href', canvas.toDataURL());\n        }\n    };\n    return Image;\n}(ShapeBase));\nexport default Image;\n//# sourceMappingURL=image.js.map","import LineUtil from '@antv/g-math/lib/line';\nexport default function inLine(x1, y1, x2, y2, lineWidth, x, y) {\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var halfWidth = lineWidth / 2;\n    // \n    //  lineWidth \n    if (!(x >= minX - halfWidth && x <= maxX + halfWidth && y >= minY - halfWidth && y <= maxY + halfWidth)) {\n        return false;\n    }\n    // \n    return LineUtil.pointToLine(x1, y1, x2, y2, x, y) <= lineWidth / 2;\n}\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * @fileoverview line\n * @author dengfuping_develop@163.com\n */\nimport LineUtil from '@antv/g-math/lib/line';\nimport { each, isObject } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'line';\n        _this.canFill = false;\n        _this.canStroke = true;\n        return _this;\n    }\n    Line.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x1: 0, y1: 0, x2: 0, y2: 0, startArrow: false, endArrow: false });\n    };\n    Line.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'startArrow' || attr === 'endArrow') {\n                if (value) {\n                    var id = isObject(value)\n                        ? context.addArrow(attrs, SVG_ATTR_MAP[attr])\n                        : context.getDefaultArrow(attrs, SVG_ATTR_MAP[attr]);\n                    el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n                }\n                else {\n                    el.removeAttribute(SVG_ATTR_MAP[attr]);\n                }\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    /**\n     * Use math calculation to get length of line\n     * @return {number} length\n     */\n    Line.prototype.getTotalLength = function () {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.length(x1, y1, x2, y2);\n    };\n    /**\n     * Use math calculation to get point according to ratio as same sa Canvas version\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Line.prototype.getPoint = function (ratio) {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.pointAt(x1, y1, x2, y2, ratio);\n    };\n    return Line;\n}(ShapeBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","/**\n * @fileoverview Marker\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport path2Absolute from '@antv/path-util/lib/path-2-absolute';\nimport ShapeBase from './base';\nimport { isFunction } from '../util/util';\nimport { drawPath } from '../util/draw';\nvar Symbols = {\n    // \n    circle: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['A', r, r, 0, 1, 0, x + r, y],\n            ['A', r, r, 0, 1, 0, x - r, y],\n        ];\n    },\n    // \n    square: function (x, y, r) {\n        return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n    },\n    // \n    diamond: function (x, y, r) {\n        return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n    },\n    // \n    triangle: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['Z']];\n    },\n    // \n    'triangle-down': function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n    },\n};\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Marker.prototype.initAttrs = function (attrs) {\n        this._resetParamsCache();\n    };\n    //  path \n    Marker.prototype._resetParamsCache = function () {\n        //  path \n        // \n        this.set('paramsCache', {}); // \n    };\n    //  path\n    Marker.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (['symbol', 'x', 'y', 'r', 'radius'].indexOf(name) !== -1) {\n            // path \n            this._resetParamsCache();\n        }\n    };\n    // \n    //  isInStrokeOrPath \n    Marker.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    Marker.prototype._getR = function (attrs) {\n        //  r  radius  r\n        return isNil(attrs.r) ? attrs.radius : attrs.r;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        var symbol = attrs.symbol || 'circle';\n        var r = this._getR(attrs);\n        var method;\n        var path;\n        if (isFunction(symbol)) {\n            method = symbol;\n            path = method(x, y, r);\n            //  path \n            path = path2Absolute(path);\n        }\n        else {\n            //  symbol  path  path \n            method = Marker.Symbols[symbol];\n            path = method(x, y, r);\n        }\n        if (!method) {\n            console.warn(symbol + \" marker is not supported.\");\n            return null;\n        }\n        return path;\n    };\n    Marker.prototype.createPath = function (context) {\n        var path = this._getPath();\n        var paramsCache = this.get('paramsCache');\n        drawPath(this, context, { path: path }, paramsCache);\n    };\n    Marker.Symbols = Symbols;\n    return Marker;\n}(ShapeBase));\nexport default Marker;\n//# sourceMappingURL=marker.js.map","import { getOffScreenContext } from '@antv/g-base/lib/util/offscreen';\nexport default function isPointInPath(shape, x, y) {\n    var ctx = getOffScreenContext();\n    shape.createPath(ctx);\n    return ctx.isPointInPath(x, y);\n}\n//# sourceMappingURL=point-in-path.js.map","/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\n// https://blog.csdn.net/WilliamSun0122/article/details/77994526\nvar tolerance = 1e-6;\n// doubleeps\nfunction dcmp(x) {\n    if (Math.abs(x) < tolerance) {\n        return 0;\n    }\n    return x < 0 ? -1 : 1;\n}\n// Qp1p2\nfunction onSegment(p1, p2, q) {\n    if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n        Math.min(p1[0], p2[0]) <= q[0] &&\n        q[0] <= Math.max(p1[0], p2[0]) &&\n        Math.min(p1[1], p2[1]) <= q[1] &&\n        q[1] <= Math.max(p1[1], p2[1])) {\n        return true;\n    }\n    return false;\n}\n// P-\nexport default function isInPolygon(points, x, y) {\n    var isHit = false;\n    var n = points.length;\n    if (n <= 2) {\n        // svg  3 \n        return false;\n    }\n    for (var i = 0; i < n; i++) {\n        var p1 = points[i];\n        var p2 = points[(i + 1) % n];\n        if (onSegment(p1, p2, [x, y])) {\n            // \n            return true;\n        }\n        // min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n        //    \n        if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n            dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0) {\n            isHit = !isHit;\n        }\n    }\n    return isHit;\n}\n//# sourceMappingURL=polygon.js.map","import { distance } from '../util';\nexport default function arc(cx, cy, r, startAngle, endAngle, lineWidth, x, y) {\n    var angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); //  0 - 2 * Math.PI \n    if (angle < startAngle || angle > endAngle) {\n        return false;\n    }\n    var point = {\n        x: cx + r * Math.cos(angle),\n        y: cy + r * Math.sin(angle),\n    };\n    return distance(point.x, point.y, x, y) <= lineWidth / 2;\n}\n//# sourceMappingURL=arc.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, isArray, isObject } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'path';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Path.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    Path.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'path' && isArray(value)) {\n                el.setAttribute('d', _this._formatPath(value));\n            }\n            else if (attr === 'startArrow' || attr === 'endArrow') {\n                if (value) {\n                    var id = isObject(value)\n                        ? context.addArrow(attrs, SVG_ATTR_MAP[attr])\n                        : context.getDefaultArrow(attrs, SVG_ATTR_MAP[attr]);\n                    el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n                }\n                else {\n                    el.removeAttribute(SVG_ATTR_MAP[attr]);\n                }\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Path.prototype._formatPath = function (value) {\n        var newValue = value\n            .map(function (path) {\n            return path.join(' ');\n        })\n            .join('');\n        if (~newValue.indexOf('NaN')) {\n            return '';\n        }\n        return newValue;\n    };\n    /**\n     * Get total length of path\n     *  SVGPathElement.getTotalLength()  path \n     *  Canvas \n     * @return {number} length\n     */\n    Path.prototype.getTotalLength = function () {\n        var el = this.get('el');\n        return el ? el.getTotalLength() : null;\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Path.prototype.getPoint = function (ratio) {\n        var el = this.get('el');\n        var totalLength = this.getTotalLength();\n        var point = el ? el.getPointAtLength(ratio * totalLength) : null;\n        return point\n            ? {\n                x: point.x,\n                y: point.y,\n            }\n            : null;\n    };\n    return Path;\n}(ShapeBase));\nexport default Path;\n//# sourceMappingURL=path.js.map","import inLine from './line';\nexport default function inPolyline(points, lineWidth, x, y, isClose) {\n    var count = points.length;\n    if (count < 2) {\n        return false;\n    }\n    for (var i = 0; i < count - 1; i++) {\n        var x1 = points[i][0];\n        var y1 = points[i][1];\n        var x2 = points[i + 1][0];\n        var y2 = points[i + 1][1];\n        if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {\n            return true;\n        }\n    }\n    // \n    if (isClose) {\n        var first = points[0];\n        var last = points[count - 1];\n        if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=polyline.js.map","import { __extends } from \"tslib\";\n/**\n * @fileoverview polygon\n * @author dengfuping_develop@163.com\n */\nimport { each, isArray } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'polygon';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Polygon.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'points' && isArray(value) && value.length >= 2) {\n                el.setAttribute('points', value.map(function (point) { return point[0] + \",\" + point[1]; }).join(' '));\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Polygon;\n}(ShapeBase));\nexport default Polygon;\n//# sourceMappingURL=polygon.js.map","import { __assign, __extends } from \"tslib\";\nimport LineUtil from '@antv/g-math/lib/line';\nimport PolylineUtil from '@antv/g-math/lib/polyline';\nimport { each, isArray, isNil } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Polyline = /** @class */ (function (_super) {\n    __extends(Polyline, _super);\n    function Polyline() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'polyline';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Polyline.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    //  points\n    Polyline.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (['points'].indexOf(name) !== -1) {\n            this._resetCache();\n        }\n    };\n    Polyline.prototype._resetCache = function () {\n        this.set('totalLength', null);\n        this.set('tCache', null);\n    };\n    Polyline.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'points' && isArray(value) && value.length >= 2) {\n                el.setAttribute('points', value.map(function (point) { return point[0] + \",\" + point[1]; }).join(' '));\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    /**\n     * Get length of polyline\n     * @return {number} length\n     */\n    Polyline.prototype.getTotalLength = function () {\n        var points = this.attr().points;\n        // get totalLength from cache\n        var totalLength = this.get('totalLength');\n        if (!isNil(totalLength)) {\n            return totalLength;\n        }\n        this.set('totalLength', PolylineUtil.length(points));\n        return this.get('totalLength');\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Polyline.prototype.getPoint = function (ratio) {\n        var points = this.attr().points;\n        // get tCache from cache\n        var tCache = this.get('tCache');\n        if (!tCache) {\n            this._setTcache();\n            tCache = this.get('tCache');\n        }\n        var subt;\n        var index;\n        each(tCache, function (v, i) {\n            if (ratio >= v[0] && ratio <= v[1]) {\n                subt = (ratio - v[0]) / (v[1] - v[0]);\n                index = i;\n            }\n        });\n        return LineUtil.pointAt(points[index][0], points[index][1], points[index + 1][0], points[index + 1][1], subt);\n    };\n    Polyline.prototype._setTcache = function () {\n        var points = this.attr().points;\n        if (!points || points.length === 0) {\n            return;\n        }\n        var totalLength = this.getTotalLength();\n        if (totalLength <= 0) {\n            return;\n        }\n        var tempLength = 0;\n        var tCache = [];\n        var segmentT;\n        var segmentL;\n        each(points, function (p, i) {\n            if (points[i + 1]) {\n                segmentT = [];\n                segmentT[0] = tempLength / totalLength;\n                segmentL = LineUtil.length(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n                tempLength += segmentL;\n                segmentT[1] = tempLength / totalLength;\n                tCache.push(segmentT);\n            }\n        });\n        this.set('tCache', tCache);\n    };\n    /**\n     * Get start tangent vector\n     * @return {Array}\n     */\n    Polyline.prototype.getStartTangent = function () {\n        var points = this.attr().points;\n        var result = [];\n        result.push([points[1][0], points[1][1]]);\n        result.push([points[0][0], points[0][1]]);\n        return result;\n    };\n    /**\n     * Get end tangent vector\n     * @return {Array}\n     */\n    Polyline.prototype.getEndTangent = function () {\n        var points = this.attr().points;\n        var l = points.length - 1;\n        var result = [];\n        result.push([points[l - 1][0], points[l - 1][1]]);\n        result.push([points[l][0], points[l][1]]);\n        return result;\n    };\n    return Polyline;\n}(ShapeBase));\nexport default Polyline;\n//# sourceMappingURL=polyline.js.map","/**\n * @fileoverview rect\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each, isArray } from '@antv/util';\nimport ShapeBase from './base';\nimport { SVG_ATTR_MAP } from '../constant';\nimport { parseRadius } from '../util/format';\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'rect';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Rect.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0, radius: 0 });\n    };\n    Rect.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        //  path \n        var completed = false;\n        //  path \n        var pathRelatedAttrs = ['x', 'y', 'width', 'height', 'radius'];\n        each(targetAttrs || attrs, function (value, attr) {\n            if (pathRelatedAttrs.indexOf(attr) !== -1 && !completed) {\n                el.setAttribute('d', _this._assembleRect(attrs));\n                completed = true;\n            }\n            else if (pathRelatedAttrs.indexOf(attr) === -1 && SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Rect.prototype._assembleRect = function (attrs) {\n        var x = attrs.x;\n        var y = attrs.y;\n        var w = attrs.width;\n        var h = attrs.height;\n        var radius = attrs.radius;\n        if (!radius) {\n            return \"M \" + x + \",\" + y + \" l \" + w + \",0 l 0,\" + h + \" l\" + -w + \" 0 z\";\n        }\n        var r = parseRadius(radius);\n        if (isArray(radius)) {\n            if (radius.length === 1) {\n                r.r1 = r.r2 = r.r3 = r.r4 = radius[0];\n            }\n            else if (radius.length === 2) {\n                r.r1 = r.r3 = radius[0];\n                r.r2 = r.r4 = radius[1];\n            }\n            else if (radius.length === 3) {\n                r.r1 = radius[0];\n                r.r2 = r.r4 = radius[1];\n                r.r3 = radius[2];\n            }\n            else {\n                r.r1 = radius[0];\n                r.r2 = radius[1];\n                r.r3 = radius[2];\n                r.r4 = radius[3];\n            }\n        }\n        else {\n            r.r1 = r.r2 = r.r3 = r.r4 = radius;\n        }\n        var d = [\n            [\"M \" + (x + r.r1) + \",\" + y],\n            [\"l \" + (w - r.r1 - r.r2) + \",0\"],\n            [\"a \" + r.r2 + \",\" + r.r2 + \",0,0,1,\" + r.r2 + \",\" + r.r2],\n            [\"l 0,\" + (h - r.r2 - r.r3)],\n            [\"a \" + r.r3 + \",\" + r.r3 + \",0,0,1,\" + -r.r3 + \",\" + r.r3],\n            [\"l \" + (r.r3 + r.r4 - w) + \",0\"],\n            [\"a \" + r.r4 + \",\" + r.r4 + \",0,0,1,\" + -r.r4 + \",\" + -r.r4],\n            [\"l 0,\" + (r.r4 + r.r1 - h)],\n            [\"a \" + r.r1 + \",\" + r.r1 + \",0,0,1,\" + r.r1 + \",\" + -r.r1],\n            ['z'],\n        ];\n        return d.join(' ');\n    };\n    return Rect;\n}(ShapeBase));\nexport default Rect;\n//# sourceMappingURL=rect.js.map","import inLine from './line';\nimport inArc from './arc';\nexport default function rectWithRadius(minX, minY, width, height, radius, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    return (inLine(minX + radius, minY, minX + width - radius, minY, lineWidth, x, y) ||\n        inLine(minX + width, minY + radius, minX + width, minY + height - radius, lineWidth, x, y) ||\n        inLine(minX + width - radius, minY + height, minX + radius, minY + height, lineWidth, x, y) ||\n        inLine(minX, minY + height - radius, minX, minY + radius, lineWidth, x, y) ||\n        inArc(minX + width - radius, minY + radius, radius, 1.5 * Math.PI, 2 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + width - radius, minY + height - radius, radius, 0, 0.5 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + radius, minY + height - radius, radius, 0.5 * Math.PI, Math.PI, lineWidth, x, y) ||\n        inArc(minX + radius, minY + radius, radius, Math.PI, 1.5 * Math.PI, lineWidth, x, y));\n}\n//# sourceMappingURL=rect-radius.js.map","import { inBox } from '../util';\nexport default function inRect(minX, minY, width, height, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    // \n    return (inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) || // \n        inBox(minX + width - halfWidth, minY - halfWidth, lineWidth, height, x, y) || // \n        inBox(minX + halfWidth, minY + height - halfWidth, width, lineWidth, x, y) || // \n        inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y)); // \n}\n//# sourceMappingURL=rect.js.map","/**\n * @fileoverview text\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { detect } from 'detect-browser';\nimport { setTransform } from '../util/svg';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar LETTER_SPACING = 0.3;\nvar BASELINE_MAP = {\n    top: 'before-edge',\n    middle: 'central',\n    bottom: 'after-edge',\n    alphabetic: 'baseline',\n    hanging: 'hanging',\n};\n// for FireFox\nvar BASELINE_MAP_FOR_FIREFOX = {\n    top: 'text-before-edge',\n    middle: 'central',\n    bottom: 'text-after-edge',\n    alphabetic: 'alphabetic',\n    hanging: 'hanging',\n};\nvar ANCHOR_MAP = {\n    left: 'left',\n    start: 'left',\n    center: 'middle',\n    right: 'end',\n    end: 'end',\n};\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'text';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Text.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, text: null, fontSize: 12, fontFamily: 'sans-serif', fontStyle: 'normal', fontWeight: 'normal', fontVariant: 'normal', textAlign: 'start', textBaseline: 'bottom' });\n    };\n    Text.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        this._setFont();\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'text') {\n                _this._setText(\"\" + value);\n            }\n            else if (attr === 'matrix' && value) {\n                setTransform(_this);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        el.setAttribute('paint-order', 'stroke');\n        el.setAttribute('style', 'stroke-linecap:butt; stroke-linejoin:miter;');\n    };\n    Text.prototype._setFont = function () {\n        var el = this.get('el');\n        var _a = this.attr(), textBaseline = _a.textBaseline, textAlign = _a.textAlign;\n        var browser = detect();\n        if (browser && browser.name === 'firefox') {\n            // compatible with FireFox browser, ref: https://github.com/antvis/g/issues/119\n            el.setAttribute('dominant-baseline', BASELINE_MAP_FOR_FIREFOX[textBaseline] || 'alphabetic');\n        }\n        else {\n            el.setAttribute('alignment-baseline', BASELINE_MAP[textBaseline] || 'baseline');\n        }\n        el.setAttribute('text-anchor', ANCHOR_MAP[textAlign] || 'left');\n    };\n    Text.prototype._setText = function (text) {\n        var el = this.get('el');\n        var _a = this.attr(), x = _a.x, _b = _a.textBaseline, baseline = _b === void 0 ? 'bottom' : _b;\n        if (!text) {\n            el.innerHTML = '';\n        }\n        else if (~text.indexOf('\\n')) {\n            var textArr = text.split('\\n');\n            var textLen_1 = textArr.length - 1;\n            var arr_1 = '';\n            each(textArr, function (segment, i) {\n                if (i === 0) {\n                    if (baseline === 'alphabetic') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + -textLen_1 + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'top') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"0.9em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'middle') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + -(textLen_1 - 1) / 2 + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'bottom') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"-\" + (textLen_1 + LETTER_SPACING) + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'hanging') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + (-(textLen_1 - 1) - LETTER_SPACING) + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                }\n                else {\n                    arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"1em\\\">\" + segment + \"</tspan>\";\n                }\n            });\n            el.innerHTML = arr_1;\n        }\n        else {\n            el.innerHTML = text;\n        }\n    };\n    return Text;\n}(ShapeBase));\nexport default Text;\n//# sourceMappingURL=text.js.map","import { isAllowCapture } from '@antv/g-base/lib/util/util';\nimport { multiplyVec2, invert } from '@antv/g-base/lib/util/matrix';\nfunction invertFromMatrix(v, matrix) {\n    if (matrix) {\n        var invertMatrix = invert(matrix);\n        return multiplyVec2(invertMatrix, v);\n    }\n    return v;\n}\nfunction getRefXY(element, x, y) {\n    // @ts-ignore\n    var totalMatrix = element.getTotalMatrix();\n    if (totalMatrix) {\n        var _a = invertFromMatrix([x, y, 1], totalMatrix), refX = _a[0], refY = _a[1];\n        return [refX, refY];\n    }\n    return [x, y];\n}\n// \nfunction preTest(element, x, y) {\n    // @ts-ignore\n    if (element.isCanvas && element.isCanvas()) {\n        return true;\n    }\n    //  null\n    // @ts-ignore\n    if (!isAllowCapture(element) && element.cfg.isInView === false) {\n        return false;\n    }\n    if (element.cfg.clipShape) {\n        //  clip\n        var _a = getRefXY(element, x, y), refX = _a[0], refY = _a[1];\n        if (element.isClipped(refX, refY)) {\n            return false;\n        }\n    }\n    // @ts-ignore \n    var bbox = element.cfg.cacheCanvasBBox;\n    if (!bbox) {\n        bbox = element.getCanvasBBox();\n    }\n    if (!(x >= bbox.minX && x <= bbox.maxX && y >= bbox.minY && y <= bbox.maxY)) {\n        return false;\n    }\n    return true;\n}\nexport function getShape(container, x, y) {\n    //  null\n    if (!preTest(container, x, y)) {\n        return null;\n    }\n    var shape = null;\n    var children = container.getChildren();\n    var count = children.length;\n    for (var i = count - 1; i >= 0; i--) {\n        var child = children[i];\n        if (child.isGroup()) {\n            shape = getShape(child, x, y);\n        }\n        else if (preTest(child, x, y)) {\n            var curShape = child;\n            var _a = getRefXY(child, x, y), refX = _a[0], refY = _a[1];\n            // @ts-ignore\n            if (curShape.isInShape(refX, refY)) {\n                shape = child;\n            }\n        }\n        if (shape) {\n            break;\n        }\n    }\n    return shape;\n}\n//# sourceMappingURL=hit.js.map","import { __assign, __extends } from \"tslib\";\nimport { AbstractCanvas } from '@antv/g-base';\nimport { SHAPE_TO_TAGS } from './constant';\nimport { drawChildren } from './util/draw';\nimport { setTransform, setClip } from './util/svg';\nimport { sortDom, createSVGElement } from './util/dom';\nimport * as Shape from './shape';\nimport Group from './group';\nimport Defs from './defs';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        return _super.call(this, __assign(__assign({}, cfg), { autoDraw: true, \n            //  canvas\n            renderer: 'svg' })) || this;\n    }\n    Canvas.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Canvas.prototype.getGroupBase = function () {\n        return Group;\n    };\n    //  Container  shape  SVG  dom \n    Canvas.prototype.getShape = function (x, y, ev) {\n        var target = ev.target || ev.srcElement;\n        if (!SHAPE_TO_TAGS[target.tagName]) {\n            var parent_1 = target.parentNode;\n            while (parent_1 && !SHAPE_TO_TAGS[parent_1.tagName]) {\n                parent_1 = parent_1.parentNode;\n            }\n            target = parent_1;\n        }\n        return this.find(function (child) { return child.get('el') === target; });\n    };\n    // \n    Canvas.prototype.createDom = function () {\n        var element = createSVGElement('svg');\n        var context = new Defs(element);\n        element.setAttribute('width', \"\" + this.get('width'));\n        element.setAttribute('height', \"\" + this.get('height'));\n        //  context \n        this.set('context', context);\n        return element;\n    };\n    /**\n     * \n     * @param {ChangeType} changeType \n     */\n    Canvas.prototype.onCanvasChange = function (changeType) {\n        var context = this.get('context');\n        var el = this.get('el');\n        if (changeType === 'sort') {\n            var children_1 = this.get('children');\n            if (children_1 && children_1.length) {\n                sortDom(this, function (a, b) {\n                    return children_1.indexOf(a) - children_1.indexOf(b) ? 1 : 0;\n                });\n            }\n        }\n        else if (changeType === 'clear') {\n            // el maybe null for canvas\n            if (el) {\n                //  SVG \n                el.innerHTML = '';\n                var defsEl = context.el;\n                //  defs \n                defsEl.innerHTML = '';\n                //  defs  el \n                el.appendChild(defsEl);\n            }\n        }\n        else if (changeType === 'matrix') {\n            setTransform(this);\n        }\n        else if (changeType === 'clip') {\n            setClip(this, context);\n        }\n        else if (changeType === 'changeSize') {\n            el.setAttribute('width', \"\" + this.get('width'));\n            el.setAttribute('height', \"\" + this.get('height'));\n        }\n    };\n    //  draw \n    Canvas.prototype.draw = function () {\n        var context = this.get('context');\n        var children = this.getChildren();\n        setClip(this, context);\n        if (children.length) {\n            drawChildren(context, children);\n        }\n    };\n    return Canvas;\n}(AbstractCanvas));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { createDom } from './dom';\nexport function setShadow(model, context) {\n    var el = model.cfg.el;\n    var attrs = model.attr();\n    var cfg = {\n        dx: attrs.shadowOffsetX,\n        dy: attrs.shadowOffsetY,\n        blur: attrs.shadowBlur,\n        color: attrs.shadowColor,\n    };\n    if (!cfg.dx && !cfg.dy && !cfg.blur && !cfg.color) {\n        el.removeAttribute('filter');\n    }\n    else {\n        var id = context.find('filter', cfg);\n        if (!id) {\n            id = context.addShadow(cfg);\n        }\n        el.setAttribute('filter', \"url(#\" + id + \")\");\n    }\n}\nexport function setTransform(model) {\n    var matrix = model.attr().matrix;\n    if (matrix) {\n        var el = model.cfg.el;\n        var transform = [];\n        for (var i = 0; i < 9; i += 3) {\n            transform.push(matrix[i] + \",\" + matrix[i + 1]);\n        }\n        transform = transform.join(',');\n        if (transform.indexOf('NaN') === -1) {\n            el.setAttribute('transform', \"matrix(\" + transform + \")\");\n        }\n        else {\n            console.warn('invalid matrix:', matrix);\n        }\n    }\n}\nexport function setClip(model, context) {\n    var clip = model.getClip();\n    var el = model.get('el');\n    if (!clip) {\n        el.removeAttribute('clip-path');\n    }\n    else if (clip && !el.hasAttribute('clip-path')) {\n        createDom(clip);\n        clip.createPath(context);\n        var id = context.addClip(clip);\n        el.setAttribute('clip-path', \"url(#\" + id + \")\");\n    }\n}\n//# sourceMappingURL=svg.js.map","/**\n * @fileoverview dom\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Dom = /** @class */ (function (_super) {\n    __extends(Dom, _super);\n    function Dom() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'dom';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    Dom.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        el.innerHTML = attrs['html']; // set innerHTML\n    };\n    return Dom;\n}(ShapeBase));\nexport default Dom;\n//# sourceMappingURL=dom.js.map","var Symbols = {\n    // \n    circle: function (x, y, r) {\n        return [['M', x, y], ['m', -r, 0], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0]];\n    },\n    // \n    square: function (x, y, r) {\n        return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n    },\n    // \n    diamond: function (x, y, r) {\n        return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n    },\n    // \n    triangle: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['z']];\n    },\n    // \n    triangleDown: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n    },\n};\nexport default {\n    get: function (type) {\n        return Symbols[type];\n    },\n    register: function (type, func) {\n        Symbols[type] = func;\n    },\n    remove: function (type) {\n        delete Symbols[type];\n    },\n    getAll: function () {\n        return Symbols;\n    },\n};\n//# sourceMappingURL=symbols.js.map","/**\n * @fileoverview marker\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { isArray, isFunction } from '@antv/util';\nimport ShapeBase from '../base';\nimport symbolsFactory from './symbols';\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'marker';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Marker.prototype.createPath = function (context) {\n        var el = this.get('el');\n        el.setAttribute('d', this._assembleMarker());\n    };\n    Marker.prototype._assembleMarker = function () {\n        var d = this._getPath();\n        if (isArray(d)) {\n            return d\n                .map(function (path) {\n                return path.join(' ');\n            })\n                .join('');\n        }\n        return d;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        //  r  radius  r\n        var r = attrs.r || attrs.radius;\n        var symbol = attrs.symbol || 'circle';\n        var method;\n        if (isFunction(symbol)) {\n            method = symbol;\n        }\n        else {\n            method = symbolsFactory.get(symbol);\n        }\n        if (!method) {\n            console.warn(method + \" symbol is not exist.\");\n            return null;\n        }\n        return method(x, y, r);\n    };\n    // \n    Marker.symbolsFactory = symbolsFactory;\n    return Marker;\n}(ShapeBase));\nexport default Marker;\n//# sourceMappingURL=index.js.map","import { each, isArray, isString } from '@antv/util';\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nvar regexDot = /[^\\s\\,]+/gi;\nexport function parseRadius(radius) {\n    var r1 = 0;\n    var r2 = 0;\n    var r3 = 0;\n    var r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4,\n    };\n}\nexport function parsePath(path) {\n    path = path || [];\n    if (isArray(path)) {\n        return path;\n    }\n    if (isString(path)) {\n        path = path.match(regexTags);\n        each(path, function (item, index) {\n            item = item.match(regexDot);\n            if (item[0].length > 1) {\n                var tag = item[0].charAt(0);\n                item.splice(1, 0, item[0].substr(1));\n                item[0] = tag;\n            }\n            each(item, function (sub, i) {\n                if (!isNaN(sub)) {\n                    item[i] = +sub;\n                }\n            });\n            path[index] = item;\n        });\n        return path;\n    }\n}\n//# sourceMappingURL=format.js.map","/**\n * @fileoverview gradient\n * @author dengfuping_develop@163.com\n */\nimport { each, mod, toRadian, uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\nfunction addStop(steps) {\n    var arr = steps.match(regexColorStop);\n    if (!arr) {\n        return '';\n    }\n    var stops = '';\n    arr.sort(function (a, b) {\n        a = a.split(':');\n        b = b.split(':');\n        return Number(a[0]) - Number(b[0]);\n    });\n    each(arr, function (item) {\n        item = item.split(':');\n        stops += \"<stop offset=\\\"\" + item[0] + \"\\\" stop-color=\\\"\" + item[1] + \"\\\"></stop>\";\n    });\n    return stops;\n}\nfunction parseLineGradient(color, el) {\n    var arr = regexLG.exec(color);\n    var angle = mod(toRadian(parseFloat(arr[1])), Math.PI * 2);\n    var steps = arr[2];\n    var start;\n    var end;\n    if (angle >= 0 && angle < 0.5 * Math.PI) {\n        start = {\n            x: 0,\n            y: 0,\n        };\n        end = {\n            x: 1,\n            y: 1,\n        };\n    }\n    else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n        start = {\n            x: 1,\n            y: 0,\n        };\n        end = {\n            x: 0,\n            y: 1,\n        };\n    }\n    else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n        start = {\n            x: 1,\n            y: 1,\n        };\n        end = {\n            x: 0,\n            y: 0,\n        };\n    }\n    else {\n        start = {\n            x: 0,\n            y: 1,\n        };\n        end = {\n            x: 1,\n            y: 0,\n        };\n    }\n    var tanTheta = Math.tan(angle);\n    var tanTheta2 = tanTheta * tanTheta;\n    var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n    var y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n    el.setAttribute('x1', start.x);\n    el.setAttribute('y1', start.y);\n    el.setAttribute('x2', x);\n    el.setAttribute('y2', y);\n    el.innerHTML = addStop(steps);\n}\nfunction parseRadialGradient(color, self) {\n    var arr = regexRG.exec(color);\n    var cx = parseFloat(arr[1]);\n    var cy = parseFloat(arr[2]);\n    var r = parseFloat(arr[3]);\n    var steps = arr[4];\n    self.setAttribute('cx', cx);\n    self.setAttribute('cy', cy);\n    self.setAttribute('r', r);\n    self.innerHTML = addStop(steps);\n}\nvar Gradient = /** @class */ (function () {\n    function Gradient(cfg) {\n        this.cfg = {};\n        var el = null;\n        var id = uniqueId('gradient_');\n        if (cfg.toLowerCase()[0] === 'l') {\n            el = createSVGElement('linearGradient');\n            parseLineGradient(cfg, el);\n        }\n        else {\n            el = createSVGElement('radialGradient');\n            parseRadialGradient(cfg, el);\n        }\n        el.setAttribute('id', id);\n        this.el = el;\n        this.id = id;\n        this.cfg = cfg;\n        return this;\n    }\n    Gradient.prototype.match = function (type, attr) {\n        return this.cfg === attr;\n    };\n    return Gradient;\n}());\nexport default Gradient;\n//# sourceMappingURL=gradient.js.map","/**\n * @fileoverview shadow\n * @author dengfuping_develop@163.com\n */\nimport { each, uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar ATTR_MAP = {\n    shadowColor: 'color',\n    shadowOpacity: 'opacity',\n    shadowBlur: 'blur',\n    shadowOffsetX: 'dx',\n    shadowOffsetY: 'dy',\n};\nvar SHADOW_DIMENSION = {\n    x: '-40%',\n    y: '-40%',\n    width: '200%',\n    height: '200%',\n};\nvar Shadow = /** @class */ (function () {\n    function Shadow(cfg) {\n        this.type = 'filter';\n        this.cfg = {};\n        this.type = 'filter';\n        var el = createSVGElement('filter');\n        // expand the filter region to fill in shadows\n        each(SHADOW_DIMENSION, function (v, k) {\n            el.setAttribute(k, v);\n        });\n        this.el = el;\n        this.id = uniqueId('filter_');\n        this.el.id = this.id;\n        this.cfg = cfg;\n        this._parseShadow(cfg, el);\n        return this;\n    }\n    Shadow.prototype.match = function (type, cfg) {\n        if (this.type !== type) {\n            return false;\n        }\n        var flag = true;\n        var config = this.cfg;\n        each(Object.keys(config), function (attr) {\n            if (config[attr] !== cfg[attr]) {\n                flag = false;\n                return false;\n            }\n        });\n        return flag;\n    };\n    Shadow.prototype.update = function (name, value) {\n        var config = this.cfg;\n        config[ATTR_MAP[name]] = value;\n        this._parseShadow(config, this.el);\n        return this;\n    };\n    Shadow.prototype._parseShadow = function (config, el) {\n        var child = \"<feDropShadow\\n      dx=\\\"\" + (config.dx || 0) + \"\\\"\\n      dy=\\\"\" + (config.dy || 0) + \"\\\"\\n      stdDeviation=\\\"\" + (config.blur ? config.blur / 10 : 0) + \"\\\"\\n      flood-color=\\\"\" + (config.color ? config.color : '#000') + \"\\\"\\n      flood-opacity=\\\"\" + (config.opacity ? config.opacity : 1) + \"\\\"\\n      />\";\n        el.innerHTML = child;\n    };\n    return Shadow;\n}());\nexport default Shadow;\n//# sourceMappingURL=shadow.js.map","/**\n * @fileoverview arrow\n * @author dengfuping_develop@163.com\n */\nimport { isArray, uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar Arrow = /** @class */ (function () {\n    function Arrow(attrs, type) {\n        this.cfg = {};\n        var el = createSVGElement('marker');\n        var id = uniqueId('marker_');\n        el.setAttribute('id', id);\n        var shape = createSVGElement('path');\n        shape.setAttribute('stroke', attrs.stroke || 'none');\n        shape.setAttribute('fill', attrs.fill || 'none');\n        el.appendChild(shape);\n        el.setAttribute('overflow', 'visible');\n        el.setAttribute('orient', 'auto-start-reverse');\n        this.el = el;\n        this.child = shape;\n        this.id = id;\n        var cfg = attrs[type === 'marker-start' ? 'startArrow' : 'endArrow'];\n        this.stroke = attrs.stroke || '#000';\n        if (cfg === true) {\n            this._setDefaultPath(type, shape);\n        }\n        else {\n            this.cfg = cfg; // when arrow config exists\n            this._setMarker(attrs.lineWidth, shape);\n        }\n        return this;\n    }\n    Arrow.prototype.match = function () {\n        return false;\n    };\n    Arrow.prototype._setDefaultPath = function (type, el) {\n        var parent = this.el;\n        //  10 60 \n        el.setAttribute('d', \"M0,0 L\" + 10 * Math.cos(Math.PI / 6) + \",5 L0,10\");\n        parent.setAttribute('refX', \"\" + 10 * Math.cos(Math.PI / 6));\n        parent.setAttribute('refY', \"\" + 5);\n    };\n    Arrow.prototype._setMarker = function (r, el) {\n        var parent = this.el;\n        var path = this.cfg.path;\n        var d = this.cfg.d;\n        if (isArray(path)) {\n            path = path\n                .map(function (segment) {\n                return segment.join(' ');\n            })\n                .join('');\n        }\n        el.setAttribute('d', path);\n        parent.appendChild(el);\n        if (d) {\n            parent.setAttribute('refX', \"\" + d / r);\n        }\n    };\n    Arrow.prototype.update = function (fill) {\n        var child = this.child;\n        if (child.attr) {\n            child.attr('fill', fill);\n        }\n        else {\n            child.setAttribute('fill', fill);\n        }\n    };\n    return Arrow;\n}());\nexport default Arrow;\n//# sourceMappingURL=arrow.js.map","/**\n * @fileoverview clip\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar Clip = /** @class */ (function () {\n    function Clip(cfg) {\n        this.type = 'clip';\n        this.cfg = {};\n        var el = createSVGElement('clipPath');\n        this.el = el;\n        this.id = uniqueId('clip_');\n        el.id = this.id;\n        var shapeEl = cfg.cfg.el;\n        el.appendChild(shapeEl);\n        this.cfg = cfg;\n        return this;\n    }\n    Clip.prototype.match = function () {\n        return false;\n    };\n    Clip.prototype.remove = function () {\n        var el = this.el;\n        el.parentNode.removeChild(el);\n    };\n    return Clip;\n}());\nexport default Clip;\n//# sourceMappingURL=clip.js.map","/**\n * @fileoverview pattern\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nvar Pattern = /** @class */ (function () {\n    function Pattern(cfg) {\n        this.cfg = {};\n        var el = createSVGElement('pattern');\n        el.setAttribute('patternUnits', 'userSpaceOnUse');\n        var child = createSVGElement('image');\n        el.appendChild(child);\n        var id = uniqueId('pattern_');\n        el.id = id;\n        this.el = el;\n        this.id = id;\n        this.cfg = cfg;\n        var arr = regexPR.exec(cfg);\n        var source = arr[2];\n        child.setAttribute('href', source);\n        var img = new Image();\n        if (!source.match(/^data:/i)) {\n            img.crossOrigin = 'Anonymous';\n        }\n        img.src = source;\n        function onload() {\n            el.setAttribute('width', \"\" + img.width);\n            el.setAttribute('height', \"\" + img.height);\n        }\n        if (img.complete) {\n            onload();\n        }\n        else {\n            img.onload = onload;\n            // Fix onload() bug in IE9\n            img.src = img.src;\n        }\n        return this;\n    }\n    Pattern.prototype.match = function (type, attr) {\n        return this.cfg === attr;\n    };\n    return Pattern;\n}());\nexport default Pattern;\n//# sourceMappingURL=pattern.js.map","/**\n * @fileoverview defs\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport Gradient from './gradient';\nimport Shadow from './shadow';\nimport Arrow from './arrow';\nimport Clip from './clip';\nimport Pattern from './pattern';\nimport { createSVGElement } from '../util/dom';\nvar Defs = /** @class */ (function () {\n    function Defs(canvas) {\n        var el = createSVGElement('defs');\n        var id = uniqueId('defs_');\n        el.id = id;\n        canvas.appendChild(el);\n        this.children = [];\n        this.defaultArrow = {};\n        this.el = el;\n        this.canvas = canvas;\n    }\n    Defs.prototype.find = function (type, attr) {\n        var children = this.children;\n        var result = null;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].match(type, attr)) {\n                result = children[i].id;\n                break;\n            }\n        }\n        return result;\n    };\n    Defs.prototype.findById = function (id) {\n        var children = this.children;\n        var flag = null;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].id === id) {\n                flag = children[i];\n                break;\n            }\n        }\n        return flag;\n    };\n    Defs.prototype.add = function (item) {\n        this.children.push(item);\n        item.canvas = this.canvas;\n        item.parent = this;\n    };\n    Defs.prototype.getDefaultArrow = function (attrs, name) {\n        var stroke = attrs.stroke || attrs.strokeStyle;\n        if (this.defaultArrow[stroke]) {\n            return this.defaultArrow[stroke].id;\n        }\n        var arrow = new Arrow(attrs, name);\n        this.defaultArrow[stroke] = arrow;\n        this.el.appendChild(arrow.el);\n        this.add(arrow);\n        return arrow.id;\n    };\n    Defs.prototype.addGradient = function (cfg) {\n        var gradient = new Gradient(cfg);\n        this.el.appendChild(gradient.el);\n        this.add(gradient);\n        return gradient.id;\n    };\n    Defs.prototype.addArrow = function (attrs, name) {\n        var arrow = new Arrow(attrs, name);\n        this.el.appendChild(arrow.el);\n        this.add(arrow);\n        return arrow.id;\n    };\n    Defs.prototype.addShadow = function (cfg) {\n        var shadow = new Shadow(cfg);\n        this.el.appendChild(shadow.el);\n        this.add(shadow);\n        return shadow.id;\n    };\n    Defs.prototype.addPattern = function (cfg) {\n        var pattern = new Pattern(cfg);\n        this.el.appendChild(pattern.el);\n        this.add(pattern);\n        return pattern.id;\n    };\n    Defs.prototype.addClip = function (cfg) {\n        var clip = new Clip(cfg);\n        this.el.appendChild(clip.el);\n        this.add(clip);\n        return clip.id;\n    };\n    return Defs;\n}());\nexport default Defs;\n//# sourceMappingURL=index.js.map","/**\n * G2-Plot\n * \n * 1. \n * 2. enum\n * 3. \n */\nimport { ShapeAttrs } from '@antv/g-base';\nimport {\n  Options,\n  AttributeOption,\n  AdjustOption,\n  LabelOption,\n  MappingDatum,\n  Element,\n  Datum,\n  _ORIGIN,\n} from '../dependents';\nimport { LooseMap, Maybe } from './types';\n\nexport interface Meta {\n  alias?: string;\n  formatter?: (v: any) => string;\n  values?: string[];\n  range?: number[];\n  type?: 'linear' | 'time' | 'timeCat' | 'cat' | 'pow' | 'log';\n}\n\nexport interface ITitle {\n  visible: boolean;\n  text: string;\n  style?: TextStyle;\n  alignTo?: 'left' | 'right' | 'middle';\n}\n\nexport interface IDescription {\n  visible: boolean;\n  text: string;\n  style?: TextStyle;\n  alignTo?: 'left' | 'right' | 'middle';\n}\n\ntype IEvents = LooseMap<string>;\n\nexport type Formatter = (text: string, item: any, idx: number) => string;\n\nexport interface IBaseAxis {\n  /** true */\n  visible?: boolean;\n  /** scale */\n  type?: 'linear' | 'time' | 'timeCat' | 'cat' | 'pow' | 'log';\n  /** scale  tickMethod */\n  tickMethod?: string | ((cfg: any) => number[]);\n  /**  */\n  line?: {\n    visible?: boolean;\n    style?: LineStyle;\n  };\n  grid?: {\n    /**  */\n    visible?: boolean;\n    line?: {\n      style?: LineStyle | ((text: string, idx: number, count: number) => LineStyle);\n      type?: 'line' | 'circle';\n    };\n    /**  */\n    alternateColor?: string | string[];\n  };\n  label?: {\n    visible?: boolean;\n    formatter?: (name: string, tick: any, index: number) => string;\n    offset?: number; // \n    offsetX?: number; //  offset  x \n    offsetY?: number; //  offset  y \n    rotate?: number; // label \n    style?: TextStyle;\n    autoRotate?: boolean;\n    autoHide?: boolean | string; //  autoHide \n  };\n  title?: {\n    visible?: boolean;\n    autoRotate?: boolean;\n    text?: string;\n    offset?: number;\n    style?: TextStyle;\n    spacing?: number;\n  };\n  tickLine?: {\n    visible?: boolean;\n    style?: LineStyle;\n  };\n}\n/** Linear */\nexport interface IValueAxis extends IBaseAxis {\n  type?: 'linear' | 'pow' | 'log';\n  /** tick */\n  nice?: boolean;\n  min?: number;\n  max?: number;\n  minLimit?: number;\n  maxLimit?: number;\n  tickCount?: number;\n  tickInterval?: number;\n  /** pow  */\n  exponent?: number;\n  /** log  */\n  base?: number;\n}\n/**  */\nexport interface ITimeAxis extends IBaseAxis {\n  type?: 'time';\n  /** tick */\n  tickInterval?: string;\n  tickCount?: number;\n  mask?: string;\n}\n/**  */\nexport interface ICatAxis extends IBaseAxis {\n  type?: 'cat';\n}\n\nexport type Axis = ICatAxis | IValueAxis | ITimeAxis;\n\nexport interface Label {\n  visible?: boolean;\n  type?: string;\n  formatter?: (\n    text: Maybe<string | number>,\n    item: {\n      [_ORIGIN]: Datum;\n      mappingDatum: MappingDatum;\n      mappingDatumIndex: number;\n      element: Element;\n      elementIndex: number;\n    },\n    idx: number,\n    ...extras: any[]\n  ) => string;\n  /**  label  */\n  precision?: number;\n  /**  */\n  suffix?: string;\n  style?: TextStyle;\n  offset?: number | any;\n  offsetX?: number;\n  offsetY?: number;\n  position?: string;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n  autoRotate?: boolean;\n  // labelLine?: any;\n  /**  */\n  field?: string;\n}\n\nexport type LegendPosition =\n  | 'left-top'\n  | 'left-center'\n  | 'left-bottom'\n  | 'right-top'\n  | 'right-center'\n  | 'right-bottom'\n  | 'top-left'\n  | 'top-center'\n  | 'top-bottom'\n  | 'bottom-left'\n  | 'bottom-center'\n  | 'bottom-right';\n\ninterface LegendMarkerStyle extends GraphicStyle {\n  r?: number;\n}\n\nexport interface Legend {\n  visible?: boolean;\n  /**  */\n  position?: LegendPosition;\n  /**  */\n  flipPage?: boolean;\n  offsetX?: number;\n  offsetY?: number;\n  clickable?: boolean;\n  title?: {\n    visible?: boolean;\n    text?: string;\n    style?: TextStyle;\n  };\n  marker?: {\n    symbol?: string;\n    style: LegendMarkerStyle;\n  };\n  text?: {\n    style?: TextStyle;\n    formatter?: (text: string, cfg: any) => string;\n  };\n}\n\nexport interface Tooltip {\n  visible?: boolean;\n  fields?: string[];\n  shared?: boolean;\n  showTitle?: boolean;\n  titleField?: string;\n  formatter?: (...args: any) => { name: string; value: number };\n  showCrosshairs?: boolean;\n  crosshairs?: object;\n  offset?: number;\n  showMarkers?: boolean;\n  domStyles?: {\n    'g2-tooltop'?: any;\n    'g2-tooltip-title'?: any;\n    'g2-tooltip-list'?: any;\n    'g2-tooltip-marker'?: any;\n    'g2-tooltip-value'?: any;\n  };\n  follow?: boolean;\n  custom?: {\n    container?: string | HTMLElement;\n    customContent?: (title: string, data: any[]) => string | void;\n    onChange?: (tooltipDom: HTMLElement, cfg: CustomTooltipConfig) => void;\n  };\n}\n\nexport interface Animation {\n  appear?: AnimationCfg;\n  enter?: AnimationCfg;\n  update?: AnimationCfg;\n  leave?: AnimationCfg;\n  [field: string]: any;\n}\n\nexport interface AnimationCfg {\n  /** or */\n  type?: string;\n  duration?: number;\n  easing?: string;\n  delay?: number;\n  callback?: (...args: any[]) => void;\n  [field: string]: any;\n}\n\n// tslint:disable-next-line: no-empty-interface\nexport interface Theme {}\n\nexport interface ElementOption {\n  type: string;\n  position: {\n    fields: string[];\n  };\n  color?: AttributeOption;\n  size?: AttributeOption;\n  shape?: AttributeOption;\n  style?: GraphicStyle;\n  label?: LabelOption | false;\n  animate?: Animation;\n  adjust?: AdjustOption[];\n  connectNulls?: boolean;\n  widthRatio?: {\n    [type: string]: number;\n  };\n  tooltip?: any;\n}\n\nexport type G2Config = Options;\n\nexport interface IColorConfig {\n  fields?: string[];\n  values?: string[];\n  callback?: (...args: any[]) => any;\n}\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\nexport const timeIntervals = {\n  second: { value: SECOND, format: 'HH:mm:ss' },\n  miniute: { value: MINUTE, format: 'HH:mm' },\n  hour: { value: HOUR, format: 'HH' },\n  day: { value: DAY, format: 'YYYY-MM-DD' },\n  week: { value: WEEK, format: 'YYYY-MM-DD' },\n  month: { value: MONTH, format: 'YYYY-MM' },\n  year: { value: YEAR, format: 'YYYY' },\n};\n\ninterface StateCondition {\n  name: string;\n  exp: () => boolean | string | number;\n}\n\nexport interface StateConfig {\n  condition: () => any | StateCondition;\n  style?: GraphicStyle;\n  related?: string[];\n}\n\nexport interface GuideLineConfig {\n  type?: string;\n  start?: any[];\n  end?: any[];\n  lineStyle?: LineStyle;\n  text?: {\n    position?: 'start' | 'center' | 'end';\n    content: string;\n    offsetX?: number;\n    offsetY: number;\n    style?: TextStyle;\n  };\n}\n\nexport interface ISliderInteractionConfig {\n  /**  horizontal */\n  /** @ignore */\n  type?: 'horizontal' | 'vertical';\n  /**  vertical  */\n  /** @ignore */\n  width?: number;\n  /**  horizontal  */\n  height?: number;\n  /**  padding */\n  padding?: [number, number, number, number];\n  /** , 0~1 */\n  start?: number;\n  /** , 0~1 */\n  end?: number;\n  /**  */\n  backgroundStyle?: ShapeAttrs;\n  /**  */\n  foregroundStyle?: ShapeAttrs;\n  /**  */\n  handlerStyle?: ShapeAttrs;\n  /**  */\n  textStyle?: ShapeAttrs;\n  /** slider   */\n  trendCfg?: {\n    /**  smooth  */\n    smooth?: boolean;\n    /**  */\n    isArea?: boolean;\n    /**  */\n    backgroundStyle?: ShapeAttrs;\n    /**  */\n    lineStyle?: ShapeAttrs;\n    /**  */\n    areaStyle?: ShapeAttrs;\n  };\n}\n\nexport interface IScrollbarInteractionConfig {\n  /**  horizontal */\n  /** @ignore */\n  type?: 'horizontal' | 'vertical';\n  /**  vertical  */\n  width?: number;\n  /**  horizontal  */\n  height?: number;\n  /**  padding */\n  padding?: [number, number, number, number];\n  /** XX */\n  categorySize?: number;\n}\n\nexport interface ITimeLineInteractionConfig {\n  /**  */\n  field: string;\n  /**  key */\n  key: string;\n  /**  false */\n  loop?: boolean;\n  /**  true */\n  auto?: boolean;\n  /**  */\n  speed?: number;\n  /**  horizontal  */\n  height?: number;\n  /**  padding */\n  padding?: [number, number, number, number];\n  /**  horizontal */\n  // type?: 'horizontal';\n  /**  vertical  */\n  // width?: number;\n}\n\n//export type IInteractionConfig = IScrollbarInteractionConfig | ISliderInteractionConfig;\n\nexport type IInteractionConfig = {\n  [field: string]: any;\n};\n\nexport interface IInteractions {\n  type: string;\n  cfg?: IInteractionConfig;\n}\n\n/**\n * \n */\nexport interface Point {\n  readonly x: number;\n  readonly y: number;\n}\n\nexport interface DataItem {\n  [field: string]: string | number | number[] | null | undefined;\n}\n\nexport interface IStyle {\n  [field: string]: any;\n}\n\nexport interface GraphicStyle {\n  fill?: string;\n  fillOpacity?: number;\n  stroke?: string;\n  lineWidth?: number;\n  lineDash?: number[];\n  lineOpacity?: number;\n  opacity?: number;\n  shadowColor?: string;\n  shadowBlur?: number;\n  shadowOffsetX?: number;\n  shadowOffsetY?: number;\n  cursor?: string;\n  [field: string]: any;\n}\n\nexport interface LineStyle {\n  stroke?: string;\n  lineWidth?: number;\n  lineDash?: number[];\n  lineOpacity?: number;\n  shadowColor?: string;\n  shadowBlur?: number;\n  shadowOffsetX?: number;\n  shadowOffsetY?: number;\n  cursor?: string;\n  [field: string]: any;\n}\n\nexport interface TextStyle extends GraphicStyle {\n  fontSize?: number;\n  fontFamily?: string;\n  fontWeight?: number;\n  lineHeight?: number;\n  textAlign?: 'center' | 'left' | 'right';\n  textBaseline?: 'middle' | 'top' | 'bottom';\n  [field: string]: any;\n}\n\ninterface TooltipDataItem {\n  title?: string;\n  data?: Datum;\n  mappingData?: MappingDatum;\n  name?: string;\n  value?: string;\n  color?: string;\n  marker?: boolean;\n  x?: number;\n  y?: number;\n}\n\nexport interface CustomTooltipConfig {\n  title?: string;\n  x?: number;\n  y?: number;\n  items?: TooltipDataItem[];\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar EPSILON = 0.0001;\n/**\n * \n * @param {number[]} xArr       x \n * @param {number[]} yArr       y \n * @param {number}   x          x\n * @param {number}   y          y\n * @param {Function} tCallback \n */\nfunction nearestPoint(xArr, yArr, x, y, tCallback) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var v0 = [x, y];\n    for (var i = 0; i <= 20; i++) {\n        var _t = i * 0.05;\n        var v1 = [tCallback.apply(null, xArr.concat([_t])), tCallback.apply(null, yArr.concat([_t]))];\n        var d1 = util_1.distance(v0[0], v0[1], v1[0], v1[1]);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    // \n    if (t === 0) {\n        return {\n            x: xArr[0],\n            y: yArr[0],\n        };\n    }\n    if (t === 1) {\n        var count = xArr.length;\n        return {\n            x: xArr[count - 1],\n            y: yArr[count - 1],\n        };\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        var v1 = [tCallback.apply(null, xArr.concat([prev])), tCallback.apply(null, yArr.concat([prev]))];\n        var d1 = util_1.distance(v0[0], v0[1], v1[0], v1[1]);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            var v2 = [tCallback.apply(null, xArr.concat([next])), tCallback.apply(null, yArr.concat([next]))];\n            var d2 = util_1.distance(v0[0], v0[1], v2[0], v2[1]);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    return {\n        x: tCallback.apply(null, xArr.concat([t])),\n        y: tCallback.apply(null, yArr.concat([t])),\n    };\n}\nexports.nearestPoint = nearestPoint;\n//  https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nfunction snapLength(xArr, yArr) {\n    var totalLength = 0;\n    var count = xArr.length;\n    for (var i = 0; i < count; i++) {\n        var x = xArr[i];\n        var y = yArr[i];\n        var nextX = xArr[(i + 1) % count];\n        var nextY = yArr[(i + 1) % count];\n        totalLength += util_1.distance(x, y, nextX, nextY);\n    }\n    return totalLength / 2;\n}\nexports.snapLength = snapLength;\n//# sourceMappingURL=bezier.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mod_1 = require(\"@antv/util/lib/mod\");\nvar to_radian_1 = require(\"@antv/util/lib/to-radian\");\n// \nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|\nfunction vRatio(u, v) {\n    //  0  0 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// \nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n/**\n *  [x, y]\n * @param {Array} point1 \n * @param {Array} point2 \n */\nfunction isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\nexports.isSamePoint = isSamePoint;\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nfunction getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = mod_1.default(to_radian_1.default(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // \n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // \n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    //  0  (0, 0) \n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // \n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // \n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // \n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    //  x \n    var theta = vAngle([1, 0], u);\n    // \n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        //  0 \n        rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\nexports.default = getArcParams;\n//# sourceMappingURL=get-arc-params.js.map","import { IGroup, IShape } from '../dependents';\nimport { assign, isArray, each, mix } from '@antv/util';\nimport { breakText } from '../util/common';\nimport ViewLayer from '../base/view-layer';\nimport BBox from '../util/bbox';\n\ninterface TextConfig {\n  leftMargin: number;\n  topMargin: number;\n  rightMargin: number;\n  text: string;\n  style: any;\n  wrapperWidth: number;\n  container: IGroup;\n  theme: any;\n  index: number;\n  plot: ViewLayer;\n  name: string;\n  alignTo?: 'left' | 'right' | 'middle';\n}\n\n/**\n * \n */\n\nexport default class TextDescription {\n  public shape: IShape;\n  public position: string = 'top';\n  public name: string;\n  public destroyed: boolean = false;\n  private container: IGroup;\n  private topMargin: number;\n  private leftMargin: number;\n  private rightMargin: number;\n  private wrapperWidth: number;\n  private alignTo: string;\n  private text: string;\n  private style: any;\n  private index: number;\n  private plot: ViewLayer | any;\n\n  constructor(cfg: TextConfig) {\n    assign(this as any, cfg);\n    this.init();\n  }\n\n  public getBBox(): BBox | null {\n    if (this.shape) {\n      // @ts-ignore\n      const bbox = this.shape.getBBox();\n      if (this.index === 0) {\n        return BBox.fromBBoxObject(bbox);\n      }\n      const padding = this.plot.theme.description.padding;\n      if (isArray(padding)) {\n        each(padding, (it, index) => {\n          if (typeof padding[index] === 'function') {\n            padding[index] = padding[index](this.plot.options.legend.position);\n          }\n        });\n      }\n      return new BBox(bbox.maxX, bbox.minY, bbox.width, bbox.height);\n    }\n    return null;\n  }\n\n  public clear() {\n    if (this.shape) {\n      // @ts-ignore\n      this.shape.attr('text', '');\n    }\n  }\n\n  public destroy() {\n    if (this.shape) {\n      this.shape.remove();\n    }\n    this.destroyed = true;\n  }\n\n  private init() {\n    const content = this.textWrapper();\n    const { x, y } = this.getPosition();\n    this.shape = this.container.addShape('text', {\n      attrs: mix(\n        {\n          x,\n          y,\n          text: content,\n        },\n        this.style,\n        {\n          textAlign: this.getTextAlign(),\n        }\n      ),\n    }) as IShape;\n    // @ts-ignore\n    this.shape.name = this.name;\n  }\n\n  protected getPosition() {\n    if (this.alignTo === 'left') {\n      return { x: this.leftMargin, y: this.topMargin };\n    } else if (this.alignTo === 'middle') {\n      return { x: this.leftMargin + this.wrapperWidth / 2, y: this.topMargin };\n    } else {\n      return { x: this.rightMargin, y: this.topMargin };\n    }\n  }\n\n  protected getTextAlign() {\n    if (this.alignTo === 'left') {\n      return 'left';\n    } else if (this.alignTo === 'middle') {\n      return 'center';\n    } else {\n      return 'right';\n    }\n  }\n\n  /**\n   * text\n   * 1. text\n   */\n  private textWrapper() {\n    const width = this.wrapperWidth;\n    const style = this.style;\n    const textContent: string = this.text;\n    const tShape = this.container.addShape('text', {\n      attrs: {\n        text: '',\n        x: 0,\n        y: 0,\n        ...style,\n      },\n    });\n    const textArr = textContent.split('\\n');\n    const wrappedTextArr = textArr.map((wrappedText) => {\n      let text = '';\n      const chars = wrappedText.split('');\n      const breakIndex: number[] = [];\n      for (let i = 0; i < chars.length; i++) {\n        const item = chars[i];\n        tShape.attr('text', (text += item));\n        const currentWidth = tShape.getBBox().width - 1;\n        if (currentWidth > width) {\n          // \n          if (i === 0) {\n            break;\n          }\n          breakIndex.push(i);\n          text = '';\n        }\n      }\n\n      return breakText(chars, breakIndex);\n    });\n\n    tShape.remove();\n    return wrappedTextArr.join('\\n');\n  }\n}\n","import { isNil } from '@antv/util';\nimport { Formatter } from '../interface/config';\n\nexport const combineFormatter = (...formatters: Formatter[]) => (text: string, item: any, idx) =>\n  formatters.reduce((curText, formatter) => formatter(curText, item, idx), text);\n\nexport const getNoopFormatter = () => (text: string) => text;\n\nexport const getPrecisionFormatter = (precision?: number) => (text: string) => {\n  const num = Number(text);\n  return isNaN(num) || isNil(precision) ? text : num.toFixed(precision);\n};\n\nexport const getSuffixFormatter = (suffix?: string) => (text: string) => {\n  return isNil(suffix) ? text : `${text} ${suffix}`;\n};\n","/**\n * \n */\n// todo: \nimport EventEmitter from '@antv/event-emitter';\nimport { each } from '@antv/util';\nimport { LooseMap } from '../interface/types';\n\ntype States = LooseMap;\n\nexport default class StateManager extends EventEmitter {\n  private _states: States;\n  private _stateStack: States;\n  private _changeTimer: any;\n\n  constructor() {\n    super();\n    this._states = {};\n    this._stateStack = {};\n  }\n\n  public setState(name: string, exp: any) {\n    this._stateStack[name] = exp;\n    this._onUpdate();\n  }\n\n  public getState(name: string) {\n    return this._states[name];\n  }\n\n  public getAllStates() {\n    return this._states;\n  }\n\n  public clear() {\n    this._states = {};\n    this._stateStack = {};\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  }\n\n  private _onUpdate() {\n    const stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(() => {\n      // for (const name in stateStack) {\n      each(stateStack, (exp, name) => {\n        const state = stateStack[name];\n        if (!this._states[name] || this._states[name] !== exp) {\n          // update states\n          this._states[name] = exp;\n          // dispatch state event\n          this._triggerEvent(name, state);\n        }\n      });\n      // }\n      // clear stack\n      this._stateStack = {};\n    }, 16);\n  }\n\n  private _triggerEvent(name: string, exp: any) {\n    this.emit(`${name}:change`, {\n      name,\n      exp,\n    });\n  }\n}\n","import { flatten, groupBy, map } from '@antv/util';\n\n/**\n * scalevaluesstartend\n *\n * @param field scale field\n * @param values scale values\n * @param data original data\n * @param range range start & end\n */\nexport const getDataByScaleRange = (\n  field: string,\n  values: string[],\n  data: object[],\n  [start, end]: [number, number],\n  vertical: boolean = false\n): object[] => {\n  const groupedData = groupBy(data, field);\n  const newValues = vertical ? values.slice(values.length - end, values.length - start) : values.slice(start, end);\n\n  return flatten(map(newValues, (value: string) => groupedData[value] || []));\n};\n","import { deepMix } from '@antv/util';\nimport { DEFAULT_GLOBAL_THEME } from './default';\nimport { DEFAULT_DARK_THEME } from './dark';\n\n/**  */\nconst GLOBAL_THEME_MAP: Record<string, any> = {\n  default: DEFAULT_GLOBAL_THEME,\n  dark: DEFAULT_DARK_THEME,\n};\n\n/**\n * \n * @param name\n * @param theme\n */\nexport function registerGlobalTheme(name: string, theme: any): void {\n  const defaultTheme = getGlobalTheme();\n  GLOBAL_THEME_MAP[name.toLowerCase()] = deepMix({}, defaultTheme, theme);\n}\n\n/**\n * \n * @param name  name  name \n */\nexport function getGlobalTheme(name: string = 'default'): any {\n  const theme = GLOBAL_THEME_MAP[name.toLowerCase()];\n  if (theme) {\n    return theme;\n  }\n  // \n  console.warn(\"error in theme: Can't find the theme named %s. Please register theme first.\", name);\n  return DEFAULT_GLOBAL_THEME;\n}\n","const COLOR = '#5B8FF9';\n\nexport const COLOR_PLATE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E8684A',\n  '#6DC8EC',\n  '#9270CA',\n  '#FF9D4D',\n  '#269A99',\n  '#FF99C3',\n];\n\nexport const COLOR_PLATE_20 = [\n  '#5B8FF9',\n  '#BDD2FD',\n  '#5AD8A6',\n  '#BDEFDB',\n  '#5D7092',\n  '#C2C8D5',\n  '#F6BD16',\n  '#FBE5A2',\n  '#E8684A',\n  '#F6C3B7',\n  '#6DC8EC',\n  '#B6E3F5',\n  '#9270CA',\n  '#D3C6EA',\n  '#FF9D4D',\n  '#FFD8B8',\n  '#269A99',\n  '#AAD8D8',\n  '#FF99C3',\n  '#FFD6E7',\n];\nimport { some } from '@antv/util';\nimport { ViewConfig } from '../base/view-layer';\n\nexport const DESCRIPTION_BOTTOM_MARGIN = function (legendPosition) {\n  if (legendPosition && legendPosition.split('-')[0] === 'top') {\n    return 12;\n  }\n  return 24;\n};\n\nexport const TOP_BLEEDING = (props: ViewConfig) => {\n  const titleVisible = props.title && props.title.visible;\n  const descriptionVisible = props.description && props.description.visible;\n  if (titleVisible || descriptionVisible) {\n    //  title/description  bottom-padding \n    return 12;\n  }\n  return 24;\n};\n\nexport const BOTTOM_BLEEDING = (props: ViewConfig) => {\n  if (\n    some(\n      props.interactions || [],\n      (interaction) =>\n        (interaction.type === 'slider' || interaction.type === 'scrollbar') &&\n        (interaction.cfg && interaction.cfg.type) !== 'vertical'\n    )\n  ) {\n    return 8;\n  }\n  return 24;\n};\n\nexport const DEFAULT_GLOBAL_THEME = {\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  defaultColor: COLOR, // \n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fill: 'black',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false,\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'grey',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false,\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        line: {\n          style: {\n            stroke: 'rgba(0, 0, 0, 0.15)',\n            lineWidth: 1,\n            lineDash: [0, 0],\n          },\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0,0,0,0.45)',\n          lineWidth: 0.5,\n          length: 4,\n        },\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n        autoRotate: false,\n        autoHide: true,\n      },\n      title: {\n        visible: false,\n        spacing: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom',\n        },\n      },\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        line: {\n          style: {\n            stroke: 'rgba(0, 0, 0, 0.15)',\n            lineWidth: 1,\n            lineDash: [0, 0],\n          },\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 0.5,\n        },\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n        offset: 16,\n        autoRotate: true,\n        autoHide: true,\n      },\n      title: {\n        visible: false,\n        spacing: 12,\n        style: { fill: 'rgba(0, 0, 0, 0.65)', fontSize: 12 },\n      },\n    },\n    circle: {\n      autoHideLabel: false,\n      // gridType: 'line',\n      grid: {\n        line: {\n          style: {\n            lineDash: null,\n            lineWidth: 1,\n            stroke: 'rgba(0, 0, 0, 0.15)',\n          },\n        },\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          length: 4,\n          alignWithLabel: true,\n        },\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n        autoRotate: true,\n        autoHide: true,\n      },\n      title: {\n        offset: 12,\n        style: { fill: 'rgba(0, 0, 0, 0.65)', fontSize: 12 },\n      },\n    },\n    radius: {\n      label: {\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n      },\n    },\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom',\n    // panelRange\n    innerPadding: [16, 16, 16, 16],\n    margin: [0, 24, 24, 24],\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: '#595959',\n    },\n    style: {\n      fill: '#595959',\n      stroke: '#ffffff',\n      lineWidth: 2,\n    },\n  },\n  tooltip: {\n    'g2-tooltip': {\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.15)',\n    },\n    offset: 10,\n  },\n};\n","import { Datum } from '../../dependents';\nimport { has, isString, isFunction, isArray, get } from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class AreaParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.config = {\n      type: 'area',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      connectNulls: props.connectNulls || false,\n    };\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n    if (this._getColorMappingField() || props.color) {\n      this.parseColor();\n    }\n\n    if (props.areaStyle || (props.area && props.area.style)) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: Datum = {};\n    const colorMappingField = this._getColorMappingField();\n    if (colorMappingField) {\n      config.fields = colorMappingField;\n    }\n    if (has(props, 'color')) {\n      const color = props.color;\n      if (isString(color)) {\n        config.values = [color];\n      } else if (isFunction(color)) {\n        config.callback = color;\n      } else if (isArray(color)) {\n        if (colorMappingField) {\n          config.values = color;\n        } else {\n          if (color.length > 0) {\n            config.values = [color[0]];\n          }\n        }\n      }\n    }\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.areaStyle ? props.areaStyle : props.area.style;\n    const config: Datum = {};\n    if (isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _getColorMappingField() {\n    const props = this.plot.options;\n    const colorMapper = ['stackField', 'seriesField'];\n    for (const m of colorMapper) {\n      if (get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","/**  */\nimport { registerShape } from '../../dependents';\nimport { deepMix, mix } from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport LineParser from './main';\nimport { getGlobalTheme } from '../../theme';\n\nregisterShape('line', 'miniLine', {\n  draw(cfg, container) {\n    const points = lineSimplification(cfg.points);\n    const path = [];\n    for (let i = 0; i < points.length; i++) {\n      const p = points[i];\n      const flag = i === 0 ? 'M' : 'L';\n      path.push([flag, p.x, p.y]);\n    }\n    const style = deepMix(\n      {},\n      {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      cfg.style\n    );\n    const shape = container.addShape('path', {\n      attrs: mix(\n        {\n          path,\n          stroke: cfg.color || getGlobalTheme().defaultColor,\n          lineWidth: cfg.size || 2,\n        },\n        style\n      ),\n    });\n    return shape;\n  },\n});\n\nregisterShape('line', 'miniLineSmooth', {\n  draw(cfg, container) {\n    const points = lineSimplification(cfg.points);\n    const constraint = [\n      [0, 0],\n      [1, 1],\n    ];\n    const path = getSplinePath(points, false, constraint);\n    const shape = container.addShape('path', {\n      attrs: mix(\n        {\n          path,\n          stroke: cfg.color || getGlobalTheme().defaultColor,\n          lineWidth: cfg.size || 2,\n        },\n        cfg.style\n      ),\n    });\n    return shape;\n  },\n});\n\nexport default class MiniLineParser extends LineParser {\n  public init() {\n    super.init();\n    this.parseShape();\n  }\n\n  private parseShape() {\n    const props = this.plot.options;\n    if (props.smooth) {\n      this.config.shape = { values: ['miniLineSmooth'] };\n    } else {\n      this.config.shape = { values: ['miniLine'] };\n    }\n  }\n}\n","/** shapenodeshapenodeupdate */\nimport { IShape } from '@antv/g-base';\nimport { deepMix, each } from '@antv/util';\nimport * as MathUtil from '../../math';\n\ninterface NodesCfg {\n  shapes: IShape[];\n}\nexport interface IShapeNode {\n  width: number;\n  height: number;\n  centerX: number;\n  centerY: number;\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n  topLeft?: {};\n  topRight?: {};\n  bottomLeft?: {};\n  bottomRight?: {};\n  shape?: IShape;\n}\n\nexport default class ShapeNodes {\n  public shapes: IShape[];\n  public nodes: IShapeNode[];\n  public origion_nodes: IShapeNode[];\n  public type: string = 'shape';\n  constructor(cfg: NodesCfg) {\n    this.shapes = cfg.shapes;\n    this.nodes = [];\n    this._parserNodes();\n    this.origion_nodes = deepMix([], this.nodes);\n  }\n\n  public measure(shape) {\n    const node = deepMix({}, MathUtil.bboxOnRotate(shape), { shape });\n    return node;\n  }\n\n  public measureNodes() {\n    const nodes = [];\n    const shapes = [];\n    each(this.shapes, (shape, index) => {\n      const node = deepMix({}, this.nodes[index], this.measure(shape));\n      if (node.width !== 0 && node.height !== 0) {\n        nodes.push(node);\n        shapes.push(shape);\n      }\n      // this.nodes[index] = node;\n    });\n    this.nodes = nodes;\n    this.shapes = shapes;\n  }\n\n  private _parserNodes() {\n    each(this.shapes, (shape) => {\n      const node = this.measure(shape);\n      this.nodes.push(node);\n    });\n  }\n}\n","/** responsive */\nimport { IShape, BBox } from '@antv/g-base';\nimport { assign } from '@antv/util';\nimport { constraintsLib } from './constraints/index';\nimport ShapeNodes, { IShapeNode } from './node/shape-nodes';\nimport VariableNodes from './node/variable-node';\nimport { rulesLib } from './rules/index';\nimport { LooseMap } from '../../interface/types';\n\ninterface IConstraint {\n  name: string;\n  option?: any;\n}\n\ninterface IRule {\n  name: string;\n  method?: (...args: any[]) => any;\n  option?: any;\n}\n\ninterface ResponsiveCfg {\n  plot: any;\n  region?: any;\n  nodes: ShapeNodes | VariableNodes;\n  constraints: IConstraint[];\n  rules?: any;\n  iterationTime?: number;\n  onStart?: (...args: any[]) => any;\n  onIteration?: (...args: any[]) => any;\n  onEnd?: (...args: any[]) => any;\n  cfg?: LooseMap;\n}\n\nexport default class Responsive {\n  public plot: any;\n  public region: BBox;\n  public nodes: ShapeNodes | VariableNodes;\n  public constraints: any[];\n  public rules: any[];\n  public iterationTime: number = 10;\n  public iterationIndex: number = 0;\n  public rulesLocker: any[] = [];\n  public currentConstraint: IConstraint;\n  public constraintIndex: number = 0;\n  public onStart: (nodes: ShapeNodes | VariableNodes) => void;\n  public onIteration: (nodes: ShapeNodes | VariableNodes) => void;\n  public onEnd: (nodes: ShapeNodes | VariableNodes) => void;\n\n  constructor(cfg: ResponsiveCfg) {\n    assign(this, cfg);\n    this.currentConstraint = this.constraints[0];\n    if (this.rules) {\n      this.iterationTime = this.rules[this.currentConstraint.name].length;\n    }\n    this._start();\n    this._run();\n    this._end();\n  }\n\n  private _start() {\n    if (this.onStart) {\n      this.onStart(this.nodes);\n    }\n  }\n\n  private _iteration() {\n    let nodes;\n    if (this.nodes.type === 'shape') {\n      nodes = this.nodes as ShapeNodes;\n    } else {\n      nodes = this.nodes as VariableNodes;\n    }\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n    if (this.rules) {\n      this._applyRules();\n    }\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n    if (this.onIteration) {\n      this.onIteration(this.nodes);\n    }\n  }\n\n  private _end() {\n    if (this.onEnd) {\n      this.onEnd(this.nodes);\n    }\n  }\n\n  private _run() {\n    let constraintPassed = this._constraintsTest();\n    while (!constraintPassed) {\n      if (this.iterationIndex > this.iterationTime - 1) {\n        break;\n      }\n      this._iteration();\n      constraintPassed = this._constraintsTest();\n      this.iterationIndex++;\n    }\n    if (this.constraintIndex < this.constraints.length - 1) {\n      this.constraintIndex++;\n      this.currentConstraint = this.constraints[this.constraintIndex];\n      this.iterationTime = this.rules ? this.rules[this.currentConstraint.name].length : 1;\n      this.iterationIndex = 0;\n      this._run();\n    }\n  }\n\n  private _constraintsTest(): boolean {\n    const constraint = constraintsLib[this.currentConstraint.name];\n    const constraintOption = this.currentConstraint.option;\n    if (constraint.usage === 'compare') {\n      return this._constraintCompare(constraint, constraintOption);\n    }\n    return this._constraintAssignment(constraint, constraintOption);\n  }\n\n  private _constraintCompare(constraint, option) {\n    const { type, expression } = constraint;\n    const nodes = this.nodes.nodes;\n    if (type === 'chain') {\n      return this._chainConstraintCompare(expression, nodes, option);\n    }\n    if (type === 'padding') {\n      return this._paddingConstraintCompare(expression, this.region, nodes, option);\n    }\n    if (type === 'group') {\n      return this._groupConstraintCompare(expression, nodes, option);\n    }\n  }\n\n  private _chainConstraintCompare(expression, nodes, option) {\n    for (let i = 0; i < nodes.length - 1; i++) {\n      const a = nodes[i];\n      const b = nodes[i + 1];\n      if (expression(a, b, option) === false) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private _paddingConstraintCompare(expression, region, nodes, option) {\n    if (region) {\n      for (const node of nodes) {\n        if (expression(node, region, option) === false) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  private _groupConstraintCompare(expression, nodes, option) {\n    for (let i = 0; i < nodes.length; i++) {\n      const a = nodes[i];\n      for (let j = 0; j < nodes.length; j++) {\n        if (j !== i) {\n          const b = nodes[j];\n          if (expression(a, b, option) === false) {\n            return false;\n          }\n        }\n      }\n    }\n    return true;\n  }\n\n  private _constraintAssignment(constraint, option) {\n    const { type, expression } = constraint;\n    const nodes = this.nodes.nodes;\n    if (type === 'chain') {\n      return this._chainConstraintAssign();\n    }\n    if (type === 'padding') {\n      return this._paddingConstraintAssign(expression, this.region, nodes, option);\n    }\n  }\n\n  private _chainConstraintAssign() {\n    return true;\n  }\n\n  private _paddingConstraintAssign(expression, region, nodes, option) {\n    if (region) {\n      for (const node of nodes) {\n        const value = expression(node, region, option);\n        node.value = value;\n      }\n    }\n    return true;\n  }\n\n  private _applyRules() {\n    const ruleCfg = this.rules[this.currentConstraint.name][this.iterationIndex];\n    // if (this.rulesLocker.indexOf(ruleCfg) < 0) {\n    const rule = rulesLib[ruleCfg.name];\n    const option = ruleCfg.option ? ruleCfg.option : {};\n    const nodes = this.nodes.nodes as IShapeNode[];\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      /** apply rule */\n      this._applyRule(node.shape, rule, option, i);\n    }\n    // this.rulesLocker.push(ruleCfg);\n    // }\n  }\n\n  private _applyRule(shape: IShape, rule, option, index) {\n    const cfg = {\n      nodes: this.nodes,\n      region: this.region,\n      plot: this.plot,\n    };\n    // rule(shape, option, index, this);\n    rule(shape, option, index, cfg);\n  }\n}\n","import columnWidth from './column-width';\nimport elementCollision from './element-collision';\nimport elementDist from './element-dist';\nimport elementDistVertical from './element-dist-vertical';\nimport elementWidth from './element-width';\nimport minRingThickness from './min-ring-thickness';\nimport ringThickness from './ring-thickness';\n\n/** constraints */\nexport interface IConstraint {\n  usage: string;\n  type: string;\n  method: (...args: any) => any;\n}\n\nexport const constraintsLib = {\n  elementDist,\n  elementDistVertical,\n  elementCollision,\n  elementWidth,\n  columnWidth,\n  ringThickness,\n  minRingThickness,\n};\n\nexport function registerResponsiveConstraint(name, constraint: IConstraint) {\n  // todo: \n  constraintsLib[name] = constraint;\n}\n","import clearOverlapping from './clear-overlapping';\nimport datetimeStringAbbrevaite from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport nodeJitter from './node-jitter';\nimport nodeJitterUpward from './node-jitter-upward';\nimport nodesResampling from './nodes-resampling';\nimport nodesResamplingByAbbrevate from './nodes-resampling-by-abbrevate';\nimport nodesResamplingByChange from './nodes-resampling-by-change';\nimport nodesResamplingByState from './nodes-resampling-by-state';\nimport robustAbbrevaite from './robust-abbrevaite';\nimport textAbbreviate from './text-abbreviate';\nimport textHide from './text-hide';\nimport textRotation from './text-rotation';\nimport textWrapper from './text-wrapper';\n\nexport const rulesLib = {\n  textWrapper,\n  textRotation,\n  textAbbreviate,\n  textHide,\n  digitsAbbreviate,\n  datetimeStringAbbrevaite,\n  robustAbbrevaite,\n  nodesResampling,\n  nodesResamplingByAbbrevate,\n  nodesResamplingByChange,\n  nodesResamplingByState,\n  nodeJitter,\n  nodeJitterUpward,\n  clearOverlapping,\n};\n\nexport function registerResponsiveRule(name, method) {\n  // todo: \n  rulesLib[name] = method;\n}\n","import { IShape } from '@antv/g-base';\nimport { each } from '@antv/util';\nimport textHide from './text-hide';\n\nexport default function clearOverlapping(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const current = nodes[index];\n  const overlapped = [];\n  /** overlapnode */\n  if (!current.shape.get('blank')) {\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      const _shape = node.shape;\n      if (i !== index && !_shape.get('blank')) {\n        const isOverlap = isNodeOverlap(current, node);\n        if (isOverlap) {\n          overlapped.push(node);\n        }\n      }\n    }\n  }\n  /** overlap */\n  if (overlapped.length > 0) {\n    overlapped.push(current);\n    overlapped.sort((a, b) => {\n      return b.top - a.top;\n    });\n    /** node */\n    each(overlapped, (node: any, idx: number) => {\n      if (idx > 0) {\n        const _shape = node.shape;\n        textHide(_shape);\n        _shape.set('blank', true);\n      }\n    });\n  }\n}\n\nexport function isNodeOverlap(nodeA, nodeB) {\n  if (nodeA.bottom < nodeB.top || nodeB.bottom < nodeA.top) {\n    return false;\n  }\n  if (nodeA.right < nodeB.left || nodeB.right < nodeA.left) {\n    return false;\n  }\n  return true;\n}\n","import { each } from '@antv/util';\nimport fecha from 'fecha';\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst MONTH = 31 * DAY;\nconst YEAR = 365 * DAY;\n\ninterface TimeStringAbbrevaiteCfg {\n  keep?: string[];\n}\n\nexport default function datetimeStringAbbrevaite(shape, option: TimeStringAbbrevaiteCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  let campareText;\n  if (index === nodes.length - 1) {\n    campareText = nodes[index - 1].shape.get('delegateObject').item.name;\n  } else {\n    campareText = nodes[index + 1].shape.get('delegateObject').item.name;\n  }\n  const compare = new Date(campareText);\n  /**  */\n  const text = shape.get('delegateObject').item.name;\n  const current = new Date(text);\n  const startText = nodes[0].shape.get('delegateObject').item.name;\n  const start = new Date(startText);\n  const endText = nodes[nodes.length - 1].shape.get('delegateObject').item.name;\n  const end = new Date(endText);\n  const timeDuration = getDateTimeMode(start, end);\n  const timeCycle = getDateTimeMode(current, compare); // time frequency\n  // durationfrequency\n  if (timeDuration === timeCycle) {\n    if (index !== 0 && index !== nodes.length - 1) {\n      const formatter = sameSectionFormatter(timeDuration);\n      shape.attr('text', fecha.format(current, formatter));\n    }\n    return;\n  }\n  if (index !== 0) {\n    const previousText = nodes[index - 1].shape.get('delegateObject').item.name;\n    const previous = new Date(previousText);\n    const isAbbreviate = needAbbrevaite(timeDuration, current, previous);\n    if (isAbbreviate) {\n      const formatter = getAbbrevaiteFormatter(timeDuration, timeCycle);\n      shape.attr('text', fecha.format(current, formatter));\n      return;\n    }\n  }\n}\n\nfunction needAbbrevaite(mode, current, previous) {\n  const currentStamp = getTime(current, mode);\n  const previousStamp = getTime(previous, mode);\n  if (currentStamp !== previousStamp) {\n    return false;\n  }\n  return true;\n}\n\nfunction getDateTimeMode(a, b) {\n  let mode;\n  const dist = Math.abs(a - b);\n  const mapper = {\n    minute: [MINUTE, HOUR],\n    hour: [HOUR, DAY],\n    day: [DAY, MONTH],\n    month: [MONTH, YEAR],\n    year: [YEAR, Infinity],\n  };\n  each(mapper, (range, key) => {\n    if (dist >= range[0] && dist < range[1]) {\n      mode = key;\n    }\n  });\n  return mode;\n}\n\nfunction getAbbrevaiteFormatter(duration, cycle) {\n  const times = ['year', 'month', 'day', 'hour', 'minute'];\n  const formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  const startIndex = times.indexOf(duration) + 1;\n  const endIndex = times.indexOf(cycle);\n  let formatter = '';\n  for (let i = startIndex; i <= endIndex; i++) {\n    formatter += formatters[i];\n    if (i < endIndex) {\n      formatter += '-';\n    }\n  }\n  return formatter;\n}\n\nfunction sameSectionFormatter(mode) {\n  const times = ['year', 'month', 'day', 'hour', 'minute'];\n  const formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  const index = times.indexOf(mode);\n  const formatter = formatters[index];\n  return formatter;\n}\n\nfunction getTime(date: Date, mode: string) {\n  if (mode === 'year') {\n    return date.getFullYear();\n  }\n  if (mode === 'month') {\n    return date.getMonth() + 1;\n  }\n  if (mode === 'day') {\n    return date.getDay() + 1;\n  }\n\n  if (mode === 'hour') {\n    return date.getHours() + 1;\n  }\n\n  if (mode === 'minute') {\n    return date.getMinutes() + 1;\n  }\n}\n\n/*tslint:disable*/\nexport function isTime(string) {\n  const hourminExp = /^(?:(?:[0-2][0-3])|(?:[01]\\d)):[0-5]\\d$/;\n  const hourminSecExp = /^(?:(?:[0-2][0-3])|(?:[01]\\d))(?::[0-5]\\d){2}$/;\n  return hourminExp.test(string) || hourminSecExp.test(string);\n}\n","import { IShape } from '@antv/g-base';\nimport { has, each } from '@antv/util';\nimport { getMedian } from '../../math';\n\ninterface DigitsAbbreviateCfg {\n  unit?: 'k' | 'm' | 'b' | 't' | 'auto';\n  formatter?: (val: number) => string;\n  decimal?: number;\n}\nconst unitMapper = {\n  k: { number: 1e3, index: 0 },\n  m: { number: 1e6, index: 1 },\n  b: { number: 1e9, index: 2 },\n  t: { number: 1e12, index: 3 },\n};\n\n// https://gist.github.com/MartinMuzatko/1060fe584d17c7b9ca6e\n// https://jburrows.wordpress.com/2014/11/18/abbreviating-numbers/\n/*tslint:disable*/\n\nexport default function digitsAbbreviate(shape: IShape, option: DigitsAbbreviateCfg, index, cfg) {\n  if (!has(cfg, 'node') || !has(cfg.node, 'node')) {\n    return;\n  }\n  const nodes = cfg.nodes.nodes;\n  const number = parseFloat(shape.get('origin').text);\n  if (number === 0) {\n    return;\n  }\n  if (option.formatter) {\n    shape.attr('text', option.formatter(number));\n    return;\n  }\n  if (option.unit) {\n    const { num, unitname } = abbravateDigitsByUnit(option, number);\n    shape.attr('text', num + unitname);\n  } else {\n    // \n    // \n    const numbers = extractNumbers(nodes);\n    const median = getMedian(numbers);\n    const unitname = getUnitByNumber(median);\n    //interval\n    const unitNumber = unitMapper[unitname].number;\n    const interval = getLinearNodesInterval(nodes);\n    const decimal = getDigitsDecimal(interval, unitNumber);\n    const { num } = abbravateDigitsByUnit({ unit: unitname, decimal }, number);\n    shape.attr('text', num + unitname);\n  }\n}\n\nfunction abbravateDigitsByUnit(option, number) {\n  const units = ['k', 'm', 'b', 't'];\n  let num;\n  let unitname;\n  if (option.unit === 'auto') {\n    /** auto formatt k-m-b-t */\n    const order = Math.floor(Math.log(number) / Math.log(1000));\n    unitname = units[order - 1];\n    num = (number / 1000 ** order).toFixed(option.decimal);\n  } else if (option.unit) {\n    const unit = unitMapper[option.unit];\n    unitname = option.unit;\n    num = (number / unit.number).toFixed(option.decimal);\n  }\n  return { num, unitname };\n}\n\nfunction getUnitByNumber(number) {\n  const units = ['k', 'm', 'b', 't'];\n  const order = Math.floor(Math.log(number) / Math.log(1000));\n  return units[order - 1];\n}\n\nfunction extractNumbers(nodes) {\n  const numbers = [];\n  each(nodes, (node) => {\n    const n = node as any;\n    const number = parseFloat(n.shape.get('origin').text);\n    numbers.push(number);\n  });\n  return numbers;\n}\n\nfunction getLinearNodesInterval(nodes) {\n  if (nodes.length >= 2) {\n    const a = parseFloat(nodes[0].shape.get('origin').text);\n    const b = parseFloat(nodes[1].shape.get('origin').text);\n    return Math.abs(a - b);\n  }\n  return 0;\n}\n\nfunction getDigitsDecimal(interval, unitNumber) {\n  const unitBit = Math.floor(Math.log10(unitNumber));\n  if (interval >= unitNumber) {\n    const remainder = interval % unitNumber;\n    if (remainder > 0) {\n      const remainderBit = Math.floor(Math.log10(remainder));\n      return Math.abs(remainderBit - unitBit);\n    }\n  } else {\n    const intervalBit = Math.floor(Math.log10(interval));\n    return Math.abs(intervalBit - unitBit);\n  }\n  return 0;\n}\n","import { each, isNumber } from '@antv/util';\nimport textHide from './text-hide';\n\nexport interface NodesResamplingCfg {\n  keep: string[];\n}\n\nexport default function nodesResampling(shape, option: NodesResamplingCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  /** nodeLengthindexshapeindexshape */\n  const oddKeep = nodes.length % 2 === 0 ? false : true;\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n  {\n    const isOdd = index % 2 === 0 ? true : false;\n    if ((!oddKeep && isOdd) || (oddKeep && !isOdd)) {\n      textHide(shape);\n    }\n  }\n}\n\nexport function isKeep(keepCfg, index, nodes) {\n  /** start end index */\n  const conditions = [];\n  each(keepCfg, (cfg) => {\n    if (cfg === 'start') {\n      conditions.push(index === 0);\n    } else if (cfg === 'end') {\n      conditions.push(index === nodes.length - 1);\n    } else if (isNumber(cfg)) {\n      conditions.push(index === cfg);\n    }\n  });\n  for (const condition of conditions) {\n    if (condition === true) {\n      return true;\n    }\n  }\n  return false;\n}\n","import { IShape } from '@antv/g-base';\n\ninterface TextAbbreviateCfg {\n  abbreviateBy?: 'start' | 'middle' | 'end';\n}\nexport default function textAbbreviate(shape: IShape, option: TextAbbreviateCfg) {\n  const abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  const text = shape.attr('text');\n  let abbravateText;\n  if (abbreviateBy === 'end') {\n    abbravateText = `${text[0]}...`;\n  }\n  if (abbreviateBy === 'start') {\n    abbravateText = `...${text[text.length - 1]}`;\n  }\n  if (abbreviateBy === 'middle') {\n    abbravateText = `${text[0]}...${text[text.length - 1]}`;\n  }\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top',\n  });\n}\n","import { assign } from '@antv/util';\n\nexport default abstract class ApplyResponsive {\n  public plot: any;\n  public type: string;\n  public responsiveTheme: any;\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this.init();\n  }\n\n  protected init() {\n    this.type = this.getType();\n    if (this.shouldApply()) {\n      this.apply();\n    }\n  }\n\n  protected abstract shouldApply(): boolean;\n\n  protected abstract apply(): void;\n\n  protected abstract getType(): string;\n}\n","import ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\nimport { each } from '@antv/util';\n\nexport default class ApplyResponsiveLabel extends ApplyResponsive {\n  protected shouldApply() {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n    return true;\n  }\n\n  protected apply() {\n    const labelShapesContainer = this.plot.view.geometries[0].labelsContainer.get('children');\n    const labelShapes = [];\n    each(labelShapesContainer, (c) => {\n      labelShapes.push(c.get('children')[0]);\n    });\n    const nodes = new ShapeNodes({\n      shapes: labelShapes,\n    });\n    const { constraints, rules } = this.responsiveTheme.label[this.type];\n    new Responsive({\n      nodes,\n      constraints,\n      rules,\n      plot: this.plot,\n      region: this.plot.view.coordinateBBox,\n    });\n  }\n\n  protected getType() {\n    return null;\n  }\n}\n","import { groupBy, each, keys } from '@antv/util';\nimport { registerLabelComponent } from './base';\nimport PointLabel from './point';\nimport { Geometry, IShape, MappingDatum, FIELD_ORIGIN, ORIGIN } from '../../dependents';\nimport { Label } from '../../interface/config';\nimport { checkOriginEqual, moveInPanel, checkShapeOverlap } from '../../util/view';\nimport BBox from '../../util/bbox';\n\nexport default class PointAutoLabel<L extends Label = Label> extends PointLabel<L> {\n  protected layoutLabels(geometry: Geometry, labels: IShape[]): void {\n    const dones: IShape[] = [];\n    const panel = BBox.fromBBoxObject(this.getCoordinateBBox());\n    const [xField, yField] = geometry.getXYFields();\n    const groupedMap: Record<string, IShape[]> = groupBy(labels, (label) => label.get(ORIGIN)[FIELD_ORIGIN][xField]);\n    const offset = labels[0]?.get('offset');\n\n    each(keys(groupedMap).reverse(), (xValue: string) => {\n      const group = this.sortLabels(geometry, groupedMap[xValue]);\n      while (group.length) {\n        const label = group.shift();\n        if (\n          checkOriginEqual(\n            label,\n            dones,\n            (datumLeft: MappingDatum, datumRight: MappingDatum) =>\n              datumLeft._origin[xField] === datumRight._origin[xField] &&\n              datumLeft._origin[yField] === datumRight._origin[yField]\n          )\n        ) {\n          label.set('visible', false);\n          continue;\n        }\n        moveInPanel(label, panel);\n        const upFail = checkShapeOverlap(label, dones);\n        let downFail: boolean;\n        if (upFail) {\n          label.attr('y', label.attr('y') + 2 * offset);\n          moveInPanel(label, panel);\n          downFail = checkShapeOverlap(label, dones);\n        }\n        if (downFail) {\n          label.set('visible', false);\n          continue;\n        }\n        dones.push(label);\n      }\n    });\n  }\n\n  /**  Labels  */\n  protected sortLabels(geometry: Geometry, labels: IShape[]): IShape[] {\n    const yField = geometry.getXYFields()[1];\n    const sorted: IShape[] = [];\n\n    // \n    labels.sort((a, b) => {\n      return b.get(ORIGIN)[FIELD_ORIGIN][yField] - a.get(ORIGIN)[FIELD_ORIGIN][yField];\n    });\n    if (labels.length > 0) {\n      sorted.push(labels.shift());\n    }\n    if (labels.length > 0) {\n      sorted.push(labels.pop());\n    }\n    sorted.push(...labels);\n\n    return sorted;\n  }\n}\n\nregisterLabelComponent('point-auto', PointAutoLabel);\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup, Geometry } from '../../../../dependents';\n\nconst DEFAULT_OFFSET = 8;\n\nexport interface LineLabelConfig {\n  visible?: boolean;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n}\n\nexport interface ILineLabel extends LineLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class LineLabel {\n  public options: LineLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  private container: IGroup;\n\n  constructor(cfg: ILineLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const elements = this.getGeometry().elements;\n    each(elements, (ele) => {\n      const shapeInfo = this.getShapeInfo(ele.shape);\n      const { style, offsetX, offsetY } = this.options;\n      const formatter = this.options.formatter;\n      const content = formatter ? formatter(shapeInfo.name) : shapeInfo.name;\n      this.container.addShape('text', {\n        attrs: deepMix(\n          {},\n          {\n            x: shapeInfo.x + offsetX,\n            y: shapeInfo.y + offsetY,\n            text: content,\n            fill: shapeInfo.color,\n            textAlign: 'left',\n            textBaseline: 'middle',\n          },\n          style\n        ),\n        name: 'label',\n      });\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    return this.container.getBBox();\n  }\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = clone(theme.label.style);\n    delete labelStyle.fill;\n    return {\n      offsetX: DEFAULT_OFFSET,\n      offsetY: 0,\n      style: labelStyle,\n    };\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'line') as Geometry;\n  }\n\n  protected getShapeInfo(shape) {\n    const originPoints = shape.get('origin').points;\n    const lastPoint = originPoints[originPoints.length - 1];\n    const color = shape.attr('stroke');\n    const { seriesField } = this.plot.options;\n    const name = shape.get('origin').data[0][seriesField];\n    return { x: lastPoint.x, y: lastPoint.y, color, name };\n  }\n}\n","/**\n * \n */\nimport { IGroup } from '@antv/g-base';\nimport { View } from '@antv/g2';\nimport { DEFAULT_ANIMATE_CFG } from '@antv/g2/lib/animate';\nimport { each, deepMix, get } from '@antv/util';\n\nfunction parsePoints(shape, coord) {\n  const parsedPoints = [];\n  const points = shape.get('origin').points;\n  each(points, (p) => {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n  return parsedPoints;\n}\nexport interface ConversionTagOptions {\n  visible: boolean;\n  size?: number;\n  spacing?: number;\n  offset?: number;\n  arrow?: ArrowOptions;\n  value?: ValueOptions;\n  animation?: any;\n  transpose?: boolean;\n}\n\ninterface ArrowOptions {\n  visible: boolean;\n  headSize?: number;\n  style?: any;\n}\n\ninterface ValueOptions {\n  visible: boolean;\n  style?: any;\n  formatter?: (valueUpper: any, valueLower: any) => string;\n}\n\nexport interface ConversionTagConfig extends ConversionTagOptions {\n  view: View;\n  field: string;\n}\n\nexport default class ConversionTag {\n  public static getDefaultOptions({ transpose }: ConversionTagConfig): ConversionTagOptions {\n    return {\n      visible: true,\n      size: transpose ? 32 : 80,\n      spacing: transpose ? 8 : 12,\n      offset: transpose ? 32 : 0,\n      arrow: {\n        visible: true,\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      value: {\n        visible: true,\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n        },\n        formatter: (valueUpper: any, valueLower: any) => `${((100 * valueLower) / valueUpper).toFixed(2)}%`,\n      },\n      animation: deepMix({}, DEFAULT_ANIMATE_CFG),\n    };\n  }\n\n  private view: View;\n  private container: IGroup;\n  private transpose?: boolean;\n  private field: string;\n  private size: number;\n  private offset: number;\n  private spacing: number;\n  private arrow: ArrowOptions;\n  private value: ValueOptions;\n  private animation: boolean;\n\n  constructor(cfg: ConversionTagConfig) {\n    // @ts-ignore\n    deepMix(this, this.constructor.getDefaultOptions(cfg), cfg);\n    this._init();\n  }\n\n  private _init() {\n    const layer = this.view.backgroundGroup;\n    this.container = layer.addGroup();\n    this.draw();\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n  }\n\n  public draw() {\n    const { transpose } = this;\n    const { values } = this.view.getScaleByField(this.field);\n    const geometry = this.view.geometries[0];\n    const shapes = geometry.getShapes();\n\n    let shapeLower, valueLower, shapeUpper, valueUpper;\n\n    if (transpose) {\n      shapes.forEach((shapeLower, i) => {\n        valueLower = values[i];\n        if (i++ > 0) {\n          this._drawTag(shapeUpper, valueUpper, shapeLower, valueLower);\n        }\n        valueUpper = valueLower;\n        shapeUpper = shapeLower;\n      });\n    } else {\n      shapes.forEach((shapeUpper, i) => {\n        valueUpper = values[i];\n        if (i++ > 0) {\n          this._drawTag(shapeUpper, valueUpper, shapeLower, valueLower);\n        }\n        valueLower = valueUpper;\n        shapeLower = shapeUpper;\n      });\n    }\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  private _drawTag(shapeUpper, valueUpper, shapeLower, valueLower) {\n    const { transpose } = this;\n    const coord = this.view.geometries[0].coordinate;\n    const pointUpper = parsePoints(shapeUpper, coord)[transpose ? 3 : 0];\n    const pointLower = parsePoints(shapeLower, coord)[transpose ? 0 : 3];\n    this._drawTagArrow(pointUpper, pointLower);\n    this._drawTagValue(pointUpper, valueUpper, pointLower, valueLower);\n  }\n\n  private _drawTagArrow(pointUpper, pointLower) {\n    let { spacing } = this;\n    const { size, offset, animation, transpose } = this;\n    const { headSize } = this.arrow;\n    const totalHeight = pointLower.y - pointUpper.y;\n    const totalWidth = pointLower.x - pointUpper.x;\n\n    let points;\n\n    if (transpose) {\n      if ((totalWidth - headSize) / 2 < spacing) {\n        // \n        spacing = Math.max(1, (totalWidth - headSize) / 2);\n        points = [\n          [pointUpper.x + spacing, pointUpper.y - offset],\n          [pointUpper.x + spacing, pointUpper.y - offset - size],\n          [pointLower.x - spacing, pointLower.y - offset - size / 2],\n        ];\n      } else {\n        // \n        points = [\n          [pointUpper.x + spacing, pointUpper.y - offset],\n          [pointUpper.x + spacing, pointUpper.y - offset - size],\n          [pointLower.x - spacing - headSize, pointLower.y - offset - size],\n          [pointLower.x - spacing, pointLower.y - offset - size / 2],\n          [pointLower.x - spacing - headSize, pointLower.y - offset],\n        ];\n      }\n    } else {\n      if ((totalHeight - headSize) / 2 < spacing) {\n        // \n        spacing = Math.max(1, (totalHeight - headSize) / 2);\n        points = [\n          [pointUpper.x + offset, pointUpper.y + spacing],\n          [pointUpper.x + offset + size, pointUpper.y + spacing],\n          [pointLower.x + offset + size / 2, pointLower.y - spacing],\n        ];\n      } else {\n        // \n        points = [\n          [pointUpper.x + offset, pointUpper.y + spacing],\n          [pointUpper.x + offset + size, pointUpper.y + spacing],\n          [pointLower.x + offset + size, pointLower.y - spacing - headSize],\n          [pointLower.x + offset + size / 2, pointLower.y - spacing],\n          [pointLower.x + offset, pointLower.y - spacing - headSize],\n        ];\n      }\n    }\n\n    const tagArrow = this.container.addShape('polygon', {\n      name: 'arrow',\n      attrs: {\n        ...this.arrow.style,\n        points,\n      },\n    });\n\n    if (animation !== false) {\n      this._fadeInTagShape(tagArrow);\n    }\n  }\n\n  private _drawTagValue(pointUpper, valueUpper, pointLower, valueLower) {\n    const { size, offset, animation, transpose } = this;\n\n    const text = this.value.formatter(valueUpper, valueLower);\n\n    const tagValue = this.container.addShape('text', {\n      name: 'value',\n      attrs: {\n        ...this.value.style,\n        text,\n        x: transpose ? (pointUpper.x + pointLower.x) / 2 : pointUpper.x + offset + size / 2,\n        y: transpose ? pointUpper.y - offset - size / 2 : (pointUpper.y + pointLower.y) / 2,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      },\n    });\n\n    if (transpose) {\n      const totalWidth = pointLower.x - pointUpper.x;\n      const { width: textWidth } = tagValue.getBBox();\n      if (textWidth > totalWidth) {\n        const cWidth = textWidth / text.length;\n        const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n        const textAdjusted = `${text.slice(0, cEnd)}...`;\n        tagValue.attr('text', textAdjusted);\n      }\n    }\n\n    if (animation !== false) {\n      this._fadeInTagShape(tagValue);\n    }\n  }\n\n  private _fadeInTagShape(shape) {\n    const { animation } = this;\n\n    const opacity = shape.attr('opacity');\n    shape.attr('opacity', 0);\n    const { duration } = get(animation, 'appear', DEFAULT_ANIMATE_CFG.appear);\n    shape.animate({ opacity }, duration);\n  }\n}\n","import { every, each, groupBy, findIndex, uniq, map, size } from '@antv/util';\nimport { registerLabelComponent } from '../../../components/label/base';\nimport { IShape, Geometry, Element, ORIGIN, FIELD_ORIGIN } from '../../../dependents';\nimport BarLabel from './label';\nimport { getOverlapArea, moveInPanel, checkShapeOverlap } from '../../../util/view';\nimport BBox from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport { IBarAutoLabel } from '../interface';\n\n/**  Column  */\nexport default class BarAutoLabel extends BarLabel<IBarAutoLabel> {\n  protected getPosition(element: Element): { x: number; y: number } {\n    const offset = this.getDefaultOffset();\n    const value = this.getValue(element);\n    const bbox = this.getElementShapeBBox(element);\n    const { minX, maxX, minY, height } = bbox;\n    const { offsetX, offsetY } = this.options;\n    const y = minY + height / 2 + offsetY;\n    const dir = value < 0 ? -1 : 1;\n    const root = value > 0 ? maxX : minX;\n    const x = root + offset * dir + offsetX;\n\n    //  right\n    return { x, y };\n  }\n\n  protected getTextAlign(element: Element) {\n    const value = this.getValue(element);\n    return value > 0 ? 'left' : 'right';\n  }\n\n  /**  fill  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected getTextFill(element: Element) {\n    const { style } = this.options;\n    return style.fill;\n  }\n\n  /**  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected getTextStroke(element: Element) {\n    return undefined;\n  }\n\n  /**  layout  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected adjustLabel(label: IShape, element: Element): void {\n    // empty\n  }\n\n  /**  */\n  protected layoutLabels(geometry: Geometry, labels: IShape[]): void {\n    if (this.shouldInShapeLabels(labels)) {\n      this.inShapeLabels(geometry, labels);\n    }\n    this.autoHideLabels(geometry, labels);\n  }\n\n  /**  */\n  protected shouldInShapeLabels(labels: IShape[]): boolean {\n    return every(labels, (label) => {\n      const labelBBox = label.getBBox();\n      const element: Element = label.get('element');\n      const bbox = this.getElementShapeBBox(element);\n\n      return bbox.height >= labelBBox.height;\n    });\n  }\n\n  /**  */\n  protected inShapeLabels(geometry: Geometry, labels: IShape[]) {\n    const coordinateBBox = this.getCoordinateBBox();\n    const [xField] = geometry.getXYFields();\n    const { darkStyle, lightStyle } = this.options;\n    const groupedLabels = groupBy(labels, (label) => label.get(ORIGIN)[FIELD_ORIGIN][xField]);\n    each(labels, (label: IShape) => {\n      const curGroup = groupedLabels[label.get(ORIGIN)[FIELD_ORIGIN][xField]] || [];\n      const element: Element = label.get('element');\n      const { shape } = element;\n      const fillWhite = isContrastColorWhite(shape.attr('fill'));\n      const shapeBBox = BBox.fromBBoxObject(shape.getBBox());\n      const labelBBox = BBox.fromBBoxObject(label.getBBox());\n\n      //  Column  label\n      if (getOverlapArea(coordinateBBox, shapeBBox) <= 0) {\n        label.set('visible', false);\n      }\n      if (labelBBox.width > shapeBBox.width) {\n        // \n        const idx = findIndex(curGroup, (item) => item === label);\n        if (idx !== curGroup.length - 1) {\n          label.set('visible', false);\n        }\n      } else {\n        // \n        label.attr({\n          x: shapeBBox.x + shapeBBox.width / 2,\n          textAlign: 'center',\n        });\n        const overflow = labelBBox.width > shapeBBox.width || labelBBox.height > shapeBBox.height;\n        if (overflow) {\n          // \n          label.attr({\n            stroke: lightStyle?.stroke,\n          });\n        } else {\n          // \n          label.attr({\n            fill: fillWhite ? lightStyle?.fill : darkStyle?.fill,\n            fillOpacity: fillWhite ? lightStyle?.fillOpacity : darkStyle?.fillOpacity,\n            stroke: undefined,\n          });\n        }\n      }\n    });\n  }\n\n  /**  */\n  protected autoHideLabels(geometry: Geometry, labels: IShape[]) {\n    const coordinateBBox = this.getCoordinateBBox();\n    const filteredLabels = this.filterLabels(labels);\n    const [xField] = geometry.getXYFields();\n    const dones: IShape[] = [];\n    const todo: IShape[] = [];\n    const groupedLabels = groupBy(filteredLabels, (label) => label.get(ORIGIN)[FIELD_ORIGIN][xField]);\n    const xValues = uniq(map(filteredLabels, (label: IShape) => label.get(ORIGIN)[FIELD_ORIGIN][xField]));\n    let xValue;\n\n    if (size(xValues) > 0) {\n      // \n      xValue = xValues.shift();\n      each(groupedLabels[xValue], (label) => todo.push(label));\n    }\n    if (size(xValues) > 0) {\n      // \n      xValue = xValues.pop();\n      each(groupedLabels[xValue], (label) => todo.push(label));\n    }\n    each(xValues.reverse(), (val) => {\n      // \n      each(groupedLabels[val], (label) => todo.push(label));\n    });\n\n    while (todo.length > 0) {\n      const cur = todo.shift();\n      if (cur.get('visible')) {\n        moveInPanel(cur, coordinateBBox);\n        if (checkShapeOverlap(cur, dones)) {\n          cur.set('visible', false);\n        } else {\n          dones.push(cur);\n        }\n      }\n    }\n  }\n\n  /**  */\n  private filterLabels(labels: IShape[]): IShape[] {\n    const MAX_CNT = 500; //  500 \n    const filteredLabels = [];\n    const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n    each(labels, (label, idx) => {\n      if (idx % pages === 0) {\n        filteredLabels.push(label);\n      } else {\n        label.set('visible', false);\n      }\n    });\n\n    return filteredLabels;\n  }\n}\n\nregisterLabelComponent('bar-auto', BarAutoLabel);\n","import { deepMix, valuesOfKey, clone } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption } from '../../interface/config';\nimport BaseBarLayer from '../bar/layer';\nimport { BarViewConfig } from '../bar/interface';\nimport './theme';\n\nexport interface GroupedBarViewConfig extends BarViewConfig {\n  groupField: string;\n}\n\nexport interface GroupedBarLayerConfig extends GroupedBarViewConfig, LayerConfig {}\n\nexport default class GroupedBarLayer extends BaseBarLayer<GroupedBarLayerConfig> {\n  public static getDefaultOptions(): Partial<GroupedBarViewConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        grid: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        visible: true,\n        title: {\n          visible: false,\n        },\n      },\n      label: {\n        visible: true,\n        position: 'right',\n        adjustColor: true,\n      },\n      legend: {\n        visible: true,\n        position: 'right-top',\n        offsetY: 0,\n      },\n    });\n  }\n\n  public type: string = 'groupedBar';\n\n  public afterRender() {\n    super.afterRender();\n    const names = valuesOfKey(this.options.data, this.options.groupField);\n    this.view.on('tooltip:change', (e) => {\n      const { items } = e;\n      const origin_items = clone(items);\n      for (let i = 0; i < names.length; i++) {\n        const name = names[i];\n        for (let j = 0; j < origin_items.length; j++) {\n          const item = origin_items[j];\n          if (item.name === name) {\n            e.items[i] = item;\n          }\n        }\n      }\n    });\n  }\n\n  public getColorScale() {\n    const { groupField } = this.options;\n    if (groupField) {\n      return this.view.getScaleByField(groupField);\n    }\n  }\n\n  protected scale() {\n    const defaultMeta = {};\n    defaultMeta[this.options.groupField] = {\n      values: valuesOfKey(this.options.data, this.options.groupField),\n    };\n    if (!this.options.meta) {\n      this.options.meta = defaultMeta;\n    } else {\n      this.options.meta = deepMix({}, this.options.meta, defaultMeta);\n    }\n    super.scale();\n  }\n\n  protected adjustBar(bar: ElementOption) {\n    bar.adjust = [\n      {\n        type: 'dodge',\n        marginRatio: 0.1,\n      },\n    ];\n  }\n\n  protected geometryTooltip() {\n    this.bar.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.bar.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.bar.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.bar.tooltip.fields = [this.options.xField, this.options.yField, this.options.groupField];\n      }\n    }\n  }\n}\n\nregisterPlotType('groupedBar', GroupedBarLayer);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackedBar, { StackedBarViewConfig } from '../stacked-bar/layer';\nimport { DataItem } from '../../interface/config';\nimport { transformDataPercentage } from '../../util/data';\n\nexport type PercentStackedBarViewConfig = StackedBarViewConfig;\nexport interface PercentStackedBarLayerConfig extends PercentStackedBarViewConfig, LayerConfig {}\n\nexport default class PercentStackedBarLayer extends StackedBar<PercentStackedBarLayerConfig> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n          formatter: (v) => `${v} (%)`,\n        },\n        label: {\n          visible: false,\n          formatter: (v) => {\n            const reg = /%/gi;\n            return v.replace(reg, '');\n          },\n        },\n      },\n    });\n  }\n  public type: string = 'percentStackedBar';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n    const processData = super.processData(originData);\n\n    return transformDataPercentage(processData, yField, [xField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { xField } = this.options;\n    metaConfig[xField] = {\n      tickCount: 6,\n      alias: `${xField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = metaConfig;\n    super.scale();\n  }\n}\n\nregisterPlotType('percentStackedBar', PercentStackedBarLayer);\n","import { registerLabelComponent } from '../../../../components/label/base';\nimport PointLabel from '../../../../components/label/point';\nimport { IAreaPointLabel } from '../../interface';\n\nexport default class AreaPointLabel extends PointLabel<IAreaPointLabel> {}\n\nregisterLabelComponent('area-point', AreaPointLabel);\n","import { each, map, filter, last } from '@antv/util';\nimport { registerLabelComponent } from '../../../../components/label/base';\nimport PointAutoLabel from '../../../../components/label/point-auto';\nimport { Geometry, IShape, IElement } from '../../../../dependents';\nimport { getGeometryShapes, getGeometryByType } from '../../../../util/view';\nimport { getStrokePoints } from '../../../../util/math';\nimport { isContrastColorWhite } from '../../../../util/color';\nimport { IAreaPointAutoLabel } from '../../interface';\n\nexport default class AreaPointAutoLabel extends PointAutoLabel<IAreaPointAutoLabel> {\n  protected layoutLabels(geometry: Geometry, labels: IShape[]) {\n    super.layoutLabels(geometry, labels);\n    this.adjustAreaLabelsStyle(labels);\n  }\n\n  protected adjustAreaLabelsStyle(labels: IShape[]) {\n    const { view } = this;\n    const { darkStyle, lightStyle } = this.options;\n    const areaGeometry = getGeometryByType(view, 'area');\n    const areas = getGeometryShapes(areaGeometry).sort((left: IElement, right: IElement) => {\n      return right.getBBox().height - left.getBBox().height;\n    }) as IShape[];\n\n    each(labels, (label: IShape) => {\n      const labelBBox = label.getBBox();\n      const points = getStrokePoints(labelBBox.x, labelBBox.y, labelBBox.width, labelBBox.height);\n      const match = map(areas, (area) => ({\n        area,\n        matches: filter(points, (point) => !!area.isHit(point[0], point[1])).length,\n      })).sort((left, right) => left.matches - right.matches);\n      if (last(match).matches > 0) {\n        const bgColor = last(match).area.attr('fill');\n        const fillWhite = isContrastColorWhite(bgColor);\n        label.attr({\n          fill: fillWhite ? lightStyle?.fill : darkStyle?.fill,\n          fillOpacity: fillWhite ? lightStyle.fillOpacity : darkStyle.fillOpacity,\n          stroke: fillWhite ? lightStyle?.stroke : darkStyle?.stroke,\n        });\n      }\n    });\n  }\n}\n\nregisterLabelComponent('area-point-auto', AreaPointAutoLabel);\n","import { registerTheme } from '../../theme';\n\nconst AREA_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst AREA_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst LINE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_SELECTED_STYLE = (style) => {\n  const lineWidth = style.lineWidth || 1;\n  return { lineWidth: lineWidth + 2 };\n};\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 2,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 2,\n  };\n};\n\nconst POINT_DISABLED_STYLE = (style) => {\n  const opacity = style.opacity || style.fillOpacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nexport const DEFAULT_AREA_THEME = {\n  areaStyle: {\n    normal: {},\n    active: AREA_ACTIVE_STYLE,\n    disable: AREA_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: '#333333' },\n  },\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE,\n  },\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    disable: POINT_DISABLED_STYLE,\n    selected: POINT_SELECTED_STYLE,\n  },\n  label: {\n    darkStyle: {\n      fill: '#2c3542',\n      stroke: '#ffffff',\n      fillOpacity: 0.85,\n    },\n    lightStyle: {\n      fill: '#ffffff',\n      fillOpacity: 1,\n      stroke: '#2c3542',\n    },\n  },\n};\n\nregisterTheme('area', DEFAULT_AREA_THEME);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackedArea from '../stacked-area/layer';\nimport { StackedAreaViewConfig } from '../stacked-area/interface';\nimport { DataItem } from '../../interface/config';\nimport { transformDataPercentage } from '../../util/data';\n\nexport type PercentStackedAreaViewConfig = StackedAreaViewConfig;\nexport interface PercentStackedAreaLayerConfig extends PercentStackedAreaViewConfig, LayerConfig {}\n\nexport default class PercentStackedAreaLayer extends StackedArea<PercentStackedAreaLayerConfig> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        visible: true,\n        label: {\n          visible: true,\n          formatter: (v) => {\n            const reg = /%/gi;\n            return v.replace(reg, '');\n          },\n        },\n      },\n    });\n  }\n  public type: string = 'percentStackedArea';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n\n    return transformDataPercentage(originData, xField, [yField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { yField } = this.options;\n    metaConfig[this.options.yField] = {\n      tickCount: 6,\n      alias: `${yField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = deepMix({}, metaConfig, this.options.meta);\n    super.scale();\n  }\n}\n\nregisterPlotType('percentStackedArea', PercentStackedAreaLayer);\n","import { every, each, groupBy, findIndex, uniq, map, size } from '@antv/util';\nimport { registerLabelComponent } from '../../../components/label/base';\nimport { IShape, Geometry, Element, ORIGIN, FIELD_ORIGIN } from '../../../dependents';\nimport ColumnLabel from './label';\nimport { getOverlapArea, moveInPanel, checkShapeOverlap } from '../../../util/view';\nimport BBox from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport { IColumnAutoLabel } from '../interface';\n\n/**  Column  */\nexport default class ColumnAutoLabel extends ColumnLabel<IColumnAutoLabel> {\n  protected getPosition(element: Element): { x: number; y: number } {\n    const offset = this.getDefaultOffset();\n    const value = this.getValue(element);\n    const bbox = this.getElementShapeBBox(element);\n    const { minX, minY, maxY, width } = bbox;\n    const { offsetX, offsetY } = this.options;\n    const x = minX + width / 2 + offsetX;\n    const dir = value > 0 ? -1 : 1;\n    const root = value > 0 ? minY : maxY;\n    const y = root + offset * dir + offsetY;\n\n    //  top\n    return { x, y };\n  }\n\n  /**  fill  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected getTextFill(element: Element) {\n    const { style } = this.options;\n\n    return style.fill;\n  }\n\n  /**  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected getTextStroke(element: Element) {\n    return undefined;\n  }\n\n  /**  layout  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected adjustLabel(label: IShape, element: Element): void {\n    // empty\n  }\n\n  /**  */\n  protected layoutLabels(geometry: Geometry, labels: IShape[]): void {\n    if (this.shouldInShapeLabels(labels)) {\n      this.inShapeLabels(geometry, labels);\n    }\n    this.autoHideLabels(geometry, labels);\n  }\n\n  /**  */\n  protected shouldInShapeLabels(labels: IShape[]): boolean {\n    return every(labels, (label) => {\n      const labelBBox = label.getBBox();\n      const element: Element = label.get('element');\n      const bbox = this.getElementShapeBBox(element);\n\n      return bbox.width >= labelBBox.width;\n    });\n  }\n\n  /**  */\n  protected inShapeLabels(geometry: Geometry, labels: IShape[]) {\n    const coordinateBBox = this.getCoordinateBBox();\n    const [xField] = geometry.getXYFields();\n    const { darkStyle, lightStyle } = this.options;\n    const groupedLabels = groupBy(labels, (label) => label.get(ORIGIN)[FIELD_ORIGIN][xField]);\n    each(labels, (label: IShape) => {\n      const curGroup = groupedLabels[label.get(ORIGIN)[FIELD_ORIGIN][xField]] || [];\n      const element: Element = label.get('element');\n      const { shape } = element;\n      const fillWhite = isContrastColorWhite(shape.attr('fill'));\n      const shapeBBox = BBox.fromBBoxObject(shape.getBBox());\n      const labelBBox = BBox.fromBBoxObject(label.getBBox());\n\n      //  Column  label\n      if (getOverlapArea(coordinateBBox, shapeBBox) <= 0) {\n        label.set('visible', false);\n      }\n      if (labelBBox.height > shapeBBox.height) {\n        // \n        const idx = findIndex(curGroup, (item) => item === label);\n        if (idx !== 0) {\n          label.set('visible', false);\n        }\n      } else {\n        // \n        label.attr({\n          y: shapeBBox.y + shapeBBox.height / 2,\n          textBaseline: 'middle',\n        });\n        const overflow = labelBBox.width > shapeBBox.width || labelBBox.height > shapeBBox.height;\n        if (overflow) {\n          // \n          label.attr({\n            stroke: lightStyle?.stroke,\n          });\n        } else {\n          // \n          label.attr({\n            fill: fillWhite ? lightStyle?.fill : darkStyle?.fill,\n            fillOpacity: fillWhite ? lightStyle?.fillOpacity : darkStyle?.fillOpacity,\n            stroke: undefined,\n          });\n        }\n      }\n    });\n  }\n\n  /**  */\n  protected autoHideLabels(geometry: Geometry, labels: IShape[]) {\n    const coordinateBBox = this.getCoordinateBBox();\n    const filteredLabels = this.filterLabels(labels);\n    const [xField] = geometry.getXYFields();\n    const dones: IShape[] = [];\n    const todo: IShape[] = [];\n    const groupedLabels = groupBy(filteredLabels, (label) => label.get(ORIGIN)[FIELD_ORIGIN][xField]);\n    const xValues = uniq(map(filteredLabels, (label: IShape) => label.get(ORIGIN)[FIELD_ORIGIN][xField]));\n    let xValue;\n\n    if (size(xValues) > 0) {\n      // \n      xValue = xValues.shift();\n      each(groupedLabels[xValue], (label) => todo.push(label));\n    }\n    if (size(xValues) > 0) {\n      // \n      xValue = xValues.pop();\n      each(groupedLabels[xValue], (label) => todo.push(label));\n    }\n    each(xValues.reverse(), (val) => {\n      // \n      each(groupedLabels[val], (label) => todo.push(label));\n    });\n\n    while (todo.length > 0) {\n      const cur = todo.shift();\n      if (cur.get('visible')) {\n        moveInPanel(cur, coordinateBBox);\n        if (checkShapeOverlap(cur, dones)) {\n          cur.set('visible', false);\n        } else {\n          dones.push(cur);\n        }\n      }\n    }\n  }\n\n  /**  */\n  private filterLabels(labels: IShape[]): IShape[] {\n    const MAX_CNT = 500; //  500 \n    const filteredLabels = [];\n    const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n    each(labels, (label, idx) => {\n      if (idx % pages === 0) {\n        filteredLabels.push(label);\n      } else {\n        label.set('visible', false);\n      }\n    });\n\n    return filteredLabels;\n  }\n}\n\nregisterLabelComponent('column-auto', ColumnAutoLabel);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  column: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { registerLabelComponent } from '../../../components/label/base';\nimport ColumnLabel from '../../column/component/label';\nimport { IShape, Element } from '../../../dependents';\n\nexport default class StackedColumnLabel extends ColumnLabel {\n  protected adjustLabel(label: IShape, element: Element): void {\n    const { adjustPosition } = this.options;\n    if (adjustPosition) {\n      const labelRange = label.getBBox();\n      const shapeRange = this.getElementShapeBBox(element);\n      if (shapeRange.height < labelRange.height) {\n        label.hide();\n      }\n    }\n  }\n}\n\nregisterLabelComponent('stacked-column', StackedColumnLabel);\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackedColumn, { StackedColumnViewConfig } from '../stacked-column/layer';\nimport { transformDataPercentage } from '../../util/data';\nimport { DataItem } from '../../interface/config';\n\nexport type PercentStackedColumnViewConfig = StackedColumnViewConfig;\nexport interface PercentStackedColumnLayerConfig extends PercentStackedColumnViewConfig, LayerConfig {}\n\nexport default class PercentStackedColumnLayer extends StackedColumn<PercentStackedColumnLayerConfig> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      label: {\n        visible: true,\n        position: 'middle',\n        offset: 0,\n      },\n      yAxis: {\n        visible: true,\n        tick: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: false,\n        },\n      },\n    });\n  }\n  public type: string = 'percentStackedColumn';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n    return transformDataPercentage(originData || [], xField, [yField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { yField } = this.options;\n    metaConfig[yField] = {\n      tickCount: 6,\n      alias: `${yField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = metaConfig;\n    super.scale();\n  }\n}\n\nregisterPlotType('percentStackedColumn', PercentStackedColumnLayer);\n","import { deepMix } from '@antv/util';\nimport * as EventParser from './event';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { DataItem, Label, GraphicStyle } from '../../interface/config';\nimport { getGeom } from '../../geoms/factory';\nimport { LayerConfig } from '../../base/layer';\nimport { getPieLabel, PieLabelConfig } from './component/label';\nimport SpiderLabel from './component/label/spider-label';\nimport { registerPlotType } from '../../base/global';\nimport PieBaseLabel from './component/label/base-label';\nimport './theme';\n\nexport interface PieViewConfig extends ViewConfig {\n  angleField: string;\n  colorField?: string;\n  radius?: number;\n  pieStyle?: GraphicStyle | ((...args: any[]) => GraphicStyle);\n  label?: PieLabelConfig;\n}\n\nexport interface PieLayerConfig extends PieViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  pie: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  pie: 'column',\n};\n\n// @ts-ignore\nexport default class PieLayer<T extends PieLayerConfig = PieLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: false,\n        adjustPosition: true,\n        allowOverlap: false,\n        line: {\n          visible: true,\n          smooth: true,\n        },\n      },\n      legend: {\n        visible: true,\n        position: 'right-center',\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      pieStyle: {\n        stroke: 'white',\n        lineWidth: 1,\n      },\n    });\n  }\n\n  public pie: any;\n  public type: string = 'pie';\n  public labelComponent: SpiderLabel | PieBaseLabel;\n\n  public afterRender() {\n    super.afterRender();\n    const options = this.options;\n    /** label */\n    if (options.label && options.label.visible) {\n      // \n      if (this.labelComponent) {\n        this.labelComponent.clear();\n      }\n      const labelConfig = options.label as Label;\n      if (labelConfig.type === 'spider') {\n        this.labelComponent = new SpiderLabel({\n          view: this.view,\n          fields: options.colorField ? [options.angleField, options.colorField] : [options.angleField],\n          ...this.options.label,\n        });\n        this.labelComponent.render();\n      } else {\n        const LabelCtor = getPieLabel(labelConfig.type);\n        this.labelComponent = new LabelCtor(this, options.label);\n        this.labelComponent.render();\n      }\n    }\n  }\n\n  public getAngleScale() {\n    const { angleField } = this.options;\n    if (angleField) {\n      return this.view.getScaleByField(angleField);\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    super.scale();\n    let scales = {};\n    scales[props.angleField] = {};\n    scales[props.colorField] = { type: 'cat' };\n    scales = deepMix({}, this.config.scales, scales);\n    this.setConfig('scales', scales);\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const key = this.options.angleField;\n    return data.map((item) => ({\n      ...item,\n      [key]: typeof item[key] === 'string' ? Number.parseFloat(item[key] as 'string') : item[key],\n    }));\n  }\n\n  protected axis() {\n    return;\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig: any = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        // @ts-ignore ,\n        innerRadius: props.innerRadius || 0,\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const pie = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [1, props.angleField],\n    });\n    pie.adjust = [{ type: 'stack' }];\n    this.pie = pie;\n    if (props.label) {\n      this.label();\n    }\n    if (props.tooltip && (props.tooltip.fields || props.tooltip.formatter)) {\n      this.geometryTooltip();\n    }\n    this.setConfig('geometry', pie);\n  }\n\n  protected geometryTooltip() {\n    this.pie.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.pie.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.pie.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.pie.tooltip.fields = [this.options.angleField, this.options.colorField];\n      }\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /**  */\n      this.pie.animate = false;\n    }\n  }\n\n  protected annotation() {\n    return;\n  }\n\n  protected parseEvents(eventParser?) {\n    if (eventParser) {\n      super.parseEvents(eventParser);\n    } else {\n      super.parseEvents(EventParser);\n    }\n  }\n\n  private label() {\n    //  g2 label\n    this.pie.label = false;\n  }\n}\n\nregisterPlotType('pie', PieLayer);\n","import { modifyCSS } from '@antv/dom-util';\nimport { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport PieLayer, { PieViewConfig } from '../pie/layer';\nimport * as EventParser from './event';\nimport { LooseMap } from '../../interface/types';\nimport RingStatistic from './component/ring-statistic';\n\nexport interface DonutViewConfig extends PieViewConfig {\n  innerRadius?: number;\n  /**  */\n  statistic?: {\n    visible: boolean;\n    /**    */\n    totalLabel: string;\n    /**  */\n    triggerOn: 'mouseenter';\n    /**  */\n    triggerOff: 'mouseleave';\n    content?: string;\n    htmlContent?: (...args: any) => string;\n  };\n}\n\nexport interface DonutLayerConfig extends DonutViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  ring: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'ring',\n};\n\nexport default class DonutLayer<T extends DonutLayerConfig = DonutLayerConfig> extends PieLayer<T> {\n  public static centralId = 0;\n  public type: string = 'donut';\n  private statistic: any; // \n  private statisticClass: string; // class, class \n\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      radius: 0.8,\n      innerRadius: 0.64,\n      statistic: {\n        visible: true,\n        totalLabel: '',\n        triggerOn: 'mouseenter',\n        triggerOff: 'mouseleave',\n      },\n    });\n  }\n\n  public beforeInit() {\n    super.beforeInit();\n    DonutLayer.centralId++;\n    this.statisticClass = `statisticClassId${DonutLayer.centralId}`;\n    this.adjustLabelDefaultOptions();\n    if (this.options.statistic.visible && this.options.statistic.triggerOn) {\n      this.options.tooltip.visible = false;\n    }\n  }\n\n  public afterRender() {\n    const container = this.canvas.get('container');\n    if (this.statistic) {\n      container.removeChild(this.statistic.wrapperNode);\n    }\n    /** */\n    if (this.options.statistic && this.options.statistic.visible) {\n      const container = this.canvas.get('container');\n      modifyCSS(container, { position: 'relative' });\n      this.statistic = new RingStatistic({\n        container,\n        view: this.view,\n        plot: this,\n        statisticClass: this.statisticClass,\n        ...this.options.statistic,\n      });\n      this.statistic.render();\n      /** */\n      if (this.options.statistic.triggerOn) {\n        this.statistic.triggerOn();\n      }\n    }\n    super.afterRender();\n  }\n\n  public destroy() {\n    if (this.statistic) {\n      this.statistic.destroy();\n    }\n    super.destroy();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig: any = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius,\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  /** @override  label  options */\n  protected adjustLabelDefaultOptions() {\n    const labelConfig = this.options.label;\n    if (labelConfig && labelConfig.type === 'inner') {\n      const labelStyleConfig = (labelConfig.style || {}) as LooseMap;\n      if (!labelStyleConfig.textAlign) {\n        labelStyleConfig.textAlign = 'center';\n      }\n      labelConfig.style = labelStyleConfig;\n      if (!labelConfig.offset) {\n        labelConfig.offset = `${((this.options.innerRadius - 1) / 2) * 100}%`;\n      }\n    }\n  }\n}\n\nregisterPlotType('donut', DonutLayer);\n","import { deepMix, isNil, get, has, find } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ITimeAxis, IValueAxis, DataItem, GraphicStyle } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport Quadrant, { QuadrantConfig } from './components/quadrant';\nimport Trendline, { TrendlineConfig } from './components/trendline';\nimport * as EventParser from './event';\nimport { getComponent } from '../../components/factory';\nimport './theme';\n\nconst G2_GEOM_MAP = {\n  scatter: 'point',\n};\n\nconst PLOT_GEOM_MAP = {\n  point: 'point',\n};\n\nexport interface PointViewConfig extends ViewConfig {\n  /**  */\n  pointStyle?: GraphicStyle | ((...args: any) => GraphicStyle);\n  /**  */\n  colorField?: string | string[];\n  /** x  */\n  xAxis?: ITimeAxis | IValueAxis;\n  /** y  */\n  yAxis?: ITimeAxis | IValueAxis;\n  quadrant?: QuadrantConfig;\n  trendline?: TrendlineConfig;\n}\n\nexport interface ScatterViewConfig extends PointViewConfig {\n  /**  */\n  pointSize?: number | any;\n}\n\nexport interface ScatterLayerConfig extends ScatterViewConfig, LayerConfig {}\n\nexport default class ScatterLayer<T extends ScatterLayerConfig = ScatterLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      pointSize: 4,\n      pointStyle: {\n        lineWidth: 1,\n        strokeOpacity: 1,\n        fillOpacity: 0.95,\n        stroke: '#fff',\n      },\n      xAxis: {\n        nice: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        nice: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: true,\n        },\n      },\n      tooltip: {\n        visible: true,\n        // false  tooltip true  tooltip \n        shared: null,\n        showTitle: false,\n        showMarkers: false,\n        showCrosshairs: false,\n      },\n      label: {\n        visible: false,\n      },\n      shape: 'circle',\n    });\n  }\n\n  public type: string = 'scatter';\n  public points: any;\n  protected quadrant: Quadrant;\n  protected trendline: Trendline;\n\n  public afterRender() {\n    super.afterRender();\n    if (this.quadrant) {\n      this.quadrant.destroy();\n    }\n    if (this.trendline) {\n      this.trendline.destroy();\n    }\n    if (this.options.quadrant && this.options.quadrant.visible) {\n      this.quadrant = new Quadrant({\n        view: this.view,\n        plotOptions: this.options,\n        ...this.options.quadrant,\n      });\n      this.quadrant.render();\n    }\n    if (this.options.trendline && this.options.trendline.visible) {\n      this.trendline = new Trendline({\n        view: this.view,\n        plotOptions: this.options,\n        ...this.options.trendline,\n      });\n      this.trendline.render();\n    }\n  }\n\n  public destroy() {\n    if (this.quadrant) {\n      this.quadrant.destroy();\n      this.quadrant = null;\n    }\n    if (this.trendline) {\n      this.trendline.destroy();\n      this.trendline = null;\n    }\n    super.destroy();\n  }\n\n  private isValidLinearValue(value) {\n    if (isNil(value)) {\n      return false;\n    } else if (Number.isNaN(Number(value))) {\n      return false;\n    }\n    return true;\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const { xField, yField } = this.options;\n    const xAxisType = get(this.options, ['xAxis', 'type'], 'linear');\n    const yAxisType = get(this.options, ['yAxis', 'type'], 'linear');\n    if (xAxisType && yAxisType) {\n      const fiteredData = data\n        .filter((item) => {\n          if (xAxisType === 'linear' && !this.isValidLinearValue(item[xField])) {\n            return false;\n          }\n          if (yAxisType === 'linear' && !this.isValidLinearValue(item[yField])) {\n            return false;\n          }\n          return true;\n        })\n        .map((item) => {\n          return {\n            ...item,\n            [xField]: xAxisType === 'linear' ? Number(item[xField]) : String(item[xField]),\n            [yField]: yAxisType === 'linear' ? Number(item[yField]) : String(item[yField]),\n          };\n        });\n      return fiteredData;\n    }\n\n    return data;\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** x-scale */\n    scales[props.xField] = {};\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** y-scale */\n    scales[props.yField] = {};\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    const timeLineInteraction = find(props.interactions, (interaction) => {\n      return interaction.type === 'timeline';\n    });\n    if (timeLineInteraction && get(timeLineInteraction, 'cfg.key')) {\n      const keyField = timeLineInteraction.cfg.key;\n      if (scales[keyField]) {\n        scales[keyField].key = true;\n      } else {\n        scales[keyField] = { key: true };\n      }\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    return;\n  }\n\n  protected annotation() {\n    return;\n  }\n\n  protected addGeometry() {\n    const points = getGeom('point', 'circle', {\n      plot: this,\n    });\n    this.points = points;\n    if (this.options.tooltip && this.options.tooltip.visible) {\n      const { showTitle, titleField } = this.options.tooltip;\n      this.extractTooltip();\n      this.setConfig('tooltip', {\n        showTitle,\n        title: showTitle ? titleField : undefined,\n        ...this.options.tooltip,\n      } as any);\n    }\n    if (this.options.label) {\n      this.label();\n    }\n    this.setConfig('geometry', points);\n  }\n\n  protected label() {\n    const props = this.options;\n\n    if (props.label.visible === false) {\n      if (this.points) {\n        this.points.label = false;\n      }\n      return;\n    }\n\n    const label = getComponent('label', {\n      fields: props.label.field ? [props.label.field] : [props.yField],\n      ...props.label,\n      plot: this,\n    });\n\n    if (this.points) {\n      this.points.label = label;\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /**  */\n      this.points.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    //  eventParser\n    super.parseEvents(eventParser || EventParser);\n  }\n\n  protected extractTooltip() {\n    this.points.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.points.tooltip.fields = tooltipOptions.fields;\n    } else {\n      this.points.tooltip.fields = [this.options.xField, this.options.yField];\n    }\n    if (tooltipOptions.formatter) {\n      this.points.tooltip.callback = tooltipOptions.formatter;\n      if (this.options.colorField) {\n        this.points.tooltip.fields.push(this.options.colorField);\n      }\n    }\n  }\n}\n\nregisterPlotType('scatter', ScatterLayer);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  point: 'point',\n  trendline: 'trendline',\n  confidence: 'confidence',\n  quadrant: 'quadrant',\n  quadrantLabel: 'quadrant-label',\n  quadrantLine: 'quadrant-line',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","/**\n * @author linhuiw\n * @description \n */\nimport { clone, deepMix } from '@antv/util';\nimport { registerShape } from '@antv/g2';\nimport { IGroup } from '@antv/g-base';\nimport { GaugeViewConfig, GaugeAxis, GaugePivot } from '../../interface';\nimport { getGlobalTheme } from '../../../../theme';\nimport { sortedLastIndex } from '../../../../util/common';\n\n/**\n * \n * \n * \n */\nexport class GaugeShape {\n  uid: any;\n\n  ringRadius: number;\n\n  center: any;\n\n  group: any;\n\n  options: GaugeViewConfig;\n\n  axis: GaugeAxis;\n\n  pivot: GaugePivot;\n\n  type: string;\n\n  constructor(uid: any) {\n    this.uid = uid;\n  }\n\n  setOption(type, options: any) {\n    this.type = type;\n    this.options = options;\n    this.axis = options.axis;\n    this.pivot = options.pivot;\n  }\n\n  render() {\n    const Gauge = this; // eslint-disable-line @typescript-eslint/no-this-alias\n    registerShape('point', 'gauge', {\n      draw(cfg: any, group: IGroup) {\n        this.gauge = {} as any;\n        this.gauge.options = Gauge.options;\n        this.gauge.axis = Gauge.axis;\n        this.gauge.pivot = Gauge.pivot;\n        this.gauge.type = Gauge.type;\n        const gauge = this.gauge;\n        const type = this.gauge.type;\n        const point = cfg.points[0];\n        const center = this.parsePoint({\n          x: 0,\n          y: 0,\n        });\n\n        const target = this.parsePoint({\n          x: point.x || 0,\n          y: 1,\n        });\n\n        gauge.center = center;\n        gauge.group = group;\n\n        const r = { x: center.x - target.x, y: center.y - target.y };\n\n        this.gauge.ringRadius = Math.sqrt(r.x * r.x + r.y * r.y);\n\n        const { starAngle, endAngle } = this.getAngleRange();\n        const currentAngle = point.x * (endAngle - starAngle) + starAngle;\n\n        switch (type) {\n          case 'meterGauge':\n            this.drawBarGauge(currentAngle);\n            if (this.gauge.axis.visible) {\n              this.drawInSideAxis();\n            }\n            break;\n          case 'fanGauge':\n            this.drawGauge(currentAngle);\n            if (this.gauge.axis.visible) {\n              this.drawOutSideAxis();\n            }\n            break;\n          case 'standardGauge':\n          default:\n            this.drawGauge(currentAngle);\n            if (this.gauge.axis.visible) {\n              this.drawAxis();\n            }\n            break;\n        }\n\n        // \n        if (this.gauge.pivot.visible) {\n          this.drawPivot(cfg, group);\n        }\n      },\n\n      drawGauge(currentAngle: number) {\n        const { range } = this.gauge.options;\n        this.drawBottomRing(); // \n\n        if (range && range.length) {\n          this.drawRangeColor();\n        } else {\n          this.drawCurrentRing(currentAngle);\n        }\n      },\n\n      drawRangeColor() {\n        const { min, max, range, color, rangeStyle } = this.gauge.options;\n        const colors = color || getGlobalTheme().colors;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        for (let i = 0; i < range.length; i++) {\n          const start = this.valueToAngle(range[i], config);\n          const end = this.valueToAngle(range[i + 1], config);\n\n          if (end >= start) {\n            const path2 = this.getPath(start, end);\n            const style = deepMix({ fill: colors[i] }, rangeStyle);\n            this.drawRing(path2, style);\n          }\n        }\n      },\n\n      drawBottomRing() {\n        const { starAngle, endAngle } = this.getAngleRange();\n        const backgroundStyle = this.gauge.options.rangeBackgroundStyle;\n        const path = this.getPath(starAngle, endAngle);\n        this.drawRing(path, backgroundStyle);\n      },\n\n      drawCurrentRing(current: number) {\n        const { starAngle } = this.getAngleRange();\n        const { color } = this.gauge.ringStyle;\n        const path3 = this.getPath(starAngle, current);\n        this.drawRing(path3, color);\n      },\n\n      drawInSideAxis() {\n        const { min, max, axis } = this.gauge.options;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        const interval = (max - min) / axis.tickCount;\n        for (let i = 0; i < axis.tickCount; i++) {\n          const startValue = min + i * interval;\n          const angle = this.valueToAngle(startValue + interval / 2, config);\n          this.drawRect(angle, {\n            length: axis.tickLine.length,\n            style: axis.tickLine.style,\n          });\n        }\n      },\n\n      drawAxis() {\n        const axis = this.gauge.axis;\n        const { min, max } = this.gauge.options;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        const interval = (max - min) / (axis.tickCount - 1);\n        for (let i = 0; i < axis.tickCount; i++) {\n          const startValue = min + i * interval;\n          const angle = this.valueToAngle(startValue, config);\n          const tickLineStyle = clone(axis.tickLine.style);\n          if (i % 5 !== 0) {\n            tickLineStyle.lineWidth = tickLineStyle.lineWidth / 2;\n          }\n          this.drawRect(angle, {\n            length: i % 5 === 0 ? axis.tickLine.length : axis.tickLine.length / 2,\n            style: tickLineStyle,\n          });\n        }\n      },\n\n      drawOutSideAxis() {\n        const { axis } = this.gauge;\n        const { min, max } = this.gauge.options;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        const interval = (max - min) / (axis.tickCount - 1);\n        for (let i = 0; i < axis.tickCount; i++) {\n          const startValue = min + i * interval;\n          const angle = this.valueToAngle(startValue, config);\n          this.drawRect(angle, {\n            length: axis.tickLine.length,\n            style: axis.tickLine.style,\n          });\n        }\n      },\n\n      drawBarGauge(current: number) {\n        const { min, max, range, color, rangeStyle, rangeBackgroundStyle } = this.gauge.options;\n        const colors = color || getGlobalTheme().colors;\n        const { starAngle, endAngle } = this.getAngleRange();\n        const config = {\n          min,\n          max,\n          starAngle,\n          endAngle,\n        };\n        const interval = (endAngle - starAngle) / (50 - 1);\n        const offset = interval / 3;\n\n        // 50\n        for (let i = 0; i < 50; i++) {\n          const start = starAngle + i * interval;\n          const path2 = this.getPath(start - offset / 2, start + offset - offset / 2);\n\n          let style = rangeBackgroundStyle;\n          if (range && range.length) {\n            const result1 = range.map((item: any) => {\n              return this.valueToAngle(item, config);\n            });\n\n            const index = sortedLastIndex(result1, start);\n            /**  */\n            const colorIndex = Math.min(index, range.length - 1);\n            style = deepMix({}, { fill: colors[colorIndex - 1] }, rangeStyle) || rangeBackgroundStyle;\n          } else {\n            style = current >= start ? deepMix({}, { fill: color }, rangeStyle) : rangeBackgroundStyle;\n          }\n\n          this.drawRing(path2, style);\n        }\n      },\n\n      getAngleRange() {\n        const { angle } = this.gauge.options;\n        const angleValue = 90 - (360 - angle) * 0.5;\n        const starAngle = ((270 - 90 - angleValue) * Math.PI) / 180;\n        const endAngle = ((270 + 90 + angleValue) * Math.PI) / 180;\n\n        return { starAngle, endAngle };\n      },\n\n      valueToAngle(value: number, config: any) {\n        const { min, max, starAngle, endAngle } = config;\n        if (value === max) {\n          return endAngle;\n        }\n        if (value === min) {\n          return starAngle;\n        }\n        let ratio = (value - min) / (max - min);\n        if (max === min) {\n          ratio = 1;\n        }\n        let angle = ratio * (endAngle - starAngle) + starAngle;\n        angle = Math.max(angle, starAngle);\n        angle = Math.min(angle, endAngle);\n\n        return angle;\n      },\n\n      drawRing(path: string, style: any) {\n        this.gauge.group.addShape('path', {\n          attrs: deepMix(\n            {},\n            {\n              path,\n            },\n            style\n          ),\n        });\n      },\n\n      drawRect(angle: number, param?: any) {\n        const { axis } = this.gauge;\n        const config = { ...axis, ...param };\n        const { offset, length } = config;\n        const center = this.gauge.center;\n\n        let radius;\n        if (offset < 0) {\n          radius = this.gauge.ringRadius - this.gauge.options.rangeSize + offset;\n        } else {\n          radius = this.gauge.ringRadius + offset;\n        }\n\n        const xA1 = radius * Math.cos(angle) + center.x;\n        const yA1 = radius * Math.sin(angle) + center.y;\n\n        const xB1 = (radius + length) * Math.cos(angle) + center.x;\n        const yB1 = (radius + length) * Math.sin(angle) + center.y;\n\n        this.gauge.group.addShape('line', {\n          attrs: deepMix(\n            {},\n            {\n              x1: xA1,\n              y1: yA1,\n              x2: xB1,\n              y2: yB1,\n            },\n            param.style\n          ),\n        });\n      },\n\n      getPath(starAngle: number, endAngle: number) {\n        /* const type = this.gauge.type;\n        const height = get(gauge, 'options.height');\n        const width = get(gauge, 'options.width');*/\n        const center = this.gauge.center;\n        const length = this.gauge.ringRadius;\n        /*let thick;\n         const { minThickness, minThickCanvsSize } = this.gauge.ringStyle;\n        const size = Math.min(width, height);\n        if (type === 'fan' && size < minThickCanvsSize) {\n          thick = length - minThickness;\n        } else {*/\n        const thick = this.gauge.options.rangeSize;\n        //}\n\n        const xA1 = length * Math.cos(starAngle) + center.x;\n        const yA1 = length * Math.sin(starAngle) + center.y;\n        const xA2 = (length - thick) * Math.cos(starAngle) + center.x;\n        const yA2 = (length - thick) * Math.sin(starAngle) + center.y;\n        const xB1 = length * Math.cos(endAngle) + center.x;\n        const yB1 = length * Math.sin(endAngle) + center.y;\n        const xB2 = (length - thick) * Math.cos(endAngle) + center.x;\n        const yB2 = (length - thick) * Math.sin(endAngle) + center.y;\n\n        const largeArcFlag = Math.abs(starAngle - endAngle) > Math.PI ? 1 : 0;\n        return [\n          ['M', xA1, yA1],\n          ['A', length, length, 0, largeArcFlag, 1, xB1, yB1],\n          ['L', xB2, yB2],\n          ['A', length - thick, length - thick, 0, largeArcFlag, 0, xA2, yA2],\n          ['Z'],\n        ];\n      },\n\n      drawPivot(cfg: any) {\n        const { starAngle, endAngle } = this.getAngleRange();\n        const { radius, rangeSize } = this.gauge.options;\n        const pivotConfig = this.gauge.pivot;\n        const bigCircle = pivotConfig.thickness;\n        const smCircle = pivotConfig.thickness / 2.5;\n        const group = this.gauge.group;\n        const point = cfg.points[0];\n        const center = this.parsePoint({\n          x: 0,\n          y: 0,\n        });\n\n        // radius\n        const current = point.x * (endAngle - starAngle) + starAngle;\n        const x = (this.gauge.ringRadius - rangeSize) * radius * Math.cos(current) + this.gauge.center.x;\n        const y = (this.gauge.ringRadius - rangeSize) * radius * Math.sin(current) + this.gauge.center.y;\n\n        const target = {\n          x,\n          y,\n        };\n\n        // \n        if (pivotConfig.base.visible) {\n          group.addShape('circle', {\n            attrs: deepMix(\n              {},\n              {\n                x: center.x,\n                y: center.y,\n                r: pivotConfig.base.size ? pivotConfig.base.size / 2 : bigCircle * 2.2,\n              },\n              pivotConfig.base.style\n            ),\n          });\n        }\n        // \n        if (pivotConfig.pointer.visible) {\n          const dirVec = { x: center.x - target.x, y: center.y - target.y };\n\n          const length = Math.sqrt(dirVec.x * dirVec.x + dirVec.y * dirVec.y);\n          dirVec.x *= 1 / length;\n          dirVec.y *= 1 / length;\n\n          const angle1 = -Math.PI / 2;\n          const x1 = Math.cos(angle1) * dirVec.x - Math.sin(angle1) * dirVec.y;\n          const y1 = Math.sin(angle1) * dirVec.x + Math.cos(angle1) * dirVec.y;\n\n          const angle2 = Math.PI / 2;\n          const x2 = Math.cos(angle2) * dirVec.x - Math.sin(angle2) * dirVec.y;\n          const y2 = Math.sin(angle2) * dirVec.x + Math.cos(angle2) * dirVec.y;\n          const path = [\n            ['M', target.x + x1 * smCircle, target.y + y1 * smCircle],\n            ['L', center.x + x1 * bigCircle, center.y + y1 * bigCircle],\n            ['L', center.x + x2 * bigCircle, center.y + y2 * bigCircle],\n            ['L', target.x + x2 * smCircle, target.y + y2 * smCircle],\n            ['Z'],\n          ];\n\n          group.addShape('path', {\n            attrs: deepMix(\n              {},\n              {\n                path,\n              },\n              pivotConfig.pointer.style\n            ),\n          });\n\n          group.addShape('circle', {\n            attrs: {\n              x: target.x,\n              y: target.y,\n              r: smCircle,\n              fill: pivotConfig.pointer.style.fill,\n            },\n          });\n          group.addShape('circle', {\n            attrs: {\n              x: center.x,\n              y: center.y,\n              r: bigCircle,\n              fill: pivotConfig.pointer.style.fill,\n            },\n          });\n        }\n\n        if (pivotConfig.pin.visible) {\n          // \n          group.addShape('circle', {\n            attrs: deepMix(\n              {},\n              {\n                x: center.x,\n                y: center.y,\n                r: smCircle / 1.2,\n              },\n              pivotConfig.pin.style\n            ),\n          });\n        }\n      },\n    } as any);\n  }\n}\n","import { isArray, mix, hasKey, each, has, isFunction, clone, deepMix, isString, isNumber } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport Marker, { MarkerConfig } from './component/marker';\nimport * as EventParser from './event';\nimport { GraphicStyle } from '../../interface/config';\n\nexport interface ProgressViewConfig extends TinyViewConfig {\n  progressStyle?: GraphicStyle;\n  percent?: number;\n  size?: number;\n  marker?: MarkerConfig[];\n  /** @ignore */\n  barSize?: number;\n  /** @ignore */\n  barStyle?: GraphicStyle;\n  /** @ignore */\n  stackField?: string;\n}\n\ninterface UpdateConfig {\n  percent: number;\n  color?: string | string[];\n  style?: {} | {}[];\n  marker?: MarkerConfig[];\n}\n\nexport type ProgressLayerConfig = ProgressViewConfig;\n\nconst G2_GEOM_MAP = {\n  progress: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'progress',\n};\n\nconst DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nexport default class ProgressLayer<T extends ProgressLayerConfig = ProgressLayerConfig> extends TinyLayer<T> {\n  /**\n   * \n   */\n\n  public type: string = 'progress';\n  protected markers: MarkerConfig[];\n  private isEntered = false;\n\n  public processProps() {\n    let props = this.options;\n    props.data = this.processData();\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barSize: props.size ? props.size : this.getSize(),\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR,\n    } as any;\n    props = mix(props, cfg);\n  }\n\n  public init() {\n    this.processProps();\n    super.init();\n  }\n\n  public beforeInit() {\n    const { percent } = this.options;\n    if (!isNumber(percent)) {\n      throw new Error('Percent value is required, and the type of percent must be Number.');\n    }\n  }\n\n  public update(cfg: UpdateConfig) {\n    const props = this.options;\n    if (hasKey(cfg, 'percent')) {\n      props.percent = cfg.percent;\n      this.changeData(this.processData());\n    }\n\n    if (cfg.style) {\n      this.styleUpdateAnimation(cfg.style);\n      this.updateColorConfigByStyle(cfg.style);\n    }\n\n    if (cfg.color) {\n      let style;\n      if (isArray(cfg.color)) {\n        this.options.color = cfg.color;\n        style = [{ fill: cfg.color[0] }, { fill: cfg.color[1] }];\n      } else {\n        this.options.color[0] = cfg.color;\n        style = { fill: cfg.color };\n      }\n      this.styleUpdateAnimation(style);\n    }\n\n    if (cfg.marker) {\n      this.updateMarkers(cfg.marker);\n      this.options.marker = cfg.marker;\n    }\n  }\n\n  public destroy() {\n    if (this.markers && this.markers.length > 0) {\n      each(this.markers, (marker) => {\n        marker.destroy();\n      });\n      this.markers = [];\n    }\n    super.destroy();\n  }\n\n  public afterRender() {\n    if (this.options.marker && !this.markers) {\n      this.markers = [];\n      each(this.options.marker, (cfg) => {\n        const markerCfg = mix(\n          {\n            canvas: this.canvas,\n            view: this.view,\n            progressSize: this.options.barSize,\n          },\n          cfg\n        );\n        const marker = new Marker(markerCfg);\n        this.markers.push(marker);\n      });\n    }\n    const progressContainer = this.view.geometries[0].container;\n    const bbox = progressContainer.getBBox();\n    const rect = progressContainer.addShape('rect', {\n      attrs: {\n        width: bbox.width,\n        height: bbox.height,\n        x: bbox.minX,\n        y: bbox.minY,\n        fill: 'rgba(0,0,0,0)',\n      },\n    });\n    this.canvas.draw();\n\n    rect.on('mouseenter', (ev) => {\n      this.isEntered = true;\n      this.view.emit('progress:mouseenter', ev);\n    });\n\n    rect.on('mouseleave', (ev) => {\n      this.isEntered = false;\n      this.view.emit('progress:mouseleave', ev);\n    });\n    const canvasDom = this.canvas.get('container');\n    canvasDom.addEventListener('mouseleave', (ev) => {\n      if (this.isEntered) {\n        this.view.emit('progress:mouseleave', ev);\n        this.isEntered = false;\n      }\n    });\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    this.setConfig('coordinate', {\n      actions: [['transpose']],\n    });\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    bar.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    if (has(props, 'animation')) {\n      bar.animate = props.animation;\n    }\n    this.setConfig('geometry', bar);\n  }\n\n  protected parseEvents(eventParser?) {\n    if (eventParser) {\n      super.parseEvents(eventParser);\n    } else {\n      super.parseEvents(EventParser);\n    }\n  }\n\n  protected parseColorProps(props) {\n    let colorOption;\n    if (props.color) {\n      if (isFunction(props.color)) {\n        colorOption = props.color(props.percent);\n      } else {\n        colorOption = props.color;\n      }\n      if (isString(colorOption)) {\n        const color = clone(DEFAULT_COLOR);\n        color[0] = colorOption;\n        return color;\n      } else {\n        return colorOption;\n      }\n    }\n    return props.color;\n  }\n\n  protected processData() {\n    const props = this.options;\n    const data = [\n      { type: 'current', value: props.percent },\n      { type: 'rest', value: 1.0 - props.percent },\n    ];\n    return data;\n  }\n\n  protected updateMarkers(markerCfg: MarkerConfig[]) {\n    const markerLength = markerCfg.length;\n    const animationOptions = this.getUpdateAnimationOptions();\n    // marker diff\n    each(this.markers, (marker, index) => {\n      if (index > markerLength - 1) {\n        marker.destroy();\n      } else {\n        marker.update(markerCfg[index], animationOptions.duration, animationOptions.easing);\n      }\n    });\n    // add new markers\n    if (this.markers.length < markerLength) {\n      const startIndex = this.markers.length;\n      for (let i = startIndex; i < markerLength; i++) {\n        const cfg = deepMix(\n          {},\n          {\n            canvas: this.canvas,\n            view: this.view,\n            progressSize: this.options.barSize,\n          },\n          markerCfg[i]\n        );\n        const marker = new Marker(cfg);\n        this.markers.push(marker);\n      }\n    }\n  }\n\n  private getSize() {\n    const { height } = this;\n    if (height >= 50) {\n      return 10;\n    }\n    return 4;\n  }\n\n  private styleUpdateAnimation(style) {\n    // styleanimation\n    const { duration, easing } = this.getUpdateAnimationOptions();\n    // get geometry shapes\n    const progressShapes = [];\n    const { view } = this;\n    const geometry = view.geometries;\n    each(geometry, (geom) => {\n      if (geom.type === 'interval') {\n        const elements = geom.elements;\n        each(elements, (ele) => {\n          progressShapes.push(...ele.shape);\n        });\n      }\n    });\n    if (isArray(style)) {\n      each(style, (s, index) => {\n        progressShapes[index].animate(s, duration, easing);\n      });\n    } else {\n      progressShapes[0].animate(style, duration, easing);\n    }\n  }\n\n  private getUpdateAnimationOptions() {\n    let duration = 450;\n    let easing = 'easeQuadInOut';\n    const animationOptions: any = this.options.animation;\n    if (animationOptions && animationOptions.update) {\n      if (animationOptions.update.duration) {\n        duration = animationOptions.update.duration;\n      }\n      if (animationOptions.update.easing) {\n        easing = animationOptions.update.easing;\n      }\n    }\n    return { duration, easing };\n  }\n\n  private updateColorConfigByStyle(style) {\n    if (isArray(style)) {\n      each(style, (s, index) => {\n        if (s.fill) {\n          this.options.color[index] = s.fill;\n        }\n      });\n    } else if (style.fill) {\n      this.options.color[0] = style.fill;\n    }\n  }\n}\n\nregisterPlotType('progress', ProgressLayer);\n","import { clone, deepMix, each, hasKey, isString, mix, isArray } from '@antv/util';\nimport { getScale } from '@antv/scale';\nimport TextDescription from '../components/description';\nimport BBox from '../util/bbox';\nimport Layer, { LayerConfig } from '../base/layer';\nimport ViewLayer from '../base/view-layer';\nimport { isTextUsable } from '../util/common';\nimport ThemeController from '../base/controller/theme';\nimport { ComboViewConfig } from './util/interface';\nimport { DataItem } from '../interface/config';\nimport { getGlobalTheme } from '../theme';\n\nconst LEGEND_MARGIN = 5;\n\nexport interface IComboViewLayer extends ComboViewConfig, LayerConfig {}\n\nexport default abstract class ComboViewLayer<T extends IComboViewLayer = IComboViewLayer> extends Layer<T> {\n  public static getDefaultOptions(): Partial<ComboViewConfig> {\n    return {\n      title: {\n        visible: false,\n        alignTo: 'left',\n        text: '',\n      },\n      description: {\n        visible: false,\n        text: '',\n        alignTo: 'left',\n      },\n    };\n  }\n\n  public initialOptions: T;\n  public title: TextDescription;\n  public description: TextDescription;\n  public viewRange: BBox;\n  public theme: any;\n  public type: string;\n  protected themeController: ThemeController;\n  protected geomLayers: ViewLayer[] = [];\n  protected colors: string[];\n  protected legends: any[] = [];\n  protected requiredField: string[] = ['xField', 'yField'];\n\n  constructor(props: T) {\n    super(props);\n    this.options = this.getOptions(props);\n    this.initialOptions = deepMix({}, props);\n    this.themeController = new ThemeController();\n  }\n\n  public getOptions(props: Partial<T>): T {\n    const curOptions = this.options || {};\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions(props);\n    return deepMix({}, options, defaultOptions, curOptions, props);\n  }\n\n  public checkData() {\n    const { data, xField, yField } = this.options;\n    // 1: \n    for (let i = 0; i < this.requiredField.length; i++) {\n      const field = this.requiredField[i];\n      if (!hasKey(this.options, field)) {\n        return false;\n      }\n    }\n    // 2: yField\n    if (!isArray(yField) || yField.length < 2) {\n      return false;\n    }\n    // 3:data data:[]\n    if (!isArray(data) || data.length === 0) {\n      return false;\n    }\n    // 4:  data:[[],[]]\n    if (data[0]?.length === 0 && data[1]?.length === 0) {\n      return false;\n    }\n    // 5 data:[[],[{type:'a',value:10}]\n    each(data, (d, index) => {\n      if (!isArray(d) || d.length === 0) {\n        const mockData = this.getMockData(index);\n        data[index] = mockData;\n      }\n    });\n    // 6: xField\n    if (!data[0][0][xField] || !data[1][0][xField]) {\n      return false;\n    }\n    return true;\n  }\n\n  public init() {\n    super.init();\n    this.theme = this.themeController.getTheme(this.options as any, this.type);\n    this.drawTitle();\n    this.drawDescription();\n  }\n\n  public updateConfig(cfg: Partial<T>) {\n    this.doDestroy();\n    this.options = this.getOptions(cfg);\n    this.processOptions(this.options);\n  }\n\n  public changeData(data: DataItem[][]) {\n    if ((data && data.length < 2) || !isArray(data[0])) {\n      return;\n    }\n    each(this.geomLayers, (layer, index) => {\n      layer.changeData(data[index]);\n    });\n  }\n\n  public changeDataByIndex(data, index) {\n    if (isArray(data[0])) {\n      return;\n    }\n    const geomLayer = this.geomLayers[index];\n    geomLayer.changeData(data);\n  }\n\n  protected doDestroy() {\n    each(this.geomLayers, (layer) => {\n      layer.doDestroy();\n    });\n    this.geomLayers = [];\n    each(this.legends, (legend) => {\n      legend.destroy();\n    });\n    this.legends = [];\n  }\n\n  protected createLayer(LayerCtr, data, config) {\n    const viewRange = this.getViewRange();\n    const layer = new LayerCtr({\n      canvas: this.canvas,\n      container: this.container,\n      x: viewRange.minX,\n      y: viewRange.minY,\n      width: viewRange.width,\n      height: viewRange.height,\n      data,\n      ...config,\n    });\n    this.geomLayers.push(layer);\n    return layer;\n  }\n\n  protected yAxis(index: number) {\n    const { yAxis } = this.options;\n    const config = index === 0 ? yAxis.leftConfig : yAxis.rightConfig;\n    const colorValue = this.colors[index];\n    const yAxisConfig = clone(config);\n    const styleMap = {\n      title: 'stroke',\n      line: 'stroke',\n      label: 'fill',\n      tickLine: 'stroke',\n    };\n    if (config.visible && config.colorMapping) {\n      each(yAxisConfig, (config, name) => {\n        if (!isString(config) && hasKey(styleMap, name)) {\n          const styleKey = styleMap[name];\n          if (!config.style) {\n            config.style = {};\n          }\n          config.style[styleKey] = colorValue;\n        }\n      });\n    }\n    if (!config.visible) {\n      yAxisConfig.title.visible = false;\n      yAxisConfig.tickLine.visible = false;\n      yAxisConfig.label.visible = false;\n      yAxisConfig.line.visible = false;\n      yAxisConfig.visible = true;\n    }\n    const yAxisGlobalConfig = this.getYAxisGlobalConfig();\n\n    return deepMix({}, yAxisGlobalConfig, yAxisConfig);\n  }\n\n  protected getTicks() {\n    const { yAxis } = this.options;\n    const leftScaleData = this.getScaleData(0);\n    // ticks\n    const Scale = getScale('linear');\n    const linearScale = new Scale(\n      deepMix(\n        {},\n        {\n          min: 0,\n          max: leftScaleData.max,\n          nice: true,\n          values: leftScaleData.values,\n        },\n        {\n          tickCount: yAxis.tickCount,\n        }\n      )\n    );\n    const tickCount = linearScale.ticks.length;\n    // ticks\n    const max = yAxis.max ? linearScale.max : this.getScaleData(1).max;\n    const tickInterval = max / (tickCount - 1);\n    const ticks = [];\n    for (let i = 0; i < tickCount; i++) {\n      let tickValue = i * tickInterval;\n      if (!Number.isInteger(tickValue)) {\n        tickValue = parseFloat(tickValue.toFixed(1));\n      }\n      ticks.push(tickValue);\n    }\n    return ticks;\n  }\n\n  protected getScaleData(index: number) {\n    const { data, yField, yAxis } = this.options;\n    const values = [];\n    each(data[index], (d) => {\n      values.push(d[yField[index]]);\n    });\n    values.sort((a, b) => a - b);\n    const min = values[0];\n    const max = yAxis.max ? yAxis.max : values[values.length - 1];\n    return { min, max, values };\n  }\n\n  protected getDataByXField(value: number | string, index: number) {\n    const { data, xField } = this.options;\n    const dataSource = data[index];\n    return dataSource.filter((d) => {\n      return d[xField] === value;\n    });\n  }\n\n  protected getYAxisGlobalConfig() {\n    const { min, max, tickCount } = this.options.yAxis;\n    return { min, max, tickCount };\n  }\n\n  protected adjustLayout() {\n    const { bleeding } = getGlobalTheme();\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](this.options);\n        }\n      });\n    }\n    const viewRange = this.getViewRange();\n    const leftPadding = this.geomLayers[0].options.padding;\n    const rightPadding = this.geomLayers[1].options.padding;\n    // legendHeightpadding\n    let legendHeight = 0;\n    let legendABBox;\n    let legendBBBox;\n    if (this.options.legend?.visible) {\n      legendABBox = this.legends[0].getLayoutBBox();\n      legendBBBox = this.legends[1].getLayoutBBox();\n      legendHeight = legendABBox.height + LEGEND_MARGIN * 2;\n    }\n\n    // padding\n    const uniquePadding = [leftPadding[0] + legendHeight, rightPadding[1], rightPadding[2], leftPadding[3]];\n    this.geomLayers[0].updateConfig({\n      padding: uniquePadding,\n    });\n    this.geomLayers[0].render();\n    this.geomLayers[1].updateConfig({\n      padding: uniquePadding,\n    });\n    this.geomLayers[1].render();\n    // legend\n    if (this.options.legend?.visible) {\n      this.legends[0].setLocation({\n        x: bleeding[3],\n        y: viewRange.minY + LEGEND_MARGIN,\n      });\n      this.legends[1].setLocation({\n        x: viewRange.maxX - bleeding[1] - legendBBBox.width,\n        y: viewRange.minY + LEGEND_MARGIN,\n      });\n    }\n  }\n\n  protected legendFilter(index) {\n    const legend = this.legends[index];\n    const legend_group = legend.get('group');\n    legend_group.on('click', () => {\n      const item = legend.get('items')[0];\n      if (!item.unchecked) {\n        legend.setItemState(item, 'unchecked', true);\n        this.hideLayer(index);\n      } else {\n        legend.setItemState(item, 'unchecked', false);\n        this.showLayer(index);\n      }\n    });\n  }\n\n  protected hideLayer(index) {\n    const layer = this.geomLayers[index];\n    const field = this.options.yField[index];\n    // layeryAxisgeometry\n    const { view } = layer;\n    const axisContainer = this.getYAxisContainer(view, field);\n    if (axisContainer) {\n      axisContainer.set('visible', false);\n    }\n    this.setGeometryVisibility(view, false);\n    this.canvas.draw();\n  }\n\n  protected showLayer(index) {\n    const layer = this.geomLayers[index];\n    const field = this.options.yField[index];\n    const { view } = layer;\n    const axisContainer = this.getYAxisContainer(view, field);\n    if (axisContainer) {\n      axisContainer.set('visible', true);\n    }\n    this.setGeometryVisibility(view, true);\n    this.canvas.draw();\n  }\n\n  protected setGeometryVisibility(view, show) {\n    each(view.geometries, (geom) => {\n      const { container, labelsContainer } = geom;\n      if (container) {\n        container.set('visible', show);\n      }\n      if (labelsContainer) {\n        labelsContainer.set('visible', show);\n      }\n    });\n  }\n\n  protected getYAxisContainer(view, field) {\n    let container;\n    const axisCtr = view.controllers.filter((ctr) => {\n      return hasKey(ctr, 'axisContainer');\n    })[0];\n    if (axisCtr) {\n      const ctr = axisCtr as any;\n      const axisGroups = ctr.axisContainer.get('children');\n      each(axisGroups, (g) => {\n        const axisField = g.get('component').get('field');\n        if (axisField === field) {\n          container = g;\n        }\n      });\n    }\n    return container;\n  }\n\n  protected getUnCheckedValue() {\n    const value = [];\n    each(this.legends, (legend) => {\n      const uncheckedItems = legend.getItemsByState('unchecked');\n      each(uncheckedItems, (item) => {\n        value.push(item.name);\n      });\n    });\n    return value;\n  }\n\n  protected drawTitle(): void {\n    const props = this.options;\n    const range = this.layerBBox;\n    if (this.title) {\n      this.title.destroy();\n      this.title = null;\n    }\n\n    if (isTextUsable(props.title)) {\n      const width = this.width;\n      const theme = this.theme;\n      const title = new TextDescription({\n        leftMargin: range.minX + theme.title.padding[3],\n        rightMargin: range.maxX - theme.title.padding[1],\n        topMargin: range.minY + theme.title.padding[0],\n        text: props.title.text,\n        style: mix(theme.title, props.title.style),\n        wrapperWidth: width - theme.title.padding[3] - theme.title.padding[1],\n        container: this.container.addGroup() as any,\n        theme,\n        index: isTextUsable(props.description) ? 0 : 1,\n        plot: this as any,\n        alignTo: props.title.alignTo,\n        name: 'title',\n      });\n      this.title = title;\n    }\n  }\n\n  protected drawDescription(): void {\n    const props = this.options;\n    const range = this.layerBBox;\n    if (this.description) {\n      this.description.destroy();\n      this.description = null;\n    }\n\n    if (isTextUsable(props.description)) {\n      const width = this.width;\n      const theme = this.theme;\n      let topMargin = 0;\n\n      if (this.title) {\n        const titleBBox = this.title.getBBox();\n        topMargin += titleBBox.minY + titleBBox.height;\n        topMargin += theme.description.padding[0];\n      } else {\n        // titletitlepadding\n        topMargin += range.minY + theme.title.padding[0];\n      }\n\n      const description = new TextDescription({\n        leftMargin: range.minX + theme.description.padding[3],\n        topMargin,\n        rightMargin: range.maxX - theme.title.padding[1],\n        text: props.description.text,\n        style: mix(theme.description, props.description.style),\n        wrapperWidth: width - theme.description.padding[3] - theme.description.padding[1],\n        container: this.container.addGroup() as any,\n        theme,\n        index: 1,\n        plot: this as any,\n        alignTo: props.description.alignTo,\n        name: 'description',\n      });\n      this.description = description;\n    }\n  }\n\n  protected getViewRange() {\n    if (!this.layerBBox) {\n      this.layerBBox = new BBox(this.x, this.y, this.width, this.height);\n    }\n    let viewMinX = this.layerBBox.minX;\n    let viewMaxX = this.layerBBox.maxX;\n    let viewMinY = this.layerBBox.minY;\n    let viewMaxY = this.layerBBox.maxY;\n    const components = [this.title, this.description];\n\n    each(components, (component) => {\n      if (component) {\n        const { position } = component;\n        const { minX, maxX, minY, maxY } = component.getBBox();\n        if (maxY >= viewMinY && maxY <= viewMaxY && position === 'top') {\n          viewMinY = maxY;\n        }\n        if (minY >= viewMinY && minY <= viewMaxY && position === 'bottom') {\n          viewMaxY = minY;\n        }\n        if (maxX > viewMinX && maxX <= viewMaxX && position === 'left') {\n          viewMinX = maxX;\n        }\n        if (minX >= viewMinX && maxX <= viewMaxX && position === 'right') {\n          viewMaxX = minX;\n        }\n      }\n    });\n    return new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  }\n\n  protected getMockData(index: number) {\n    const { xField, yField } = this.options as any;\n    const mock = {};\n    mock[xField] = 'null';\n    mock[yField[index]] = 0;\n    return [mock];\n  }\n}\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexports.BrowserInfo = BrowserInfo;\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexports.NodeInfo = NodeInfo;\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexports.SearchBotDeviceInfo = SearchBotDeviceInfo;\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexports.BotInfo = BotInfo;\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexports.ReactNativeInfo = ReactNativeInfo;\n;\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /Edg\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nfunction detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nexports.detect = detect;\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nfunction browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexports.browserName = browserName;\nfunction parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, versionParts.join('.'), os);\n}\nexports.parseUserAgent = parseUserAgent;\nfunction detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexports.detectOS = detectOS;\nfunction getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nexports.getNodeVersion = getNodeVersion;\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n    }\n    return BrowserInfo;\n}());\nexports.BrowserInfo = BrowserInfo;\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexports.NodeInfo = NodeInfo;\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexports.BotInfo = BotInfo;\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['vivaldi', /Vivaldi\\/([0-9\\.]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /Edg\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n    ['Search Bot', SEARCHBOT_OS_REGEX],\n];\nfunction detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nexports.detect = detect;\nfunction parseUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    var matchedRule = ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    return new BrowserInfo(name, versionParts.join('.'), detectOS(ua));\n}\nexports.parseUserAgent = parseUserAgent;\nfunction detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.test(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexports.detectOS = detectOS;\nfunction getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nexports.getNodeVersion = getNodeVersion;\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar point_in_polygon_1 = require(\"./point-in-polygon\");\nvar get_line_intersect_1 = require(\"./get-line-intersect\");\nvar util_1 = require(\"@antv/util\");\nfunction parseToLines(points) {\n    var lines = [];\n    var count = points.length;\n    for (var i = 0; i < count - 1; i++) {\n        var point = points[i];\n        var next = points[i + 1];\n        lines.push({\n            from: {\n                x: point[0],\n                y: point[1]\n            },\n            to: {\n                x: next[0],\n                y: next[1]\n            }\n        });\n    }\n    if (lines.length > 1) {\n        var first = points[0];\n        var last = points[count - 1];\n        lines.push({\n            from: {\n                x: last[0],\n                y: last[1]\n            },\n            to: {\n                x: first[0],\n                y: first[1]\n            }\n        });\n    }\n    return lines;\n}\nfunction lineIntersectPolygon(lines, line) {\n    var isIntersect = false;\n    util_1.each(lines, function (l) {\n        if (get_line_intersect_1.default(l.from, l.to, line.from, line.to)) {\n            isIntersect = true;\n            return false;\n        }\n    });\n    return isIntersect;\n}\nfunction getBBox(points) {\n    var xArr = points.map(function (p) { return p[0]; });\n    var yArr = points.map(function (p) { return p[1]; });\n    return {\n        minX: Math.min.apply(null, xArr),\n        maxX: Math.max.apply(null, xArr),\n        minY: Math.min.apply(null, yArr),\n        maxY: Math.max.apply(null, yArr)\n    };\n}\nfunction intersectBBox(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\nfunction isPolygonsIntersect(points1, points2) {\n    //  false\n    if (points1.length < 2 || points2.length < 2) {\n        return false;\n    }\n    var bbox1 = getBBox(points1);\n    var bbox2 = getBBox(points2);\n    // \n    if (!intersectBBox(bbox1, bbox2)) {\n        return false;\n    }\n    var isIn = false;\n    // \n    util_1.each(points2, function (point) {\n        if (point_in_polygon_1.default(points1, point[0], point[1])) {\n            isIn = true;\n            return false;\n        }\n    });\n    if (isIn) {\n        return true;\n    }\n    // \n    util_1.each(points1, function (point) {\n        if (point_in_polygon_1.default(points2, point[0], point[1])) {\n            isIn = true;\n            return false;\n        }\n    });\n    if (isIn) {\n        return true;\n    }\n    var lines1 = parseToLines(points1);\n    var lines2 = parseToLines(points2);\n    var isIntersect = false;\n    util_1.each(lines2, function (line) {\n        if (lineIntersectPolygon(lines1, line)) {\n            isIntersect = true;\n            return false;\n        }\n    });\n    return isIntersect;\n}\nexports.default = isPolygonsIntersect;\n//# sourceMappingURL=is-polygons-intersect.js.map","// \nexport * from './interface/config';\nexport { default as Layer, LayerConfig } from './base/layer';\nexport { default as ViewLayer, ViewConfig } from './base/view-layer';\nexport { default as Base, PlotConfig } from './base/plot';\n\n// \nexport * from './plots';\n\n// MINI \nexport { TinyLayerConfig } from './sparkline/tiny-layer';\nexport { default as Progress, ProgressConfig } from './sparkline/progress';\nexport { default as RingProgress, RingProgressConfig } from './sparkline/ring-progress';\nexport { default as TinyColumn, TinyColumnConfig } from './sparkline/tiny-column';\nexport { default as TinyArea, TinyAreaConfig } from './sparkline/tiny-area';\nexport { default as TinyLine, TinyLineConfig } from './sparkline/tiny-line';\n\n// \nexport { default as DualLine, DualLineConfig } from './combo/dual-line';\nexport { default as ColumnLine, ColumnLineConfig } from './combo/column-line';\nexport { default as GroupedColumnLine, GroupedColumnLineConfig } from './combo/groupedColumn-line';\nexport { default as StackedColumnLine, StackedColumnLineConfig } from './combo/stackedColumn-line';\n\n// \nexport { registerTheme, registerGlobalTheme } from './theme';\nexport { registerResponsiveConstraint, IConstraint } from './util/responsive/constraints';\nexport { registerResponsiveRule } from './util/responsive/rules';\nexport { registerResponsiveTheme, getResponsiveTheme } from './util/responsive/theme';\n\nexport { default as StateManager } from './util/state-manager';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cache = new Map();\n/**\n * \n * @param type \n * @param method \n */\nfunction register(type, method) {\n    cache.set(type, method);\n}\nexports.register = register;\n/**\n * \n * @param type \n */\nfunction getMethod(type) {\n    return cache.get(type);\n}\nexports.getMethod = getMethod;\n//# sourceMappingURL=register.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height;\n    return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=rect.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var _a = shape.attr(), x = _a.x, y = _a.y, r = _a.r;\n    return {\n        x: x - r,\n        y: y - r,\n        width: r * 2,\n        height: r * 2,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=circle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nvar util_2 = require(\"./util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    var _a = util_1.getBBoxByArray(xArr, yArr), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = util_2.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=polyline.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return util_1.getBBoxByArray(xArr, yArr);\n}\nexports.default = default_1;\n//# sourceMappingURL=polygon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar text_1 = require(\"../util/text\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        //  font\n        font = text_1.assembleFont(attrs);\n    }\n    var width = text_1.getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // width\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = text_1.getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // left,  bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\nexports.default = default_1;\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar quadratic_1 = require(\"@antv/g-math/lib/quadratic\");\nvar cubic_1 = require(\"@antv/g-math/lib/cubic\");\nvar arc_1 = require(\"@antv/g-math/lib/arc\");\nvar path_2_segments_1 = require(\"@antv/path-util/lib/path-2-segments\");\nvar is_number_equal_1 = require(\"@antv/util/lib/is-number-equal\");\nvar util_1 = require(\"./util\");\nfunction getPathBox(segments, lineWidth) {\n    var xArr = [];\n    var yArr = [];\n    var segmentsWithAngle = [];\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint;\n        var box = void 0;\n        switch (segment.command) {\n            case 'Q':\n                box = quadratic_1.default.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4]);\n                break;\n            case 'C':\n                box = cubic_1.default.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6]);\n                break;\n            case 'A':\n                var arcParams = segment.arcParams;\n                box = arc_1.default.box(arcParams.cx, arcParams.cy, arcParams.rx, arcParams.ry, arcParams.xRotation, arcParams.startAngle, arcParams.endAngle);\n                break;\n            default:\n                xArr.push(currentPoint[0]);\n                yArr.push(currentPoint[1]);\n                break;\n        }\n        if (box) {\n            segment.box = box;\n            xArr.push(box.x, box.x + box.width);\n            yArr.push(box.y, box.y + box.height);\n        }\n        if (lineWidth && (segment.command === 'L' || segment.command === 'M') && segment.prePoint && segment.nextPoint) {\n            segmentsWithAngle.push(segment);\n        }\n    }\n    // bbox calculation should ignore NaN for path attribute\n    // ref: https://github.com/antvis/g/issues/210\n    xArr = xArr.filter(function (item) { return !Number.isNaN(item); });\n    yArr = yArr.filter(function (item) { return !Number.isNaN(item); });\n    var minX = Math.min.apply(null, xArr);\n    var minY = Math.min.apply(null, yArr);\n    var maxX = Math.max.apply(null, xArr);\n    var maxY = Math.max.apply(null, yArr);\n    if (segmentsWithAngle.length === 0) {\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    for (var i = 0; i < segmentsWithAngle.length; i++) {\n        var segment = segmentsWithAngle[i];\n        var currentPoint = segment.currentPoint;\n        var extra = void 0;\n        if (currentPoint[0] === minX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minX = minX - extra.xExtra;\n        }\n        else if (currentPoint[0] === maxX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxX = maxX + extra.xExtra;\n        }\n        if (currentPoint[1] === minY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minY = minY - extra.yExtra;\n        }\n        else if (currentPoint[1] === maxY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxY = maxY + extra.yExtra;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction getExtraFromSegmentWithAngle(segment, lineWidth) {\n    var prePoint = segment.prePoint, currentPoint = segment.currentPoint, nextPoint = segment.nextPoint;\n    var currentAndPre = Math.pow(currentPoint[0] - prePoint[0], 2) + Math.pow(currentPoint[1] - prePoint[1], 2);\n    var currentAndNext = Math.pow(currentPoint[0] - nextPoint[0], 2) + Math.pow(currentPoint[1] - nextPoint[1], 2);\n    var preAndNext = Math.pow(prePoint[0] - nextPoint[0], 2) + Math.pow(prePoint[1] - nextPoint[1], 2);\n    //  currentPoint \n    var currentAngle = Math.acos((currentAndPre + currentAndNext - preAndNext) / (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)));\n    //  0  PI \n    // :  0  0 \n    if (!currentAngle || Math.sin(currentAngle) === 0 || is_number_equal_1.default(currentAngle, 0)) {\n        return {\n            xExtra: 0,\n            yExtra: 0,\n        };\n    }\n    var xAngle = Math.abs(Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]));\n    var yAngle = Math.abs(Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]));\n    // \n    xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n    yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n    // \n    // \n    var extra = {\n        // \n        xExtra: Math.cos(currentAngle / 2 - xAngle) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n        // \n        yExtra: Math.cos(yAngle - currentAngle / 2) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n    };\n    return extra;\n}\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var path = attrs.path, stroke = attrs.stroke;\n    var lineWidth = stroke ? attrs.lineWidth : 0; //  stroke lineWidth \n    var segments = shape.get('segments') || path_2_segments_1.default(path);\n    var _a = getPathBox(segments, lineWidth), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = util_1.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar ellipse_1 = require(\"./ellipse\");\n//  x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.cos(xRotation) * Math.sin(angle) - ry * Math.sin(xRotation) * Math.cos(angle);\n}\n//  y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return -1 * rx * Math.sin(xRotation) * Math.sin(angle) + ry * Math.cos(xRotation) * Math.cos(angle);\n}\n// x \nfunction xExtrema(rx, ry, xRotation) {\n    return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n// y \nfunction yExtrema(rx, ry, xRotation) {\n    return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n//  x \nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.cos(xRotation) * Math.cos(angle) - ry * Math.sin(xRotation) * Math.sin(angle) + cx;\n}\n//  y \nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n    return rx * Math.sin(xRotation) * Math.cos(angle) + ry * Math.cos(xRotation) * Math.sin(angle) + cy;\n}\n// \nfunction getAngle(rx, ry, x0, y0) {\n    var angle = Math.atan2(y0 * rx, x0 * ry);\n    //  0 - 2PI \n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// x,y\nfunction getPoint(rx, ry, angle) {\n    return {\n        x: rx * Math.cos(angle),\n        y: ry * Math.sin(angle),\n    };\n}\n// \nfunction rotate(x, y, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return [x * cos - y * sin, x * sin + y * cos];\n}\nexports.default = {\n    /**\n     * \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     * @return {object} \n     */\n    box: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n        var xDim = xExtrema(rx, ry, xRotation);\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var xs = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var xAngle = xDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < xAngle && xAngle < endAngle) {\n                    xs.push(xAngle);\n                }\n            }\n            else {\n                if (endAngle < xAngle && xAngle < startAngle) {\n                    xs.push(xAngle);\n                }\n            }\n        }\n        for (var i = 0; i < xs.length; i++) {\n            var x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n            if (x < minX) {\n                minX = x;\n            }\n            if (x > maxX) {\n                maxX = x;\n            }\n        }\n        var yDim = yExtrema(rx, ry, xRotation);\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var ys = [startAngle, endAngle];\n        for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n            var yAngle = yDim + i;\n            if (startAngle < endAngle) {\n                if (startAngle < yAngle && yAngle < endAngle) {\n                    ys.push(yAngle);\n                }\n            }\n            else {\n                if (endAngle < yAngle && yAngle < startAngle) {\n                    ys.push(yAngle);\n                }\n            }\n        }\n        for (var i = 0; i < ys.length; i++) {\n            var y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n            if (y < minY) {\n                minY = y;\n            }\n            if (y > maxY) {\n                maxY = y;\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    },\n    /**\n     * \n     *  rx, ry, startAngle, endAngle \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     */\n    length: function (cx, cy, rx, ry, xRotation, startAngle, endAngle) { },\n    /**\n     * \n     * @param {number} cx          x\n     * @param {number} cy          y\n     * @param {number} rx         x \n     * @param {number} ry         y \n     * @param {number} xRotation  \n     * @param {number} startAngle \n     * @param {number} endAngle   \n     * @param {number} x0          x\n     * @param {number} y0          y\n     * @return {object} \n     */\n    nearestPoint: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        //  0,0 \n        var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n        var x1 = relativeVector[0], y1 = relativeVector[1];\n        // \n        var relativePoint = ellipse_1.default.nearestPoint(0, 0, rx, ry, x1, y1);\n        // \n        var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n        // \n        if (angle < startAngle) {\n            // \n            relativePoint = getPoint(rx, ry, startAngle);\n        }\n        else if (angle > endAngle) {\n            // \n            relativePoint = getPoint(rx, ry, endAngle);\n        }\n        //  xRotation \n        var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n        return {\n            x: vector[0] + cx,\n            y: vector[1] + cy,\n        };\n    },\n    pointDistance: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n        var nearestPoint = this.nearestPoint(cx, cy, rx, ry, x0, y0);\n        return util_1.distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    pointAt: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        return {\n            x: xAt(cx, cy, rx, ry, xRotation, angle),\n            y: yAt(cx, cy, rx, ry, xRotation, angle),\n        };\n    },\n    tangentAngle: function (cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n        var angle = (endAngle - startAngle) * t + startAngle;\n        var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n        return util_1.piMod(Math.atan2(dy, dx));\n    },\n};\n//# sourceMappingURL=arc.js.map","\"use strict\";\n/**\n * @fileoverview \n *  - https://www.mathsisfun.com/geometry/ellipse-perimeter.html\n *  - https://wet-robots.ghost.io/simple-method-for-distance-to-ellipse/\n * @author dxq613@gmail.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nfunction copysign(v1, v2) {\n    var absv = Math.abs(v1);\n    return v2 > 0 ? absv : absv * -1;\n}\nexports.default = {\n    /**\n     * \n     * @param {number} x   x\n     * @param {number} y   y\n     * @param {number} rx  x \n     * @param {number} ry  y \n     * @return {object} \n     */\n    box: function (x, y, rx, ry) {\n        return {\n            x: x - rx,\n            y: y - ry,\n            width: rx * 2,\n            height: ry * 2,\n        };\n    },\n    /**\n     * \n     * @param {number} x   x\n     * @param {number} y   y\n     * @param {number} rx  x \n     * @param {number} ry  y \n     * @return {number} \n     */\n    length: function (x, y, rx, ry) {\n        return Math.PI * (3 * (rx + ry) - Math.sqrt((3 * rx + ry) * (rx + 3 * ry)));\n    },\n    /**\n     * \n     * @param {number} x   x\n     * @param {number} y   y\n     * @param {number} rx  x \n     * @param {number} ry  y \n     * @param {number} x0   x\n     * @param {number} y0   y\n     * @return {object} \n     */\n    nearestPoint: function (x, y, rx, ry, x0, y0) {\n        var a = rx;\n        var b = ry;\n        // 0\n        if (a === 0 || b === 0) {\n            return {\n                x: x,\n                y: y,\n            };\n        }\n        //  0 0 \n        var relativeX = x0 - x;\n        var relativeY = y0 - y;\n        var px = Math.abs(relativeX);\n        var py = Math.abs(relativeY);\n        var squareA = a * a;\n        var squareB = b * b;\n        // const angle0 = Math.atan2(relativeY, relativeX);\n        var t = Math.PI / 4;\n        var nearestX; // \n        var nearestY;\n        //  4 \n        for (var i = 0; i < 4; i++) {\n            nearestX = a * Math.cos(t);\n            nearestY = b * Math.sin(t);\n            var ex = ((squareA - squareB) * Math.pow(Math.cos(t), 3)) / a;\n            var ey = ((squareB - squareA) * Math.pow(Math.sin(t), 3)) / b;\n            var rx1 = nearestX - ex;\n            var ry1 = nearestY - ey;\n            var qx = px - ex;\n            var qy = py - ey;\n            var r = Math.hypot(ry1, rx1);\n            var q = Math.hypot(qy, qx);\n            var delta_c = r * Math.asin((rx1 * qy - ry1 * qx) / (r * q));\n            var delta_t = delta_c / Math.sqrt(squareA + squareB - nearestX * nearestX - nearestY * nearestY);\n            t += delta_t;\n            t = Math.min(Math.PI / 2, Math.max(0, t));\n        }\n        return {\n            x: x + copysign(nearestX, relativeX),\n            y: y + copysign(nearestY, relativeY),\n        };\n    },\n    /**\n     * \n     * @param {number} x   x\n     * @param {number} y   y\n     * @param {number} rx  x \n     * @param {number} ry  y \n     * @param {number} x0   x\n     * @param {number} y0   y\n     * @return {number} \n     */\n    pointDistance: function (x, y, rx, ry, x0, y0) {\n        var nearestPoint = this.nearestPoint(x, y, rx, ry, x0, y0);\n        return util_1.distance(nearestPoint.x, nearestPoint.y, x0, y0);\n    },\n    /**\n     * \n     * @param {number} x  x\n     * @param {number} y  y\n     * @param {number} rx  x \n     * @param {number} ry  y \n     * @param {number} t x 0\n     * @return {object} \n     */\n    pointAt: function (x, y, rx, ry, t) {\n        var angle = 2 * Math.PI * t; // \n        return {\n            x: x + rx * Math.cos(angle),\n            y: y + ry * Math.sin(angle),\n        };\n    },\n    /**\n     * \n     * @param {number} x  x\n     * @param {number} y  y\n     * @param {number} rx  x \n     * @param {number} ry  y \n     * @param {number} t  0 - 1 x 0 0-1  null\n     * @return {number}  0 - 2PI \n     */\n    tangentAngle: function (x, y, rx, ry, t) {\n        var angle = 2 * Math.PI * t; // \n        //  x,y  x' = -rx * sin(t); y' = ry * cos(t);\n        var tangentAngle = Math.atan2(ry * Math.cos(angle), -rx * Math.sin(angle));\n        // \n        // const point = this.pointAt(0, 0, rx, ry, t); // \n        // let tangentAngle = -1 * Math.atan((ry * ry * point.x) / (rx * rx * point.y));\n        // if (angle >= 0 && angle <= Math.PI) {\n        //   tangentAngle += Math.PI;\n        // }\n        return util_1.piMod(tangentAngle);\n    },\n};\n//# sourceMappingURL=ellipse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar each_1 = require(\"@antv/util/lib/each\");\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nvar is_string_1 = require(\"@antv/util/lib/is-string\");\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig;\nvar regexDot = /[^\\s\\,]+/ig;\nfunction parsePath(p) {\n    var path = p || [];\n    if (is_array_1.default(path)) {\n        return path;\n    }\n    if (is_string_1.default(path)) {\n        path = path.match(regexTags);\n        each_1.default(path, function (item, index) {\n            // @ts-ignore\n            item = item.match(regexDot);\n            if (item[0].length > 1) {\n                var tag = item[0].charAt(0);\n                // @ts-ignore\n                item.splice(1, 0, item[0].substr(1));\n                // @ts-ignore\n                item[0] = tag;\n            }\n            // @ts-ignore\n            each_1.default(item, function (sub, i) {\n                if (!isNaN(sub)) {\n                    // @ts-ignore\n                    item[i] = +sub;\n                }\n            });\n            // @ts-ignore\n            path[index] = item;\n        });\n        return path;\n    }\n}\nexports.default = parsePath;\n//# sourceMappingURL=parse-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var bbox = {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n    };\n    bbox = util_1.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=line.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, rx = attrs.rx, ry = attrs.ry;\n    return {\n        x: x - rx,\n        y: y - ry,\n        width: rx * 2,\n        height: ry * 2,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=ellipse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar line_1 = require(\"./line\");\nvar util_1 = require(\"./util\");\nfunction analyzePoints(points) {\n    // \n    var totalLength = 0;\n    var segments = [];\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        var length_1 = util_1.distance(from[0], from[1], to[0], to[1]);\n        var seg = {\n            from: from,\n            to: to,\n            length: length_1,\n        };\n        segments.push(seg);\n        totalLength += length_1;\n    }\n    return { segments: segments, totalLength: totalLength };\n}\nfunction lengthOfSegment(points) {\n    if (points.length < 2) {\n        return 0;\n    }\n    var totalLength = 0;\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        totalLength += util_1.distance(from[0], from[1], to[0], to[1]);\n    }\n    return totalLength;\n}\nexports.lengthOfSegment = lengthOfSegment;\n/**\n * \n * @param {array} points \n * @param {number} t  0-1\n * @return {object} \n */\nfunction pointAtSegments(points, t) {\n    // \n    if (t > 1 || t < 0 || points.length < 2) {\n        return null;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // \n    if (totalLength === 0) {\n        return {\n            x: points[0][0],\n            y: points[0][1],\n        };\n    }\n    // \n    var startRatio = 0;\n    var point = null;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            var localRatio = (t - startRatio) / currentRatio;\n            point = line_1.default.pointAt(from[0], from[1], to[0], to[1], localRatio);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return point;\n}\nexports.pointAtSegments = pointAtSegments;\n/**\n * \n * @param {array} points \n * @param {number} t  0-1\n */\nfunction angleAtSegments(points, t) {\n    // \n    if (t > 1 || t < 0 || points.length < 2) {\n        return 0;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // \n    var startRatio = 0;\n    var angle = 0;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return angle;\n}\nexports.angleAtSegments = angleAtSegments;\nfunction distanceAtSegment(points, x, y) {\n    var minDistance = Infinity;\n    for (var i = 0; i < points.length - 1; i++) {\n        var point = points[i];\n        var nextPoint = points[i + 1];\n        var distance_1 = line_1.default.pointDistance(point[0], point[1], nextPoint[0], nextPoint[1], x, y);\n        if (distance_1 < minDistance) {\n            minDistance = distance_1;\n        }\n    }\n    return minDistance;\n}\nexports.distanceAtSegment = distanceAtSegment;\n//# sourceMappingURL=segments.js.map","import { COMPONENT_TYPE, DIRECTION, LAYER } from './constant';\n\nimport {\n  AxisLabelCfg,\n  AxisLineCfg,\n  AxisSubTickLineCfg,\n  AxisTickLineCfg,\n  AxisTitleCfg,\n  ContinueLegendHandlerCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendTrackCfg,\n  Coordinate,\n  CrosshairLineCfg,\n  CrosshairTextBackgroundCfg,\n  CrosshairTextCfg,\n  GridLineCfg,\n  GroupComponent,\n  HtmlComponent,\n  ICanvas,\n  IGroup,\n  IShape,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  PathCommand,\n  Scale,\n  ScaleConfig,\n  ShapeAttrs,\n} from './dependents';\n\nimport { View } from './chart';\nimport { Facet } from './facet';\nimport Element from './geometry/element';\n\n// ============================  ============================\n/**  */\nexport interface LooseObject {\n  [key: string]: any;\n}\n\n/**  */\nexport interface Point {\n  readonly x: number;\n  readonly y: number;\n}\n\n/**  */\nexport interface Region {\n  readonly start: Point;\n  readonly end: Point;\n}\n\n/**  */\nexport interface Size {\n  readonly width: number;\n  readonly height: number;\n}\n\n/**  */\nexport interface RangePoint {\n  readonly x?: number | number[];\n  readonly y?: number | number[];\n}\n\n/**  */\nexport interface MappingDatum {\n  /**  */\n  _origin: Datum;\n  /** shape  */\n  points?: ShapeVertices;\n  /**  shape  shape  */\n  nextPoints?: ShapeVertices;\n  /** x  */\n  x?: number[] | number;\n  /** y  */\n  y?: number[] | number;\n  /**  */\n  color?: string;\n  /**  shape  */\n  shape?: string | string[];\n  /**  */\n  size?: number;\n}\n\n/**  Shape  */\nexport interface ShapeInfo {\n  /** x  */\n  x: number | number[];\n  /** y  */\n  y: number | number[];\n  /**  shape  */\n  shape?: string | string[];\n  /** size  */\n  size?: number;\n  /**  */\n  color?: string;\n  /**  */\n  style?: LooseObject;\n  /**  */\n  isInCircle?: boolean;\n  /**  */\n  data?: Datum | Data;\n  /**  */\n  mappingData?: MappingDatum | MappingDatum[];\n  /**  shape   */\n  points?: ShapeVertices;\n  /**  */\n  nextPoints?: ShapeVertices;\n  /** Geometry.Text  */\n  text?: string;\n  /**  */\n  isStack?: boolean;\n  /**  Path Line Area  Geometry  */\n  connectNulls?: boolean;\n  /**  shape  */\n  defaultStyle?: LooseObject;\n}\n\n/**  */\nexport interface AnimateCfg {\n  /**  */\n  readonly easing?: string | AnimateEasingCallback;\n  /**  */\n  readonly animation?: string;\n  /**  */\n  readonly duration?: number | AnimateDurationCallback;\n  /**  */\n  readonly delay?: number | AnimateDelayCallback;\n  /**  */\n  readonly callback?: () => any;\n}\n\n/**  G duration  */\nexport interface GAnimateCfg {\n  /**  */\n  readonly duration: number;\n  /**  */\n  readonly easing?: string;\n  /**  */\n  readonly animation?: string;\n  /**  */\n  readonly delay?: number;\n  /**  */\n  readonly callback?: () => any;\n}\n\n// ============================ Geometry  ============================\n/**  geometry.position({}) */\nexport interface AttributeOption {\n  /**  */\n  fields?: string[];\n  /**  */\n  callback?: (...args) => any;\n  /**  */\n  values?: any[];\n}\n\n/** `geometry.adjust({})` */\nexport interface AdjustOption {\n  /**  */\n  readonly type: AdjustType;\n  /**\n   *  'dodge'  0  1 \n   *\n   * ![image](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*ps3pToOg2nwAAAAAAAAAAABkARQnAQ)\n   */\n  readonly marginRatio?: number;\n  /**\n   *  'dodge' \n   */\n  readonly dodgeBy?: string;\n  /**\n   *  'stack' \n   */\n  readonly reverseOrder?: boolean;\n}\n\n/** `geometry.style({})`  */\nexport interface StyleOption {\n  /**  */\n  readonly fields?: string[];\n  /**  */\n  readonly callback?: (...args) => LooseObject;\n  /**  */\n  readonly cfg?: LooseObject;\n}\n\n/** `geometry.tooltip({})` Tooltip  */\nexport interface GeometryTooltipOption {\n  /**  */\n  readonly fields: string[];\n  /**  */\n  readonly callback?: (...args) => LooseObject;\n}\n\nexport interface GeometryLabelLayoutCfg {\n  /** label  */\n  type: string;\n  /**  */\n  cfg?: LooseObject;\n}\n\n/** geometry.label({})  */\nexport interface GeometryLabelCfg {\n  /**\n   *  label \n   *  label  type  label \n   */\n  type?: string;\n  /**  */\n  offset?: number;\n  /** label  X  */\n  offsetX?: number;\n  /** label  Y  */\n  offsetY?: number;\n  /**\n   * \n   *  content  IGroup  IShape  x  y  0G2  label \n   *  https://g2.antv.vision/zh/examples/pie/basic#pie-custome-label\n   */\n  content?: string | IGroup | IShape | GeometryLabelContentCallback;\n  /** label  */\n  style?: LooseObject;\n  /** label  true */\n  autoRotate?: boolean;\n  /**\n   *  `autoRotate`  false ****\n   */\n  rotate?: number;\n  /**\n   * null \n   */\n  labelLine?: null | boolean | { style?: object };\n  /** true false  */\n  labelEmit?: boolean;\n  /**\n   * \n   *\n   * 'overlap''fixedOverlap''limitInShape'\n   * 1. overlap: label  label **** label\n   * 2. fixed-overlap:  label  label \n   * 3. limit-in-shape:  shape  label\n   *\n   * @example\n   * ```ts\n   * layout: {\n   *   type: 'overlap',\n   * },\n   * ```\n   */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**\n   *  geometry  interval  label \n   */\n  position?:\n  | ((data: Datum, mappingData: MappingDatum, index: number) => IntervalGeometryLabelPosition)\n  | IntervalGeometryLabelPosition;\n  /**  */\n  animate?: AnimateOption | false | null;\n}\n\n/** `geometry().label({})`  */\nexport interface LabelOption {\n  /**  */\n  fields?: string[];\n  /**  */\n  callback?: LabelCallback;\n  cfg?: GeometryLabelCfg;\n}\n\n/** Geometry  state  */\nexport interface StateCfg {\n  /**  */\n  style?: object | StateStyleCallback;\n}\n\n/** geometry.state({})  */\nexport interface StateOption {\n  /**  */\n  default?: StateCfg;\n  /** active  */\n  active?: StateCfg;\n  /** inactive  */\n  inactive?: StateCfg;\n  /** selected  */\n  selected?: StateCfg;\n};\n\n/** interval label  */\nexport type IntervalGeometryLabelPosition = 'top' | 'bottom' | 'middle' | 'left' | 'right';\n/** G2  adjust  */\nexport type AdjustType = 'stack' | 'jitter' | 'dodge' | 'symmetric';\n/** geometry.color()  */\nexport type ColorAttrCallback = (...args) => string;\n/** geometry.shape()  */\nexport type ShapeAttrCallback = (...args) => string | any[];\n/** geometry.size()  */\nexport type SizeAttrCallback = (...args) => number;\n/** geometry.tooltip()  */\nexport type TooltipCallback = (...args) => LooseObject;\n/** geometry.style()  */\nexport type StyleCallback = (...args) => LooseObject;\n/** geometry.label()  */\nexport type LabelCallback = (...args) => GeometryLabelCfg | null | undefined;\n/** geometry label  content  */\nexport type GeometryLabelContentCallback = (data: Datum, mappingData: MappingDatum, index: number) => string | IShape | IGroup;\n/** state  style  */\nexport type StateStyleCallback = (element: Element) => LooseObject;\n\n\n// ============================ Geometry Shape  ============================\n/**  shape marker  */\nexport interface ShapeMarkerCfg {\n  /**  */\n  color: string;\n  /**  */\n  isInPolar: boolean;\n}\n\n/**  marker  */\nexport interface ShapeMarkerAttrs {\n  /** marker  */\n  symbol: string | ShapeMarkerSymbol;\n  /**\n   * marker `ShapeAttrs` \n   *\n   * ```ts\n   * {\n   *   // x \n   *   x?: number;\n   *   // y \n   *   y?: number;\n   *   // \n   *   r?: number;\n   *   // \n   *   stroke?: string | null;\n   *   // \n   *   strokeOpacity?: number;\n   *   // \n   *   fill?: string | null;\n   *   // \n   *   fillOpacity?: number;\n   *   // \n   *   opacity?: number;\n   *   // \n   *   lineWidth?: number;\n   *   // \n   *   lineCap?: 'butt' | 'round' | 'square';\n   *   // 200\n   *   lineJoin?: 'bevel' | 'round' | 'miter';\n   *   //   [5, 15, 25]  [5, 15, 25, 5, 15, 25] setLineDash() \n   *   lineDash?: number[] | null;\n   *   // Path \n   *   path?: string | object[];\n   *   // \n   *   points?: object[];\n   *   // \n   *   width?: number;\n   *   // \n   *   height?: number;\n   *   // \n   *   shadowBlur?: number;\n   *   // \n   *   shadowColor?: string | null;\n   *   //  x \n   *   shadowOffsetX?: number;\n   *   //  y \n   *   shadowOffsetY?: number;\n   *   // \n   *   textAlign?: 'start' | 'center' | 'end' | 'left' | 'right';\n   *   // \n   *   textBaseline?: 'top' | 'hanging' | 'middle' | 'alphabetic' | 'ideographic' | 'bottom';\n   *   // \n   *   fontStyle?: 'normal' | 'italic' | 'oblique';\n   *   // \n   *   fontSize?: number;\n   *   // \n   *   fontFamily?: string;\n   *   // \n   *   fontWeight?: 'normal' | 'bold' | 'bolder' | 'lighter' | number;\n   *   // \n   *   fontVariant?: 'normal' | 'small-caps' | string;\n   *   // \n   *   lineHeight?: number;\n   *   [key: string]: any;\n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/g/blob/28e3178b616573e0fa6d59694f1aaca2baaa9766/packages/g-base/src/types.ts#L37|ShapeAttrs}\n   */\n  style: ShapeAttrs;\n}\n\n/** shape  */\nexport interface ShapePoint {\n  /**  x  */\n  readonly x: number | number[];\n  /**  y  */\n  readonly y?: number | number[];\n  /**  y  */\n  readonly y0?: number;\n  size?: number;\n}\n\n\n/**  ShapeFactory  */\nexport interface RegisterShapeFactory {\n  /**  shape  */\n  readonly defaultShapeType: string;\n  /**  shape  */\n  readonly getDefaultPoints?: (pointInfo: ShapePoint) => Point[];\n  /**  shape  */\n  readonly getMarker?: (shapeType: string, markerCfg: ShapeMarkerCfg) => ShapeMarkerAttrs;\n  /**  G.Shape  */\n  readonly drawShape?: (shapeType: string, cfg: ShapeInfo, container: IGroup) => IShape | IGroup;\n}\n\n/**  shape  */\nexport interface RegisterShape {\n  /**  shape  */\n  readonly getPoints?: (pointInfo: ShapePoint) => Point[];\n  /**  shape  shape  */\n  readonly getMarker?: (markerCfg: ShapeMarkerCfg) => ShapeMarkerAttrs;\n  /**  */\n  readonly draw: (cfg: ShapeInfo, container: IGroup) => IShape | IGroup | void;\n}\n\n/** Shape  */\nexport interface Shape extends RegisterShape {\n  /**  */\n  coordinate: Coordinate;\n  /**  01 path  path */\n  parsePath: (path: any) => PathCommand[];\n  /** 01  */\n  parsePoint: (point: Point) => Point;\n  /** 01  */\n  parsePoints: (points: Point[]) => Point[];\n}\n\n/** ShapeFactory  */\nexport interface ShapeFactory extends RegisterShapeFactory {\n  /**  */\n  geometryType: string;\n  /**  */\n  coordinate: Coordinate;\n  /** ShapeFactory  */\n  theme: LooseObject;\n  /**  shape  */\n  getShape: (shapeType: string | string[]) => Shape;\n  /**  shape  */\n  getShapePoints: (shapeType: string | string[], pointInfo: ShapePoint) => Point[];\n}\n\n/**  Shape marker  */\nexport type ShapeMarkerSymbol = (x: number, y: number, r: number) => PathCommand[];\n\n\n// ============================ Annotation  ============================\n/** Annotation position  */\nexport type AnnotationPositionCallback = (\n  xScales: Scale[] | Record<string, Scale>,\n  yScales: Scale[] | Record<string, Scale>\n) => [number, number];\n/** Annotation  */\nexport type AnnotationPosition = [number | string, number | string] | Record<string, number | string> | AnnotationPositionCallback;\n\n/** Annotation chart.annotation().line({}) */\nexport interface AnnotationBaseOption {\n  readonly type?: string;\n  /**  annotation  canvas  false,  */\n  readonly top?: boolean;\n  /**  */\n  readonly style?: object;\n  /**  */\n  readonly animate?: boolean;\n  /**  `animate`  true */\n  animateOption?: ComponentAnimateOption;\n  /** x  */\n  readonly offsetX?: number;\n  /** y  */\n  readonly offsetY?: number;\n}\n\n/**  RegionPosition  */\nexport interface RegionPositionBaseOption extends AnnotationBaseOption {\n  /**  */\n  readonly start: AnnotationPosition;\n  /**  */\n  readonly end: AnnotationPosition;\n}\n\n/**  PointPosition  */\nexport interface PointPositionBaseOption extends AnnotationBaseOption {\n  /** Point  */\n  readonly position: AnnotationPosition;\n}\n\n/**  Image Annotation  */\nexport interface ImageOption extends RegionPositionBaseOption {\n  /**  */\n  readonly src: string;\n}\n\n/**  Line Annotation  */\nexport interface LineOption extends RegionPositionBaseOption {\n  /**  */\n  readonly text?: {\n    /**  'start', 'center'  'end'   '30%' */\n    readonly position: 'start' | 'center' | 'end' | string;\n    /**  */\n    readonly autoRotate?: boolean;\n    /**  */\n    readonly content: string;\n    /**  */\n    readonly style?: object;\n    /** x  */\n    readonly offsetX?: number;\n    /** y  */\n    readonly offsetY?: number;\n  };\n}\n/**  Arc Annotation  */\nexport type ArcOption = RegionPositionBaseOption;\n/**  Region Annotation  */\nexport type RegionOption = RegionPositionBaseOption;\n/**  Text Annotation  */\nexport interface TextOption extends PointPositionBaseOption {\n  /**  */\n  readonly content: string | number;\n  /**  */\n  readonly rotate?: number;\n}\n/**  DataMarker Annotation  */\nexport interface DataMarkerOption extends PointPositionBaseOption {\n  /** point  */\n  readonly point?: null | { style?: object };\n  /** line  */\n  readonly line?: null | { style?: object; length?: number };\n  /** text  */\n  readonly text: null | { style?: object; content: string };\n  /**  true */\n  readonly autoAdjust?: boolean;\n  /**  upward 'upward'  'downward' */\n  readonly direction?: 'upward' | 'downward';\n}\n/**  DataRegion Annotation  */\nexport interface DataRegionOption extends RegionPositionBaseOption {\n  /** linedefault 0 */\n  readonly lineLength?: number;\n  /**  */\n  readonly region?: null | { style?: object };\n  /**  */\n  readonly text?: null | { style?: object; content: string };\n}\n/**  RegionFilter Annotation  */\nexport interface RegionFilterOption extends RegionPositionBaseOption {\n  /**  */\n  readonly color: string;\n  /* ,regionFiltergeomapply:['area'] */\n  readonly apply?: string[];\n}\n\n// ============================ Chart && View  ============================\n/** Tooltip  css  */\nexport interface TooltipDomStyles {\n  'g2-tooltip'?: LooseObject;\n  'g2-tooltip-title'?: LooseObject;\n  'g2-tooltip-list'?: LooseObject;\n  'g2-tooltip-list-item'?: LooseObject;\n  'g2-tooltip-marker'?: LooseObject;\n  'g2-tooltip-value'?: LooseObject;\n  'g2-tooltip-name'?: LooseObject;\n}\n\n/**  */\nexport interface ComponentAnimateCfg {\n  /**  */\n  readonly duration?: number;\n  /**  */\n  readonly easing?: string;\n  /**  */\n  readonly delay?: number;\n}\n/**  */\nexport interface ComponentAnimateOption {\n  /**  */\n  appear?: ComponentAnimateCfg;\n  /**  */\n  update?: ComponentAnimateCfg;\n  /**  */\n  enter?: ComponentAnimateCfg;\n  /**  */\n  leave?: ComponentAnimateCfg;\n}\n\n/**  */\nexport interface ScaleOption extends ScaleConfig {\n  /**   */\n  type?: ScaleType;\n  /**\n   *  scale\n   *\n   * @example\n   * ```ts\n   * chart.scale({\n   *   x: { sync: true },\n   *   y: { sync: true },\n   *   x1: { sync: 'x1' },\n   *   x2: { sync: 'x1' },\n   * });\n   * ```\n   *\n   *  x  y x1  x2 \n   */\n  sync?: boolean | string;\n  /**\n   *  type: 'time'  scale  tick\n   */\n  showLast?: boolean;\n  /**\n   *  id '-' \n   *  id  Element  Geometry  Element \n   *  G2  ID  id\n   * @example\n   *\n   *  'x'  'y'  id id '1-23'  '2-2'\n   * ```ts\n   * const data = [\n   *   { x: 1, y: 23, z: 'a' },\n   *   { x: 2, y: 2, z: 'b' },\n   * ];\n   *\n   * chart.scale({\n   *   x: { key: true },\n   *   y: { key: true },\n   * });\n   * ```\n   */\n  key?: boolean;\n}\n\n/** Geometry geometry.animate() */\nexport interface AnimateOption {\n  /** chart false/null  */\n  appear?: AnimateCfg | false | null;\n  /** chart false/null  */\n  enter?: AnimateCfg | false | null;\n  /** false/null  */\n  update?: AnimateCfg | false | null;\n  /** false/null  */\n  leave?: AnimateCfg | false | null;\n}\n\n/**  */\nexport interface InteractionOption {\n  /**  */\n  type: string;\n  /**  */\n  cfg?: LooseObject;\n}\n\n/**  Geometry  */\nexport interface GeometryOption {\n  /** Geometry  */\n  type?: 'interval' | 'line' | 'path' | 'point' | 'area' | 'polygon' | 'schema' | 'edge' | 'heatmap' | string;\n  /** position  `geometry.position()` */\n  position?: string | AttributeOption;\n  /** color  `geometry.color()` */\n  color?: string | AttributeOption;\n  /** shape  `geometry.shape()` */\n  shape?: string | AttributeOption;\n  /** size  `geometry.size()` */\n  size?: number | string | AttributeOption;\n  /** adjust  `geometry.adjust()` */\n  adjust?: string | string[] | AdjustOption | AdjustOption[];\n  /** style  `geometry.size()` */\n  style?: StyleOption | LooseObject;\n  /** tooltip  `geometry.tooltip()` */\n  tooltip?: GeometryTooltipOption | boolean | string;\n  /** Geometry  `geometry.animate()` */\n  animate?: AnimateOption | boolean;\n  /** Label  `geometry.label()` */\n  label?: LabelOption | false | string;\n  /** state  `geometry.state()` */\n  state?: StateOption;\n  /**  */\n  cfg?: {\n    /**  */\n    sortable?: boolean;\n    /**  */\n    visible?: boolean;\n    /**  'line', 'area'  'path'  */\n    connectNulls?: boolean;\n  };\n}\n\n/**  View  */\nexport interface ViewOption {\n  /** view  */\n  readonly region?: Region;\n  /**\n   *  CSS \n   *  padding \n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*pYwiQrdXGJ8AAAAAAAAAAABkARQnAQ)\n   *\n   * @example\n   * 1. padding: 20\n   * 2. padding: [ 10, 30, 30 ]\n   */\n  readonly padding?: Padding;\n  /**  */\n  readonly theme?: LooseObject | string;\n  /**  */\n  readonly visible?: boolean;\n  /**\n   * \n   */\n  readonly options?: Options;\n}\n\n/** Chart  */\nexport interface ChartCfg {\n  /**  chart  DOM DOM id dom  */\n  readonly container: string | HTMLElement;\n  /**  */\n  readonly width?: number;\n  /**  */\n  readonly height?: number;\n  /**\n   *  false width  height\n   *  `autoFit: true`  height height \n   */\n  readonly autoFit?: boolean;\n  /**  canvas */\n  readonly renderer?: Renderer;\n  /**  `window.devicePixelRatio` */\n  readonly pixelRatio?: number;\n  /**\n   *  CSS \n   *  padding \n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*pYwiQrdXGJ8AAAAAAAAAAABkARQnAQ)\n   *\n   * @example\n   * 1. padding: 20\n   * 2. padding: [ 10, 30, 30 ]\n   */\n  readonly padding?: ViewPadding;\n  /**\n   * \n   */\n  readonly localRefresh?: boolean;\n  /**\n   * chart  true false \n   */\n  readonly visible?: boolean;\n  /**\n   *  chart  [](docs/tutorial/schema)\n   */\n  readonly options?: Options;\n  /**\n   * \n   */\n  readonly defaultInteractions?: string[];\n  /**  Geometry  */\n  readonly limitInPlot?: boolean;\n  /**  */\n  readonly theme?: LooseObject | string;\n}\n\n/** View  */\nexport interface ViewCfg {\n  /**  view  view */\n  readonly parent: View;\n  /** canvas  */\n  readonly canvas: ICanvas;\n  /**  */\n  readonly foregroundGroup: IGroup;\n  /**  */\n  readonly middleGroup: IGroup;\n  /**  */\n  readonly backgroundGroup: IGroup;\n  /** view  */\n  readonly region?: Region;\n  /**  Geometry  */\n  readonly limitInPlot?: boolean;\n  /**\n   *  CSS \n   *  padding \n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*pYwiQrdXGJ8AAAAAAAAAAABkARQnAQ)\n   *\n   * @example\n   * 1. padding: 20\n   * 2. padding: [ 10, 30, 30 ]\n   */\n  readonly padding?: ViewPadding;\n  /**  view  */\n  readonly theme?: LooseObject | string;\n  /**\n   * \n   */\n  readonly options?: Options;\n  /**  */\n  readonly visible?: boolean;\n}\n\n/**\n * @ignore\n * \n */\nexport interface ComponentOption {\n  readonly id?: string;\n  readonly component: GroupComponent | HtmlComponent;\n  readonly layer: LAYER;\n  direction: DIRECTION;\n  readonly type: COMPONENT_TYPE;\n  /*  */\n  readonly extra?: any;\n}\n\n/** Legend marker  */\nexport interface MarkerCfg extends LegendMarkerCfg {\n  /**  marker  symbol  */\n  symbol?: Marker | MarkerCallback;\n}\n\n/** Legend item  */\nexport interface LegendItem {\n  /**\n   * \n   */\n  id?: string;\n  /**  */\n  name: string;\n  /**  */\n  value: any;\n  /**  */\n  marker?: MarkerCfg;\n}\n\n/**\n * \n */\nexport interface LegendCfg {\n  /**\n   *  true  items \n   */\n  readonly custom?: boolean;\n  /**\n   *  horizontalvertical\n   */\n  layout?: 'horizontal' | 'vertical';\n  /**\n   * \n   *\n   * \n   *\n   * ```ts\n   * {\n   *   spacing?: number;    // \n   *   style?: ShapeAttrs;  // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L639|LegendTitleCfg}\n   */\n  title?: LegendTitleCfg;\n  /**\n   * \n   *\n   * \n   *\n   * ```ts\n   * {\n   *   padding?: number | number[]; // \n   *   style?: ShapeAttrs;          // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L652|LegendBackgroundCfg}\n   */\n  background?: LegendBackgroundCfg;\n  /**  */\n  position?:\n  | 'top'\n  | 'top-left'\n  | 'top-right'\n  | 'right'\n  | 'right-top'\n  | 'right-bottom'\n  | 'left'\n  | 'left-top'\n  | 'left-bottom'\n  | 'bottom'\n  | 'bottom-left'\n  | 'bottom-right';\n  /**  */\n  animate?: boolean;\n  /**  `animate`  true */\n  animateOption?: ComponentAnimateOption;\n  /**\n   * ****\n   */\n  itemSpacing?: number;\n  /**\n   * ****,  null\n   */\n  itemWidth?: number;\n  /**\n   * **** null\n   */\n  itemHeight?: number;\n  /**\n   * **** name \n   * \n   *\n   * ```ts\n   * {\n   *   spacing?: number; //  name  value \n   *   formatter?: (text: string, item: ListItem, index: number) => any; // \n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L665|LegendItemNameCfg}\n   */\n  itemName?: LegendItemNameCfg;\n  /**\n   * **** value \n   * \n   *\n   * ```ts\n   * {\n   *   alignRight?: boolean; //  false\n   *   formatter?: (text: string, item: ListItem, index: number) => any; // \n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L685|LegendItemValueCfg}\n   */\n  itemValue?: LegendItemValueCfg;\n  /**\n   * ****\n   */\n  maxWidth?: number;\n  /**\n   * ****\n   */\n  maxHeight?: number;\n  /**\n   * **** marker \n   */\n  marker?: MarkerCfg;\n  /**\n   * ****\n   */\n  flipPage?: boolean;\n  /**\n   * ****\n   */\n  items?: LegendItem[];\n  /**\n   * ****\n   */\n  reversed?: boolean;\n\n  /**\n   * ****\n   */\n  min?: number;\n  /**\n   * ****\n   */\n  max?: number;\n  /**\n   * ****\n   */\n  value?: number[];\n  /**\n   * ****\n   * \n   *\n   * ```ts\n   * {\n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L574|ContinueLegendTrackCfg}\n   */\n  track?: ContinueLegendTrackCfg;\n  /**\n   * ****\n   * \n   *\n   * ```ts\n   * {\n   *   type?: string; // rail color, size\n   *   size?: number; // \n   *   defaultLength?: number; //  maxWidth,maxHeight \n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L595|ContinueLegendRailCfg}\n   */\n  rail?: ContinueLegendRailCfg;\n  /**\n   * ****\n   * \n   *\n   * ```ts\n   * {\n   *   // \n   *   // rail  \n   *   // top, bottom: \n   *   // left, right: \n   *   align?: string;\n   *   spacing?: number; // \n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L618|ContinueLegendLabelCfg}\n   */\n  label?: ContinueLegendLabelCfg;\n  /**\n   * ****\n   * \n   *\n   * ```ts\n   * {\n   *   size?: number; // \n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L582|ContinueLegendTrackCfg}\n   */\n  handler?: ContinueLegendHandlerCfg;\n  /**\n   * ****\n   */\n  slidable?: boolean;\n  /**  x  */\n  offsetX?: number;\n  /**  y  */\n  offsetY?: number;\n}\n\n/**\n * Tooltip Crosshairs \n */\nexport interface TooltipCrosshairsText extends CrosshairTextCfg {\n  /** crosshairs  */\n  content?: string;\n}\n\n/**\n * \n * @param type  crosshairs  'x'  'x'\n * @param defaultContent  crosshairs \n * @param items  tooltip \n * @param currentPoint \n * @returns  crosshairs \n */\nexport type TooltipCrosshairsTextCallback = (type: string, defaultContent: any, items: any[], currentPoint: Point) => TooltipCrosshairsText;\n/** Tooltip crosshairs  */\nexport interface TooltipCrosshairs {\n  /**\n   * crosshairs : `x`  x `y`  y \n   * crosshairs \n   *\n   * |  | type = 'x' | type = 'xy' | type = 'y' |\n   * | ------------ | ------------- | ------------- |\n   * |   | ![image](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*jmUBQ4nbtXsAAAAAAAAAAABkARQnAQ) | ![image](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*RpWXT76ZSQgAAAAAAAAAAABkARQnAQ) | ![image](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*Xjl8TLIJLuUAAAAAAAAAAABkARQnAQ) |\n   * |  | ![image](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*zbMVSoKTyFsAAAAAAAAAAABkARQnAQ) | ![image](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*k5EYRJspET0AAAAAAAAAAABkARQnAQ) | ![image](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*n_TKQpUaXWEAAAAAAAAAAABkARQnAQ) |\n   */\n  type?: 'x' | 'y' | 'xy';\n  /**\n   * \n   * \n   *\n   * ```ts\n   * {\n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L1177|CrosshairLineCfg}\n   */\n  line?: CrosshairLineCfg;\n  /**\n   * \n   */\n  text?: TooltipCrosshairsText | TooltipCrosshairsTextCallback;\n  /**\n   * \n   * \n   *\n   * ```ts\n   * {\n   *   padding?: number | number[]; // \n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L1185|CrosshairTextBackgroundCfg}\n   */\n  textBackground?: CrosshairTextBackgroundCfg;\n  /**  false */\n  follow?: boolean;\n}\n\n/** chart.tooltip()  */\nexport interface TooltipCfg {\n  /**\n   *  tooltip \n   *  truefalse \n   */\n  follow?: boolean;\n  /** tooltip  false */\n  enterable?: boolean;\n  /**  tooltip  */\n  showTitle?: boolean;\n  /**\n   *  tooltip  title \n   */\n  title?: string;\n  /**  tooltip  */\n  position?: 'top' | 'bottom' | 'left' | 'right';\n  /** true false  */\n  shared?: boolean; // \n  /**  crosshairs */\n  showCrosshairs?: boolean;\n  /**  tooltip  crosshairs `showCrosshairs`  true  */\n  crosshairs?: TooltipCrosshairs;\n  /**  tooltipMarkers */\n  showMarkers?: boolean;\n  /** tooltipMarker  */\n  marker?: object;\n  /**  tooltip  */\n  showContent?: boolean;\n  /**  tooltip  */\n  container?: string | HTMLElement;\n  /**  dom  class */\n  containerTpl?: string;\n  /**  dom  class */\n  itemTpl?: string;\n  /**  dom  */\n  domStyles?: TooltipDomStyles;\n  /** tooltip  */\n  offset?: number;\n}\n\n/**  */\nexport interface CoordinateOption {\n  /**  */\n  type?: 'polar' | 'theta' | 'rect' | 'cartesian' | 'helix';\n  /**  */\n  cfg?: CoordinateCfg;\n  /**\n   * :\n   * 1. rotate \n   * 2. scale  x  y \n   * 3. reflect  x  y \n   * 4. transpose  xy \n   */\n  actions?: CoordinateActions[];\n}\n\n/**  */\nexport interface CoordinateCfg {\n  /**\n   * \n   */\n  startAngle?: number;\n  /**\n   * \n   */\n  endAngle?: number;\n  /**\n   * 0 - 1 \n   */\n  radius?: number;\n  /**\n   * 0 -1 \n   */\n  innerRadius?: number;\n}\n\n/**  */\nexport interface AxisGridCfg {\n  /**\n   * \n   * \n   *\n   * ```ts\n   * {\n   *   type?: string; // 'line'  'circle'\n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L407|GridLineCfg}\n   */\n  line?: GridLineCfg;\n  /**\n   * \n   */\n  alternateColor?: string | string[];\n  /**\n   *  circle  grid\n   */\n  closed?: boolean;\n  /**\n   *  false\n   * ![image](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*YX6fS4GTTvMAAAAAAAAAAABkARQnAQ)\n   */\n  alignTick?: boolean;\n}\n\n/** chart.axis() */\nexport interface AxisCfg {\n  /**\n   * \n   */\n  position?: 'top' | 'bottom' | 'right' | 'left';\n  /**\n   * null \n   * \n   *\n   * ```ts\n   * {\n   *   style?: ShapeAttrs; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L91|AxisLineCfg}\n   */\n  line?: AxisLineCfg | null;\n  /**\n   * null \n   * \n   *\n   * ```ts\n   * {\n   *   style?: ShapeAttrs; // \n   *   alignTick?: boolean; //  tick \n   *   length?: number;  // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L103|AxisTickLineCfg}\n   */\n  tickLine?: AxisTickLineCfg | null;\n  /**\n   * null \n   * \n   *\n   * ```ts\n   * {\n   *   style?: ShapeAttrs; // \n   *   count?: number; // \n   *   length?: number; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L169|AxisSubTickLineCfg}\n   */\n  subTickLine?: AxisSubTickLineCfg | null;\n  /**\n   * null \n   * \n   *\n   * ```ts\n   * {\n   *   offset?: number; // \n   *   style?: ShapeAttrs; // \n   *   autoRotate?: boolean; // \n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L191|AxisTitleCfg}\n   */\n  title?: AxisTitleCfg | null;\n  /**\n   * null \n   * \n   *\n   * ```ts\n   * {\n   *   // \n   *   style?: ShapeAttrs;\n   *   // label \n   *   offset?: number;\n   *   // \n   *   rotate?: number;\n   *   // \n   *   formatter?: (text: string, item: ListItem, index: number) => any;\n   *   //  true\n   *   autoRotate?: boolean | (isVertical: boolean, labelGroup: IGroup, limitLength?: number) => boolean; | string;\n   *   //  false\n   *   autoHide?: boolean | (isVertical: boolean, labelGroup: IGroup, limitLength?: number) => boolean; | string;\n   *   //  false\n   *   autoEllipsis?: boolean | (isVertical: boolean, labelGroup: IGroup, limitLength?: number) => boolean; | string;\n   * }\n   * ```\n   *\n   *  {@link https://github.com/antvis/component/blob/81890719a431b3f9088e0c31c4d5d382ef0089df/src/types.ts#L127|AxisLabelCfg}\n   */\n  label?: AxisLabelCfg | null;\n  /** null  */\n  grid?: AxisGridCfg | null;\n  /**  */\n  animate?: boolean;\n  /**  */\n  animateOption?: ComponentAnimateOption;\n  /**  label  1 -1 */\n  verticalFactor?: number;\n}\n\n/**  */\nexport interface Options {\n  /**  */\n  readonly data?: Data;\n  /**  data  key */\n  readonly filters?: Record<string, FilterCondition>;\n  /**  data  key */\n  readonly axes?: Record<string, AxisOption> | boolean;\n  /**  data  key */\n  readonly legends?: Record<string, LegendOption> | boolean;\n  /**  data  key */\n  readonly scales?: Record<string, ScaleOption>;\n  /** Tooltip  */\n  readonly tooltip?: TooltipOption;\n  /**  */\n  readonly coordinate?: CoordinateOption;\n  /**  */\n  readonly annotations?: Array<\n    ArcOption |\n    RegionFilterOption |\n    ImageOption |\n    LineOption |\n    TextOption |\n    RegionOption |\n    DataMarkerOption |\n    DataRegionOption>;\n  /** Geometry  */\n  readonly geometries?: GeometryOption[];\n  /** / */\n  readonly animate?: boolean;\n  /**  */\n  readonly interactions?: InteractionOption[];\n\n  /**  option */\n  readonly [name: string]: any;\n\n  /**  View */\n  readonly views?: ViewOption[];\n}\n\n/**  Marker  */\nexport type Marker =\n  | 'circle'\n  | 'square'\n  | 'diamond'\n  | 'triangle'\n  | 'triangleDown'\n  | 'hexagon'\n  | 'bowtie'\n  | 'cross'\n  | 'tick'\n  | 'plus'\n  | 'hyphen'\n  | 'line';\n/**  Marker  */\nexport type MarkerCallback = (x: number, y: number, r: number) => PathCommand;\n/** chart.tooltip()  */\nexport type TooltipOption = TooltipCfg | boolean;\n/*  */\nexport type FilterCondition = (value: any, datum: Datum, idx?: number) => boolean;\n/** chart.axis()  */\nexport type AxisOption = AxisCfg | boolean;\n/** chart.legend()  */\nexport type LegendOption = LegendCfg | boolean;\n/** G2  */\nexport type ScaleType =\n  'linear' |\n  'cat' |\n  'category' |\n  'identity' |\n  'log' |\n  'pow' |\n  'time' |\n  'timeCat' |\n  'quantize' |\n  'quantile';\n\nexport type CoordinateRotate = ['rotate', number];\nexport type CoordinateReflect = ['reflect', 'x' | 'y'];\nexport type CoordinateScale = ['scale', number, number];\nexport type CoordinateTranspose = ['transpose'];\n/**  action  */\nexport type CoordinateActions = CoordinateRotate | CoordinateReflect | CoordinateScale | CoordinateTranspose;\n\n// ============================ Facet  ============================\n// \nexport type FacetCtor = new (view: View, cfg: any) => Facet;\n\nexport interface Condition {\n  readonly field: string;\n  readonly value: any;\n  readonly values: any[];\n}\n\nexport type FacetDataFilter = (data: Datum[]) => boolean;\n\n/**\n * \n */\nexport interface FacetCfg<D> {\n  /**  */\n  readonly type?: string;\n  /** view  */\n  readonly eachView: (innerView: View, facet?: D) => any;\n  /** facet view padding */\n  readonly padding?: ViewPadding;\n  /**  */\n  readonly showTitle?: boolean;\n  /** facet  */\n  readonly fields: string[];\n}\n\n/**\n * Facet title \n */\nexport interface FacetTitle {\n  /** x  */\n  readonly offsetX?: number;\n  /** y  */\n  readonly offsetY?: number;\n  /**  */\n  readonly style?: object;\n}\n\n/**\n * \n */\nexport interface FacetData {\n  /**  */\n  readonly type: string;\n  /**  view  */\n  readonly data: object[];\n  /**  view  */\n  readonly region: Region;\n  /**  view  padding */\n  readonly padding?: number;\n  /**  facet  view */\n  view?: View;\n\n  // facet data\n  /**  */\n  readonly rowField: string;\n  /**  */\n  readonly columnField: string;\n  /**  */\n  readonly rowValue: string;\n  /**  */\n  readonly columnValue: string;\n  /**  */\n  readonly rowIndex: number;\n  /**  */\n  readonly columnIndex: number;\n  /**  */\n  readonly rowValuesLength: number;\n  /**  */\n  readonly columnValuesLength: number;\n}\n\n// ===================== rect  =====================\n/** rect  */\nexport interface RectCfg extends FacetCfg<RectData> {\n  /**  */\n  readonly columnTitle?: FacetTitle,\n  /**  */\n  readonly rowTitle?: FacetTitle,\n}\n\nexport interface RectData extends FacetData {\n\n}\n\n// ===================== mirror  =====================\n/** mirror  */\nexport interface MirrorCfg extends FacetCfg<MirrorData> {\n  /**  */\n  readonly transpose?: boolean;\n  /**  */\n  readonly title?: FacetTitle;\n}\n\nexport interface MirrorData extends FacetData {\n}\n\n// ===================== list  =====================\n/** list  */\nexport interface ListCfg extends FacetCfg<ListData> {\n  /**  */\n  readonly cols?: number;\n  /**  */\n  readonly title?: FacetTitle;\n}\n\nexport interface ListData extends FacetData {\n  readonly total: number;\n}\n\n// ===================== matrix  =====================\n/** matrix  */\nexport interface MatrixCfg extends FacetCfg<MirrorData> {\n  /**  */\n  readonly columnTitle?: FacetTitle,\n  /**  */\n  readonly rowTitle?: FacetTitle,\n}\n\nexport interface MatrixData extends FacetData {\n}\n\n// ===================== circle  =====================\n/** circle  */\nexport interface CircleCfg extends FacetCfg<CircleData> {\n  /**  */\n  readonly title?: FacetTitle;\n}\n\nexport interface CircleData extends FacetData {\n}\n\n// ===================== tree  =====================\n\nexport interface Line {\n  readonly style?: ShapeAttrs,\n  readonly smooth?: boolean;\n}\n/** tree  */\nexport interface TreeCfg extends FacetCfg<TreeData> {\n  readonly line?: Line;\n  readonly title?: FacetTitle;\n}\n\nexport interface TreeData extends FacetData {\n  children?: TreeData[];\n  originColIndex?: number;\n}\n\n/**\n * facet object map\n */\nexport interface FacetCfgMap {\n  /** rect  */\n  readonly rect: RectCfg;\n  /** mirror  */\n  readonly mirror: MirrorCfg;\n  /** list  */\n  readonly list: ListCfg;\n  /** matrix  */\n  readonly matrix: MatrixCfg;\n  /** circle  */\n  readonly circle: CircleCfg;\n  /** tree  */\n  readonly tree: TreeCfg;\n}\n\n// ============================  ============================\nexport interface StyleSheet {\n  /**  */\n  brandColor?: string;\n  /**  1 10  */\n  paletteQualitative10?: string[];\n  /**  2 10  */\n  paletteQualitative20?: string[];\n  /**  */\n  paletteSemanticRed?: string;\n  /**  */\n  paletteSemanticGreen?: string;\n  /**  */\n  paletteSemanticYellow?: string;\n  /**  */\n  fontFamily?: string;\n\n  // --------------------  --------------------\n  /**  */\n  axisLineBorderColor?: string;\n  /**  */\n  axisLineBorder?: number;\n  /**  lineDash  */\n  axisLineDash?: number[];\n\n  /**  */\n  axisTitleTextFillColor?: string;\n  /**  */\n  axisTitleTextFontSize?: number;\n  /**  */\n  axisTitleTextLineHeight?: number;\n  /**  */\n  axisTitleTextFontWeight?: number | string;\n\n  /**  */\n  axisTickLineBorderColor?: string;\n  /**  */\n  axisTickLineLength?: number;\n  /**  */\n  axisTickLineBorder?: number;\n\n  /**  */\n  axisSubTickLineBorderColor?: string;\n  /**  */\n  axisSubTickLineLength?: number;\n  /**  */\n  axisSubTickLineBorder?: number;\n\n  /**  */\n  axisLabelFillColor?: string;\n  /**  */\n  axisLabelFontSize?: number;\n  /**  */\n  axisLabelLineHeight?: number;\n  /**  */\n  axisLabelFontWeight?: number | string;\n\n  /**  */\n  axisGridBorderColor?: string;\n  /**  */\n  axisGridBorder?: number;\n  /**  */\n  axisGridLineDash?: number[];\n\n  // --------------------  --------------------\n  /**  */\n  legendTitleTextFillColor?: string;\n  /**  */\n  legendTitleTextFontSize?: number;\n  /**  */\n  legendTitleTextLineHeight?: number;\n  /**  */\n  legendTitleTextFontWeight?: number | string;\n\n  /**  marker  */\n  legendMarkerColor?: string;\n  /**  marker  */\n  legendMarkerSize?: number;\n  /**  'circle' marker  */\n  legendCircleMarkerSize?: number;\n  /**  'square' marker  */\n  legendSquareMarkerSize?: number;\n  /**  'line' marker  */\n  legendLineMarkerSize?: number;\n\n  /**  */\n  legendItemNameFillColor?: string;\n  /**  */\n  legendItemNameFontSize?: number;\n  /**  */\n  legendItemNameLineHeight?: number;\n  /**  */\n  legendItemNameFontWeight?: number | string;\n\n  /**  */\n  sliderRailFillColor?: string;\n  /**  */\n  sliderRailBorder?: number;\n  /**  */\n  sliderRailBorderColor?: string;\n  /**  */\n  sliderRailWidth?: number;\n  /**  */\n  sliderRailHeight?: number;\n\n  /**  */\n  sliderLabelTextFillColor?: string;\n  /**  */\n  sliderLabelTextFontSize?: number;\n  /**  */\n  sliderLabelTextLineHeight?: number;\n  /**  */\n  sliderLabelTextFontWeight?: number | string;\n\n  /**  */\n  sliderHandlerFillColor?: string;\n  /**  */\n  sliderHandlerWidth?: number;\n  /**  */\n  sliderHandlerHeight?: number;\n  /**  */\n  sliderHandlerBorder?: number;\n  /**  */\n  sliderHandlerBorderColor?: string;\n\n  // -------------------- Annotation --------------------\n  /** arc  */\n  annotationArcBorderColor?: string;\n  /** arc  */\n  annotationArcBorder?: number;\n\n  /** line  */\n  annotationLineBorderColor?: string;\n  /** line  */\n  annotationLineBorder?: number;\n  /** lube  */\n  annotationLineDash?: number[];\n\n  /** text  */\n  annotationTextFillColor?: string;\n  /** text  */\n  annotationTextFontSize?: number;\n  /** text  */\n  annotationTextLineHeight?: number;\n  /** text  */\n  annotationTextFontWeight?: number | string;\n\n  /** text  */\n  annotationTextBorderColor?: string;\n  /** text  */\n  annotationTextBorder?: number;\n\n  /** region  */\n  annotationRegionFillColor?: string;\n  /** region  */\n  annotationRegionFillOpacity?: number;\n  /** region  */\n  annotationRegionBorder?: number;\n  /** region  */\n  annotationRegionBorderColor?: string;\n\n  /** dataMarker  */\n  annotationDataMarkerLineLength?: number;\n\n  // -------------------- Tooltip --------------------\n  /** tooltip crosshairs  */\n  tooltipCrosshairsBorderColor?: string;\n  /** tooltip crosshairs  */\n  tooltipCrosshairsBorder?: number;\n  /** tooltip crosshairs  */\n  tooltipCrosshairsLineDash?: number[];\n\n  /** tooltip  */\n  tooltipContainerFillColor?: string;\n  /** tooltip  */\n  tooltipContainerFillOpacity?: number;\n  /** tooltip  */\n  tooltipContainerShadow?: string;\n  /** tooltip  */\n  tooltipContainerBorderRadius?: number;\n\n  /** tooltip  */\n  tooltipTextFillColor?: string;\n  /** tooltip  */\n  tooltipTextFontSize?: number;\n  /** tooltip  */\n  tooltipTextLineHeight?: number;\n  /** tooltip  */\n  tooltipTextFontWeight?: number | string;\n\n\n  // -------------------- Geometry labels --------------------\n  /** Geometry label  */\n  labelFillColor?: string;\n  /** Geometry label  */\n  labelFontSize?: number;\n  /** Geometry label  */\n  labelLineHeight?: number;\n  /** Geometry label  */\n  labelFontWeight?: number | string;\n  /** Geometry label  */\n  labelBorderColor?: string;\n  /** Geometry label  */\n  labelBorder?: number;\n\n  /** Geometry innerLabel  */\n  innerLabelFillColor?: string;\n  /** Geometry innerLabel  */\n  innerLabelFontSize?: number;\n  /** Geometry innerLabel  */\n  innerLabelLineHeight?: number;\n  /** Geometry innerLabel  */\n  innerLabelFontWeight?: number | string;\n  /** Geometry innerLabel  */\n  innerLabelBorderColor?: string;\n  /** Geometry innerLabel  */\n  innerLabelBorder?: number;\n\n  /** Geometry label */\n  labelLineBorder?: number;\n  /** Geometry label  */\n  labelLineBorderColor?: string;\n\n  // -------------------- Geometry --------------------\n  /**  */\n  pointSizeRange?: [number, number];\n  /**  */\n  pointFillColor?: string;\n  /**  */\n  pointFillOpacity?: number;\n  /**  */\n  pointSize?: number;\n  /**  */\n  pointBorder?: number;\n  /**  */\n  pointBorderColor?: string;\n  /**  */\n  pointBorderOpacity?: number;\n\n  /**  active  */\n  pointActiveFillColor?: string;\n  /**  active  */\n  pointActiveFillOpacity?: number;\n  /**  active  */\n  pointActiveSize?: number;\n  /**  active  */\n  pointActiveBorder?: number;\n  /**  active  */\n  pointActiveBorderColor?: string;\n  /**  active  */\n  pointActiveBorderOpacity?: number;\n\n  /**  selected  */\n  pointSelectedFillColor?: string;\n  /**  selected  */\n  pointSelectedFillOpacity?: number;\n  /**  selected  */\n  pointSelectedSize?: number;\n  /**  selected  */\n  pointSelectedBorder?: number;\n  /**  selected  */\n  pointSelectedBorderColor?: string;\n  /**  selected  */\n  pointSelectedBorderOpacity?: number;\n\n  /**  inactive  */\n  pointInactiveFillColor?: string;\n  /**  inactive  */\n  pointInactiveFillOpacity?: number;\n  /**  inactive  */\n  pointInactiveSize?: number;\n  /**  inactive  */\n  pointInactiveBorder?: number;\n  /**  inactive  */\n  pointInactiveBorderColor?: string;\n  /**  inactive  */\n  pointInactiveBorderOpacity?: number;\n\n  /**  */\n  hollowPointSize?: number;\n  /**  */\n  hollowPointBorder?: number;\n  /**  */\n  hollowPointBorderColor?: string;\n  /**  */\n  hollowPointBorderOpacity?: number;\n  /**  */\n  hollowPointFillColor?: string;\n  /**  */\n  hollowPointFillOpacity?: number;\n\n  /**   active  */\n  hollowPointActiveSize?: number;\n  /**   active  */\n  hollowPointActiveBorder?: number;\n  /**   active  */\n  hollowPointActiveBorderColor?: string;\n  /**   active  */\n  hollowPointActiveBorderOpacity?: number;\n\n  /**   selected  */\n  hollowPointSelectedSize?: number;\n  /**   selected  */\n  hollowPointSelectedBorder?: number;\n  /**   selected  */\n  hollowPointSelectedBorderColor?: string;\n  /**   selected  */\n  hollowPointSelectedBorderOpacity?: number;\n\n  /**   inactive  */\n  hollowPointInactiveSize?: number;\n  /**   inactive  */\n  hollowPointInactiveBorder?: number;\n  /**   inactive  */\n  hollowPointInactiveBorderColor?: string;\n  /**   inactive  */\n  hollowPointInactiveBorderOpacity?: number;\n\n  /**  */\n  lineBorder?: number;\n  /**  */\n  lineBorderColor?: string;\n  /**  */\n  lineBorderOpacity?: number;\n\n  /**  active  */\n  lineActiveBorder?: number;\n  /**  active  */\n  lineActiveBorderColor?: string;\n  /**  active  */\n  lineActiveBorderOpacity?: number;\n\n  /**  selected  */\n  lineSelectedBorder?: number;\n  /**  selected  */\n  lineSelectedBorderColor?: string;\n  /**  selected  */\n  lineSelectedBorderOpacity?: number;\n\n  /**  inactive  */\n  lineInactiveBorder?: number;\n  /**  inactive  */\n  lineInactiveBorderColor?: string;\n  /**  inactive  */\n  lineInactiveBorderOpacity?: number;\n\n  areaBorder?: number;\n  /** area  */\n  areaBorderColor?: string;\n  /** area  */\n  areaBorderOpacity?: number;\n  /** area  */\n  areaFillColor?: string;\n  /** area  */\n  areaFillOpacity?: number;\n\n  /** area Active  */\n  areaActiveBorder?: number;\n  /** area Active  */\n  areaActiveBorderColor?: string;\n  /** area Active  */\n  areaActiveBorderOpacity?: number;\n  /** area Active  */\n  areaActiveFillColor?: string;\n  /** area Active  */\n  areaActiveFillOpacity?: number;\n\n  /** area selected  */\n  areaSelectedBorder?: number;\n  /** area selected  */\n  areaSelectedBorderColor?: string;\n  /** area selected  */\n  areaSelectedBorderOpacity?: number;\n  /** area selected  */\n  areaSelectedFillColor?: string;\n  /** area selected  */\n  areaSelectedFillOpacity?: number;\n\n  /** area inactive  */\n  areaInactiveBorder?: number;\n  /** area inactive  */\n  areaInactiveBorderColor?: string;\n  /** area inactive  */\n  areaInactiveBorderOpacity?: number;\n  /** area inactive  */\n  areaInactiveFillColor?: string;\n  /** area inactive  */\n  areaInactiveFillOpacity?: number;\n\n  /** hollowArea  */\n  hollowAreaBorder?: number;\n  /** hollowArea  */\n  hollowAreaBorderColor?: string;\n  /** hollowArea  */\n  hollowAreaBorderOpacity?: number;\n\n  /** hollowArea Active  */\n  hollowAreaActiveBorder?: number;\n  /** hollowArea Active  */\n  hollowAreaActiveBorderColor?: string;\n  /** hollowArea Active  */\n  hollowAreaActiveBorderOpacity?: number;\n\n  /** hollowArea selected  */\n  hollowAreaSelectedBorder?: number;\n  /** hollowArea selected  */\n  hollowAreaSelectedBorderColor?: string;\n  /** hollowArea selected  */\n  hollowAreaSelectedBorderOpacity?: number;\n\n  /** hollowArea inactive  */\n  hollowAreaInactiveBorder?: number;\n  /** hollowArea inactive  */\n  hollowAreaInactiveBorderColor?: string;\n  /** hollowArea inactive  */\n  hollowAreaInactiveBorderOpacity?: number;\n\n  /** interval  */\n  intervalBorder?: number;\n  /** interval  */\n  intervalBorderColor?: string;\n  /** interval  */\n  intervalBorderOpacity?: number;\n  /** interval  */\n  intervalFillColor?: string;\n  /** interval  */\n  intervalFillOpacity?: number;\n\n  /** interval active  */\n  intervalActiveBorder?: number;\n  /** interval active  */\n  intervalActiveBorderColor?: string;\n  /** interval active  */\n  intervalActiveBorderOpacity?: number;\n  /** interval active  */\n  intervalActiveFillColor?: string;\n  /** interval active  */\n  intervalActiveFillOpacity?: number;\n\n  /** interval selected  */\n  intervalSelectedBorder?: number;\n  /** interval selected  */\n  intervalSelectedBorderColor?: string;\n  /** interval selected  */\n  intervalSelectedBorderOpacity?: number;\n  /** interval selected  */\n  intervalSelectedFillColor?: string;\n  /** interval selected  */\n  intervalSelectedFillOpacity?: number;\n\n  /** interval inactive  */\n  intervalInactiveBorder?: number;\n  /** interval inactive  */\n  intervalInactiveBorderColor?: string;\n  /** interval inactive  */\n  intervalInactiveBorderOpacity?: number;\n  /** interval inactive  */\n  intervalInactiveFillColor?: string;\n  /** interval inactive  */\n  intervalInactiveFillOpacity?: number;\n\n  /** hollowInterval  */\n  hollowIntervalBorder?: number;\n  /** hollowInterval  */\n  hollowIntervalBorderColor?: string;\n  /** hollowInterval  */\n  hollowIntervalBorderOpacity?: number;\n  /** hollowInterval  */\n  hollowIntervalFillColor?: string;\n  /** hollowInterval  */\n  hollowIntervalFillOpacity?: number;\n\n  /** hollowInterval active  */\n  hollowIntervalActiveBorder?: number;\n  /** hollowInterval active  */\n  hollowIntervalActiveBorderColor?: string;\n  /** hollowInterval active  */\n  hollowIntervalActiveBorderOpacity?: number;\n\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorder?: number;\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorderColor?: string;\n  /** hollowInterval selected  */\n  hollowIntervalSelectedBorderOpacity?: number;\n\n  /** hollowInterval inactive  */\n  hollowIntervalInactiveBorder?: number;\n  /** hollowInterval inactive  */\n  hollowIntervalInactiveBorderColor?: string;\n  /** hollowInterval inactive  */\n  hollowIntervalInactiveBorderOpacity?: number;\n}\n\n// ============================  ============================\n/**  */\nexport interface IAction {\n  /**\n   * \n   */\n  init();\n  /**\n   *  action ()\n   */\n  name: string;\n  /**\n   * \n   */\n  context: IInteractionContext;\n  /**\n   * \n   */\n  destroy();\n}\n\n/**  */\nexport interface IInteractionContext extends LooseObject {\n  /**  */\n  event: LooseObject;\n  /**\n   *  view\n   */\n  view: View;\n  /**  Actions */\n  actions: IAction[];\n  /**\n   * \n   * @param key \n   * @param value \n   */\n  cache(key: string, value?: any);\n  /**\n   *  action\n   * @param name - action \n   * @returns  name  Action\n   */\n  getAction(name): IAction;\n  /**\n   * \n   * @returns \n   */\n  getCurrentPoint(): Point;\n  /**\n   * \n   */\n  getCurrentShape(): IShape;\n  /**\n   *  action\n   * @param action  action\n   */\n  addAction(action: IAction);\n  /**\n   *  action\n   * @param action  action\n   */\n  removeAction(action: IAction);\n  /**\n   *  view \n   */\n  isInPlot();\n  /**\n   * \n   * @param name \n   */\n  isInComponent(name?: string);\n  /**\n   * \n   * @param name shape \n   */\n  isInShape(name);\n  /**\n   * \n   */\n  destroy();\n}\n\n/** G  */\nexport type Renderer = 'svg' | 'canvas';\n/**  */\nexport type Datum = Record<string, any>;\nexport type Data = Datum[];\nexport type ActionCallback = (context: IInteractionContext) => void;\nexport type Padding = number[];\nexport type ViewPadding = number | number[] | 'auto';\nexport type Position = [number, number];\nexport type AttributeType = 'position' | 'size' | 'color' | 'shape';\nexport type ShapeVertices = RangePoint[] | Point[] | Point[][];\n/** easing   data  */\nexport type AnimateEasingCallback = (data: Datum) => string;\n/** delay   data  */\nexport type AnimateDelayCallback = (data: Datum) => number;\n/** duration   data  */\nexport type AnimateDurationCallback = (data: Datum) => number;\n","\"use strict\";\n/**\n * @fileoverview \n * @author dxq613@gmail.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://blog.csdn.net/WilliamSun0122/article/details/77994526\nvar tolerance = 1e-6;\n// doubleeps\nfunction dcmp(x) {\n    if (Math.abs(x) < tolerance) {\n        return 0;\n    }\n    return x < 0 ? -1 : 1;\n}\n// Qp1p2\nfunction onSegment(p1, p2, q) {\n    if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n        Math.min(p1[0], p2[0]) <= q[0] &&\n        q[0] <= Math.max(p1[0], p2[0]) &&\n        Math.min(p1[1], p2[1]) <= q[1] &&\n        q[1] <= Math.max(p1[1], p2[1])) {\n        return true;\n    }\n    return false;\n}\n// P-\nfunction isInPolygon(points, x, y) {\n    var isHit = false;\n    var n = points.length;\n    if (n <= 2) {\n        // svg  3 \n        return false;\n    }\n    for (var i = 0; i < n; i++) {\n        var p1 = points[i];\n        var p2 = points[(i + 1) % n];\n        if (onSegment(p1, p2, [x, y])) {\n            // \n            return true;\n        }\n        // min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n        //    \n        if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n            dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0) {\n            isHit = !isHit;\n        }\n    }\n    return isHit;\n}\nexports.default = isInPolygon;\n//# sourceMappingURL=point-in-polygon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isBetween = function (value, min, max) { return value >= min && value <= max; };\nfunction getLineIntersect(p0, p1, p2, p3) {\n    var tolerance = 0.001;\n    var E = {\n        x: p2.x - p0.x,\n        y: p2.y - p0.y,\n    };\n    var D0 = {\n        x: p1.x - p0.x,\n        y: p1.y - p0.y,\n    };\n    var D1 = {\n        x: p3.x - p2.x,\n        y: p3.y - p2.y,\n    };\n    var kross = D0.x * D1.y - D0.y * D1.x;\n    var sqrKross = kross * kross;\n    var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n    var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n    var point = null;\n    if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n        var s = (E.x * D1.y - E.y * D1.x) / kross;\n        var t = (E.x * D0.y - E.y * D0.x) / kross;\n        if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n            point = {\n                x: p0.x + s * D0.x,\n                y: p0.y + s * D0.y,\n            };\n        }\n    }\n    return point;\n}\nexports.default = getLineIntersect;\n;\n//# sourceMappingURL=get-line-intersect.js.map","import { ICanvas } from '../../dependents';\nimport { Point } from '../../interface';\nimport { View } from '../view';\nimport { Controller } from './base';\n\nconst PRESS_DELAY = 250;\n\n// \nconst calcDirection = (start: Point, end: Point) => {\n  const xDistance = end.x - start.x;\n  const yDistance = end.y - start.y;\n  // x y \n  if (Math.abs(xDistance) > Math.abs(yDistance)) {\n    return xDistance > 0 ? 'right' : 'left';\n  }\n  return yDistance > 0 ? 'down' : 'up';\n};\n\n// 2\nconst calcDistance = (point1: Point, point2: Point) => {\n  const xDistance = Math.abs(point2.x - point1.x);\n  const yDistance = Math.abs(point2.y - point1.y);\n  return Math.sqrt(xDistance * xDistance + yDistance * yDistance);\n};\n\nconst getCenter = (point1, point2) => {\n  const x = (point1.x + point2.x) / 2;\n  const y = (point1.y + point2.y) / 2;\n  return { x, y };\n};\n\nconst convertPoints = (touches, canvas: ICanvas) => {\n  if (!touches) {\n    return;\n  }\n  const points = [];\n  const len = touches.length;\n  for (let i = 0; i < len; i++) {\n    const touch = touches[i];\n    // x, y: canvasclientX, clientY \n    const { clientX, clientY } = touch;\n    const point = canvas.getPointByClient(clientX, clientY);\n    points.push(point);\n  }\n  return points;\n};\n\nexport default class GestureController extends Controller {\n  private canvas: ICanvas;\n  private processEvent = {};\n\n  private startTime: number;\n  private startPoints: Point[];\n  private startDistance: number;\n  private center: Point;\n  private pressTimeout;\n  private direction: string;\n  private prevMoveTime: number;\n  private prevMovePoints: Point[];\n  private lastMoveTime: number;\n  private lastMovePoints: Point[];\n  private eventType: string;\n\n  constructor(view: View) {\n    super(view);\n\n    this.canvas = view.getCanvas();\n\n    this.delegateEvent();\n\n    // \n    this.processEvent = {};\n  }\n\n  public get name(): string {\n    return 'gesture';\n  }\n\n  public init() {}\n\n  public render() {}\n\n  public layout() {}\n\n  public update() {}\n\n  public destroy() {\n    this.reset();\n    this.offEvent();\n    this.processEvent = null;\n  }\n\n  private delegateEvent() {\n    // \n    this.canvas.on('touchstart', this.touchStart);\n    this.canvas.on('touchmove', this.touchMove);\n    this.canvas.on('touchend', this.touchEnd);\n  }\n\n  private offEvent() {\n    this.canvas.off('touchstart', this.touchStart);\n    this.canvas.off('touchmove', this.touchMove);\n    this.canvas.off('touchend', this.touchEnd);\n  }\n\n  private touchStart = (ev): void => {\n    const points = convertPoints(ev.originalEvent.touches, this.canvas);\n    if (!points) {\n      return;\n    }\n    ev.points = points;\n    // reset\n    this.reset();\n    // touch start \n    this.startTime = Date.now();\n    // touch start \n    this.startPoints = points;\n    if (points.length > 1) {\n      this.startDistance = calcDistance(points[0], points[1]);\n      this.center = getCenter(points[0], points[1]);\n    } else {\n      // touchstart250ms, press\n      this.pressTimeout = setTimeout(() => {\n        // press\n        const eventType = 'press';\n        ev.direction = 'none';\n        this.emitStart(eventType, ev);\n        this.emitEvent(eventType, ev);\n        this.eventType = eventType;\n      }, PRESS_DELAY);\n    }\n  };\n\n  private touchMove = (ev): void => {\n    const points = convertPoints(ev.originalEvent.touches, this.canvas);\n    if (!points) {\n      return;\n    }\n    this.clearPressTimeout();\n    ev.points = points;\n\n    const startPoints = this.startPoints;\n    if (!startPoints) {\n      return;\n    }\n    // \n    if (points.length > 1) {\n      // touchstart\n      const startDistance = this.startDistance;\n      const currentDistance = calcDistance(points[0], points[1]);\n      ev.zoom = currentDistance / startDistance;\n      ev.center = this.center;\n      // \n      this.emitStart('pinch', ev);\n      this.emitEvent('pinch', ev);\n    } else {\n      const deltaX = points[0].x - startPoints[0].x;\n      const deltaY = points[0].y - startPoints[0].y;\n      const direction = this.direction || calcDirection(startPoints[0], points[0]);\n      this.direction = direction;\n\n      // presspan\n      // press , pan\n      // startmovepan, press\n      const eventType = this.getEventType(points);\n\n      ev.direction = direction;\n      ev.deltaX = deltaX;\n      ev.deltaY = deltaY;\n      this.emitStart(eventType, ev);\n      this.emitEvent(eventType, ev);\n\n      // 2moveswipe\n      const prevMoveTime = this.lastMoveTime;\n      const now = Date.now();\n      // 20swipe\n      if (now - prevMoveTime > 0) {\n        this.prevMoveTime = prevMoveTime;\n        this.prevMovePoints = this.lastMovePoints;\n        this.lastMoveTime = now;\n        this.lastMovePoints = points;\n      }\n    }\n  };\n\n  private touchEnd = (ev): void => {\n    this.emitEnd(ev);\n\n    // swipe, touchend\n    const lastMoveTime = this.lastMoveTime;\n    const now = Date.now();\n    // touchmoveend\n    // 100 10ms\n    if (now - lastMoveTime < 100) {\n      const prevMoveTime = this.prevMoveTime || this.startTime;\n      const intervalTime = lastMoveTime - prevMoveTime;\n      // 0, \n      if (intervalTime > 0) {\n        const prevMovePoints = this.prevMovePoints || this.startPoints;\n        const lastMovePoints = this.lastMovePoints;\n        // move\n        const velocity = calcDistance(prevMovePoints[0], lastMovePoints[0]) / intervalTime;\n        // 0.3 hammerjs\n        if (velocity > 0.3) {\n          ev.velocity = velocity;\n          ev.direction = calcDirection(prevMovePoints[0], lastMovePoints[0]);\n          this.emitEvent('swipe', ev);\n        }\n      }\n    }\n\n    this.reset();\n\n    const touches = ev.touches;\n    // 1end, start\n    if (touches && touches.length > 0) {\n      this.touchStart(ev);\n    }\n  };\n\n  private emitEvent(type, ev) {\n    const view = this.view;\n    view.emit(type, ev);\n  }\n\n  // start\n  private emitStart(type, ev) {\n    if (this.isProcess(type)) {\n      return;\n    }\n    this.enable(type);\n    this.emitEvent(`${type}start`, ev);\n  }\n  // end\n  private emitEnd(ev) {\n    const processEvent = this.processEvent;\n    Object.keys(processEvent).forEach((type) => {\n      this.emitEvent(`${type}end`, ev);\n      delete processEvent[type];\n    });\n  }\n\n  private enable(eventType: string) {\n    this.processEvent[eventType] = true;\n  }\n  // \n  private isProcess(eventType: string) {\n    return this.processEvent[eventType];\n  }\n\n  private reset() {\n    this.clearPressTimeout();\n    this.startTime = 0;\n    this.startPoints = null;\n    this.startDistance = 0;\n    this.direction = null;\n    this.eventType = null;\n    this.prevMoveTime = 0;\n    this.prevMovePoints = null;\n    this.lastMoveTime = 0;\n    this.lastMovePoints = null;\n  }\n\n  private clearPressTimeout() {\n    if (this.pressTimeout) {\n      clearTimeout(this.pressTimeout);\n      this.pressTimeout = 0;\n    }\n  }\n\n  private getEventType(points) {\n    const { eventType, view, startTime, startPoints } = this;\n    if (eventType) {\n      return eventType;\n    }\n    let type;\n    const panEventListeners = view.getEvents().pan;\n    //  view  pan  press\n    if (!panEventListeners || !panEventListeners.length) {\n      type = 'press';\n    } else {\n      // panpress250ms, 10\n      const now = Date.now();\n      if (now - startTime > PRESS_DELAY && calcDistance(startPoints[0], points[0]) < 10) {\n        type = 'press';\n      } else {\n        type = 'pan';\n      }\n    }\n    this.eventType = type;\n    return type;\n  }\n}\n","import { deepMix, isFunction, get } from '@antv/util';\nimport { ViewLayer } from '../..';\nimport { IBaseAxis } from '../../interface/config';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\n\nfunction propertyMapping(source, target, field) {\n  if (source[field]) {\n    target[field] = source[field];\n  }\n}\n\ninterface AxisConfig {\n  plot: ViewLayer;\n  dim: string;\n}\n\nexport default class AxisParser {\n  public config: any = false;\n  protected originConfig: any;\n  private plot: any;\n  private dim: string;\n  private localProps: IBaseAxis;\n  private themeConfig: any;\n\n  constructor(cfg: AxisConfig) {\n    this.plot = cfg.plot;\n    this.dim = cfg.dim;\n    this.init();\n  }\n\n  private init() {\n    this.config = false;\n    const theme = this.plot.getPlotTheme();\n    this.themeConfig = theme && theme.axis && theme.axis[this.dim];\n    if (this._needDraw()) {\n      this._styleParser();\n    }\n  }\n\n  private _styleParser() {\n    this.config = { ...this.localProps };\n    this._isVisible('line') ? this._lineParser() : (this.config.line = null);\n    this._isVisible('grid') ? this._gridParser() : (this.config.grid = null);\n    this._isVisible('tickLine') ? this._tickLineParser() : (this.config.tickLine = null);\n    this._isVisible('label') ? this._labelParser() : (this.config.label = null);\n    this._isVisible('title') ? this._titleParser() : (this.config.title = null);\n\n    propertyMapping(this.localProps, this.config, 'autoHideLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateTitle');\n  }\n\n  private _needDraw() {\n    /** visibilitytheme */\n    const propos = this.plot.options;\n    const propsConfig = propos[`${this.dim}Axis`] ? propos[`${this.dim}Axis`] : {};\n    const config = deepMix({}, this.themeConfig, propsConfig);\n    this.localProps = config;\n    if (config.visible) {\n      return true;\n    }\n    return false;\n  }\n\n  private _lineParser() {\n    this.config.line = this.localProps.line;\n    if (this.localProps.line.style) {\n      this.config.line = { style: this.localProps.line.style };\n    }\n    this.applyThemeConfig('line');\n  }\n\n  private _gridParser() {\n    const style = this.localProps.grid?.line?.style;\n    const type = this.localProps.grid?.line?.type;\n    const alternateColor = this.localProps.grid?.alternateColor;\n\n    if (isFunction(style)) {\n      this.config.grid = (text: string, index: number, count: number) => {\n        const cfg = style(text, index, count);\n        return {\n          line: {\n            type,\n            style: deepMix({}, get(this.themeConfig, `grid.line.style`), cfg),\n          },\n          alternateColor,\n        };\n      };\n    } else if (style) {\n      this.config.grid = {\n        line: {\n          type,\n          style,\n        },\n        alternateColor,\n      };\n      this.applyThemeConfig('grid');\n    }\n  }\n\n  private _tickLineParser() {\n    this.config.tickLine = this.localProps.tickLine;\n    if (this.localProps.tickLine.style) {\n      this.config.tickLine = { style: this.localProps.tickLine.style };\n    }\n    this.applyThemeConfig('tickLine');\n  }\n\n  private _labelParser() {\n    const { style, ...restLabelProps } = this.localProps.label;\n    const labelConfig: any = { ...restLabelProps };\n    if (style) {\n      labelConfig.style = { ...this.localProps.label.style };\n    }\n    labelConfig.style = deepMix({}, get(this.themeConfig, 'label.style'), labelConfig.style);\n    const formatter = this.parseFormatter(labelConfig);\n    labelConfig.formatter = formatter;\n    this.config.label = labelConfig;\n  }\n\n  private _titleParser() {\n    const titleConfig: any = { ...this.localProps.title };\n    const { visible, style, text } = this.localProps.title;\n    if (!visible) {\n      this.config.showTitle = false;\n    } else {\n      this.config.showTitle = true;\n      if (style) {\n        titleConfig.style = style;\n      }\n      titleConfig.style = deepMix({}, get(this.config, 'title.style'), titleConfig.textStyle);\n\n      if (text) {\n        titleConfig.text = text;\n      }\n    }\n    this.config.title = titleConfig;\n  }\n\n  private _isVisible(name: string) {\n    if (this.localProps[name] && this.localProps[name].visible) {\n      return true;\n    }\n    return false;\n  }\n\n  private applyThemeConfig(type: 'line' | 'grid' | 'tickLine') {\n    this.config[type] = deepMix({}, get(this.themeConfig, `${type}.style`), this.config[type]);\n  }\n\n  protected parseFormatter(labelConfig) {\n    let formatter = combineFormatter(\n      getNoopFormatter(),\n      getPrecisionFormatter(labelConfig.precision),\n      getSuffixFormatter(labelConfig.suffix)\n    );\n    if (labelConfig.formatter) {\n      formatter = combineFormatter(\n        formatter,\n        labelConfig.formatter as (text: string, item: any, idx: number) => string\n      );\n    }\n    return formatter;\n  }\n}\n","import { getScale } from '@antv/scale';\nimport { assign, deepMix, mix, each, isArray, isString, isNumber, contains, toArray, clone } from '@antv/util';\nimport { getMean, getMedian } from '../util/math';\n\nexport default class GuideLine {\n  public config: any;\n  private plot: any;\n  private cfg: any;\n  private values: number[];\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this._init();\n  }\n\n  private _init() {\n    const { yField, data } = this.plot.options;\n    const plotData = this.plot.processData(data);\n    if (!isNumber(plotData[0][yField])) {\n      return;\n    }\n    const defaultStyle = this.getDefaultStyle();\n    const baseConfig: any = {\n      type: 'line',\n      top: true,\n      start: this.cfg.start,\n      end: this.cfg.end,\n    };\n\n    baseConfig.style = deepMix({}, defaultStyle.line.style, this.cfg.lineStyle);\n    baseConfig.text = deepMix({}, defaultStyle.text, this.cfg.text);\n    if (this.cfg.type) {\n      const stateValue = this._getState(this.cfg.type);\n      const scale = this.getYScale();\n      const percent = `${(1.0 - scale.scale(stateValue)) * 100}%`;\n      const start = ['0%', percent];\n      const end = ['100%', percent];\n      this.config = mix(\n        {\n          start,\n          end,\n        },\n        baseConfig\n      );\n    } else {\n      const { start, end } = this.cfg;\n      this.config = clone(baseConfig);\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const startData = clone(start);\n      const endData = clone(end);\n      each(start, (value, index) => {\n        if (!contains(toArray(start[index]), '%') || isNumber(start[index])) {\n          if (index === 0) {\n            startData[index] = `${xScale.scale(start[0]) * 100}%`;\n          } else {\n            startData[index] = `${(1.0 - yScale.scale(start[1])) * 100}%`;\n          }\n        }\n      });\n      each(end, (value, index) => {\n        if (!contains(toArray(end[index]), '%') || isNumber(end[index])) {\n          if (index === 0) {\n            endData[index] = `${xScale.scale(end[0]) * 100}%`;\n          } else {\n            endData[index] = `${(1.0 - yScale.scale(end[1])) * 100}%`;\n          }\n        }\n      });\n      this.config.start = startData;\n      this.config.end = endData;\n    }\n  }\n\n  private getYScale() {\n    const minValue = this._getState('min');\n    const maxValue = this._getState('max');\n    const Scale = getScale('linear');\n    // scalescaleminmaxguide pointnice\n    const scale = new Scale(\n      mix(\n        {},\n        {\n          min: this.plot.type === 'column' ? 0 : minValue,\n          max: maxValue,\n          nice: true,\n          values: this.values,\n        },\n        this.plot.config.scales[this.plot.options.yField]\n      )\n    );\n    return scale;\n  }\n\n  private getXScale() {\n    const values = this.extractXValue();\n    if (isString(values[0])) {\n      const Scale = getScale('cat');\n      const scale = new Scale(\n        mix(\n          {},\n          {\n            values: values,\n          },\n          this.plot.config.scales[this.plot.options.xField]\n        )\n      );\n      return scale;\n    } else {\n      const min = Math.min(...values);\n      const max = Math.max(...values);\n      const Scale = getScale('linear');\n      const scale = new Scale(\n        mix(\n          {},\n          {\n            min: min,\n            max: max,\n            nice: true,\n            values: values,\n          },\n          this.plot.config.scales[this.plot.options.xField]\n        )\n      );\n      return scale;\n    }\n  }\n\n  private _getState(type) {\n    this.values = this._extractValues();\n    if (type === 'median') {\n      return getMedian(this.values);\n    }\n    if (type === 'mean') {\n      return getMean(this.values);\n    }\n    if (type === 'max') {\n      return Math.max(...this.values);\n    }\n    if (type === 'min') {\n      return Math.min(...this.values);\n    }\n  }\n\n  private _extractValues() {\n    const props = this.plot.options;\n    const field = props.yField;\n    const values = [];\n    const data = this.plot.processData(props.data);\n    each(data, (d) => {\n      if (isArray(d[field])) {\n        values.push(...d[field]);\n      } else {\n        values.push(d[field]);\n      }\n    });\n    return values;\n  }\n\n  private extractXValue() {\n    const props = this.plot.options;\n    const field = props.xField;\n    const values = [];\n    const data = this.plot.processData(props.data);\n    each(data, (d) => {\n      if (isArray(d[field])) {\n        values.push(...d[field]);\n      } else {\n        values.push(d[field]);\n      }\n    });\n    return values;\n  }\n\n  private getDefaultStyle() {\n    this.getDefaultTextAlign();\n    return {\n      line: {\n        style: {\n          lineWidth: 2,\n          stroke: '#333333',\n          opacity: 0.7,\n          lineDash: [0, 0],\n        },\n      },\n      text: {\n        content: '',\n        offsetY: -5,\n        style: {\n          fontSize: 14,\n          stroke: 'white',\n          lineWidth: 2,\n          textAlign: this.getDefaultTextAlign(),\n        },\n      },\n    };\n  }\n\n  private getDefaultTextAlign() {\n    const textConfig = this.cfg.text;\n    if (textConfig) {\n      if (!textConfig.position || textConfig.position === 'start') {\n        return 'left';\n      }\n      if (textConfig.position === 'center') {\n        return 'center';\n      }\n      if (textConfig.position === 'end') {\n        return 'right';\n      }\n    }\n  }\n}\n","import { assign, isFunction, deepMix, get, each, has } from '@antv/util';\nimport { Label } from '../../interface/config';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\nimport { LooseMap } from '../../interface/types';\n\nexport default class LabelParser {\n  public config: LooseMap = {};\n  protected plot: any;\n  protected originConfig: Label;\n\n  constructor(cfg) {\n    const { plot, ...rest } = cfg;\n    this.plot = plot;\n    this.originConfig = rest;\n    this.init(cfg);\n  }\n\n  public getConfig() {\n    return this.config;\n  }\n\n  protected init(cfg) {\n    assign(this.config, cfg);\n    this.config.callback = (val) => {\n      return this.parseCallBack(val);\n    };\n  }\n\n  protected parseCallBack(val) {\n    const labelProps = this.originConfig;\n    const theme = this.plot.getPlotTheme();\n    const config: LooseMap = { ...labelProps };\n    this.parseOffset(labelProps, config);\n    if (labelProps.position) {\n      if (isFunction(labelProps.position)) {\n        config.position = labelProps.position(val);\n      } else {\n        config.position = labelProps.position;\n      }\n    }\n    this.parseFormatter(config);\n    if (labelProps.style) {\n      if (isFunction(labelProps.style)) {\n        config.textStyle = labelProps.style(val);\n      } else {\n        config.textStyle = labelProps.style;\n      }\n    }\n    config.textStyle = deepMix({}, get(theme, 'label.style'), config.textStyle);\n    if (labelProps.autoRotate) {\n      config.autoRotate = labelProps.autoRotate;\n    }\n\n    return config;\n  }\n\n  protected parseOffset(props, config) {\n    const mapper = ['offset', 'offsetX', 'offsetY'];\n    let count = 0;\n    each(mapper, (m) => {\n      if (has(props, m)) {\n        config[m] = props[m];\n        count++;\n      }\n    });\n    // offsetlabel positionmiddleoffset0\n    if (count === 0 && get(props, 'position') === 'middle') {\n      config.offset = 0;\n    }\n  }\n\n  protected parseFormatter(config: LooseMap) {\n    const labelProps = this.originConfig;\n    config.content = (data, index) => {\n      // @ts-ignore\n      const text = data[labelProps.fields[0]];\n      return combineFormatter(\n        getNoopFormatter(),\n        getPrecisionFormatter(labelProps.precision),\n        getSuffixFormatter(labelProps.suffix),\n        (labelProps.formatter as (text: string, item: any, idx: number) => string)\n          ? labelProps.formatter\n          : getNoopFormatter()\n      )(text, data, index);\n    };\n  }\n}\n","import { each, clone, isObject, isFunction } from '@antv/util';\n// import { compare } from '../../base/controller/state';\n\n// axis labellabel\nlet labels;\nlet originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n  each(labels, (label) => {\n    const { labelData, con } = beforeCompare(label, condition);\n    if (compare(labelData, con)) {\n      const disableStyle = labelActiveStyle();\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n  each(labels, (label, index) => {\n    const { labelData, con } = beforeCompare(label, condition);\n    if (compare(labelData, con)) {\n      const originAttr = originAttrs[index];\n      const disableStyle = labelDisableStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllAxisLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  const axes = plot.view.getController('axis').getComponents();\n  each(axes, (axisComponentOption) => {\n    const axis = axisComponentOption.component;\n    const labelArr = [];\n    const scale = getScale(plot, axis);\n    const labelShapes = axis.get('labelRenderer').get('group').get('children');\n    each(labelShapes, (shape) => {\n      if (shape.type === 'text') {\n        labelArr.push({ shape });\n        originAttrs.push(shape.attr());\n      }\n    });\n    if (scale) {\n      // scale valueslabel format\n      const { ticks, field } = scale;\n      each(labelArr, (label, index) => {\n        label.value = ticks[index];\n        label.scaleField = field;\n        label.type = scale.type;\n      });\n    }\n    labels.push(...labelArr);\n  });\n}\n\n// scale\nfunction getScale(plot, axis) {\n  const props = plot.options;\n  let dim = 'y';\n  const position = axis.get('position');\n  if (position === 'bottom' || position === 'top') {\n    dim = 'x';\n  }\n  const scaleField = props[`${dim}Field`];\n  return plot.view.get('scales')[scaleField];\n}\n\nfunction beforeCompare(label, condition) {\n  const labelData = { [label.scaleField]: label.value };\n  const con = clone(condition);\n  if (label.type === 'time' && isObject(condition) && !isFunction(con.exp)) {\n    con.exp = new Date(con.exp).getTime();\n  }\n  return { labelData, con };\n}\n\nfunction labelDisableStyle(style) {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.2 };\n}\n\nfunction labelActiveStyle() {\n  return { opacity: 1, fontWeight: 600, fill: 'red' };\n}\n\nfunction compare(origin, condition) {\n  if (!isFunction(condition)) {\n    const { name, exp } = condition;\n    if (!origin[name]) {\n      return false;\n    }\n    if (isFunction(exp)) {\n      return exp(origin[name]);\n    }\n    return origin[name] === exp;\n  }\n  return condition(origin);\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import { each, mix } from '@antv/util';\nimport { compare } from '../../base/controller/state';\n\n// labellabel\nlet labels;\nlet originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n  each(labels, (label, index) => {\n    const origin = label.get('origin');\n    if (compare(origin, condition)) {\n      const originAttr = originAttrs[index];\n      const style = mix({}, originAttr, { opacity: 1 });\n      label.attr(style);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n  each(labels, (label, index) => {\n    const origin = label.get('origin');\n    if (compare(origin, condition)) {\n      const originAttr = originAttrs[index];\n      const disableStyle = labelDisableStyle(originAttr);\n      label.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  const geoms = plot.view.get('elements');\n  each(geoms, (geom) => {\n    const geomLabels = geom.get('labels');\n    if (geomLabels) {\n      each(geomLabels, (label) => {\n        labels.push(label);\n        originAttrs.push(label.attr());\n      });\n    }\n  });\n}\n\nfunction labelDisableStyle(style) {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.2 };\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import { each, clone, isFunction, has } from '@antv/util';\nimport { compare } from '../../base/controller/state';\n\nconst POSITION_MAPPER = ['xField', 'yField', 'angleField'];\n\nfunction onActive(plot, condition) {\n  const props = plot.options;\n  // state conditionstate conditiontooltip\n  if (shouldActive(props, condition)) {\n    const data = props.data;\n    each(data, (d) => {\n      if (compare(d, condition)) {\n        const point = plot.view.getXY(d);\n        // showTooltip\n        plot.view.on('tooltip:create', (e) => {\n          processState(condition, e, false);\n        });\n        plot.view.showTooltip(point);\n      }\n    });\n  }\n}\n\nfunction onDisable(plot, condition) {\n  plot.view.on('tooltip:change', (e) => {\n    processState(condition, e, true);\n  });\n}\n\nfunction processState(condition, e, inverse) {\n  const expected = inverse ? false : true;\n  const originItems = clone(e.items);\n  e.items.splice(0);\n  each(originItems, (item) => {\n    const origin = item.point._origin;\n    if (compare(origin, condition) === expected) {\n      e.items.push(item);\n    }\n  });\n}\n\nfunction shouldActive(props, condition) {\n  const fields = getPositionField(props);\n  return !isFunction(condition) && fields.indexOf(condition.name);\n}\n\nfunction getPositionField(props) {\n  const fields = [];\n  each(POSITION_MAPPER, (v) => {\n    if (has(props, v)) {\n      fields.push(v);\n    }\n  });\n  return fields;\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import BaseInteraction from './base';\nimport ScrollbarInteraction from './scrollbar';\nimport SliderInteraction from './slider';\nimport TimeLineInteraction from './timeline';\n\nBaseInteraction.registerInteraction('slider', SliderInteraction);\nBaseInteraction.registerInteraction('scrollbar', ScrollbarInteraction);\nBaseInteraction.registerInteraction('timeline', TimeLineInteraction);\n\nexport * from './base';\nexport default BaseInteraction;\n","import { IGroup, Scrollbar } from '../dependents';\nimport BBox from '../util/bbox';\nimport { Scale } from '@antv/scale';\nimport { clamp, get, isEqual, map, throttle } from '@antv/util';\nimport ViewLayer from '../base/view-layer';\nimport { IScrollbarInteractionConfig } from '../interface/config';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\n\nconst DEFAULT_PADDING: number = 4;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\nconst SCROLL_BAR_Z_INDEX: number = 999;\n\nconst getValidScrollbarConfig = (cfg: IScrollbarInteractionConfig = {}): Required<IScrollbarInteractionConfig> => {\n  const _cfg: Required<IScrollbarInteractionConfig> = {\n    type: 'horizontal',\n    categorySize: DEFAULT_CATEGORY_SIZE,\n    width: DEFAULT_SIZE,\n    height: DEFAULT_SIZE,\n    padding: [0, 0, 0, 0],\n    ...cfg,\n  };\n\n  // default padding\n  if (!cfg.padding) {\n    _cfg.padding =\n      _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  return _cfg;\n};\n\nexport default class ScrollbarInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: IScrollbarInteractionConfig) {\n    const config: Required<IScrollbarInteractionConfig> = getValidScrollbarConfig(interaction);\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding;\n\n    if (config.type === 'horizontal') {\n      return new BBox(\n        layerRange.minX,\n        layerRange.maxY - config.height - paddingTop - paddingBottom,\n        layerRange.width,\n        config.height + paddingTop + paddingBottom\n      );\n    } else {\n      return new BBox(\n        layerRange.maxX - config.width - paddingLeft - paddingRight,\n        layerRange.minY,\n        config.width + paddingLeft + paddingRight,\n        layerRange.height\n      );\n    }\n  }\n\n  private container: IGroup;\n  private scrollbar: Scrollbar;\n  private cnt: number;\n  private step: number;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Array<{\n    field: string;\n    type: string;\n    min: number;\n    max: number;\n    ticks: number[];\n    formatter: any;\n  }>;\n  private ratio: number;\n  private thumbOffset: number;\n  private trackLen: number;\n  private thumbLen: number;\n  private onChangeFn = throttle(this.onChange.bind(this), 20, {\n    leading: true,\n  }) as (evt: object) => void;\n\n  protected render(): void {\n    const view = this.view;\n    this.ratio = 0;\n    this.thumbOffset = 0;\n    view.on('afterrender', () => {\n      const padding = this.view.padding;\n      // if we're not in `auto padding` process\n      if (!isEqual([0, 0, 0, 0], padding)) {\n        if (!this.trackLen) {\n          this.measureScrollBar();\n          this.changeViewData(this.getScrollRange(), true);\n        } else {\n          this.renderScrollbar();\n        }\n      }\n    });\n  }\n\n  protected start() {\n    return;\n  }\n\n  protected clear(): void {\n    if (this.scrollbar) {\n      this.scrollbar.destroy();\n      this.scrollbar = null;\n    }\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n    this.trackLen = null;\n    this.thumbLen = null;\n  }\n\n  private renderScrollbar(): void {\n    const config: Required<IScrollbarInteractionConfig> = getValidScrollbarConfig(this.getInteractionConfig());\n    const range = this.getRange();\n    const isHorizontal = config.type !== 'vertical';\n    const panelRange = this.view.coordinateBBox;\n    const [paddingTop, , , paddingLeft] = config.padding;\n    const position = isHorizontal\n      ? { x: panelRange.minX + paddingLeft, y: range.minY + paddingTop }\n      : { x: range.minX + paddingLeft, y: panelRange.minY + paddingTop };\n\n    if (!this.scrollbar) {\n      this.container = this.canvas.addGroup();\n      this.scrollbar = new Scrollbar({\n        container: this.container,\n        x: position.x,\n        y: position.y,\n        isHorizontal,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: this.ratio * this.trackLen,\n      });\n      this.scrollbar.init();\n      this.scrollbar.render();\n      this.scrollbar.get('group').set('zIndex', SCROLL_BAR_Z_INDEX);\n      this.scrollbar.on('scrollchange', this.onChangeFn);\n    } else {\n      this.scrollbar.update({\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: this.thumbOffset,\n        x: position.x,\n        y: position.y,\n      });\n      this.scrollbar.render();\n    }\n  }\n\n  private measureScrollBar(): void {\n    const config: Required<IScrollbarInteractionConfig> = getValidScrollbarConfig(this.getInteractionConfig());\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding;\n    const isHorizontal: boolean = config.type !== 'vertical';\n    const panelRange = this.view.coordinateBBox;\n    const xScale: Scale = this.view.getXScale();\n    const yScales: Scale[] = this.view.getYScales();\n\n    this.cnt = xScale.values.length;\n    this.xScaleCfg = { field: xScale.field, values: xScale.values || [] };\n    this.yScalesCfg = map(yScales, (item) => ({\n      field: item.field,\n      type: item.type,\n      min: item.min,\n      max: item.max,\n      ticks: item.ticks,\n      formatter: item.formatter,\n    }));\n    this.step = Math.floor((isHorizontal ? panelRange.width : panelRange.height) / config.categorySize);\n    this.trackLen = isHorizontal\n      ? panelRange.width - paddingLeft - paddingRight\n      : panelRange.height - paddingTop - paddingBottom;\n    this.thumbLen = Math.max(this.trackLen * clamp(this.step / xScale.values.length, 0, 1), MIN_THUMB_LENGTH);\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step, this.cnt);\n\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const config: Required<IScrollbarInteractionConfig> = getValidScrollbarConfig(this.getInteractionConfig());\n    const viewLayer: ViewLayer = this.getViewLayer();\n    const { meta } = viewLayer.options;\n    const origData: object[] = viewLayer.getData();\n    const newData: object[] = getDataByScaleRange(\n      this.xScaleCfg.field,\n      this.xScaleCfg.values,\n      origData,\n      [startIdx, endIdx],\n      config.type === 'vertical'\n    );\n\n    // ScrollBar\b\bYscale: min/max/ticks\n    this.yScalesCfg.forEach((cfg) => {\n      const metaCfg = get(meta, cfg.field) || {};\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        ...metaCfg,\n        type: cfg.type as 'linear' | 'cat' | 'log' | 'pow' | 'identity' | 'time',\n        min: cfg.min,\n        max: cfg.max,\n      });\n    });\n    if (render) {\n      this.view.data(newData);\n      this.view.render();\n    } else {\n      this.view.changeData(newData);\n    }\n  }\n\n  private onChange({ ratio, thumbOffset }: { ratio: number; thumbOffset: number }): void {\n    this.ratio = ratio;\n    this.thumbOffset = thumbOffset;\n\n    const origAnimate = this.view.getOptions().animate;\n    this.view.animate(false);\n    this.changeViewData(this.getScrollRange());\n    this.view.animate(origAnimate);\n    // update scrollbar\n    this.renderScrollbar();\n  }\n}\n","import { IGroup, Slider, VIEW_LIFE_CIRCLE } from '../dependents';\nimport BBox from '../util/bbox';\nimport { Scale } from '@antv/scale';\nimport { clamp, head, last, map, size, throttle, isEmpty } from '@antv/util';\nimport { ISliderInteractionConfig } from '../interface/config';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\n\nconst DEFAULT_PADDING: number = 4;\nconst DEFAULT_SIZE: number = 16;\n\nconst getValidSliderConfig = (cfg: ISliderInteractionConfig = {}): Required<ISliderInteractionConfig> => {\n  const _cfg: Required<ISliderInteractionConfig> = {\n    type: 'horizontal',\n    start: 0,\n    end: 1,\n    width: undefined,\n    height: undefined,\n    padding: [0, 0, 0, 0],\n    backgroundStyle: {},\n    foregroundStyle: {},\n    handlerStyle: {},\n    textStyle: {},\n    trendCfg: {},\n    ...cfg,\n  };\n\n  // default padding\n  if (!cfg.padding) {\n    _cfg.padding =\n      _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  // default size\n  if (!cfg.height) {\n    _cfg.height = DEFAULT_SIZE;\n  }\n  if (!cfg.width) {\n    _cfg.width = DEFAULT_SIZE;\n  }\n\n  // start & end\n  const start = clamp(Math.min(_cfg.start, _cfg.end), 0, 1);\n  const end = clamp(Math.max(_cfg.start, _cfg.end), 0, 1);\n  _cfg.start = start;\n  _cfg.end = end;\n\n  return _cfg;\n};\n\nexport default class SliderInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: ISliderInteractionConfig): BBox {\n    const config: ISliderInteractionConfig = getValidSliderConfig(interaction);\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding || [0, 0, 0, 0];\n\n    if (config.type === 'horizontal') {\n      const bbox = new BBox(\n        layerRange.minX,\n        layerRange.maxY - config.height - paddingTop - paddingBottom,\n        layerRange.width,\n        config.height + paddingTop + paddingBottom\n      );\n      return bbox;\n    } else {\n      return new BBox(\n        layerRange.maxX - config.width - paddingLeft - paddingRight,\n        layerRange.minY,\n        config.width + paddingLeft + paddingRight,\n        layerRange.height\n      );\n    }\n  }\n\n  private container: IGroup;\n  private slider: Slider;\n  private curStart: number;\n  private curEnd: number;\n  private xScaleCfg:\n    | {\n        field: string;\n        values: string[];\n      }\n    | undefined;\n  private onChangeFn: (range: [number, number]) => void = throttle(this.onChange.bind(this), 20, { leading: true }) as (\n    range: [number, number]\n  ) => void;\n\n  protected render(): void {\n    const layer = this.getViewLayer();\n    const view = this.view;\n    //  start/end\n    const config = getValidSliderConfig(this.getInteractionConfig());\n    this.curStart = config.start;\n    this.curEnd = config.end;\n    this.xScaleCfg = undefined;\n    //  view  render  slider \n    const callback = () => {\n      if (isEmpty(layer.options.data)) {\n        return;\n      }\n      if (!this.xScaleCfg) {\n        // \n        const xScale: Scale = view.getXScale();\n        this.xScaleCfg = {\n          field: xScale.field,\n          values: xScale.values || [],\n        };\n        //  data\n        view.data(this.getSliderData(this.curStart, this.curEnd));\n        view.render();\n      } else {\n        this.renderSlider();\n      }\n    };\n    view.on(VIEW_LIFE_CIRCLE.AFTER_PAINT, callback);\n    this.addDisposable(() => view.off(VIEW_LIFE_CIRCLE.AFTER_PAINT, callback));\n    view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, callback);\n    this.addDisposable(() => view.off(VIEW_LIFE_CIRCLE.AFTER_RENDER, callback));\n  }\n\n  protected start() {\n    return;\n  }\n\n  protected clear(): void {\n    if (this.slider) {\n      this.slider.destroy();\n      this.slider = null;\n    }\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n  }\n\n  private renderSlider(): void {\n    if (!this.slider) {\n      this.container = this.canvas.addGroup();\n      this.slider = new Slider({ ...this.getSliderConfig(), container: this.container });\n      this.slider.init();\n      this.slider.render();\n      this.slider.on('sliderchange', this.onChangeFn);\n    } else {\n      this.slider.update(this.getSliderConfig());\n      this.slider.render();\n    }\n  }\n\n  private getSliderConfig() {\n    const view = this.view;\n    const panelRange = view.coordinateBBox;\n    const range = this.getRange();\n    const config: ISliderInteractionConfig | null = getValidSliderConfig(this.getInteractionConfig());\n    const { padding = [0, 0, 0, 0], backgroundStyle, foregroundStyle, handlerStyle, textStyle, trendCfg = {} } =\n      config || {};\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const { minText, maxText } = this.getSliderMinMaxText(this.curStart, this.curEnd);\n    const cfg: any = {\n      x: panelRange.minX + paddingLeft,\n      y: range.minY + paddingTop,\n      width: panelRange.width - paddingLeft - paddingRight,\n      height: range.height - paddingTop - paddingBottom,\n      start: this.curStart,\n      end: this.curEnd,\n      minText,\n      maxText,\n      backgroundStyle,\n      foregroundStyle,\n      handlerStyle,\n      textStyle,\n      trendCfg: {\n        isArea: false,\n        smooth: false,\n        ...trendCfg,\n        data: this.getSliderTrendData(),\n      },\n    };\n\n    return cfg;\n  }\n\n  private getSliderTrendData(): number[] {\n    const { data, yField } = this.getViewLayer().options;\n\n    return map(data, (item) => item[yField]);\n  }\n\n  private getSliderData(start: number, end: number): any[] {\n    const origData = this.getViewLayer().getData();\n    const length = size(this.xScaleCfg.values);\n    const startIdx = Math.round(start * length);\n    const endIdx = Math.max(startIdx + 1, Math.round(end * length));\n\n    return getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx]);\n  }\n\n  private getSliderMinMaxText(start: number, end: number): { minText: string; maxText: string } {\n    const { data = [], xField } = this.getViewLayer().options;\n    const length = size(data);\n    const startIdx = Math.round(start * length);\n    const endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    const newData = data.slice(startIdx, endIdx);\n\n    return {\n      minText: newData.length > 0 ? head(newData)[xField] : '',\n      maxText: newData.length > 0 ? last(newData)[xField] : '',\n    };\n  }\n\n  private onChange(range: [number, number]): void {\n    const view = this.view;\n    const start = clamp(Math.min(range[0], range[1]), 0, 1);\n    const end = clamp(Math.max(range[0], range[1]), 0, 1);\n    const data = this.getSliderData(start, end);\n    const { minText, maxText } = this.getSliderMinMaxText(start, end);\n    this.curStart = start;\n    this.curEnd = end;\n    this.slider.update({\n      start,\n      end,\n      minText,\n      maxText,\n    });\n    this.slider.render();\n    const origAnimate = view.getOptions().animate;\n    view.animate(false);\n    view.changeData(data);\n    view.animate(origAnimate);\n  }\n}\n","import { throttle, uniq, isEqual } from '@antv/util';\nimport { IGroup, VIEW_LIFE_CIRCLE } from '../dependents';\nimport BaseInteraction from './base';\nimport { ITimeLineInteractionConfig } from '../interface/config';\nimport BBox from '../util/bbox';\nimport TimeLine from '../components/timeline';\n\nconst DEFAULT_HEIGHT = 40;\n\nfunction getValidTimeLineConfig(interaction: ITimeLineInteractionConfig): Required<ITimeLineInteractionConfig> {\n  return {\n    loop: false,\n    auto: true,\n    height: DEFAULT_HEIGHT,\n    padding: [0, 20, 0, 0],\n    speed: 2,\n    ...interaction,\n  };\n}\n\nexport default class TimeLineInteraction extends BaseInteraction {\n  private timeline: TimeLine;\n  private container: IGroup;\n  private onChangeFn: (tick: string) => void = throttle(this.onChange.bind(this), 20, { leading: true }) as (\n    tick: string\n  ) => void;\n  private config: ITimeLineInteractionConfig;\n  private originAnimation: any;\n  private timeLineConfig: any;\n  private firstRender: boolean;\n\n  /** TimeLineInteraction new  interactionRange */\n  public static getInteractionRange(layerRange: BBox, interaction: ITimeLineInteractionConfig): BBox {\n    const config: ITimeLineInteractionConfig = getValidTimeLineConfig(interaction);\n    const paddingTop = config.padding[0];\n    const paddingBottom = config.padding[2];\n\n    return new BBox(\n      layerRange.minX,\n      layerRange.maxY - config.height - paddingTop - paddingBottom,\n      layerRange.width,\n      config.height + paddingTop + paddingBottom\n    );\n  }\n\n  private setAnimate(isAnimate: boolean) {\n    const geometries = this.view.geometries;\n    this.view.animate(isAnimate);\n    geometries.forEach((geom) => {\n      geom.animate(isAnimate);\n    });\n  }\n\n  protected start() {\n    return;\n  }\n\n  private renderTimeLine() {\n    this.config = getValidTimeLineConfig(this.getInteractionConfig() as ITimeLineInteractionConfig);\n\n    const viewRange = this.view.viewBBox;\n    const { loop, padding, speed } = this.config;\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const range = this.getRange();\n\n    const ticks = this.getTicks();\n    const width = viewRange.width - paddingLeft - paddingRight;\n    const timeLineConfig = {\n      x: viewRange.minX + paddingLeft,\n      y: range.tl.y + paddingTop,\n      width,\n      height: range.height - paddingTop - paddingBottom,\n      loop,\n      ticks,\n      speed,\n      defaultCurrentTick: ticks[0],\n    };\n\n    if (this.timeline) {\n      if (!isEqual(timeLineConfig, this.timeLineConfig)) {\n        this.timeLineConfig = timeLineConfig;\n        this.timeline.update(timeLineConfig);\n      }\n    } else {\n      this.container = this.canvas.addGroup();\n\n      this.timeline = new TimeLine({\n        container: this.container,\n        ...timeLineConfig,\n      });\n      this.timeline.on('timelinestart', () => {\n        this.originAnimation = this.view.getOptions().animate;\n        this.setAnimate(true);\n      });\n      this.timeline.on('timelineend', () => {\n        this.setAnimate(this.originAnimation);\n      });\n      this.timeline.on('timelinechange', this.onChangeFn);\n      this.timeline.on('timelineupdate', this.onChange.bind(this));\n      this.view.data(this.getFilterData(ticks[0]));\n      this.timeLineConfig = timeLineConfig;\n    }\n  }\n\n  private onChange(tick: string) {\n    const filterData = this.getFilterData(tick);\n    this.view.changeData(filterData);\n  }\n\n  private getFilterData(tick: string) {\n    const { field } = this.config;\n    const { data } = this.getViewLayer().options;\n    return data.filter((item) => item[field] === tick);\n  }\n\n  private getTicks() {\n    const { field } = this.config;\n    const { data } = this.getViewLayer().options;\n    return uniq(data.map((item) => item[field]));\n  }\n\n  /**  timeline */\n  protected render(): void {\n    this.firstRender = true;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, () => {\n      this.renderTimeLine();\n    });\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_PAINT, () => {\n      this.renderTimeLine();\n    });\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_PAINT, () => {\n      if (this.config.auto && this.firstRender) {\n        this.timeline.isPlay = true;\n        this.timeline.changePlayStatus();\n      }\n      this.firstRender = false;\n    });\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n      if (this.config.auto && this.firstRender) {\n        this.timeline.isPlay = true;\n        this.timeline.changePlayStatus();\n      }\n      this.firstRender = false;\n    });\n  }\n\n  protected clear(): void {\n    if (this.timeline) {\n      this.timeline.destroy();\n      this.timeline = null;\n    }\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n  }\n}\n","/**\n * @file  G \n * @author blackganglion\n */\n\nimport { IShape, Event } from '@antv/g-base';\nimport { deepMix, findIndex, get } from '@antv/util';\nimport Button from './button';\nimport BaseComponent, { BaseComponentConfig } from '../base';\n\nconst TIMELINE_START = 'timelinestart';\nconst TIMELINE_CHANGE = 'timelinechange';\nconst TIMELINE_END = 'timelineend';\nconst TIMELINE_UPDATE = 'timelineupdate';\n\nconst PADDING_LEFT = 20;\nconst PADDING_RIGHT = 20;\n\n/**  */\ninterface TimeLineCfg extends BaseComponentConfig {\n  /**  */\n  readonly x: number;\n  readonly y: number;\n  readonly width: number;\n  readonly height: number;\n  /**  */\n  readonly ticks: string[];\n  /** 1  tick  */\n  readonly speed?: number;\n  /**  */\n  readonly defaultCurrentTick?: string;\n  /**  */\n  readonly loop?: boolean;\n}\n\n/**\n * \n * https://www.gapminder.org/tools/#$state$time$value=1870&delay:100;;&chart-type=bubbles\n */\nexport default class TimeLine extends BaseComponent<TimeLineCfg> {\n  /**  */\n  public isPlay: boolean;\n  /**  */\n  private currentTick: string;\n  /**  */\n  private tickPosList: number[];\n\n  /**  */\n  private timeLineButton: Button;\n  private timeLine: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    shape: IShape;\n    textList: IShape[];\n  };\n  private timeSelect: IShape;\n  private timeSelectText: IShape;\n\n  /**  */\n  private prevX: number;\n\n  /**  id */\n  private playHandler: number;\n\n  constructor(cfg: TimeLineCfg) {\n    super(\n      deepMix(\n        {},\n        {\n          speed: 1,\n          loop: false,\n        },\n        cfg\n      )\n    );\n  }\n\n  protected renderInner() {\n    // \n  }\n\n  // \n  public update(cfg: Partial<TimeLineCfg>) {\n    this.config = deepMix({}, this.config, cfg);\n\n    const { ticks } = this.config;\n    this.currentTick = ticks.includes(this.currentTick) ? this.currentTick : ticks[0];\n    this.renderPlayButton();\n    this.renderTimeLine();\n    this.renderTimeSelect(this.currentTick);\n    // \n    this.emit(TIMELINE_UPDATE, this.currentTick);\n  }\n\n  public destroy() {\n    super.destroy();\n    this.timeLineButton.destroy();\n    this.timeLineButton.off();\n    this.timeSelect.off();\n    if (this.playHandler) {\n      window.cancelAnimationFrame(this.playHandler);\n    }\n  }\n\n  protected init() {\n    const { ticks, defaultCurrentTick } = this.config;\n\n    if (ticks && ticks.length) {\n      this.currentTick = this.config.ticks.includes(defaultCurrentTick) ? defaultCurrentTick : ticks[0];\n      this.renderPlayButton();\n      this.renderTimeLine();\n      this.renderTimeSelect(this.currentTick);\n      this.initEvent();\n    }\n  }\n\n  private renderPlayButton() {\n    const { height, x, y } = this.config;\n    const ratio = 0.8;\n    const r = (height / 2) * ratio;\n    if (this.timeLineButton) {\n      this.timeLineButton.update({\n        x: x + r,\n        y: y + r + (height * (1 - ratio)) / 2,\n        r,\n      });\n    } else {\n      this.timeLineButton = new Button({\n        container: this.group,\n        x: x + r,\n        y: y + r + (height * (1 - ratio)) / 2,\n        r,\n        isPlay: this.isPlay,\n      });\n    }\n  }\n\n  private getTimeLinePath() {\n    const { x, y, width, height } = this.timeLine;\n    const r = height / 2;\n\n    if (width > 0) {\n      return (\n        `M${x}, ${y}` +\n        `A${r},${r} 90 0,0 ${x},${y + height}` +\n        `L${x + width}, ${y + height}` +\n        `A${r},${r} 90 0,0 ${x + width},${y}` +\n        `L${x}, ${y}`\n      );\n    }\n\n    return [];\n  }\n\n  private renderTimeLine() {\n    const { width, height, ticks, x, y } = this.config;\n\n    if (!this.timeLine) {\n      this.timeLine = {} as any;\n    }\n\n    /**  15% */\n    this.timeLine.height = height * 0.15;\n    this.timeLine.x = x + height + PADDING_LEFT;\n    this.timeLine.y = y + (height / 2 - this.timeLine.height / 2);\n    this.timeLine.width = width - this.timeLine.x - PADDING_RIGHT;\n\n    if (this.timeLine && this.timeLine.shape) {\n      this.timeLine.shape.attr('path', this.getTimeLinePath());\n    } else {\n      this.timeLine.shape = this.group.addShape('path', {\n        attrs: {\n          path: this.getTimeLinePath(),\n          fill: '#607889',\n          opacity: 0.2,\n        },\n      });\n    }\n\n    const interval = this.timeLine.width / (ticks.length - 1);\n    this.tickPosList = [];\n    if (this.timeLine.textList && this.timeLine.textList.length) {\n      this.timeLine.textList.forEach((text) => {\n        text.destroy();\n      });\n    }\n    let lastX = -Infinity;\n    this.timeLine.textList = ticks.map((tick, index) => {\n      this.tickPosList.push(this.timeLine.x + index * interval);\n\n      const text = this.group.addShape('text', {\n        attrs: {\n          x: this.timeLine.x + index * interval,\n          y: this.timeLine.y + this.timeLine.height + 5,\n          text: tick,\n          textAlign: 'center',\n          textBaseline: 'top',\n          fill: '#607889',\n          opacity: 0.35,\n        },\n      });\n\n      const bbox = text.getBBox();\n\n      //  10\n      if (bbox.minX > lastX) {\n        text.show();\n        lastX = bbox.minX + bbox.width + 10;\n      } else {\n        text.hide();\n      }\n\n      return text;\n    });\n  }\n\n  private renderTimeSelect(tickValue: string) {\n    const { ticks, height } = this.config;\n    const interval = this.timeLine.width / (ticks.length - 1);\n    const index = findIndex(ticks, (tick) => tick === tickValue);\n    const x = this.timeLine.x + index * interval;\n    const y = this.config.y + height / 2;\n    const r = height * 0.15;\n\n    if (this.timeSelect) {\n      this.timeSelect.attr('x', x);\n      this.timeSelect.attr('y', y);\n      this.timeSelect.attr('r', r);\n    } else {\n      this.timeSelect = this.group.addShape('circle', {\n        attrs: {\n          x,\n          y,\n          r,\n          fill: '#607889',\n        },\n      });\n    }\n\n    if (this.timeSelectText) {\n      this.timeSelectText.attr('x', x);\n      this.timeSelectText.attr('y', y - height * 0.15 - 14);\n      this.timeSelectText.attr('text', this.currentTick);\n    } else {\n      this.timeSelectText = this.group.addShape('text', {\n        attrs: {\n          x,\n          y: y - height * 0.15 - 14,\n          text: this.currentTick,\n          textAlign: 'center',\n          textBaseline: 'top',\n          fill: '#607889',\n        },\n      });\n    }\n  }\n\n  /**  tick  */\n  private adjustTickIndex(timeSelectX: number) {\n    for (let i = 0; i < this.tickPosList.length - 1; i++) {\n      if (this.tickPosList[i] <= timeSelectX && timeSelectX <= this.tickPosList[i + 1]) {\n        return Math.abs(this.tickPosList[i] - timeSelectX) < Math.abs(timeSelectX - this.tickPosList[i + 1])\n          ? i\n          : i + 1;\n      }\n    }\n  }\n\n  /**  TimeSelect  */\n  private setTimeSelectX(offsetX: number) {\n    let timeSelectX = this.timeSelect.attr('x') + offsetX;\n    // \n    if (timeSelectX < this.timeLine.x) {\n      timeSelectX = this.timeLine.x;\n    }\n    if (timeSelectX > this.timeLine.x + this.timeLine.width) {\n      timeSelectX = this.timeLine.x + this.timeLine.width;\n      // \n      if (this.isPlay) {\n        // \n        if (this.config.loop) {\n          //  tick \n          if (this.timeSelect.attr('x') === this.timeLine.x + this.timeLine.width) {\n            timeSelectX = this.timeLine.x;\n          }\n        } else {\n          this.isPlay = false;\n          this.changePlayStatus();\n        }\n      }\n    }\n    this.timeSelect.attr('x', timeSelectX);\n    this.timeSelectText.attr('x', timeSelectX);\n\n    const index = this.adjustTickIndex(timeSelectX);\n    if (this.currentTick !== this.config.ticks[index]) {\n      this.currentTick = this.config.ticks[index];\n      this.timeSelectText.attr('text', this.currentTick);\n      this.emit(TIMELINE_CHANGE, this.currentTick);\n    }\n\n    this.getCanvas().draw();\n  }\n\n  /**  currnentTick */\n  private syncCurrnentTick() {\n    const { ticks } = this.config;\n    const interval = this.timeLine.width / (ticks.length - 1);\n    const index = findIndex(ticks, (tick) => tick === this.currentTick);\n    const x = this.timeLine.x + index * interval;\n    this.timeSelect.attr('x', x);\n    this.timeSelectText.attr('x', x);\n    this.getCanvas().draw();\n  }\n\n  private onTimeSelectMouseMove = (e: MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    const x = get(e, 'touches.0.pageX', e.pageX);\n    const offsetX = x - this.prevX;\n\n    this.setTimeSelectX(offsetX);\n\n    this.prevX = x;\n  };\n\n  private onTimeSelectMouseUp = () => {\n    this.syncCurrnentTick();\n\n    this.emit(TIMELINE_END, null);\n\n    // \n    const containerDOM = this.getCanvas().get('container');\n    if (containerDOM) {\n      containerDOM.removeEventListener('mousemove', this.onTimeSelectMouseMove);\n      containerDOM.removeEventListener('mouseup', this.onTimeSelectMouseUp);\n      //  canvas \n      containerDOM.removeEventListener('mouseleave', this.onTimeSelectMouseUp);\n      // \n      containerDOM.removeEventListener('touchmove', this.onTimeSelectMouseMove);\n      containerDOM.removeEventListener('touchend', this.onTimeSelectMouseUp);\n      containerDOM.removeEventListener('touchcancel', this.onTimeSelectMouseUp);\n    }\n  };\n\n  private onTimeSelectMouseDown = (e: Event) => {\n    // \n    const event = e.originalEvent as MouseEvent;\n\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (this.isPlay === false) {\n      this.emit(TIMELINE_START, null);\n    } else {\n      // \n      this.isPlay = false;\n      //  tick \n      this.changePlayStatus(false);\n    }\n\n    this.prevX = get(event, 'touches.0.pageX', event.pageX);\n\n    //  move  up \n    const containerDOM = this.getCanvas().get('container');\n    containerDOM.addEventListener('mousemove', this.onTimeSelectMouseMove);\n    containerDOM.addEventListener('mouseup', this.onTimeSelectMouseUp);\n    containerDOM.addEventListener('mouseleave', this.onTimeSelectMouseUp);\n    // \n    containerDOM.addEventListener('touchmove', this.onTimeSelectMouseMove);\n    containerDOM.addEventListener('touchend', this.onTimeSelectMouseUp);\n    containerDOM.addEventListener('touchcancel', this.onTimeSelectMouseUp);\n  };\n\n  private startPlay() {\n    return window.requestAnimationFrame(() => {\n      const { speed, ticks } = this.config;\n      const { width } = this.timeLine;\n\n      const tickInterval = width / ticks.length;\n      const offsetX = tickInterval / ((speed * 1000) / 60);\n\n      this.setTimeSelectX(offsetX);\n\n      if (this.isPlay) {\n        this.playHandler = this.startPlay();\n      }\n    });\n  }\n\n  public changePlayStatus(isSync = true) {\n    this.timeLineButton.update({\n      isPlay: this.isPlay,\n    });\n    if (this.isPlay) {\n      // \n      this.playHandler = this.startPlay();\n      this.emit(TIMELINE_START, null);\n    } else {\n      // \n      if (this.playHandler) {\n        window.cancelAnimationFrame(this.playHandler);\n        if (isSync) {\n          this.syncCurrnentTick();\n          this.emit(TIMELINE_END, null);\n        }\n      }\n    }\n    this.getCanvas().draw();\n  }\n\n  private initEvent() {\n    /** / */\n    this.timeLineButton.on('click', () => {\n      this.isPlay = !this.isPlay;\n      this.changePlayStatus();\n    });\n\n    /**  */\n    this.timeSelect.on('mousedown', (event) => {\n      this.onTimeSelectMouseDown(event);\n    });\n  }\n}\n","/**\n * @file \n * @author blackganglion\n */\n\nimport { IShape, IGroup } from '@antv/g-base';\nimport { deepMix } from '@antv/util';\nimport BaseComponent, { BaseComponentConfig } from '../base';\n\n/**  */\ninterface ButtonCfg extends BaseComponentConfig {\n  /**  */\n  readonly x: number;\n  readonly y: number;\n  readonly r: number;\n  readonly isPlay: boolean;\n}\n\nexport default class Button extends BaseComponent<ButtonCfg> {\n  /**  */\n  private circle: IShape;\n  /**  marker */\n  private startMarker: IShape;\n  /**  marker */\n  private pauseGroupMarker: IGroup;\n  private pauseLeftMarker: IShape;\n  private pauseRightMarker: IShape;\n\n  constructor(cfg: ButtonCfg) {\n    super(deepMix({}, cfg));\n  }\n\n  protected renderInner() {\n    // \n  }\n\n  public update(cfg: Partial<ButtonCfg>) {\n    this.config = deepMix({}, this.config, cfg);\n    this.updateElement();\n    this.renderMarker();\n  }\n\n  protected init() {\n    this.initElement();\n    this.renderMarker();\n\n    this.group.on('click', () => {\n      this.emit('click');\n    });\n  }\n\n  public destroy() {\n    this.group.off();\n    super.destroy();\n  }\n\n  private initElement() {\n    this.circle = this.group.addShape('circle', {\n      attrs: {\n        x: this.config.x,\n        y: this.config.y,\n        r: this.config.r,\n        fill: '#607889',\n      },\n    });\n\n    this.startMarker = this.group.addShape('path', {\n      attrs: {\n        path: this.getStartMarkerPath(),\n        fill: '#ffffff',\n      },\n    });\n\n    this.pauseGroupMarker = this.group.addGroup();\n    const width = (1 / 4) * this.config.r;\n    const height = 0.5 * this.config.r * Math.sqrt(3);\n    this.pauseLeftMarker = this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x - (1 / 4 + 1 / 8) * this.config.r,\n        y: this.config.y - height / 2,\n        width,\n        height,\n        fill: '#ffffff',\n      },\n    });\n    this.pauseRightMarker = this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x + (1 / 8) * this.config.r,\n        y: this.config.y - height / 2,\n        width,\n        height,\n        fill: '#ffffff',\n      },\n    });\n\n    this.group.add(this.pauseGroupMarker);\n  }\n\n  private updateElement() {\n    this.circle.attr('x', this.config.x);\n    this.circle.attr('y', this.config.y);\n    this.circle.attr('r', this.config.r);\n\n    this.startMarker.attr('path', this.getStartMarkerPath());\n\n    const width = (1 / 4) * this.config.r;\n    const height = 0.5 * this.config.r * Math.sqrt(3);\n\n    this.pauseLeftMarker.attr('x', this.config.x - (1 / 4 + 1 / 8) * this.config.r);\n    this.pauseLeftMarker.attr('y', this.config.y - height / 2);\n    this.pauseLeftMarker.attr('width', width);\n    this.pauseLeftMarker.attr('height', height);\n\n    this.pauseRightMarker.attr('x', this.config.x + (1 / 8) * this.config.r);\n    this.pauseRightMarker.attr('y', this.config.y - height / 2);\n    this.pauseRightMarker.attr('width', width);\n    this.pauseRightMarker.attr('height', height);\n  }\n\n  private renderMarker() {\n    if (this.config.isPlay) {\n      this.startMarker.hide();\n      this.pauseGroupMarker.show();\n    } else {\n      this.startMarker.show();\n      this.pauseGroupMarker.hide();\n    }\n  }\n\n  /**  marker path */\n  private getStartMarkerPath() {\n    const sideLength = 0.5 * this.config.r * Math.sqrt(3);\n    return [\n      ['M', this.config.x - sideLength / Math.sqrt(3) / 2, this.config.y - sideLength / 2],\n      ['L', this.config.x + sideLength / Math.sqrt(3), this.config.y],\n      ['L', this.config.x - sideLength / Math.sqrt(3) / 2, this.config.y + sideLength / 2],\n    ];\n  }\n}\n","import { filter, each, isArray, clone } from '@antv/util';\nimport ViewLayer from '../view-layer';\nimport BBox from '../../util/bbox';\nimport { getLegendComponents, getAxisComponents } from '../../util/common';\nimport { View, Axis, Legend } from '../../dependents';\n\ninterface ControllerConfig {\n  plot: ViewLayer;\n}\n\n/**\n * padding\n * padding\n */\n\nexport default class PaddingController {\n  private plot: ViewLayer;\n  private bleeding: number[];\n\n  private innerPaddingComponents: any[] = [];\n  private outerPaddingComponents: any[] = [];\n\n  constructor(cfg: ControllerConfig) {\n    this.plot = cfg.plot;\n  }\n\n  public registerPadding(component: any, type: 'outer' | 'inner' = 'outer', checkIfExist: boolean = false) {\n    if (type === 'inner') {\n      if (checkIfExist) {\n        if (!this.innerPaddingComponents.find((c) => c == component)) {\n          this.innerPaddingComponents.push(component);\n        }\n      } else {\n        this.innerPaddingComponents.push(component);\n      }\n    } else {\n      if (checkIfExist) {\n        if (!this.outerPaddingComponents.find((c) => c == component)) {\n          this.outerPaddingComponents.push(component);\n        }\n      } else {\n        this.outerPaddingComponents.push(component);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.innerPaddingComponents = [];\n    // view\n    // TODO: afterRender\n    this.outerPaddingComponents = filter(this.outerPaddingComponents, (component) => component.afterRender);\n  }\n\n  public clearOuterComponents() {\n    each(this.outerPaddingComponents, (component) => {\n      if (component.afterRender) {\n        component.destroy();\n      }\n    });\n    this.outerPaddingComponents = [];\n  }\n\n  public getPadding() {\n    const props = this.plot.options;\n    const padding = props.padding ? props.padding : this.plot.config.theme.padding;\n    if (padding === 'auto') {\n      return [0, 0, 0, 1];\n    }\n    return padding;\n  }\n\n  /** viewpadding */\n  public processAutoPadding() {\n    const padding = this._getInnerAutoPadding();\n    this.plot.updateConfig({\n      padding,\n    });\n    this.plot.render();\n  }\n\n  public processOuterPadding() {\n    if (!this.plot.layerBBox) {\n      this.plot.layerBBox = new BBox(this.plot.x, this.plot.y, this.plot.width, this.plot.height);\n    }\n    let viewMinX = this.plot.layerBBox.minX;\n    let viewMaxX = this.plot.layerBBox.maxX;\n    let viewMinY = this.plot.layerBBox.minY;\n    let viewMaxY = this.plot.layerBBox.maxY;\n    each(this.outerPaddingComponents, (component) => {\n      const { position } = component;\n      const { minX, maxX, minY, maxY } = component.getBBox();\n      if (maxY >= viewMinY && maxY <= viewMaxY && position === 'top') {\n        viewMinY = maxY;\n      }\n      if (minY >= viewMinY && minY <= viewMaxY && position === 'bottom') {\n        viewMaxY = minY;\n      }\n      if (maxX > viewMinX && maxX <= viewMaxX && position === 'left') {\n        viewMinX = maxX;\n      }\n      if (minX >= viewMinX && maxX <= viewMaxX && position === 'right') {\n        viewMaxX = minX;\n      }\n    });\n    return new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  }\n\n  private _getInnerAutoPadding() {\n    const props = this.plot.options;\n    const view = this.plot.view;\n    const viewRange = view.coordinateBBox;\n    const { maxX, maxY, minY, minX } = viewRange;\n    const bleeding = this.plot.config.theme.bleeding;\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](props);\n        }\n      });\n    }\n    this.plot.config.theme.legend.margin = bleeding;\n    this.bleeding = clone(bleeding);\n    // auto paddingcomponents: axis legend label annotation\n    const components_bbox = [new BBox(viewRange.minX, viewRange.minY, viewRange.width, viewRange.height)];\n    this._getAxis(view, components_bbox[0], components_bbox);\n    let box = this._mergeBBox(components_bbox);\n    this._getLegend(view, box, components_bbox);\n    box = this._mergeBBox(components_bbox);\n    // auto padding\n    const components = this.innerPaddingComponents;\n    each(components, (obj) => {\n      const component = obj;\n      const bbox = component.getBBox();\n      components_bbox.push(bbox);\n    });\n    box = this._mergeBBox(components_bbox);\n    const padding = [\n      minY - box.minY + this.bleeding[0], // \n      box.maxX - maxX + this.bleeding[1], // \n      box.maxY - maxY + this.bleeding[2], // \n      minX - box.minX + this.bleeding[3],\n    ];\n    // labelannotation\n    const panelPadding = this._getPanel(view);\n    padding[0] += panelPadding[0];\n    padding[1] += panelPadding[1];\n    padding[2] += panelPadding[2];\n    padding[3] += panelPadding[3];\n    return padding;\n  }\n\n  private _getAxis(view: View, globalBBox, bboxes: BBox[]) {\n    const axes = getAxisComponents(view);\n    const { isTransposed } = view.getCoordinate();\n    each(axes, (axis: Axis.Base) => {\n      if (axis.get('group').get('children').length === 0) {\n        return;\n      }\n      const position = axis.get('position');\n      const { minX, minY, width, height } = axis.getLayoutBBox();\n      if (!isTransposed) {\n        if (position === 'left') {\n          bboxes.push(new BBox(globalBBox.minX - width, minY, width, height));\n        } else if (position === 'bottom') {\n          bboxes.push(new BBox(minX, globalBBox.maxY, width, height));\n        } else if (position === 'right') {\n          bboxes.push(new BBox(globalBBox.maxX, minY, width, height));\n        }\n      } else {\n        if (position === 'bottom') {\n          bboxes.push(new BBox(globalBBox.minX - width, minY, width, height));\n        } else if (position === 'left') {\n          bboxes.push(new BBox(minX, globalBBox.maxY, width, height));\n        } else if (position === 'top') {\n          bboxes.push(new BBox(globalBBox.maxX, minY, width, height));\n        }\n      }\n    });\n  }\n\n  private _getLegend(view, globalBBox, bboxes) {\n    const legends = getLegendComponents(view);\n    each(legends, (legend: Legend.Base) => {\n      const position = legend.get('position').split('-')[0];\n      const { minX, minY, width, height } = legend.getLayoutBBox();\n      if (position === 'top') {\n        bboxes.push(new BBox(minX, globalBBox.minY - height, width, height));\n      } else if (position === 'bottom') {\n        bboxes.push(new BBox(minX, globalBBox.maxY, width, height));\n      } else if (position === 'left') {\n        bboxes.push(new BBox(globalBBox.minX - width, minY, width, height));\n      } else {\n        bboxes.push(new BBox(globalBBox.maxX, minY, width, height));\n      }\n    });\n  }\n\n  private _getPanel(view) {\n    const groups = [];\n    const geoms = view.geometries;\n    each(geoms, (geom) => {\n      if (geom.labelsContainer) {\n        groups.push(geom.labelsContainer);\n      }\n    });\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    each(groups, (group) => {\n      const children = group.get('children');\n      children.forEach((child) => {\n        if (child.type === 'group' && child.get('children').length === 0) {\n          return;\n        }\n        const bbox = child.getBBox();\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      });\n    });\n    const panelRange = view.coordinateBBox;\n    //right\n    let rightDist = Math.max(maxX - parseFloat(panelRange.maxX), 0);\n    if (rightDist > 0) {\n      const ratio = panelRange.width / (panelRange.width + rightDist);\n      rightDist *= ratio;\n    }\n    //left\n    let leftDist = Math.max(parseFloat(panelRange.minX) - minX, 0);\n    if (leftDist > 0) {\n      const ratio = panelRange.width / (panelRange.width + leftDist);\n      leftDist *= ratio;\n    }\n    //top\n    let topDist = Math.max(parseFloat(panelRange.minY) - minY, 0);\n    if (topDist > 0) {\n      const ratio = panelRange.height / (panelRange.height + topDist);\n      topDist *= ratio;\n    }\n    //bottom\n    let bottomDist = Math.max(maxY - parseFloat(panelRange.maxY), 0);\n    if (bottomDist > 0) {\n      const ratio = panelRange.height / (panelRange.height + bottomDist);\n      bottomDist *= ratio;\n    }\n\n    return [topDist, rightDist, bottomDist, leftDist];\n  }\n\n  private _mergeBBox(bboxes) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n\n    each(bboxes, (bbox) => {\n      const box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n\n    return { minX, maxX, minY, maxY };\n  }\n\n  /* private adjustAxisPadding(view: View, padding: MarginPadding) {\n    // 3.6.x Axis autoRotate padding \n    const xAxis = view.get('axisController').axes[0];\n    if (!xAxis || !xAxis.get('autoRotateLabel') || !xAxis.getOffsetByRotateAngle) {\n      return;\n    }\n    const labelRenderer = xAxis.get('labelRenderer');\n    const labels = labelRenderer.getLabels();\n    const curOffset = xAxis.getOffsetByRotateAngle(xAxis.get('autoRotateAngle'));\n    const curTotalWidth = Math.abs(xAxis.get('end').x - xAxis.get('start').x);\n    // ,  = \n    let curAvgWidth = curTotalWidth;\n    //  label \n    if (labels.length > 1) {\n      curAvgWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n    }\n    const newTotalWidth = curTotalWidth - padding[1] - padding[3];\n    const newAvgWidth = (curAvgWidth * newTotalWidth) / curTotalWidth;\n    const newOffset = xAxis.getOffsetByRotateAngle(xAxis.getAutoRotateAngleByAvgWidth(newAvgWidth));\n\n    if (newOffset > curOffset) {\n      padding[2] += newOffset - curOffset;\n    }\n  }*/\n}\n","import { DESCRIPTION_BOTTOM_MARGIN, TOP_BLEEDING, BOTTOM_BLEEDING } from './default';\n\nexport const DEFAULT_DARK_THEME = {\n  backgroundStyle: {\n    fill: '#262626',\n  },\n  defaultColor: '#5B8FF9',\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fontWeight: 'bold',\n    fill: 'rgba(255,255,255,0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false,\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'rgba(255, 255, 255, 0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false,\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        line: {\n          style: {\n            stroke: 'rgba(255, 255, 255, 0.15)',\n            lineWidth: 1,\n            lineDash: null,\n          },\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n          length: 4,\n        },\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        autoRotate: false,\n        autoHide: true,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.45)',\n          fontSize: 12,\n        },\n      },\n      title: {\n        visible: false,\n        spacing: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom',\n        },\n      },\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        line: {\n          style: {\n            stroke: 'rgba(255, 255, 255, 0.15)',\n            lineWidth: 1,\n            lineDash: null,\n          },\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n        },\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n        },\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n        },\n        offset: 16,\n        autoHide: true,\n        autoRotate: true,\n      },\n      title: {\n        visible: false,\n        spacing: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n        },\n      },\n    },\n    circle: {\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: '#E3E8EC',\n        },\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#BFBFBF',\n        },\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: '#bdc8d3',\n          length: 4,\n          alignWithLabel: true,\n        },\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12,\n        },\n        autoRotate: true,\n        autoHide: true,\n      },\n      title: {\n        offset: 12,\n        style: { fill: '#767b84', fontSize: 12 },\n      },\n    },\n    radius: {\n      label: {\n        offset: 12,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12,\n        },\n      },\n    },\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom',\n    // panelRange\n    innerPadding: [16, 16, 16, 16],\n    title: {\n      visible: false,\n      style: {\n        fill: '#bdc8d3',\n      },\n    },\n    text: {\n      style: {\n        fill: '#bdc8d3',\n      },\n    },\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n    },\n    style: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n      lineWidth: 1,\n    },\n  },\n  components: {\n    tooltip: {\n      domStyles: {\n        'g2-tooltip': {\n          backgroundColor: 'rgba(33,33,33, 0.95)',\n          boxShadow: '0px 0px 8px rgba(0,0,0,0.65)',\n          color: 'rgba(255, 255, 255, 0.65)',\n        },\n      },\n    },\n  },\n};\n","import { each, set, has, isEmpty } from '@antv/util';\n\n/**\n *  plot theme object theme\n */\nconst PLOT_THEME_MAP: Record<string, any> = {};\n\n/**\n *    G2 \n * @param type plotType\n */\nfunction convertThemeToG2Theme(type: string, theme: any) {\n  let styleMapShape: object = {\n    lineStyle: 'line.line',\n    columnStyle: 'interval.rect',\n    pointStyle: 'point.circle', // point shapesquare\n  };\n  const g2Theme = {};\n  if (type === 'area') {\n    styleMapShape = {\n      areaStyle: 'area.area',\n      lineStyle: 'area.line', // todo area-smooth\n      pointStyle: 'point.circle',\n    };\n  }\n  const geometryTheme = {};\n  each(theme, (style, styleKey) => {\n    if (has(styleMapShape, styleKey)) {\n      const shapePath = styleMapShape[styleKey];\n      each(style, (v, k) => {\n        set(geometryTheme, `${shapePath}.${[k === 'normal' ? 'default' : k]}.style`, v);\n      });\n    } else {\n      set(g2Theme, styleKey, style);\n    }\n  });\n  if (!isEmpty(geometryTheme)) {\n    set(g2Theme, 'geometries', geometryTheme);\n  }\n  return g2Theme;\n}\n\n/**\n * \n * @param type\n * @param theme\n */\nexport function registerTheme(type: string, theme: object) {\n  PLOT_THEME_MAP[type.toLowerCase()] = convertThemeToG2Theme(type, theme);\n}\n\n/**\n * \n * @param type plotType, such as line, column, bar, pie, bullet, radar and so on\n */\nexport function getTheme(type: string): any {\n  return PLOT_THEME_MAP[type.toLowerCase()] || {};\n}\n","import { clone } from '@antv/util';\n\n/**\n * mutable  axis \n * @param axis\n */\n// function convertToG2Axis(axis: any): void {\n//   if (axis.line && axis.line.style) {\n//     const lineStyle = axis.line.style;\n//     delete axis.line.style;\n//     mix(axis.line, lineStyle);\n//   }\n//   if (axis.tickLine) {\n//     const tickLineStyle = axis.tickLine.style;\n//     delete axis.tickLine.style;\n//     mix(axis.tickLine, tickLineStyle);\n//   }\n//   if (axis.grid) {\n//     const gridStyle = axis.grid.style;\n//     delete axis.grid.style;\n//     mix(axis.grid, gridStyle);\n//   }\n//   if (axis.label) {\n//     if (axis.label.style) {\n//       axis.label.textStyle = axis.label.style;\n//       delete axis.label.style;\n//     }\n//   }\n//   if (axis.title) {\n//     if (axis.title.style) {\n//       axis.title.textStyle = axis.title.style;\n//       delete axis.title.style;\n//     }\n//   }\n// }\n\n/**\n *  g2 theme \n * @param plotTheme\n */\nexport function convertToG2Theme(plotTheme: any): any {\n  const g2Theme = clone(plotTheme);\n  /** tempo: legend margin0 */\n  if (!g2Theme.legend) {\n    g2Theme.legend = {};\n  }\n  return g2Theme;\n}\n","// \nexport const DEFAULT_RESPONSIVE_THEME = {\n  axis: {\n    x: {\n      category: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'textWrapper',\n              option: {\n                lineNumber: 2,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'textAbbreviate',\n              option: {\n                abbreviateBy: 'end',\n              },\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n      linear: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'nodesResampling',\n              option: {\n                keep: ['end'],\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'robustAbbrevaite',\n              option: {\n                unit: 'thousand',\n                decimal: 1,\n                abbreviateBy: 'end',\n              },\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n      dateTime: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'datetimeStringAbbrevaite',\n            },\n            {\n              name: 'nodesResamplingByAbbrevate',\n              option: {\n                keep: ['end'],\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'nodesResampling',\n            },\n            {\n              name: 'nodesResampling',\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n    },\n    y: {\n      linear: {\n        constraints: [{ name: 'elementDistVertical' }, { name: 'elementWidth' }],\n        rules: {\n          elementDistVertical: [{ name: 'nodesResampling' }, { name: 'textHide' }],\n          elementWidth: [{ name: 'digitsAbbreviate' }, { name: 'textHide' }],\n        },\n      }, // linear y axis\n      category: {\n        constraints: [{ name: 'elementDistVertical' }, { name: 'elementWidth' }],\n        rules: {\n          elementDistVertical: [{ name: 'nodesResampling' }, { name: 'textHide' }],\n          elementWidth: [\n            {\n              name: 'textAbbreviate',\n              option: {\n                abbreviateBy: 'end',\n              },\n            },\n            { name: 'textHide' },\n          ],\n        },\n      },\n    }, // categroy y axis \n  },\n};\n","import { modifyCSS } from '@antv/dom-util';\nimport { Canvas, SVG, ICanvas } from '../../dependents';\nimport { debounce, get } from '@antv/util';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { getGlobalTheme } from '../../theme/global';\nimport BasePlot from '../plot';\nimport ThemeController from './theme';\n\nexport interface CanvasControllerCfg {\n  readonly containerDOM: HTMLElement;\n  readonly plot: BasePlot;\n}\n\ntype ICanvasCtor = new (...cfg: any) => ICanvas;\n\n/**\n * Canvas controller\n * 1. create G.Canvas, destroy G.Canvas\n * 2. process auto fit container\n * 3. API for G.Canvas\n */\n\nexport default class CanvasController {\n  public width: number;\n  public height: number;\n  public canvas: ICanvas;\n\n  private containerDOM: HTMLElement;\n  private plot: BasePlot; // temp\n  private resizeObserver: any;\n\n  /**\n   * when the container size changed, trigger it after 300ms.\n   */\n  private onResize = debounce(() => {\n    if (this.plot.destroyed) {\n      return;\n    }\n    const { width, height } = this.getCanvasSize();\n    /** height measure forceFit */\n    if (this.width === width && this.height === height) {\n      return;\n    }\n    // got new width, height, re-render the plot\n    this.width = width;\n    this.height = height;\n    this.plot.updateConfig({ width, height });\n    this.plot.render();\n  }, 300);\n\n  constructor(cfg: CanvasControllerCfg) {\n    const { containerDOM, plot } = cfg;\n    this.containerDOM = containerDOM;\n    this.plot = plot;\n    this.init();\n  }\n\n  /**\n   * get canvas size from props.\n   * @returns the width, height of canvas\n   */\n  public getCanvasSize() {\n    const theme = getGlobalTheme();\n    let width = this.plot.width ? this.plot.width : theme.width;\n    let height = this.plot.height ? this.plot.height : theme.height;\n\n    // if forceFit = true, then use the container's size as default.\n    if (this.plot.forceFit) {\n      width = this.containerDOM.offsetWidth ? this.containerDOM.offsetWidth : width;\n      height = this.containerDOM.offsetHeight ? this.containerDOM.offsetHeight : height;\n    }\n    return { width, height };\n  }\n\n  /**\n   * get the canvas dom\n   * @returns Canvas DOM\n   */\n  public getCanvasDOM() {\n    return this.canvas.get('container');\n  }\n\n  /**\n   * update the plot size\n   */\n  public updateCanvasSize() {\n    const { width, height } = this.getCanvasSize();\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n    // this.plot.updateRange();\n  }\n\n  /**\n   * canvas\n   */\n  public updateCanvasTheme() {\n    const { theme } = this.plot;\n    const globalTheme = ThemeController.getGlobalTheme(theme);\n    const fill: string = get(globalTheme, 'backgroundStyle.fill');\n    if (fill) {\n      this.updateCanvasStyle({\n        backgroundColor: fill,\n      });\n    }\n  }\n\n  /**\n   * update the canvas dom styles\n   * @param styles\n   */\n  private updateCanvasStyle(styles: Record<string, string | number>) {\n    // \n    modifyCSS(this.getCanvasDOM(), styles);\n\n    //  canvas \n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  /**\n   * destroy the plot, remove resize event.\n   */\n  public destroy() {\n    // remove event\n    if (this.resizeObserver) {\n      this.resizeObserver.unobserve(this.containerDOM);\n      this.resizeObserver.disconnect();\n      this.containerDOM = null;\n    }\n    // remove G.Canvas\n    this.canvas.destroy();\n  }\n\n  /**\n   * when forceFit = true, then bind the event to listen the container size change\n   */\n  private bindForceFit() {\n    const { forceFit } = this.plot;\n\n    // use ResizeObserver to listen the container size change.\n    if (forceFit) {\n      this.resizeObserver = new ResizeObserver(this.onResize);\n      this.resizeObserver.observe(this.containerDOM);\n    }\n  }\n\n  /**\n   * init life circle\n   */\n  private init() {\n    this.initGCanvas();\n\n    this.bindForceFit();\n\n    //  css  tooltip \n    this.updateCanvasStyle({ position: 'relative' });\n  }\n\n  /**\n   * init G.Canvas instance\n   */\n  private initGCanvas() {\n    /** canvas */\n    const { renderer = 'canvas', pixelRatio, localRefresh = false } = this.plot;\n    const { width, height } = this.getCanvasSize();\n\n    const G: ICanvasCtor = renderer === 'canvas' ? Canvas : SVG;\n\n    this.canvas = new G({\n      localRefresh,\n      container: this.containerDOM,\n      width,\n      height,\n      pixelRatio,\n    });\n    this.width = width;\n    this.height = height;\n    this.updateCanvasTheme();\n  }\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { wrapBehavior, each, contains } from '@antv/util';\nimport { ICanvas, IShape } from '../../dependents';\nimport BBox from '../../util/bbox';\nimport BasePlot from '../plot';\nimport Layer from '../layer';\nimport { Point } from '../../interface/config';\n\ninterface ControllerConfig {\n  canvas: ICanvas;\n  plot: BasePlot;\n}\n\ninterface IEventHandler {\n  target: ICanvas;\n  type: string;\n  handler: Function;\n}\n\ninterface EventObj {\n  x: number;\n  y: number;\n  clientX: number;\n  clientY: number;\n  target: any;\n  data: any;\n  gEvent: object;\n}\n\nfunction isSameShape(shape1: IShape, shape2: IShape) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n  return false;\n}\n\nfunction isPointInBBox(point: Point, bbox: BBox) {\n  if (point.x >= bbox.minX && point.x <= bbox.maxX && point.y >= bbox.minY && point.y <= bbox.maxY) {\n    return true;\n  }\n  return false;\n}\n\nexport default class EventController {\n  private plot: BasePlot;\n  private canvas: ICanvas;\n  private eventHandlers: IEventHandler[];\n  private lastShape: any;\n\n  constructor(cfg: ControllerConfig) {\n    this.plot = cfg.plot;\n    this.canvas = cfg.canvas;\n    this.eventHandlers = [];\n  }\n\n  public bindEvents() {\n    this.addEvent(this.canvas, 'mousedown', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'mousemove', wrapBehavior(this, 'onMove'));\n    this.addEvent(this.canvas, 'mouseup', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'click', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'dblclick', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'contextmenu', wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'wheel', wrapBehavior(this, 'onEvents'));\n  }\n\n  public clearEvents() {\n    const eventHandlers = this.eventHandlers;\n    each(eventHandlers, (eh) => {\n      eh.target.off(eh.type, eh.handler);\n    });\n  }\n\n  private addEvent(target: ICanvas, eventType: string, handler: Function) {\n    target.on(eventType, handler);\n    this.eventHandlers.push({ target, type: eventType, handler });\n  }\n\n  private onEvents(ev) {\n    const eventObj = this.getEventObj(ev);\n    const target: any = ev.target;\n    // viewshape\n    if (!this.isShapeInView(target) && target.name) {\n      this.plot.emit(`${target.name}:${ev.type}`, ev);\n    }\n    this.plot.emit(`${ev.type}`, eventObj);\n    // layer\n    const layers = this.plot.getLayers();\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, ev.type);\n    }\n  }\n\n  private onMove(ev) {\n    const target: any = ev.target;\n    const eventObj = this.getEventObj(ev);\n    // shapemouseenter, mouseleavemousemove\n    if (!this.isShapeInView(target) && target.name) {\n      this.plot.emit(`${target.name}:${ev.type}`, eventObj);\n      // mouseleave & mouseenter\n      if (this.lastShape && !isSameShape(target, this.lastShape)) {\n        if (this.lastShape) {\n          this.plot.emit(`${this.lastShape.name}:mouseleave`, eventObj);\n        }\n        this.plot.emit(`${target.name}:mouseenter`, eventObj);\n      }\n      this.lastShape = target;\n    }\n    this.plot.emit('mousemove', eventObj);\n    // layer\n    const layers = this.plot.getLayers();\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, 'mousemove');\n    }\n  }\n\n  private isShapeInView(shape: IShape) {\n    const groupName = ['frontgroundGroup', 'backgroundGroup', 'panelGroup'];\n    let parent = shape.get('parent');\n    while (parent) {\n      const parentName = parent.get('name');\n      if (parentName && contains(groupName, parentName)) {\n        return true;\n      }\n      parent = parent.get('parent');\n    }\n    return false;\n  }\n\n  private getEventObj(ev) {\n    const obj = {\n      clientX: ev.clientX,\n      clientY: ev.clientY,\n      x: ev.x,\n      y: ev.y,\n      plot: this.plot,\n      data: ev.data ? ev.data.data : null,\n      canvas: this.canvas,\n      target: ev.target,\n      gEvent: ev, // gevent\n    };\n    return obj;\n  }\n\n  private onLayerEvent(layers: Layer[], eventObj: EventObj, eventName: string) {\n    each(layers, (layer) => {\n      const bbox = layer.getGlobalBBox();\n      if (isPointInBBox({ x: eventObj.x, y: eventObj.y }, bbox)) {\n        layer.emit(`${eventName}`, eventObj);\n        const subLayers = layer.layers;\n        if (subLayers.length > 0) {\n          this.onLayerEvent(subLayers, eventObj, eventName);\n        }\n      }\n    });\n  }\n}\n","export { default as Line, LineConfig } from './line';\nexport { default as Treemap, TreemapConfig } from './treemap';\nexport { default as StepLine, StepLineConfig } from './step-line';\nexport { default as Bar, BarConfig } from './bar';\nexport { default as StackedBar, StackedBarConfig } from './stacked-bar';\nexport { default as GroupedBar, GroupedBarConfig } from './grouped-bar';\nexport { default as PercentStackedBar, PercentStackedBarConfig } from './percent-stacked-bar';\nexport { default as RangeBar, RangeBarConfig } from './range-bar';\nexport { default as Area, AreaConfig } from './area';\nexport { default as StackedArea, StackedAreaConfig } from './stacked-area';\nexport { default as PercentStackedArea, PercentStackedAreaConfig } from './percent-stacked-area';\nexport { default as Column, ColumnConfig } from './column';\nexport { default as ColumnLabel } from './column/component/label';\nexport { default as GroupedColumn, GroupedColumnConfig } from './grouped-column';\nexport { default as StackedColumn, StackedColumnConfig } from './stacked-column';\nexport { default as StackedColumnLabel } from './stacked-column/component/label';\nexport { default as RangeColumn, RangeColumnConfig } from './range-column';\nexport { default as PercentStackedColumn, PercentStackedColumnConfig } from './percent-stacked-column';\nexport { default as Pie, PieConfig } from './pie';\nexport { default as DensityHeatmap, DensityHeatmapConfig } from './density-heatmap';\nexport { default as Heatmap, HeatmapConfig } from './heatmap';\nexport { default as WordCloud, WordCloudConfig } from './word-cloud';\nexport { default as Rose, RoseConfig } from './rose';\nexport { default as Funnel, FunnelConfig } from './funnel';\nexport { default as StackedRose, StackedRoseConfig } from './stacked-rose';\nexport { default as GroupedRose, GroupedRoseConfig } from './grouped-rose';\nexport { default as Radar, RadarConfig } from './radar';\nexport { default as Liquid, LiquidConfig } from './liquid';\nexport { default as Histogram, HistogramConfig } from './histogram';\nexport { default as Density, DensityConfig } from './density';\nexport { default as Donut, DonutConfig } from './donut';\nexport { default as Waterfall, WaterfallConfig } from './waterfall';\nexport { default as Scatter, ScatterConfig } from './scatter';\nexport { default as Bubble, BubbleConfig } from './bubble';\nexport { default as Bullet, BulletConfig } from './bullet';\nexport { default as Calendar, CalendarConfig } from './calendar';\nexport { default as Gauge, GaugeConfig } from './gauge';\nexport { default as FanGauge, FanGaugeConfig } from './fan-gauge';\nexport { default as MeterGauge, MeterGaugeConfig } from './meter-gauge';\n\nexport * from './compatiblePlots';\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport LineLayer, { LineViewConfig } from './layer';\n\nexport interface LineConfig extends LineViewConfig, PlotConfig {}\n\nexport default class Line extends BasePlot<LineConfig> {\n  public static getDefaultOptions: typeof LineLayer.getDefaultOptions = LineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'line';\n    super.createLayers(layerProps);\n  }\n}\n","import AreaParser from './main';\nimport MiniAreaParser from './mini';\n\nexport default {\n  main: AreaParser,\n  mini: MiniAreaParser,\n};\n","/**  */\nimport { registerShape } from '../../dependents';\nimport { deepMix, each } from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport AreaParser from './main';\nimport { getGlobalTheme } from '../../theme';\n\nregisterShape('area', 'miniArea', {\n  draw(cfg, container) {\n    const opacity = cfg.style ? cfg.style.opacity : null;\n    const path = getPath(cfg, this, false);\n    const style = deepMix(\n      {},\n      {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      cfg.style\n    );\n    const shape = container.addShape('path', {\n      attrs: {\n        path,\n        fill: parseGradient(cfg.color || getGlobalTheme().defaultColor),\n        opacity: opacity || 0.4,\n      },\n      style,\n    });\n    return shape;\n  },\n});\n\nregisterShape('area', 'miniAreaSmooth', {\n  draw(cfg, container) {\n    const opacity = cfg.style ? cfg.style.opacity : null;\n    const path = getPath(cfg, this, true);\n    const shape = container.addShape('path', {\n      attrs: {\n        path,\n        fill: parseGradient(cfg.color || getGlobalTheme().defaultColor),\n        opacity: opacity || 0.5,\n      },\n    });\n    return shape;\n  },\n});\n\nfunction getPath(cfg, shape, isSmooth) {\n  const constraint = [\n    [0, 0],\n    [1, 1],\n  ];\n  let topLinePoints = [];\n  let bottomLinePoints = [];\n  each(cfg.points, (point) => {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n  bottomLinePoints = shape.parsePoints(bottomLinePoints.reverse());\n  topLinePoints = lineSimplification(shape.parsePoints(topLinePoints));\n  const topPath = isSmooth ? getSplinePath(topLinePoints, false, constraint) : getStraightPath(topLinePoints);\n  const bottomPath = getStraightPath(bottomLinePoints);\n  bottomPath[0][0] = 'L';\n  const path = topPath.concat(bottomPath);\n\n  return path;\n}\n\nfunction getStraightPath(points) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    const flag = i === 0 ? 'M' : 'L';\n    path.push([flag, p.x, p.y]);\n  }\n  return path;\n}\n\nfunction parseGradient(color) {\n  return `l(90) 0:${color} 1:#ffffff`;\n}\n\nexport default class MiniAreaParser extends AreaParser {\n  public init() {\n    super.init();\n    this.parseShape();\n  }\n\n  private parseShape() {\n    const props = this.plot.options;\n    if (props.smooth) {\n      this.config.shape = { values: ['miniAreaSmooth'] };\n    } else {\n      this.config.shape = { values: ['miniArea'] };\n    }\n  }\n}\n","import IntervalParser from './main';\n\nexport default {\n  main: IntervalParser,\n};\n","import { isString, isFunction, isArray, isObject, get } from '@antv/util';\nimport ElementParser from '../base';\n\nconst COLOR_MAPPER = ['colorField', 'stackField', 'groupField'];\n\nexport default class IntervalParser extends ElementParser {\n  public init() {\n    this.type = 'interval';\n    super.init();\n    const props = this.plot.options;\n    if (this._needParserColor()) {\n      this.parseColor();\n    }\n    if (!this.config.color) {\n      this.config.color = { values: ['#5b8ff9'] };\n    }\n    const sizeProps = this._getSizeProps(props);\n    if (sizeProps) {\n      this.parseSize(sizeProps);\n    }\n    const styleProps = this._getStyleProps(props);\n    if (styleProps) {\n      this.parseStyle(styleProps);\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const colorField = this._getColorMappingField(props);\n    const config: any = {};\n    if (colorField) {\n      config.fields = colorField;\n    }\n    if (props.color) {\n      if (isString(props.color)) {\n        config.values = [props.color];\n      } else if (isFunction(props.color)) {\n        config.callback = props.color;\n      } else if (isArray(props.color)) {\n        if (colorField) {\n          config.values = props.color;\n        } else {\n          if (props.color.length > 0) {\n            config.values = [props.color[0]];\n          }\n        }\n      } else if (isObject(props.color)) {\n        config.fields = colorField;\n        config.callback = (d) => {\n          return props.color[d];\n        };\n      }\n    }\n    this.config.color = config;\n  }\n\n  public parseSize(sizeProps) {\n    const props = this.plot.options;\n    const config: any = {};\n    if (isFunction(props[sizeProps])) {\n      config.fields = [this.config.position.fields];\n      config.callback = props[sizeProps];\n    } else {\n      config.values = [props[sizeProps]];\n    }\n    this.config.size = config;\n  }\n\n  public parseStyle(styleProps) {\n    const props = this.plot.options;\n    const color = this.config.color;\n    const style = this.plot.options[styleProps];\n    const config: any = {};\n    if (isFunction(style)) {\n      config.fields = color?.fields || [props.xField, props.yField];\n      config.callback = style;\n    } else {\n      config.cfg = style;\n    }\n\n    this.config.style = config;\n  }\n\n  private _getSizeProps(props) {\n    const sizeMapper = ['columnSize', 'barSize'];\n    for (const m of sizeMapper) {\n      if (get(props, m)) {\n        return m;\n      }\n    }\n  }\n\n  private _getStyleProps(props) {\n    const sizeMapper = ['columnStyle', 'barStyle', 'pieStyle', 'ringStyle'];\n    for (const m of sizeMapper) {\n      if (get(props, m)) {\n        return m;\n      }\n    }\n  }\n\n  private _getColorMappingField(props) {\n    /**colorFiledstackField(interval)colorMapping\n     * callback\n     */\n    for (const m of COLOR_MAPPER) {\n      if (get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n\n  private _needParserColor() {\n    const props = this.plot.options;\n    if (props.color) {\n      return true;\n    }\n    for (const m of COLOR_MAPPER) {\n      if (props[m]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","import GuideLineParser from './guide';\nimport LineParser from './main';\nimport MiniLineParser from './mini';\n\nexport default {\n  main: LineParser,\n  guide: GuideLineParser,\n  mini: MiniLineParser,\n};\n","import { LooseObject } from '../../dependents';\nimport { isString, isFunction, isArray, get } from '@antv/util';\nimport LineParser from './main';\n\nexport default class GuideLineParser extends LineParser {\n  public init() {\n    const props = this.plot.options;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      tooltip: false,\n    };\n\n    if (this._getColorMappingField() || this._needParseAttribute('color')) {\n      this.parseColor();\n    }\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n    if (props.line.style) {\n      this.parseStyle();\n    }\n\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    if (props.line.size) {\n      config.values = [props.line.size];\n    } else {\n      // linestylesize\n      config.values = [2];\n    }\n    this.config.size = config;\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    const colorField = this._getColorMappingField();\n    if (colorField) {\n      config.fields = colorField;\n    }\n    if (props.line.color) {\n      config.values = [props.line.color];\n    } else {\n      // linestylecolor\n      if (isString(props.color)) {\n        config.values = [props.color];\n      } else if (isFunction(props.color)) {\n        config.fields = colorField;\n        config.callback = props.color;\n      } else if (isArray(props.color)) {\n        if (colorField) {\n          config.values = props.color;\n        } else {\n          if (props.color.length > 0) {\n            config.values = [props.color[0]];\n          }\n        }\n      }\n    }\n\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.line.style;\n    const config: LooseObject = {};\n    if (isFunction(styleProps)) {\n      config.fields = this.config.position.fields;\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _needParseAttribute(attr) {\n    const props = this.plot.options;\n    if (props[attr]) {\n      return true;\n    } else if (props.line[attr]) {\n      return true;\n    }\n    return false;\n  }\n\n  private _getColorMappingField() {\n    const props = this.plot.options;\n    const colorMapper = ['stackField', 'seriesField'];\n    for (const m of colorMapper) {\n      if (get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","import CircleParser from './circle';\nimport GuidePointParser from './guide';\n\nexport default {\n  guide: GuidePointParser,\n  circle: CircleParser,\n};\n","import { LooseObject } from '../../dependents';\nimport { isArray, isFunction, isString, isEmpty, isNil } from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class CircleParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.style = props.pointStyle;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n    };\n    this.parseColor();\n    this.parseSize();\n\n    if (props.shape) {\n      this.parseShape(props.shape);\n    }\n    if (props.pointStyle) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    const colorField = props.colorField;\n    if (colorField) {\n      config.fields = isArray(colorField) ? colorField : [colorField];\n    }\n    if (props.color) {\n      this._parseColor(props, config);\n    }\n    if (!isEmpty(config)) {\n      this.config.color = config;\n    }\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    if (props.sizeField) {\n      config.fields = [props.sizeField];\n    }\n    if (props.pointSize) {\n      config.values = isArray(props.pointSize) ? props.pointSize : [props.pointSize];\n    }\n    this.config.size = config;\n  }\n\n  public parseShape(shapeName) {\n    this.config.shape = shapeName;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.pointStyle;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    const { xField, yField, colorField } = props;\n    if (isFunction(styleProps)) {\n      if (colorField) {\n        config.fields = isArray(colorField)\n          ? [xField, yField, colorField].concat(colorField)\n          : [xField, yField, colorField];\n      } else {\n        config.fields = [xField, yField];\n      }\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n      // opacity  fillOpacity \n      if (!isNil(styleProps.opacity)) {\n        config.cfg.fillOpacity = styleProps.opacity;\n      }\n    }\n    this.config.style = config;\n  }\n\n  private _parseColor(props, config) {\n    if (isString(props.color)) {\n      config.values = [props.color];\n    } else if (isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (isArray(props.color)) {\n      config.values = props.color;\n    }\n  }\n}\n","import { LooseObject } from '../../dependents';\nimport { each, uniq, keys, isFunction, isString, isArray, has, get, isObject } from '@antv/util';\nimport ElementParser from '../base';\n\nfunction getValuesByField(field, data) {\n  const values = [];\n  each(data, (d) => {\n    const v = d[field];\n    values.push(v);\n  });\n  return uniq(values);\n}\n\nconst COLOR_MAPPER = ['seriesField', 'stackField'];\n\ntype PointShape = string | { fields?: []; callback: () => string };\n\nexport default class GuidePointParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.style = props.point.style;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      tooltip: false,\n    };\n    // if (this._needParseAttribute('color')) {\n    this.parseColor();\n    // }\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n    if (props.point.shape) {\n      this.parseShape(props.point.shape);\n    }\n    if (props.point.style) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    const mappingField = this._getColorMappingField(props);\n    if (mappingField) {\n      this._parseColorByField(props, config, mappingField);\n    } else {\n      if (props.point && props.point.color) {\n        config.values = [props.point.color];\n      } else if (props.color) {\n        this._parseColor(props, config);\n      } else {\n        const theme = this.plot.getTheme();\n        config.values = [theme.defaultColor];\n      }\n    }\n    if (keys(config).length > 0) {\n      this.config.color = config;\n    }\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: LooseObject = {};\n    config.values = [props.point.size];\n    this.config.size = config;\n  }\n\n  public parseShape(shapeCfg: PointShape) {\n    const config: LooseObject = {};\n    if (isString(shapeCfg)) {\n      config.values = [shapeCfg];\n    } else if (isObject(shapeCfg)) {\n      config.fields = shapeCfg.fields;\n      config.callback = shapeCfg.callback;\n    }\n    this.config.shape = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.point && props.point.style;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    const field = this._getColorMappingField(props);\n    if (isFunction(styleProps) && field) {\n      config.fields = [field];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _parseColorByField(props, config, field) {\n    config.fields = [field];\n    if (props.point.color) {\n      const count = getValuesByField(field, props.data).length;\n      const values = [];\n      for (let i = 0; i < count; i++) {\n        values.push(props.point.color);\n      }\n      config.values = values;\n    } else if (props.color) {\n      this._parseColor(props, config);\n    }\n  }\n\n  private _parseColor(props, config) {\n    const field = this._getColorMappingField(props);\n    if (isString(props.color)) {\n      config.values = [props.color];\n    } else if (isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (isArray(props.color)) {\n      if (field) {\n        config.values = props.color;\n      } else {\n        if (props.color.length > 0) {\n          config.values = [props.color[0]];\n        }\n      }\n    }\n  }\n\n  private _needParseAttribute(attr) {\n    const props = this.plot.options;\n    const condition = props.point && has(props.point, attr);\n    return condition;\n    // const condition = !this.style || this.style[attr];\n    // return condition;\n  }\n\n  private _getColorMappingField(props) {\n    for (const m of COLOR_MAPPER) {\n      if (get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","import { registerAnimation } from '../../../dependents';\nimport { clone, isFunction, isNil, deepMix } from '@antv/util';\n\nlet plotInfo;\n\nfunction clipingWithData(shape, animateCfg) {\n  const defaultCfg = {\n    easing: 'easeLinear',\n    duration: 10000,\n  };\n  const animationConfig = deepMix({}, animateCfg, defaultCfg);\n  const geometry = shape.get('element').geometry;\n  geometry.labelsContainer.set('visible', false);\n  /**  */\n  const index = shape.get('index');\n  const coord = geometry.coordinate;\n  const scales = geometry.scales;\n  const yScale = scales[plotInfo.options.yField];\n  const shapeData = clone(shape.get('origin'));\n  setClip(shape, coord);\n  const clip = shape.get('clipShape');\n  const parent = shape.get('parent');\n  const offsetX = 12;\n  let title = null;\n  const { seriesField } = plotInfo.options;\n  if (seriesField) {\n    title = parent.addShape('text', {\n      attrs: {\n        x: coord.start.x + offsetX,\n        y: 0,\n        text: shapeData.data[0][seriesField],\n        fill: shape.attr('stroke'),\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    });\n  }\n  const offsetY = title ? 16 : 0;\n  const marker = parent.addShape('text', {\n    attrs: {\n      x: coord.start.x + offsetX,\n      y: offsetY,\n      text: `test${index}`,\n      fill: shape.attr('stroke'),\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle',\n    },\n  });\n  /**  */\n  animationConfig.callback = () => {\n    if (shape && !shape.get('destroyed')) {\n      shape.setClip(null);\n      clip.remove();\n      marker.animate(\n        {\n          opacity: 0,\n        },\n        300,\n        () => {\n          marker.remove();\n          if (!isNil(title)) {\n            title.remove();\n          }\n          const labelsContainer = geometry.labelsContainer;\n          if (!labelsContainer.get('visible')) {\n            labelsContainer.set('visible', true);\n          }\n        }\n      );\n    }\n  };\n  /**  */\n  /**  */\n  let delay = animationConfig.delay;\n  if (isFunction(delay)) {\n    delay = animationConfig.delay(index);\n  }\n  let easing = animationConfig.easing;\n  if (isFunction(easing)) {\n    easing = animationConfig.easing(index);\n  }\n  /**  */\n  clip.animate(\n    {\n      width: coord.getWidth(),\n    },\n    animationConfig.duration,\n    easing,\n    animationConfig.callback,\n    delay\n  );\n  (animationConfig.onFrame = (ratio) => {\n    const position = getPositionByRatio(ratio, shapeData, coord);\n    if (!position) return;\n\n    marker.attr('x', position[0] + offsetX);\n    marker.attr('y', position[1] + offsetY);\n    let yText = getDataByPosition(yScale, position[1], coord);\n\n    // use formatter\n    if (yScale.formatter) {\n      yText = yScale.formatter(yText);\n    }\n\n    marker.attr('text', yText);\n  }),\n    marker.animate(animationConfig.onFrame, {\n      duration: animationConfig.duration,\n      easing,\n      callback: animationConfig.callback,\n      delay,\n    });\n  if (title) {\n    title.animate(\n      {\n        onFrame: (ratio) => {\n          const position = getPositionByRatio(ratio, shapeData, coord);\n          if (!position) return;\n          title.attr('x', position[0] + offsetX);\n          title.attr('y', position[1]);\n        },\n      },\n      animationConfig.duration,\n      easing,\n      animationConfig.callback,\n      delay\n    );\n  }\n}\n\nfunction setClip(shape, coord) {\n  const { start, end, height } = coord;\n  shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: 0,\n      height,\n    },\n  });\n}\n\nfunction getPositionByRatio(ratio, dataPoints, coord) {\n  const { points } = dataPoints;\n  const currentX = coord.start.x + coord.getWidth() * ratio;\n  for (let i = 0; i < points.length - 1; i++) {\n    const current = points[i];\n    const next = points[i + 1];\n    if (currentX >= current.x && currentX <= next.x) {\n      const m = (next.y - current.y) / (next.x - current.x); // \n      const y = current.y + m * (currentX - current.x);\n      return [currentX, y];\n    }\n  }\n}\n\nfunction getDataByPosition(scale, y, coord) {\n  const yRatio = (y - coord.start.y) / (coord.end.y - coord.start.y);\n  return scale.invert(yRatio).toFixed(2);\n}\n\nexport function getPlotOption(option) {\n  plotInfo = option;\n}\n\nregisterAnimation('clipingWithData', clipingWithData);\n","import responsiveAxis from './axis';\nimport responsivePointLabel from './label';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [\n  { name: 'responsiveAxis', method: responsiveAxis },\n  { name: 'responsivePointLabel', method: responsivePointLabel },\n];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport LineLayer from '../layer';\n\nexport default function responsiveAxis(layer: LineLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","export interface ColumnWidthCfg {\n  ratio?: number;\n}\n\nfunction columnWidth(node, region, cfg: ColumnWidthCfg = { ratio: 0.6 }) {\n  return region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: columnWidth,\n};\n","import * as MathUtil from '../../math';\n\nfunction elementCollision(a, b) {\n  const polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // \n  const polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  const dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= 2;\n}\n\nexport default {\n  type: 'group',\n  usage: 'compare',\n  expression: elementCollision,\n};\n","import * as MathUtil from '../../math';\n\nexport interface ElementDistCfg {\n  value: number;\n}\n\nfunction elementDist(a, b, cfg: ElementDistCfg = { value: 4 }) {\n  const polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // \n  const polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  const dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDist,\n};\n","export interface ElementDistVerticalCfg {\n  value: number;\n}\n\nfunction elementDistVertical(a, b, cfg: ElementDistVerticalCfg = { value: 5 }) {\n  const dist = Math.abs(a.bottom - b.top);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDistVertical,\n};\n","export interface ElementWidthCfg {\n  ratio: number;\n}\n\nfunction elementWidth(node, region, cfg: ElementWidthCfg = { ratio: 0.15 }) {\n  return node.width < region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'compare',\n  expression: elementWidth,\n};\n","function minRingThickness(node, region) {\n  const minThicknessPixel = 2;\n  const minThickness = region.coord.radius / minThicknessPixel;\n  return Math.min(minThickness, node.value);\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: minRingThickness,\n};\n","export interface RingThicknessCfg {\n  ratio: number;\n}\n\nfunction ringThickness(node, region, cfg: RingThicknessCfg = { ratio: 0.8 }) {\n  return region.radius * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: ringThickness,\n};\n","import { IShape } from '@antv/g-base';\nimport { dotProduct2D } from '../../math';\n\n/**  */\nexport default function nodeJitter(shape: IShape, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (index === nodes.length - 1) {\n    return;\n  }\n  const current = nodes[index];\n  const next = nodes[index + 1];\n  const { dir } = alignDirection(current, next);\n  const startPoint = shape.get('startPoint');\n  if (dir === 'x') {\n    shape.attr('y', startPoint.y + 20);\n  }\n}\n\nfunction alignDirection(nodeA, nodeB) {\n  let dir;\n  /** node  */\n  const vector = { x: nodeB.centerX - nodeA.centerX, y: nodeB.centerY - nodeA.centerY };\n  const mag = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\n  const vector_horizontal = { x: 10, y: 0 }; // \n  /*tslint:disable*/\n  const mag_horizontal = Math.sqrt(\n    vector_horizontal.x * vector_horizontal.x + vector_horizontal.y * vector_horizontal.y\n  );\n  const dot = dotProduct2D(vector, vector_horizontal);\n  let angle = ((dot / (mag * mag_horizontal)) * 180) / Math.PI;\n  if (angle < 0) angle = 360 - angle;\n  angle = adjustAngle(angle); // 0-3600-90\n\n  /** nodexy */\n  const distX = Math.abs(nodeA.centerX - nodeB.centerX);\n  const distY = Math.abs(nodeA.centerY - nodeB.centerY);\n\n  if (angle > 45) {\n    dir = 'x';\n  } else if (angle < 45) {\n    dir = 'y';\n  }\n\n  return { dir, distX, distY };\n}\n\nfunction adjustAngle(angle) {\n  if (angle > 90 && angle <= 180) {\n    return 180 - angle;\n  }\n  if (angle > 180 && angle < 270) {\n    return angle - 180;\n  }\n  return 360 - angle;\n}\n","import { IShape } from '@antv/g-base';\nimport { each } from '@antv/util';\nimport { isNodeOverlap } from './clear-overlapping';\n\n/**  */\n// todo offset\nexport default function nodeJitterUpward(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (index === 0) {\n    return;\n  }\n  const current = nodes[index];\n  const previous = nodes[index - 1];\n  if (isNodeOverlap(current, previous)) {\n    const element = cfg.plot.plot.get('elements')[0];\n    const y = previous.top - current.height / 2;\n    const offset = 10;\n    if (y - offset > cfg.region.top) {\n      // labelelement-shape\n      const origin = current.shape.get('origin');\n      const shapeId = element.getShapeId(origin);\n      const shapes = element.getShapes();\n      const shapeBbox = getShapeById(shapeId, shapes).get('box');\n      const originX = shapeBbox.left + shapeBbox.width / 2;\n      const originY = shapeBbox.top;\n      // \n      const container = element.get('labelController').labelsContainer;\n      const labelLine = container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', originX, originY],\n            ['L', current.shape.attr('x'), y],\n          ],\n          stroke: '#ccc',\n          lineWidth: 1,\n        },\n      });\n      /** labelLinelabel */\n      const origin_position = { x: shape.attr('x'), y: shape.attr('y') };\n      // node\n      current.shape.attr('y', y - offset);\n      nodes[index] = cfg.nodes.measure(current.shape);\n      nodes[index].line = labelLine;\n      nodes[index].origin_position = origin_position;\n    }\n  }\n}\n\nfunction getShapeById(shapeId, shapes) {\n  let target;\n  each(shapes, (shape) => {\n    const s = shape as IShape;\n    const id = s.get('id');\n    if (id === shapeId) {\n      target = s;\n    }\n  });\n  return target;\n}\n","import { isKeep, NodesResamplingCfg } from './nodes-resampling';\nimport textHide from './text-hide';\n\nexport default function nodesResamplingByAbbrevate(shape, option: NodesResamplingCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n  {\n    const currentText = shape.attr('text');\n    const originText = shape.get('delegateObject').item.name;\n    if (currentText !== originText) {\n      textHide(shape);\n    }\n  }\n}\n","import { IShape } from '@antv/g-base';\nimport { deepMix } from '@antv/util';\nimport textHide from './text-hide';\n\n/**  */\nexport default function nodesResamplingByChange(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const tolerance = getGlobalTolerance(nodes);\n  if (index <= 1) {\n    return;\n  }\n  const current = nodes[index];\n  // const previous = nodes[index-1];\n  const previous = findPrevious(index, nodes);\n  const distX = previous.centerX - current.centerX;\n  const distY = previous.centerY - current.centerY;\n  const dist = Math.sqrt(distX * distX + distY * distY);\n  if (dist < tolerance) {\n    textHide(shape);\n    shape.set('blank', true);\n  }\n}\n\nfunction findPrevious(index, nodes) {\n  for (let i = index - 1; i > 0; i--) {\n    const node = nodes[i];\n    if (!node.shape.get('blank')) {\n      return node;\n    }\n  }\n}\n\nfunction getGlobalTolerance(nodes) {\n  const nodesClone = deepMix([], nodes);\n  nodesClone.sort((a, b) => {\n    return b.width - a.width;\n  });\n  return Math.round(nodesClone[0].width);\n}\n","import { IShape } from '@antv/g-base';\nimport { each, clone } from '@antv/util';\nimport textHide from './text-hide';\n\nexport default function nodesResamplingByState(shape: IShape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const current = nodes[index];\n  if (current.line) {\n    current.line.remove();\n  }\n\n  const data = cfg.plot.initialProps.data;\n  const field = cfg.plot[cfg.plot.type].label.fields[0];\n  const stateNodes = getStateNodes(data, field, nodes);\n\n  let isState = false;\n  each(stateNodes, (node) => {\n    // @ts-ignore\n    if (node.shape.get('origin') === current.shape.get('origin')) {\n      isState = true;\n    }\n  });\n  if (isState) {\n    if (current.origin_position) {\n      const { x, y } = current.origin_position;\n      shape.attr('x', x);\n      shape.attr('y', y);\n    }\n  } else {\n    textHide(shape);\n  }\n}\n\nfunction getStateNodes(data, field, nodes) {\n  const extract_data = [];\n  each(data, (d) => {\n    extract_data.push(d[field]);\n  });\n  extract_data.sort((a, b) => {\n    return a - b;\n  });\n  const min = extract_data[0];\n  const min_node = getNodeByNumber(nodes, field, min);\n  const max = extract_data[extract_data.length - 1];\n  const max_node = getNodeByNumber(nodes, field, max);\n  const median = getMedian(extract_data);\n  const median_node = getNodeByNumber(nodes, field, median);\n\n  return { min: min_node, max: max_node, median: median_node };\n}\n\nfunction getMedian(array) {\n  const list = clone(array);\n  list.sort((a, b) => {\n    return a - b;\n  });\n\n  const half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return list[half];\n}\n\nfunction getNodeByNumber(nodes, field, num) {\n  for (const node of nodes) {\n    const d = node.shape.get('origin');\n    if (d[field] === num) {\n      return node;\n    }\n  }\n}\n","import { IShape } from '@antv/g-base';\n\nimport datetimeStringAbbrevaite, { isTime } from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport textAbbreviate from './text-abbreviate';\n\ninterface RobustAbbrevaiteCfg {\n  keep?: string[];\n  abbreviateBy?: 'start' | 'middle' | 'end';\n  unit?: 'k' | 'm' | 'b' | 't' | 'auto';\n  decimal?: number;\n}\n\nexport default function robustAbbrevaite(shape: IShape, option: RobustAbbrevaiteCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const text = shape.attr('text');\n  /** text  */\n  const isnum = /^\\d+$/.test(text);\n  if (isnum) {\n    digitsAbbreviate(shape, option, index, nodes);\n  } else if (isTime(text)) {\n    datetimeStringAbbrevaite(shape, option, index, nodes);\n  } else {\n    textAbbreviate(shape, option);\n  }\n}\n","import { IShape } from '@antv/g-base';\n\ninterface TextRotationCfg {\n  degree: number;\n}\n\nexport default function textRotation(shape: IShape, option: TextRotationCfg) {\n  shape.resetMatrix();\n  shape.attr({\n    rotate: 360 - option.degree,\n    textAlign: 'right',\n    textBaseline: 'middle',\n  });\n}\n","import { IShape } from '@antv/g-base';\n\ninterface TextWrapperCfg {\n  lineNumber: number;\n}\n\nexport default function textWrapper(shape: IShape, option: TextWrapperCfg) {\n  const text = shape.attr('text');\n  const step = Math.ceil(text.length / option.lineNumber);\n  let wrapperText = '';\n  for (let i = 1; i < option.lineNumber; i++) {\n    const index = step * i;\n    wrapperText = `${text.slice(0, index)}\\n${text.slice(index)}`;\n  }\n  const fontSize = shape.attr('fontSize');\n  shape.attr({\n    text: wrapperText,\n    lineHeight: fontSize,\n    textAlign: 'center',\n    textBaseline: 'top',\n  });\n}\n","import ApplyResponsiveLabel from '../../../util/responsive/apply/label';\nimport LineLayer from '../layer';\n\nclass ApplyResponsiveLineLabel extends ApplyResponsiveLabel {\n  protected getType() {\n    const props = this.plot.options;\n    if (props.label && props.label.type) {\n      return props.label.type;\n    }\n    return 'point';\n  }\n}\n\nexport default function responsivePointLabel(layer: LineLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  new ApplyResponsiveLineLabel({\n    plot: layer,\n    responsiveTheme,\n  });\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  line: 'line',\n  point: 'point',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { View, IGroup, IShape, MarkerSymbols } from '../dependents';\nimport { deepMix, isMatch, isString, isArray, each, find } from '@antv/util';\nimport { MappingDatum, GAnimateCfg } from '@antv/g2/lib/interface';\nimport { DEFAULT_ANIMATE_CFG } from '@antv/g2/lib/animate';\nimport { Event } from '@antv/g2/lib/dependents';\n\ninterface PointStyle {\n  size?: number;\n  fill?: string;\n  stroke?: string;\n  lineWidth?: number;\n}\n\ninterface MarkerItem {\n  _origin: object;\n}\n\ntype AnimationOption = {\n  endState: PointStyle;\n  animateCfg: GAnimateCfg;\n};\n\ninterface Cfg {\n  view: View;\n  data: any[];\n  // 'image://http://xxx.xxx.xxx/a/b.png'\n  symbol?: string | ((x: number, y: number, r: number) => any[][]);\n  size?: number;\n  /**  point  x  */\n  offsetX?: number;\n  offsetY?: number;\n  label?: {\n    visible: boolean;\n    /** marker point  */\n    field?: string;\n    /** _origin:  */\n    formatter?: (text: string, item: MarkerItem, index: number) => string;\n    position?: 'top' | 'bottom';\n    offsetX?: number;\n    offsetY?: number;\n    style?: object;\n  };\n  style?: {\n    normal?: PointStyle;\n    active?: PointStyle;\n    selected?: PointStyle;\n  };\n  events?: {\n    mouseenter?: (e: Event) => void;\n    mouseleave?: (e: Event) => void;\n    click?: (e: Event) => void;\n  };\n  animation?: boolean | AnimationOption;\n}\n\nconst DEFAULT_STYLE = {\n  stroke: 'transparent',\n  fill: '#FCC509',\n  lineWidth: 0,\n};\n\nconst ACTIVE_STYLE = {\n  stroke: '#FFF',\n  fill: '#FCC509',\n  lineWidth: 1,\n};\n\nconst SELECTED_STYLE = {\n  stroke: 'rgba(0,0,0,0.85)',\n  fill: '#FCC509',\n  lineWidth: 1,\n};\n\ninterface StateCondition {\n  id: string;\n  data: {};\n}\ntype State = 'active' | 'inactive' | 'selected';\n\nexport { Cfg as MarkerPointCfg };\n\n/**\n *  \n */\nexport default class MarkerPoint {\n  public view: View;\n  public container: IGroup;\n  public config: Cfg;\n  private points: IShape[] = [];\n  private labels: IShape[] = [];\n  private size: number;\n  private name = 'markerPoints';\n  private selectedPoint: IShape;\n\n  protected defaultCfg = {\n    offsetX: 0,\n    offsetY: 0,\n    style: { normal: DEFAULT_STYLE, selected: SELECTED_STYLE, active: ACTIVE_STYLE },\n    label: {\n      visible: false,\n      offsetY: -8,\n      position: 'top',\n      style: {\n        fill: 'rgba(0, 0, 0, 0.85)',\n      },\n    },\n    animation: false,\n  };\n\n  constructor(cfg: Cfg) {\n    this.view = cfg.view;\n    this.size = cfg.size || 6;\n    this.config = deepMix({}, this.defaultCfg, cfg);\n    this._init();\n  }\n\n  public render() {\n    const dataArray = this.getDataArray();\n    this._renderPoints(dataArray);\n    this.view.canvas.draw();\n    this._addInteraction();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.points = [];\n    this.labels = [];\n  }\n\n  protected getDataArray(): MappingDatum[][] {\n    const geometry = this.view.geometries[0];\n    return geometry.dataArray;\n  }\n\n  private _init() {\n    const layer = this.view.foregroundGroup;\n    this.container = layer.addGroup();\n    this.render();\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n  }\n\n  private _renderPoints(dataArray: MappingDatum[][]) {\n    each(this.config.data, (dataItem, dataItemIdx) => {\n      const origin = find(dataArray[0], (d) => isMatch(d._origin, dataItem));\n      if (origin) {\n        const pointAttrs = this.config.style.normal;\n        const group = this.container.addGroup({ name: this.name });\n        let { x, y } = origin;\n        if (isArray(x)) {\n          x = x[0];\n        }\n        if (isArray(y)) {\n          y = y[0];\n        }\n        let symbol = this.config.symbol;\n        const { offsetX, offsetY } = this.config;\n        let point;\n        if (isString(symbol) && symbol.startsWith('image://')) {\n          const imageUrl = symbol.substr(8);\n          point = group.addShape('image', {\n            attrs: {\n              x: x - this.size / 2 + offsetX,\n              y: y - this.size / 2 + offsetY,\n              img: imageUrl,\n              width: this.size,\n              height: this.size,\n            },\n          });\n        } else {\n          symbol = isString(symbol) ? MarkerSymbols[symbol] : symbol;\n          point = group.addShape({\n            type: 'marker',\n            name: 'marker-point',\n            id: `point-${dataItemIdx}`,\n            attrs: {\n              x: x + offsetX,\n              y: y + offsetY,\n              r: this.size / 2,\n              ...pointAttrs,\n              symbol,\n            },\n          });\n        }\n        this.points.push(point);\n        this._animatePoint(point);\n        this._renderLabel(group, origin, dataItemIdx);\n        group.set('data', dataItem);\n        group.set('origin', origin);\n      }\n    });\n  }\n\n  private _renderLabel(container: IGroup, origin: MappingDatum, index) {\n    const { label: labelCfg } = this.config;\n    if (labelCfg && labelCfg.visible) {\n      const { offsetX = 0, offsetY = 0, formatter, position, field } = labelCfg;\n      let text = origin._origin[field];\n      if (formatter) {\n        text = formatter(text, { _origin: origin._origin }, index);\n      }\n      const x = isArray(origin.x) ? origin.x[0] : origin.x;\n      const y = isArray(origin.y) ? origin.y[0] : origin.y;\n      const label = container.addShape('text', {\n        name: 'marker-label',\n        id: `label-${index}`,\n        attrs: {\n          x: x + offsetX,\n          y: y + offsetY,\n          text: text || '',\n          ...labelCfg.style,\n          textAlign: 'center',\n          textBaseline: position === 'top' ? 'bottom' : 'top',\n        },\n      });\n      this.labels.push(label);\n    }\n  }\n\n  private _addInteraction() {\n    const { events } = this.config;\n    each(events, (cb, eventName) => {\n      this.container.on(`${this.name}:${eventName}`, (e) => {\n        cb(e);\n        const target = e.target.get('parent');\n        const pointShape = target.get('children')[0];\n        if (pointShape) {\n          const data = pointShape.get('data');\n          const id = pointShape.get('id');\n          const condition = { id, data };\n          if (eventName === 'click') {\n            if (this.selectedPoint && this.selectedPoint.get('id') === id) {\n              this.selectedPoint = null;\n              this.setState('inactive', condition);\n            } else {\n              this.selectedPoint = pointShape;\n              this.setState('selected', condition);\n            }\n          } else if (eventName === 'mouseenter') {\n            this.setState('active', condition);\n          } else if (eventName === 'mouseleave') {\n            this.setState('inactive', condition);\n          }\n        }\n        this.view.canvas.draw();\n      });\n      this.view.on('click', (e) => {\n        const target = e.target.get('parent');\n        if (!target || (target.get('name') !== this.name && this.selectedPoint)) {\n          this.selectedPoint = null;\n          this.setState('inactive');\n        }\n      });\n    });\n  }\n\n  private setState(state: State, condition?: StateCondition) {\n    if (state === 'active') {\n      if (!this.selectedPoint || condition.id !== this.selectedPoint.get('id')) {\n        this._onActive(condition);\n      }\n    } else if (state === 'inactive') {\n      this.points.forEach((p) => this._onInactive(p));\n    } else if (state === 'selected') {\n      this._onSelected(condition);\n    }\n  }\n\n  private _onActive(condition?: StateCondition) {\n    const { active } = this.config.style;\n    each(this.points, (point) => {\n      if (point.get('id') === condition.id) {\n        each(active, (v, k) => {\n          point.attr(k, v);\n        });\n      } else {\n        this._onInactive(point);\n      }\n    });\n  }\n\n  private _onInactive(point: IShape) {\n    const { normal } = this.config.style;\n    if (!this.selectedPoint || point.get('id') !== this.selectedPoint.get('id')) {\n      each(normal, (v, k) => {\n        point.attr(k, v);\n      });\n    }\n  }\n\n  private _onSelected(condition: StateCondition) {\n    const { selected } = this.config.style;\n    each(this.points, (point) => {\n      if (point.get('id') === condition.id) {\n        each(selected, (v, k) => {\n          point.attr(k, v);\n        });\n      } else {\n        this._onInactive(point);\n      }\n    });\n  }\n\n  /** point animation, not for label */\n  private _animatePoint(shape: IShape) {\n    const { animation, size } = this.config;\n    if (animation !== false) {\n      const { endState = {}, animateCfg = DEFAULT_ANIMATE_CFG.appear } = animation as AnimationOption;\n      shape.animate(\n        {\n          r: Number.isNaN(endState.size / 2) ? size / 2 : endState.size / 2,\n          ...endState,\n        },\n        animateCfg\n      );\n    }\n  }\n}\n","import { IShape } from '../../dependents';\nimport { registerTheme } from '../../theme';\n\nconst LINE_ACTIVE_STYLE = ({ shape }: { shape: IShape }) => {\n  const lineWidth = shape.attr('lineWidth') || 1;\n  return { lineWidth: lineWidth + 1 };\n};\n\nconst LINE_DISABLE_STYLE = ({ shape }: { shape: IShape }) => {\n  const opacity = shape.attr('opacity') || 1;\n  return { opacity: opacity * 0.2 };\n};\n\nconst LINE_SELECTED_STYLE = ({ shape }: { shape: IShape }) => {\n  const lineWidth = shape.attr('lineWidth') || 1;\n  return { lineWidth: lineWidth + 2 };\n};\n\nregisterTheme('line', {\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE,\n  },\n  pointStyle: {\n    normal: {},\n    active: {},\n    disable: {},\n    selected: {},\n  },\n});\n","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n\n/** theme */\nconst lineTheme = {\n  label: {\n    point: {\n      constraints: [{ name: 'elementCollision' }],\n      rules: {\n        elementCollision: [{ name: 'nodesResamplingByChange' }, { name: 'clearOverlapping' }],\n      },\n    },\n  },\n};\nregisterResponsiveTheme('line', lineTheme);\n","import LineActive from './line-active';\nimport LineSelect from './line-select';\n\nexport { LineActive, LineSelect };\n","import { each, filter, get } from '@antv/util';\nimport Interaction from '../../../interaction/core';\nimport { Geometry } from '../../../dependents';\n\nexport default class LineActive extends Interaction {\n  constructor(cfg) {\n    super({\n      /**  line:mouseenter  line:mouseleave processreset */\n      processEvent: 'mousemove',\n      ...cfg,\n    });\n  }\n\n  public start() {\n    return;\n  }\n\n  public process(ev) {\n    const lines: Geometry[] = filter(this.view.geometries, (geom) => geom.type == 'line');\n    const target = ev.target;\n    if (target.get('name') === 'line') {\n      const data = get(ev, 'data.data');\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('active', element.data === data);\n        });\n      });\n    } else {\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('active', false);\n        });\n      });\n    }\n  }\n}\n","import { get, each, filter } from '@antv/util';\nimport Interaction from '../../../interaction/core';\nimport { Geometry } from '../../../dependents';\n\nexport default class LineSelect extends Interaction {\n  constructor(cfg) {\n    super({\n      endEvent: 'click',\n      ...cfg,\n    });\n  }\n\n  public start() {\n    return;\n  }\n\n  public end(ev) {\n    const target = ev.target;\n    const lines: Geometry[] = filter(this.view.geometries, (geom) => geom.type == 'line');\n    if (target.get('name') === 'line') {\n      const data = get(ev, 'data.data');\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('inactive', element.data !== data);\n        });\n      });\n      // TODO z-index\n    } else {\n      each(lines, (line: Geometry) => {\n        each(line.elements, (element) => {\n          element.setState('inactive', false);\n        });\n      });\n      // TODO: z-index\n    }\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TreemapLayer, { TreemapViewConfig } from './layer';\n\nexport interface TreemapConfig extends TreemapViewConfig, PlotConfig {}\n\nexport default class Treemap extends BasePlot<TreemapConfig> {\n  public static getDefaultOptions: typeof TreemapLayer.getDefaultOptions = TreemapLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'treemap';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, each, hasKey } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport squarify from './layout/squarify';\nimport { INTERACTION_MAP } from './interaction';\nimport * as EventParser from './event';\nimport TreemapLabel, { TreemapLabelConfig } from './components/label';\nimport { GraphicStyle, IInteractions } from '../../interface/config';\nimport { IDrillDown } from './interaction/drillDown';\n\nconst PARENT_NODE_OFFSET = 4;\nconst BLOCK_MARGIN = 4;\n\ntype TreemapInteraction = { type: 'drilldown'; cfg: IDrillDown } | IInteractions;\n\nexport interface TreemapViewConfig extends ViewConfig {\n  data: any;\n  maxLevel?: number;\n  colorField: string;\n  colors?: string[];\n  rectStyle?: GraphicStyle;\n  label: TreemapLabelConfig;\n  interactions?: TreemapInteraction[];\n}\n\nexport interface TreemapLayerConfig extends TreemapViewConfig, LayerConfig {}\n\nexport default class TreemapLayer<T extends TreemapLayerConfig = TreemapLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<TreemapLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      maxLevel: 2,\n      padding: [0, 0, 0, 0],\n      tooltip: {\n        visible: false,\n        showTitle: false,\n        showCrosshairs: false,\n        showMarkers: false,\n        shared: false,\n      },\n      legend: {\n        visible: false,\n      },\n      xAxis: {\n        visible: false,\n      },\n      yAxis: {\n        visible: false,\n      },\n      xField: 'x',\n      yField: 'y',\n      label: {\n        visible: true,\n        adjustPosition: true,\n        style: {\n          stroke: 'rgba(0,0,0,0)',\n          lineWidth: 0,\n          fontSize: 12,\n        },\n      },\n      meta: {\n        x: {\n          nice: false,\n        },\n        y: {\n          nice: false,\n        },\n      },\n      interactions: [{ type: 'tooltip' }],\n    });\n  }\n  public type: string = 'treemap';\n  public rootData: any;\n  public rect: any;\n  private isDrilldown: boolean;\n\n  public beforeInit() {\n    super.beforeInit();\n    const { interactions } = this.options;\n    if (interactions) {\n      each(interactions, (interaction) => {\n        if (interaction.type === 'drilldown') {\n          this.isDrilldown = true;\n          this.options.maxLevel = 1;\n        }\n      });\n    }\n    const { data } = this.options;\n    const treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n  }\n\n  public afterRender() {\n    super.afterRender();\n    if (this.options.label && this.options.label.visible) {\n      const label = new TreemapLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n\n  protected geometryParser() {\n    return 'polygon';\n  }\n\n  public getTreemapData(data, level?) {\n    const viewRange = this.getViewRange();\n    const root = squarify(data, viewRange.x, viewRange.y, viewRange.width, viewRange.height);\n    this.recursive(root, 1);\n    const treemapData = [];\n    this.getAllNodes(root, treemapData, level);\n    treemapData.sort((a, b) => {\n      return a.depth - b.depth;\n    });\n    this.options.xField = 'x';\n    this.options.yField = 'y';\n    return treemapData;\n  }\n\n  protected processData() {\n    return this.rootData;\n  }\n\n  protected coord() {\n    return;\n  }\n\n  protected addGeometry() {\n    const { data, colorField, color } = this.options;\n    const treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n    const isNested = this.isNested(treemapData);\n    this.rect = {\n      type: 'polygon',\n      position: {\n        fields: ['x', 'y'],\n      },\n      color: {\n        fields: [colorField],\n        values: color,\n      },\n      style: {\n        fields: ['depth'],\n        callback: (d) => {\n          const defaultStyle = this.adjustStyleByDepth(d, isNested);\n          return deepMix({}, defaultStyle, this.options.rectStyle);\n        },\n      },\n      tooltip: {\n        fields: ['name', 'value'],\n      },\n    };\n    if (this.options.tooltip && this.options.tooltip.formatter) {\n      this.rect.tooltip.callback = this.options.tooltip.formatter;\n    }\n    this.setConfig('geometry', this.rect);\n  }\n\n  protected applyInteractions() {\n    const interactionCfg = this.options.interactions;\n    const interactions = this.view.interactions;\n    each(interactionCfg, (inter) => {\n      const Ctr = INTERACTION_MAP[inter.type];\n      if (Ctr) {\n        const interaction = new Ctr(\n          deepMix(\n            {},\n            {\n              view: this.view,\n              plot: this,\n              startEvent: 'polygon:click',\n            },\n            inter.cfg,\n            Ctr.getInteractionRange(this.layerBBox, inter.cfg)\n          )\n        );\n        interactions[inter.type] = interaction;\n      }\n    });\n  }\n\n  protected animation() {\n    super.animation();\n    if (this.isDrilldown) {\n      this.rect.animate = false;\n    }\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  private recursive(rows, depth?) {\n    const { colorField } = this.options;\n    each(rows, (r) => {\n      each(r.children, (c) => {\n        c.depth = depth;\n        if (depth > 1) c.parent = r;\n        if (!hasKey(c, colorField)) {\n          c[colorField] = r[colorField];\n        }\n        c.showLabel = true;\n        const leaf = this.isLeaf(c);\n        if (!leaf) {\n          const cliperHeight = Math.abs(c.y1 - c.y0);\n          const labelHeight = this.getLabelHeight();\n          const parentLabelOffset = cliperHeight / 2 > labelHeight ? labelHeight : BLOCK_MARGIN;\n          c.showLabel = parentLabelOffset === BLOCK_MARGIN ? false : true;\n          const c_rows = squarify(\n            c,\n            c.x0 + BLOCK_MARGIN,\n            c.y0 + parentLabelOffset,\n            c.x1 - BLOCK_MARGIN,\n            c.y1 - BLOCK_MARGIN\n          );\n          this.fillColorField(c_rows, colorField, c[colorField]);\n          this.recursive(c_rows, c.depth + 1);\n        }\n      });\n    });\n  }\n\n  private getAllNodes(data, nodes, level?) {\n    const max = level ? level : this.options.maxLevel;\n    const viewRange = this.getViewRange();\n    each(data, (d) => {\n      if (hasKey(d, 'x0') && d.depth <= max) {\n        nodes.push({\n          ...d,\n          x: [d.x0, d.x1, d.x1, d.x0],\n          y: [viewRange.height - d.y1, viewRange.height - d.y1, viewRange.height - d.y0, viewRange.height - d.y0],\n        });\n      }\n      if (hasKey(d, 'children')) {\n        this.getAllNodes(d.children, nodes);\n      }\n    });\n  }\n\n  private fillColorField(rows, fieldName, value) {\n    each(rows, (r) => {\n      if (!hasKey(r, fieldName)) {\n        r[fieldName] = value;\n      }\n    });\n  }\n\n  private getLabelHeight() {\n    const { label } = this.options;\n    const { fontSize } = this.getPlotTheme().label.style;\n    let size = 0;\n    if (label && label.visible) {\n      const labelStyle: any = label.style;\n      size = labelStyle && labelStyle.fontSize ? labelStyle.fontSize : fontSize;\n    }\n    return size + PARENT_NODE_OFFSET * 2;\n  }\n\n  private isLeaf(data) {\n    return !data.children || data.children.length === 0;\n  }\n\n  private isNested(data) {\n    const { maxLevel } = this.options;\n    if (maxLevel === 1) {\n      return false;\n    }\n    let nested = false;\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].children) {\n        nested = true;\n        break;\n      }\n    }\n    return nested;\n  }\n\n  private adjustStyleByDepth(depth, isNested) {\n    const { maxLevel } = this.options;\n    if (!isNested) {\n      return {\n        lineWidth: 1,\n        stroke: 'rgba(0,0,0,0.9)',\n        opacity: 0.9,\n      };\n    } else if (depth === 1) {\n      return {\n        lineWidth: 1,\n        stroke: 'black',\n        opacity: depth / maxLevel,\n      };\n    } else {\n      return {\n        lineWidth: 1,\n        stroke: 'rgba(0,0,0,0.3)',\n        opacity: depth / maxLevel,\n      };\n    }\n  }\n}\n\nregisterPlotType('treemap', TreemapLayer);\n","import { dice } from './dice';\nimport { slice } from './slice';\n\n//reference: https://github.com/d3/d3-hierarchy/blob/master/src/treemap/squarify.js\n\n// \nconst ratio = (1 + Math.sqrt(5)) / 2;\n\nexport default function squarify(root, x0, y0, x1, y1) {\n  const { children } = root;\n  let value = root.value;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const rows = [];\n  let sumValue, maxValue, minValue;\n  let alpha, beta;\n  let newRatio, minRatio;\n  let nodeValue;\n  let i = 0,\n    j = 0;\n\n  // todo: empty node\n  while (i < children.length) {\n    const width = x1 - x0;\n    const height = y1 - y0;\n    sumValue = children[j++].value;\n    maxValue = sumValue;\n    minValue = sumValue;\n    alpha = Math.max(height / width, width / height) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n    for (; j < children.length; j++) {\n      nodeValue = children[j].value;\n      sumValue += nodeValue;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) {\n        sumValue -= nodeValue;\n        break;\n      }\n      minRatio = newRatio;\n    }\n    const row = { value: sumValue, dice: width < height, children: children.slice(i, j) };\n    rows.push(row);\n    if (row.dice) {\n      const h = value ? (height * sumValue) / value : height;\n      dice(row, x0, y0, x1, y0 + h);\n      if (value) {\n        y0 += h;\n      }\n    } else {\n      const w = value ? (width * sumValue) / value : width;\n      slice(row, x0, y0, x0 + w, y1);\n      if (value) {\n        x0 += w;\n      }\n    }\n    value -= sumValue;\n    i = j;\n  }\n  return rows;\n}\n","import { each } from '@antv/util';\n\nexport function dice(root, x0, y0, x1, y1) {\n  const width = x1 - x0;\n  const { children, value } = root;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const k = width / value;\n  let node_x = x0;\n  each(children, (c) => {\n    c.y0 = y0;\n    c.y1 = y1;\n    c.x0 = node_x;\n    node_x += c.value * k;\n    c.x1 = c.x0 + c.value * k;\n  });\n}\n","import { each } from '@antv/util';\n\nexport function slice(root, x0, y0, x1, y1) {\n  const height = y1 - y0;\n  const { children, value } = root;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const k = height / value;\n  let node_y = y0;\n  each(children, (c) => {\n    c.x0 = x0;\n    c.x1 = x1;\n    c.y0 = node_y;\n    node_y += c.value * k;\n    c.y1 = c.y0 + c.value * k;\n  });\n}\n","import DrillDownInteraction from './drillDown';\n\nexport const INTERACTION_MAP = {\n  drilldown: DrillDownInteraction,\n};\n","import Breadcrumb from '../../../components/breadcrumb';\nimport BaseInteraction from '../../../interaction/base';\nimport { IGroup } from '@antv/g-base';\nimport BBox from '../../../util/bbox';\nimport TreemapLayer from '../layer';\nimport { each, hasKey, isFunction, clone } from '@antv/util';\nimport { drillingDown, rollingUp } from './animation';\n\nconst DEFAULT_ITEM_WIDTH = 100;\nconst DEFAULT_ITEM_HEIGHT = 30;\nconst PADDING_TOP = 10;\n\ninterface IStartNode {\n  name?: string;\n}\n\ninterface IMapping {\n  [key: string]: IMappingConfig;\n}\n\ninterface IMappingConfig {\n  field: string;\n  values?: string[] | Function;\n}\n\ninterface IDrillDownInteractionConfig {\n  x?: number;\n  y?: number;\n  startNode?: IStartNode;\n  itemWidth?: number;\n  itemHeight?: number;\n  padding?: number[];\n}\n\nexport type IDrillDown = {\n  mapping?: {\n    [key: string]: IMappingConfig;\n  };\n};\n\nconst getValidBreadcrumbConfig = (cfg: IDrillDownInteractionConfig = {}): Required<IDrillDownInteractionConfig> => {\n  const _cfg: Required<IDrillDownInteractionConfig> = {\n    x: 0,\n    y: 0,\n    startNode: { name: 'root' },\n    itemWidth: DEFAULT_ITEM_WIDTH,\n    itemHeight: DEFAULT_ITEM_HEIGHT,\n    padding: [0, 0, 0, 0],\n    ...cfg,\n  };\n  return _cfg;\n};\n\nexport default class DrillDownInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: IDrillDownInteractionConfig) {\n    const config: Required<IDrillDownInteractionConfig> = getValidBreadcrumbConfig(interaction);\n    const [paddingTop, paddingBottom] = config.padding;\n    if (layerRange) {\n      return new BBox(\n        layerRange.minX,\n        layerRange.maxY - config.itemHeight - paddingTop - paddingBottom,\n        layerRange.width,\n        config.itemHeight + paddingTop + paddingBottom\n      );\n    }\n  }\n\n  private container: IGroup;\n  private breadcrumb: Breadcrumb;\n  private plot: TreemapLayer;\n  private startNode: IStartNode;\n  private parentNode: any;\n  private currentNode: any;\n  private currentDepth: number;\n  private startNodeName: string;\n  private cache: any;\n  private mapping: IMapping;\n  private originMapping: IMappingConfig;\n  private y: number;\n  private geometry: any;\n\n  public start(ev) {\n    const data = ev.data.data;\n    if (data.children) {\n      this.parentNode = {\n        color: ev.target.attr('fill'),\n        shape: ev.target,\n        data: {\n          name: clone(this.currentNode.name),\n          value: clone(this.currentNode.value),\n        },\n        depth: clone(this.currentDepth),\n      };\n      this.currentDepth++;\n      drillingDown(ev.target, this.view, () => {\n        this.update(data);\n      });\n    }\n  }\n\n  protected update(data) {\n    if (!hasKey(this.cache, data.name)) {\n      this.cache[data.name] = data;\n    }\n    const tempoData = this.plot.getTreemapData(data, data.depth);\n    this.view.changeData(tempoData);\n    this.adjustScale(this.currentDepth);\n    this.currentNode = data;\n    this.render();\n  }\n\n  protected render() {\n    if (this.breadcrumb) {\n      const items = this.getItems();\n      this.breadcrumb.update({\n        items,\n      });\n      this.layout();\n    } else {\n      this.initGeometry();\n      this.cache = {};\n      this.saveOriginMapping();\n      this.container = this.plot.canvas.addGroup();\n      if (!this.startNode) {\n        this.startNode = {\n          name: 'root',\n        };\n      }\n      if (this.startNode.name === 'root') {\n        this.startNodeName = hasKey(this.plot.options.data, 'name') ? this.plot.options.data.name : 'root';\n        this.currentNode = this.plot.options.data;\n        this.currentDepth = 1;\n      } else {\n        this.startNodeName = this.startNode.name;\n        this.currentNode = this.startNode;\n      }\n      this.y = this.view.coordinateBBox.maxY + PADDING_TOP;\n      this.breadcrumb = new Breadcrumb({\n        container: this.container,\n        x: 0,\n        y: this.y,\n        items: this.getItems(),\n      });\n      this.breadcrumb.render();\n      this.plot.canvas.draw();\n      this.layout();\n    }\n    this.onInteraction();\n  }\n\n  protected clear() {\n    return;\n  }\n\n  private layout() {\n    const currentWidth = this.container.getBBox().width;\n    const x = (this.plot.width - currentWidth) / 2;\n    this.breadcrumb.update({\n      x,\n      y: this.y,\n    });\n  }\n\n  private getItems() {\n    let items = [];\n    if (this.currentNode.name && this.currentNode.name === this.startNodeName) {\n      const rootItem = this.getRootItem();\n      items.push(rootItem);\n    } else {\n      items = [];\n      const parents = [];\n      this.findParent(this.currentNode, parents);\n      items.push(this.getRootItem());\n      each(parents, (p, index) => {\n        items.push({ key: String(index + 2), text: p.name, data: p });\n      });\n      items.push({ key: String(parents.length + 2), text: this.currentNode.name, data: this.currentNode });\n    }\n    return items;\n  }\n\n  private findParent(data, parents) {\n    if (data.parent) {\n      if (hasKey(this.cache, data.parent.name)) {\n        parents.push(this.cache[data.parent.name]);\n      } else {\n        parents.push(data.parent);\n      }\n      this.findParent(data.parent, parents);\n    } else {\n      return;\n    }\n  }\n\n  private onInteraction() {\n    this.container.on('click', (ev) => {\n      const targetParent = ev.target.get('parent');\n      if (targetParent && targetParent.get('class') === 'item-group') {\n        const data = targetParent.get('data');\n        if (data.data) {\n          if (data.text === this.startNodeName) {\n            const targetDepth = 1;\n            //depth\n            if (this.currentDepth - 1 === targetDepth) {\n              rollingUp(this.currentNode.name, this.view, () => {\n                this.updateRoot(data);\n              });\n            } else {\n              this.updateRoot(data);\n            }\n            this.currentDepth = 1;\n          } else if (this.currentNode === data.data) {\n            return;\n          } else {\n            const previousDepth = clone(this.currentDepth);\n            this.currentDepth = parseInt(data.key);\n            if (previousDepth - 1 === this.currentDepth) {\n              rollingUp(this.currentNode.name, this.view, () => {\n                this.update(data.data);\n              });\n            } else {\n              this.update(data.data);\n            }\n          }\n        }\n      }\n    });\n  }\n\n  private getRootItem() {\n    const rootData = this.plot.options.data;\n    const rootName = hasKey(rootData, 'name') ? rootData.name : 'root';\n    return { key: '1', text: rootName, data: this.plot.rootData };\n  }\n\n  private saveOriginMapping() {\n    const { colorField, colors } = this.plot.options;\n    const mappingInfo = { field: colorField, values: colors };\n    this.originMapping = mappingInfo;\n  }\n\n  private adjustScale(index) {\n    const { view } = this;\n    // mapping\n    if (this.mapping && hasKey(this.mapping, String(index))) {\n      const mappingCfg = clone(this.mapping[index]);\n      if (mappingCfg.values && isFunction(mappingCfg.values)) {\n        const values = mappingCfg.values(this.parentNode, this.currentNode);\n        mappingCfg.values = values;\n      }\n      this.view.geometries[0].color(mappingCfg.field, mappingCfg.values);\n    } else {\n      const mappingCfg = clone(this.originMapping);\n      this.view.geometries[0].color(mappingCfg.field, mappingCfg.values);\n    }\n    view.render();\n  }\n\n  private initGeometry() {\n    this.geometry = this.view.geometries[0];\n    const viewRange = this.view.viewBBox;\n    const container = this.geometry.container;\n    container.setClip({\n      type: 'rect',\n      attrs: {\n        x: viewRange.minX,\n        y: viewRange.minY,\n        width: viewRange.width,\n        height: viewRange.height,\n      },\n    });\n  }\n\n  private updateRoot(data) {\n    this.view.changeData(data.data);\n    this.adjustScale(1);\n    this.currentNode = this.plot.options.data;\n    this.render();\n  }\n}\n\nBaseInteraction.registerInteraction('drilldown', DrillDownInteraction);\n","import BaseComponent, { BaseComponentConfig } from './base';\nimport { IGroup, BBox, IShape } from '../dependents';\nimport { move } from '../util/g-util';\nimport { TextStyle, GraphicStyle } from '../interface/config';\n\nexport interface BreadcrumbItem {\n  key: string;\n  text: string;\n}\n\nexport interface BreadcrumbConfig extends BaseComponentConfig {\n  x: number;\n  y: number;\n  items: BreadcrumbItem[];\n  itemPadding?: [number, number, number, number];\n  backgroundStyle?: GraphicStyle;\n  itemBackgroundStyle?: GraphicStyle;\n  itemActiveBackgroundStyle?: GraphicStyle;\n  separator?: string;\n  separatorStyle?: TextStyle;\n  itemWidth?: number;\n  itemHeight?: number;\n  maxItemWidth?: number;\n  textStyle?: TextStyle;\n}\n\nexport default class Breadcrumb extends BaseComponent<BreadcrumbConfig> {\n  private x: number;\n  private y: number;\n  private items: BreadcrumbItem[];\n  private itemPadding: [number, number, number, number];\n  private backgroundStyle: {\n    fill?: string;\n    stroke?: string;\n    lineWidth?: number;\n  };\n  private itemBackgroundStyle: {\n    fill?: string;\n    opacity?: number;\n  };\n  private itemActiveBackgroundStyle: {\n    fill?: string;\n    opacity?: number;\n  };\n  private separator: string;\n  private separatorStyle: TextStyle;\n  private itemWidth: number | undefined;\n  private itemHeight: number | undefined;\n  private maxItemWidth: number | undefined;\n  private textStyle: TextStyle;\n\n  private listeners: { target: IShape | IGroup; event: string; callback: () => void }[] = [];\n\n  public destroy() {\n    this.offEvents();\n    super.destroy();\n  }\n\n  protected init(config: BreadcrumbConfig) {\n    this.x = config.x;\n    this.y = config.y;\n    this.items = config.items || [];\n    this.itemPadding = config.itemPadding || [2, 8, 2, 8];\n    this.backgroundStyle = { lineWidth: 1, stroke: '#ffffff', ...(config.backgroundStyle || {}) };\n    this.itemBackgroundStyle = { fill: '#fff', ...(config.itemBackgroundStyle || {}) };\n    this.itemActiveBackgroundStyle = { fill: '#ccc', opacity: 0.2, ...(config.itemActiveBackgroundStyle || {}) };\n    this.separator = config.separator || '/';\n    this.separatorStyle = { textBaseline: 'top', fill: '#000000', opacity: 0.45, ...(config.separatorStyle || {}) };\n    this.itemWidth = config.itemWidth;\n    this.itemHeight = config.itemHeight;\n    this.maxItemWidth = config.maxItemWidth;\n    this.textStyle = { textBaseline: 'top', fill: '#000000', opacity: 0.45, ...(config.textStyle || {}) };\n  }\n\n  protected renderInner(group: IGroup) {\n    const startX = 0;\n    const startY = 0;\n    this.offEvents();\n    this.renderItems(group, startX, startY);\n    //this.bindEvents(group);\n    move(this.group, this.x, this.y);\n  }\n\n  private renderItems(group: IGroup, startX: number, startY: number) {\n    const [topPadding, rightPadding, bottomPadding, leftPadding] = this.itemPadding;\n    let itemHeight;\n\n    // background\n    const backgroundRect = group.addShape('rect', {\n      class: 'breadcrumb-background',\n      attrs: {\n        x: startX,\n        y: startY,\n        width: 1,\n        height: 1,\n        ...this.backgroundStyle,\n      },\n    });\n\n    this.items.forEach((item: BreadcrumbItem, idx: number) => {\n      // item group\n      const itemGroup: IGroup = group.addGroup({\n        id: `item-group-${item.key}`,\n        // data: item.key,\n        data: item,\n        class: 'item-group',\n        attrs: {\n          cursor: 'pointer',\n        },\n      });\n\n      // background rect\n\n      const rectShape: any = itemGroup.addShape('rect', {\n        id: `item-background-${item.key}`,\n        class: 'item-background',\n        attrs: {\n          x: startX,\n          y: startY,\n          width: leftPadding + rightPadding,\n          height: topPadding + bottomPadding,\n          ...this.itemBackgroundStyle,\n          cursor: 'pointer',\n        },\n      });\n      rectShape.name = 'breadcrumb';\n\n      // text shape\n      const textShape: any = itemGroup.addShape('text', {\n        id: `item-text-${item.key}`,\n        class: 'item-text',\n        attrs: {\n          x: startX + leftPadding,\n          y: startY + topPadding,\n          text: item.text,\n          ...this.textStyle,\n          cursor: 'pointer',\n        },\n      });\n      textShape.name = 'breadcrumb';\n      const textShapeBBox: BBox = textShape.getBBox();\n      itemHeight = this.itemHeight || textShapeBBox.height;\n      let itemWidth = this.itemWidth || textShapeBBox.width;\n      if (this.maxItemWidth) {\n        itemWidth = Math.min(itemWidth, this.maxItemWidth);\n      }\n      // update background rect\n      const backgroundRectAttr = {\n        x: startX,\n        y: startY,\n        width: itemWidth + leftPadding + rightPadding,\n        height: itemHeight + topPadding + bottomPadding,\n      };\n      rectShape.attr('width', backgroundRectAttr.width);\n      rectShape.attr('height', backgroundRectAttr.height);\n      // clip\n      itemGroup.setClip({\n        type: 'rect',\n        attrs: backgroundRectAttr,\n      });\n      startX += backgroundRectAttr.width;\n\n      // separator\n      if (idx !== this.items.length - 1) {\n        const sepShape: any = group.addShape('text', {\n          attrs: {\n            x: startX,\n            y: startY + topPadding,\n            text: this.separator,\n            ...this.separatorStyle,\n          },\n          class: 'separator',\n        });\n        startX += sepShape.getBBox().width;\n      }\n    });\n\n    // update background\n    backgroundRect.attr({\n      width: startX,\n      height: itemHeight + topPadding + bottomPadding,\n    });\n  }\n\n  private bindEvents(group: IGroup) {\n    const items = this.items;\n    const itemGroups = group.get('children').filter((item) => item.get('class') === 'item-group');\n    const callback = (event: string, itemGroup: IGroup, emitEventName: string) => () => {\n      const key: string = itemGroup.get('data');\n      const item = items.find((val) => val.key === key);\n      this.emit(emitEventName, {\n        item,\n      });\n    };\n\n    itemGroups.forEach((itemGroup) => {\n      const clickCallback = callback('click', itemGroup, 'onItemClick');\n      const dblclickCallback = callback('dblclick', itemGroup, 'onItemDblclick');\n      const mouseEnterCallback = this.onItemGroupToggleActive(itemGroup, true);\n      const mouseLeaveCallback = this.onItemGroupToggleActive(itemGroup, false);\n      itemGroup.on('click', clickCallback);\n      itemGroup.on('dblclick', dblclickCallback);\n      itemGroup.on('mouseenter', mouseEnterCallback);\n      itemGroup.on('mouseleave', mouseLeaveCallback);\n      this.listeners.push({ target: itemGroup, event: 'click', callback: clickCallback });\n      this.listeners.push({ target: itemGroup, event: 'dblclick', callback: dblclickCallback });\n      this.listeners.push({ target: itemGroup, event: 'mouseenter', callback: mouseEnterCallback });\n      this.listeners.push({ target: itemGroup, event: 'mouseleave', callback: mouseLeaveCallback });\n    });\n  }\n\n  private onItemGroupToggleActive = (itemGroup: IGroup, active: boolean) => () => {\n    const rectShape = itemGroup.get('children').find((item) => item.get('class') === 'item-background');\n    if (rectShape) {\n      rectShape.attr(active ? this.itemActiveBackgroundStyle : this.itemBackgroundStyle);\n    }\n    this.getCanvas().draw();\n  };\n\n  private offEvents() {\n    if (this.listeners) {\n      this.listeners.forEach(({ target, event, callback }) => {\n        target.off(event, callback);\n      });\n    }\n    this.listeners = [];\n  }\n}\n","import { each, clone, deepMix } from '@antv/util';\nimport { groupTransform, transform } from '../../../util/g-util';\n\nconst ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nconst duration = 400;\nconst easing = 'easeQuadInOut';\n\nexport function drillingDown(target, view, callback) {\n  const rect = getRect(target);\n  const range = getRange(view);\n  const xRatio = range.width / rect.width;\n  const yRatio = range.height / rect.height;\n  const offsetX = (range.minX - rect.minX) * xRatio;\n  const offsetY = (range.minY - rect.minY) * yRatio;\n\n  const transformMatrix = transform([\n    ['s', xRatio, yRatio],\n    ['t', offsetX, offsetY],\n  ]);\n\n  let geometry = view.geometries[0];\n  hideLabel(geometry);\n  const tem_container = view.backgroundGroup.addGroup();\n  tem_container.set('zIndex', -100);\n  tem_container.setClip({\n    type: 'rect',\n    attrs: {\n      x: range.minX,\n      y: range.minY,\n      width: range.width,\n      height: range.height,\n    },\n  });\n  const tem_shapes = getTemShapes(geometry, tem_container);\n  geometry.container.set('visible', false);\n  view.canvas.draw();\n  callback();\n  window.setTimeout(() => {\n    each(tem_shapes, (shape, index) => {\n      if (index === 0) {\n        shape.animate({ matrix: transformMatrix }, duration, easing, () => {\n          tem_container.remove();\n          view.canvas.draw();\n        });\n      } else {\n        shape.animate(transform, duration);\n      }\n    });\n    geometry = view.geometries[0];\n    hideLabel(geometry);\n    const shapes = geometry.getShapes();\n    each(shapes, (shape) => {\n      shape.attr('opacity', 0);\n      shape.animate(\n        {\n          opacity: 1,\n        },\n        duration,\n        easing\n      );\n    });\n    const container = geometry.container;\n    container.stopAnimate();\n    container.set('visible', true);\n    container.attr('matrix', clone(ulMatrix));\n    groupTransform(container, [\n      ['s', rect.width / range.width, rect.height / range.height],\n      ['t', rect.minX, rect.minY],\n    ]);\n    const matrix = clone(ulMatrix);\n    geometry.container.animate(\n      {\n        matrix,\n      },\n      duration,\n      easing,\n      () => {\n        showLabel(geometry);\n      }\n    );\n    view.canvas.draw();\n  }, 16);\n}\n\nfunction getTemShapes(geometry, container) {\n  const shapes = geometry.getShapes();\n  const tem_shapes = [];\n  each(shapes, (shape) => {\n    const s = container.addShape('path', {\n      attrs: deepMix({}, shape.attrs, { capture: false }),\n    });\n    tem_shapes.push(s);\n  });\n  return tem_shapes;\n}\n\nexport function rollingUp(name, view, callback) {\n  let geometry = view.geometries[0];\n  hideLabel(geometry);\n  let container = geometry.container;\n  container.attr('matrix', clone(ulMatrix));\n  const tem_container = view.backgroundGroup.addGroup();\n  tem_container.set('zIndex', -100);\n  const tem_shapes = getTemShapes(geometry, tem_container);\n  container.set('visible', false);\n  view.canvas.draw();\n  callback();\n  geometry = view.geometries[0];\n  hideLabel(geometry);\n  container = geometry.container;\n  const shape = findShapeByName(geometry.getShapes(), name); //nameshape\n  const rect = getRect(shape);\n  const range = getRange(view);\n  const containerParent = container.get('parent');\n  if (!containerParent.get('clipShape')) {\n    container.setClip({\n      type: 'rect',\n      attrs: {\n        x: range.minX,\n        y: range.minY,\n        width: range.width,\n        height: range.height,\n      },\n    });\n  }\n  shrinkTemp(tem_container, tem_shapes, rect, range);\n  const xRatio = range.width / rect.width;\n  const yRatio = range.height / rect.height;\n  const offsetX = (range.minX - rect.minX) * xRatio;\n  const offsetY = (range.minY - rect.minY) * yRatio;\n  const transformMatrix = transform([\n    ['s', xRatio, yRatio],\n    ['t', offsetX, offsetY],\n  ]);\n  container.setMatrix(transformMatrix);\n  container.set('visible', true);\n  container.animate(\n    {\n      matrix: ulMatrix,\n    },\n    duration,\n    easing,\n    () => {\n      showLabel(geometry);\n    }\n  );\n}\n\nfunction findShapeByName(shapes, n) {\n  let shape;\n  each(shapes, (s) => {\n    const { name } = s.get('origin').data;\n    if (name === n) {\n      shape = s;\n    }\n  });\n  return shape;\n}\n\nfunction getRange(view) {\n  const viewRange = view.coordinateBBox;\n  const range = {\n    minX: viewRange.minX,\n    minY: viewRange.minY,\n    centerX: (viewRange.maxX - viewRange.minX) / 2,\n    centerY: (viewRange.maxY - viewRange.minY) / 2,\n    width: viewRange.width,\n    height: viewRange.height,\n  };\n  return range;\n}\n\nfunction getRect(shape) {\n  const path = shape.attr('path');\n  const x0 = path[0][1];\n  const y1 = path[0][2];\n  const x1 = path[1][1];\n  const y0 = path[2][2];\n  const rect = {\n    minX: x0,\n    minY: y0,\n    centerX: (x1 - x0) / 2,\n    centerY: (y1 - y0) / 2,\n    width: Math.abs(x1 - x0),\n    height: Math.abs(y1 - y0),\n  };\n  return rect;\n}\n\nfunction shrinkTemp(container, shapes, rect, range) {\n  const xRatio = rect.width / range.width;\n  const yRatio = rect.height / range.height;\n  const transformMatrix = transform([\n    ['s', xRatio, yRatio],\n    ['t', rect.minX, rect.minY],\n  ]);\n  container.animate({ matrix: transformMatrix }, duration, easing, () => {\n    container.remove();\n  });\n  each(shapes, (shape) => {\n    shape.animate(\n      {\n        opacity: 0,\n      },\n      duration,\n      easing\n    );\n  });\n}\n\nfunction hideLabel(geometry) {\n  const labelContainer = geometry.labelsContainer;\n  labelContainer.set('visible', false);\n}\n\nfunction showLabel(geometry) {\n  const labelContainer = geometry.labelsContainer;\n  labelContainer.set('visible', true);\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  rect: 'polygon',\n  breadcrumb: 'breadcrumb',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport { breakText } from '../../../util/common';\n\nconst LEAF_LABEL_OFFSET = 4;\nconst MIN_FONTSIZE = 8;\n\nfunction isLeaf(data, maxLevel) {\n  return !data.children || data.depth >= maxLevel;\n}\n\nfunction textWrapper(label, width, container) {\n  const fontSize = label.attr('fontSize');\n  const textContent: string = label.attr('text');\n  const tShape = container.addShape('text', {\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  const textArr = textContent.split('\\n');\n  const wrappedTextArr = textArr.map((wrappedText) => {\n    let text = '';\n    const chars = wrappedText.split('');\n    const breakIndex: number[] = [];\n    for (let i = 0; i < chars.length; i++) {\n      const item = chars[i];\n      tShape.attr('text', (text += item));\n      const currentWidth = tShape.getBBox().width - 1;\n      if (currentWidth > width) {\n        // \n        if (i === 0) {\n          break;\n        }\n        breakIndex.push(i);\n        text = '';\n      }\n    }\n\n    return breakText(chars, breakIndex);\n  });\n\n  tShape.remove();\n  return wrappedTextArr.join('\\n');\n}\n\nfunction textAbbreviate(text, fontSize, width, container) {\n  const tailShape = container.addShape('text', {\n    attrs: {\n      text: '...',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  const tailWidth = tailShape.getBBox().width;\n  const tShape = container.addShape('text', {\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  let t = '';\n  const abbreviateWidth = width - tailWidth;\n  for (let i = 0; i < text.length; i++) {\n    const item = text[i];\n    tShape.attr('text', (t += item));\n    const currentWidth = tShape.getBBox().width;\n    if (currentWidth >= abbreviateWidth) {\n      const string = t.substr(0, t.length - 1);\n      if (string.length > 0) {\n        return string + '...';\n      }\n    }\n  }\n  tShape.remove();\n  tailShape.remove();\n  return t;\n}\n\nexport interface TreemapLabelConfig {\n  visible?: boolean;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n}\n\nexport interface ILineLabel extends TreemapLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class TreemapLabel {\n  public options: TreemapLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  private container: IGroup;\n\n  constructor(cfg: ILineLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const elements = this.getGeometry().elements;\n    each(elements, (ele) => {\n      const shape = ele.shape;\n      const data = shape.get('origin').data;\n      const isLeafNode = isLeaf(data, this.plot.options.maxLevel);\n      if (data.showLabel) {\n        const style = clone(this.options.style);\n        const position = this.getPosition(shape, isLeafNode);\n        const formatter = this.options.formatter;\n        const content = formatter ? formatter(data.name) : data.name;\n        const textBaseline = this.getTextBaseLine(isLeafNode);\n        const label = this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: position.x,\n            y: position.y,\n            text: content,\n            fill: 'black',\n            textAlign: 'center',\n            textBaseline,\n            fontWeight: isLeafNode ? 300 : 600,\n          }),\n          name: 'label',\n        });\n        this.adjustLabel(label, shape, isLeafNode);\n      }\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    return this.container.getBBox();\n  }\n\n  protected getPosition(shape, isLeafNode) {\n    const shapeBbox = shape.getBBox();\n    let x = 0;\n    let y = 0;\n    if (!isLeafNode) {\n      x = shapeBbox.x + shapeBbox.width / 2;\n      y = shapeBbox.y + 4;\n    } else {\n      x = shapeBbox.minX + shapeBbox.width / 2;\n      y = shapeBbox.minY + shapeBbox.height / 2;\n    }\n    return { x, y };\n  }\n\n  protected getTextBaseLine(isLeafNode) {\n    return isLeafNode ? 'middle' : 'top';\n  }\n\n  protected adjustLabel(label, shape, isLeafNode) {\n    if (isLeafNode) {\n      this.adjustLeafLabel(label, shape);\n    } else {\n      this.adjustParentLabel(label, shape);\n    }\n  }\n\n  private adjustLeafLabel(label, shape) {\n    const bbox = shape.getBBox();\n    const labelBBox = label.getBBox();\n    const labelText = clone(label.attr('text'));\n    const sizeOffset = 2;\n    const fontSize = Math.max(label.attr('fontSize') - sizeOffset, MIN_FONTSIZE);\n    const centerX = bbox.x + bbox.width / 2;\n    const centerY = bbox.y + bbox.height / 2;\n    label.attr({\n      x: centerX,\n      y: centerY,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      lineHeight: fontSize,\n      fontSize,\n    });\n    const wrapperWidth = bbox.width - LEAF_LABEL_OFFSET * 2;\n    if (labelBBox.width > bbox.width && labelBBox.height > bbox.height) {\n      label.attr('text', '');\n      return;\n    } else if (wrapperWidth < fontSize) {\n      label.attr('text', '');\n      return;\n    }\n    if (labelBBox.width > bbox.width) {\n      const wrappedText = textWrapper(label, wrapperWidth, this.container);\n      label.attr({\n        lineHeight: label.attr('fontSize'),\n        text: wrappedText,\n      });\n      const tem_bbox = label.getBBox();\n      if (tem_bbox.height > bbox.height) {\n        const text = textAbbreviate(labelText, fontSize, wrapperWidth, this.container);\n        label.attr('text', text);\n      }\n    }\n  }\n\n  private adjustParentLabel(label, shape) {\n    const shapeBbox = shape.getBBox();\n    const wrapperWidth = shapeBbox.width - LEAF_LABEL_OFFSET * 2;\n    if (label.getBBox().width > wrapperWidth) {\n      const text = textAbbreviate(label.attr('text'), label.attr('fontSize'), wrapperWidth, this.container);\n      label.attr('text', text);\n    }\n  }\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      style: clone(labelStyle),\n    };\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'polygon');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { PlotConfig } from '../..';\nimport { StepLineViewConfig, StepLineLayer } from './layer';\nimport BasePlot from '../../base/plot';\n\nexport interface StepLineConfig extends StepLineViewConfig, PlotConfig {}\n\nexport default class StepLine extends BasePlot<StepLineConfig> {\n  public static getDefaultOptions: typeof StepLineLayer.getDefaultOptions = StepLineLayer.getDefaultOptions;\n\n  /**\n   * \n   * @param props\n   */\n  protected createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'step-line';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\n\nimport LineLayer, { LineLayerConfig, LineViewConfig } from '../line/layer';\nimport { LayerConfig } from '../..';\nimport { registerPlotType } from '../../base/global';\n\nexport interface StepLineViewConfig extends LineViewConfig {\n  readonly step?: 'hv' | 'vh' | 'vhv' | 'hvh'; //  hv\n}\n\nexport interface StepLineLayerConfig extends StepLineViewConfig, LayerConfig {}\n\nexport class StepLineLayer extends LineLayer<StepLineLayerConfig> {\n  public type: string = 'step-line'; //  type\n\n  public static getDefaultOptions(): Partial<LineLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      step: 'hv',\n    });\n  }\n}\n\nregisterPlotType('step-line', StepLineLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BarLayer from './layer';\nimport { BarViewConfig } from './interface';\n\nexport interface BarConfig extends BarViewConfig, PlotConfig {}\n\nexport default class Bar extends BasePlot<BarConfig> {\n  public static getDefaultOptions: typeof BarLayer.getDefaultOptions = BarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'bar';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveAxis from './axis';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [{ name: 'responsiveAxis', method: responsiveAxis }];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport BarLayer from '../layer';\n\nexport default function responsiveAxis(layer: BarLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  bar: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedBarLayer, { StackedBarViewConfig } from './layer';\n\nexport interface StackedBarConfig extends StackedBarViewConfig, PlotConfig {}\n\nexport default class StackedBar extends BasePlot<StackedBarConfig> {\n  public static getDefaultOptions: typeof StackedBarLayer.getDefaultOptions = StackedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerTheme } from '../../theme';\nimport { DEFAULT_BAR_THEME } from '../bar/theme';\n\nregisterTheme('stackedBar', DEFAULT_BAR_THEME);\n","import { Element, IShape } from '../../../dependents';\nimport { registerLabelComponent } from '../../../components/label/base';\nimport BarLabel from '../../bar/component/label';\n\nexport default class StackedBarLabel extends BarLabel {\n  protected adjustLabel(label: IShape, element: Element) {\n    if (this.options.adjustPosition) {\n      const labelRange = label.getBBox();\n      const shapeRange = this.getElementShapeBBox(element);\n      // label  offset\n      if (shapeRange.maxX <= labelRange.maxX) {\n        label.set('visible', false);\n      }\n    }\n  }\n}\n\nregisterLabelComponent('stacked-bar', StackedBarLabel);\n","import { registerLabelComponent } from '../../../components/label/base';\nimport BarAutoLabel from '../../bar/component/label-auto';\nimport { IShape } from '../../../dependents';\n\n/**  StackedBar  */\nexport default class StackedBarAutoLabel extends BarAutoLabel {\n  /**  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected shouldInShapeLabels(labels: IShape[]): boolean {\n    return true;\n  }\n}\n\nregisterLabelComponent('stacked-bar-auto', StackedBarAutoLabel);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupedBarLayer, { GroupedBarViewConfig } from './layer';\n\nexport interface GroupedBarConfig extends GroupedBarViewConfig, PlotConfig {}\n\nexport default class GroupedBar extends BasePlot<GroupedBarConfig> {\n  public static getDefaultOptions: typeof GroupedBarLayer.getDefaultOptions = GroupedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerTheme } from '../../theme';\nimport { DEFAULT_BAR_THEME } from '../bar/theme';\n\nregisterTheme('groupedBar', DEFAULT_BAR_THEME);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentStackedBarLayer, { PercentStackedBarLayerConfig } from './layer';\n\nexport interface PercentStackedBarConfig extends PercentStackedBarLayerConfig, PlotConfig {}\n\nexport default class PercentStackedBar extends BasePlot<PercentStackedBarConfig> {\n  public static getDefaultOptions: typeof PercentStackedBarLayer.getDefaultOptions =\n    PercentStackedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RangeBarLayer, { RangeBarViewConfig } from './layer';\n\nexport interface RangeBarConfig extends RangeBarViewConfig, PlotConfig {}\n\nexport default class RangeBar extends BasePlot<RangeBarConfig> {\n  public static getDefaultOptions: typeof RangeBarLayer.getDefaultOptions = RangeBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'rangeBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport BaseBarLayer from '../bar/layer';\nimport { BarViewConfig } from '../bar/interface';\nimport RangeBarLabel, { RangeBarLabelConfig } from './component/label';\nimport { setShapeCache } from './animation';\n\nexport interface RangeBarViewConfig extends BarViewConfig {\n  label?: RangeBarLabelConfig;\n}\n\nexport interface RangeBarLayerConfig extends RangeBarViewConfig, LayerConfig {}\n\nexport default class RangeBarLayer extends BaseBarLayer<RangeBarLayerConfig> {\n  public static getDefaultOptions(): Partial<RangeBarViewConfig> {\n    return deepMix(\n      super.getDefaultOptions(),\n      {\n        label: {\n          visible: true,\n          position: 'outer',\n        },\n        xAxis: {\n          visible: true,\n          autoRotateTitle: false,\n          grid: {\n            visible: true,\n          },\n          line: {\n            visible: false,\n          },\n          tickLine: {\n            visible: false,\n          },\n          label: {\n            visible: true,\n            autoRotate: true,\n            autoHide: true,\n          },\n          title: {\n            visible: true,\n            spacing: 12,\n          },\n        },\n        yAxis: {\n          visible: true,\n          autoRotateTitle: true,\n          grid: {\n            visible: false,\n          },\n          line: {\n            visible: true,\n          },\n          tickLine: {\n            visible: true,\n          },\n          label: {\n            visible: true,\n            autoHide: true,\n            autoRotate: false,\n          },\n          title: {\n            visible: false,\n            spacing: 12,\n          },\n        },\n      },\n      {}\n    );\n  }\n\n  public type: string = 'rangeBar';\n\n  public afterRender() {\n    this.renderLabel();\n    // shape\n    const shapeCaches = [];\n    const geoms = this.view.geometries;\n    each(geoms, (geom) => {\n      const elements = geom.elements;\n      each(elements, (ele) => {\n        shapeCaches.push(ele.shape);\n      });\n    });\n    setShapeCache(shapeCaches);\n    super.afterRender();\n  }\n\n  protected renderLabel() {\n    if (this.options.label && this.options.label.visible) {\n      const label = new RangeBarLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    this.bar.animate = {\n      appear: {\n        animation: 'clipInFromCenter',\n        duration: 600,\n      },\n      update: {\n        animation: 'updateFromCenter',\n        duration: 600,\n      },\n    };\n  }\n}\n\nregisterPlotType('rangeBar', RangeBarLayer);\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup, Geometry } from '../../../dependents';\nimport { rgb2arr } from '../../../util/color';\nimport BBox from '../../../util/bbox';\n\nconst DEFAULT_OFFSET = 8;\n\nfunction mappingColor(band, gray) {\n  let reflect;\n  each(band, (b) => {\n    const map = b;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\nexport interface RangeBarLabelConfig {\n  visible: boolean;\n  position?: 'outer' | 'inner';\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  leftStyle?: any;\n  rightStyle?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IRangeBarLabel extends RangeBarLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class RangeBarLabel {\n  public options: RangeBarLabelConfig;\n  public destroyed: boolean = false;\n  private plot: any;\n  private view: View;\n  private coord: any;\n  private container: IGroup;\n\n  constructor(cfg: IRangeBarLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    if (!this.options.leftStyle) {\n      this.options.leftStyle = this.options.style;\n    }\n    if (!this.options.rightStyle) {\n      this.options.rightStyle = this.options.style;\n    }\n    this.init();\n  }\n\n  public init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const { elements, coordinate } = this.getGeometry();\n    this.coord = coordinate;\n    each(elements, (ele) => {\n      const { shape } = ele;\n      const positions = this.getPosition(shape);\n      const values = this.getValue(shape);\n      const textAlign = this.getTextAlign();\n      const labels = [];\n      each(positions, (pos, i) => {\n        const style = i === 0 ? this.options.leftStyle : this.options.rightStyle;\n        const color = this.getTextColor(shape, i);\n        if (this.options.position === 'inner' && this.options.adjustColor && color !== 'black') {\n          style.stroke = null;\n        }\n        const formatter = this.options.formatter;\n        const content = formatter ? formatter(values[i]) : values[i];\n        const label = this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: pos.x,\n            y: pos.y,\n            text: content,\n            fill: color,\n            textAlign: textAlign[i],\n            textBaseline: 'middle',\n          }),\n          name: 'label',\n        });\n        labels.push(label);\n        this.doAnimation(label);\n      });\n      shape.set('labelShapes', labels);\n      this.adjustPosition(labels[0], labels[1], shape);\n    });\n    this.plot.canvas.draw();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    return this.container.getBBox();\n  }\n\n  protected getShapeBbox(shape) {\n    const points = [];\n    each(shape.get('origin').points, (p) => {\n      points.push(this.coord.convertPoint(p));\n    });\n    const bbox = new BBox(\n      points[0].x,\n      points[1].y,\n      Math.abs(points[2].x - points[0].x),\n      Math.abs(points[0].y - points[1].y)\n    );\n    return bbox;\n  }\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      position: 'outer',\n      offsetX: DEFAULT_OFFSET,\n      offsetY: 0,\n      style: clone(labelStyle),\n      adjustColor: true,\n      adjustPosition: true,\n    };\n  }\n\n  private getPosition(shape) {\n    const bbox = this.getShapeBbox(shape);\n    const { minX, maxX, minY, height } = bbox;\n    const { offsetX, offsetY } = this.options;\n    const y = minY + height / 2 + offsetY;\n    let x1, x2;\n    if (this.options.position === 'outer') {\n      x1 = minX - offsetX;\n      x2 = maxX + offsetX;\n    } else {\n      x1 = minX + offsetX;\n      x2 = maxX - offsetX;\n    }\n    return [\n      { x: x1, y },\n      { x: x2, y },\n    ];\n  }\n\n  private getValue(shape) {\n    const { xField } = this.plot.options;\n    return shape.get('origin').data[xField];\n  }\n\n  private getTextAlign() {\n    if (this.options.position === 'outer') {\n      return ['right', 'left'];\n    } else {\n      return ['left', 'right'];\n    }\n  }\n\n  private getTextColor(shape, index) {\n    if (this.options.adjustColor && this.options.position === 'inner') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = index === 0 ? this.options.leftStyle.fill : this.options.rightStyle.fill;\n    return defaultColor;\n  }\n\n  private doAnimation(label) {\n    if (this.plot.animation && this.plot.animation === false) {\n      return;\n    }\n    label.attr('fillOpacity', 0);\n    label.attr('strokeOpacity', 0);\n    label.stopAnimate();\n    label.animate(\n      {\n        fillOpacity: 1,\n        strokeOpacity: 1,\n      },\n      800,\n      'easeLinear',\n      500\n    );\n  }\n\n  private adjustPosition(la, lb, shape) {\n    const origin = shape.get('origin');\n    const shapeMinX = origin.x[0];\n    const shapeMaxX = origin.x[1];\n    const shapeWidth = Math.abs(shapeMaxX - shapeMinX);\n    const panelRange = this.view.coordinateBBox;\n    const boxes = [la.getBBox(), lb.getBBox()];\n    let ax = la.attr('x');\n    let bx = lb.attr('x');\n    if (this.options.adjustPosition && this.options.position === 'inner') {\n      const totalLength = boxes[0].width + boxes[1].width;\n      const isOverlap = boxes[0].maxX - boxes[1].minX > 2;\n      const isTooShort = totalLength > shapeWidth;\n      if (isOverlap || isTooShort) {\n        ax = shapeMinX - this.options.offsetX;\n        la.attr('fill', this.options.leftStyle.fill);\n        la.attr('textAlign', 'right');\n        boxes[0] = la.getBBox();\n        bx = shapeMaxX + this.options.offsetX;\n        lb.attr('fill', this.options.rightStyle.fill);\n        lb.attr('textAlign', 'left');\n        boxes[1] = lb.getBBox();\n      }\n    }\n    if (boxes[0].minX < panelRange.minX) {\n      ax = panelRange.minX + DEFAULT_OFFSET;\n      la.attr('textAlign', 'left');\n    }\n    la.attr('x', ax);\n    lb.attr('x', bx);\n    this.plot.canvas.draw();\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'interval') as Geometry;\n  }\n}\n","import { registerAnimation, IShape } from '../../dependents';\nimport { clone, each } from '@antv/util';\n\n// \nlet shapeCache: IShape[];\n\nfunction clipInFromCenter(shape, animateCfg) {\n  const bbox = shape.getBBox();\n  const centerX = bbox.minX + bbox.width / 2;\n  shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: centerX,\n      y: bbox.minY,\n      width: 0,\n      height: bbox.height,\n    },\n  });\n  const cliper = shape.get('clipShape');\n  cliper.animate(\n    {\n      width: bbox.width,\n      x: bbox.minX,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    () => {\n      shape.setClip(null);\n    },\n    animateCfg.delay\n  );\n}\n\nclipInFromCenter.animationName = 'clipInFromCenter';\n\nexport function setShapeCache(shapes) {\n  shapeCache = shapes;\n}\n\nfunction updateFromCenter(shape, animateCfg) {\n  const fromPath = getShapeFromCache(shape).attr('path');\n  const toPath = clone(shape.attr('path'));\n  shape.attr('path', fromPath);\n  shape.animate(\n    {\n      path: toPath,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    animateCfg.callback,\n    100\n  );\n}\n\nfunction getShapeFromCache(shape) {\n  const { id } = shape;\n  let target;\n  each(shapeCache, (s) => {\n    if (s.id === id) {\n      target = s;\n    }\n  });\n  return target;\n}\n\nupdateFromCenter.animationName = 'updateFromCenter';\n\nregisterAnimation('clipInFromCenter', clipInFromCenter);\nregisterAnimation('updateFromCenter', updateFromCenter);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport AreaLayer from './layer';\nimport { AreaViewConfig } from './interface';\n\nexport interface AreaConfig extends AreaViewConfig, PlotConfig {}\n\nexport default class Area extends BasePlot<AreaConfig> {\n  public static getDefaultOptions: typeof AreaLayer.getDefaultOptions = AreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'area';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveAxis from './axis';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [{ name: 'responsiveAxis', method: responsiveAxis }];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport AreaLayer from '../layer';\n\nexport default function responsiveAxis(layer: AreaLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  area: 'area',\n  line: 'line',\n  point: 'point',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedAreaLayer, { StackedAreaLayerConfig } from './layer';\n\nexport interface StackedAreaConfig extends StackedAreaLayerConfig, PlotConfig {}\n\nexport default class StackedArea extends BasePlot<StackedAreaConfig> {\n  public static getDefaultOptions: typeof StackedAreaLayer.getDefaultOptions = StackedAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedArea';\n    super.createLayers(layerProps);\n  }\n}\n","import AreaLineLabel from './label/line-label';\nimport AreaLabel from './label/area-label';\n\nconst ComponentsInfo = {\n  lineLabel: { Ctr: AreaLineLabel },\n  areaLabel: { Ctr: AreaLabel },\n};\n\nexport function getPlotComponents(plot, type, cfg) {\n  if (plot.options[type] && plot.options[type].visible) {\n    const componentInfo = ComponentsInfo[type];\n    const component = new componentInfo.Ctr(cfg);\n    if (componentInfo.padding) {\n      plot.paddingController.registerPadding(component, componentInfo.padding);\n    }\n    return component;\n  }\n}\n","import { reduce, size } from '@antv/util';\nimport LineLabel from '../../../line/component/label/line-label';\n\n/**\n *  label\n */\nexport default class AreaLineLabel extends LineLabel {\n  protected getShapeInfo(shape) {\n    const originPoints = shape.get('origin').points;\n    const lastPoint = originPoints[originPoints.length - 1];\n    const color = shape.attr('stroke');\n    const { stackField } = this.plot.options;\n    const name = shape.get('origin').data[0][stackField];\n\n    const y =\n      reduce(\n        lastPoint.y,\n        (r: number, a: number): number => {\n          return r + a;\n        },\n        0\n      ) / size(lastPoint.y);\n\n    return { x: lastPoint.x, y, color, name };\n  }\n}\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup, Geometry } from '../../../../dependents';\n\nconst DEFAULT_SIZE = 12;\nconst TOLERANCE = 0.01;\nconst MAX_ITERATION = 100;\nconst MIN_HEIGHT = 12;\n\nfunction getRange(points) {\n  let maxHeight = -Infinity;\n  let min = Infinity;\n  let max = -Infinity;\n  each(points, (p) => {\n    min = Math.min(p.x, min);\n    max = Math.max(p.x, max);\n    const height = Math.abs(p.y[0] - p.y[1]);\n    maxHeight = Math.max(maxHeight, height);\n  });\n  return {\n    xRange: [min, max],\n    maxHeight,\n  };\n}\n\nfunction interpolateY(x, points, index) {\n  let leftPoint = points[0];\n  let rightPoint = points[points.length - 1];\n  each(points, (p) => {\n    if (p.x === x) {\n      return p.y[index];\n    }\n    if (p.x < x && p.x > leftPoint.x) {\n      leftPoint = p;\n    }\n    if (p.x > x && p.x < rightPoint.x) {\n      rightPoint = p;\n    }\n  });\n  const t = (x - leftPoint.x) / (rightPoint.x - leftPoint.x);\n  return leftPoint.y[index] * (1 - t) + rightPoint.y[index] * t;\n}\n\nfunction getXIndex(data, x) {\n  // tslint:disable-next-line: prefer-for-of\n  let i;\n  for (i = 0; i < data.length; i++) {\n    const d = data[i];\n    if (d.x === x || d.x > x) {\n      break;\n    }\n  }\n  return i;\n}\n\nexport interface AreaLabelConfig {\n  visible: boolean;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  autoScale?: boolean;\n}\n\nexport interface IAreaLabel extends AreaLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class AreaLabel {\n  public options: AreaLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  private container: IGroup;\n  private scaleFactor: number[] = [];\n\n  constructor(cfg: IAreaLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const stackField = this.plot.options.stackField;\n    const groupedPoints = this.getGeometry().dataArray;\n    const labelPoints = [];\n    each(groupedPoints, (pointArray, name) => {\n      const labelPoint = this.drawLabel(pointArray, name);\n      if (labelPoint) {\n        labelPoints.push(deepMix({}, pointArray[0], labelPoint));\n        this.scaleFactor.push(labelPoint.scaleFactor);\n      }\n    });\n    const labelShapes = [];\n    each(labelPoints, (p, index) => {\n      const { style, offsetX, offsetY } = this.options;\n      const labelSize = this.getFontSize(index);\n      const formatter = this.options.formatter;\n      const content = formatter ? formatter(p._origin[stackField]) : p._origin[stackField];\n      const text = this.container.addShape('text', {\n        attrs: deepMix(\n          {},\n          {\n            x: p.x + offsetX,\n            y: p.y + offsetY,\n            text: content,\n            fill: p.color,\n            fontSize: labelSize,\n            textAlign: 'center',\n            textBaseline: 'top',\n          },\n          style\n        ),\n        name: 'label',\n      });\n      labelShapes.push(text);\n    });\n    this.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    return this.container.getBBox();\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = clone(theme.label.style);\n    labelStyle.stroke = null;\n    delete labelStyle.fill;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      style: labelStyle,\n      autoScale: true,\n    };\n  }\n\n  protected drawLabel(points, name) {\n    const { xRange, maxHeight } = getRange(points);\n    // areax\n    const resolution = xRange[1] - xRange[0];\n    const interpolatedPoints = this.getInterpolatedPoints(xRange[0], resolution, points);\n    // labelbbox\n    const bbox = this.getLabelBbox(name);\n    const fitOption = {\n      xRange,\n      aspect: bbox.width / bbox.height,\n      data: interpolatedPoints,\n      justTest: true,\n    };\n    const height = this.bisection(MIN_HEIGHT, maxHeight, this.testFit, fitOption, TOLERANCE, MAX_ITERATION);\n    if (height === null) {\n      return;\n    }\n    fitOption.justTest = false;\n    const fit: any = this.testFit(fitOption);\n    fit.x = fit.x;\n    fit.y = fit.y0 + (fit.y1 - fit.y0) / 2;\n    fit.scaleFactor = (height / bbox.height) * 0.2;\n    return fit;\n  }\n\n  private getInterpolatedPoints(minX, resolution, points) {\n    const interpolatedPoints = [];\n    const step = 2;\n    for (let i = minX; i < resolution; i += step) {\n      const y0 = interpolateY(i, points, 0);\n      const y1 = interpolateY(i, points, 1);\n      interpolatedPoints.push({\n        x: i,\n        y: [y0, y1],\n      });\n    }\n    return interpolatedPoints;\n  }\n\n  private bisection(min, max, test, testOption, tolerance, maxIteration) {\n    for (let i = 0; i < maxIteration; i++) {\n      const middle = (min + max) / 2;\n      const options = testOption;\n      options.height = middle;\n      options.width = middle * options.aspect;\n      const passesTest = test(options);\n      const withinTolerance = (max - min) / 2 < tolerance;\n      if (passesTest && withinTolerance) {\n        return middle;\n      }\n      if (passesTest) {\n        min = middle;\n      } else {\n        max = middle;\n      }\n    }\n    return null;\n  }\n\n  private testFit(option) {\n    const { xRange, width, height, data, justTest } = option;\n    for (let i = 0; i < data.length; i++) {\n      const d = data[i];\n      const x0 = d.x;\n      const x1 = x0 + width;\n      if (x1 > xRange[1]) {\n        break;\n      }\n      const x1_index = getXIndex(data, x1);\n      let ceiling = -Infinity;\n      let ceilingFloor = null; // ceilingbottomceilfloor\n      let floor = Infinity;\n      for (let j = i; j < x1_index; j++) {\n        const top = data[j].y[1];\n        const bottom = data[j].y[0];\n        if (bottom < floor) {\n          floor = bottom;\n        }\n        if (top > ceiling) {\n          ceiling = top;\n          ceilingFloor = bottom;\n        }\n        if (floor - ceiling < height) {\n          break;\n        }\n      }\n      if (floor - ceiling >= height) {\n        if (justTest) {\n          return true;\n        }\n        return {\n          x: x0,\n          y0: ceiling,\n          y1: ceilingFloor,\n          width,\n          height,\n        };\n      }\n    }\n    return false;\n  }\n\n  private getLabelBbox(text) {\n    const labelStyle = clone(this.plot.theme.label.textStyle);\n    labelStyle.fontSize = DEFAULT_SIZE;\n    const tShape = this.container.addShape('text', {\n      attrs: {\n        text,\n        x: 0,\n        y: 0,\n        ...labelStyle,\n      },\n    });\n    const bbox = tShape.getBBox();\n    tShape.remove();\n    return bbox;\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'area') as Geometry;\n  }\n\n  protected getFontSize(index) {\n    if (this.options.autoScale) {\n      const scaleFactor = this.scaleFactor[index];\n      return DEFAULT_SIZE * scaleFactor;\n    }\n    return DEFAULT_SIZE;\n  }\n}\n","import { registerLabelComponent } from '../../../../components/label/base';\nimport AreaPointLabel from '../../../area/component/label/area-point';\n\nexport default class StackedAreaPointLabel extends AreaPointLabel {}\n\nregisterLabelComponent('stackedArea-point', StackedAreaPointLabel);\n","import { Geometry, IShape } from '../../../../dependents';\nimport { registerLabelComponent } from '../../../../components/label/base';\nimport AreaPointAutoLabel from '../../../area/component/label/area-point-auto';\n\nexport default class StackedAreaPointAutoLabel extends AreaPointAutoLabel {\n  /**  */\n  protected sortLabels(geometry: Geometry, labels: IShape[]): IShape[] {\n    const sorted: IShape[] = [];\n    if (labels.length > 0) {\n      sorted.push(labels.shift());\n    }\n    if (labels.length > 0) {\n      sorted.push(labels.pop());\n    }\n    sorted.push(...labels);\n\n    return sorted;\n  }\n}\n\nregisterLabelComponent('stackedArea-point-auto', StackedAreaPointAutoLabel);\n","import { registerTheme } from '../../theme';\nimport { DEFAULT_AREA_THEME } from '../area/theme';\n\nregisterTheme('stackedArea', DEFAULT_AREA_THEME);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentStackedAreaLayer, { PercentStackedAreaLayerConfig } from './layer';\n\nexport interface PercentStackedAreaConfig extends PercentStackedAreaLayerConfig, PlotConfig {}\n\nexport default class PercentStackedArea extends BasePlot<PercentStackedAreaConfig> {\n  public static getDefaultOptions: typeof PercentStackedAreaLayer.getDefaultOptions =\n    PercentStackedAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedArea';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport ColumnLayer from './layer';\nimport { ColumnViewConfig } from './interface';\n\nexport interface ColumnConfig extends ColumnViewConfig, PlotConfig {}\n\nexport default class Column extends BasePlot<ColumnConfig> {\n  public static getDefaultOptions: typeof ColumnLayer.getDefaultOptions = ColumnLayer.getDefaultOptions;\n\n  public createLayers(props: ColumnConfig) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'column';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveAxis from './axis';\nimport responsiveLabel from './label';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [\n  { name: 'responsiveAxis', method: responsiveAxis },\n  { name: 'responsiveLabel', method: responsiveLabel },\n];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport ColumnLayer from '../layer';\n\nexport default function responsiveAxis(layer: ColumnLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import ApplyResponsiveLabel from '../../../util/responsive/apply/label';\nimport ColumnLayer from '../layer';\n\nclass ApplyResponsiveColumnLabel extends ApplyResponsiveLabel {\n  protected getType() {\n    if (this.plot.column.label) {\n      if (!this.plot.column.label.position || this.plot.column.label.position === 'top') {\n        return 'top';\n      }\n    }\n    return 'inner';\n  }\n}\n\nexport default function responsivePointLabel(layer: ColumnLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  new ApplyResponsiveColumnLabel({\n    plot: layer,\n    responsiveTheme,\n  });\n}\n","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n\n/** theme */\nconst columnTheme = {\n  label: {\n    top: {\n      constraints: [{ name: 'elementCollision' }],\n      rules: {\n        elementCollision: [\n          { name: 'nodeJitterUpward' },\n          {\n            name: 'nodesResamplingByState',\n            option: {\n              keep: ['min', 'max', 'median'],\n            },\n          },\n          {\n            name: 'textHide',\n          },\n        ],\n      },\n    },\n  },\n};\n\nregisterResponsiveTheme('column', columnTheme);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupedColumnLayer, { GroupedColumnViewConfig } from './layer';\n\nexport interface GroupedColumnConfig extends GroupedColumnViewConfig, PlotConfig {}\n\nexport default class GroupedColumn extends BasePlot<GroupedColumnConfig> {\n  public static getDefaultOptions: typeof GroupedColumnLayer.getDefaultOptions = GroupedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerTheme } from '../../theme';\nimport { DEFAULT_COLUMN_THEME } from '../column/theme';\n\nregisterTheme('groupedColumn', DEFAULT_COLUMN_THEME);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedColumnLayer, { StackedColumnViewConfig } from './layer';\n\nexport interface StackedColumnConfig extends StackedColumnViewConfig, PlotConfig {}\n\nexport default class StackedColumn extends BasePlot<StackedColumnConfig> {\n  public static getDefaultOptions: typeof StackedColumnLayer.getDefaultOptions = StackedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedColumn';\n    super.createLayers(layerProps);\n  }\n}\n","/**\n * \n */\nimport { each, assign, mix, find } from '@antv/util';\nimport { IGroup, IShape, View } from '../dependents';\nimport { compare } from '../base/controller/state';\n\nfunction parsePoints(shape, coord) {\n  const parsedPoints = [];\n  const points = shape.get('origin').points;\n  each(points, (p) => {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n  return parsedPoints;\n}\n\nfunction getDefaultStyle() {\n  return {\n    areaStyle: {\n      opacity: 0.2,\n    },\n    lineStyle: {\n      lineWidth: 2,\n      opacity: 0.1,\n    },\n  };\n}\n\nexport default class ConnectedArea {\n  private view: View;\n  private container: IGroup;\n  private field: string; // \n  private areas: IShape[] = [];\n  private lines: IShape[] = [];\n  private areaStyle: any;\n  private _areaStyle: any = {};\n  private lineStyle: any;\n  private _lineStyle: any = {};\n  private triggerOn: string;\n  private animation: boolean;\n\n  constructor(cfg) {\n    assign(this, cfg);\n    this._init();\n  }\n\n  public draw() {\n    const groupedShapes = this._getGroupedShapes();\n    each(groupedShapes, (shapes, name) => {\n      if (shapes.length > 0) {\n        this._drawConnection(shapes, name);\n      }\n    });\n    if (this.triggerOn) {\n      this._addInteraction();\n    } else if (this.animation) {\n      // triggerOn\n      this._initialAnimation();\n    }\n  }\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n    this.areas = [];\n    this.lines = [];\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  public setState(state, condition) {\n    if (state === 'active') {\n      this._onActive(condition);\n    }\n    if (state === 'disabled') {\n      this._onDisabled(condition);\n    }\n    if (state === 'selected') {\n      this._onSelected(condition);\n    }\n  }\n\n  private _init() {\n    const layer = this.view.backgroundGroup;\n    this.container = layer.addGroup();\n    this.draw();\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n  }\n\n  private _getGroupedShapes() {\n    // shape\n    const { values } = this.view.getScaleByField(this.field);\n    const geometry = this.view.geometries[0];\n    const shapes = geometry.getShapes();\n    // \n    const groups = {};\n    each(values, (v) => {\n      groups[v] = [];\n    });\n    // \n    each(shapes, (shape) => {\n      const origin = shape.get('origin').data;\n      const key = origin[this.field];\n      groups[key].push(shape);\n    });\n    return groups;\n  }\n\n  private _drawConnection(shapes, name) {\n    // tslint:disable-next-line: prefer-for-of\n    const originColor = shapes[0].attr('fill');\n    this._areaStyle[name] = this._getShapeStyle(originColor, 'area');\n    this._lineStyle[name] = this._getShapeStyle(originColor, 'line');\n    const coord = this.view.geometries[0].coordinate;\n    for (let i = 0; i < shapes.length - 1; i++) {\n      const current = parsePoints(shapes[i], coord);\n      const next = parsePoints(shapes[i + 1], coord);\n      const areaStyle = mix({}, this._areaStyle[name]);\n      const lineStyle = mix({}, this._lineStyle[name]);\n      if (this.triggerOn) {\n        areaStyle.opacity = 0;\n        lineStyle.opacity = 0;\n      }\n      const area = this.container.addShape('path', {\n        attrs: mix({} as any, areaStyle, {\n          path: [\n            ['M', current[2].x, current[2].y],\n            ['L', next[1].x, next[1].y],\n            ['L', next[0].x, next[0].y],\n            ['L', current[3].x, current[3].y],\n          ],\n        }),\n        name: 'connectedArea',\n      });\n      const line = this.container.addShape('path', {\n        attrs: mix({} as any, lineStyle, {\n          path: [\n            ['M', current[2].x, current[2].y],\n            ['L', next[1].x, next[1].y],\n          ],\n          // stroke: shapes[i].attr('fill'),\n        }),\n        name: 'connectedArea',\n      });\n      // \n      const originData = shapes[i].get('origin').data;\n      area.set('data', originData);\n      line.set('data', originData);\n      this.areas.push(area);\n      this.lines.push(line);\n    }\n  }\n\n  private _getShapeStyle(originColor, shapeType) {\n    const styleName = `${shapeType}Style`;\n    // \n    if (this[styleName]) {\n      return this[styleName];\n    }\n    const defaultStyle = getDefaultStyle()[styleName];\n    let mappedStyle: any = { fill: originColor };\n    if (shapeType === 'line') {\n      mappedStyle = { stroke: originColor };\n    }\n\n    return mix(defaultStyle, mappedStyle);\n  }\n\n  private _addInteraction() {\n    const eventName = this.triggerOn;\n    this.view.on(`interval:${eventName}`, (e) => {\n      const origin = e.target.get('origin').data[this.field];\n      this.setState('active', {\n        name: this.field,\n        exp: origin,\n      });\n      this.setState('disabled', {\n        name: this.field,\n        exp: (d) => {\n          return d !== origin;\n        },\n      });\n      this.view.canvas.draw();\n    });\n    // \n    this.view.on('mousemove', (e) => {\n      if (e.gEvent.target.get('name') !== 'interval') {\n        this.setState('disabled', {\n          name: this.field,\n          exp: () => {\n            return true;\n          },\n        });\n      }\n    });\n  }\n\n  private _initialAnimation() {\n    // clipIn\n    const { x, y, width, height } = this.view.coordinateBBox;\n    this.container.setClip({\n      type: 'rect',\n      attrs: {\n        x,\n        y,\n        width: 0,\n        height,\n      },\n    });\n    this.container.set('animating', true);\n    this.container.getClip().animate(\n      {\n        width,\n      },\n      600,\n      'easeQuadOut',\n      () => {}, // eslint-disable-line @typescript-eslint/no-empty-function\n      400\n    );\n  }\n\n  private _onActive(condition) {\n    each(this.areas, (area) => {\n      const shapeData = area.get('data');\n      const styleField = shapeData[this.field];\n      if (compare(shapeData, condition)) {\n        const opacity = this._areaStyle[styleField].opacity || 1;\n        // area.attr('opacity',this._areaStyle[styleField].opacity || 1);\n        area.stopAnimate();\n        area.animate({ opacity }, 400, 'easeQuadOut');\n      }\n    });\n    each(this.lines, (line) => {\n      const shapeData = line.get('data');\n      const styleField = shapeData[this.field];\n      if (compare(shapeData, condition)) {\n        const opacity = this._lineStyle[styleField].opacity || 1;\n        // line.attr('opacity',this._lineStyle[styleField].opacity || 1);\n        line.stopAnimate();\n        line.animate({ opacity }, 400, 'easeQuadOut');\n      }\n    });\n  }\n\n  private _onDisabled(condition) {\n    each(this.areas, (area) => {\n      const shapeData = area.get('data');\n      if (compare(shapeData, condition)) {\n        // area.attr('opacity',0);\n        area.stopAnimate();\n        area.animate(\n          {\n            opacity: 0,\n          },\n          400,\n          'easeQuadOut'\n        );\n      }\n    });\n    each(this.lines, (line) => {\n      const shapeData = line.get('data');\n      if (compare(shapeData, condition)) {\n        // line.attr('opacity',0);\n        line.stopAnimate();\n        line.animate(\n          {\n            opacity: 0,\n          },\n          400,\n          'easeQuadOut'\n        );\n      }\n    });\n  }\n\n  private _onSelected(condition) {\n    this._onActive(condition);\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'interval');\n  }\n}\n","import { registerTheme } from '../../theme';\nimport { DEFAULT_COLUMN_THEME } from '../column/theme';\n\nregisterTheme('stackedColumn', DEFAULT_COLUMN_THEME);\n","import { registerLabelComponent } from '../../../components/label/base';\nimport ColumnAutoLabel from '../../column/component/label-auto';\nimport { IShape } from '../../../dependents';\n\n/**  StackedColumn  */\nexport default class StackedColumnAutoLabel extends ColumnAutoLabel {\n  /**  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected shouldInShapeLabels(labels: IShape[]): boolean {\n    return true;\n  }\n}\n\nregisterLabelComponent('stacked-column-auto', StackedColumnAutoLabel);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RangeColumnLayer, { RangeColumnViewConfig } from './layer';\n\nexport interface RangeColumnConfig extends RangeColumnViewConfig, PlotConfig {}\n\nexport default class RangeColumn extends BasePlot<RangeColumnConfig> {\n  public static getDefaultOptions: typeof RangeColumnLayer.getDefaultOptions = RangeColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'rangeColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport BaseColumnLayer from '../column/layer';\nimport { ColumnViewConfig } from '../column/interface';\nimport RangeColumnLabel, { RangeColumnLabelConfig } from './component/label';\nimport { setShapeCache } from './animation';\n\nexport interface RangeColumnViewConfig extends ColumnViewConfig {\n  label?: RangeColumnLabelConfig;\n}\n\nexport interface RangeColumnLayerConfig extends RangeColumnViewConfig, LayerConfig {}\n\nexport default class RangeColumnLayer extends BaseColumnLayer<RangeColumnLayerConfig> {\n  public static getDefaultOptions(): Partial<RangeColumnViewConfig> {\n    return deepMix(\n      super.getDefaultOptions(),\n      {\n        label: {\n          visible: true,\n          position: 'outer',\n        },\n      },\n      {}\n    );\n  }\n\n  public type: string = 'rangeColumn';\n\n  public afterRender() {\n    this.renderLabel();\n    // shape\n    const shapeCaches = [];\n    const geoms = this.view.geometries;\n    each(geoms, (geom) => {\n      const elements = geom.elements;\n      each(elements, (ele) => {\n        shapeCaches.push(ele.shape);\n      });\n    });\n    setShapeCache(shapeCaches);\n    super.afterRender();\n  }\n\n  protected animation() {\n    super.animation();\n    this.column.animate = {\n      appear: {\n        animation: 'clipInFromCenterVertical',\n        duration: 600,\n      },\n      update: {\n        animation: 'updateFromCenterVertical',\n        duration: 600,\n      },\n    };\n  }\n\n  protected renderLabel() {\n    if (this.options.label && this.options.label.visible) {\n      const label = new RangeColumnLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n  }\n}\n\nregisterPlotType('rangeColumn', RangeColumnLayer);\n","import { each, deepMix, clone, find } from '@antv/util';\nimport { View, IGroup, Geometry } from '../../../dependents';\nimport { rgb2arr } from '../../../util/color';\nimport BBox from '../../../util/bbox';\n\nconst DEFAULT_OFFSET = 8;\n\nfunction mappingColor(band, gray) {\n  let reflect;\n  each(band, (b) => {\n    const map = b;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\nexport interface RangeColumnLabelConfig {\n  visible: boolean;\n  position?: 'outer' | 'inner';\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  topStyle?: any;\n  bottomStyle?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IRangeColumnLabel extends RangeColumnLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class RangeColumnLabel {\n  public options: RangeColumnLabelConfig;\n  public destroyed: boolean = false;\n  private plot: any;\n  private view: View;\n  private coord: any;\n  private container: IGroup;\n\n  constructor(cfg: IRangeColumnLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    if (!this.options.topStyle) {\n      this.options.topStyle = this.options.style;\n    }\n    if (!this.options.bottomStyle) {\n      this.options.bottomStyle = this.options.style;\n    }\n    this.init();\n  }\n\n  public init() {\n    this.container = this.getGeometry().labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const { coordinate, elements } = this.getGeometry();\n    this.coord = coordinate;\n    each(elements, (ele) => {\n      const shape = ele.shape;\n      const positions = this.getPosition(shape);\n      const values = this.getValue(shape);\n      const textBaeline = this.getTextBaseline();\n      const labels = [];\n      each(positions, (pos, i) => {\n        const style = i === 1 ? this.options.topStyle : this.options.bottomStyle;\n        const color = this.getTextColor(shape, i);\n        if (this.options.position === 'inner' && this.options.adjustColor && color !== 'black') {\n          style.stroke = null;\n        }\n        const formatter = this.options.formatter;\n        const content = formatter ? formatter(values[i]) : values[i];\n        const label = this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: pos.x,\n            y: pos.y,\n            text: content,\n            fill: color,\n            textAlign: 'center',\n            textBaseline: textBaeline[i],\n          }),\n          name: 'label',\n        });\n        labels.push(label);\n        this.doAnimation(label);\n      });\n      shape.set('labelShapes', labels);\n      this.adjustPosition(labels[0], labels[1], shape);\n    });\n    this.plot.canvas.draw();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    return this.container.getBBox();\n  }\n\n  protected getShapeBbox(shape) {\n    const points = [];\n    each(shape.get('origin').points, (p) => {\n      points.push(this.coord.convertPoint(p));\n    });\n    const bbox = new BBox(\n      points[0].x,\n      points[1].y,\n      Math.abs(points[2].x - points[0].x),\n      Math.abs(points[0].y - points[1].y)\n    );\n    return bbox;\n  }\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      position: 'outer',\n      offsetX: 0,\n      offsetY: DEFAULT_OFFSET,\n      style: clone(labelStyle),\n      adjustColor: true,\n      adjustPosition: true,\n    };\n  }\n\n  private getPosition(shape) {\n    const bbox = this.getShapeBbox(shape);\n    const { minX, minY, maxY, width } = bbox;\n    const { offsetY } = this.options;\n    const x = minX + width / 2;\n    let y1, y2;\n    if (this.options.position === 'outer') {\n      y1 = minY - offsetY;\n      y2 = maxY + offsetY;\n    } else {\n      y1 = minY + offsetY;\n      y2 = maxY - offsetY;\n    }\n    return [\n      { x: x, y: y2 },\n      { x: x, y: y1 },\n    ];\n  }\n\n  private getValue(shape) {\n    const { yField } = this.plot.options;\n    return shape.get('origin').data[yField];\n  }\n\n  private getTextBaseline() {\n    if (this.options.position === 'outer') {\n      return ['top', 'bottom'];\n    } else {\n      return ['bottom', 'top'];\n    }\n  }\n\n  private getTextColor(shape, index) {\n    if (this.options.adjustColor && this.options.position === 'inner') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = index === 1 ? this.options.topStyle.fill : this.options.bottomStyle.fill;\n    return defaultColor;\n  }\n\n  private doAnimation(label) {\n    if (this.plot.animation && this.plot.animation === false) {\n      return;\n    }\n    label.attr('fillOpacity', 0);\n    label.attr('strokeOpacity', 0);\n    label.stopAnimate();\n    label.animate(\n      {\n        fillOpacity: 1,\n        strokeOpacity: 1,\n      },\n      800,\n      'easeLinear',\n      500\n    );\n  }\n\n  private adjustPosition(la, lb, shape) {\n    const origin = shape.get('origin');\n    const shapeMinY = origin.y[1];\n    const shapeMaxY = origin.y[0];\n    const bbox = shape.getBBox();\n    const { height } = bbox;\n    const shapeHeight = height;\n    const panelRange = this.view.coordinateBBox;\n    const boxes = [la.getBBox(), lb.getBBox()];\n    let ay = la.attr('y');\n    let by = lb.attr('y');\n    if (this.options.adjustPosition && this.options.position === 'inner') {\n      const totalLength = boxes[0].height + boxes[1].height;\n      const isOverlap = boxes[1].maxY - boxes[0].minY > 2;\n      const isTooShort = totalLength > shapeHeight;\n      if (isOverlap || isTooShort) {\n        by = shapeMinY - this.options.offsetY;\n        lb.attr('fill', this.options.topStyle.fill);\n        lb.attr('textBaseline', 'bottom');\n        ay = shapeMaxY + this.options.offsetY;\n        la.attr('fill', this.options.bottomStyle.fill);\n        la.attr('textBaseline', 'top');\n        boxes[0] = la.getBBox();\n        boxes[1] = lb.getBBox();\n      }\n    }\n    // fixme: textBaseline bbox\n    if (boxes[0].maxY > panelRange.maxY - DEFAULT_OFFSET) {\n      ay = panelRange.maxY - DEFAULT_OFFSET / 2;\n      la.attr('textBaseline', 'bottom');\n    }\n    la.attr('y', ay);\n    lb.attr('y', by);\n    this.plot.canvas.draw();\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geom) => geom.type === 'interval') as Geometry;\n  }\n}\n","import { IShape, registerAnimation } from '../../dependents';\nimport { clone, each } from '@antv/util';\n\n// \nlet shapeCache: IShape[];\n\nfunction clipInFromCenterVertical(shape, animateCfg) {\n  const bbox = shape.getBBox();\n  const centerY = bbox.minY + bbox.height / 2;\n  shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: bbox.minX,\n      y: centerY,\n      width: bbox.width,\n      height: 0,\n    },\n  });\n  const cliper = shape.get('clipShape');\n  cliper.animate(\n    {\n      height: bbox.height,\n      y: bbox.minY,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    () => {\n      shape.setClip(null);\n    },\n    animateCfg.delay\n  );\n}\n\nclipInFromCenterVertical.animationName = 'clipInFromCenterVertical';\n\nexport function setShapeCache(shapes) {\n  shapeCache = shapes;\n}\n\nfunction updateFromCenterVertical(shape, animateCfg) {\n  const fromPath = getShapeFromCache(shape).attr('path');\n  const toPath = clone(shape.attr('path'));\n  shape.attr('path', fromPath);\n  shape.animate(\n    {\n      path: toPath,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    animateCfg.callback,\n    100\n  );\n}\n\nfunction getShapeFromCache(shape) {\n  const { id } = shape;\n  let target;\n  each(shapeCache, (s) => {\n    if (s.id === id) {\n      target = s;\n    }\n  });\n  return target;\n}\n\nupdateFromCenterVertical.animationName = 'updateFromCenterVertical';\n\nregisterAnimation('clipInFromCenterVertical', clipInFromCenterVertical);\nregisterAnimation('updateFromCenterVertical', updateFromCenterVertical);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentStackedColumnLayer, { PercentStackedColumnLayerConfig } from './layer';\n\nexport interface PercentStackedColumnConfig extends PercentStackedColumnLayerConfig, PlotConfig {}\n\nexport default class PercentStackedColumn extends BasePlot<PercentStackedColumnConfig> {\n  public static getDefaultOptions: typeof PercentStackedColumnLayer.getDefaultOptions =\n    PercentStackedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PieLayer, { PieViewConfig } from './layer';\n\nexport interface PieConfig extends PieViewConfig, PlotConfig {}\n\nexport default class Pie extends BasePlot<PieConfig, PieLayer> {\n  public static getDefaultOptions: typeof PieLayer.getDefaultOptions = PieLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'pie';\n    super.createLayers(layerProps);\n  }\n\n  public getAngleScale() {\n    const layer: any = this.layers[0];\n    return layer.getAngleScale();\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  pie: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import PieBaseLabel, { PieLabelConfig } from './base-label';\nimport PieInnerLabel from './inner-label';\nimport PieOuterLabel from './outer-label';\nimport PieOuterCenterLabel from './outer-center-label';\n\nconst PieLabels = {\n  inner: PieInnerLabel,\n  outer: PieOuterLabel,\n  'outer-center': PieOuterCenterLabel,\n};\n\nexport function getPieLabel(type: string): new (plot: any, C: PieLabelConfig) => PieBaseLabel {\n  if (!PieLabels[type]) {\n    console.warn(`this label ${type} is not registered`);\n    return;\n  }\n  return PieLabels[type];\n}\n\nexport { PieLabelConfig };\n","import { memoize, isString, values, toString } from '@antv/util';\nconst canvas = document.createElement('canvas');\nconst ctx = canvas.getContext('2d');\n\ninterface Font {\n  fontFamily?: string;\n  fontWeight?: string;\n  fontStyle?: string;\n  fontVariant?: string;\n  fontSize?: number;\n}\n\n/**\n * \n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    ctx.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font) => (font ? [text, ...values(font)].join('') : text)\n);\n\n/**\n *  ... \n *  measureText measureText \n * 1.  STEP  maxWidth \n * 2. \n * @param text ,  string,number\n * @param maxWidth\n * @param font\n * TODO \n */\nexport const getEllipsisText = (text: any, maxWidth: number, font: Font) => {\n  const STEP = 16; //  16\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  //  step \n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    // \n    currentText = leftText.substr(0, STEP);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  //  STEP 1 \n  //eslint-disable-next-line no-constant-condition\n  while (true) {\n    // \n    currentText = leftText.substr(0, 1);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n","import { IShape } from '../../../../dependents';\nimport { each, clone } from '@antv/util';\nimport PieBaseLabel, { LabelItem, PieLabelConfig } from './base-label';\nimport { getOverlapInfo } from './utils';\nimport { distBetweenPoints } from '../../../../util/math';\n\nexport function percent2Number(value: string): number {\n  const percentage = Number(value.endsWith('%') ? value.slice(0, -1) : value);\n  return percentage / 100;\n}\n\nexport default class PieInnerLabel extends PieBaseLabel {\n  /** @override 0 */\n  protected adjustOption(options: PieLabelConfig) {\n    super.adjustOption(options);\n    if (options.offset > 0) {\n      options.offset = 0;\n    }\n  }\n\n  protected adjustItem(item: LabelItem) {\n    item.textAlign = 'middle';\n  }\n\n  /** @override  */\n  protected drawLines() {\n    return;\n  }\n\n  protected layout(labels: IShape[], shapeInfos: LabelItem[]) {\n    labels.forEach((label, idx) => {\n      if (idx > 0) {\n        each(labels.slice(0, idx), (prevLabel) => {\n          this.resolveCollision(label, prevLabel, shapeInfos[idx]);\n        });\n      }\n    });\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      offset: '-30%',\n      style: {\n        ...labelStyle,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      },\n    };\n  }\n\n  /** label  */\n  protected resolveCollision(label: IShape, prev: IShape, shapeInfo: LabelItem): void {\n    const { center } = this.getCoordinate();\n    const angle = shapeInfo.angle;\n    const box = label.getBBox();\n    const prevBBox = prev.getBBox();\n    const pos = { x: (box.minX + box.maxX) / 2, y: (box.minY + box.maxY) / 2 };\n    // \n    /**  x  ->  y  */\n    const pos1 = clone(pos);\n    /**  y  ->  x  */\n    const pos2 = clone(pos);\n    // check overlap\n    if (prev.get('id') !== label.get('id')) {\n      const { xOverlap, yOverlap } = getOverlapInfo(box, prevBBox);\n      if (xOverlap) {\n        pos1.x = pos.x + xOverlap;\n        pos1.y = pos.y + Math.tan(angle) * xOverlap;\n      }\n      if (yOverlap) {\n        // fix issue-460\n        let yMover = yOverlap;\n        if (pos.y < center.y) {\n          // label\n          yMover = yMover < 0 ? yMover : prevBBox.minY - box.maxY;\n        } else {\n          // label\n          yMover = yMover > 0 ? yMover : prevBBox.maxY - box.minY;\n        }\n        pos2.y = pos.y + yMover;\n        pos2.x = pos.x + yMover / Math.tan(angle);\n      }\n\n      const dist1 = distBetweenPoints(pos, pos1);\n      const dist2 = distBetweenPoints(pos, pos2);\n      const actualPos = dist1 < dist2 ? pos1 : pos2;\n      // \n      label.attr('x', actualPos.x);\n      label.attr('y', actualPos.y);\n    }\n  }\n}\n","import { IShape, BBox } from '../../../../dependents';\nimport { filter, head, last, map } from '@antv/util';\nimport PieBaseLabel, { LabelItem, PieLabelConfig } from './base-label';\nimport { getEndPoint } from './utils';\n\n// labelelement 16px\nexport const DEFAULT_OFFSET = 16;\n\nexport default class PieOuterLabel extends PieBaseLabel {\n  /** @override 0 */\n  protected adjustOption(options: PieLabelConfig) {\n    super.adjustOption(options);\n    if (options.offset < 0) {\n      options.offset = 0;\n    }\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      offset: 12,\n      style: {\n        ...labelStyle,\n        textBaseline: 'middle',\n      },\n    };\n  }\n\n  /** label  */\n  protected layout(labels: IShape[], items: LabelItem[], panel: BBox) {\n    const { center } = this.getCoordinate();\n    const leftHalf = filter(labels, (l) => l.attr('x') <= center.x);\n    const rightHalf = filter(labels, (l) => l.attr('x') > center.x);\n    [rightHalf, leftHalf].forEach((half, isLeft) => {\n      this._antiCollision(half, !isLeft, panel);\n    });\n  }\n\n  /** labels  */\n  private _antiCollision(labels: IShape[], isRight: boolean, panelBox: BBox) {\n    const labelHeight = this.getLabelHeight(labels);\n    const { center, radius } = this.getCoordinate();\n    const offset = this.options.offset;\n    const totalR = radius + offset;\n    const totalHeight = Math.min(panelBox.height, Math.max(totalR * 2 + labelHeight * 2, labels.length * labelHeight));\n    const maxLabelsCount = Math.floor(totalHeight / labelHeight);\n    // fix-bug, maxLabelsCount labels  allowOverlap labellabel\n    if (!this.options.allowOverlap) {\n      labels.slice(maxLabelsCount).forEach((label) => {\n        label.get('parent').set('visible', false);\n      });\n    }\n    labels.splice(maxLabelsCount, labels.length - maxLabelsCount);\n\n    // sort by y DESC\n    labels.sort((a, b) => a.getBBox().y - b.getBBox().y);\n    // adjust y position of labels to avoid overlapping\n    let overlapping = true;\n    let i;\n    let maxY = center.y + totalHeight / 2;\n    let minY = center.y - totalHeight / 2;\n    const boxes = labels.map((label) => {\n      const labelBox = label.getBBox();\n      if (labelBox.maxY > maxY) {\n        maxY = Math.min(panelBox.maxY, labelBox.maxY);\n      }\n      if (labelBox.minY < minY) {\n        minY = Math.max(panelBox.minY, labelBox.minY);\n      }\n      return {\n        text: label.attr('text'),\n        size: labelHeight,\n        pos: labelBox.y,\n        targets: [],\n      };\n    });\n    let j = 0;\n    while (j < boxes.length) {\n      if (j === boxes.length - 1) {\n        boxes[j].targets[0] = maxY;\n      } else {\n        boxes[j].targets[0] = boxes[j + 1].pos - boxes[j + 1].size / 2;\n      }\n      j++;\n    }\n    while (overlapping) {\n      boxes.forEach((box) => {\n        const target = last(box.targets);\n        box.pos = Math.max(minY, Math.min(box.pos, target - box.size));\n      });\n      // detect overlapping and join boxes\n      overlapping = false;\n      i = boxes.length;\n      while (i--) {\n        if (i > 0) {\n          const previousBox = boxes[i - 1];\n          const box = boxes[i];\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets);\n            // overflow, shift up\n            const target = last(previousBox.targets);\n            if (previousBox.pos + previousBox.size > target) {\n              previousBox.pos = target - previousBox.size;\n            }\n            boxes.splice(i, 1); // removing box\n            overlapping = true;\n          } else {\n            // \n            previousBox.targets.splice(-1, 1, box.pos);\n          }\n        }\n      }\n    }\n\n    i = 0;\n    // step 4: normalize y and adjust x\n    boxes.forEach((b) => {\n      let posInCompositeBox = labelHeight / 2; // middle of the label\n      b.targets.forEach(() => {\n        labels[i].attr('y', b.pos + posInCompositeBox);\n        posInCompositeBox += labelHeight;\n        i++;\n      });\n    });\n\n    //  x \n    const topLabels = [];\n    const bottomLabels = [];\n    labels.forEach((label, idx) => {\n      const anchor = this.arcPoints[idx];\n      if (anchor.angle >= 0 && anchor.angle <= Math.PI) {\n        bottomLabels.push(label);\n      } else {\n        topLabels.push(label);\n      }\n    });\n    [topLabels, bottomLabels].forEach((adjustLabels, isBottom) => {\n      if (!adjustLabels.length) {\n        return;\n      }\n      let ry = isBottom ? last(adjustLabels).getBBox().maxY - center.y : center.y - head(adjustLabels).getBBox().minY;\n      ry = Math.max(totalR, ry);\n      const distance = offset > 4 ? 4 : 0;\n      const maxLabelWidth =\n        Math.max.apply(\n          0,\n          map(labels, (label) => label.getBBox().width)\n        ) +\n        offset +\n        distance;\n      const rx = Math.max(totalR, Math.min((ry + totalR) / 2, center.x - (panelBox.minX + maxLabelWidth)));\n      const rxPow2 = rx * rx;\n      const ryPow2 = ry * ry;\n      adjustLabels.forEach((label, idx) => {\n        const anchor = this.arcPoints[idx];\n        const box = label.getBBox();\n        const boxCenter = { x: box.minX + box.width / 2, y: box.minY + box.height / 2 };\n        const dyPow2 = Math.pow(boxCenter.y - center.y, 2);\n        const endPoint = getEndPoint(center, anchor.angle, radius);\n        const distance_offset = (isRight ? 1 : -1) * distance * 2;\n        if (dyPow2 > ryPow2) {\n          console.warn('()', label.attr('text'));\n          label.attr('x', endPoint.x + distance_offset);\n        } else {\n          // (x - cx)^2 / rx ^ 2 + (y - cy)^2 / ry ^ 2 = 1\n          //  label   element \n          let xPos = center.x + (isRight ? 1 : -1) * Math.sqrt((1 - dyPow2 / ryPow2) * rxPow2);\n          if (\n            (center.x === endPoint.x && boxCenter.y === endPoint.y) ||\n            (center.y === endPoint.y && xPos === endPoint.x)\n          ) {\n            xPos = endPoint.x;\n          } else {\n            // const k1 = (center.y - endPoint.y) / (center.x - endPoint.x);\n            // const k2 = (boxCenter.y - endPoint.y) / (xPos - endPoint.x);\n            // const theta = Math.atan((k1 - k2) / (1 + k1 * k2));\n            //  < 90 \n            // if (Math.cos(theta) > 0 && (!isRight ? xPos > endPoint.x : xPos < endPoint.x)) {\n            //   xPos = endPoint.x;\n            // }\n          }\n          label.attr('x', xPos + distance_offset);\n        }\n      });\n    });\n  }\n\n  /** label height */\n  private getLabelHeight(labels: IShape[]): number {\n    if (!this.options.labelHeight) {\n      return head(labels) ? head(labels).getBBox().height : 14;\n    }\n    return this.options.labelHeight;\n  }\n}\n","import { IShape, BBox } from '../../../../dependents';\nimport PieBaseLabel, { LabelItem, PieLabelConfig } from './base-label';\n\n// labelelement 16px\nexport const DEFAULT_OFFSET = 16;\n\nexport default class PieOuterCenterLabel extends PieBaseLabel {\n  /** @override 0 */\n  protected adjustOption(options: PieLabelConfig) {\n    super.adjustOption(options);\n    if (options.offset < 0) {\n      options.offset = 0;\n    }\n  }\n\n  protected getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      offset: 12,\n      style: {\n        ...labelStyle,\n        textBaseline: 'middle',\n      },\n    };\n  }\n\n  protected adjustItem(item: LabelItem): void {\n    const offset = this.options.offset;\n    if (item.textAlign === 'left') {\n      item.x += offset > 4 ? 4 : offset / 2;\n    } else if (item.textAlign === 'right') {\n      item.x -= offset > 4 ? 4 : offset / 2;\n    }\n  }\n\n  /** label  */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars,@typescript-eslint/no-empty-function\n  protected layout(labels: IShape[], items: LabelItem[], panel: BBox) {}\n}\n","import { View, IGroup, IShape } from '../../../../dependents';\nimport { deepMix, clone, each, isString, mix } from '@antv/util';\nimport { LooseMap } from '../../../../interface/types';\n\nconst ANCHOR_OFFSET = 0; // \nconst INFLECTION_OFFSET = 15; // \nconst DEFAULT_COLOR = '#CCC';\nconst LABEL1_OFFSETY = 2;\nconst LABEL2_OFFSETY = -2;\nconst ADJUSTOFFSET = 15;\n\ntype IAttrs = LooseMap;\n\ntype Point = { x: number; y: number };\ninterface LabelData {\n  _anchor: Point;\n  _inflection: Point;\n  _data: object;\n  x: number;\n  y: number;\n  r: number;\n  fill: string;\n  textGroup: IGroup;\n  _side?: 'left' | 'right';\n}\n\ninterface SpiderLabelConfig {\n  line?: any;\n  text?: any;\n  formatter?: (text: string, item: OriginLabelItem, index: number) => string | string[];\n  offsetX?: number;\n  offsetY?: number;\n  [field: string]: any;\n}\n\ninterface ISpiderLabel extends SpiderLabelConfig {\n  view: View;\n  fields: string[];\n}\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n\ninterface OriginLabelItem {\n  /**  */\n  _origin: object;\n  color?: string;\n}\n\nexport default class SpiderLabel {\n  public destroyed: boolean = false;\n  private view: View;\n  private options: ISpiderLabel;\n  private halves: any[][];\n  private container: IGroup;\n  private width: number;\n  private height: number;\n  private coord: any;\n\n  constructor(cfg: ISpiderLabel) {\n    this.view = cfg.view;\n    this.options = deepMix({}, this.getDefaultOptions(), cfg);\n    this._adjustOptions(this.options);\n    this.init();\n  }\n\n  private init() {\n    this.container = this.view.geometries[0].labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n  }\n\n  public render() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    /** formatter */\n    const data = clone(this.view.getData());\n    this.halves = [[], []];\n    const shapes = [];\n    const elements = this.view.geometries[0].elements;\n    each(elements, (ele) => {\n      shapes.push(ele.shape);\n    });\n    this.coord = this.view.geometries[0].coordinate;\n    const angleField = this.options.fields[0];\n    const scale = this.view.getScalesByDim('y')[angleField];\n    const center = this.coord.getCenter();\n    const { startAngle } = this.coord;\n    const radius = this.coord.polarRadius;\n    const { width, height } = this.view.coordinateBBox;\n    this.width = width;\n    this.height = height;\n    let angle = startAngle;\n    // tslint:disable-next-line: prefer-for-of\n    for (let idx = 0; idx < data.length; idx++) {\n      const d = data[idx];\n      // middle angle\n      const angleValue = scale.scale(d[angleField]);\n      const targetAngle = angle + Math.PI * 2 * angleValue;\n      const middleAngle = angle + (targetAngle - angle) / 2;\n      angle = targetAngle;\n      // middle angle\n      const anchorPoint = getEndPoint(center, middleAngle, radius + ANCHOR_OFFSET);\n      const inflectionPoint = getEndPoint(center, middleAngle, radius + INFLECTION_OFFSET);\n      // shapecolor\n      let color = DEFAULT_COLOR;\n      if (this.options.fields.length === 2) {\n        const colorField = this.options.fields[1];\n        const colorScale = this.view.geometries[0].scales[colorField];\n        const colorIndex = colorScale.scale(d[colorField]);\n        const shapeIndex = Math.floor(colorIndex * (shapes.length - 1));\n        color = shapes[shapeIndex].attr('fill');\n      }\n      // label\n      const label: LabelData = {\n        _anchor: anchorPoint,\n        _inflection: inflectionPoint,\n        _data: d,\n        x: inflectionPoint.x,\n        y: inflectionPoint.y,\n        r: radius + INFLECTION_OFFSET,\n        fill: color,\n        textGroup: null,\n        _side: null,\n      };\n      // label\n      let texts = [];\n      each(this.options.fields, (f) => {\n        texts.push(d[f]);\n      });\n      if (this.options.formatter) {\n        let formatted: any = this.options.formatter(d[angleField], { _origin: d, color }, idx);\n        if (isString(formatted)) {\n          formatted = [formatted];\n        }\n        texts = formatted;\n      }\n      const textGroup = this.container.addGroup();\n      const textAttrs: IAttrs = {\n        x: 0,\n        y: 0,\n        fontSize: this.options.text.fontSize,\n        lineHeight: this.options.text.fontSize,\n        fontWeight: this.options.text.fontWeight,\n        fill: this.options.text.fill,\n      };\n      // label1:label\n      let lowerText = d[angleField];\n      if (this.options.formatter) {\n        lowerText = texts[0];\n      }\n      const lowerTextAttrs = clone(textAttrs);\n      if (texts.length === 2) {\n        lowerTextAttrs.fontWeight = 700;\n      }\n      const lowerTextShape: any = textGroup.addShape('text', {\n        attrs: mix(\n          {\n            textBaseline: texts.length === 2 ? 'top' : 'middle',\n            text: lowerText,\n          },\n          lowerTextAttrs\n        ),\n        data: d,\n        offsetY: texts.length === 2 ? LABEL1_OFFSETY : 0,\n        name: 'label',\n      });\n      lowerTextShape.name = 'label'; //  shapeName\n      /** label2:label */\n      if (texts.length === 2) {\n        const topTextShape: any = textGroup.addShape('text', {\n          attrs: mix(\n            {\n              textBaseline: 'bottom',\n              text: texts[1],\n            },\n            textAttrs\n          ),\n          data: d,\n          offsetY: LABEL2_OFFSETY,\n          name: 'label',\n        });\n        topTextShape.name = 'label'; //  shapeName\n      }\n\n      label.textGroup = textGroup;\n\n      /** label */\n      if (anchorPoint.x < center.x) {\n        label._side = 'left';\n        this.halves[0].push(label);\n      } else {\n        label._side = 'right';\n        this.halves[1].push(label);\n      }\n    }\n\n    /** label */\n    const maxCountForOneSide = Math.floor(height / this.options.lineHeight);\n\n    each(this.halves, (half) => {\n      if (half.length > maxCountForOneSide) {\n        half.splice(maxCountForOneSide, half.length - maxCountForOneSide);\n      }\n\n      half.sort((a, b) => {\n        return a.y - b.y;\n      });\n\n      this._antiCollision(half);\n    });\n    this.view.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.view.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.view.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  protected getDefaultOptions() {\n    return {\n      text: {\n        fill: 'rgba(0, 0, 0, 0.65)',\n        fontSize: 12,\n      },\n      line: {\n        lineWidth: 0.5,\n        stroke: 'rgba(0, 0, 0, 0.45)',\n      },\n      lineHeight: 32,\n      /** distance between label and edge */\n      sidePadding: 20,\n      // anchorSize: 2,\n    };\n  }\n\n  private _antiCollision(half: LabelData[]) {\n    const { coord } = this;\n    const canvasHeight = coord.getHeight();\n    const { center } = coord;\n    const radius = coord.getRadius();\n    const startY = center.y - radius - INFLECTION_OFFSET - this.options.lineHeight;\n    let overlapping = true;\n    let totalH = canvasHeight;\n    let i;\n\n    let maxY = 0;\n    let minY = Number.MIN_VALUE;\n    let maxLabelWidth = 0;\n    const boxes: any[] = half.map((label) => {\n      const labelY = label.y;\n      if (labelY > maxY) {\n        maxY = labelY;\n      }\n      if (labelY < minY) {\n        minY = labelY;\n      }\n\n      const textGroup = label.textGroup;\n      const labelWidth = textGroup.getBBox().width;\n      if (labelWidth >= maxLabelWidth) {\n        maxLabelWidth = labelWidth;\n      }\n\n      return {\n        size: this.options.lineHeight,\n        targets: [labelY - startY],\n      };\n    });\n    if (maxY - startY > totalH) {\n      totalH = maxY - startY;\n    }\n\n    const iteratorBoxed = function (items) {\n      items.forEach((box) => {\n        const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n        box.pos = Math.min(Math.max(minY, target - box.size / 2), totalH - box.size);\n      });\n    };\n\n    while (overlapping) {\n      iteratorBoxed(boxes);\n      // detect overlapping and join boxes\n      overlapping = false;\n      i = boxes.length;\n      while (i--) {\n        if (i > 0) {\n          const previousBox = boxes[i - 1];\n          const box = boxes[i];\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets);\n\n            // overflow, shift up\n            if (previousBox.pos + previousBox.size > totalH) {\n              previousBox.pos = totalH - previousBox.size;\n            }\n            boxes.splice(i, 1); // removing box\n            overlapping = true;\n          }\n        }\n      }\n    }\n\n    i = 0;\n    boxes.forEach((b) => {\n      let posInCompositeBox = startY; // middle of the label\n      b.targets.forEach(() => {\n        half[i].y = b.pos + posInCompositeBox + this.options.lineHeight / 2;\n        posInCompositeBox += this.options.lineHeight;\n        i++;\n      });\n    });\n\n    const drawnLabels = [];\n    half.forEach((label) => {\n      const textGroup = this._drawLabel(label);\n      this._drawLabelLine(label, maxLabelWidth, textGroup);\n      drawnLabels.push(textGroup);\n    });\n  }\n\n  private _drawLabel(label: LabelData) {\n    const { coord } = this;\n    const center = coord.getCenter();\n    const radius = coord.getRadius();\n\n    const { y, textGroup } = label;\n    const children = textGroup.get('children');\n    const x_dir = label._side === 'left' ? 1 : -1;\n\n    const textAttrs = {\n      textAlign: label._side === 'left' ? 'right' : 'left',\n      x:\n        label._side === 'left'\n          ? center.x - radius - this.options.sidePadding\n          : center.x + radius + this.options.sidePadding,\n    };\n\n    if (this.options.offsetX) {\n      textAttrs.x += this.options.offsetX * x_dir;\n    }\n\n    children.forEach((child) => {\n      const offsetY = child.get('offsetY');\n      const yPosition = y + offsetY;\n      child.attr(textAttrs);\n      child.attr('y', yPosition);\n    });\n\n    return textGroup;\n  }\n\n  private _drawLabelLine(label: LabelData, maxLabelWidth, container: IGroup): IShape {\n    const _anchor = [label._anchor.x, label._anchor.y];\n    const _inflection = [label._inflection.x, label._inflection.y];\n    const { y, textGroup } = label;\n    if (!textGroup) return;\n    const lastPoint = [label._side === 'left' ? textGroup.getBBox().maxX + 4 : textGroup.getBBox().minX - 4, y];\n\n    let points = [_anchor, _inflection, lastPoint];\n    if (_inflection[1] !== y) {\n      // \n      if (_inflection[1] < y) {\n        // \n        const point1 = _inflection;\n        const leftPoint = lastPoint[0] + maxLabelWidth + ADJUSTOFFSET;\n        const rightPoint = lastPoint[0] - maxLabelWidth - ADJUSTOFFSET;\n        const point2 = [label._side === 'left' ? leftPoint : rightPoint, _inflection[1]];\n        const point3 = [\n          label._side === 'left' ? lastPoint[0] + maxLabelWidth : lastPoint[0] - maxLabelWidth,\n          lastPoint[1],\n        ];\n\n        points = [_anchor, point1, point2, point3, lastPoint];\n\n        if ((label._side === 'right' && point2[0] < point1[0]) || (label._side === 'left' && point2[0] > point1[0])) {\n          points = [_anchor, point3, lastPoint];\n        }\n      } else {\n        points = [_anchor, [_inflection[0], y], lastPoint];\n      }\n    }\n\n    const path = [];\n    for (let i = 0; i < points.length; i++) {\n      const p = points[i];\n      let starter = 'L';\n      if (i === 0) {\n        starter = 'M';\n      }\n      path.push([starter, p[0], p[1]]);\n    }\n    container.addShape('path', {\n      attrs: {\n        path,\n        lineWidth: this.options.line.lineWidth,\n        stroke: this.options.line.stroke,\n      },\n    });\n\n    // \n    // container.addShape('circle', {\n    //   attrs: {\n    //     x: _anchor[0],\n    //     y: _anchor[1],\n    //     r: this.config.anchorSize,\n    //     fill,\n    //   },\n    // });\n  }\n\n  private _adjustOptions(config) {\n    if (config.text.fontSize) {\n      config.lineHeight = config.text.fontSize * 3;\n    }\n  }\n}\n","import { registerTheme } from '../../theme';\n\nconst PIE_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { fillOpacity: opacity * 0.8 };\n};\n\nconst PIE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { fillOpacity: opacity * 0.5 };\n};\n\nregisterTheme('pie', {\n  columnStyle: {\n    normal: {},\n    active: PIE_ACTIVE_STYLE,\n    disable: PIE_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport DensityHeatmapLayer, { DensityHeatmapViewConfig } from './layer';\n\nexport interface DensityHeatmapConfig extends DensityHeatmapViewConfig, PlotConfig {}\n\nexport default class DensityHeatmap extends BasePlot<DensityHeatmapConfig> {\n  public static getDefaultOptions: typeof DensityHeatmapLayer.getDefaultOptions = DensityHeatmapLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'densityHeatmap';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, each, has } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport '../../geoms/heatmap/linear';\nimport { HeatmapLegendConfig } from './components/legend';\nimport { HeatmapBackgroundConfig } from './components/background';\nimport { getPlotComponents } from './components';\nimport * as EventParser from './event';\nimport { GraphicStyle } from '../../interface/config';\n\nexport interface DensityHeatmapViewConfig extends ViewConfig {\n  colorField: string;\n  radius?: number;\n  intensity?: number;\n  point?: {\n    visible?: boolean;\n    shape?: string;\n    size?: number;\n    color?: string;\n    style?: GraphicStyle;\n  };\n  legend?: HeatmapLegendConfig;\n  background?: HeatmapBackgroundConfig;\n}\n\nexport interface DensityHeatmapLayerConfig extends DensityHeatmapViewConfig, LayerConfig {}\n\nexport default class DensityHeatmapLayer<\n  T extends DensityHeatmapLayerConfig = DensityHeatmapLayerConfig\n> extends ViewLayer<T> {\n  public type: string = 'densityHeatmap';\n  protected plotComponents: any[] = [];\n\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        autoRotateTitle: false,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: true,\n        },\n        title: {\n          visible: false,\n          spacing: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoRotateTitle: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: false,\n        },\n        title: {\n          visible: false,\n          spacing: 12,\n        },\n      },\n      tooltip: {\n        visible: true,\n        showCrosshairs: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#000000',\n              lineWidth: 1,\n              opacity: 0.5,\n            },\n          },\n        },\n        showMarkers: false,\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center',\n      },\n      color: [\n        'rgba(33,102,172,0)',\n        'rgb(103,169,207)',\n        'rgb(209,229,240)',\n        'rgb(253,219,199)',\n        'rgb(239,138,98)',\n        'rgb(178,24,43)',\n      ],\n      interactions: [{ type: 'tooltip' }],\n    });\n  }\n\n  public afterRender() {\n    this.renderPlotComponents();\n    super.afterRender();\n  }\n\n  public destroy() {\n    each(this.plotComponents, (component) => {\n      component.destroy();\n    });\n    super.destroy();\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** x-scale */\n    scales[props.xField] = {};\n    if (has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** y-scale */\n    scales[props.yField] = {};\n    if (has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    return;\n  }\n\n  protected geometryParser() {\n    return 'heatmap';\n  }\n\n  protected addGeometry() {\n    if (this.options.data.length > 1) {\n      const config = {\n        type: 'linearheatmap',\n        position: {\n          fields: [this.options.xField, this.options.yField],\n        },\n        color: {\n          fields: [this.options.colorField],\n          values: this.options.color,\n        },\n        cfg: {\n          intensity: this.options.intensity,\n          radius: this.options.radius,\n        },\n      } as any;\n\n      if (this.options.radius) {\n        config.radius = this.options.radius;\n      }\n\n      if (this.options.intensity) {\n        config.intensity = this.options.intensity;\n      }\n\n      if (this.options.tooltip && (this.options.tooltip.fields || this.options.tooltip.formatter)) {\n        this.geometryTooltip(config);\n      }\n\n      this.setConfig('geometry', config);\n\n      this.addPoint();\n    }\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const defaultConfig = { visible: false, size: 0 };\n    if (props.point && props.point.visible) {\n      props.point = deepMix(defaultConfig, props.point);\n    } else {\n      props.point = defaultConfig;\n    }\n    const point = getGeom('point', 'guide', {\n      plot: this,\n    });\n    point.active = false;\n    // point.label = this.extractLabel();\n    this.setConfig('geometry', point);\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const label = props.label;\n    if (label && label.visible === false) {\n      return false;\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.xField, props.yField],\n      position: 'middle',\n      offset: 0,\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  protected legend() {\n    this.setConfig('legends', false);\n  }\n\n  protected geometryTooltip(config) {\n    config.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      config.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      config.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        config.tooltip.fields = [this.options.xField, this.options.yField];\n        if (this.options.colorField) {\n          config.tooltip.fields.push(this.options.colorField);\n        }\n      }\n    }\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  protected renderPlotComponents() {\n    each(this.plotComponents, (component) => {\n      component.destroy();\n    });\n    const componentsType = ['legend', 'background'];\n    each(componentsType, (t) => {\n      const cfg = {\n        view: this.view,\n        plot: this,\n        ...this.options[t],\n      };\n      const component = getPlotComponents(this, t, cfg);\n      if (component) {\n        component.render();\n        this.plotComponents.push(component);\n      }\n    });\n  }\n}\n\nregisterPlotType('densityHeatmap', DensityHeatmapLayer);\n","import { registerGeometry, Geometry, MappingDatum } from '../../dependents';\nimport { isNumber, get } from '@antv/util';\nimport * as colorUtil from '../../util/color';\n\nconst GAUSS_COEF = 0.3989422804014327;\nconst ZERO = 1.0 / 255.0 / 16.0;\n\nconst ORIGIN_FIELD = '_origin';\n\nclass LinearHeatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n  private intensity: number;\n  private radius: number;\n  private blur: number;\n  private grayScaleCanvas: any;\n  private shadowCanvas: any;\n  private paletteCache: any = {};\n  private imageShape: any;\n\n  constructor(cfg) {\n    super(cfg);\n    this.intensity = cfg.intensity;\n    this.radius = cfg.radius;\n  }\n\n  protected createElements(mappingData: MappingDatum[] /*index: number, isUpdate: boolean = false*/) {\n    const range = this.prepareRange(mappingData);\n    this.prepareSize();\n    this.prepareBlur();\n    this.prepareGreyScaleBlurredCircle(this.radius);\n    this.drawWithRange(mappingData, range);\n    return null;\n  }\n\n  public clear() {\n    this.clearShadowCanvasCtx();\n    super.clear();\n  }\n\n  private prepareRange(data) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[ORIGIN_FIELD][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n    if (min === max) {\n      min = max - 1;\n    }\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.radius;\n    if (!this.radius) {\n      radius = this.getDefaultValue('size');\n      if (!isNumber(radius)) {\n        radius = this.getDefaultSize();\n      }\n      this.radius = radius;\n    }\n  }\n\n  private prepareBlur() {\n    let blur = get(this.styleOption, ['style', 'shadowBlur']);\n    if (!isNumber(blur)) {\n      blur = this.radius / 2;\n    }\n    this.blur = blur;\n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coord = this.coordinate;\n    const radius = Math.min(\n      coord.getWidth() / (position.scales[0].ticks.length * 4),\n      coord.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n    return radius;\n  }\n\n  private colorize(img) {\n    const colorAttr = this.getAttribute('color') as any;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (alpha) {\n        let palette;\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        }\n        // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private prepareGreyScaleBlurredCircle(r) {\n    let circleCanvas = this.grayScaleCanvas;\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.grayScaleCanvas = circleCanvas;\n    }\n    const intensity = this.intensity ? this.intensity : 2;\n    const circleRadius = (Math.sqrt(-2.0 * Math.log(ZERO / r / intensity / GAUSS_COEF)) / 3.0) * r;\n    const blur = circleRadius - r;\n    const r2 = circleRadius + blur;\n    const ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawGrayScaleBlurredCircle(x, y, r, alpha, ctx) {\n    const circleCanvas = this.grayScaleCanvas;\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    const context = canvas.getContext('2d');\n    context.globalCompositeOperation = 'lighter';\n    return context;\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n  }\n\n  private drawWithRange(data, range) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (let i = 0; i < data.length; i++) {\n      const obj = data[i];\n      const cfg = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[ORIGIN_FIELD][valueField]);\n      // @ts-ignore\n      this.drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, this.radius + this.blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n    this.getImageShape();\n    this.imageShape.attr('x', start.x);\n    this.imageShape.attr('y', end.y);\n    this.imageShape.attr('width', width);\n    this.imageShape.attr('height', height);\n    this.imageShape.attr('img', ctx.canvas);\n    this.imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getShapeInfo(mappingData) {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data: this.getData(mappingData),\n    };\n  }\n\n  private getData(mappingData) {\n    return mappingData.map((obj) => {\n      return obj[ORIGIN_FIELD];\n    });\n  }\n}\n\nregisterGeometry('linearHeatmap', LinearHeatmap);\n","import HeatmapBackground from './background';\nimport HeatmapLegend from './legend';\n\nconst ComponentsInfo = {\n  background: { Ctr: HeatmapBackground },\n  legend: { Ctr: HeatmapLegend, padding: 'outer' },\n};\n\nexport function getPlotComponents(plot, type, cfg) {\n  if (plot.options[type] && plot.options[type].visible) {\n    const componentInfo = ComponentsInfo[type];\n    const component = new componentInfo.Ctr(cfg);\n    if (componentInfo.padding) {\n      plot.paddingController.registerPadding(component, componentInfo.padding);\n    }\n    return component;\n  }\n}\n","import { each } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport EventEmitter from '@antv/event-emitter';\n\nexport interface HeatmapBackgroundConfig {\n  visible?: boolean;\n  type?: string;\n  value?: any;\n  src?: string;\n  callback?: Function;\n}\n\nexport interface IHeatmapBackground extends HeatmapBackgroundConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class HeatmapBackground extends EventEmitter {\n  public options: IHeatmapBackground;\n  public container: IGroup;\n  protected view: View;\n  protected x: number;\n  protected y: number;\n  protected width: number;\n  protected height: number;\n\n  constructor(cfg: IHeatmapBackground) {\n    super();\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    const coord = this.getCoordinate();\n    this.width = coord.getWidth();\n    this.height = coord.getHeight();\n    this.x = coord.start.x;\n    this.y = coord.end.y;\n    this.container = this.view.backgroundGroup.addGroup({});\n  }\n\n  public render() {\n    if (this.options.type === 'color') {\n      this.renderColorBackground();\n    } else if (this.options.type === 'image') {\n      this.renderImageBackground();\n    } else if (this.options.callback) {\n      const callbackCfg = {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        container: this.container,\n      };\n      this.options.callback(callbackCfg);\n    }\n  }\n\n  public renderColorBackground() {\n    this.container.addShape('rect', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        fill: this.options.value,\n      },\n      name: 'heatmap-background',\n    });\n  }\n\n  public renderImageBackground() {\n    this.container.addShape('image', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        img: this.options.src,\n      },\n      name: 'heatmap-background',\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n      this.emit('background:clear');\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n      // callbackhtml background\n      this.emit('background:destroy');\n    }\n  }\n\n  private getCoordinate() {\n    let coordinate;\n    each(this.view.geometries, (geom) => {\n      if (geom.type === 'heatmap') {\n        coordinate = geom.coordinate;\n      }\n    });\n    return coordinate;\n  }\n}\n","import { each, isArray, deepMix, clone } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport BBox from '../../../util/bbox';\nimport { LegendPosition } from '../../../interface/config';\n\nconst LABEL_MARGIN = 4;\nconst ACTIVE_OPACITY = 1;\nconst DEACTIVE_OPACITY = 0.1;\n\nexport interface HeatmapLegendConfig {\n  visible?: boolean;\n  position?: LegendPosition;\n  width?: number;\n  height?: number;\n  text?: {\n    style?: any;\n    formatter?: () => string;\n  };\n  gridlineStyle?: any;\n  triggerOn?: string;\n}\n\nexport interface IHeatmapLegend extends HeatmapLegendConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class HeatmapLegend {\n  public options: IHeatmapLegend;\n  public container: IGroup;\n  public afterRender: boolean;\n  public destroyed: boolean = false;\n  protected view: View;\n  protected layout: string;\n  protected width: number;\n  protected height: number;\n  protected position: string;\n  protected x: number;\n  protected y: number;\n  protected dataSlides: any = {};\n  protected colorScale: any;\n\n  constructor(cfg: IHeatmapLegend) {\n    let defaultOptions = this.getDefaultOptions();\n    if (cfg.plot.options.theme && cfg.plot.options.theme === 'dark') {\n      defaultOptions = this.getDarkOptions();\n    }\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  public init() {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    const plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  }\n\n  public render() {\n    const scales = this.getScales();\n    const colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    const { min, max } = this.colorScale;\n    const { color } = this.options.plot.options;\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n    this.legendLayout();\n    this.addInteraction();\n    this.options.plot.canvas.draw();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    const origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  }\n\n  protected renderVertical(min, max, colors) {\n    const gridWidth = this.width;\n    const gridHeight = this.height / colors.length;\n    const gridLineContainer = this.container.addGroup();\n    const gridColors = clone(colors).reverse();\n    const valueStep = (max - min) / colors.length;\n    // \n    each(gridColors, (c, i) => {\n      const y = gridHeight * i;\n      // gridlegend\n      const appendInfo = { to: max - valueStep * i, from: max - valueStep * (i + 1) };\n      const rect = this.container.addShape('rect', {\n        attrs: {\n          x: 0,\n          y,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: ACTIVE_OPACITY,\n          cursor: 'pointer',\n        },\n        name: 'legend',\n      });\n      rect.set('info', appendInfo);\n      const dataSlide = this.getDataSlide(appendInfo);\n      this.dataSlides[`${appendInfo.from}-${appendInfo.to}`] = { mode: 'active', data: dataSlide };\n      gridLineContainer.addShape('path', {\n        attrs: {\n          path: [\n            ['M', 0, y + gridHeight],\n            ['L', gridWidth, y + gridHeight],\n          ],\n          ...this.options.gridlineStyle,\n        },\n      });\n    });\n    // label\n    this.container.addShape('text', {\n      attrs: {\n        text: max,\n        x: gridWidth / 2,\n        y: -LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'bottom',\n        ...this.options.text.style,\n      },\n      name: 'legend-label',\n    });\n    this.container.addShape('text', {\n      attrs: {\n        text: min,\n        x: gridWidth / 2,\n        y: this.height + LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'top',\n        ...this.options.text.style,\n        name: 'legend-label',\n      },\n    });\n    // \n    gridLineContainer.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, 0],\n          ['L', this.width, 0],\n          ['L', this.width, this.height],\n          ['L', 0, this.height],\n          ['L', 0, 0],\n        ],\n        ...this.options.gridlineStyle,\n      },\n    });\n  }\n\n  protected renderHorizontal(min, max, colors) {\n    const gridWidth = this.width / colors.length;\n    const gridHeight = this.height;\n    const gridLineContainer = this.container.addGroup();\n    const valueStep = (max - min) / colors.length;\n    // \n    each(colors, (c, i) => {\n      const x = gridWidth * i;\n      // gridlegend\n      const appendInfo = { from: valueStep * i, to: valueStep * (i + 1) };\n      const rect = this.container.addShape('rect', {\n        attrs: {\n          x,\n          y: 0,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: 0.8,\n          cursor: 'pointer',\n        },\n        name: 'legend',\n      });\n      rect.set('info', appendInfo);\n      gridLineContainer.addShape('path', {\n        attrs: {\n          path: [\n            ['M', x + gridWidth, 0],\n            ['L', x + gridWidth, gridHeight],\n          ],\n          ...this.options.gridlineStyle,\n        },\n      });\n    });\n    // label\n    this.container.addShape('text', {\n      attrs: {\n        text: min,\n        x: -LABEL_MARGIN,\n        y: gridHeight / 2,\n        ...this.options.text.style,\n        textAlign: 'right',\n        textBaseline: 'middle',\n      },\n      name: 'legend-label',\n    });\n    this.container.addShape('text', {\n      attrs: {\n        text: max,\n        x: this.width + LABEL_MARGIN,\n        y: gridHeight / 2,\n        textAlign: 'left',\n        textBaseline: 'middle',\n        ...this.options.text.style,\n      },\n      name: 'legend-label',\n    });\n    // \n    gridLineContainer.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, 0],\n          ['L', this.width, 0],\n          ['L', this.width, this.height],\n          ['L', 0, this.height],\n          ['L', 0, 0],\n        ],\n        ...this.options.gridlineStyle,\n      },\n    });\n  }\n\n  protected getLayout() {\n    const positions = this.options.position.split('-');\n    this.position = positions[0];\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n    return 'horizontal';\n  }\n\n  protected getDefaultWidth() {\n    if (this.layout === 'horizontal') {\n      const { width } = this.options.plot.options;\n      return width * 0.5;\n    }\n    return 10;\n  }\n\n  protected getDefaultHeight() {\n    if (this.layout === 'vertical') {\n      const { height } = this.options.plot.options;\n      return height * 0.5;\n    }\n    return 10;\n  }\n\n  protected legendLayout() {\n    const { bleeding } = this.options.plot.getPlotTheme();\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](this.options.plot.options);\n        }\n      });\n    }\n    const bbox = this.container.getBBox();\n    let x = 0;\n    let y = 0;\n    const positions = this.options.position.split('-');\n    const plotWidth = this.options.plot.width;\n    const plotHeight = this.options.plot.height;\n    // x\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      x = (plotWidth - bbox.width) / 2;\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    }\n    // y\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = this.getTopPosition(bleeding);\n    } else if (positions[1] === 'center') {\n      y = (plotHeight - bbox.height) / 2;\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n\n    this.container.translate(x, y);\n  }\n\n  protected getDefaultOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.45)',\n      },\n    };\n  }\n\n  protected getDarkOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(255, 255, 255, 0.45)',\n        },\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(255, 255, 255, 0.25)',\n      },\n    };\n  }\n\n  protected addInteraction() {\n    const { colorField } = this.options.plot.options;\n    this.container.on('click', (ev) => {\n      const { target } = ev;\n      if (target.get('name') === 'legend') {\n        const appendInfo = target.get('info');\n        const targetInfo = `${appendInfo.from}-${appendInfo.to}`;\n        const relativeData = this.dataSlides[targetInfo];\n        if (relativeData.mode === 'active') {\n          relativeData.mode = 'deactive';\n          target.stopAnimate();\n          target.animate(\n            {\n              opacity: DEACTIVE_OPACITY,\n            },\n            200\n          );\n        } else {\n          relativeData.mode = 'active';\n          target.stopAnimate();\n          target.animate(\n            {\n              opacity: ACTIVE_OPACITY,\n            },\n            200\n          );\n        }\n        const filteredData = this.getFilteredData();\n        if (filteredData.length > 0) {\n          this.view.changeData(filteredData);\n          //this.view.set('data', filteredData);\n          this.view.scale(colorField, {\n            min: this.colorScale.min,\n            max: this.colorScale.max,\n            nice: this.colorScale.nice,\n          } as any);\n          this.view.render();\n        }\n      }\n    });\n  }\n\n  protected getFilteredData() {\n    const filteredData = [];\n    each(this.dataSlides, (s) => {\n      if (s.mode == 'active') {\n        filteredData.push(...s.data);\n      }\n    });\n    return filteredData;\n  }\n\n  //\n  protected getDataSlide(range) {\n    const slide = [];\n    const { colorField, data } = this.options.plot.options;\n    each(data, (d) => {\n      const value = d[colorField];\n      if (value >= range.from && value < range.to) {\n        slide.push(d);\n      }\n    });\n    return slide;\n  }\n\n  private getTopPosition(bleeding) {\n    if (this.options.plot.description) {\n      const bbox = this.options.plot.description.getBBox();\n      return bbox.maxY + 10;\n    } else if (this.options.plot.title) {\n      const bbox = this.options.plot.title.getBBox();\n      return bbox.maxY + 10;\n    }\n    return bleeding[0];\n  }\n\n  private getScales() {\n    let scales;\n    each(this.view.geometries, (geom) => {\n      if (geom.type === 'heatmap') {\n        scales = geom.scales;\n      }\n    });\n    return scales;\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  heatmap: 'heatmap',\n  legendLabel: 'legend-label',\n  heatmapBackground: 'heatmap-background',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport HeatmapLayer, { HeatmapLayerConfig } from './layer';\n\nexport interface HeatmapConfig extends HeatmapLayerConfig, PlotConfig {}\n\nexport default class Heatmap extends BasePlot<HeatmapConfig> {\n  public static getDefaultOptions: typeof HeatmapLayer.getDefaultOptions = HeatmapLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'heatmap';\n    super.createLayers(layerProps);\n  }\n\n  public changeShape(type: string) {\n    const layer: any = this.layers[0];\n    layer.changeShape(type);\n  }\n\n  public mappingSize(field: string) {\n    const layer: any = this.layers[0];\n    layer.mappingSize(field);\n  }\n\n  public disableMappingSize() {\n    const layer: any = this.layers[0];\n    layer.disableMappingSize();\n  }\n\n  public getSizeScale() {\n    const layer: any = this.layers[0];\n    return layer.getSizeScale();\n  }\n}\n","import { deepMix, valuesOfKey, each, isObject, isFunction } from '@antv/util';\nimport { getScale } from '@antv/scale';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { MatrixLegendConfig } from './component/legend';\nimport { getRectPath, getCirclePath, getCircleCurve } from './shape';\nimport { getPlotComponents } from './component';\nimport { GraphicStyle } from '../../interface/config';\n\nexport interface HeatmapViewConfig extends ViewConfig {\n  sizeField?: string;\n  colorField?: string;\n  shapeSize?: number[];\n  shapeType?: string;\n  shapeStyle?: GraphicStyle;\n  color?: string[];\n  legend?: MatrixLegendConfig;\n}\n\nexport interface HeatmapLayerConfig extends HeatmapViewConfig, LayerConfig {}\n\nexport default class HeatmapLayer<T extends HeatmapLayerConfig = HeatmapLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      shapeType: 'rect',\n      legend: {\n        visible: true,\n        position: 'right-center',\n      },\n      tooltip: {\n        shared: false,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      xAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: true,\n        },\n      },\n      yAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n          align: 'center',\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      color: ['#9ae3d5', '#66cdbb', '#e7a744', '#f1e066', '#f27664', '#e7c1a2'],\n      label: {\n        visible: true,\n        adjustColor: true,\n        adjustPosition: true,\n        offset: 0,\n        style: {\n          stroke: 'rgba(255,255,255,0)',\n          lineWidth: 0,\n        },\n      },\n      interactions: [{ type: 'tooltip' }],\n    });\n  }\n\n  public type: string = 'heatmap';\n  protected gridSize: number[] = [];\n  protected plotComponents: any[] = [];\n\n  public afterRender() {\n    this.renderPlotComponents();\n    super.afterRender();\n  }\n\n  public changeShape(type: string) {\n    if (this.options.shapeType === type) {\n      return;\n    }\n    this.options.shapeType = type;\n    if (type === 'rect') {\n      const shapes = this.getShape();\n      this.circleToRect(shapes);\n    } else if (type === 'circle') {\n      const shapes = this.getShape();\n      this.rectToCircle(shapes);\n    }\n  }\n\n  public mappingSize(field: string) {\n    if (this.options.sizeField && this.options.sizeField === field) {\n      return;\n    }\n    this.options.sizeField = field;\n    // scale\n    const values = valuesOfKey(this.options.data, field);\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const LinearScale = getScale('linear');\n    const scale = new LinearScale({\n      min,\n      max,\n    });\n    const shapes = this.getShape();\n    if (this.options.shapeType === 'rect') {\n      this.rectSizeMapping(shapes, scale, field);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleSizeMapping(shapes, scale, field);\n    }\n  }\n\n  public disableMappingSize() {\n    const shapes = this.getShape();\n    if (this.options.shapeType === 'rect') {\n      this.rectDisableSizeMapping(shapes);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleDisableSizeMapping(shapes);\n    }\n  }\n\n  public destroy() {\n    each(this.plotComponents, (component) => {\n      component.destroy();\n    });\n    super.destroy();\n  }\n\n  public getSizeScale() {\n    const { sizeField } = this.options;\n    if (sizeField) {\n      this.view.getScaleByField(sizeField);\n    }\n  }\n\n  protected geometryParser() {\n    return '';\n  }\n\n  protected coord() {\n    return;\n  }\n\n  protected legend() {\n    this.setConfig('legends', false);\n  }\n\n  protected addGeometry() {\n    this.gridSize = this.getGridSize();\n    let geomConfig;\n    if (this.options.shapeType === 'rect') {\n      geomConfig = this.addRect();\n    } else {\n      const circle = this.addCircle();\n      geomConfig = circle;\n    }\n    if (this.options.shapeStyle) {\n      const styleConfig: any = {};\n      if (isObject(this.options.shapeStyle)) {\n        styleConfig.cfg = this.options.shapeStyle;\n      } else if (isFunction(this.options.shapeType)) {\n        styleConfig.fields = [\n          this.options.colorField,\n          this.options.xField,\n          this.options.yField,\n          this.options.sizeField,\n        ];\n        styleConfig.callback = this.options.shapeType;\n      }\n      geomConfig.style = styleConfig;\n    }\n    if (this.options.tooltip && (this.options.tooltip.fields || this.options.tooltip.formatter)) {\n      this.geometryTooltip(geomConfig);\n    }\n\n    this.setConfig('geometry', geomConfig);\n  }\n\n  protected addRect() {\n    // sizesize[0,1]\n    const size = [0.3, 0.9];\n    if (this.options.shapeSize) {\n      size[0] = this.options.shapeSize[0] / this.gridSize[0];\n      size[1] = this.options.shapeSize[1] / this.gridSize[1];\n    }\n    const rect: any = {\n      type: 'polygon',\n      position: {\n        fields: [this.options.xField, this.options.yField],\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color,\n      },\n      shape: {\n        values: ['rect'],\n      },\n      label: false,\n    };\n    if (this.options.sizeField) {\n      rect.size = {\n        fields: [this.options.sizeField],\n        values: size,\n      };\n    } else {\n      rect.size = {\n        values: [1],\n      };\n    }\n    return rect;\n  }\n\n  protected addCircle() {\n    let size = [0.3, 0.9];\n    if (this.options.shapeSize) {\n      size = this.options.shapeSize;\n    } else {\n      size[0] = this.gridSize[0] * size[0] * 0.5;\n      size[1] = this.gridSize[1] * size[1] * 0.5;\n    }\n    const circle: any = {\n      type: 'point',\n      position: {\n        fields: [this.options.xField, this.options.yField],\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color,\n      },\n      shape: {\n        values: ['curvePoint'],\n      },\n      label: false,\n    };\n    if (this.options.sizeField) {\n      circle.size = {\n        fields: [this.options.sizeField],\n        values: size,\n      };\n    } else {\n      circle.size = {\n        values: [Math.min(this.gridSize[0], this.gridSize[1]) * 0.5 * 0.9],\n      };\n    }\n    return circle;\n  }\n\n  protected geometryTooltip(config) {\n    config.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      config.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      config.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        config.tooltip.fields = [this.options.xField, this.options.yField];\n        if (this.options.colorField) {\n          config.tooltip.fields.push(this.options.colorField);\n        }\n      }\n    }\n  }\n\n  private getGridSize() {\n    if (this.options.padding === 'auto') {\n      return [0, 0];\n    } else {\n      const viewRange = this.getViewRange();\n      const { padding, xField, yField, data } = this.options;\n      const width = viewRange.width - padding[1] - padding[3];\n      const height = viewRange.height - padding[0] - padding[2];\n      const xCount = valuesOfKey(data, xField).length;\n      const yCount = valuesOfKey(data, yField).length;\n      return [width / xCount, height / yCount];\n    }\n  }\n\n  private circleToRect(shapes) {\n    const gridSize = this.gridSize;\n    each(shapes, (shape) => {\n      const { x, y, size } = shape.get('origin');\n      let sizeRatio = (size * 2) / Math.min(gridSize[0], gridSize[1]);\n      if (!this.options.sizeField) {\n        sizeRatio = 1;\n      }\n      const curvePath = getCircleCurve(x, y, size);\n      const rectPath = getRectPath(x, y, gridSize[0], gridSize[1], sizeRatio);\n      shape.stopAnimate();\n      shape.attr('path', curvePath);\n      shape.animate(\n        {\n          path: rectPath,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private rectToCircle(shapes) {\n    each(shapes, (shape) => {\n      const coord = shape.get('coord');\n      const { points } = shape.get('origin');\n      const ps = [];\n      each(points, (p) => {\n        ps.push(coord.convertPoint(p));\n      });\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const offsetRatio = this.options.sizeField ? 1 : 0.9;\n      const curvePath = getCircleCurve(centerX, centerY, (Math.min(width, height) / 2) * offsetRatio);\n      const circlePath = getCirclePath(centerX, centerY, (Math.min(width, height) / 2) * offsetRatio);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: curvePath,\n        },\n        500,\n        'easeLinear',\n        () => {\n          shape.attr('path', circlePath);\n        }\n      );\n    });\n  }\n\n  private rectSizeMapping(shapes, scale, field) {\n    each(shapes, (shape) => {\n      const data = shape.get('origin').data;\n      const ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      shape.get('origin').size = ratio;\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const path = getRectPath(centerX, centerY, width, height, ratio);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private circleSizeMapping(shapes, scale, field) {\n    each(shapes, (shape) => {\n      const data = shape.get('origin').data;\n      const ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      const { x, y, size } = shape.get('origin');\n      const path = getCirclePath(x, y, size * ratio);\n      shape.get('origin').size = size * ratio;\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private circleDisableSizeMapping(shapes) {\n    this.options.sizeField = null;\n    each(shapes, (shape) => {\n      const { x, y } = shape.get('origin');\n      const size = Math.min(this.gridSize[0], this.gridSize[1]) * 0.9;\n      shape.get('origin').size = size / 2;\n      const path = getCirclePath(x, y, size / 2);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private rectDisableSizeMapping(shapes) {\n    this.options.sizeField = null;\n    each(shapes, (shape) => {\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const path = getRectPath(centerX, centerY, this.gridSize[0], this.gridSize[1], 1);\n      shape.get('origin').size = 1;\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private getShape() {\n    const elements = this.view.geometries[0].elements;\n    const shapes = [];\n    each(elements, (ele) => {\n      shapes.push(ele.shape);\n    });\n    return shapes;\n  }\n\n  protected renderPlotComponents() {\n    each(this.plotComponents, (component) => {\n      component.destroy();\n    });\n    this.plotComponents = [];\n    const componentsType = ['label', 'legend'];\n    each(componentsType, (t) => {\n      const cfg = {\n        view: this.view,\n        plot: this,\n        ...this.options[t],\n      };\n      const component = getPlotComponents(this, t, cfg);\n      if (component) {\n        component.render();\n        this.plotComponents.push(component);\n      }\n    });\n  }\n}\n\nregisterPlotType('heatmap', HeatmapLayer);\n","import { registerShape } from '../../dependents';\nimport { deepMix } from '@antv/util';\n\nexport function getRectPath(cx, cy, width, height, size) {\n  const w = width * size;\n  const h = height * size;\n  const path = [\n    ['M', cx - w / 2, cy + h / 2],\n    ['Q', cx - w / 2, cy, cx - w / 2, cy - h / 2],\n    ['Q', cx, cy - h / 2, cx + w / 2, cy - h / 2],\n    ['Q', cx + w / 2, cy, cx + w / 2, cy + h / 2],\n    ['Q', cx, cy + h / 2, cx - w / 2, cy + h / 2],\n    ['Z'],\n  ];\n  return path;\n}\n\nexport function getCirclePath(x, y, size) {\n  const path = [\n    ['M', x, y],\n    ['l', -size, 0],\n    ['a', size, size, 0, 1, 0, size * 2, 0],\n    ['a', size, size, 0, 1, 0, -(size * 2), 0],\n    ['Z'],\n  ];\n  return path;\n}\n\nexport function getCircleCurve(x, y, size) {\n  // \n  const path = [\n    ['M', x - size, y],\n    ['Q', x - size, y - size, x, y - size],\n    ['Q', x + size, y - size, x + size, y],\n    ['Q', x + size, y + size, x, y + size],\n    ['Q', x - size, y + size, x - size, y],\n    ['Z'],\n  ];\n  return path;\n}\n\nregisterShape('polygon', 'rect', {\n  draw(cfg, container) {\n    const points = this.parsePoints(cfg.points);\n    const width = points[2].x - points[0].x;\n    const height = points[0].y - points[1].y;\n    const centerX = points[0].x + width / 2;\n    const centerY = points[1].y + height / 2;\n    /*\n        const path = [\n          ['M', centerX - w / 2, centerY + h / 2],\n          ['L', centerX - w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY + h / 2],\n          ['Z'],\n        ];\n        */\n    const path = getRectPath(centerX, centerY, width, height, cfg.size);\n    return container.addShape('path', {\n      attrs: deepMix(\n        {},\n        {\n          path,\n          fill: cfg.color,\n          opacity: 1,\n        },\n        cfg.style\n      ),\n    });\n  },\n});\n\nregisterShape('point', 'curvePoint', {\n  draw(cfg, container) {\n    const path = getCirclePath(cfg.x, cfg.y, cfg.size);\n    return container.addShape('path', {\n      attrs: deepMix(\n        {},\n        {\n          path,\n          fill: cfg.color,\n          opacity: 1,\n        },\n        cfg.style\n      ),\n    });\n  },\n});\n","import MatrixLabel from './label';\nimport MatrixLegend from './legend';\n\nconst ComponentsInfo = {\n  label: { Ctr: MatrixLabel },\n  legend: { Ctr: MatrixLegend, padding: 'outer' },\n};\n\nexport function getPlotComponents(plot, type, cfg) {\n  if (plot.options[type] && plot.options[type].visible) {\n    const componentInfo = ComponentsInfo[type];\n    const component = new componentInfo.Ctr(cfg);\n    if (componentInfo.padding) {\n      plot.paddingController.registerPadding(component, componentInfo.padding);\n    }\n    return component;\n  }\n}\n","import { each, deepMix, clone } from '@antv/util';\nimport { View, IGroup } from '../../../dependents';\nimport { rgb2arr, mappingColor } from '../../../util/color';\n\nexport interface MatrixLabelConfig {\n  visible: boolean;\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IMatrixLabel extends MatrixLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class MatrixLabel {\n  public options: MatrixLabelConfig;\n  public destroyed: boolean = false;\n  protected plot: any;\n  protected view: View;\n  private container: IGroup;\n\n  constructor(cfg: IMatrixLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  protected init() {\n    this.container = this.view.geometries[0].labelsContainer;\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const elements = this.view.geometries[0].elements;\n    each(elements, (ele) => {\n      const { shape } = ele;\n      const { style, offsetX, offsetY } = this.options;\n      const formatter = this.options.formatter;\n      const content = formatter ? formatter(this.getContent(shape)) : this.getContent(shape);\n      const position = this.getPosition(shape);\n      const color = this.getTextColor(shape);\n      const label = this.container.addShape('text', {\n        attrs: deepMix({}, style, {\n          x: position.x + offsetX,\n          y: position.y + offsetY,\n          text: content,\n          fill: color,\n          textAlign: 'center',\n          textBaseline: 'middle',\n        }),\n        name: 'label',\n      });\n      if (this.options.adjustPosition) {\n        this.adjustLabel(label, shape);\n      }\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    return this.container.getBBox();\n  }\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      offsetX: 0,\n      offsetY: 0,\n      style: clone(labelStyle),\n    };\n  }\n\n  protected getContent(shape) {\n    const data = shape.get('origin').data;\n    const field = this.plot.options.colorField;\n    return data[field];\n  }\n\n  protected getPosition(shape) {\n    const bbox = shape.getBBox();\n    return {\n      x: bbox.minX + bbox.width / 2,\n      y: bbox.minY + bbox.height / 2,\n    };\n  }\n\n  protected getTextColor(shape) {\n    if (this.options.adjustColor) {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = this.options.style.fill;\n    return defaultColor;\n  }\n\n  protected adjustLabel(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (labelRange.width > shapeRange.width || labelRange.height > shapeRange.height) {\n      label.attr('text', '');\n    }\n  }\n}\n","import { each, isArray, deepMix } from '@antv/util';\nimport BBox from '../../../util/bbox';\nimport { View, IGroup, IShape } from '../../../dependents';\nimport { LegendPosition, GraphicStyle, TextStyle, LineStyle } from '../../../interface/config';\n\nconst LABEL_MARGIN = 4;\n\nexport interface MatrixLegendConfig {\n  visible?: boolean;\n  position?: LegendPosition;\n  width?: number;\n  height?: number;\n  text?: {\n    style?: TextStyle;\n    formatter?: () => string;\n  };\n  ticklineStyle?: LineStyle;\n  anchorStyle?: GraphicStyle;\n  triggerOn?: string;\n}\n\nexport interface IMatrixLegend extends MatrixLegendConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class MatrixLegend {\n  public options: IMatrixLegend;\n  public container: IGroup;\n  public anchor: IShape;\n  public afterRender: boolean;\n  public destroyed: boolean = false;\n  protected view: View;\n  protected layout: string;\n  protected width: number;\n  protected height: number;\n  protected position: string;\n  protected x: number;\n  protected y: number;\n  protected dataSlides: any = {};\n  protected colorScale: any;\n  private interactiveEvents: any = {};\n\n  constructor(cfg: IMatrixLegend) {\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  public init() {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    const plotContainer = this.options.plot.container;\n    if (this.container) {\n      this.container.remove();\n    }\n    this.container = plotContainer.addGroup();\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.options.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const scales = this.view.geometries[0].scales;\n    const colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    const { min, max } = this.colorScale;\n    const { color } = this.options.plot.options;\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n    this.legendLayout();\n    this.addInteraction();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.offEvent();\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    const origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  }\n\n  protected renderVertical(min: number, max: number, colors: string[]) {\n    const valueStep = (max - min) / (colors.length - 1);\n    const colorStep = 1 / (colors.length - 1);\n    const tickStep = this.height / (colors.length - 1);\n    let gradientColor = 'l(90)';\n    each(colors, (c, index) => {\n      const stepNum = colorStep * index;\n      gradientColor += `${stepNum}:${c} `;\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor,\n      },\n      name: 'legend',\n    });\n    // draw tick and label\n    each(colors, (c, index) => {\n      // tick\n      const step = tickStep * index;\n      this.container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', 0, step],\n            ['L', this.width, step],\n          ],\n          ...this.options.ticklineStyle,\n        },\n      });\n      // value\n      const value = Math.round(valueStep * index);\n      this.container.addShape('text', {\n        attrs: {\n          text: value,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          x: this.width + LABEL_MARGIN,\n          y: step,\n          ...this.options.text.style,\n        },\n        name: 'legend-label',\n      });\n    });\n    //anchor\n    const tri_width = 10;\n    const tri_height = 14;\n    const tri_path = [['M', -tri_width, -tri_height / 2], ['L', 0, 0], ['L', -tri_width, tri_height / 2], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: {\n        path: tri_path,\n        ...this.options.anchorStyle,\n      },\n    });\n    this.anchor.set('visible', false);\n  }\n\n  protected renderHorizontal(min: number, max: number, colors: string[]) {\n    const valueStep = (max - min) / (colors.length - 1);\n    const colorStep = 1 / (colors.length - 1);\n    const tickStep = this.width / (colors.length - 1);\n    let gradientColor = 'l(0)';\n    each(colors, (c, index) => {\n      const stepNum = colorStep * index;\n      gradientColor += `${stepNum}:${c} `;\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor,\n      },\n      name: 'legend',\n    });\n    // draw tick and label\n    each(colors, (c, index) => {\n      // tick\n      const step = tickStep * index;\n      this.container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', step, 0],\n            ['L', step, this.height],\n          ],\n          ...this.options.ticklineStyle,\n        },\n        name: 'legend-label',\n      });\n      // value\n      const value = Math.round(valueStep * index);\n      this.container.addShape('text', {\n        attrs: {\n          text: value,\n          textAlign: 'center',\n          textBaseline: 'top',\n          x: step,\n          y: this.height + LABEL_MARGIN,\n          ...this.options.text.style,\n        },\n      });\n    });\n    //anchor\n    const tri_width = 14;\n    const tri_height = 10;\n    const tri_path = [['M', 0, 0], ['L', -tri_width / 2, -tri_height], ['L', tri_width / 2, -tri_height], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: {\n        path: tri_path,\n        ...this.options.anchorStyle,\n      },\n    });\n    this.anchor.set('visible', false);\n  }\n\n  protected getLayout() {\n    const positions = this.options.position.split('-');\n    this.position = positions[0];\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n    return 'horizontal';\n  }\n\n  protected getDefaultWidth() {\n    if (this.layout === 'horizontal') {\n      const width = this.view.coordinateBBox.width;\n      return width;\n    }\n    return 10;\n  }\n\n  protected getDefaultHeight() {\n    if (this.layout === 'vertical') {\n      const height = this.view.coordinateBBox.height;\n      return height;\n    }\n    return 10;\n  }\n\n  protected legendLayout() {\n    const panelRange = this.view.coordinateBBox;\n    const { bleeding } = this.options.plot.getPlotTheme();\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](this.options.plot.options);\n        }\n      });\n    }\n    const bbox = this.container.getBBox();\n    let x = 0;\n    let y = 0;\n    const positions = this.options.position.split('-');\n    const plotWidth = this.options.plot.width;\n    const plotHeight = this.options.plot.height;\n    // x\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.width === panelRange.width) {\n        x = panelRange.x;\n      } else {\n        x = (plotWidth - bbox.width) / 2;\n      }\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    }\n    // y\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = this.getTopPosition(bleeding);\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.height === panelRange.height) {\n        y = panelRange.y;\n      } else {\n        //\n        y = (plotHeight - bbox.height) / 2;\n      }\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n\n    this.container.translate(x, y);\n  }\n\n  protected getDefaultOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      ticklineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.8)',\n      },\n      anchorStyle: {\n        fill: 'rgba(0,0,0,0.5)',\n      },\n      triggerOn: 'mousemove',\n    };\n  }\n\n  protected addInteraction() {\n    let geomType;\n    if (this.options.plot.options.shapeType === 'rect') {\n      geomType = 'polygon';\n    } else {\n      geomType = 'point';\n    }\n\n    const eventName = `${geomType}:${this.options.triggerOn}`;\n    //const labelEventName = `label:${this.options.triggerOn}`;\n    const field = this.options.plot.options.colorField;\n    const { min, max } = this.colorScale;\n\n    const geomEventHandler = (ev) => {\n      const value = ev.data.data[field];\n      const ratio = (value - min) / (max - min);\n      this.moveAnchor(ratio);\n    };\n    this.view.on(eventName, geomEventHandler);\n    this.interactiveEvents[eventName] = {\n      target: this.view,\n      handler: geomEventHandler,\n    };\n\n    /*this.view.on(labelEventName, (ev) => {\n      const value = ev.data[field];\n      const ratio = (value - min) / (max - min);\n      this.moveAnchor(ratio);\n    });*/\n\n    const mouseleaveHandler = () => {\n      this.anchor.set('visible', false);\n    };\n    this.options.plot.canvas.on('mouseleave', mouseleaveHandler);\n    this.interactiveEvents.mouseleave = {\n      target: this.options.plot.canvas,\n      handler: mouseleaveHandler,\n    };\n  }\n\n  private moveAnchor(ratio: number) {\n    this.anchor.set('visible', true);\n    if (this.layout === 'vertical') {\n      const pos = this.height * ratio;\n      const ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[7] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate(\n        {\n          matrix: ulMatrix,\n        },\n        400,\n        'easeLinear'\n      );\n    } else {\n      const pos = this.width * ratio;\n      const ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[6] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate(\n        {\n          matrix: ulMatrix,\n        },\n        400,\n        'easeLinear'\n      );\n    }\n  }\n\n  private getTopPosition(bleeding) {\n    if (this.options.plot.description) {\n      const bbox = this.options.plot.description.getBBox();\n      return bbox.maxY + 10;\n    } else if (this.options.plot.title) {\n      const bbox = this.options.plot.title.getBBox();\n      return bbox.maxY + 10;\n    }\n    return bleeding[0];\n  }\n\n  private offEvent() {\n    each(this.interactiveEvents, (event, key) => {\n      const { target, handler } = event;\n      target.off(key, handler);\n    });\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport WordCloudLayer, { WordCloudViewConfig } from './layer';\nimport { registerPlotType } from '../../base/global';\n\nexport interface WordCloudPlotConfig extends PlotConfig {\n  container?: HTMLDivElement;\n}\nexport interface WordCloudConfig extends WordCloudViewConfig, WordCloudPlotConfig {}\n\nexport default class WordCloud extends BasePlot<WordCloudConfig> {\n  constructor(container: HTMLElement, props: WordCloudConfig) {\n    // only canvas works for now\n    props.renderer = 'canvas';\n    super(container, props);\n  }\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'wordCloud';\n    layerProps.container = this.containerDOM;\n    super.createLayers(layerProps);\n  }\n}\nregisterPlotType('wordCloud', WordCloudLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { LayerConfig } from '../..';\nimport { get, deepMix } from '@antv/util';\nimport Layer from '../../base/layer';\nimport WordCloudTooltips from './word-cloud-tooltips';\n\nimport WordCloud from './wordcloud2';\nimport { WordCloudPlotConfig } from './index';\n\nexport type CloudShape =\n  | 'circle'\n  | 'square'\n  | 'cardioid'\n  | 'diamond'\n  | 'triangle'\n  | 'triangle-forward'\n  | 'triangle-backward'\n  | 'triangle-up'\n  | 'triangle-down'\n  | 'pentagon'\n  | 'star';\nexport type Dimension = {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n};\n\ntype MaskImage = {\n  maskImageCanvas: HTMLCanvasElement;\n  maskImageContext: CanvasRenderingContext2D;\n};\n\nexport type WordCloudData = {\n  word: string;\n  weight: number;\n  id: number; // index in data array. treat as unique id\n  color?: string; // cloud's color\n};\n\n/**\n * Inner start function, refresh canvas immediately(no any delay draw all 'cloud'\n * nearly at same time) with specific id\n */\nexport type InnerStartFunction = (selected: number) => void;\n\nexport type Active = {\n  shadowColor?: string;\n  shadowBlur?: number;\n};\n\nexport type WordStyle = {\n  fontFamily?: string;\n  // normal, lighter, bold, bolder, 100~900\n  fontWeight?: string | ((word: string, weight: number) => string);\n  color?: string | ((word: string, weight: number) => string);\n\n  active?: Active;\n  animatable?: boolean;\n\n  // [min, max] ->  random by steps(each step (max - min) / steps))\n  rotation?: [number, number];\n  rotationSteps?: number;\n  // the ratio of rotate\n  rotateRatio?: number;\n\n  // font's max and min size(determine by cloud's weight)\n  fontSize?: [number, number];\n\n  gridSize?: number;\n  drawOutOfBound?: boolean;\n\n  // scale 1/4 font weight each time till fit in\n  // shrinkToFit?: boolean;\n  // reset cloud's [x,y]\n  // origin?: [number, number];\n};\n\nexport interface WordCloudViewConfig extends WordCloudPlotConfig {\n  data: Array<WordCloudData> | Function;\n  // mask image, black-white pixel image will be better\n  maskImage?: string;\n  backgroundColor?: string;\n  wordStyle?: WordStyle;\n  shuffle?: boolean;\n  selected?: number;\n  tooltip?: {\n    visible: boolean;\n  };\n  shape?: CloudShape | Function;\n\n  onWordCloudHover?: (item: WordCloudData, dimension: Dimension, evt: MouseEvent, start: InnerStartFunction) => {};\n  onWordCloudClick?: (item: WordCloudData, dimension: Dimension, evt: MouseEvent) => {};\n\n  // clear before start\n  // clearCanvas?: boolean;\n  // wait milliseconds before next item show\n  // wait?: number;\n  // If the call with in the loop takes more than x milliseconds (and blocks the browser), abort immediately.\n  // abortThreshold?: number;\n  // abort callback\n  // abort?: () => {};\n  // shape's ellipticity [0,1]\n  // ellipticity?: number;\n  // ONLY FOR DEBUG, DON'T USE US\n  // drawMask?: boolean;\n  // maskColor?: string;\n  // maskGapWidth?: number;\n  // hide for now\n  // classes?: (word: string, weight: number) => string;\n}\n\ninterface WordCloudLayerConfig extends WordCloudViewConfig, LayerConfig {}\n\nexport default class WordCloudLayer extends Layer<WordCloudLayerConfig> {\n  private _targetCanvas: HTMLCanvasElement;\n  private _toolTips: WordCloudTooltips;\n  private readonly _configHoverAction: Function;\n  private readonly _enableToolTips: boolean;\n\n  constructor(props: WordCloudLayerConfig) {\n    super(props);\n    this._configHoverAction = props.onWordCloudHover;\n    this._enableToolTips = get(props, 'tooltip.visible', true);\n    this.options = deepMix(\n      {},\n      {\n        width: 400,\n        height: 400,\n        enableToolTips: true,\n      },\n      props,\n      // replace use config's hover action if needed, and trigger later\n      {\n        onWordCloudHover: this._enableToolTips ? this._toolTipsAction : this._configHoverAction,\n      }\n    );\n  }\n\n  public init() {\n    super.init();\n    this._initToolTips();\n  }\n\n  public render() {\n    super.render();\n    this._render();\n  }\n\n  private _toolTipsAction = (item: WordCloudData, dimension: Dimension, evt: MouseEvent, start: InnerStartFunction) => {\n    if (dimension) {\n      this._toolTips.update({\n        items: [\n          {\n            color: item.color || 'red',\n            name: item.word,\n            value: item.weight,\n          },\n        ],\n        x: evt.offsetX,\n        y: evt.offsetY,\n      });\n      this._toolTips.show();\n    } else {\n      this._toolTips.hide();\n    }\n    this._toolTips.render();\n    this._configHoverAction && this._configHoverAction(item, dimension, evt, start);\n  };\n\n  private _initToolTips() {\n    this._toolTips = new WordCloudTooltips({\n      showTitle: false,\n      visible: false,\n      parent: this.options.container,\n      follow: true,\n      inPanel: false, // must be false\n      items: [],\n    });\n    this._toolTips.init();\n  }\n\n  private _render() {\n    this._targetCanvas = this.canvas.get('el');\n    if (this.options.maskImage) {\n      this._handleMaskImage();\n    } else {\n      // mask image not exist\n      this._start();\n    }\n  }\n\n  private _handleMaskImage() {\n    const image = new Image();\n    image.src = this.options.maskImage + '?' + new Date().getTime();\n    image.crossOrigin = 'Anonymous';\n    image.onload = () => {\n      if (image.naturalHeight + image.naturalWidth === 0 || image.width + image.height === 0) {\n        this._start();\n      } else {\n        // handle no-zero image silhouette\n        this._startWithMaskImage(image);\n      }\n    };\n    image.onerror = () => {\n      console.error('image %s load failed !!!', this.options.maskImage);\n      // load image error, ignore this mask\n      this._start();\n    };\n  }\n\n  private _start() {\n    this._handleG2PlotConfig();\n    const targetCtx = this._targetCanvas.getContext('2d');\n    // it's a trick, because g use context to scale canvas by pixelRatio,\n    // but here i need scale it back\n    const pixelRatio = this.canvas.get('width') / this.canvas.get('el').width;\n    targetCtx.scale(pixelRatio, pixelRatio);\n    WordCloud(this._targetCanvas, this.options);\n  }\n\n  private _handleG2PlotConfig() {\n    const fontSize = this.options.wordStyle.fontSize || [10, 60];\n    const rotation = this.options.wordStyle.rotation || [-Math.PI / 2, Math.PI / 2];\n    let active, shadowColor, shadowBlur;\n    if (this.options.wordStyle.active) {\n      active = true;\n      shadowColor = this.options.wordStyle.active.shadowColor || '#333';\n      shadowBlur = this.options.wordStyle.active.shadowBlur || 10;\n    } else {\n      active = false;\n    }\n    this.options = deepMix({}, this.options, {\n      minFontSize: fontSize[0],\n      maxFontSize: fontSize[1],\n      minRotation: rotation[0],\n      maxRotation: rotation[1],\n      active,\n      shadowColor,\n      shadowBlur,\n    });\n  }\n\n  private _startWithMaskImage(image: HTMLImageElement) {\n    const { maskImageCanvas, maskImageContext } = this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(image));\n    /* Determine bgPixel by creating\n     another canvas and fill the specified background color. */\n    const bctx = document.createElement('canvas').getContext('2d');\n\n    bctx.fillStyle = this.options.backgroundColor || '#fff';\n    bctx.fillRect(0, 0, 1, 1);\n    const bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n    const imageData = maskImageContext.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    const newImageData = maskImageContext.createImageData(imageData);\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      if (imageData.data[i + 3] > 128) {\n        // keep this area's data the same as pixel color\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = bgPixel[3];\n      } else {\n        // This color must not be the same as the bgPixel.\n        // check wordcloud2.js#1192 's condition\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = 254; // just for not same as the bg color\n      }\n    }\n\n    maskImageContext.putImageData(newImageData, 0, 0);\n\n    const targetCtx = this._targetCanvas.getContext('2d');\n    targetCtx.drawImage(maskImageCanvas, 0, 0);\n    this.options = deepMix({}, this.options, { clearCanvas: false });\n\n    this._start();\n  }\n\n  private _scaleMaskImageCanvas(maskImageCanvas: HTMLCanvasElement): MaskImage {\n    const maskCanvasScaled = document.createElement('canvas');\n    // get real canvas determined by pixelRatio\n    maskCanvasScaled.width = this.canvas.get('width');\n    maskCanvasScaled.height = this.canvas.get('height');\n    const ctx = maskCanvasScaled.getContext('2d');\n    // keep scale smooth\n    ctx.imageSmoothingEnabled = true;\n    // ctx.mozImageSmoothingEnabled = true;\n    // ctx.webkitImageSmoothingEnabled = true;\n    // ctx.msImageSmoothingEnabled = true;\n    ctx.drawImage(\n      maskImageCanvas,\n      0,\n      0,\n      maskImageCanvas.width,\n      maskImageCanvas.height,\n      0,\n      0,\n      maskCanvasScaled.width,\n      maskCanvasScaled.height\n    );\n    return {\n      maskImageCanvas: maskCanvasScaled,\n      maskImageContext: ctx,\n    };\n  }\n\n  private _transformWhite2BlackPixels(image: HTMLImageElement): HTMLCanvasElement {\n    const maskImageCanvas = document.createElement('canvas');\n    maskImageCanvas.width = image.width;\n    maskImageCanvas.height = image.height;\n    const ctx = maskImageCanvas.getContext('2d');\n    ctx.drawImage(image, 0, 0, image.width, image.height);\n    const imageData = ctx.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    const SINGLE_COMPONENT_SIZE = 4;\n    const BLACK_PIXEL = 0;\n    const FULL_PIXEL = 255;\n    // R - G - B - A\n    for (let i = 0; i < imageData.data.length; i += SINGLE_COMPONENT_SIZE) {\n      const rgb = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n      const alpha = imageData.data[i + 3];\n\n      if (alpha < 128 || rgb > 250 * 3) {\n        // white area(not to draw)\n        imageData.data[i] = FULL_PIXEL;\n        imageData.data[i + 1] = FULL_PIXEL;\n        imageData.data[i + 2] = FULL_PIXEL;\n        imageData.data[i + 3] = BLACK_PIXEL;\n      } else {\n        // black area wait to draw(image black silhouette)\n        imageData.data[i] = BLACK_PIXEL;\n        imageData.data[i + 1] = BLACK_PIXEL;\n        imageData.data[i + 2] = BLACK_PIXEL;\n        imageData.data[i + 3] = FULL_PIXEL;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return maskImageCanvas;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip, TooltipCfg } from '../../dependents';\n\nexport default class WordCloudTooltips extends HtmlTooltip {\n  constructor(cfg: TooltipCfg) {\n    const newCfg = deepMix(\n      {},\n      cfg,\n      {\n        itemTpl: `<div data-index={index}>\n        <span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>\n        {name}<span class=\"g2-tooltip-value\">{value}</span></div>`,\n      },\n      cfg\n    );\n    super(newCfg);\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\n/* eslint-disable unicorn/no-abusive-eslint-disable */\n/* eslint-disable */\n// @ts-nocheck\n\n// TODO rewrite with typescript @brucetoo\n\n/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2013 Tim Chien\n * Released under the MIT license\n */\n\n'use strict';\n\n// setImmediate\nif (!window.setImmediate) {\n  window.setImmediate = (function setupSetImmediate() {\n    return (\n      window.msSetImmediate ||\n      window.webkitSetImmediate ||\n      window.mozSetImmediate ||\n      window.oSetImmediate ||\n      (function setupSetZeroTimeout() {\n        if (!window.postMessage || !window.addEventListener) {\n          return null;\n        }\n\n        var callbacks = [undefined];\n        var message = 'zero-timeout-message';\n\n        // Like setTimeout, but only takes a function argument.  There's\n        // no time argument (always zero) and no arguments (you have to\n        // use a closure).\n        var setZeroTimeout = function setZeroTimeout(callback) {\n          var id = callbacks.length;\n          callbacks.push(callback);\n          window.postMessage(message + id.toString(36), '*');\n\n          return id;\n        };\n\n        window.addEventListener(\n          'message',\n          function setZeroTimeoutMessage(evt) {\n            // Skipping checking event source, retarded IE confused this window\n            // object with another in the presence of iframe\n            if (\n              typeof evt.data !== 'string' ||\n              evt.data.substr(0, message.length) !== message /* ||\n            evt.source !== window */\n            ) {\n              return;\n            }\n\n            evt.stopImmediatePropagation();\n\n            var id = parseInt(evt.data.substr(message.length), 36);\n            if (!callbacks[id]) {\n              return;\n            }\n\n            callbacks[id]();\n            callbacks[id] = undefined;\n          },\n          true\n        );\n\n        /* specify clearImmediate() here since we need the scope */\n        window.clearImmediate = function clearZeroTimeout(id) {\n          if (!callbacks[id]) {\n            return;\n          }\n\n          callbacks[id] = undefined;\n        };\n\n        return setZeroTimeout;\n      })() ||\n      // fallback\n      function setImmediateFallback(fn) {\n        window.setTimeout(fn, 0);\n      }\n    );\n  })();\n}\n\nif (!window.clearImmediate) {\n  window.clearImmediate = (function setupClearImmediate() {\n    return (\n      window.msClearImmediate ||\n      window.webkitClearImmediate ||\n      window.mozClearImmediate ||\n      window.oClearImmediate ||\n      // \"clearZeroTimeout\" is implement on the previous block ||\n      // fallback\n      function clearImmediateFallback(timer) {\n        window.clearTimeout(timer);\n      }\n    );\n  })();\n}\n\n// Check if WordCloud can run on this browser\nvar isSupported = (function isSupported() {\n  var canvas = document.createElement('canvas');\n  if (!canvas || !canvas.getContext) {\n    return false;\n  }\n\n  var ctx = canvas.getContext('2d');\n  if (!ctx.getImageData) {\n    return false;\n  }\n  if (!ctx.fillText) {\n    return false;\n  }\n\n  if (!Array.prototype.some) {\n    return false;\n  }\n  if (!Array.prototype.push) {\n    return false;\n  }\n\n  return true;\n})();\n\n// Find out if the browser impose minium font size by\n// drawing small texts on a canvas and measure it's width.\nvar minFontSize = (function getMinFontSize() {\n  if (!isSupported) {\n    return;\n  }\n\n  var ctx = document.createElement('canvas').getContext('2d');\n\n  // start from 20\n  var size = 20;\n\n  // two sizes to measure\n  var hanWidth, mWidth;\n\n  while (size) {\n    ctx.font = size.toString(10) + 'px sans-serif';\n    if (ctx.measureText('\\uFF37').width === hanWidth && ctx.measureText('m').width === mWidth) {\n      return size + 1;\n    }\n\n    hanWidth = ctx.measureText('\\uFF37').width;\n    mWidth = ctx.measureText('m').width;\n\n    size--;\n  }\n\n  return 0;\n})();\n\n// Based on http://jsfromhell.com/array/shuffle\nvar shuffleArray = function shuffleArray(arr) {\n  for (var j, x, i = arr.length; i; j = Math.floor(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x) {}\n  return arr;\n};\n\nvar WordCloud = function WordCloud(elements, options) {\n  if (!isSupported) {\n    return;\n  }\n\n  if (!Array.isArray(elements)) {\n    elements = [elements];\n  }\n\n  elements.forEach(function (el, i) {\n    if (typeof el === 'string') {\n      elements[i] = document.getElementById(el);\n      if (!elements[i]) {\n        throw 'The element id specified is not found.';\n      }\n    } else if (!el.tagName && !el.appendChild) {\n      throw 'You must pass valid HTML elements, or ID of the element.';\n    }\n  });\n\n  /* Default values to be overwritten by options object */\n  var settings = {\n    data: [],\n    fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"\", ' + '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n    fontWeight: 'normal',\n    color: 'random-dark',\n    animatable: true,\n\n    minFontSize: minFontSize, // browser's min font size default\n    maxFontSize: 60, // max font size default is 60\n\n    clearCanvas: true,\n    backgroundColor: '#fff', // opaque white = rgba(255, 255, 255, 1)\n\n    gridSize: 8,\n    drawOutOfBound: false,\n    origin: null,\n\n    drawMask: false,\n    maskColor: 'rgba(255,0,0,0.3)',\n    maskGapWidth: 0.3,\n\n    wait: 0,\n    abortThreshold: 0, // disabled\n    abort: function noop() {},\n\n    minRotation: -Math.PI / 2,\n    maxRotation: Math.PI / 2,\n    rotateRatio: 0.5,\n    rotationSteps: 1,\n\n    shuffle: true,\n\n    shape: 'circle',\n    ellipticity: 1,\n\n    active: true,\n    selected: -1,\n    shadowColor: '#333',\n    shadowBlur: 10,\n\n    classes: null,\n\n    onWordCloudHover: null,\n    onWordCloudClick: null,\n  };\n\n  const interactionItems = [];\n\n  if (options) {\n    for (var key in options) {\n      if (key === 'wordStyle') {\n        for (let fontKey in options[key]) {\n          if (fontKey in settings) {\n            settings[fontKey] = options[key][fontKey];\n          }\n        }\n      } else {\n        if (key in settings) {\n          settings[key] = options[key];\n        }\n      }\n    }\n  }\n\n  if (settings.minFontSize < minFontSize) {\n    // can't less than browse's min font size\n    settings.minFontSize = minFontSize;\n  }\n\n  if (settings.minFontSize > settings.maxFontSize) {\n    console.error('minSize cant bigger than maxSize');\n    return;\n  }\n\n  let maxWeight = 0;\n  for (let i = 0; i < settings.data.length; i++) {\n    if (maxWeight < settings.data[i].weight) {\n      maxWeight = settings.data[i].weight;\n    }\n  }\n\n  var getRealFontSize = function getRealFontSize(weight) {\n    return Math.min(Math.max(settings.minFontSize, (settings.maxFontSize * weight) / maxWeight), settings.maxFontSize);\n  };\n\n  var isCardioid = false;\n  /* Convert shape into a function */\n  if (typeof settings.shape !== 'function') {\n    switch (settings.shape) {\n      case 'circle':\n      /* falls through */\n      default:\n        // 'circle' is the default and a shortcut in the code loop.\n        settings.shape = 'circle';\n        break;\n\n      case 'cardioid':\n        // https://baike.baidu.com/item/%E5%BF%83%E8%84%8F%E7%BA%BF/10323843?fromtitle=%E5%BF%83%E5%BD%A2%E7%BA%BF&fromid=10018818\n        settings.shape = function shapeCardioid(theta) {\n          return 1 - Math.sin(theta);\n        };\n        isCardioid = true;\n        break;\n\n      /*\n      To work out an X-gon, one has to calculate \"m\",\n      where 1/(cos(2*PI/X)+m*sin(2*PI/X)) = 1/(cos(0)+m*sin(0))\n      http://www.wolframalpha.com/input/?i=1%2F%28cos%282*PI%2FX%29%2Bm*sin%28\n      2*PI%2FX%29%29+%3D+1%2F%28cos%280%29%2Bm*sin%280%29%29\n      Copy the solution into polar equation r = 1/(cos(t') + m*sin(t'))\n      where t' equals to mod(t, 2PI/X);\n      */\n\n      case 'diamond':\n        settings.shape = function shapeSquare(theta) {\n          const thetaPrime = theta % ((2 * Math.PI) / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n        break;\n      case 'square':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+PI%2F2%29%29%2Bsin%28mod+%28t%2C+PI%2F2%29%29%29%2C+t+%3D\n        // +0+..+2*PI\n        settings.shape = function shapeSquare(theta) {\n          const thetaPrime = (theta + Math.PI / 4) % ((2 * Math.PI) / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle-forward':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+2*PI%2F3%29%29%2Bsqrt%283%29sin%28mod+%28t%2C+2*PI%2F3%29\n        // %29%29%2C+t+%3D+0+..+2*PI\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = theta % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle-backward':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + Math.PI) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle':\n      case 'triangle-up':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + (Math.PI * 3) / 2) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n      case 'triangle-down':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + (Math.PI * 5) / 2) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'pentagon':\n        settings.shape = function shapePentagon(theta) {\n          const thetaPrime = (theta + 0.955) % ((2 * Math.PI) / 5);\n          return 1 / (Math.cos(thetaPrime) + 0.726543 * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'star':\n        settings.shape = function shapeStar(theta) {\n          const thetaPrime = (theta + 0.955) % ((2 * Math.PI) / 10);\n          if (((theta + 0.955) % ((2 * Math.PI) / 5)) - (2 * Math.PI) / 10 >= 0) {\n            return (\n              1 / (Math.cos((2 * Math.PI) / 10 - thetaPrime) + 3.07768 * Math.sin((2 * Math.PI) / 10 - thetaPrime))\n            );\n          } else {\n            return 1 / (Math.cos(thetaPrime) + 3.07768 * Math.sin(thetaPrime));\n          }\n        };\n        break;\n    }\n  }\n\n  /* Make sure gridSize is a whole number and is not smaller than 4px */\n  settings.gridSize = Math.max(Math.floor(settings.gridSize), 4);\n\n  /* shorthand */\n  var g = settings.gridSize;\n  var maskRectWidth = g - settings.maskGapWidth;\n\n  /* normalize rotation settings */\n  var rotationRange = Math.abs(settings.maxRotation - settings.minRotation);\n  var minRotation = Math.min(settings.maxRotation, settings.minRotation);\n  var rotationSteps = settings.rotationSteps;\n\n  /* information/object available to all functions, set when start() */\n  var grid, // 2d array containing filling information\n    ngx,\n    ngy, // width and height of the grid\n    center, // position of the center of the cloud\n    maxRadius;\n\n  /* timestamp for measuring each putWord() action */\n  var escapeTime;\n\n  /* function for getting the color of the text */\n  var getTextColor;\n  function random_hsl_color(min, max) {\n    return (\n      'hsl(' +\n      (Math.random() * 360).toFixed() +\n      ',' +\n      (Math.random() * 30 + 70).toFixed() +\n      '%,' +\n      (Math.random() * (max - min) + min).toFixed() +\n      '%)'\n    );\n  }\n  switch (settings.color) {\n    case 'random-dark':\n      getTextColor = function getRandomDarkColor() {\n        return random_hsl_color(10, 50);\n      };\n      break;\n\n    case 'random-light':\n      getTextColor = function getRandomLightColor() {\n        return random_hsl_color(50, 90);\n      };\n      break;\n\n    default:\n      if (typeof settings.color === 'function') {\n        getTextColor = settings.color;\n      }\n      break;\n  }\n\n  /* function for getting the classes of the text */\n  var getTextClasses = null;\n  if (typeof settings.classes === 'function') {\n    getTextClasses = settings.classes;\n  }\n\n  /* Interactive */\n  var interactive = false;\n  var infoGrid = [];\n  var hovered;\n\n  var getInfoGridFromMouseTouchEvent = function getInfoGridFromMouseTouchEvent(evt) {\n    var canvas = evt.currentTarget;\n    var rect = canvas.getBoundingClientRect();\n    var clientX;\n    var clientY;\n    /** Detect if touches are available */\n    if (evt.touches) {\n      clientX = evt.touches[0].clientX;\n      clientY = evt.touches[0].clientY;\n    } else {\n      clientX = evt.clientX;\n      clientY = evt.clientY;\n    }\n    var eventX = clientX - rect.left;\n    var eventY = clientY - rect.top;\n\n    var x = Math.floor((eventX * (canvas.width / rect.width || 1)) / g);\n    var y = Math.floor((eventY * (canvas.height / rect.height || 1)) / g);\n\n    return infoGrid && infoGrid[x] && infoGrid[x][y];\n  };\n\n  var defaultHoverAction = function defaultHoverAction(item, dimension, evt, start) {\n    if (item) {\n      start(item.id);\n    } else {\n      start(-1);\n    }\n  };\n\n  var wordcloudhover = function wordcloudhover(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n\n    if (hovered === info) {\n      return;\n    }\n\n    if (!info) {\n      settings.onWordCloudHover(undefined, undefined, evt, start);\n      if (settings.active) {\n        defaultHoverAction(undefined, undefined, evt, start);\n      }\n      return;\n    }\n\n    settings.onWordCloudHover(info.item, info.dimension, evt, start);\n    if (settings.active) {\n      defaultHoverAction(info.item, info.dimension, evt, start);\n    }\n    hovered = info;\n  };\n\n  var wordcloudclick = function wordcloudclick(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n    if (!info) {\n      return;\n    }\n\n    settings.onWordCloudClick(info.item, info.dimension, evt);\n    evt.preventDefault();\n  };\n\n  /* Get points on the grid for a given radius away from the center */\n  var pointsAtRadius = [];\n  var getPointsAtRadius = function getPointsAtRadius(radius) {\n    if (pointsAtRadius[radius]) {\n      return pointsAtRadius[radius];\n    }\n\n    // Look for these number of points on each radius\n    var T = radius * 8;\n\n    // Getting all the points at this radius\n    var t = T;\n    var points = [];\n\n    if (radius === 0) {\n      points.push([center[0], center[1], 0]);\n    }\n\n    while (t--) {\n      // distort the radius to put the cloud in shape\n      var rx = 1;\n      if (settings.shape !== 'circle') {\n        rx = settings.shape((t / T) * 2 * Math.PI); // 0 to 1\n      }\n\n      // Push [x, y, t]; t is used solely for getTextColor()\n      points.push([\n        center[0] + radius * rx * Math.cos((-t / T) * 2 * Math.PI),\n        center[1] + radius * rx * Math.sin((-t / T) * 2 * Math.PI) * settings.ellipticity,\n        (t / T) * 2 * Math.PI,\n      ]);\n    }\n\n    pointsAtRadius[radius] = points;\n    return points;\n  };\n\n  /* Return true if we had spent too much time */\n  var exceedTime = function exceedTime() {\n    return settings.abortThreshold > 0 && new Date().getTime() - escapeTime > settings.abortThreshold;\n  };\n\n  /* Get the deg of rotation according to settings, and luck. */\n  var getRotateDeg = function getRotateDeg() {\n    if (settings.rotateRatio === 0) {\n      return 0;\n    }\n\n    if (Math.random() > settings.rotateRatio) {\n      return 0;\n    }\n\n    if (rotationRange === 0) {\n      return minRotation;\n    }\n\n    // return minRotation + Math.round(Math.random() * rotationRange / rotationSteps) * rotationSteps;\n\n    if (rotationSteps > 0) {\n      // Min rotation + zero or more steps * span of one step\n      return minRotation + (Math.floor(Math.random() * rotationSteps) * rotationRange) / rotationSteps;\n    } else {\n      return minRotation + Math.random() * rotationRange;\n    }\n  };\n\n  var getTextInfo = function getTextInfo(word, weight, rotateDeg) {\n    // calculate the acutal font size\n    // fontSize === 0 means wants the text skipped,\n    // and size < minSize means we cannot draw the text\n    var debug = false;\n    var fontSize = getRealFontSize(weight);\n    if (fontSize <= 0) {\n      return false;\n    }\n\n    // Scale factor here is to make sure fillText is not limited by\n    // the minium font size set by browser.\n    // It will always be 1 or 2n.\n    var mu = 1;\n    if (fontSize < minFontSize) {\n      mu = (function calculateScaleFactor() {\n        var mu = 2;\n        while (mu * fontSize < minFontSize) {\n          mu += 2;\n        }\n        return mu;\n      })();\n    }\n\n    var fcanvas = document.createElement('canvas');\n    var fctx = fcanvas.getContext('2d', { willReadFrequently: true });\n\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n    // Estimate the dimension of the text with measureText().\n    var fw = fctx.measureText(word).width / mu;\n    var fh = Math.max(fontSize * mu, fctx.measureText('m').width, fctx.measureText('\\uFF37').width) / mu;\n\n    // Create a boundary box that is larger than our estimates,\n    // so text don't get cut of (it sill might)\n    var boxWidth = fw + fh * 2;\n    var boxHeight = fh * 3;\n    var fgw = Math.ceil(boxWidth / g);\n    var fgh = Math.ceil(boxHeight / g);\n    boxWidth = fgw * g;\n    boxHeight = fgh * g;\n\n    // Calculate the proper offsets to make the text centered at\n    // the preferred position.\n\n    // This is simply half of the width.\n    var fillTextOffsetX = -fw / 2;\n    // Instead of moving the box to the exact middle of the preferred\n    // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n    // vertical centered.\n    var fillTextOffsetY = -fh * 0.4;\n\n    // Calculate the actual dimension of the canvas, considering the rotation.\n    var cgh = Math.ceil((boxWidth * Math.abs(Math.sin(rotateDeg)) + boxHeight * Math.abs(Math.cos(rotateDeg))) / g);\n    var cgw = Math.ceil((boxWidth * Math.abs(Math.cos(rotateDeg)) + boxHeight * Math.abs(Math.sin(rotateDeg))) / g);\n    var width = cgw * g;\n    var height = cgh * g;\n\n    fcanvas.setAttribute('width', width);\n    fcanvas.setAttribute('height', height);\n\n    if (debug) {\n      // Attach fcanvas to the DOM\n      document.body.appendChild(fcanvas);\n      // Save it's state so that we could restore and draw the grid correctly.\n      fctx.save();\n    }\n\n    // Scale the canvas with |mu|.\n    fctx.scale(1 / mu, 1 / mu);\n    fctx.translate((width * mu) / 2, (height * mu) / 2);\n    fctx.rotate(-rotateDeg);\n\n    // Once the width/height is set, ctx info will be reset.\n    // Set it again here.\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n    // Fill the text into the fcanvas.\n    // XXX: We cannot because textBaseline = 'top' here because\n    // Firefox and Chrome uses different default line-height for canvas.\n    // Please read https://bugzil.la/737852#c6.\n    // Here, we use textBaseline = 'middle' and draw the text at exactly\n    // 0.5 * fontSize lower.\n    fctx.fillStyle = '#000';\n    fctx.textBaseline = 'middle';\n    fctx.fillText(word, fillTextOffsetX * mu, (fillTextOffsetY + fontSize * 0.5) * mu);\n\n    // Get the pixels of the text\n    var imageData;\n    try {\n      imageData = fctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      // data not long type\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    }\n\n    if (debug) {\n      // Draw the box of the original estimation\n      fctx.strokeRect(fillTextOffsetX * mu, fillTextOffsetY, fw * mu, fh * mu);\n      fctx.restore();\n    }\n\n    // Read the pixels and save the information to the occupied array\n    var occupied = [];\n    var gx = cgw,\n      gy,\n      x,\n      y;\n    var bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2];\n    while (gx--) {\n      gy = cgh;\n      while (gy--) {\n        y = g;\n        singleGridLoop: {\n          while (y--) {\n            x = g;\n            while (x--) {\n              if (imageData[((gy * g + y) * width + (gx * g + x)) * 4 + 3]) {\n                occupied.push([gx, gy]);\n\n                if (gx < bounds[3]) {\n                  bounds[3] = gx;\n                }\n                if (gx > bounds[1]) {\n                  bounds[1] = gx;\n                }\n                if (gy < bounds[0]) {\n                  bounds[0] = gy;\n                }\n                if (gy > bounds[2]) {\n                  bounds[2] = gy;\n                }\n\n                if (debug) {\n                  fctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n                  fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                }\n                break singleGridLoop;\n              }\n            }\n          }\n          if (debug) {\n            fctx.fillStyle = 'rgba(0, 0, 255, 0.5)';\n            fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n          }\n        }\n      }\n    }\n\n    if (debug) {\n      // real bounds\n      fctx.fillStyle = 'rgba(0, 255, 0, 0.5)';\n      fctx.fillRect(bounds[3] * g, bounds[0] * g, (bounds[1] - bounds[3] + 1) * g, (bounds[2] - bounds[0] + 1) * g);\n    }\n\n    // Return information needed to create the text on the real canvas\n    return {\n      mu: mu,\n      occupied: occupied,\n      bounds: bounds,\n      gw: cgw,\n      gh: cgh,\n      fillTextOffsetX: fillTextOffsetX,\n      fillTextOffsetY: fillTextOffsetY,\n      fillTextWidth: fw,\n      fillTextHeight: fh,\n      fontSize: fontSize,\n    };\n  };\n\n  /* Determine if there is room available in the given dimension */\n  var canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n    // Go through the occupied points,\n    // return false if the space is not available.\n    var i = occupied.length;\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        if (!settings.drawOutOfBound) {\n          return false;\n        }\n        continue;\n      }\n\n      if (!grid[px][py]) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /* Actually draw the text on the grid */\n  var drawText = function drawText(gx, gy, info, word, weight, distance, theta, rotateDeg, attributes, id, refresh) {\n    var fontSize = info.fontSize;\n    var color = settings.color;\n    var classes = settings.classes;\n    if (!refresh) {\n      if (getTextColor) {\n        color = getTextColor(word, weight, fontSize, distance, theta);\n      } else {\n        color = settings.color;\n      }\n\n      if (getTextClasses) {\n        classes = getTextClasses(word, weight, fontSize, distance, theta);\n      } else {\n        classes = settings.classes;\n      }\n    } else {\n      const find = getInteractionItemById(id);\n      color = find ? find.color : settings.color;\n    }\n\n    var dimension;\n    var bounds = info.bounds;\n    dimension = {\n      x: (gx + bounds[3]) * g,\n      y: (gy + bounds[0]) * g,\n      w: (bounds[1] - bounds[3] + 1) * g,\n      h: (bounds[2] - bounds[0] + 1) * g,\n    };\n\n    elements.forEach(function (el) {\n      if (el.getContext) {\n        var ctx = el.getContext('2d');\n        var mu = info.mu;\n\n        // Save the current state before messing it\n        ctx.save();\n        const font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n        ctx.scale(1 / mu, 1 / mu);\n\n        ctx.font = font;\n        ctx.fillStyle = color;\n\n        // Translate the canvas position to the origin coordinate of where\n        // the text should be put.\n        let transX = (gx + info.gw / 2) * g * mu;\n        let transY = (gy + info.gh / 2) * g * mu;\n        ctx.translate(transX, transY);\n\n        if (rotateDeg !== 0) {\n          ctx.rotate(-rotateDeg);\n        }\n\n        // Finally, fill the text.\n\n        // XXX: We cannot because textBaseline = 'top' here because\n        // Firefox and Chrome uses different default line-height for canvas.\n        // Please read https://bugzil.la/737852#c6.\n        // Here, we use textBaseline = 'middle' and draw the text at exactly\n        // 0.5 * fontSize lower.\n        ctx.textBaseline = 'middle';\n        if (settings.selected === id) {\n          ctx.shadowColor = settings.shadowColor;\n          ctx.shadowBlur = settings.shadowBlur;\n        }\n        ctx.fillText(word, info.fillTextOffsetX * mu, (info.fillTextOffsetY + fontSize * 0.5) * mu);\n\n        // The below box is always matches how <span>s are positioned\n        // ctx.strokeRect(info.fillTextOffsetX, info.fillTextOffsetY,\n        //   info.fillTextWidth, info.fillTextHeight);\n\n        if (!refresh) {\n          interactionItems.push({\n            gx: gx,\n            gy: gy,\n            info: info,\n            word: word,\n            weight: weight,\n            distance: distance,\n            theta: theta,\n            rotateDeg: rotateDeg,\n            attributes: attributes,\n            id: id,\n            color: color,\n          });\n        }\n        // Restore the state.\n        ctx.restore();\n      } else {\n        // drawText on DIV element\n        var span = document.createElement('span');\n        var transformRule = '';\n        transformRule = 'rotate(' + (-rotateDeg / Math.PI) * 180 + 'deg) ';\n        if (info.mu !== 1) {\n          transformRule += 'translateX(-' + info.fillTextWidth / 4 + 'px) ' + 'scale(' + 1 / info.mu + ')';\n        }\n        var styleRules = {\n          position: 'absolute',\n          display: 'block',\n          font: settings.fontWeight + ' ' + fontSize * info.mu + 'px ' + settings.fontFamily,\n          left: (gx + info.gw / 2) * g + info.fillTextOffsetX + 'px',\n          top: (gy + info.gh / 2) * g + info.fillTextOffsetY + 'px',\n          width: info.fillTextWidth + 'px',\n          height: info.fillTextHeight + 'px',\n          lineHeight: fontSize + 'px',\n          whiteSpace: 'nowrap',\n          transform: transformRule,\n          webkitTransform: transformRule,\n          msTransform: transformRule,\n          transformOrigin: '50% 40%',\n          webkitTransformOrigin: '50% 40%',\n          msTransformOrigin: '50% 40%',\n        };\n        if (color) {\n          styleRules.color = color;\n        }\n        span.textContent = word;\n        for (var cssProp in styleRules) {\n          span.style[cssProp] = styleRules[cssProp];\n        }\n        if (attributes) {\n          for (var attribute in attributes) {\n            span.setAttribute(attribute, attributes[attribute]);\n          }\n        }\n        if (classes) {\n          span.className += classes;\n        }\n        el.appendChild(span);\n      }\n    });\n  };\n\n  /* Help function to updateGrid */\n  var fillGridAt = function fillGridAt(x, y, drawMask, dimension, item) {\n    if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n      return;\n    }\n\n    grid[x][y] = false;\n\n    if (drawMask) {\n      var ctx = elements[0].getContext('2d');\n      ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth);\n    }\n\n    if (interactive) {\n      infoGrid[x][y] = { item: item, dimension: dimension };\n    }\n  };\n\n  /* Update the filling information of the given space with occupied points.\n     Draw the mask on the canvas if necessary. */\n  var updateGrid = function updateGrid(gx, gy, gw, gh, info) {\n    var occupied = info.occupied;\n    var drawMask = settings.drawMask;\n    var ctx;\n    if (drawMask) {\n      ctx = elements[0].getContext('2d');\n      ctx.save();\n      ctx.fillStyle = settings.maskColor;\n    }\n\n    var dimension;\n    if (interactive) {\n      var bounds = info.bounds;\n      dimension = {\n        x: (gx + bounds[3]) * g,\n        y: (gy + bounds[0]) * g,\n        w: (bounds[1] - bounds[3] + 1) * g,\n        h: (bounds[2] - bounds[0] + 1) * g,\n      };\n    }\n\n    var i = occupied.length;\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        continue;\n      }\n\n      // save item's color from info\n      const find = getInteractionItemById(info.item.id);\n      if (find) {\n        info.item.color = find.color;\n      }\n      fillGridAt(px, py, drawMask, dimension, info.item);\n    }\n\n    if (drawMask) {\n      ctx.restore();\n    }\n  };\n\n  var tryToPutWordAtPoint = function tryToPutWordAtPoint(gxy, info, word, weight, distance, rotateDeg, attributes, id) {\n    var gx = Math.floor(gxy[0] - info.gw / 2);\n    var gy = Math.floor(gxy[1] - info.gh / 2);\n    var gw = info.gw;\n    var gh = info.gh;\n\n    // If we cannot fit the text at this position, return false\n    // and go to the next position.\n    if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n      return false;\n    }\n\n    // Actually put the text on the canvas\n    drawText(gx, gy, info, word, weight, distance, gxy[2], rotateDeg, attributes, id, false);\n\n    // Mark the spaces on the grid as filled\n    updateGrid(gx, gy, gw, gh, info);\n\n    return {\n      gx: gx,\n      gy: gy,\n      rot: rotateDeg,\n      info: info,\n    };\n  };\n\n  /* putWord() processes each item on the list,\n     calculate it's size and determine it's position, and actually\n     put it on the canvas. */\n  var putWord = function putWord(item) {\n    var word, weight, attributes, id;\n    if (Array.isArray(item)) {\n      word = item[0];\n      weight = item[1];\n    } else {\n      word = item.word;\n      weight = item.weight;\n      attributes = item.attributes;\n      id = item.id;\n    }\n    var rotateDeg = getRotateDeg();\n\n    // get info needed to put the text onto the canvas\n    var info = getTextInfo(word, weight, rotateDeg);\n    if (info) {\n      info['item'] = item;\n    }\n\n    // not getting the info means we shouldn't be drawing this one.\n    if (!info) {\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    }\n\n    // If drawOutOfBound is set to false,\n    // skip the loop if we have already know the bounding box of\n    // word is larger than the canvas.\n    if (!settings.drawOutOfBound) {\n      var bounds = info.bounds;\n      if (bounds[1] - bounds[3] + 1 > ngx || bounds[2] - bounds[0] + 1 > ngy) {\n        return false;\n      }\n    }\n\n    // Determine the position to put the text by\n    // start looking for the nearest points\n    var r = maxRadius + 1;\n\n    while (r--) {\n      var points = getPointsAtRadius(maxRadius - r);\n\n      if (settings.shuffle) {\n        points = [].concat(points);\n        shuffleArray(points);\n      }\n\n      // Try to fit the words by looking at each point.\n      // array.some() will stop and return true\n      // when putWordAtPoint() returns true.\n      for (var i = 0; i < points.length; i++) {\n        var res = tryToPutWordAtPoint(points[i], info, word, weight, maxRadius - r, rotateDeg, attributes, id);\n        if (res) {\n          return res;\n        }\n      }\n\n      // var drawn = points.some(tryToPutWordAtPoint);\n      // if (drawn) {\n      //   // leave putWord() and return true\n      //   return true;\n      // }\n    }\n    // we tried all distances but text won't fit, return null\n    return null;\n  };\n\n  /* Send DOM event to all elements. Will stop sending event and return\n     if the previous one is canceled (for cancelable events). */\n  var sendEvent = function sendEvent(type, cancelable, detail) {\n    if (cancelable) {\n      return !elements.some(function (el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        return !el.dispatchEvent(evt);\n      }, this);\n    } else {\n      elements.forEach(function (el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        el.dispatchEvent(evt);\n      }, this);\n    }\n  };\n\n  var getInteractionItemById = function getInteractionItemById(id) {\n    for (let i = 0; i < interactionItems.length; i++) {\n      const find = interactionItems[i];\n      if (interactionItems[i].id === id) {\n        return find;\n      }\n    }\n    return undefined;\n  };\n\n  /* Start drawing on a canvas */\n  var start = function start(selected) {\n    if (selected !== undefined) {\n      // re-refresh canvas with selected\n      // work in canvas only for now\n      if (settings.selected !== selected && elements[0].getContext) {\n        settings.selected = selected;\n        const ctx = elements[0].getContext('2d');\n        // draw background\n        ctx.fillStyle = settings.backgroundColor;\n        ctx.clearRect(0, 0, elements[0].width, elements[0].height);\n        ctx.fillRect(0, 0, elements[0].width, elements[0].height);\n\n        // draw text\n        for (let i = 0; i < interactionItems.length; i++) {\n          const find = interactionItems[i];\n          drawText(\n            find.gx,\n            find.gy,\n            find.info,\n            find.word,\n            find.weight,\n            find.distance,\n            find.theta,\n            find.rotateDeg,\n            find.attributes,\n            find.id,\n            true\n          );\n        }\n      }\n      return;\n    }\n    // For dimensions, clearCanvas etc.,\n    // we only care about the first element.\n    var canvas = elements[0];\n\n    if (canvas.getContext) {\n      ngx = Math.ceil(canvas.width / g);\n      ngy = Math.ceil(canvas.height / g);\n    } else {\n      var rect = canvas.getBoundingClientRect();\n      ngx = Math.ceil(rect.width / g);\n      ngy = Math.ceil(rect.height / g);\n    }\n\n    // Sending a wordcloudstart event which cause the previous loop to stop.\n    // Do nothing if the event is canceled.\n    if (!sendEvent('wordcloudstart', true)) {\n      return;\n    }\n\n    // Determine the center of the word cloud\n    center = settings.origin ? [settings.origin[0] / g, settings.origin[1] / g] : [ngx / 2, ngy / (isCardioid ? 4 : 2)];\n\n    // Maxium radius to look for space\n    maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy));\n\n    /* Clear the canvas only if the clearCanvas is set,\n       if not, update the grid to the current canvas state */\n    grid = [];\n\n    var gx, gy, i;\n    if (!canvas.getContext || settings.clearCanvas) {\n      elements.forEach(function (el) {\n        if (el.getContext) {\n          var ctx = el.getContext('2d');\n          ctx.fillStyle = settings.backgroundColor;\n          ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n          ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n        } else {\n          el.textContent = '';\n          el.style.backgroundColor = settings.backgroundColor;\n          el.style.position = 'relative';\n        }\n      });\n\n      /* fill the grid with empty state */\n      gx = ngx;\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n        while (gy--) {\n          grid[gx][gy] = true;\n        }\n      }\n    } else {\n      /* Determine bgPixel by creating\n         another canvas and fill the specified background color. */\n      var bctx = document.createElement('canvas').getContext('2d');\n\n      bctx.fillStyle = settings.backgroundColor;\n      bctx.fillRect(0, 0, 1, 1);\n      var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n      /* Read back the pixels of the canvas we got to tell which part of the\n         canvas is empty.\n         (no clearCanvas only works with a canvas, not divs) */\n      var imageData = canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data;\n\n      gx = ngx;\n      var x, y;\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n        while (gy--) {\n          y = g;\n          singleGridLoop: while (y--) {\n            x = g;\n            while (x--) {\n              i = 4;\n              while (i--) {\n                if (imageData[((gy * g + y) * ngx * g + (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                  grid[gx][gy] = false;\n                  break singleGridLoop;\n                }\n              }\n            }\n          }\n          if (grid[gx][gy] !== false) {\n            grid[gx][gy] = true;\n          }\n        }\n      }\n\n      imageData = bctx = bgPixel = undefined;\n    }\n\n    // fill the infoGrid with empty state if we need it\n    if (settings.onWordCloudHover || settings.onWordCloudClick) {\n      interactive = true;\n\n      /* fill the grid with empty state */\n      gx = ngx + 1;\n      while (gx--) {\n        infoGrid[gx] = [];\n      }\n\n      if (settings.onWordCloudHover) {\n        canvas.addEventListener('mousemove', wordcloudhover);\n      }\n\n      if (settings.onWordCloudClick) {\n        canvas.addEventListener('click', wordcloudclick);\n        canvas.addEventListener('touchstart', wordcloudclick);\n        canvas.addEventListener('touchend', function (e) {\n          e.preventDefault();\n        });\n        canvas.style.webkitTapHighlightColor = 'rgba(0, 0, 0, 0)';\n      }\n\n      canvas.addEventListener('wordcloudstart', function stopInteraction() {\n        canvas.removeEventListener('wordcloudstart', stopInteraction);\n\n        canvas.removeEventListener('mousemove', wordcloudhover);\n        canvas.removeEventListener('click', wordcloudclick);\n        hovered = undefined;\n      });\n    }\n\n    if (!settings.animatable) {\n      for (let i = 0; i < settings.data.length; i++) {\n        putWord(settings.data[i]);\n      }\n    } else {\n      i = 0;\n      var loopingFunction, stoppingFunction;\n      if (settings.wait !== 0) {\n        loopingFunction = window.setTimeout;\n        stoppingFunction = window.clearTimeout;\n      } else {\n        loopingFunction = window.setImmediate;\n        stoppingFunction = window.clearImmediate;\n      }\n\n      var addEventListener = function addEventListener(type, listener) {\n        elements.forEach(function (el) {\n          el.addEventListener(type, listener);\n        }, this);\n      };\n\n      var removeEventListener = function removeEventListener(type, listener) {\n        elements.forEach(function (el) {\n          el.removeEventListener(type, listener);\n        }, this);\n      };\n\n      var anotherWordCloudStart = function anotherWordCloudStart() {\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n        stoppingFunction(timer);\n      };\n\n      addEventListener('wordcloudstart', anotherWordCloudStart);\n\n      var timer = loopingFunction(function loop() {\n        if (i >= settings.data.length) {\n          stoppingFunction(timer);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n\n          return;\n        }\n        escapeTime = new Date().getTime();\n        var drawn = putWord(settings.data[i]);\n        var canceled = !sendEvent('wordclouddrawn', true, {\n          item: settings.data[i],\n          drawn: drawn,\n        });\n        if (exceedTime() || canceled) {\n          stoppingFunction(timer);\n          settings.abort();\n          sendEvent('wordcloudabort', false);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n          return;\n        }\n        i++;\n        timer = loopingFunction(loop, settings.wait);\n      }, settings.wait);\n    }\n  };\n\n  // All set, start the drawing\n  start();\n};\n\nWordCloud.isSupported = isSupported;\nWordCloud.minFontSize = minFontSize;\n\nexport default WordCloud;\n","/**\n * Create By Bruce Too\n * On 2020-02-17\n */\nimport { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RoseLayer, { RoseViewConfig } from './layer';\n\nexport interface RoseConfig extends RoseViewConfig, PlotConfig {}\n\n// TODO label https://github.com/antvis/G2Plot/blob/master/src/plots/rose/component/label/rose-label.ts\nexport default class Rose extends BasePlot<RoseConfig> {\n  public static getDefaultOptions: typeof RoseLayer.getDefaultOptions = RoseLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'rose';\n    super.createLayers(layerProps);\n  }\n\n  public getRadiusScale() {\n    const layer: any = this.layers[0];\n    return layer.getRadiusScale();\n  }\n\n  public getAngleScale() {\n    const layer: any = this.layers[0];\n    return layer.getAngleScale();\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  rose: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport FunnelLayer, { FunnelViewConfig } from './layer';\n\nexport interface FunnelConfig extends FunnelViewConfig, PlotConfig {}\n\nexport default class Funnel extends BasePlot<FunnelConfig> {\n  public static getDefaultOptions: typeof FunnelLayer.getDefaultOptions = FunnelLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'funnel';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, contains, isFunction, get, findIndex, isEqual, each, set, isArray, assign } from '@antv/util';\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport {\n  IGroup,\n  IShape,\n  Element,\n  HtmlTooltipTheme,\n  TooltipCssConst,\n  DEFAULT_ANIMATE_CFG,\n  _ORIGIN,\n} from '../../dependents';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, DataItem, LineStyle, TextStyle } from '../../interface/config';\nimport './theme';\nimport './geometry/shape/funnel-basic-rect';\nimport './geometry/shape/funnel-dynamic-rect';\nimport './animation/funnel-scale-in-x';\nimport './animation/funnel-scale-in-y';\nimport { mappingColor, rgb2arr } from '../../util/color';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'funnel',\n};\n\nexport interface FunnelStyle {\n  [k: string]: any;\n}\n\nexport interface FunnelViewConfig extends ViewConfig {\n  funnelStyle?: FunnelStyle | ((...args: any[]) => FunnelStyle);\n  percentage?: Partial<{\n    visible: boolean;\n    line: Partial<{\n      visible: boolean;\n      style: LineStyle;\n    }>;\n    text: Partial<{\n      visible: boolean;\n      content: string;\n      style: TextStyle;\n    }>;\n    value: Partial<{\n      visible: boolean;\n      style: TextStyle;\n      formatter: (yValueUpper: any, yValueLower: any) => string;\n    }>;\n    offsetX: number;\n    offsetY: number;\n    spacing: number;\n  }>;\n  transpose?: boolean;\n  dynamicHeight?: boolean;\n  compareField?: string;\n  compareText?: Partial<{\n    visible: boolean;\n    offsetX: number;\n    offsetY: number;\n    style: TextStyle;\n  }>;\n}\n\nexport interface FunnelLayerConfig extends FunnelViewConfig, LayerConfig {}\n\nexport default class FunnelLayer<T extends FunnelLayerConfig = FunnelLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(props?: Partial<FunnelViewConfig>): Partial<FunnelViewConfig> {\n    const cfg: Partial<FunnelViewConfig> = {\n      label: {\n        visible: true,\n        adjustColor: true,\n      },\n      percentage: {\n        visible: true,\n        offsetX: props.transpose ? 0 : 40,\n        offsetY: props.transpose ? 40 : 0,\n        spacing: 4,\n        line: {\n          visible: true,\n          style: {\n            lineWidth: 1,\n            stroke: 'rgba(0, 0, 0, 0.15)',\n          },\n        },\n        text: {\n          content: '',\n          style: {\n            fill: 'rgba(0, 0, 0, 0.65)',\n          },\n        },\n        value: {\n          visible: true,\n          style: {\n            fill: 'black',\n          },\n          formatter: (yValueUpper, yValueLower) => `${((100 * yValueLower) / yValueUpper).toFixed(2)}%`,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showTitle: false,\n        showCrosshairs: false,\n        showMarkers: false,\n      },\n      animation: deepMix({}, DEFAULT_ANIMATE_CFG, {\n        appear: {\n          duration: 800,\n        },\n      }),\n      dynamicHeight: false,\n      compareText: {\n        visible: true,\n        offsetX: -16,\n        offsetY: -16,\n        style: {\n          fill: 'black',\n        },\n      },\n      legend: {\n        position: 'bottom-center',\n      },\n      interactions: [{ type: 'tooltip' }, { type: 'legend-filter' }],\n    };\n    return deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public readonly type: string = 'funnel';\n  public funnel: any;\n\n  private _animationAppearTimeoutHandler: any;\n  private _shouldResetPercentages: boolean = true;\n  private _shouldResetLabels: boolean = true;\n  private _shouldResetCompareTexts: boolean = true;\n  private _legendsListenerAttached: boolean = false;\n\n  constructor(props: T) {\n    super(props);\n    this.adjustProps(this.options);\n\n    if (props.dynamicHeight) {\n      this._genCustomFieldForDynamicHeight(this.getData());\n    }\n\n    if (props.compareField) {\n      this.options.data = this._reduceDataForCompare(this.getData());\n    }\n  }\n\n  public getColorScale() {\n    const { xField } = this.options;\n    if (xField) {\n      return this.view.getScaleByField(xField);\n    }\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      type: 'rect',\n      actions: props.transpose\n        ? props.dynamicHeight\n          ? [['transpose'], ['scale', 1, -1]]\n          : [['scale', 1, -1]]\n        : props.dynamicHeight\n        ? []\n        : [['transpose'], ['scale', 1, -1]],\n    };\n    // @ts-ignore\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected axis(): void {\n    this.setConfig('axes', false);\n  }\n\n  protected adjustFunnel(funnel: ElementOption) {\n    const props = this.options;\n\n    // @ts-ignore\n    funnel.shape = props.dynamicHeight ? 'funnel-dynamic-rect' : 'funnel-basic-rect';\n\n    funnel.color = {\n      fields: [props.xField],\n      values: props.color && (Array.isArray(props.color) ? props.color : [props.color]),\n    };\n\n    if (isFunction(props.funnelStyle)) {\n      // @ts-ignore\n      funnel.style = { callback: props.funnelStyle };\n    } else {\n      // @ts-ignore\n      funnel.style = { cfg: props.funnelStyle };\n    }\n\n    funnel.adjust = [\n      {\n        type: props.dynamicHeight ? 'stack' : 'symmetric',\n      },\n    ];\n  }\n\n  protected tooltip() {\n    const props = this.options;\n\n    if (props.compareField) {\n      deepMix(props.tooltip, {\n        htmlContent: (title, items) => {\n          let clss, el, color, elMarker;\n\n          clss = TooltipCssConst.CONTAINER_CLASS;\n          el = createDom(`<div class=\"${clss}\"></div>`);\n          modifyCSS(el, HtmlTooltipTheme[clss]);\n          const elRoot = el;\n\n          if (title) {\n            clss = TooltipCssConst.TITLE_CLASS;\n            el = createDom(`<div class=\"${clss}\"></div>`);\n            modifyCSS(el, HtmlTooltipTheme[clss]);\n            elRoot.appendChild(el);\n            const elTitle = el;\n\n            clss = TooltipCssConst.MARKER_CLASS;\n            el = createDom(`<span class=\"${clss}\"></span>`);\n            modifyCSS(el, HtmlTooltipTheme[clss]);\n            modifyCSS(el, { width: '10px', height: '10px' });\n            elTitle.appendChild(el);\n            elMarker = el;\n\n            el = createDom(`<span>${title}</span>`);\n            elTitle.appendChild(el);\n          }\n\n          if (items) {\n            clss = TooltipCssConst.LIST_CLASS;\n            el = createDom(`<ul class=\"${clss}\"></ul>`);\n            modifyCSS(el, HtmlTooltipTheme[clss]);\n            elRoot.appendChild(el);\n            const elList = el;\n\n            items\n              .reduce((pairs, item) => {\n                if (!color) {\n                  color = item.color;\n                }\n                const compareValues = get(item, 'point._origin.__compare__.compareValues');\n                const yValues = get(item, 'point._origin.__compare__.yValues');\n                yValues.forEach((yValue, i) => pairs.push([compareValues[i], yValue]));\n                return pairs;\n              }, [])\n              .forEach(([compareValue, yValue], index) => {\n                clss = TooltipCssConst.LIST_ITEM_CLASS;\n                el = createDom(`<li class=\"${clss}\" data-index=${index}></li>`);\n                modifyCSS(el, HtmlTooltipTheme[clss]);\n                elList.appendChild(el);\n                const elListItem = el;\n\n                clss = TooltipCssConst.NAME_CLASS;\n                el = createDom(`<span class=\"${clss}\">${compareValue}</span>`);\n                modifyCSS(el, HtmlTooltipTheme[clss]);\n                elListItem.appendChild(el);\n\n                clss = TooltipCssConst.VALUE_CLASS;\n                el = createDom(`<span class=\"${clss}\">${yValue}</span>`);\n                modifyCSS(el, HtmlTooltipTheme[clss]);\n                elListItem.appendChild(el);\n              });\n          }\n\n          if (color && elMarker) {\n            modifyCSS(elMarker, { backgroundColor: color });\n          }\n\n          return elRoot;\n        },\n      });\n    }\n\n    super.tooltip();\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const funnel = getGeom('interval', 'main', {\n      positionFields: [props.dynamicHeight ? '_' : props.xField, props.yField],\n      plot: this,\n    });\n    this.adjustFunnel(funnel);\n    this.funnel = funnel;\n    this.setConfig('geometry', funnel);\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /**  */\n      this.funnel.animate = false;\n    } else {\n      const data = this.getData();\n      const appearDuration = get(props, 'animation.appear.duration');\n      const appearDurationEach = appearDuration / (data.length || 1);\n\n      if (this._animationAppearTimeoutHandler) {\n        clearTimeout(this._animationAppearTimeoutHandler);\n        delete this._animationAppearTimeoutHandler;\n      }\n      this._animationAppearTimeoutHandler = setTimeout(() => {\n        this.fadeInPercentages(appearDurationEach);\n        if (props.compareField) {\n          this.fadeInCompareTexts(appearDurationEach);\n        }\n        delete this._animationAppearTimeoutHandler;\n      }, appearDuration);\n\n      this.funnel.animate = deepMix({}, props.animation, {\n        appear: {\n          animation: props.transpose ? 'funnelScaleInX' : 'funnelScaleInY',\n          duration: appearDurationEach,\n          delay: (datum) => findIndex(data, (o) => isEqual(o, datum)) * appearDurationEach,\n          callback: (shape) => {\n            this.fadeInLabels(shape, 0.5 * appearDurationEach);\n          },\n        },\n        enter: {\n          animation: 'fade-in',\n        },\n      });\n    }\n  }\n\n  public afterRender() {\n    const props = this.options;\n    this.resetLabels();\n    this.resetPercentages();\n    if (props.compareField) {\n      this.resetCompareTexts();\n    }\n\n    if (props.padding == 'auto') {\n      const percentageContainer = this._findPercentageContainer();\n      if (percentageContainer) {\n        this.paddingController.registerPadding(percentageContainer, 'inner', true);\n      }\n      const compareTextContainer = this._findCompareTextContainer();\n      if (compareTextContainer) {\n        this.paddingController.registerPadding(compareTextContainer, 'inner', true);\n      }\n    }\n\n    super.afterRender();\n\n    if (props.animation === false) {\n      this.fadeInLabels();\n      this.fadeInPercentages();\n      if (props.compareField) {\n        this.fadeInCompareTexts();\n      }\n    }\n\n    if (!this._legendsListenerAttached) {\n      this._legendsListenerAttached = true;\n      // @ts-ignore\n      const legendContainer = this.view.getController('legend').container;\n      legendContainer.on('mousedown', this._onLegendContainerMouseDown);\n    }\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    cfg = this.adjustProps(cfg);\n    super.updateConfig(cfg);\n    this._legendsListenerAttached = false;\n  }\n\n  public changeData(data: DataItem[]): void {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      this._shouldResetPercentages = false;\n      this._shouldResetLabels = false;\n    }\n\n    if (props.dynamicHeight) {\n      const checkedData = this._findCheckedDataInNewData(data);\n      this._genCustomFieldForDynamicHeight(checkedData);\n    }\n\n    if (props.compareField) {\n      data = this._reduceDataForCompare(data);\n      const checkedData = this._findCheckedDataInNewData(data);\n      this._updateDataForCompare(checkedData);\n    }\n\n    super.changeData(data);\n\n    this.refreshPercentages();\n    this.refreshLabels();\n    if (props.compareField) {\n      this.fadeInCompareTexts();\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected adjustProps(props: Partial<T>) {\n    if (props.compareField) {\n      props.dynamicHeight = false;\n    }\n\n    if (props.dynamicHeight) {\n      set(props, `meta.${props.yField}.nice`, false);\n      set(props, 'tooltip.shared', false);\n    }\n    return props;\n  }\n\n  protected resetPercentages() {\n    if (!this._shouldResetPercentages) return;\n\n    const props = this.options;\n    const {\n      offsetX,\n      offsetY,\n      spacing,\n      line: percentageLine = {},\n      text: percentageText = {},\n      value: percentageValue = {},\n    } = props.percentage || {};\n\n    const adjustTimestamp = Date.now();\n    const container = this._findPercentageContainer(true);\n\n    this._eachShape((shape, index, datumLower, datumUpper) => {\n      if (index > 0) {\n        const { minX, maxX, maxY, minY } = shape.getBBox();\n        const x1 = props.transpose ? minX : maxX;\n        const y1 = props.transpose ? (props.compareField ? maxY : minY) : minY;\n\n        const { line, text, value } = this._findPercentageMembersInContainerByIndex(container, index, true);\n\n        const eachProcs = [\n          (x, y, line, text, value) => {\n            if (line) {\n              line.attr(\n                deepMix({}, percentageLine.style, {\n                  x1: x,\n                  y1: y,\n                  x2: props.transpose ? x + offsetX : x - offsetX,\n                  y2: props.transpose ? y - offsetY : y + offsetY,\n                  opacity: 0,\n                })\n              );\n              line.set('adjustTimestamp', adjustTimestamp);\n            }\n\n            let textWidth = 0;\n            let valueWidth = 0;\n\n            const textProc = () => {\n              if (text) {\n                text.attr(\n                  deepMix({}, percentageText.style, {\n                    x: props.transpose ? x + offsetX : x - offsetX - spacing - valueWidth - spacing,\n                    y: props.transpose ? y - offsetY - spacing : y + offsetY,\n                    opacity: 0,\n                    text: percentageText.content,\n                    textAlign: props.transpose ? 'left' : 'right',\n                    textBaseline: props.transpose ? 'bottom' : 'middle',\n                  })\n                );\n                text.set('adjustTimestamp', adjustTimestamp);\n                textWidth = text.getBBox().width;\n              }\n            };\n\n            const valueProc = () => {\n              if (value) {\n                value.attr(\n                  deepMix({}, percentageValue.style, {\n                    x: props.transpose ? x + offsetX + textWidth + spacing : x - offsetX - spacing,\n                    y: props.transpose ? y - offsetY - spacing : y + offsetY,\n                    opacity: 0,\n                    text: isFunction(percentageValue.formatter)\n                      ? props.compareField\n                        ? percentageValue.formatter(\n                            get(datumUpper, '__compare__.yValues.0'),\n                            get(datumLower, '__compare__.yValues.0')\n                          )\n                        : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField])\n                      : '',\n                    textAlign: props.transpose ? 'left' : 'right',\n                    textBaseline: props.transpose ? 'bottom' : 'middle',\n                  })\n                );\n                value.set('adjustTimestamp', adjustTimestamp);\n                valueWidth = value.getBBox().width;\n              }\n            };\n\n            if (props.transpose) {\n              textProc();\n              valueProc();\n            } else {\n              valueProc();\n              textProc();\n            }\n          },\n          (x, y, line, text, value) => {\n            if (line) {\n              line.attr(\n                deepMix({}, percentageLine.style, {\n                  x1: x,\n                  y1: y,\n                  x2: x + offsetX,\n                  y2: props.transpose ? (props.compareField ? y + offsetY : y - offsetY) : y + offsetY,\n                  opacity: 0,\n                })\n              );\n              line.set('adjustTimestamp', adjustTimestamp);\n            }\n\n            let textWidth = 0;\n            if (text) {\n              text.attr(\n                deepMix({}, percentageText.style, {\n                  x: props.transpose ? x + offsetX : x + offsetX + spacing,\n                  y: props.transpose\n                    ? props.compareField\n                      ? y + offsetY + spacing\n                      : y - offsetY - spacing\n                    : y + offsetY,\n                  opacity: 0,\n                  text: percentageText.content,\n                  textAlign: 'left',\n                  textBaseline: props.transpose ? (props.compareField ? 'top' : 'bottom') : 'middle',\n                })\n              );\n              text.set('adjustTimestamp', adjustTimestamp);\n              textWidth = text.getBBox().width;\n            }\n\n            if (value) {\n              value.attr(\n                deepMix({}, percentageValue.style, {\n                  x: props.transpose ? x + offsetX + textWidth + spacing : x + offsetX + spacing + textWidth + spacing,\n                  y: props.transpose\n                    ? props.compareField\n                      ? y + offsetY + spacing\n                      : y - offsetY - spacing\n                    : y + offsetY,\n                  opacity: 0,\n                  text: isFunction(percentageValue.formatter)\n                    ? props.compareField\n                      ? percentageValue.formatter(\n                          get(datumUpper, `__compare__.yValues.1`),\n                          get(datumLower, `__compare__.yValues.1`)\n                        )\n                      : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField])\n                    : '',\n                  textAlign: 'left',\n                  textBaseline: props.transpose ? (props.compareField ? 'top' : 'bottom') : 'middle',\n                })\n              );\n              value.set('adjustTimestamp', adjustTimestamp);\n            }\n          },\n        ];\n\n        if (props.compareField) {\n          const [x0, y0] = [minX, minY];\n          [\n            [x0, y0],\n            [x1, y1],\n          ].forEach(([x, y], i) => eachProcs[i](x, y, line && line[i], text && text[i], value && value[i]));\n        } else {\n          eachProcs[1](x1, y1, line, text, value);\n        }\n      }\n      datumUpper = datumLower;\n      index++;\n    });\n\n    container.get('children').forEach((child) => {\n      if (child.get('adjustTimestamp') != adjustTimestamp) {\n        child.attr({ opacity: 0 });\n        container.set(child.get('id'), null);\n        setTimeout(() => child.remove(), 0);\n      }\n    });\n  }\n\n  protected fadeInPercentages(duration?, callback?) {\n    const props = this.options;\n    const container = this._findPercentageContainer();\n\n    const eachProc = (i?) => {\n      const lastBBox = { minX: Infinity, maxX: -Infinity, minY: Infinity, maxY: -Infinity };\n      this._eachShape((shape, index) => {\n        const members = this._findPercentageMembersInContainerByIndex(container, index);\n\n        const currBBox = { minX: Infinity, maxX: -Infinity, minY: Infinity, maxY: -Infinity };\n        const eachCalc = (member) => {\n          if (member && member.get('type') == 'text') {\n            const { minX, maxX, minY, maxY } = member.getBBox();\n            if (minX < currBBox.minX) currBBox.minX = minX;\n            if (maxX > currBBox.maxX) currBBox.maxX = maxX;\n            if (minY < currBBox.minY) currBBox.minY = minY;\n            if (maxY > currBBox.maxY) currBBox.maxY = maxY;\n          }\n        };\n        each(members, (member) => (isArray(member) ? eachCalc(member[i]) : eachCalc(member)));\n\n        if (\n          currBBox.minX > lastBBox.maxX ||\n          currBBox.maxX < lastBBox.minX ||\n          currBBox.minY > lastBBox.maxY ||\n          currBBox.maxY < lastBBox.minY\n        ) {\n          const eachShow = (member) => {\n            if (member) {\n              const attrs = {\n                opacity: 1,\n              };\n              duration ? member.animate(attrs, duration) : member.attr(attrs);\n            }\n          };\n          each(members, (member) => (isArray(member) ? eachShow(member[i]) : eachShow(member)));\n          assign(lastBBox, currBBox);\n        }\n      });\n    };\n\n    props.compareField ? [0, 1].forEach(eachProc) : eachProc();\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected fadeOutPercentages(duration?, callback?) {\n    const container = this._findPercentageContainer();\n\n    this._eachShape((shape, index) => {\n      const members = this._findPercentageMembersInContainerByIndex(container, index);\n\n      const eachProc = (member) => {\n        if (member) {\n          const attrs = {\n            opacity: 0,\n          };\n          duration ? member.animate(attrs, duration) : member.attr(attrs);\n        }\n      };\n      each(members, (member) => (isArray(member) ? member.forEach(eachProc) : eachProc(member)));\n    });\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected refreshPercentages(callback?) {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      const { fadeOutDuration, fadeInDuration } = this._calcRefreshFadeDurations();\n\n      this._shouldResetPercentages = false;\n      this.fadeOutPercentages(fadeOutDuration, () => {\n        this._shouldResetPercentages = true;\n        this.resetPercentages();\n        this.fadeInPercentages(fadeInDuration, callback);\n      });\n    }\n  }\n\n  private _findPercentageContainer(createIfNotFound: boolean = false): IGroup | undefined {\n    const { middleGroup } = this.view;\n\n    let percentageContainer = middleGroup.get('percentageContainer');\n    if (!percentageContainer && createIfNotFound) {\n      percentageContainer = middleGroup.addGroup();\n      middleGroup.set('percentageContainer', percentageContainer);\n    }\n\n    return percentageContainer;\n  }\n\n  private _findPercentageMembersInContainerByIndex(\n    container: IGroup,\n    index: number,\n    createIfNotFound: boolean = false\n  ) {\n    const props = this.options;\n    const { visible, line: percentageLine = {}, text: percentageText = {}, value: percentageValue = {} } =\n      props.percentage || {};\n\n    const members = {\n      line: undefined,\n      text: undefined,\n      value: undefined,\n    };\n\n    if (visible === false || !container) {\n      return members;\n    }\n\n    if (percentageLine.visible !== false) {\n      const find = (i) => {\n        const lineId = `_percentage-line-${index}-${i}`;\n        let line = container.get(lineId);\n        if (!line && createIfNotFound) {\n          line = container.addShape({ id: lineId, type: 'line', attrs: {} });\n          container.set(lineId, line);\n        }\n        return line;\n      };\n      const line = props.compareField ? [0, 1].map(find) : find(0);\n      members.line = line;\n    }\n\n    if (percentageText.visible !== false) {\n      const find = (i) => {\n        const textId = `_percentage-text-${index}-${i}`;\n        let text = container.get(textId);\n        if (!text && createIfNotFound) {\n          text = container.addShape({ id: textId, type: 'text', attrs: {} });\n          container.set(textId, text);\n        }\n        return text;\n      };\n      const text = props.compareField ? [0, 1].map(find) : find(0);\n      members.text = text;\n    }\n\n    if (percentageValue.visible !== false) {\n      const find = (i) => {\n        const valueId = `_percentage-value-${index}-${i}`;\n        let value = container.get(valueId);\n        if (!value && createIfNotFound) {\n          value = container.addShape({ id: valueId, type: 'text', attrs: {} });\n          container.set(valueId, value);\n        }\n        return value;\n      };\n      const value = props.compareField ? [0, 1].map(find) : find(0);\n      members.value = value;\n    }\n\n    return members;\n  }\n\n  private _calcRefreshFadeDurations() {\n    const props = this.options;\n\n    const updateDuration = get(props, 'animation.update.duration');\n    const enterDuration = get(props, 'animation.enter.duration');\n    const fadeInDuration = Math.min(enterDuration, updateDuration) * 0.6;\n    const fadeOutDuration = Math.max(enterDuration, updateDuration) * 1.2;\n\n    return { fadeInDuration, fadeOutDuration };\n  }\n\n  protected resetLabels() {\n    if (!this._shouldResetLabels) return;\n    const props = this.options;\n    const { xField, yField } = props;\n\n    const adjustTimestamp = Date.now();\n    const { labelsContainer } = this._getGeometry();\n\n    const labelProps = props.label || {};\n    const labelStyle = deepMix(\n      {\n        ...this.theme.label,\n      },\n      props.label.style,\n      {\n        opacity: 0,\n        textAlign: 'center',\n        textBaseline: 'middle',\n      }\n    );\n\n    let datumTop;\n    this._eachShape((shape, index, datum, elementIndex) => {\n      const element: Element = shape.get('element');\n      if (index == 0) {\n        datumTop = datum;\n      }\n\n      const { minX, maxX, minY, maxY } = shape.getBBox();\n      const xValue = datum[xField];\n      const yValue = datum[yField];\n\n      if (labelProps.adjustColor) {\n        labelStyle.fill = this._getAdjustedTextFillByShape(shape);\n      }\n\n      const compare = datum.__compare__;\n      let content;\n      const formatArgs = {\n        [_ORIGIN]: datum,\n        element,\n        elementIndex,\n        mappingDatum: [].concat(element.getModel().mappingData)[0],\n        mappingDatumIndex: 0,\n      };\n      if (labelProps.formatter) {\n        content = labelProps.formatter(xValue, formatArgs, index, yValue, datumTop[yField]);\n      } else {\n        if (compare) {\n          content = [0, 1].map(() => `${yValue}`).join(props.transpose ? '\\n\\n' : '    ');\n        } else {\n          content = `${xValue} ${yValue}`;\n        }\n      }\n      const label = this._findLabelInContainerByIndex(labelsContainer, index, true);\n      const ratio = compare ? compare.yValues[0] / (compare.yValues[0] + compare.yValues[1]) : 0.5;\n      label.attr({\n        ...labelStyle,\n        x: lerp(minX, maxX, !props.transpose ? ratio : 0.5),\n        y: lerp(minY, maxY, props.transpose ? ratio : 0.5),\n        text: content,\n      });\n\n      label.set('adjustTimestamp', adjustTimestamp);\n    });\n\n    labelsContainer.get('children').forEach((label) => {\n      if (label.get('adjustTimestamp') != adjustTimestamp) {\n        label.attr({ opacity: 0 });\n        labelsContainer.set(label.get('id'), null);\n        setTimeout(() => label.remove());\n      }\n    });\n  }\n\n  protected fadeInLabels(targetShape?, duration?, callback?) {\n    const { labelsContainer } = this._getGeometry();\n    this._eachShape((shape, index) => {\n      if (!targetShape || targetShape == shape) {\n        const label = this._findLabelInContainerByIndex(labelsContainer, index);\n        if (label) {\n          const shapeBBox = shape.getBBox();\n          const labelBBox = label.getBBox();\n          if (\n            labelBBox.minX >= shapeBBox.minX &&\n            labelBBox.maxX <= shapeBBox.maxX &&\n            labelBBox.minY >= shapeBBox.minY &&\n            labelBBox.maxY <= shapeBBox.maxY\n          ) {\n            const attrs = {\n              opacity: 1,\n            };\n            duration ? label.animate(attrs, duration) : label.attr(attrs);\n          }\n        }\n      }\n    });\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected fadeOutLabels(targetShape?, duration?, callback?) {\n    const { labelsContainer } = this._getGeometry();\n    this._eachShape((shape, index) => {\n      if (!targetShape || targetShape == shape) {\n        const label = this._findLabelInContainerByIndex(labelsContainer, index);\n        if (label) {\n          const attrs = {\n            opacity: 0,\n          };\n          duration ? label.animate(attrs, duration) : label.attr(attrs);\n        }\n      }\n    });\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected refreshLabels(callback?) {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      const { fadeOutDuration, fadeInDuration } = this._calcRefreshFadeDurations();\n\n      this._shouldResetLabels = false;\n      this.fadeOutLabels(null, fadeOutDuration, () => {\n        this._shouldResetLabels = true;\n        this.resetLabels();\n        this.fadeInLabels(null, fadeInDuration, callback);\n      });\n    }\n  }\n\n  private _findLabelInContainerByIndex(container: IGroup, index: number, createIfNotFound: boolean = false) {\n    const props = this.options;\n\n    let label;\n\n    if (props.label?.visible === false) {\n      return label;\n    }\n\n    const labelId = `_label-${index}`;\n    label = container.get(labelId);\n    if (!label && createIfNotFound) {\n      label = container.addShape({\n        id: labelId,\n        type: 'text',\n        attrs: {},\n      });\n      container.set(labelId, label);\n    }\n\n    return label;\n  }\n\n  protected resetCompareTexts() {\n    if (!this._shouldResetCompareTexts) return;\n\n    const props = this.options;\n\n    let shapeParentBBox;\n    let compare;\n    this._eachShape((shape, index, datum) => {\n      if (index == 0) {\n        shapeParentBBox = shape.get('parent').getBBox();\n        compare = get(datum, '__compare__');\n      }\n    });\n\n    if (shapeParentBBox && compare && get(props, 'compareText.visible') !== false) {\n      const container = this._findCompareTextContainer(true);\n      const { yValuesMax, compareValues } = compare;\n      const { minX, maxX, minY, maxY } = shapeParentBBox;\n\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        let compareText = compareTexts[i];\n        if (!compareText) {\n          compareText = container.addShape({ type: 'text' });\n        }\n        compareText.attr(\n          deepMix({}, get(props, 'compareText.style'), {\n            text: props.transpose ? compareValues[i] : i ? `  ${compareValues[i]}` : `${compareValues[i]}  `,\n            x: props.transpose\n              ? minX + get(props, 'compareText.offsetX')\n              : lerp(minX, maxX, yValuesMax[0] / (yValuesMax[0] + yValuesMax[1])),\n            y: props.transpose\n              ? lerp(minY, maxY, yValuesMax[0] / (yValuesMax[0] + yValuesMax[1])) + (i ? 8 : -8)\n              : minY + get(props, 'compareText.offsetY'),\n            opacity: 0,\n            textAlign: props.transpose ? 'right' : i ? 'left' : 'right',\n            textBaseline: props.transpose ? (i ? 'top' : 'bottom') : 'bottom',\n          })\n        );\n      });\n    }\n  }\n\n  protected fadeInCompareTexts(duration?, callback?) {\n    const container = this._findCompareTextContainer();\n    if (container) {\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        const compareText = compareTexts[i];\n\n        if (compareText) {\n          const attrs = {\n            opacity: 1,\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected fadeOutCompareTexts(duration?, callback?) {\n    const container = this._findCompareTextContainer();\n    if (container) {\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        const compareText = compareTexts[i];\n\n        if (compareText) {\n          const attrs = {\n            opacity: 0,\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected refreshCompareTexts(callback?) {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      const { fadeInDuration, fadeOutDuration } = this._calcRefreshFadeDurations();\n\n      this._shouldResetCompareTexts = false;\n      this.fadeOutCompareTexts(fadeOutDuration, () => {\n        this._shouldResetCompareTexts = true;\n        this.resetCompareTexts();\n        this.fadeInCompareTexts(fadeInDuration, callback);\n      });\n    }\n  }\n\n  private _findCompareTextContainer(createIfNotFound: boolean = false) {\n    const { middleGroup } = this.view;\n\n    let compareTextContainer = middleGroup.get('compareTextContainer');\n    if (!compareTextContainer && createIfNotFound) {\n      compareTextContainer = middleGroup.addGroup();\n      middleGroup.set('compareTextContainer', compareTextContainer);\n    }\n\n    return compareTextContainer;\n  }\n\n  private _eachShape(\n    fn: (shape: IShape | IGroup, index: number, datumLower: any, datumUpper: any, elementIndex: number) => void\n  ) {\n    const data = this._findCheckedData(this.getData());\n    const dataLen = data.length;\n    let index = 0;\n    let datumUpper;\n    this._getGeometry()?.elements.forEach((element, elementIndex) => {\n      const { shape } = element;\n      const datumLower = data[index];\n      if (index < dataLen) {\n        fn(shape, index, datumLower, datumUpper, elementIndex);\n      }\n      datumUpper = datumLower;\n      index++;\n    });\n  }\n\n  private _getGeometry() {\n    return this.view.geometries[0];\n  }\n\n  private _getAdjustedTextFillByShape(shape: IShape | IGroup) {\n    const shapeColor = shape.attr('fill');\n    const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n    const rgb = rgb2arr(shapeColor);\n    const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n    const colorBand = [\n      { from: 0, to: 85, color: 'white' },\n      { from: 85, to: 170, color: '#F6F6F6' },\n      { from: 170, to: 255, color: 'black' },\n    ];\n    const reflect = mappingColor(colorBand, gray);\n    return reflect;\n  }\n\n  private _genCustomFieldForDynamicHeight(data: any[]) {\n    const props = this.options;\n\n    const total = data.reduce((total, datum) => total + datum[props.yField], 0);\n\n    let ratioUpper = 1;\n    data.forEach((datum, index) => {\n      const value = datum[props.yField];\n      const share = value / total;\n      const ratioLower = ratioUpper - share;\n\n      datum['__custom__'] = {\n        datumIndex: index,\n        dataLength: data.length,\n        ratioUpper,\n        ratioLower,\n        reverse: props.transpose,\n      };\n\n      ratioUpper = ratioLower;\n    });\n  }\n\n  private _findCheckedDataByMouseDownLegendItem(legendItem: IGroup) {\n    const flags = legendItem\n      .get('parent')\n      .get('children')\n      .map((legendItem) => !legendItem.get('unchecked'));\n\n    const data = this.getData().filter((datum, index) => flags[index]);\n\n    return data;\n  }\n\n  private _findCheckedDataInNewData(newData: any[]) {\n    const props = this.options;\n\n    // @ts-ignore\n    const legendContainer = this.view.getController('legend').container;\n\n    const uncheckedXValues = legendContainer\n      .findAll((shape) => shape.get('name') == 'legend-item')\n      .filter((legendItem) => legendItem.get('unchecked'))\n      .map((legendItem) => legendItem.get('id').replace('-legend-item-', ''));\n\n    const checkedData = newData.filter((datum) => !contains(uncheckedXValues, datum[props.xField]));\n\n    return checkedData;\n  }\n\n  private _findCheckedData(data: any[]) {\n    const props = this.options;\n\n    if (props.legend?.visible) {\n      // @ts-ignore\n      const legendContainer = this.view.getController('legend').container;\n\n      const checkedXValues = legendContainer\n        .findAll((shape) => shape.get('name') == 'legend-item')\n        .filter((legendItem) => !legendItem.get('unchecked'))\n        .map((legendItem) => legendItem.get('id').replace('-legend-item-', ''));\n\n      const checkedData = data.filter((datum) => contains(checkedXValues, datum[props.xField]));\n\n      return checkedData;\n    } else {\n      return this.processData(props.data);\n    }\n  }\n\n  private _reduceDataForCompare(data: any[]) {\n    const props = this.options;\n\n    let compareValueFirstVisited;\n    const yValuesMax = [-Infinity, -Infinity];\n    data = data.reduce((newData, datum) => {\n      const xValue = datum[props.xField];\n      const yValue = datum[props.yField];\n      const compareValue = datum[props.compareField];\n      if (!compareValueFirstVisited) compareValueFirstVisited = compareValue;\n\n      let newDatum = newData.find((newDatum) => newDatum[props.xField] == xValue);\n      if (!newDatum) {\n        newDatum = {\n          [props.xField]: xValue,\n          [props.yField]: 0,\n          ['__compare__']: {\n            compareValues: [],\n            yValues: [],\n            yValuesMax: [],\n            yValuesNext: undefined,\n            transpose: props.transpose,\n          },\n        };\n        newData.push(newDatum);\n      }\n      const idx = compareValue == compareValueFirstVisited ? 0 : 1;\n      newDatum['__compare__'].yValues[idx] = yValue;\n      if (yValuesMax[idx] < yValue) {\n        yValuesMax[idx] = yValue as number;\n      }\n      newDatum['__compare__'].compareValues[idx] = compareValue;\n\n      return newData;\n    }, []);\n\n    data.forEach((datum, index) => {\n      datum[props.yField] = get(datum, '__compare__.yValues', []).reduce((yTotal, yValue) => (yTotal += yValue), 0);\n      set(datum, '__compare__.yValuesMax', yValuesMax);\n      set(datum, '__compare__.yValuesNext', get(data, `${index + 1}.__compare__.yValues`));\n    });\n\n    return data;\n  }\n\n  private _updateDataForCompare(data: any[]) {\n    const yValuesMax = [-Infinity, -Infinity];\n    data.forEach((datum) => {\n      const yValues = get(datum, '__compare__.yValues');\n      [0, 1].forEach((i) => {\n        if (yValues[i] > yValuesMax[i]) {\n          yValuesMax[i] = yValues[i];\n        }\n      });\n    });\n\n    data.forEach((datum, index) => {\n      set(datum, '__compare__.yValuesMax', yValuesMax);\n      set(datum, '__compare__.yValuesNext', get(data, `${index + 1}.__compare__.yValues`));\n    });\n  }\n\n  private _onLegendContainerMouseDown = (e) => {\n    const props = this.options;\n\n    const targetName = e.target.get('name');\n    if (targetName.startsWith('legend-item')) {\n      const legendItem = e.target.get('parent');\n      legendItem.set('unchecked', !legendItem.get('unchecked'));\n\n      this.refreshPercentages();\n      this.refreshLabels();\n\n      if (props.dynamicHeight) {\n        const data = this._findCheckedDataByMouseDownLegendItem(legendItem);\n        this._genCustomFieldForDynamicHeight(data);\n      }\n\n      if (props.compareField) {\n        const data = this._findCheckedDataByMouseDownLegendItem(legendItem);\n        this._updateDataForCompare(data);\n        this.refreshCompareTexts();\n      }\n    }\n  };\n}\n\nregisterPlotType('funnel', FunnelLayer);\n","import { registerTheme } from '../../theme';\n\nconst BAR_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst BAR_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('funnel', {\n  columnStyle: {\n    normal: {},\n    active: BAR_ACTIVE_STYLE,\n    disable: BAR_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import { get, isNil, isArray } from '@antv/util';\nimport { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { ShapeMarkerCfg, ShapePoint, ShapeInfo } from '@antv/g2/lib/interface';\nimport { getStyle } from '@antv/g2/lib/geometry/shape/util/get-style';\n\n// \nfunction _getRectPoints(cfg, isPyramid = false) {\n  const { x, y, y0, size } = cfg;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    xMin = x[0];\n    xMax = x[1];\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  if (isPyramid) {\n    // \n    // \n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2,\n    });\n  } else {\n    // \n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n  }\n\n  return points;\n}\n\n//  path\nfunction _getFunnelPath(cfg, compare) {\n  const path = [];\n  const { points, nextPoints } = cfg;\n\n  if (compare) {\n    // \n    const { yValues, yValuesMax, yValuesNext } = compare;\n    const originY = (points[0].y + points[1].y) / 2;\n\n    const yValueTotal = yValues[0] + yValues[1];\n    const yRatios = yValues.map((yValue) => yValue / yValueTotal / 0.5);\n    const yOffset = (yValuesMax[0] / (yValuesMax[0] + yValuesMax[1]) - 0.5) * 0.9;\n    const spacing = 0.001;\n\n    if (!isNil(nextPoints)) {\n      const yValueTotalNext = yValuesNext[0] + yValuesNext[1];\n      const yRatiosNext = yValuesNext.map((yValueNext) => yValueNext / yValueTotalNext / 0.5);\n      path.push(\n        ['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY - spacing],\n        ['L', points[1].x, yOffset + originY - spacing],\n        ['L', nextPoints[1].x, yOffset + originY - spacing],\n        ['L', nextPoints[0].x, yOffset + (nextPoints[3].y - originY) * yRatiosNext[0] + originY - spacing],\n        ['Z']\n      );\n      path.push(\n        ['M', points[0].x, yOffset + originY + spacing],\n        ['L', points[1].x, yOffset + (points[1].y - originY) * yRatios[1] + originY + spacing],\n        ['L', nextPoints[1].x, yOffset + (nextPoints[2].y - originY) * yRatiosNext[1] + originY + spacing],\n        ['L', nextPoints[0].x, yOffset + originY + spacing],\n        ['Z']\n      );\n    } else {\n      path.push(\n        ['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY],\n        ['L', points[1].x, yOffset + originY],\n        ['L', points[2].x, yOffset + originY],\n        ['L', points[3].x, yOffset + (points[3].y - originY) * yRatios[0] + originY],\n        ['Z']\n      );\n      path.push(\n        ['M', points[0].x, yOffset + 0.002 + originY],\n        ['L', points[1].x, yOffset + 0.002 + (points[1].y - originY) * yRatios[1] + originY],\n        ['L', points[2].x, yOffset + 0.002 + (points[2].y - originY) * yRatios[1] + originY],\n        ['L', points[3].x, yOffset + 0.002 + originY],\n        ['Z']\n      );\n    }\n  } else {\n    // \n    if (!isNil(nextPoints)) {\n      path.push(\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['L', nextPoints[1].x, nextPoints[1].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n        ['Z']\n      );\n    } else {\n      path.push(\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['L', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['Z']\n      );\n    }\n  }\n\n  return path;\n}\n\nregisterShape('interval', 'funnel-basic-rect', {\n  getPoints(pointInfo: ShapePoint) {\n    pointInfo.size = pointInfo.size * 1.8; // \n    return _getRectPoints(pointInfo);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const compare = get(cfg, 'data.__compare__');\n    const path = this.parsePath(_getFunnelPath(cfg, compare));\n\n    return container.addShape('path', {\n      name: 'interval',\n      attrs: {\n        ...style,\n        path,\n      },\n      ['__compare__']: compare,\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { get } from '@antv/util';\nimport { IGroup } from '@antv/g-canvas';\nimport { registerShape } from '@antv/g2';\nimport { ShapeMarkerCfg, ShapeInfo } from '@antv/g2/lib/interface';\nimport { getStyle } from '@antv/g2/lib/geometry/shape/util/get-style';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\n//  path\nfunction _getRectPath(points, { reverse, ratioUpper, ratioLower }) {\n  const path = [];\n  const firstPoint = points[0];\n\n  const originX = (points[1].x + points[2].x) / 2;\n  const factorTop = 1.2;\n  const factorBottom = 0.6;\n\n  if (reverse) {\n    const tmp = ratioLower;\n    ratioLower = ratioUpper;\n    ratioUpper = tmp;\n  }\n\n  const firstPointX = (firstPoint.x - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n  path.push(['M', firstPointX, firstPoint.y]);\n\n  for (let i = 1, len = points.length; i < len; i++) {\n    let pointX = points[i].x;\n    switch (i) {\n      case 1:\n      case 2:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioUpper) + originX;\n        break;\n\n      case 3:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n        break;\n    }\n    path.push(['L', pointX, points[i].y]);\n  }\n  path.push(['L', firstPointX, firstPoint.y]); // \n  path.push(['z']);\n  return path;\n}\n\nregisterShape('interval', 'funnel-dynamic-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const custom = get(cfg, 'data.__custom__');\n    const path = this.parsePath(_getRectPath(cfg.points, custom));\n\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    return {\n      symbol: isInPolar ? 'circle' : 'square',\n      style: {\n        r: isInPolar ? 4.5 : 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { ext } from '@antv/matrix-util';\nimport { registerAnimation } from '@antv/g2';\n\nfunction funnelScaleInX(shape, animateCfg) {\n  const { duration = 200, delay, easing, callback, reverse } = animateCfg || {};\n\n  const bbox = shape.getBBox();\n  const originX = reverse ? bbox.maxX : bbox.minX;\n  const originY = (bbox.minY + bbox.maxY) / 2;\n\n  const clip = shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: bbox.x,\n      y: bbox.y,\n      width: bbox.width,\n      height: bbox.height,\n    },\n  });\n  const clipTargetAttrs = {\n    matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1],\n  };\n  clip.setMatrix(\n    ext.transform(clip.getMatrix(), [\n      ['t', -originX, -originY],\n      ['s', 0, 1],\n      ['t', originX, originY],\n    ])\n  );\n\n  const shapeTargetAttrs = {\n    fillOpacity: shape.attr('fillOpacity'),\n    strokeOpacity: shape.attr('strokeOpacity'),\n    opacity: shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n\n  clip.animate(clipTargetAttrs, {\n    duration: 200,\n    easing,\n    callback() {\n      shape.setClip(null);\n      clip.remove();\n    },\n    delay,\n  });\n\n  shape.animate(shapeTargetAttrs, { duration, easing, delay });\n\n  callback && setTimeout(() => callback(shape), duration + delay);\n}\n\nfunnelScaleInX.animationName = 'funnelScaleInX';\nregisterAnimation('funnelScaleInX', funnelScaleInX);\n","import { ext } from '@antv/matrix-util';\nimport { registerAnimation } from '@antv/g2';\n\nfunction funnelScaleInY(shape, animateCfg) {\n  const { duration = 200, delay, easing, callback, reverse } = animateCfg || {};\n\n  const bbox = shape.getBBox();\n  const originX = (bbox.minX + bbox.maxX) / 2;\n  const originY = reverse ? bbox.maxY : bbox.minY;\n\n  const clip = shape.setClip({\n    type: 'rect',\n    attrs: {\n      x: bbox.x,\n      y: bbox.y,\n      width: bbox.width,\n      height: bbox.height,\n    },\n  });\n  const clipTargetAttrs = {\n    matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1],\n  };\n  clip.setMatrix(\n    ext.transform(clip.getMatrix(), [\n      ['t', -originX, -originY],\n      ['s', 1, 0],\n      ['t', originX, originY],\n    ])\n  );\n\n  const shapeTargetAttrs = {\n    fillOpacity: shape.attr('fillOpacity'),\n    strokeOpacity: shape.attr('strokeOpacity'),\n    opacity: shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n\n  clip.animate(clipTargetAttrs, {\n    duration: 200,\n    easing,\n    callback() {\n      shape.setClip(null);\n      clip.remove();\n    },\n    delay,\n  });\n\n  shape.animate(shapeTargetAttrs, { duration, easing, delay });\n\n  callback && setTimeout(() => callback(shape), duration + delay);\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInY';\nregisterAnimation('funnelScaleInY', funnelScaleInY);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedRoseLayer, { StackedRoseViewConfig } from './layer';\n\nexport interface StackedRoseConfig extends StackedRoseViewConfig, PlotConfig {}\n\nexport default class StackedRose extends BasePlot<StackedRoseConfig> {\n  public static getDefaultOptions: typeof StackedRoseLayer.getDefaultOptions = StackedRoseLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedRose';\n    super.createLayers(layerProps);\n  }\n\n  public getRadiusScale() {\n    const layer: any = this.layers[0];\n    return layer.getRadiusScale();\n  }\n\n  public getAngleScale() {\n    const layer: any = this.layers[0];\n    return layer.getAngleScale();\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport RoseLayer, { RoseViewConfig } from '../rose/layer';\n\nexport interface StackedRoseViewConfig extends RoseViewConfig {\n  stackField: string;\n}\n\nexport interface StackedRoseLayerConfig extends StackedRoseViewConfig, LayerConfig {}\n\nexport default class StackedRoseLayer<T extends StackedRoseLayerConfig = StackedRoseLayerConfig> extends RoseLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          alignTick: false,\n          style: {\n            lineWidth: 0.5,\n          },\n        },\n        label: {\n          offset: 5,\n          autoRotate: true,\n        },\n      },\n      yAxis: {\n        visible: false,\n      },\n    });\n  }\n\n  public type: string = 'stackedRose';\n\n  public getColorScale() {\n    const { stackField } = this.options;\n    return this.view.getScaleByField(stackField);\n  }\n\n  protected adjustRoseAdjust() {\n    return [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected geometryTooltip() {\n    this.rose.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.rose.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.rose.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.rose.tooltip.fields = [this.options.radiusField, this.options.categoryField, this.options.stackField];\n      }\n    }\n  }\n}\n\nregisterPlotType('stackedRose', StackedRoseLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupedRoseLayer, { GroupedRoseViewConfig } from './layer';\n\nexport interface GroupedRoseConfig extends GroupedRoseViewConfig, PlotConfig {}\n\nexport default class GroupedRose extends BasePlot<GroupedRoseConfig> {\n  public static getDefaultOptions: typeof GroupedRoseLayer.getDefaultOptions = GroupedRoseLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedRose';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport RoseLayer, { RoseViewConfig } from '../rose/layer';\n\nexport interface GroupedRoseViewConfig extends RoseViewConfig {\n  groupField: string;\n}\n\nexport interface GroupedRoseLayerConfig extends GroupedRoseViewConfig, LayerConfig {}\n\nexport default class GroupedRoseLayer<T extends GroupedRoseLayerConfig = GroupedRoseLayerConfig> extends RoseLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          alignTick: false,\n          style: {\n            lineWidth: 0.5,\n          },\n        },\n        label: {\n          offset: 5,\n          autoRotate: true,\n        },\n      },\n      yAxis: {\n        visible: false,\n      },\n    });\n  }\n\n  public type: string = 'groupedRose';\n\n  public getColorScale() {\n    const { groupField } = this.options;\n    if (groupField) {\n      return this.view.getScaleByField(groupField);\n    }\n  }\n\n  protected adjustRoseAdjust() {\n    return [\n      {\n        type: 'dodge',\n        marginRatio: 1,\n      },\n    ];\n  }\n\n  protected geometryTooltip() {\n    this.rose.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      this.rose.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      this.rose.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        this.rose.tooltip.fields = [this.options.radiusField, this.options.categoryField, this.options.groupField];\n      }\n    }\n  }\n}\n\nregisterPlotType('groupedRose', GroupedRoseLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RadarLayer, { RadarViewConfig } from './layer';\n\nexport interface RadarConfig extends RadarViewConfig, PlotConfig {}\n\nexport default class Radar extends BasePlot<RadarConfig> {\n  public static getDefaultOptions: typeof RadarLayer.getDefaultOptions = RadarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'radar';\n    super.createLayers(layerProps);\n  }\n\n  public getAngleScale() {\n    const layer = this.layers[0] as RadarLayer;\n    return layer.getAngleScale();\n  }\n\n  public getRadiusScale() {\n    const layer: any = this.layers[0];\n    return layer.getRadiusScale();\n  }\n\n  public getColorScale() {\n    const layer: any = this.layers[0];\n    return layer.getColorScale();\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { deepMix, has } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport * as EventParser from './event';\nimport { IValueAxis, ICatAxis, GraphicStyle, LineStyle } from '../../interface/config';\nimport './theme';\n\nexport interface RadarViewConfig extends ViewConfig {\n  /**  */\n  angleField: string;\n  /**  */\n  radiusField: string;\n  /**  */\n  seriesField?: string;\n  /**  */\n  smooth?: boolean;\n  /**  */\n  line?: {\n    visible?: boolean;\n    size?: number;\n    color?: string;\n    style?: LineStyle | ((...args: any[]) => LineStyle);\n  };\n  /**  */\n  point?: {\n    visible?: boolean;\n    shape?: string;\n    size?: number;\n    color?: string;\n    style?: GraphicStyle | ((...args: any[]) => GraphicStyle);\n  };\n  /** area */\n  area?: {\n    visible?: boolean;\n    style?: GraphicStyle | ((...args: any[]) => GraphicStyle);\n  };\n  /**  */\n  angleAxis?: ICatAxis;\n  /**  */\n  radiusAxis?: IValueAxis;\n  /**  */\n  radius?: number;\n}\n\nexport interface RadarLayerConfig extends RadarViewConfig, LayerConfig {}\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point',\n};\n\nexport default class RadarLayer extends ViewLayer<RadarLayerConfig> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      smooth: false,\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n        },\n      },\n      area: {\n        visible: true,\n        style: {\n          opacity: 0.25,\n        },\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n        style: {\n          opacity: 1,\n        },\n      },\n      angleAxis: {\n        visible: true,\n        autoRotateTitle: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          line: {\n            style: {\n              lineDash: [0, 0],\n            },\n          },\n        },\n        label: {\n          visible: true,\n          offset: 16,\n          autoRotate: true,\n          autoHide: true,\n        },\n        title: {\n          visible: false,\n        },\n      },\n      radiusAxis: {\n        min: 0,\n        visible: true,\n        /** G2 4.0  nice  */\n        nice: true,\n        autoRotateTitle: true,\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        gridType: 'line',\n        grid: {\n          visible: true,\n          line: {\n            style: {\n              lineDash: [0, 0],\n            },\n          },\n        },\n        label: {\n          visible: true,\n          autoHide: true,\n          autoRotate: true,\n        },\n        title: {\n          visible: false,\n        },\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'left-top',\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showCrosshairs: false,\n      },\n    });\n  }\n  public type: string = 'radar';\n  public line: any;\n  public point: any;\n  public area: any;\n  public baseElement: any;\n  public lineElement: any; // lineareapointlabeltooltip\n  public pointElement: any;\n  public areaElement: any;\n\n  public init() {\n    const props = this.options;\n    props.xField = props.angleField;\n    props.yField = props.radiusField;\n    super.init();\n  }\n\n  public getAngleScale() {\n    const { angleField } = this.options;\n    return this.view.getScaleByField(angleField);\n  }\n\n  public getRadiusScale() {\n    const { radiusField } = this.options;\n    return this.view.getScaleByField(radiusField);\n  }\n\n  public getColorScale() {\n    const { seriesField } = this.options;\n    return this.view.getScaleByField(seriesField);\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** x-scale */\n    scales[props.angleField] = {};\n    if (has(props, 'angleAxis')) {\n      extractScale(scales[props.angleField], props.angleAxis);\n    }\n    /** y-scale */\n    scales[props.radiusField] = {};\n    if (has(props, 'radiusAxis')) {\n      extractScale(scales[props.radiusField], props.radiusAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig: any = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius,\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected axis(): void {\n    const props = this.options;\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'angle',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'radius',\n    });\n    const axesConfig = {};\n    axesConfig[props.angleField] = xAxis_parser;\n    axesConfig[props.radiusField] = yAxis_parser;\n    /** config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    /**  */\n    if (props.area.visible) {\n      const area = getGeom('area', 'main', {\n        plot: this,\n      });\n      this.setConfig('geometry', area);\n      this.area = area;\n    }\n    /**  */\n    if (props.line && props.line.visible) {\n      const line = getGeom('line', 'guide', {\n        plot: this,\n      });\n      this.setConfig('geometry', line);\n      this.line = line;\n    }\n    /**  */\n    if (props.point && props.point.visible) {\n      const point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.setConfig('geometry', point);\n      this.point = point;\n    }\n    if (props.label) {\n      this.label();\n    }\n    if (props.tooltip && (props.tooltip.fields || props.tooltip.formatter)) {\n      this.geometryTooltip();\n    }\n  }\n\n  protected geometryTooltip() {\n    const geomConfig = this.line ? this.line : this.area;\n    geomConfig.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      geomConfig.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      geomConfig.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        geomConfig.tooltip.fields = [this.options.angleField, this.options.radiusField];\n      }\n      if (this.options.seriesField) {\n        geomConfig.tooltip.fields.push(this.options.seriesField);\n      }\n    }\n  }\n\n  protected label() {\n    const props = this.options;\n\n    if (props.label.visible === false) {\n      if (this.point) {\n        this.point.label = false;\n      }\n      if (this.line) {\n        this.line.label = false;\n      }\n      if (this.area) {\n        this.area.label = false;\n      }\n      return;\n    }\n\n    // @Todo \n    const label = getComponent('label', {\n      fields: [props.radiusField],\n      cfg: {\n        type: 'polar',\n        autoRotate: false,\n      },\n      plot: this,\n      ...props.label,\n    });\n\n    if (this.point) {\n      this.point.label = label;\n    } else if (this.line) {\n      this.line.label = label;\n    } else if (this.area) {\n      this.area.label = label;\n    }\n  }\n\n  protected annotation() {\n    return;\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      // \n      if (this.area) this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('radar', RadarLayer);\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  area: 'area',\n  line: 'line',\n  point: 'point',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","/**\n * Create By Bruce Too\n * On 2020-02-14\n */\nimport { registerTheme } from '../../theme';\n\nconst AREA_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst AREA_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst LINE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_SELECTED_STYLE = (style) => {\n  const lineWidth = style.lineWidth || 1;\n  return { lineWidth: lineWidth + 2 };\n};\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 2,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 2,\n  };\n};\n\nconst POINT_DISABLED_STYLE = (style) => {\n  const opacity = style.opacity || style.fillOpacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('radar', {\n  areaStyle: {\n    normal: {},\n    active: AREA_ACTIVE_STYLE,\n    disable: AREA_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: '#333333' },\n  },\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE,\n  },\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    disable: POINT_DISABLED_STYLE,\n    selected: POINT_SELECTED_STYLE,\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport LiquidLayer, { LiquidViewConfig } from './layer';\n\nexport interface LiquidConfig extends LiquidViewConfig, PlotConfig {}\n\nexport default class Liquid extends BasePlot<LiquidConfig> {\n  public static getDefaultOptions: typeof LiquidLayer.getDefaultOptions = LiquidLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'liquid';\n    super.createLayers(layerProps);\n  }\n\n  public changeValue(value: number, all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof LiquidLayer) {\n          layer.changeValue(value);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof LiquidLayer) {\n        layer.changeValue(value);\n      }\n    }\n  }\n}\n","import { deepMix, isFunction, get, forIn, isNumber } from '@antv/util';\nimport BBox from '../../util/bbox';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport { DataItem, TextStyle } from '../../interface/config';\nimport { rgb2arr } from '../../util/color';\nimport * as EventParser from './event';\nimport './geometry/shape/liquid';\nimport './animation/liquid-move-in';\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'liquid',\n};\n\nexport interface LiquidStyle {}\n\nexport interface LiquidViewConfig extends Partial<ViewConfig> {\n  statistic?: {\n    visible?: boolean;\n    adjustColor?: boolean;\n    formatter?: (value) => string;\n    style?: TextStyle;\n  };\n  min: number;\n  max: number;\n  value: number;\n  liquidStyle?: LiquidStyle | ((...args: any[]) => LiquidStyle);\n}\n\nexport interface LiquidLayerConfig extends LiquidViewConfig, LayerConfig {\n  data: DataItem[];\n}\n\nexport default class LiquidLayer<T extends LiquidLayerConfig = LiquidLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<LiquidViewConfig> {\n    const cfg: Partial<LiquidViewConfig> = {\n      padding: [0, 0, 0, 0],\n      animation: {\n        factor: 0.4,\n        easing: 'easeExpOut',\n        duration: 800,\n      },\n      liquidStyle: {\n        lineWidth: 2,\n      },\n      color: '#6a99f9',\n      interactions: [],\n      statistic: {\n        visible: true,\n      },\n    };\n    return deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public liquid: any;\n  public type: string = 'liquid';\n  private shouldFadeInAnnotation: boolean = true;\n\n  public beforeInit() {\n    const { min, max, value } = this.options;\n    if (!isNumber(min)) {\n      throw new Error('The min value of Liquid is required, and the type of min must be Number.');\n    }\n    if (!isNumber(max)) {\n      throw new Error('The max value of Liquid is required, and the type of max must be Number.');\n    }\n    if (!isNumber(value)) {\n      throw new Error('The value of Liquid is required, and the type of value must be Number.');\n    }\n  }\n\n  public init() {\n    this.options.data = [{}];\n    super.init();\n  }\n\n  protected coord() {\n    return;\n  }\n\n  protected scale() {\n    const props = this.options;\n    const { min, max } = props;\n    const scales = {\n      value: {},\n    };\n    extractScale(scales.value, {\n      min: Math.min(min, max),\n      max: Math.max(min, max),\n    });\n    // @ts-ignore\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected axis(): void {\n    this.setConfig('axes', false);\n  }\n\n  protected adjustLiquid(liquid) {\n    const { options: props } = this;\n\n    liquid.shape = {\n      values: ['liquid-fill-gauge'],\n    };\n\n    liquid.tooltip = false;\n\n    let liquidStyle = props.liquidStyle;\n    if (isFunction(liquidStyle)) liquidStyle = liquidStyle();\n    if (liquidStyle) {\n      liquid.style = liquidStyle;\n    }\n  }\n\n  protected addGeometry(): void {\n    const liquid = getGeom('interval', 'main', {\n      positionFields: [1, 'value'],\n      plot: this,\n    });\n    this.adjustLiquid(liquid);\n    this.liquid = liquid;\n    this.setConfig('geometry', liquid);\n  }\n\n  protected animation() {\n    const props = this.options;\n    if (props.animation === false) {\n      /**  */\n      this.liquid.animate = false;\n    } else {\n      const factor = get(props, 'animation.factor');\n      const easing = get(props, 'animation.easing');\n      const duration = get(props, 'animation.duration');\n      this.liquid.animate = {\n        appear: {\n          animation: 'liquidMoveIn',\n          factor,\n          easing,\n          duration,\n        },\n      };\n    }\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected annotation() {\n    const annotationConfigs = [];\n\n    const statisticConfig = this.extractStatistic();\n    annotationConfigs.push(statisticConfig);\n\n    this.setConfig('annotations', annotationConfigs);\n  }\n\n  protected extractStatistic() {\n    const props = this.options;\n    const statistic: any = props.statistic || {};\n\n    let content;\n    if (isFunction(statistic.formatter)) {\n      content = statistic.formatter(props.value);\n    } else {\n      content = `${props.value}`;\n    }\n\n    let fontSize;\n    let shadowBlur;\n    if (content) {\n      const contentWidth = Math.min(this.width, this.height);\n      fontSize = (contentWidth / content.length) * 0.5;\n      shadowBlur = Math.max(1, Math.ceil(0.025 * fontSize));\n    }\n    let opacity;\n    if (statistic.visible === false) {\n      return;\n    }\n\n    const statisticConfig = deepMix(\n      {\n        style: {\n          fontSize,\n          shadowBlur,\n        },\n      },\n      statistic,\n      {\n        top: true,\n        content,\n        type: 'text',\n        position: ['50%', '50%'],\n        style: {\n          opacity,\n          fill: 'transparent',\n          shadowColor: 'transparent',\n          textAlign: 'center',\n        },\n      }\n    );\n    delete statisticConfig.visible;\n    delete statisticConfig.formatter;\n    delete statisticConfig.adjustColor;\n    return statisticConfig;\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  public afterRender() {\n    if (this.options.statistic?.visible) {\n      this.fadeInAnnotation();\n    }\n    const { options } = this;\n    const padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n    /** autopadding */\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  }\n\n  protected processData(): DataItem[] | undefined {\n    const props = this.options;\n    return [{ _: '_', value: props.value }];\n  }\n\n  public changeValue(value: number): void {\n    const props = this.options;\n    props.value = value;\n    this.changeData([]);\n  }\n\n  protected fadeInAnnotation() {\n    const props = this.options;\n    const textShape = this.view.foregroundGroup.findAll((el) => {\n      return el.get('name') === 'annotation-text';\n    })[0];\n    const animation: any = props.animation || {};\n    const colorStyle = this.calcAnnotationColorStyle();\n    if (this.shouldFadeInAnnotation) {\n      textShape.animate(colorStyle, animation.duration * Math.min(1, 1.5 * animation.factor), null, () => {\n        this.shouldFadeInAnnotation = false;\n      });\n    } else {\n      forIn(colorStyle, (v, k) => textShape.attr(k, v));\n    }\n  }\n\n  protected calcAnnotationColorStyle() {\n    const { options: props } = this;\n\n    const lightColorStyle = { fill: '#f6f6f6', shadowColor: 'black' };\n    const darkColorStyle = { fill: '#303030', shadowColor: 'white' };\n\n    if (get(props, 'statistic.adjustColor') === false) {\n      return {\n        fill: get(props, 'statistic.style.fill', darkColorStyle.fill),\n        shadowColor: get(props, 'statistic.style.shadowColor', darkColorStyle.shadowColor),\n      };\n    }\n\n    let { min, max } = props;\n    const { value } = props;\n    min = Math.min(min, max);\n    max = Math.max(min, max);\n    let percent;\n    if (min == max) {\n      percent = 1;\n    } else {\n      percent = (value - min) / (max - min);\n    }\n\n    if (percent > 0.55) {\n      const waveColor = this.options.color as string;\n      const waveOpacity = 0.8;\n      const rgb = rgb2arr(waveColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / waveOpacity;\n      return gray < 156 ? lightColorStyle : darkColorStyle;\n    }\n\n    return darkColorStyle;\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    super.updateConfig(cfg);\n    this.shouldFadeInAnnotation = true;\n  }\n\n  protected getViewRange() {\n    const viewRange = super.getViewRange();\n    const liquidStyle: any = this.options.liquidStyle;\n    const strokeWidth = liquidStyle.lineWidth ? liquidStyle.lineWidth : 2;\n    const { minX, minY, width, height } = viewRange;\n    const size = Math.min(width, height) - strokeWidth * 2;\n    const cx = minX + width / 2;\n    const cy = minY + height / 2;\n    const x = cx - size / 2;\n    const y = cy - size / 2;\n    return new BBox(x, y, size, size);\n  }\n}\n\nregisterPlotType('liquid', LiquidLayer);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  liquid: 'intervl',\n  statistic: 'annotation-text',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { registerShape } from '../../../../dependents';\nimport { isArray, each, isNumber, mix } from '@antv/util';\nimport { getGlobalTheme } from '../../../../theme';\nimport { transform } from '../../../../util/g-util';\n\nconst globalTheme = getGlobalTheme();\n\nconst ShapeUtil = {\n  splitPoints(obj) {\n    const points = [];\n    const x = obj.x;\n    let y = obj.y;\n    y = isArray(y) ? y : [y];\n    each(y, (yItem, index) => {\n      const point = {\n        x: isArray(x) ? x[index] : x,\n        y: yItem,\n      };\n      points.push(point);\n    });\n    return points;\n  },\n  addFillAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.fill) {\n      attrs.fill = cfg.color;\n    }\n    if (isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  },\n  addStrokeAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.stroke) {\n      attrs.stroke = cfg.color;\n    }\n    if (isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n    }\n  },\n};\n\nconst ValueUtil = {\n  lerp(a, b, factor) {\n    return (1 - factor) * a + factor * b;\n  },\n};\n\nconst getFillAttrs = (cfg) => {\n  const defaultAttrs = {\n    lineWidth: 0,\n    fill: globalTheme.color,\n    fillOpacity: 0.85,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n  ShapeUtil.addFillAttrs(attrs, cfg);\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n  return attrs;\n};\n\nconst getLineAttrs = (cfg) => {\n  const defaultAttrs = {\n    fill: '#fff',\n    stroke: globalTheme.color,\n    fillOpacity: 0,\n    lineWidth: 2,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n  ShapeUtil.addStrokeAttrs(attrs, cfg);\n  return attrs;\n};\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param {number} x          x position of the left-most point (a)\n * @param {number} stage      0-3, stating which part of the wave it is\n * @param {number} waveLength wave length of the sine wave\n * @param {number} amplitude  wave amplitude\n * @return {Array} \n */\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param  {number} radius          \n * @param  {number} waterLevel      \n * @param  {number} waveLength      \n * @param  {number} phase           \n * @param  {number} amplitude       \n * @param  {number} cx              x\n * @param  {number} cy              y\n * @return {Array}  path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 2;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param {number} x           x\n * @param {number} y           y\n * @param {number} level        01\n * @param {number} waveCount   \n * @param {number} colors      \n * @param {number} group       \n * @param {number} clip        \n * @param {number} radius      \n */\nfunction addWaterWave(x, y, level, waveCount, color, group, clip, radius) {\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n  const duration = 5000;\n  for (let i = 0; i < waveCount; i++) {\n    const factor = waveCount <= 1 ? 0 : i / (waveCount - 1);\n    const wave = group.addShape('path', {\n      attrs: {\n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          width / 4,\n          0,\n          width / ValueUtil.lerp(56, 64, factor),\n          x,\n          y\n        ),\n        fill: color,\n        opacity: ValueUtil.lerp(0.6, 0.3, factor),\n      },\n    });\n    /*wave.setClip({\n      type:'circle',\n      attrs: clip.attrs\n    })*/\n    // FIXME wave animation error in svg\n    // if (Global.renderer === 'canvas') {\n    const matrix = transform([['t', width / 2, 0]]);\n    wave.animate(\n      { matrix },\n      {\n        duration: ValueUtil.lerp(duration, 0.7 * duration, factor),\n        repeat: true,\n      }\n    );\n    //}\n  }\n}\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container) {\n    const cy = 0.5;\n    let minX = Infinity;\n    each(cfg.points, (p: any) => {\n      if (p.x < minX) {\n        minX = p.x;\n      }\n    });\n    const cx = 0.5;\n    const cp = this.parsePoint({ x: cx, y: cy });\n    const minP = this.parsePoint({ x: minX, y: 0.5 });\n    const xWidth = cp.x - minP.x;\n    const radius = Math.min(xWidth, minP.y);\n    const { fill } = getFillAttrs(cfg);\n    const waves = container.addGroup({\n      name: 'waves',\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n      },\n    });\n    waves.setClip({\n      type: 'circle',\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n      },\n    });\n    const clipCircle = waves.get('clipShape');\n    addWaterWave(\n      cp.x,\n      cp.y,\n      1 - cfg.points[1].y, // cfg.y / (2 * cp.y),\n      3,\n      fill,\n      waves,\n      clipCircle,\n      radius * 4\n    );\n    container.addShape('circle', {\n      name: 'wrap',\n      attrs: mix(getLineAttrs(cfg), {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n        fill: 'transparent',\n      }),\n    });\n    return waves[0];\n  },\n});\n","import { registerAnimation } from '../../../dependents';\nimport { get, clone } from '@antv/util';\nimport { transform } from '../../../util/g-util';\n\nfunction liquidMoveIn(shape, animateCfg) {\n  const container = shape.get('parent');\n  const box = container.getBBox();\n  const factor = Math.min(Math.max(0, get(animateCfg, 'factor', 0.5)), 1);\n  const delay = get(animateCfg, 'delay', 0);\n  const duration = get(animateCfg, 'duration', 800);\n  const { callback } = animateCfg;\n\n  const originX = (box.minX + box.maxX) / 2;\n  const originY = box.maxY;\n\n  const wrap = container.find((shape) => shape.get('name') == 'wrap');\n  const wrapTargetOpacity = wrap.attr('opacity');\n  wrap.attr('opacity', 0);\n  wrap.animate({ opacity: wrapTargetOpacity }, duration * factor, 'easeLinear', null, delay);\n  const waves = container.find((shape) => shape.get('name') == 'waves');\n  const wavesTargetMatrix = clone(waves.attr('matrix')) || [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  const transformMatrix = transform(wavesTargetMatrix, [\n    ['t', -originX, -originY],\n    ['s', 1, 0],\n    ['t', originX, originY],\n  ]);\n  waves.setMatrix(transformMatrix);\n  waves.animate(\n    { matrix: wavesTargetMatrix },\n    duration,\n    animateCfg.easing,\n    () => callback && callback(container, wrap, waves),\n    delay\n  );\n}\nliquidMoveIn.animationName = 'liquidMoveIn';\nregisterAnimation('liquidMoveIn', liquidMoveIn);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport HistogramLayer, { HistogramViewConfig } from './layer';\n\nexport interface HistogramConfig extends HistogramViewConfig, PlotConfig {}\n\nexport default class Histogram extends BasePlot<HistogramConfig> {\n  public static getDefaultOptions: typeof HistogramLayer.getDefaultOptions = HistogramLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'histogram';\n    super.createLayers(layerProps);\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { sturges } from '../../util/math';\nimport Column from '../column/layer';\nimport { ColumnViewConfig } from '../column/interface';\nimport { DataItem } from '../../interface/config';\n\nexport interface HistogramViewConfig extends ColumnViewConfig {\n  binField: string;\n  binWidth?: number;\n  binNumber?: number;\n}\n\nexport interface HistogramLayerConfig extends HistogramViewConfig, LayerConfig {}\n\nexport default class HistogramLayer extends Column<HistogramLayerConfig> {\n  public type: string = 'histogram';\n\n  public init() {\n    this.options.xField = 'range';\n    this.options.yField = 'count';\n    super.init();\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const { binField, binWidth, binNumber } = this.options;\n    const originData_copy = clone(originData);\n    // binField value\n    sortBy(originData_copy, binField);\n    // binField valuesrange\n    const values = valuesOfKey(originData_copy, binField);\n    const range = getRange(values);\n    const rangeWidth = range.max - range.min;\n    // binWidthbinNumberbinWidth\n    let _binWidth = binWidth;\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    }\n    // binWidthbinNumberSturges formulabinWidth\n    if (!binWidth && !binNumber) {\n      const _defaultBinNumber = sturges(values);\n      _binWidth = rangeWidth / _defaultBinNumber;\n    }\n    const bins = {};\n    each(originData_copy, (data) => {\n      const value = data[binField];\n      const bin = this.getBin(value, _binWidth);\n      const binName = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binName)) {\n        bins[binName] = { name: binName, range: bin, count: 0, data: [] };\n      }\n      bins[binName].data.push(data);\n      bins[binName].count += 1;\n    });\n    // plotData\n    const plotData = [];\n    each(bins, (bin) => {\n      plotData.push(bin);\n    });\n    return plotData;\n  }\n\n  protected scale() {\n    super.scale();\n    // fixme: \n    const range = this.config.scales.range as any;\n    range.nice = false;\n    range.type = 'linear';\n  }\n\n  private getBin(value, binWidth) {\n    const index = Math.floor(value / binWidth);\n    return [binWidth * index, binWidth * (index + 1)];\n  }\n}\n\nregisterPlotType('histogram', HistogramLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport DensityLayer, { DensityViewConfig } from './layer';\n\nexport interface DensityConfig extends DensityViewConfig, PlotConfig {}\n\nexport default class Density extends BasePlot<DensityConfig> {\n  public static getDefaultOptions: typeof DensityLayer.getDefaultOptions = DensityLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'density';\n    super.createLayers(layerProps);\n  }\n}\n","import { getScale } from '@antv/scale';\nimport { clone, deepMix, sortBy, valuesOfKey, getRange, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { sturges } from '../../util/math';\nimport Area from '../area/layer';\nimport { AreaViewConfig } from '../area/interface';\nimport { DataItem } from '../../interface/config';\nimport { LooseMap } from '../../interface/types';\n\nexport interface DensityViewConfig extends AreaViewConfig {\n  binField: string;\n  binWidth?: number;\n  binNumber?: number;\n  kernel?: 'uniform' | 'triangle' | 'epanechnikov' | 'quartic' | 'triweight' | 'gaussian' | 'cosinus';\n}\n\nexport interface DensityLayerConfig extends DensityViewConfig, LayerConfig {}\n\nconst kernels = {\n  epanechnikov: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 0.75 * (1 - dist * dist) : 0;\n  },\n  gaussian: (dist: number) => {\n    return (1 / Math.sqrt(Math.PI * 2)) * Math.exp(-0.5 * Math.pow(dist, 2));\n  },\n  uniform: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 0.5 : 0;\n  },\n  triangle: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 1 - Math.abs(dist) : 0;\n  },\n  quartic: (dist: number) => {\n    const v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? (15 / 16) * v * v : 0;\n  },\n  triweight: (dist: number) => {\n    const v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? (15 / 16) * Math.pow(v, 3) : 0;\n  },\n  cosinus: (dist: number) => {\n    const v = (Math.PI / 4) * Math.cos(0.5 * Math.PI * dist);\n    return Math.abs(dist) <= 1 ? v : 0;\n  },\n};\n\nexport default class DensityLayer<T extends DensityLayerConfig = DensityLayerConfig> extends Area<T> {\n  public type: string = 'density';\n\n  public init() {\n    const originXAxisConfig = this.options.xAxis ? clone(this.options.xAxis) : {};\n    this.options.xField = 'value';\n    this.options.yField = 'density';\n    this.options.xAxis = deepMix({}, originXAxisConfig, { type: 'linear' });\n    this.options.smooth = true;\n    super.init();\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const { binField, binWidth, binNumber, kernel } = this.options;\n    const _kernel = kernel ? kernel : 'epanechnikov';\n    const kernelFunc = kernels[_kernel];\n    const originDataCopy = clone(originData);\n    sortBy(originDataCopy, binField);\n    // binWidthbinNumberbinWidth\n    const values = valuesOfKey(originDataCopy, binField);\n    const range = getRange(values);\n    const rangeWidth = range.max - range.min;\n    let _binNumber = binNumber;\n    let _binWidth = binWidth;\n    if (!binNumber && binWidth) {\n      _binNumber = Math.floor(rangeWidth / binWidth);\n    }\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    }\n    // binWidthbinNumberSturges formulabinWidth\n    if (!binNumber && !binWidth) {\n      _binNumber = sturges(values);\n      _binWidth = rangeWidth / binNumber;\n    }\n    // binNumbersamples\n    const LinearScale = getScale('linear');\n    const scale = new LinearScale({\n      min: range.min,\n      max: range.max,\n      tickCount: _binNumber,\n      nice: false,\n    });\n    const samples = scale.getTicks();\n    // KDE\n    const densities = [];\n    each(samples, (s) => {\n      const density = this.kernelDensityEstimator(_binWidth, kernelFunc, s, values);\n      densities.push({ value: s.text, density });\n    });\n\n    return densities;\n  }\n\n  private kernelDensityEstimator(\n    binWidth: number,\n    kernelFunc: (dist: number) => number,\n    x: LooseMap,\n    values: number[]\n  ) {\n    let sum = 0;\n    each(values, (v) => {\n      const dist = (x.tickValue - v) / binWidth;\n      sum += kernelFunc(dist);\n    });\n    return values.length === 0 ? 0 : sum / values.length;\n  }\n}\n\nregisterPlotType('density', DensityLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport DonutLayer, { DonutViewConfig } from './layer';\n\nexport interface DonutConfig extends DonutViewConfig, PlotConfig {}\n\nexport default class Donut extends BasePlot<DonutConfig> {\n  public static getDefaultOptions: typeof DonutLayer.getDefaultOptions = DonutLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'donut';\n    super.createLayers(layerProps);\n  }\n\n  public getAngleScale() {\n    const layer: any = this.layers[0];\n    return layer.getAngleScale();\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  ring: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { View } from '../../../dependents';\nimport StatisticHtml, { IStaticticHtml } from './statistic';\nimport * as statisticTemplate from './statistic-template';\nimport { debounce, each, isString, isObject, isFunction, keys } from '@antv/util';\nimport { LooseMap } from '../../../interface/types';\nimport Ring, { DonutViewConfig } from '../layer';\n\ninterface IRingStatictic extends IStaticticHtml {\n  view: View;\n  plot: any;\n}\n\nexport default class RingStatistic extends StatisticHtml {\n  protected view: View;\n  protected plot: Ring;\n  protected statisticClass: string;\n  protected options: DonutViewConfig['statistic'];\n\n  constructor(cfg: IRingStatictic) {\n    super(cfg);\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    this.statisticClass = cfg.statisticClass;\n    this.adjustOptions();\n  }\n\n  public triggerOn() {\n    const triggerOnEvent = this.options.triggerOn;\n    this.view.on(\n      `interval:${triggerOnEvent}`,\n      debounce((e) => {\n        const displayData = this.parseStatisticData(e.data.data);\n        const htmlString = this.getStatisticHtmlString(displayData);\n        this.updateHtml(htmlString);\n      }, 150)\n    );\n    const triggerOffEvent = this.options.triggerOff ? this.options.triggerOff : 'mouseleave';\n    this.view.on(\n      `interval:${triggerOffEvent}`,\n      debounce(() => {\n        const totalValue = this.getTotalValue();\n        const displayData = this.parseStatisticData(totalValue);\n        const htmlString = this.getStatisticHtmlString(displayData);\n        this.updateHtml(htmlString);\n      }, 150)\n    );\n  }\n\n  protected adjustOptions() {\n    let displayData;\n    if (this.options.content) {\n      displayData = this.options.content;\n    } else {\n      /**  */\n      const data = this.getTotalValue();\n      displayData = this.parseStatisticData(data);\n    }\n    /**  */\n    let htmlString;\n    if (this.options.htmlContent) {\n      htmlString = this.options.htmlContent(displayData);\n    } else {\n      htmlString = this.getStatisticTemplate(displayData);\n    }\n\n    this.html = htmlString;\n\n    const { minX, minY, width, height } = this.view.coordinateBBox;\n    this.x = minX + width / 2;\n    this.y = minY + height / 2;\n  }\n\n  private getTotalValue() {\n    let total = 0;\n    const { angleField, colorField } = this.plot.options;\n    const { totalLabel } = this.options;\n    each(this.plot.options.data, (item) => {\n      if (typeof item[angleField] === 'number') {\n        total += item[angleField];\n      }\n    });\n    const data = {\n      [angleField]: total,\n      [colorField]: totalLabel,\n    };\n    return data;\n  }\n\n  private parseStatisticData(data) {\n    const { angleField, colorField } = this.plot.options;\n    return colorField ? { name: data[colorField], value: data[angleField] } : data[angleField];\n  }\n\n  private getStatisticTemplate(data) {\n    const size = this.getStatisticSize();\n    let htmlString;\n    /** string */\n    if (isString(data)) {\n      htmlString = statisticTemplate.getSingleDataTemplate(data, this.statisticClass, size);\n    } else if (isObject(data) && keys(data).length === 2) {\n      /**  */\n      const content = data as LooseMap;\n      htmlString = statisticTemplate.getTwoDataTemplate(content.name, content.value, this.statisticClass, size);\n    }\n    /** html */\n    return htmlString;\n  }\n\n  private getStatisticSize() {\n    const viewRange = this.plot.view.coordinateBBox;\n    const { radius, innerRadius } = this.plot.options;\n    const minContainerSize = Math.min(viewRange.width, viewRange.height);\n    const size = minContainerSize * radius * innerRadius;\n    return size;\n  }\n\n  private getStatisticHtmlString(data): string {\n    const triggerOnConfig = this.options.triggerOn;\n    let htmlString: string;\n    if (isString(triggerOnConfig)) {\n      htmlString = this.getStatisticTemplate(data);\n    }\n    if (isFunction(triggerOnConfig)) {\n      htmlString = triggerOnConfig(data);\n      htmlString = `<div class=\"ring-guide-html ${this.statisticClass}\">${htmlString}</div>`;\n    }\n    return htmlString;\n  }\n}\n","import { deepMix, isElement } from '@antv/util';\nimport { createDom, modifyCSS, getOuterWidth, getOuterHeight } from '@antv/dom-util';\n\nexport interface IStaticticHtml {\n  x?: number;\n  y?: number;\n  html?: string;\n  alignX?: string;\n  alignY?: string;\n  container?: any;\n  statisticClass?: string;\n  [key: string]: any;\n}\n\nexport default class StatisticHtml {\n  public wrapperNode: HTMLElement;\n  protected x: number;\n  protected y: number;\n  protected html: string;\n  protected container: any;\n  protected options: any;\n\n  constructor(cfg: IStaticticHtml) {\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.x = this.options.x;\n    this.y = this.options.y;\n    this.html = this.options.html;\n    this.container = this.options.container;\n  }\n\n  protected render() {\n    if (isElement(this.container)) {\n      this.wrapperNode = createDom('<div class=\"g2plot-htmlStatistic\"></div>');\n      this.container.appendChild(this.wrapperNode);\n      modifyCSS(this.wrapperNode, {\n        position: 'absolute',\n      });\n      const htmlNode = createDom(this.html);\n      this.wrapperNode.appendChild(htmlNode);\n      this.setDomPosition(this.x, this.y);\n    }\n  }\n\n  public updateHtml(content: string) {\n    this.wrapperNode.innerHTML = content;\n  }\n\n  public updatePosition(x, y) {\n    this.x = x;\n    this.y = y;\n    this.setDomPosition(x, y);\n  }\n\n  public destroy() {\n    this.container.removeChild(this.wrapperNode);\n  }\n\n  protected getDefaultOptions() {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      html: '',\n      container: null,\n      alignX: 'middle',\n      alignY: 'middle',\n    };\n  }\n\n  protected setDomPosition(x: number, y: number) {\n    let xPosition = x;\n    let yPosition = y;\n    const width = getOuterWidth(this.wrapperNode);\n    const height = getOuterHeight(this.wrapperNode);\n    if (this.options.alignX === 'middle') {\n      xPosition = x - width / 2;\n    }\n    if (this.options.alignY === 'middle') {\n      yPosition = y - height / 2;\n    }\n    modifyCSS(this.wrapperNode, {\n      top: `${Math.round(yPosition)}px`,\n      left: `${Math.round(xPosition)}px`,\n    });\n  }\n}\n","/*tslint:disable*/\nconst containerStyle =\n  \"color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;\";\n\nconst nameStyle = 'font-weight:300;';\n\nconst valueStyle = 'font-size:32px;font-weight:bold;color:#4D4D4D';\n\nfunction getSingleDataTemplate(value, classId, size) {\n  const domStyle = `${containerStyle}width:${size}px;`;\n  return `<div class=\"ring-guide-html ${classId}\" style=${domStyle}><span class=\"ring-guide-value\" style=${valueStyle}>${value}</span></div>`;\n}\n\nfunction getTwoDataTemplate(name, value, classId, size) {\n  const domStyle = `${containerStyle}width:${size}px;`;\n  return `<div class=\"ring-guide-html ${classId}\" style=${domStyle}><span class=\"ring-guide-name\" style=${nameStyle}>${name}</span><br/><span class=\"ring-guide-value\" style=${valueStyle}>${value}</span></div>`;\n}\n\nexport { getSingleDataTemplate, getTwoDataTemplate };\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport WaterfallLayer, { WaterfallViewConfig } from './layer';\n\nexport interface WaterfallConfig extends WaterfallViewConfig, PlotConfig {}\n\nexport default class Waterfall extends BasePlot<WaterfallConfig> {\n  public static getDefaultOptions: typeof WaterfallLayer.getDefaultOptions = WaterfallLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'waterfall';\n    super.createLayers(layerProps);\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { get } from '@antv/util';\nimport { IGroup, registerShape, Point, ShapeInfo } from '../../../../dependents';\n\nfunction getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean) {\n  const { style, defaultStyle, color } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      attrs.stroke = color;\n    }\n    if (isFill) {\n      attrs.fill = color;\n    }\n  }\n  return attrs;\n}\n\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  path.push(['L', firstPoint.x, firstPoint.y]); // \n  path.push(['z']);\n  return path;\n}\n\n// @ts-ignore\nregisterShape('interval', 'waterfall', {\n  // @ts-ignore\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    const leaderLine = get(cfg.style, 'leaderLine');\n    if (leaderLine && leaderLine.visible) {\n      const lineStyle = leaderLine.style || {};\n      // 2. \n      if (cfg.nextPoints) {\n        let linkPath = [\n          // @ts-ignore\n          ['M', cfg.points[2].x, cfg.points[2].y],\n          // @ts-ignore\n          ['L', cfg.nextPoints[0].x, cfg.nextPoints[0].y],\n        ];\n        linkPath = this.parsePath(linkPath);\n        container.addShape('path', {\n          attrs: {\n            path: linkPath,\n            stroke: '#d3d3d3',\n            lineDash: [4, 2],\n            lineWidth: 1,\n            ...lineStyle,\n          },\n          name: 'leader-line',\n        });\n      }\n    }\n    return shape;\n  },\n});\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\n/**\n * @file events of waterfall chart is equal to column chart\n */\nexport { EVENT_MAP, onEvent } from '../column/event';\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { isArray } from '@antv/util';\n\nimport ColumnLabel from '../../../column/component/label';\nimport { IShape, Element } from '../../../../dependents';\nimport { VALUE_FIELD } from '../../layer';\nimport { registerLabelComponent } from '../../../../components/label/base';\n\nconst MARGIN = 2;\n\nexport default class WaterfallLabel extends ColumnLabel {\n  protected adjustLabel(label: IShape, element: Element): void {\n    const { shape } = element;\n    const shapeBox = shape.getBBox();\n    const data = element.getData();\n    const values = data[VALUE_FIELD];\n    const diff = data[this.layer.options.yField];\n    const value = isArray(values) ? values[1] : values;\n    let yPos = (shapeBox.minY + shapeBox.maxY) / 2;\n    let textBaseline = 'bottom';\n\n    if (diff < 0) {\n      yPos = shapeBox.maxY + MARGIN;\n      textBaseline = 'top';\n    } else {\n      yPos = shapeBox.minY - MARGIN;\n    }\n\n    label.attr('y', yPos);\n    label.attr('text', value);\n    label.attr('textBaseline', textBaseline);\n  }\n}\n\nregisterLabelComponent('waterfall', WaterfallLabel);\n","/**\n * Create By Bruce Too\n * On 2020-02-18\n */\nimport { mix, clone, each, isArray } from '@antv/util';\nimport { VALUE_FIELD, IS_TOTAL } from '../../layer';\nimport { IGroup, View, VIEW_LIFE_CIRCLE } from '../../../../dependents';\nimport { TextStyle } from '../../../../interface/config';\n\nexport interface DiffLabelcfg {\n  view: View;\n  fields: string[];\n  formatter: (text: string, item: object, idx: number) => string;\n  style?: TextStyle;\n}\n\nfunction getDefaultCfg() {\n  return {\n    fill: '#fff',\n    fontSize: 12,\n    lineHeight: 12,\n    stroke: 'rgba(0, 0, 0, 0.45)',\n  };\n}\n\nexport default class DiffLabel {\n  private view: View;\n  private fields: string[];\n  private container: IGroup;\n  private formatter: (text: string, item: object, idx: number) => string;\n  private textAttrs: object = {};\n\n  constructor(cfg: DiffLabelcfg) {\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.textAttrs = mix(getDefaultCfg(), cfg.style);\n\n    this._init();\n  }\n\n  /** labels */\n  public draw() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    const data = clone(this.view.getData());\n    this.container = this.view.foregroundGroup.addGroup();\n    const shapes = this.view.geometries[0].elements.map((value) => value.shape);\n    each(shapes, (shape, idx) => {\n      if (!shape.cfg.origin) return;\n      const _origin = shape.cfg.origin.data;\n      const shapeBox = shape.getBBox();\n      const values = _origin[VALUE_FIELD];\n      let diff = values;\n      if (isArray(values)) {\n        diff = values[1] - values[0];\n      }\n      diff = diff > 0 ? `+${diff}` : diff;\n      /** is total, total do not need `+` sign */\n      if (_origin[IS_TOTAL]) {\n        diff = values[0] - values[1];\n      }\n      let formattedText = diff;\n      if (this.formatter) {\n        const color = shapes[idx].attr('fill');\n        formattedText = this.formatter(`${diff}`, { _origin: data[idx], color }, idx);\n      }\n      const text = this.container.addShape('text', {\n        attrs: {\n          text: formattedText,\n          textBaseline: 'middle',\n          textAlign: 'center',\n          x: (shapeBox.minX + shapeBox.maxX) / 2,\n          y: (shapeBox.minY + shapeBox.maxY) / 2,\n          ...this.textAttrs,\n        },\n        name: 'dill-label',\n      });\n      if (text.getBBox().height > shapeBox.height) {\n        text.set('visible', false);\n      }\n    });\n    this.view.getCanvas().draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  private _init() {\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, () => {\n      this.clear();\n    });\n\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n      this.draw();\n    });\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport ScatterLayer, { ScatterViewConfig } from './layer';\n\nexport interface ScatterConfig extends ScatterViewConfig, PlotConfig {}\n\nexport default class Scatter extends BasePlot<ScatterConfig> {\n  public static getDefaultOptions: typeof ScatterLayer.getDefaultOptions = ScatterLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'scatter';\n    super.createLayers(layerProps);\n  }\n}\n","import { each, isArray, isFunction, deepMix } from '@antv/util';\nimport BBox from '../../../util/bbox';\nimport { View, IGroup } from '../../../dependents';\n\ninterface ILabel {\n  position?: string;\n  text: string[] | Function;\n  offset?: number | Function;\n  style?: any;\n}\n\nexport interface QuadrantConfig {\n  visible?: boolean;\n  xBaseline?: number;\n  yBaseline?: number;\n  regionStyle?: any[] | any;\n  lineStyle?: any;\n  label?: ILabel;\n}\n\nexport interface IQuadrant extends QuadrantConfig {\n  view: View;\n  plotOptions: any;\n}\n\nexport default class Quadrant {\n  public options: IQuadrant;\n  protected view: View;\n  protected quadrantGroups: IGroup[] = [];\n  protected container: IGroup;\n  protected regionData: any[] = [];\n  protected lineData: any[] = [];\n\n  constructor(cfg: IQuadrant) {\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    const { xBaseline, yBaseline } = this.options;\n    const coord = this.view.getCoordinate();\n    // TODO: xBaselineyBaseline\n    //  xBaseline  yBaseline \n    const xScale = this.view.getScaleByField(this.options.plotOptions.xField);\n    const yScale = this.view.getScaleByField(this.options.plotOptions.yField);\n    //  x \n    let xRegion;\n    if (xBaseline > xScale.min && xBaseline < xScale.max) {\n      const ratio = (xBaseline - xScale.min) / (xScale.max - xScale.min);\n      xRegion = [\n        new BBox(coord.start.x, coord.end.y, coord.getWidth() * ratio, coord.getHeight()),\n        new BBox(\n          coord.start.x + coord.getWidth() * ratio,\n          coord.end.y,\n          coord.getWidth() * (1 - ratio),\n          coord.getHeight()\n        ),\n      ];\n      const verticalLineData = {\n        start: { x: coord.start.x + coord.getWidth() * ratio, y: coord.end.y },\n        end: { x: coord.start.x + coord.getWidth() * ratio, y: coord.start.y },\n      };\n      this.lineData.push(verticalLineData);\n    } else {\n      xRegion = [new BBox(coord.start.x, coord.end.y, coord.getWidth(), coord.getHeight())];\n    }\n    //  y \n    if (yBaseline > yScale.min && yBaseline < yScale.max) {\n      const ratio = (yBaseline - yScale.min) / (yScale.max - yScale.min);\n      const horizontalLineData = {\n        start: { x: coord.start.x, y: coord.start.y - coord.getHeight() * ratio },\n        end: { x: coord.end.x, y: coord.start.y - coord.getHeight() * ratio },\n      };\n      this.lineData.push(horizontalLineData);\n      const topQuadrant = {\n        name: xBaseline <= xScale.min ? 'top-right' : 'top-left',\n        bbox: new BBox(xRegion[0].minX, xRegion[0].minY, xRegion[0].width, xRegion[0].height * (1 - ratio)),\n        index: xBaseline <= xScale.min ? 2 : 0,\n      };\n      this.regionData.push(topQuadrant);\n      const bottomQuadrant = {\n        name: xBaseline <= xScale.min ? 'bottom-right' : 'bottom-left',\n        bbox: new BBox(\n          xRegion[0].minX,\n          xRegion[0].minY + xRegion[0].height * (1 - ratio),\n          xRegion[0].width,\n          xRegion[0].height * ratio\n        ),\n        index: xBaseline <= xScale.min ? 3 : 1,\n      };\n      this.regionData.push(bottomQuadrant);\n      // \n      if (xRegion.length > 1) {\n        const rightTopQuadrant = {\n          name: 'top-right',\n          bbox: new BBox(xRegion[1].minX, xRegion[1].minY, xRegion[1].width, xRegion[1].height * (1 - ratio)),\n          index: 2,\n        };\n        this.regionData.push(rightTopQuadrant);\n        const rightBottomQuadrant = {\n          name: 'bottom-right',\n          bbox: new BBox(\n            xRegion[1].minX,\n            xRegion[1].minY + xRegion[1].height * (1 - ratio),\n            xRegion[1].width,\n            xRegion[1].height * ratio\n          ),\n          index: 3,\n        };\n        this.regionData.push(rightBottomQuadrant);\n      }\n    } else if (xRegion.length === 2) {\n      if (yBaseline <= yScale.min) {\n        const leftTopQuadrant = {\n          name: 'top-left',\n          bbox: xRegion[0],\n          index: 0,\n        };\n        this.regionData.push(leftTopQuadrant);\n        const rightTopQuadrant = {\n          name: 'top-right',\n          bbox: xRegion[1],\n          index: 2,\n        };\n        this.regionData.push(rightTopQuadrant);\n      } else {\n        const leftBottomQuadrant = {\n          name: 'bottom-left',\n          bbox: xRegion[0],\n          index: 1,\n        };\n        this.regionData.push(leftBottomQuadrant);\n        const rightBottomQuadrant = {\n          name: 'bottom-right',\n          bbox: xRegion[1],\n          index: 3,\n        };\n        this.regionData.push(rightBottomQuadrant);\n      }\n    } else {\n      // \n      if (xBaseline <= xScale.min) {\n        if (yBaseline <= yScale.min) {\n          const rightTopQuadrant = {\n            name: 'top-right',\n            bbox: xRegion[0],\n            index: 2,\n          };\n          this.regionData.push(rightTopQuadrant);\n        } else {\n          const rightBottomQuadrant = {\n            name: 'bottom-right',\n            bbox: xRegion[0],\n            index: 3,\n          };\n          this.regionData.push(rightBottomQuadrant);\n        }\n      } else {\n        if (yBaseline <= yScale.min) {\n          const leftTopQuadrant = {\n            name: 'top-left',\n            bbox: xRegion[0],\n            index: 0,\n          };\n          this.regionData.push(leftTopQuadrant);\n        } else {\n          const leftBottomQuadrant = {\n            name: 'bottom-left',\n            bbox: xRegion[0],\n            index: 1,\n          };\n          this.regionData.push(leftBottomQuadrant);\n        }\n      }\n    }\n    // container\n    this.container = this.view.backgroundGroup.addGroup();\n  }\n\n  public render() {\n    if (this.regionData.length > 0) {\n      const defaultStyle = this.getDefaultStyle();\n      const regionStyle = this.getRegionStyle(this.regionData);\n      each(this.regionData, (d) => {\n        const { index } = d;\n        const group = this.container.addGroup();\n        const rect = group.addShape('rect', {\n          attrs: {\n            x: d.bbox.minX,\n            y: d.bbox.minY,\n            width: d.bbox.width,\n            height: d.bbox.height,\n            ...regionStyle[index],\n          },\n          name: 'quadrant',\n        });\n        if (this.options.label && this.options.label.text) {\n          const labelOptions = deepMix({}, defaultStyle.label, this.options.label);\n          const labelCfg = this.getLabelConfig(d, labelOptions);\n          group.addShape('text', {\n            attrs: {\n              ...labelCfg,\n            },\n            name: 'quadrant-label',\n          });\n        }\n        // rect.setSilent('data', d);\n        rect.set('data', d);\n        this.quadrantGroups.push(group);\n      });\n\n      // \n      const lineStyle = deepMix({}, defaultStyle.line, this.options.lineStyle);\n      each(this.lineData, (d) => {\n        this.container.addShape('path', {\n          attrs: {\n            path: [\n              ['M', d.start.x, d.start.y],\n              ['L', d.end.x, d.end.y],\n            ],\n            ...lineStyle,\n          },\n          name: 'quadrant-line',\n        });\n      });\n      this.view.canvas.draw();\n    }\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  protected getDefaultStyle() {\n    return {\n      line: {\n        stroke: '#9ba29a',\n        lineWidth: 1,\n      },\n      regionStyle: [\n        { fill: '#000000', opacity: 0.05 },\n        { fill: '#ffffff', opacity: 0 },\n        { fill: '#ffffff', opacity: 0 },\n        { fill: '#000000', opacity: 0.05 },\n      ],\n      label: {\n        position: 'outter-inner',\n        offset: 10,\n        style: {\n          fontSize: 14,\n          fill: '#ccc',\n          // fontWeight: 100\n        },\n      },\n    };\n  }\n\n  private getRegionStyle(regionData) {\n    const defaultStyle = this.getDefaultStyle();\n    let style = defaultStyle.regionStyle;\n    if (this.options.regionStyle) {\n      const { regionStyle } = this.options;\n      if (isArray(regionStyle)) {\n        style = style.map((s, index) => {\n          if (regionStyle.length > index && regionStyle[index]) {\n            return regionStyle[index];\n          }\n          return s;\n        });\n      } else if (isFunction(regionStyle)) {\n        each(regionData, (d, index) => {\n          style[index] = regionStyle(d);\n        });\n      }\n    }\n\n    return style;\n  }\n\n  private getLabelConfig(region, labelOptions) {\n    const { index } = region;\n    let x = 0;\n    let y = 0;\n    let style: any = {};\n    let text = labelOptions.text;\n    if (isFunction(text)) {\n      text = text(region);\n    } else if (isArray(text)) {\n      text = text[index];\n    }\n    const { position } = labelOptions;\n    const pos = position.split('-');\n    const dim = region.name.split('-');\n    // x\n    if (dim[1] === 'left') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n      if (pos[0] === 'outter') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n    } else if (dim[1] === 'right') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n      if (pos[0] === 'outter') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n    }\n    // y\n    if (dim[0] === 'top') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n      if (pos[1] === 'outter') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n    } else if (dim[0] === 'bottom') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n      if (pos[1] === 'outter') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n    }\n    style = deepMix({}, labelOptions.style, style);\n    style.lineHeight = style.fontSize;\n    return {\n      x,\n      y,\n      text,\n      ...style,\n    };\n  }\n}\n","import { each, deepMix, minBy, maxBy } from '@antv/util';\nimport { View, IGroup, IShape } from '../../../dependents';\nimport { getScale } from '@antv/scale';\nimport {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\n\nimport { getSplinePath } from '../../../util/path';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\nexport interface TrendlineConfig {\n  visible?: boolean;\n  type?: string;\n  style?: any;\n  showConfidence?: boolean;\n  confidenceStyle?: any;\n}\n\nexport interface ITrendline extends TrendlineConfig {\n  view: View;\n  plotOptions: any;\n}\n\nfunction se95(p, n) {\n  return Math.sqrt((p * (1 - p)) / n) * 1.96;\n}\n\nexport default class TrendLine {\n  public data: { trendlineData: any[]; confidenceData: any[] };\n  protected options: any;\n  protected view: View;\n  protected container: IGroup;\n  protected shape: IShape;\n\n  constructor(cfg: ITrendline) {\n    const defaultOptions = {\n      type: 'linear',\n      style: {\n        stroke: '#9ba29a',\n        lineWidth: 2,\n        opacity: 0.5,\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      showConfidence: false,\n      confidenceStyle: {\n        fill: '#ccc',\n        opacity: 0.1,\n      },\n    };\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    // \n    const { xField, yField, data } = this.options.plotOptions;\n    const reg = REGRESSION_MAP[this.options.type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    this.data = this.processData(reg(data));\n    // container\n    this.container = this.view.backgroundGroup.addGroup();\n  }\n\n  public render() {\n    const xscale_view = this.view.getScaleByField(this.options.plotOptions.xField);\n    const yscale_view = this.view.getScaleByField(this.options.plotOptions.yField);\n    const coord = this.view.getCoordinate();\n    const { trendlineData } = this.data;\n    // scale\n    const LinearScale = getScale('linear');\n    const xRange = this.adjustScale(xscale_view, trendlineData, 'x');\n    const xScale = new LinearScale({\n      min: xRange.min,\n      max: xRange.max,\n      // nice: xscale_view.nice,\n    });\n    const yRange = this.adjustScale(yscale_view, trendlineData, 'y');\n    const yScale = new LinearScale({\n      min: yRange.min,\n      max: yRange.max,\n      // nice: yscale_view.nice,\n    });\n    // \n    if (this.options.showConfidence) {\n      const confidencePath = this.getConfidencePath(xScale, yScale, coord);\n      this.container.addShape('path', {\n        attrs: {\n          path: confidencePath,\n          ...this.options.confidenceStyle,\n        },\n        name: 'confidence',\n      });\n    }\n    // trendline\n    const points = this.getTrendlinePoints(xScale, yScale, coord);\n    const constraint = [\n      [0, 0],\n      [1, 1],\n    ];\n    const path = getSplinePath(points, false, constraint);\n    this.shape = this.container.addShape('path', {\n      attrs: {\n        path,\n        ...this.options.style,\n      },\n      name: 'trendline',\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.destroy();\n    }\n  }\n\n  private processData(data) {\n    const trendline = [];\n    const confidence = [];\n    each(data, (d) => {\n      trendline.push({ x: d[0], y: d[1] });\n      const conf = se95(data.rSquared, d[1]);\n      confidence.push({ x: d[0], y0: d[1] - conf, y1: d[1] + conf });\n    });\n    return { trendlineData: trendline, confidenceData: confidence };\n  }\n\n  private getTrendlinePoints(xScale, yScale, coord) {\n    const points = [];\n    each(this.data.trendlineData, (d) => {\n      const xRatio = xScale.scale(d.x);\n      const yRatio = yScale.scale(d.y);\n      const x = coord.start.x + coord.width * xRatio;\n      const y = coord.start.y - coord.height * yRatio;\n      points.push({ x, y });\n    });\n    return points;\n  }\n\n  private getConfidencePath(xScale, yScale, coord) {\n    const upperPoints = [];\n    const lowerPoints = [];\n    const path = [];\n    each(this.data.confidenceData, (d) => {\n      const xRatio = xScale.scale(d.x);\n      const y0Ratio = yScale.scale(d.y0);\n      const y1Ratio = yScale.scale(d.y1);\n      const x = coord.start.x + coord.width * xRatio;\n      const y0 = coord.start.y - coord.height * y0Ratio;\n      const y1 = coord.start.y - coord.height * y1Ratio;\n      upperPoints.push({ x, y: y0 });\n      lowerPoints.push({ x, y: y1 });\n    });\n    for (let i = 0; i < upperPoints.length; i++) {\n      const flag = i === 0 ? 'M' : 'L';\n      const p = upperPoints[i];\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push([flag, p.x, p.y]);\n      }\n    }\n    for (let j = lowerPoints.length - 1; j > 0; j--) {\n      const p = lowerPoints[j];\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push(['L', p.x, p.y]);\n      }\n    }\n    return path;\n  }\n\n  private adjustScale(viewScale, trendlineData, dim) {\n    // min max\n    const { min, max } = viewScale;\n    const { data, xField, yField } = this.options.plotOptions;\n    const field = dim === 'x' ? xField : yField;\n    const dataMin = minBy(data, field)[field];\n    const dataMax = maxBy(data, field)[field];\n    const minRatio = (min - dataMin) / (dataMax - dataMin);\n    const maxRatio = (max - dataMax) / (dataMax - dataMin);\n    const trendMin = minBy(trendlineData, dim)[dim];\n    const trendMax = maxBy(trendlineData, dim)[dim];\n    return {\n      min: trendMin + minRatio * (trendMax - trendMin),\n      max: trendMax + maxRatio * (trendMax - trendMin),\n    };\n  }\n}\n","import { registerTheme } from '../../theme';\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const stroke = style.stroke || '#000';\n  return {\n    stroke,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const stroke = style.stroke || '#000';\n  const lineWidth = style.lineWidth || 2;\n  return {\n    stroke,\n    lineWidth,\n  };\n};\n\nconst POINT_INACTIVE_STYLE = (style) => {\n  const fillOpacity = style.fillOpacity || style.opacity || 0.3;\n  return {\n    fillOpacity,\n  };\n};\n\nregisterTheme('scatter', {\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    selected: POINT_SELECTED_STYLE,\n    inactive: POINT_INACTIVE_STYLE,\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BubbleLayer, { BubbleViewConfig } from './layer';\n\nexport interface BubbleConfig extends BubbleViewConfig, PlotConfig {}\n\nexport default class Bubble extends BasePlot<BubbleConfig> {\n  public static getDefaultOptions: typeof BubbleLayer.getDefaultOptions = BubbleLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'bubble';\n    super.createLayers(layerProps);\n  }\n\n  public getSizeScale() {\n    const layer: any = this.layers[0];\n    return layer.getSizeScale();\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport * as EventParser from '../scatter/event';\nimport ScatterLayer, { ScatterViewConfig } from '../scatter/layer';\nimport './shape';\nimport './theme';\n\nexport interface BubbleViewConfig extends ScatterViewConfig {\n  /**  */\n  pointSize?: [number, number];\n  /**  */\n  sizeField?: string;\n}\n\nexport interface BubbleLayerConfig extends BubbleViewConfig, LayerConfig {}\n\nexport default class BubbleLayer<T extends BubbleLayerConfig = BubbleLayerConfig> extends ScatterLayer<T> {\n  public static getDefaultOptions(): any {\n    return deepMix({}, super.getDefaultOptions(), {\n      //  min 4pxmax 64px\n      pointSize: [2, 32],\n      pointStyle: {\n        stroke: null,\n        strokeOpacity: 1,\n        fillOpacity: 0.5,\n      },\n      label: {\n        position: 'middle',\n        style: {\n          stroke: '#fff',\n          lineWidth: 2,\n        },\n      },\n      shape: 'bubble-point',\n    });\n  }\n\n  public getSizeScale() {\n    const { sizeField } = this.options;\n    if (sizeField) {\n      this.view.getScaleByField(sizeField);\n    }\n  }\n\n  public type: string = 'bubble';\n\n  protected legend() {\n    super.legend();\n\n    if (this.options.legend && this.options.legend.visible === false) {\n      return;\n    }\n\n    this.setConfig('legends', {\n      [this.options.sizeField]: false,\n    });\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('bubble', BubbleLayer);\n","import { registerShape } from '@antv/g2';\nimport { drawPoints } from '@antv/g2/lib/geometry/shape/point/util';\nimport { ShapeInfo, ShapeMarkerCfg } from '@antv/g2/lib/interface';\nimport { IGroup } from '@antv/g-base';\n\nregisterShape('point', 'bubble-point', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const point = drawPoints(this, cfg, container, 'circle', false);\n    //  stroke stroke  fill \n    if (!cfg.style.stroke) {\n      const fill = point.attr('fill');\n      point.attr('stroke', fill);\n    }\n    return point;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { registerTheme } from '../../theme';\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const stroke = style.stroke || '#000';\n  const fillOpacity = style.fillOpacity || style.opacity || 0.95;\n  return {\n    stroke,\n    fillOpacity,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const stroke = style.stroke || '#000';\n  const lineWidth = style.lineWidth || 2;\n  return {\n    stroke,\n    lineWidth,\n  };\n};\n\nconst POINT_INACTIVE_STYLE = (style) => {\n  const fillOpacity = style.fillOpacity || style.opacity || 0.3;\n  return {\n    fillOpacity,\n  };\n};\n\nregisterTheme('bubble', {\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    selected: POINT_SELECTED_STYLE,\n    inactive: POINT_INACTIVE_STYLE,\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BulletLayer, { BulletViewConfig } from './layer';\n\nexport interface BulletConfig extends BulletViewConfig, PlotConfig {}\n\nexport default class Bullet extends BasePlot<BulletConfig> {\n  public static getDefaultOptions: typeof BulletLayer.getDefaultOptions = BulletLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'bullet';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, has } from '@antv/util';\nimport * as EventParser from './event';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { LayerConfig } from '../../base/layer';\nimport { registerPlotType } from '../../base/global';\nimport BulletRect from './component/bulletRect';\nimport BulletTarget from './component/bulletTarget';\nimport { TextStyle, LineStyle } from '../../interface/config';\nimport './theme';\n\nconst G2_GEOM_MAP = {\n  bullet: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'bullet',\n};\n\nexport const STACK_FIELD = '$$stackField$$';\nexport const X_FIELD = '$$xField$$';\nexport const Y_FIELD = '$$yField$$';\n\ninterface BulletAxisTickLine extends LineStyle {\n  visible?: boolean;\n}\n\nexport interface BulletAxis {\n  visible: boolean;\n  position?: 'before' | 'after';\n  style?: TextStyle;\n  tickCount?: number;\n  tickLine?: BulletAxisTickLine;\n  formatter?: (text: string, idx: number) => string;\n}\n\nexport interface BulletViewConfig extends ViewConfig {\n  data: {\n    /**  */\n    title?: string;\n    /** array */\n    measures: number[];\n    /** [0, 1] */\n    ranges?: number[];\n    /** array */\n    targets: number[];\n  }[];\n  /**  */\n  rangeMax: number;\n  /**  */\n  measureSize?: number;\n  measureColors?: string[];\n  /** ratio number, relative to measureSize */\n  rangeSize?: number;\n  /**  */\n  rangeColors?: string[];\n  /**  marker ratio number, relative to measureSize */\n  markerSize?: number;\n  /** marker  */\n  markerColors?: string[];\n  markerStyle?: {\n    /** marker default: 1 */\n    width?: number;\n    /** marker ,  markerColors,  markerColors */\n    fill?: string;\n    [k: string]: any;\n  };\n  /**  */\n  axis?: BulletAxis;\n  stackField?: string;\n}\n\nexport interface BulletLayerConfig extends BulletViewConfig, LayerConfig {}\n\nexport default abstract class BulletLayer extends ViewLayer<BulletViewConfig> {\n  public bullet;\n  protected bulletRect;\n  protected bulletTarget;\n  public type: string = 'bullet';\n  public static getDefaultOptions(): Partial<BulletViewConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      data: [],\n      stackField: STACK_FIELD,\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      rangeColors: ['rgba(91, 143, 249, 0.45)'],\n      measureSize: 12,\n      rangeSize: 2,\n      markerSize: 2,\n      markerColors: [],\n      markerStyle: {\n        width: 2,\n        fill: '#5B8FF9',\n        lineWidth: 0,\n      },\n      axis: {\n        visible: false,\n        position: 'before',\n        tickCount: 6,\n        formatter: (text, idx) => `${idx}`,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.25)',\n          textBaseline: 'middle',\n          textAlign: 'center',\n          fontSize: 12,\n          lineHeight: 16,\n        },\n        tickLine: {\n          visible: true,\n          lineWidth: 1,\n          stroke: '#FFF',\n          lineDash: [4, 2],\n        },\n      },\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        visible: false,\n        nice: false,\n      },\n      tooltip: {\n        visible: false,\n        trigger: 'item',\n        crosshairs: false,\n      },\n      label: {\n        visible: true,\n        offset: 4,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.45)',\n          stroke: '#fff',\n          lineWidth: 1,\n        },\n      },\n    });\n  }\n\n  public afterRender() {\n    super.afterRender();\n    this.view.removeInteraction('legend-filter');\n  }\n\n  protected scale() {\n    const options = this.options;\n    const scales = {};\n    /** y-scale */\n    scales[options.yField] = {};\n    if (has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n    /** x-scale */\n    scales[options.xField] = {\n      type: 'cat',\n    };\n    if (has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  public getOptions(props: BulletViewConfig) {\n    const options = super.getOptions(props);\n    this.adjustOptions(options);\n    return options;\n  }\n\n  public afterInit() {\n    super.afterInit();\n    const options = this.options;\n    const ranges = options.data.map((d) => d.ranges);\n    const targets = options.data.map((d) => d.targets);\n    this.bulletRect = new BulletRect(this.view, {\n      ranges,\n      rangeMax: options.rangeMax,\n      yField: options.yField,\n      rangeSize: options.rangeSize,\n      rangeColors: options.rangeColors || [],\n      axis: options.axis,\n    });\n    this.bulletTarget = new BulletTarget(this.view, {\n      targets,\n      yField: options.yField,\n      markerSize: options.markerSize,\n      markerColors: options.markerColors || [],\n      markerStyle: options.markerStyle,\n    });\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    this.setConfig('coordinate', {\n      actions: [['transpose']],\n    });\n  }\n\n  /**  */\n  protected legend() {\n    const options = this.options;\n    const markerColor = options.markerStyle.fill;\n    const measureColors = options.measureColors || this.theme.colors;\n    const items = [\n      {\n        name: '', // \n        value: '',\n        marker: {\n          symbol: 'square', //  marker  marker \n          style: {\n            fill: measureColors[0], //  marker \n          },\n        },\n      },\n      {\n        name: '', // \n        value: '',\n        marker: {\n          symbol: 'line', //  marker  marker \n          style: {\n            stroke: markerColor, //  marker \n            lineWidth: 2, //  marker \n          },\n        },\n      },\n    ];\n    const legendOptions = {\n      custom: true,\n      position: 'bottom',\n      items,\n      ...options.legend,\n    };\n    // @ts-ignore\n    this.setConfig('legends', legendOptions);\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    const bullet = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this,\n    });\n    bullet.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    if (options.label) {\n      bullet.label = this.extractLabel();\n    }\n    this.bullet = bullet;\n    this.setConfig('geometry', bullet);\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  protected extractLabel() {\n    const options = this.options;\n    const label = deepMix({}, options.label);\n    if (label.visible === false) {\n      return false;\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'barLabel',\n      fields: [options.yField],\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  protected adjustOptions(options): void {\n    options.barSize = options.measureSize || 12;\n    this.adjustYAxisOptions(options);\n  }\n\n  protected adjustYAxisOptions(options): void {\n    const values = [];\n    options.data.forEach((d) => values.push(d.measures.reduce((a, b) => a + b, 0)));\n    values.push(options.rangeMax);\n    options.yAxis.max = Math.max.apply([], values);\n  }\n\n  protected processData(dataOptions: BulletViewConfig['data']) {\n    const options = this.options;\n    const data = [];\n    dataOptions.forEach((dataItem, dataIdx) => {\n      for (let valueIdx = 0; valueIdx < dataItem.measures.length; valueIdx += 1) {\n        const value = dataItem.measures[valueIdx];\n        const xField = dataItem.title || `${dataIdx}`;\n        data.push({\n          [options.xField]: xField,\n          [options.yField]: value,\n          [options.stackField]: `${valueIdx}`,\n        });\n      }\n    });\n    return data;\n  }\n}\n\nregisterPlotType('bullet', BulletLayer);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  bullet: 'interval',\n  bulletTarget: 'bullet-target',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { IGroup, View } from '../../../dependents';\nimport { find, map, get } from '@antv/util';\nimport { BulletAxis } from '../layer';\nimport BBox from '../../../util/bbox';\n\nexport interface BulletRectCfg {\n  /**  */\n  ranges: number[][];\n  yField: string;\n  rangeColors: string[];\n  rangeMax: number;\n  rangeSize: number;\n  axis?: BulletAxis;\n  style?: {\n    fill?: string;\n    stroke?: string;\n    strokeOpacity?: number;\n    [k: string]: any;\n  };\n}\n\nexport default class BulletRect {\n  private view: View;\n  private container: IGroup;\n  private cfg: BulletRectCfg;\n\n  constructor(view: View, cfg: BulletRectCfg) {\n    this.view = view;\n    this.cfg = cfg;\n    this._init();\n  }\n\n  /** labels */\n  public draw() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    this.container = this.view.middleGroup.addGroup();\n    this.container.set('name', 'rectGroups');\n    this.container.setZIndex(-100);\n    const geometry = this.getGeometry();\n    const shapes = map(geometry?.elements, (element) => element.shape);\n    for (let i = 0; i < this.cfg.ranges.length; i += 1) {\n      const shapeBox = shapes[i].getBBox();\n      const widthRatio = shapeBox.width / shapes[i].get('origin').data[this.cfg.yField];\n      this.drawRect(shapeBox, this.cfg.ranges[i] || [0, 1], widthRatio);\n    }\n    this.view.canvas.draw();\n  }\n\n  protected drawRect(box: BBox, ranges: number[], widthRatio: number) {\n    const options = this.cfg;\n    const rangeColors = options.rangeColors;\n    let xPos = box.minX;\n    const yPos = box.minY - (box.height * (options.rangeSize - 1)) / 2;\n    for (let i = 1; i < ranges.length; i += 1) {\n      const width = (ranges[i] - ranges[i - 1]) * options.rangeMax * widthRatio;\n      this.container\n        .addShape('rect', {\n          name: 'bullet-rect',\n          attrs: {\n            width,\n            height: box.height * options.rangeSize,\n            x: xPos,\n            y: yPos,\n            fill: rangeColors[(i - 1) % rangeColors.length],\n            fillOpacity: 0.25,\n          },\n        })\n        .set('zIndex', -1);\n      xPos += width;\n    }\n    if (options.axis && options.axis.visible) {\n      const tickInterval = options.rangeMax / (options.axis.tickCount - 1);\n      const rangeBox = new BBox(box.x, yPos, xPos, box.height * options.rangeSize);\n      this.drawBulletTicks(rangeBox, tickInterval, widthRatio);\n    }\n  }\n\n  /**  ticks  */\n  protected drawBulletTicks(box: BBox, tickInterval: number, widthRatio: number) {\n    const options = this.cfg;\n    const ticksStyle = options.axis.style;\n    const tickCount = options.axis.tickCount;\n    const tickPosition = options.axis.position;\n    const tickOffset = get(ticksStyle, 'lineHeight', 0) - ticksStyle.fontSize / 2;\n    for (let tickIdx = 0; tickIdx < tickCount; tickIdx += 1) {\n      const x = box.minX + tickInterval * tickIdx * widthRatio;\n      let tickText = `${tickInterval * tickIdx}`;\n      if (options.axis.formatter) {\n        tickText = options.axis.formatter(tickText, tickIdx);\n      }\n      this.container.addShape('text', {\n        name: 'tick',\n        attrs: {\n          x,\n          y: tickPosition === 'before' ? box.minY - tickOffset : box.maxY + tickOffset,\n          text: `${tickText}`,\n          ...ticksStyle,\n        },\n      });\n      if (options.axis.tickLine && options.axis.tickLine.visible) {\n        const tickLineCfg = options.axis.tickLine;\n        if (tickIdx > 0 && tickIdx !== tickCount - 1) {\n          this.container\n            .addShape('path', {\n              attrs: {\n                path: [\n                  ['M', x, box.minY],\n                  ['L', x, box.maxY],\n                ],\n                ...tickLineCfg,\n              },\n            })\n            .set('zIndex', -1);\n        }\n      }\n    }\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  private _init() {\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n\n    this.view.on('afterrender', () => {\n      this.draw();\n    });\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geometry) => geometry.type === 'interval');\n  }\n}\n","import BBox from '../../../util/bbox';\nimport { View, Geometry, IGroup } from '../../../dependents';\nimport { find, map } from '@antv/util';\n\nexport interface BulletTargetCfg {\n  targets: number[][];\n  markerSize: number;\n  yField: string;\n  markerColors: string[];\n  markerStyle?: {\n    fill?: string;\n    stroke?: string;\n    strokeOpacity?: number;\n    [k: string]: any;\n  };\n}\n\nexport default class BulletTarget {\n  private view: View;\n  private container: IGroup;\n  private cfg: BulletTargetCfg;\n\n  constructor(view: View, cfg: BulletTargetCfg) {\n    this.view = view;\n    this.cfg = cfg;\n    this._init();\n  }\n\n  /** labels */\n  public draw() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    this.container = this.view.foregroundGroup.addGroup();\n    this.container.set('name', 'targetGroups');\n    const shapes = map(this.getGeometry().elements, (element: any) => element.shape);\n    for (let i = 0; i < this.cfg.targets.length; i += 1) {\n      const shapeBox = shapes[i].getBBox();\n      const widthRatio = shapeBox.width / shapes[i].get('origin').data[this.cfg.yField];\n      this.drawTarget(shapeBox, this.cfg.targets[i], widthRatio);\n    }\n    this.view.canvas.draw();\n  }\n\n  protected drawTarget(box: BBox, targets: number[], widthRatio: number) {\n    const options = this.cfg;\n    const colors = options.markerColors;\n    /**  */\n    targets.forEach((target: number, i) => {\n      const markerStyle = options.markerStyle;\n      this.container.addShape('rect', {\n        name: 'bullet-target',\n        attrs: {\n          width: markerStyle.width,\n          height: box.height * options.markerSize - markerStyle.width / 2,\n          x: box.minX + target * widthRatio,\n          y: box.minY - (box.height * (options.markerSize - 1)) / 2,\n          ...markerStyle,\n          fill: colors[i % colors.length] || markerStyle.fill,\n        },\n      });\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  private _init() {\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n\n    this.view.on('afterrender', () => {\n      this.draw();\n    });\n  }\n\n  private getGeometry() {\n    return find(this.view.geometries, (geometry) => geometry.type === 'interval') as Geometry;\n  }\n}\n","import { registerTheme } from '../../theme';\n\nconst BULLET_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5, lineWidth: 0 };\n};\n\nconst BULLET_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('bullet', {\n  columnStyle: {\n    normal: {},\n    active: BULLET_ACTIVE_STYLE,\n    disable: BULLET_DISABLE_STYLE,\n    selected: {},\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport CalenderLayer from './layer';\n\n//  shape\nimport './shape';\n\nexport type CalendarConfig = PlotConfig;\n\n/**\n * \n */\nexport default class Calendar extends BasePlot<any> {\n  public static getDefaultOptions: typeof CalenderLayer.getDefaultOptions = CalenderLayer.getDefaultOptions;\n\n  /**\n   * \n   * @param props\n   */\n  protected createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'calendar';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, isNil, map, get } from '@antv/util';\nimport fecha from 'fecha';\nimport { DataItem, LayerConfig, ViewConfig } from '../..';\nimport ViewLayer from '../../base/view-layer';\nimport { DAY_FIELD, FORMATTER, MONTHS, WEEK_FIELD, WEEKS } from './constant';\nimport { generateCalendarData, getMonthCenterWeek } from './util';\nimport { registerPlotType } from '../../base/global';\nimport { getDateRange } from '../../util/date';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\n\n/**  */\nexport interface CalendarViewConfig extends ViewConfig {\n  /**  */\n  readonly dateField: string; // YYYY-MM-DD\n  /**  */\n  readonly valueField: string;\n  /** [2019-10, 2020-03] */\n  readonly dateRange?: string[];\n  // \n  readonly colors?: string[] | string;\n  // \n  readonly months?: string[];\n  // \n  readonly weeks?: string[];\n}\n\ninterface CalendarLayerConfig extends CalendarViewConfig, LayerConfig {}\n\n/**\n * \n */\nexport default class CalendarLayer extends ViewLayer<CalendarLayerConfig> {\n  public type: string = 'calendar';\n\n  public static getDefaultOptions(): Partial<CalendarLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        line: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoRotate: false,\n          autoHide: false,\n        },\n      },\n      yAxis: {\n        line: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n          autoRotate: false,\n          autoHide: false,\n        },\n      },\n      legend: { visible: false },\n      meta: {\n        [DAY_FIELD]: {\n          type: 'cat',\n          alias: 'Day',\n          values: [0, 1, 2, 3, 4, 5, 6],\n        },\n        [WEEK_FIELD]: {\n          type: 'cat',\n          alias: 'Month',\n        },\n      },\n      tooltip: {\n        visible: true,\n        showTitle: true,\n        showCrosshairs: false,\n        showMarkers: false,\n        title: 'date',\n      },\n    });\n  }\n\n  /**\n   * \n   * 1.  polygon  x y field\n   *\n   * @param data\n   */\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const { dateField } = this.options;\n    let { dateRange } = this.options;\n\n    // \n    if (isNil(dateRange)) {\n      const dates = map(data, (datum: DataItem) => fecha.parse(`${datum[dateField]}`, FORMATTER));\n      dateRange = getDateRange(dates);\n    }\n\n    return generateCalendarData(data, dateRange, dateField);\n  }\n\n  protected addGeometry(): void {\n    const { valueField, colors, tooltip } = this.options;\n    const polygonConfig: any = {\n      type: 'polygon',\n      position: {\n        fields: [WEEK_FIELD, DAY_FIELD],\n      },\n      shape: {\n        values: ['calendar-polygon'],\n      },\n      color: {\n        fields: [valueField],\n        values: colors,\n      },\n      label: this.extractLabel(),\n    };\n\n    if (tooltip && (tooltip.fields || tooltip.formatter)) {\n      this.geometryTooltip(polygonConfig);\n    }\n\n    this.setConfig('geometry', polygonConfig);\n  }\n\n  protected geometryTooltip(geomConfig) {\n    geomConfig.tooltip = {};\n    const tooltipOptions: any = this.options.tooltip;\n    if (tooltipOptions.fields) {\n      geomConfig.tooltip.fields = tooltipOptions.fields;\n    }\n    if (tooltipOptions.formatter) {\n      geomConfig.tooltip.callback = tooltipOptions.formatter;\n      if (!tooltipOptions.fields) {\n        geomConfig.tooltip.fields = [WEEK_FIELD, DAY_FIELD];\n      }\n    }\n  }\n\n  private extractLabel() {\n    const props = this.options;\n    const label = props.label;\n    if (label && label.visible === false) {\n      return false;\n    }\n    const { valueField } = this.options;\n\n    return getComponent('label', {\n      plot: this,\n      fields: [valueField],\n      position: 'top',\n      offset: 0,\n      ...label,\n    });\n  }\n\n  /**\n   * \n   */\n  protected coord(): void {\n    // \n    const coordinateConfig = {\n      type: 'rect',\n      cfg: {},\n      actions: [['reflect', 'y']],\n    } as any;\n    this.setConfig('coordinate', coordinateConfig);\n  }\n\n  /**\n   *  geometry parser polygon \n   */\n  protected geometryParser(): string {\n    return '';\n  }\n\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    const axesConfig = {};\n    axesConfig[WEEK_FIELD] = xAxis_parser;\n    axesConfig[DAY_FIELD] = yAxis_parser;\n    /** config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected scale(): void {\n    super.scale();\n\n    const monthWeek = getMonthCenterWeek(this.options.dateRange);\n\n    //  scale  x y \n    const scales = this.config.scales;\n    const { weeks = WEEKS, months = MONTHS } = this.options;\n\n    const x = scales[WEEK_FIELD];\n    const y = scales[DAY_FIELD];\n    // 1.  formatter\n    x.formatter = (v) => {\n      const m = monthWeek[v];\n      return m !== undefined ? months[m] : '';\n    };\n\n    y.formatter = (v) => weeks[v] || '';\n\n    // 2.  alias\n    const { xAxis, yAxis } = this.options;\n    x.alias = get(xAxis, ['title', 'text'], x.alias);\n    y.alias = get(yAxis, ['title', 'text'], y.alias);\n\n    this.setConfig('scales', scales);\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n}\n\n// \nregisterPlotType('calendar', CalendarLayer);\n","import fecha from 'fecha';\nimport { head, last, find } from '@antv/util';\nimport { DataItem } from '../..';\nimport { DATE_FIELD, DAY_FIELD, FORMATTER, WEEK_FIELD } from './constant';\nimport { advanceBy, DAY_MS, getDay, getWeek } from '../../util/date';\n\n/**\n * \n * @param dateRange\n */\nfunction parseDateRange(dateRange: string[]): Date[] {\n  const [from, to] = dateRange;\n\n  let fromDate = fecha.parse(from, FORMATTER);\n  let toDate = fecha.parse(to, FORMATTER);\n\n  // \n  if (fromDate > toDate) {\n    [toDate, fromDate] = [fromDate, toDate];\n  }\n\n  return [fromDate, toDate];\n}\n\n/**\n *  range \n * @param data \n * @param dateRange \n * @param dateField \n */\nexport function generateCalendarData(data: DataItem[], dateRange: string[], dateField: string): DataItem[] {\n  const all = [];\n\n  const [fromDate, toDate] = parseDateRange(dateRange);\n  // copy \n  const curr = new Date(fromDate);\n  while (curr <= toDate) {\n    const dateString = fecha.format(curr, FORMATTER);\n    // \n    const datum = find(data, (datum: DataItem) => datum[dateField] === dateString);\n\n    all.push({\n      [DAY_FIELD]: getDay(curr),\n      [WEEK_FIELD]: `${getWeek(curr)}`,\n      [dateField]: dateString,\n      [DATE_FIELD]: new Date(curr), // copy\n      ...datum,\n    });\n\n    // \n    advanceBy(curr, DAY_MS);\n  }\n\n  return all;\n}\n\n/**\n * \n */\nexport function getMonthCenterWeek(dateRange: string[]): Record<number, number> {\n  const [fromDate, toDate] = parseDateRange(dateRange);\n\n  const monthWeekMap = new Map<number, number[]>();\n\n  function append(current: Date) {\n    const month = current.getMonth(); //  0 \n    const week = getWeek(current);\n\n    if (!monthWeekMap.has(month)) {\n      monthWeekMap.set(month, []);\n    }\n\n    monthWeekMap.get(month).push(week);\n  }\n\n  // copy \n  const curr = new Date(fromDate);\n  while (curr <= toDate) {\n    //  map \n    append(curr);\n\n    //  7 \n    advanceBy(curr, DAY_MS * 7);\n  }\n\n  // \n  if (toDate < curr) {\n    append(toDate);\n  }\n\n  // \n  const result: Record<number, number> = {}; // week -> month\n\n  monthWeekMap.forEach((v: number[], k: number) => {\n    const w = Math.ceil((head(v) + last(v)) / 2); // \n    result[w] = k;\n  });\n\n  return result;\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  rect: 'polygon',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { isEmpty } from '@antv/util';\nimport { registerShape } from '@antv/g2';\nimport { DATE_FIELD } from './constant';\nimport { isLastDayOfMonth, isLastWeekOfMonth } from '../../util/date';\nimport { Point } from '../..';\n\n/**\n *  shape\n * code from https://g2.antv.vision/zh/examples/heatmap/heatmap#calendar-horizontal\n */\nregisterShape('polygon', 'calendar-polygon', {\n  draw(cfg, container) {\n    if (!isEmpty(cfg.points)) {\n      const points = cfg.points as Point[];\n      // rect path\n      let path = [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['L', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['Z'],\n      ];\n      path = this.parsePath(path);\n\n      const attrs = {\n        stroke: '#fff',\n        lineWidth: 1,\n        fill: cfg.color,\n        ...cfg.style,\n        path,\n      };\n\n      const polygon = container.addShape('path', {\n        attrs,\n      });\n\n      const date: Date = cfg.data[DATE_FIELD];\n\n      if (isLastWeekOfMonth(date)) {\n        const linePath = [\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n        ];\n        // \n        container.addShape('path', {\n          zIndex: 1,\n          attrs: {\n            path: this.parsePath(linePath),\n            lineWidth: 1,\n            stroke: '#404040',\n          },\n        });\n        if (isLastDayOfMonth(date)) {\n          container.addShape('path', {\n            zIndex: 1,\n            attrs: {\n              path: this.parsePath([\n                ['M', points[1].x, points[1].y],\n                ['L', points[2].x, points[2].y],\n              ]),\n              lineWidth: 1,\n              stroke: '#404040',\n            },\n          });\n        }\n      }\n\n      container.sort();\n\n      return polygon;\n    }\n  },\n});\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GaugeLayer, { GaugeLayerConfig } from './layer';\n\nexport interface GaugeConfig extends GaugeLayerConfig, PlotConfig {}\n\nexport default class Gauge extends BasePlot<GaugeConfig> {\n  public static getDefaultOptions: typeof GaugeLayer.getDefaultOptions = GaugeLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'gauge';\n    super.createLayers(layerProps);\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  range: 'point',\n  statistic: 'annotation-text',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport FanGaugeLayer, { FanGaugeLayerConfig } from './layer';\n\nexport interface FanGaugeConfig extends FanGaugeLayerConfig, PlotConfig {}\n\nexport default class FanGauge extends BasePlot<FanGaugeConfig> {\n  public static getDefaultOptions: typeof FanGaugeLayer.getDefaultOptions = FanGaugeLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'fanGauge';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix, uniqueId } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport GaugeLayer from '../gauge/layer';\nimport { GaugeShape } from '../gauge/geometry/shape/gauge-shape';\nimport { GaugeViewConfig } from '../gauge/interface';\nimport { LayerConfig } from '../../base/layer';\n\nexport interface FanGaugeViewConfig extends GaugeViewConfig {}\n\nexport interface FanGaugeLayerConfig extends FanGaugeViewConfig, LayerConfig {}\n\nexport default class FanGaugeLayer<T extends FanGaugeLayerConfig = FanGaugeLayerConfig> extends GaugeLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      rangeColor: '#F6445A',\n      rangeSize: 70,\n      axis: {\n        visible: true,\n        offset: 5,\n        tickCount: 10,\n        subTickCount: 4,\n        tickLine: {\n          visible: true,\n          length: 3,\n          style: {\n            stroke: '#aaa',\n            lineWidth: 3,\n          },\n        },\n        label: {\n          visible: true,\n          style: {\n            fill: '#aaa',\n            fontSize: 16,\n            textAlign: 'center',\n            textBaseline: 'middle',\n          },\n        },\n      },\n    });\n  }\n\n  public type: string = 'fanGauge';\n\n  protected initG2Shape() {\n    this.gaugeShape = new GaugeShape(uniqueId());\n    this.gaugeShape.setOption(\n      this.type,\n      deepMix({}, this.options, {\n        radius: 1,\n        angle: 120,\n        textPosition: '125%',\n        bottomRatio: 3.5,\n      })\n    );\n    this.gaugeShape.render();\n  }\n\n  protected axis() {\n    const axesConfig: any = {\n      value: false,\n      1: false,\n    };\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected annotation() {\n    const { statistic } = this.options;\n    const annotationConfigs = [];\n    // @ts-ignore\n    if (statistic && statistic.visible) {\n      const statistics = this.renderStatistic();\n      annotationConfigs.push(statistics);\n    }\n    const siderTexts = this.renderSideText();\n    const allAnnotations = annotationConfigs.concat(siderTexts);\n    this.setConfig('annotations', allAnnotations);\n  }\n\n  protected renderSideText() {\n    const { max, min, format, rangeSize, axis } = this.options;\n    const OFFSET_Y = 12;\n    return [min, max].map((value, index) => {\n      return {\n        type: 'text',\n        top: true,\n        position: ['50%', '50%'],\n        content: format(value),\n        style: deepMix({}, axis.label.style, {\n          textAlign: 'center',\n        }),\n        offsetX: !index ? -rangeSize : rangeSize,\n        offsetY: OFFSET_Y,\n      };\n    });\n  }\n}\n\nregisterPlotType('fanGauge', FanGaugeLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport MeterGaugeLayer, { MeterGaugeLayerConfig } from './layer';\n\nexport interface MeterGaugeConfig extends MeterGaugeLayerConfig, PlotConfig {}\n\nexport default class MeterGauge extends BasePlot<MeterGaugeConfig> {\n  public static getDefaultOptions: typeof MeterGaugeLayer.getDefaultOptions = MeterGaugeLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'meterGauge';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport GaugeLayer from '../gauge/layer';\nimport { GaugeViewConfig } from '../gauge/interface';\n\nexport type MeterGaugeViewConfig = GaugeViewConfig;\n\nexport interface MeterGaugeLayerConfig extends MeterGaugeViewConfig, LayerConfig {}\n\nexport default class MeterGaugeLayer<T extends MeterGaugeLayerConfig = MeterGaugeLayerConfig> extends GaugeLayer<T> {\n  public static getDefaultOptions() {\n    return deepMix({}, super.getDefaultOptions(), {\n      axis: {\n        visible: true,\n        offset: -10,\n        tickCount: 25,\n        subTickCount: 4,\n        tickLine: {\n          visible: true,\n          length: 2,\n          style: {\n            stroke: '#aaa',\n            lineWidth: 1,\n          },\n        },\n      },\n    });\n  }\n\n  public type: string = 'meterGauge';\n}\n\nregisterPlotType('meterGauge', MeterGaugeLayer);\n","//  0.x\nexport { default as Ring, RingConfig } from './ring';\nexport { default as GroupColumn, GroupColumnConfig } from './group-column';\nexport { default as GroupBar, GroupBarConfig } from './group-bar';\nexport { default as PercentageStackArea, PercentageStackAreaConfig } from './percentage-stack-area';\nexport { default as PercentageStackBar, PercentageStackBarConfig } from './percentage-stack-bar';\nexport { default as PercentageStackColumn, PercentageStackColumnConfig } from './percentage-stack-column';\nexport { default as StackArea, StackAreaConfig } from './stack-area';\nexport { default as StackBar, StackBarConfig } from './stack-bar';\nexport { default as StackColumn, StackColumnConfig } from './stack-column';\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport DonutLayer, { DonutViewConfig } from '../../donut/layer';\n\nexport interface RingConfig extends DonutViewConfig, PlotConfig {}\n\nexport default class Ring extends BasePlot<RingConfig> {\n  public static getDefaultOptions: typeof DonutLayer.getDefaultOptions = DonutLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'donut';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"Donut\" instead of \"Ring\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport GroupedColumnLayer, { GroupedColumnViewConfig } from '../../grouped-column/layer';\n\nexport interface GroupColumnConfig extends GroupedColumnViewConfig, PlotConfig {}\n\nexport default class GroupColumn extends BasePlot<GroupColumnConfig> {\n  public static getDefaultOptions: typeof GroupedColumnLayer.getDefaultOptions = GroupedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedColumn';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"GroupedColumn\" instead of \"GroupColumn\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport GroupedBarLayer, { GroupedBarViewConfig } from '../../grouped-bar/layer';\n\nexport interface GroupBarConfig extends GroupedBarViewConfig, PlotConfig {}\n\nexport default class GroupBar extends BasePlot<GroupBarConfig> {\n  public static getDefaultOptions: typeof GroupedBarLayer.getDefaultOptions = GroupedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedBar';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"GroupedBar\" instead of \"GroupBar\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport PercentStackedAreaLayer, { PercentStackedAreaViewConfig } from '../../percent-stacked-area/layer';\n\nexport interface PercentageStackAreaConfig extends PercentStackedAreaViewConfig, PlotConfig {}\n\nexport default class PercentageStackArea extends BasePlot<PercentageStackAreaConfig> {\n  public static getDefaultOptions: typeof PercentStackedAreaLayer.getDefaultOptions =\n    PercentStackedAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedArea';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"PercentStackedArea\" instead of \"PercentageStackArea\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport PercentStackedBarLayer, { PercentStackedBarViewConfig } from '../../percent-stacked-bar/layer';\n\nexport interface PercentageStackBarConfig extends PercentStackedBarViewConfig, PlotConfig {}\n\nexport default class PercentageStackBar extends BasePlot<PercentageStackBarConfig> {\n  public static getDefaultOptions: typeof PercentStackedBarLayer.getDefaultOptions =\n    PercentStackedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedBar';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"PercentStackedBar\" instead of \"PercentageStackBar\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport PercentStackedColumnLayer, { PercentStackedColumnViewConfig } from '../../percent-stacked-column/layer';\n\nexport interface PercentageStackColumnConfig extends PercentStackedColumnViewConfig, PlotConfig {}\n\nexport default class PercentageStackColumn extends BasePlot<PercentageStackColumnConfig> {\n  public static getDefaultOptions: typeof PercentStackedColumnLayer.getDefaultOptions =\n    PercentStackedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'percentStackedColumn';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"PercentStackedColumn\" instead of \"PercentageStackColumn\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport StackedAreaLayer from '../../stacked-area/layer';\nimport { StackedAreaViewConfig } from '../../stacked-area/interface';\n\nexport interface StackAreaConfig extends StackedAreaViewConfig, PlotConfig {}\n\nexport default class StackArea extends BasePlot<StackAreaConfig> {\n  public static getDefaultOptions: typeof StackedAreaLayer.getDefaultOptions = StackedAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedArea';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"StackedArea\" instead of \"StackArea\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport StackedBarLayer, { StackedBarViewConfig } from '../../stacked-bar/layer';\n\nexport interface StackBarConfig extends StackedBarViewConfig, PlotConfig {}\n\nexport default class StackBar extends BasePlot<StackBarConfig> {\n  public static getDefaultOptions: typeof StackedBarLayer.getDefaultOptions = StackedBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedBar';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"StackedBar\" instead of \"StackBar\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../../base/plot';\nimport warning from 'warning';\nimport StackedColumnLayer, { StackedColumnViewConfig } from '../../stacked-column/layer';\n\nexport interface StackColumnConfig extends StackedColumnViewConfig, PlotConfig {}\n\nexport default class StackColumn extends BasePlot<StackColumnConfig> {\n  public static getDefaultOptions: typeof StackedColumnLayer.getDefaultOptions = StackedColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedColumn';\n    super.createLayers(layerProps);\n    warning(false, 'Please use \"StackedColumn\" instead of \"StackColumn\" which was not recommended.');\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport ProgressLayer, { ProgressViewConfig } from './layer';\n\nexport interface ProgressConfig extends ProgressViewConfig, PlotConfig {}\n\nexport default class Progress extends BasePlot<ProgressConfig> {\n  public static getDefaultOptions: typeof ProgressLayer.getDefaultOptions = ProgressLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'progress';\n    super.createLayers(layerProps);\n  }\n\n  public update(value: number, style?) {\n    const layer = this.layers[0] as any;\n    layer.update(value, style);\n  }\n}\n","import { assign, deepMix } from '@antv/util';\nimport { View, IGroup, IShape, Canvas } from '../../../dependents';\n\nexport interface MarkerConfig {\n  view?: View;\n  canvas?: Canvas;\n  progressSize?: number;\n  value: number;\n  style?: any;\n}\n\nexport default class Marker {\n  public canvas: Canvas;\n  public view: View;\n  public progressSize: number;\n  public value: number;\n  public style: any;\n  protected coord: any; //fixme: \n  protected container: IGroup;\n  protected shape: IShape;\n\n  constructor(cfg: MarkerConfig) {\n    assign(this, cfg);\n    this.init();\n  }\n\n  public destroy() {\n    if (this.shape) {\n      this.shape.destroy();\n    }\n  }\n\n  public update(cfg: MarkerConfig, duration: number, easing: string) {\n    let updateCfg: any = {};\n    assign(this, cfg);\n    this.coord = this.view.geometries[0].coordinate;\n    if (cfg.value) {\n      const x = this.coord.convert({ x: 0, y: this.value }).x;\n      const matrix = [1, 0, 0, 0, 1, 0, x, 0, 1];\n      updateCfg.matrix = matrix;\n    }\n    if (cfg.style) {\n      const shape: any = this.shape;\n      const origin_attr = shape.attrs;\n      const attrs = deepMix({}, origin_attr, cfg.style);\n      updateCfg = deepMix({}, attrs, updateCfg);\n    }\n    this.shape.stopAnimate();\n    this.shape.animate(updateCfg, duration, easing);\n  }\n\n  protected init() {\n    this.coord = this.view.geometries[0].coordinate;\n    this.container = this.view.foregroundGroup.addGroup();\n    const x = this.coord.convert({ x: 0, y: this.value }).x; // progress\n    const y0 = this.coord.center.y - this.progressSize / 2 - 2;\n    const y1 = this.coord.center.y + this.progressSize / 2 + 2;\n    const style = deepMix({}, { stroke: 'grey', lineWidth: 1 }, this.style);\n    this.shape = this.container.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, y0],\n          ['L', 0, y1],\n        ],\n        ...style,\n      },\n      name: 'progress-marker',\n    });\n    this.shape.move(x, 0);\n    this.canvas.draw();\n  }\n}\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  progress: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RingProgressLayer, { RingProgressViewConfig } from './layer';\n\nexport interface RingProgressConfig extends RingProgressViewConfig, PlotConfig {}\n\nexport default class RingProgress extends BasePlot<RingProgressConfig> {\n  public static getDefaultOptions: typeof RingProgressLayer.getDefaultOptions = RingProgressLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'ringProgress';\n    super.createLayers(layerProps);\n  }\n\n  public update(value: number) {\n    const layer = this.layers[0] as any;\n    layer.update(value);\n  }\n}\n","import { mix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport ProgressLayer, { ProgressViewConfig } from '../progress/layer';\nimport * as EventParser from './event';\n\nconst DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nexport type RingProgressViewConfig = ProgressViewConfig;\nexport interface RingProgressLayerConfig extends RingProgressViewConfig, LayerConfig {}\n\nexport default class RingProgressLayer extends ProgressLayer<RingProgressLayerConfig> {\n  public ring: any;\n  public type: string = 'ringProgrsss';\n\n  public processProps() {\n    let props = this.options;\n    props.data = this.processData();\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR,\n    } as any;\n    props = mix(props, cfg);\n  }\n\n  protected coord() {\n    const coordConfig: any = {\n      type: 'theta',\n      cfg: {\n        radius: 1.0,\n        innerRadius: this.getThickness(this.options.size),\n      },\n    };\n    this.setConfig('coordinate', coordConfig);\n  }\n\n  protected annotation() {\n    return;\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    this.ring = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    this.ring.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    this.setConfig('geometry', this.ring);\n  }\n\n  protected animation() {\n    this.ring.animate = {\n      appear: {\n        duration: 1000,\n      },\n    };\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  private getThickness(value?: number): number {\n    const width = this.width;\n    const height = this.height;\n    const size = Math.min(width, height);\n\n    if (value) {\n      return 1.0 - value / size;\n    }\n\n    if (size >= 60) {\n      return 1.0 - 20 / size;\n    }\n    return 1.0 - 10 / size;\n  }\n}\n\nregisterPlotType('ringProgress', RingProgressLayer);\n","import { assign } from '@antv/util';\nimport { getEventMap, EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst componentMap = {\n  ringProgress: 'interval',\n};\n\nconst SHAPE_EVENT_MAP: IEventmap = getEventMap(componentMap);\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyColumnLayer, { TinyColumnLayerConfig } from './layer';\n\nexport interface TinyColumnConfig extends TinyColumnLayerConfig, PlotConfig {}\n\nexport default class TinyColumn extends BasePlot<TinyColumnConfig> {\n  public static getDefaultOptions: typeof TinyColumnLayer.getDefaultOptions = TinyColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'tinyColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { mix, each } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\nimport { IStyle } from '../../interface/config';\n\nconst WIDTH_RATIO = 0.6;\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'column',\n};\n\nexport interface TinyColumnViewConfig extends TinyViewConfig {\n  columnStyle?: IStyle;\n}\nexport interface TinyColumnLayerConfig extends TinyColumnViewConfig, LayerConfig {}\n\nexport default class TinyColumnLayer extends TinyLayer<TinyColumnLayerConfig> {\n  public line: any;\n  public area: any;\n  public type: string = 'tinyColumn';\n\n  public init() {\n    this.processProps();\n    super.init();\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** x-scale */\n    scales[options.xField] = { type: 'cat' };\n    this.setConfig('scales', scales);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const column = getGeom('interval', 'main', {\n      positionFields: [props.xField, props.yField],\n      plot: this,\n    });\n    this.setConfig('geometry', column);\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n\n  private processProps() {\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      columnSize: this.getSize(),\n    } as any;\n    this.options = mix(this.options, cfg);\n  }\n\n  private getSize() {\n    const props = this.options;\n    const columnNumber = this.getColumnNum(props.data, props.xField);\n    const width = this.width;\n    return (width / columnNumber) * WIDTH_RATIO;\n  }\n\n  private getColumnNum(data, field) {\n    const values = [];\n    each(data, (d) => {\n      const v = d[field];\n      if (values.indexOf(v) < 0) {\n        values.push(v);\n      }\n    });\n    return values.length;\n  }\n}\n\nregisterPlotType('tinyColumn', TinyColumnLayer);\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnContextmenu: 'interval:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyAreaLayer, { TinyAreaViewConfig } from './layer';\n\nexport interface TinyAreaConfig extends TinyAreaViewConfig, PlotConfig {}\n\nexport default class TinyArea extends BasePlot<TinyAreaConfig> {\n  public static getDefaultOptions: typeof TinyAreaLayer.getDefaultOptions = TinyAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'tinyArea';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\nimport { IStyle } from '../../interface/config';\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n};\n\nexport interface TinyAreaViewConfig extends TinyViewConfig {\n  areaStyle?: IStyle;\n  lineStyle?: IStyle;\n  smooth?: boolean;\n}\n\nexport interface TinyAreaLayerConfig extends TinyAreaViewConfig, LayerConfig {}\n\nexport default class TinyAreaLayer extends TinyLayer<TinyAreaLayerConfig> {\n  public line: any;\n  public area: any;\n  public type: string = 'tinyArea';\n\n  protected geometryParser(dim: string, type: string): string {\n    return GEOM_MAP[type];\n  }\n\n  protected addGeometry() {\n    this.area = getGeom('area', 'mini', {\n      plot: this,\n    });\n    this.setConfig('geometry', this.area);\n\n    this.line = getGeom('line', 'mini', {\n      plot: this,\n    });\n    this.setConfig('geometry', this.line);\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('tinyArea', TinyAreaLayer);\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyLineLayer, { TinyLineViewConfig } from './layer';\n\nexport interface TinyLineConfig extends TinyLineViewConfig, PlotConfig {}\n\nexport default class TinyLine extends BasePlot<TinyLineConfig> {\n  public static getDefaultOptions: typeof TinyLineLayer.getDefaultOptions = TinyLineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'tinyLine';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\nimport { IStyle } from '../../interface/config';\n\nconst GEOM_MAP = {\n  line: 'line',\n};\n\nexport interface TinyLineViewConfig extends TinyViewConfig {\n  lineStyle?: IStyle;\n  smooth?: boolean;\n}\nexport interface TinyLineLayerConfig extends TinyLineViewConfig, LayerConfig {}\n\nexport default class TinyLineLayer extends TinyLayer<TinyLineLayerConfig> {\n  public line: any;\n  public type: string = 'tinyLine';\n\n  protected geometryParser(dim: string, type: string): string {\n    return GEOM_MAP[type];\n  }\n\n  protected addGeometry() {\n    this.line = getGeom('line', 'mini', {\n      plot: this,\n    });\n    this.setConfig('geometry', this.line);\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('tinyLine', TinyLineLayer);\n","import { assign } from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu',\n};\n\nassign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport DualLineLayer, { DualLineViewConfig } from './layer';\n\nexport interface DualLineConfig extends DualLineViewConfig, PlotConfig {}\n\nexport default class DualLine extends BasePlot<DualLineConfig> {\n  public static getDefaultOptions: typeof DualLineLayer.getDefaultOptions = DualLineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'dualLine';\n    super.createLayers(layerProps);\n  }\n}\n","import { Legend } from '@antv/component';\nimport { registerPlotType } from '../../base/global';\nimport ComboViewLayer from '../base';\nimport { LayerConfig } from '../../base/layer';\nimport LineLayer from '../../plots/line/layer';\nimport { clone, deepMix, each } from '@antv/util';\nimport { IValueAxis, ICatAxis, ITimeAxis } from '../../interface/config';\nimport { ComboViewConfig, LineConfig } from '../util/interface';\n\nexport interface DualLineViewConfig extends ComboViewConfig {\n  xAxis?: IValueAxis | ICatAxis | ITimeAxis;\n  tooltip?: any;\n  lineConfigs?: LineConfig[];\n}\n\nconst defaultLineConfig = {\n  lineSize: 2,\n  connectNull: true,\n  point: {\n    visible: false,\n    size: 3,\n    shape: 'circle',\n    style: {\n      stroke: '#fff',\n    },\n  },\n  label: {\n    visible: false,\n  },\n};\n\nconst defaultYAxisConfig = {\n  visible: true,\n  colorMapping: true,\n  grid: {\n    visible: true,\n  },\n  line: {\n    visible: false,\n  },\n  tickLine: {\n    visible: false,\n  },\n  label: {\n    visible: true,\n    autoHide: true,\n    autoRotate: false,\n  },\n  title: {\n    autoRotate: true,\n    visible: false,\n    offset: 12,\n  },\n};\n\ninterface DualLineLayerConfig extends DualLineViewConfig, LayerConfig {}\n\nexport default class DualLineLayer<T extends DualLineLayerConfig = DualLineLayerConfig> extends ComboViewLayer<T> {\n  public static getDefaultOptions(): Partial<DualLineLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      legend: {\n        visible: true,\n      },\n      yAxis: {\n        leftConfig: defaultYAxisConfig,\n        rightConfig: defaultYAxisConfig,\n      },\n      // cp....\n      lineConfigs: [\n        deepMix({}, defaultLineConfig, { color: '#5B8FF9' }),\n        deepMix({}, defaultLineConfig, { color: '#e76c5e' }),\n      ],\n    });\n  }\n\n  public type: string = 'dualLine';\n\n  public init() {\n    super.init();\n    if (!this.checkData()) {\n      return;\n    }\n    const { data, meta, xField, yField, xAxis, tooltip, lineConfigs, legend, events } = this.options;\n    this.colors = [lineConfigs[0].color as string, lineConfigs[1].color as string];\n    const yAxisGlobalConfig = this.getYAxisGlobalConfig();\n    //draw first line\n    const leftLine = this.createLayer(LineLayer, data[0], {\n      meta,\n      xField,\n      yField: yField[0],\n      xAxis: {\n        visible: false,\n      },\n      yAxis: deepMix({}, yAxisGlobalConfig, this.yAxis(0), {\n        grid: {\n          visible: false,\n        },\n        nice: true,\n      }),\n      tooltip: {\n        visible: false,\n      },\n      events,\n      ...lineConfigs[0],\n    });\n    leftLine.render();\n    //draw second line\n    const metaInfo = {};\n    metaInfo[yField[1]] = { ticks: this.getTicks() };\n    const rightLine = this.createLayer(LineLayer, data[1], {\n      xField,\n      yField: yField[1],\n      meta: deepMix({}, meta, metaInfo),\n      serieField: yField[1],\n      xAxis,\n      yAxis: deepMix({}, yAxisGlobalConfig, this.yAxis(1), {\n        position: 'right',\n        nice: false,\n      }),\n      tooltip: deepMix({}, tooltip, {\n        showMarkers: false,\n        custom: {\n          onChange: (containerDom, ev) => {\n            this.tooltip(containerDom, ev);\n          },\n        },\n      }),\n      events,\n      ...lineConfigs[1],\n    });\n    rightLine.render();\n    if (legend.visible) {\n      this.customLegend();\n    }\n    this.adjustLayout();\n  }\n\n  protected tooltip(dom, ev) {\n    const unCheckedValue = this.getUnCheckedValue();\n    // legenduncheckedtooltip\n    if (unCheckedValue.length === this.colors.length) {\n      dom.style.display = 'none';\n      return;\n    } else {\n      dom.style.display = 'block';\n    }\n    const { yField, legend } = this.options;\n    const originItem = clone(ev.items[0]);\n    const dataItemsA = this.getDataByXField(ev.title, 0)[0];\n    if (dataItemsA) {\n      ev.items.push({\n        ...originItem,\n        mappingData: deepMix({}, originItem.mappingData, { _origin: dataItemsA }),\n        data: dataItemsA,\n        name: yField[0],\n        value: dataItemsA[yField[0]],\n        color: this.colors[0],\n      });\n    }\n    if (legend.visible) {\n      each(this.legends, (legend, index) => {\n        const item = legend.get('items')[0];\n        if (item.unchecked) {\n          const spliceIndex = index === 0 ? 1 : 0;\n          ev.items.splice(spliceIndex, 1);\n        }\n      });\n    }\n  }\n\n  protected customLegend() {\n    const { yField, legend } = this.options;\n    const { colors } = this;\n    const container = this.container.addGroup();\n    const legendCfg = legend;\n    each(this.geomLayers, (line, index) => {\n      const markerCfg = deepMix(\n        {},\n        {\n          symbol: 'circle',\n          style: {\n            r: 4,\n            fill: colors[index],\n          },\n        },\n        legendCfg.marker\n      );\n      const items = [\n        {\n          name: yField[index],\n          unchecked: false,\n          marker: markerCfg,\n        },\n      ];\n      const legend = new Legend.Category({\n        id: this.type,\n        container,\n        x: 0,\n        y: 0,\n        items: items,\n        updateAutoRender: true,\n        itemBackground: null,\n        itemName: legendCfg.text,\n      });\n      legend.init();\n      legend.render();\n      this.legends.push(legend);\n    });\n    // legend\n    each(this.geomLayers, (line, index) => {\n      this.legendFilter(index);\n    });\n  }\n}\n\nregisterPlotType('dualLine', DualLineLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport ColumnLineLayer, { ColumnLineViewConfig } from './layer';\n\nexport interface ColumnLineConfig extends ColumnLineViewConfig, PlotConfig {}\n\nexport default class ColumnLine extends BasePlot<ColumnLineConfig> {\n  public static getDefaultOptions: typeof ColumnLineLayer.getDefaultOptions = ColumnLineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'columnLine';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupedColumnLineLayer, { GroupedColumnLineViewConfig } from './layer';\n\nexport interface GroupedColumnLineConfig extends GroupedColumnLineViewConfig, PlotConfig {}\n\nexport default class GroupedColumnLine extends BasePlot<GroupedColumnLineConfig> {\n  public static getDefaultOptions: typeof GroupedColumnLineLayer.getDefaultOptions =\n    GroupedColumnLineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'groupedColumnLine';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerPlotType } from '../../base/global';\nimport { deepMix, each, contains } from '@antv/util';\nimport { LayerConfig } from '../../base/layer';\nimport ColumnLineLayer, { ColumnLineViewConfig } from '../column-line/layer';\nimport GroupedColumnLayer from '../../plots/grouped-column/layer';\nimport { getGlobalTheme } from '../../theme';\n\nexport interface GroupedColumnLineViewConfig extends ColumnLineViewConfig {\n  columnGroupField?: string;\n}\n\ninterface GroupedColumnLineLayerConfig extends GroupedColumnLineViewConfig, LayerConfig {}\n\nconst defaultLineConfig = {\n  color: '#f5bc32',\n  lineSize: 4,\n  connectNull: true,\n  point: {\n    visible: false,\n    size: 3,\n    shape: 'circle',\n    style: {\n      stroke: '#fff',\n    },\n  },\n  label: {\n    visible: false,\n  },\n};\n\nconst defaultColumnConfig = {\n  color: ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E8684A', '#6DC8EC', '#9270CA', '#FF9D4D', '#269A99', '#FF99C3'],\n};\n\nconst defaultYAxisConfig = {\n  visible: true,\n  colorMapping: true,\n  grid: {\n    visible: true,\n  },\n  line: {\n    visible: false,\n  },\n  tickLine: {\n    visible: false,\n  },\n  label: {\n    visible: true,\n    autoHide: true,\n    autoRotate: false,\n  },\n  title: {\n    autoRotate: true,\n    visible: false,\n    offset: 12,\n  },\n};\n\nexport default class GroupedColumnLineLayer<\n  T extends GroupedColumnLineLayerConfig = GroupedColumnLineLayerConfig\n> extends ColumnLineLayer<T> {\n  public static getDefaultOptions(): Partial<GroupedColumnLineLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        leftConfig: deepMix({}, defaultYAxisConfig, { colorMapping: false }),\n        rightConfig: defaultYAxisConfig,\n      },\n      lineConfig: defaultLineConfig,\n      columnConfig: defaultColumnConfig,\n      legend: {\n        visible: true,\n      },\n    });\n  }\n\n  public type: string = 'groupedColumnLine';\n  protected requiredField: string[] = ['xField', 'yField', 'columnGroupField'];\n\n  public beforeInit() {\n    const { options, initialOptions } = this;\n    const groupedValue = this.getValueByGroupField();\n    if (options.lineSeriesField) {\n      options.yAxis.rightConfig.colorMapping = false;\n      if (!initialOptions.lineConfig?.lineSize) {\n        options.lineConfig.lineSize = 3;\n      }\n      if (!initialOptions.lineConfig?.color) {\n        const { colors, colors_20 } = getGlobalTheme();\n        const seriesValue = this.getValueBySeriesField();\n        const colorSeries = seriesValue.length > colors.length ? colors_20 : colors;\n        const colorPlates = [];\n        const startIndex = groupedValue.length;\n        each(seriesValue, (v, index) => {\n          colorPlates.push(colorSeries[index + startIndex]);\n        });\n        options.lineConfig.color = colorPlates;\n      }\n    }\n    const { color } = this.options.columnConfig;\n    this.options.columnConfig.color = color.slice(0, groupedValue.length);\n  }\n\n  protected drawColumn() {\n    const { data, xField, yField, columnGroupField, xAxis, tooltip, columnConfig, events } = this.options;\n    const column = this.createLayer(GroupedColumnLayer, data[0], {\n      xField,\n      yField: yField[0],\n      groupField: columnGroupField,\n      xAxis,\n      yAxis: deepMix({}, this.yAxis(0), {\n        grid: {\n          visible: true,\n        },\n        nice: true,\n      }),\n      legend: {\n        visible: false,\n      },\n      tooltip: deepMix({}, tooltip, {\n        showMarkers: false,\n        custom: {\n          onChange: (containerDom, ev) => {\n            this.tooltip(containerDom, ev);\n          },\n        },\n      }),\n      events,\n      ...columnConfig,\n    });\n    column.render();\n  }\n\n  protected customLegend() {\n    const { yField, legend } = this.options;\n    const { colors } = this;\n    const container = this.container.addGroup();\n    const legendCfg = legend;\n    const symbols = ['square', 'circle'];\n    each(this.geomLayers, (geom, index) => {\n      let legend;\n      if (geom.options.seriesField) {\n        const values = this.getValueBySeriesField();\n        legend = this.createNormalLegend(values, symbols[index], colors[index], legendCfg, container);\n      } else if (geom.options.groupField) {\n        const values = this.getValueByGroupField();\n        legend = this.createNormalLegend(values, symbols[index], colors[index], legendCfg, container);\n      } else {\n        legend = this.createSingleLegend(yField[index], symbols[index], colors[index], legendCfg, container);\n      }\n      this.legends.push(legend);\n    });\n    // legend\n    each(this.geomLayers, (geom, index) => {\n      if (geom.options.seriesField) {\n        this.multipleLegendFilter(index, geom.options.seriesField);\n      } else if (geom.options.groupField) {\n        this.multipleLegendFilter(index, geom.options.groupField);\n      } else {\n        this.legendFilter(index);\n      }\n    });\n  }\n\n  protected getValueByGroupField() {\n    const { columnGroupField, data } = this.options;\n    const columnData = data[0];\n    const values = [];\n    each(columnData, (d) => {\n      const v = d[columnGroupField];\n      if (!contains(values, v)) {\n        values.push(v);\n      }\n    });\n    return values;\n  }\n\n  protected getMockData(index: number) {\n    const { xField, yField, columnGroupField } = this.options as any;\n    const mockA = {};\n    mockA[xField] = 'null_1';\n    mockA[yField[index]] = 0;\n    mockA[columnGroupField] = 'null_a';\n    const mockB = {};\n    mockB[xField] = 'null_1';\n    mockB[yField[index]] = 1;\n    mockB[columnGroupField] = 'null_a';\n    return [mockA, mockB];\n  }\n}\n\nregisterPlotType('groupedColumnLine', GroupedColumnLineLayer);\n","import { deepMix } from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackedColumnLineLayer, { StackedColumnLineViewConfig } from './layer';\n\nexport interface StackedColumnLineConfig extends StackedColumnLineViewConfig, PlotConfig {}\n\nexport default class StackedColumnLine extends BasePlot<StackedColumnLineConfig> {\n  public static getDefaultOptions: typeof StackedColumnLineLayer.getDefaultOptions =\n    StackedColumnLineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = deepMix({}, props);\n    layerProps.type = 'stackedColumnLine';\n    super.createLayers(layerProps);\n  }\n}\n","import { registerPlotType } from '../../base/global';\nimport { deepMix, each, contains } from '@antv/util';\nimport { LayerConfig } from '../../base/layer';\nimport ColumnLineLayer, { ColumnLineViewConfig } from '../column-line/layer';\nimport StackedColumnLayer from '../../plots/stacked-column/layer';\nimport { getGlobalTheme } from '../../theme';\n\nexport interface StackedColumnLineViewConfig extends ColumnLineViewConfig {\n  columnStackField?: string;\n}\n\ninterface StackedColumnLineLayerConfig extends StackedColumnLineViewConfig, LayerConfig {}\n\nconst defaultLineConfig = {\n  color: '#f5bc32',\n  lineSize: 4,\n  connectNull: true,\n  point: {\n    visible: false,\n    size: 3,\n    shape: 'circle',\n    style: {\n      stroke: '#fff',\n    },\n  },\n  label: {\n    visible: false,\n  },\n};\n\nconst defaultColumnConfig = {\n  color: ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E8684A', '#6DC8EC', '#9270CA', '#FF9D4D', '#269A99', '#FF99C3'],\n};\n\nconst defaultYAxisConfig = {\n  visible: true,\n  colorMapping: true,\n  grid: {\n    visible: true,\n  },\n  line: {\n    visible: false,\n  },\n  tickLine: {\n    visible: false,\n  },\n  label: {\n    visible: true,\n    autoHide: true,\n    autoRotate: false,\n  },\n  title: {\n    autoRotate: true,\n    visible: false,\n    spacing: 12,\n  },\n};\n\nexport default class StackedColumnLineLayer<\n  T extends StackedColumnLineLayerConfig = StackedColumnLineLayerConfig\n> extends ColumnLineLayer<T> {\n  public static getDefaultOptions(): Partial<StackedColumnLineLayerConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        leftConfig: deepMix({}, defaultYAxisConfig, { colorMapping: false }),\n        rightConfig: defaultYAxisConfig,\n      },\n      lineConfig: defaultLineConfig,\n      columnConfig: defaultColumnConfig,\n      legend: {\n        visible: true,\n      },\n    });\n  }\n\n  public type: string = 'groupedColumnLine';\n  protected requiredField: string[] = ['xField', 'yField', 'columnStackField'];\n\n  public beforeInit() {\n    const stackedValue = this.getValueByStackField();\n    const { options, initialOptions } = this;\n    if (options.lineSeriesField) {\n      options.yAxis.rightConfig.colorMapping = false;\n      if (!initialOptions.lineConfig?.lineSize) {\n        options.lineConfig.lineSize = 3;\n      }\n      if (!initialOptions.lineConfig?.color) {\n        const { colors, colors_20 } = getGlobalTheme();\n        const seriesValue = this.getValueBySeriesField();\n        const colorSeries = seriesValue.length > colors.length ? colors_20 : colors;\n        const colorPlates = [];\n        const startIndex = stackedValue.length;\n        each(seriesValue, (v, index) => {\n          colorPlates.push(colorSeries[index + startIndex]);\n        });\n        options.lineConfig.color = colorPlates;\n      }\n    }\n    const { color } = this.options.columnConfig;\n    this.options.columnConfig.color = color.slice(0, stackedValue.length);\n  }\n\n  protected drawColumn() {\n    const { data, xField, yField, columnStackField, xAxis, tooltip, columnConfig, events } = this.options;\n    const column = this.createLayer(StackedColumnLayer, data[0], {\n      xField,\n      yField: yField[0],\n      stackField: columnStackField,\n      xAxis,\n      yAxis: deepMix({}, this.yAxis(0), {\n        grid: {\n          visible: true,\n        },\n        nice: true,\n      }),\n      legend: {\n        visible: false,\n      },\n      tooltip: deepMix({}, tooltip, {\n        showMarkers: false,\n        custom: {\n          onChange: (containerDom, ev) => {\n            this.tooltip(containerDom, ev);\n          },\n        },\n      }),\n      events,\n      ...columnConfig,\n    });\n    column.render();\n  }\n\n  protected customLegend() {\n    const { yField, legend } = this.options;\n    const { colors } = this;\n    const container = this.container.addGroup();\n    const legendCfg = legend;\n    const symbols = ['square', 'circle'];\n    each(this.geomLayers, (geom, index) => {\n      let legend;\n      if (geom.options.seriesField) {\n        const values = this.getValueBySeriesField();\n        legend = this.createNormalLegend(values, symbols[index], colors[index], legendCfg, container);\n      } else if (geom.options.stackField) {\n        const values = this.getValueByStackField();\n        legend = this.createNormalLegend(values, symbols[index], colors[index], legendCfg, container);\n      } else {\n        legend = this.createSingleLegend(yField[index], symbols[index], colors[index], legendCfg, container);\n      }\n      this.legends.push(legend);\n    });\n    // legend\n    each(this.geomLayers, (geom, index) => {\n      if (geom.options.seriesField) {\n        this.multipleLegendFilter(index, geom.options.seriesField);\n      } else if (geom.options.stackField) {\n        this.multipleLegendFilter(index, geom.options.stackField);\n      } else {\n        this.legendFilter(index);\n      }\n    });\n  }\n\n  protected getValueByStackField() {\n    const { columnStackField, data } = this.options;\n    const columnData = data[0];\n    const values = [];\n    each(columnData, (d) => {\n      const v = d[columnStackField];\n      if (!contains(values, v)) {\n        values.push(v);\n      }\n    });\n    return values;\n  }\n\n  protected getUnCheckedValue() {\n    const value = [];\n    each(this.legends, (legend) => {\n      const uncheckedItems = legend.getItemsByState('unchecked');\n      each(uncheckedItems, (item) => {\n        value.push(item.name);\n      });\n    });\n    return value;\n  }\n\n  protected getMockData(index: number) {\n    const { xField, yField, columnStackField } = this.options as any;\n    const mockA = {};\n    mockA[xField] = 'null_1';\n    mockA[yField[index]] = 0;\n    mockA[columnStackField] = 'null_a';\n    const mockB = {};\n    mockB[xField] = 'null_1';\n    mockB[yField[index]] = 1;\n    mockB[columnStackField] = 'null_a';\n    return [mockA, mockB];\n  }\n}\n\nregisterPlotType('stackedColumnLine', StackedColumnLineLayer);\n","// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nexport function points(data, x, y, sort) {\n  data = data.filter(d => {\n    let u = x(d), v = y(d);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort((a, b) => x(a) - x(b));\n  }\n\n  const n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n);\n\n  // extract values, calculate means\n  let ux = 0, uy = 0, xv, yv, d;\n  for (let i = 0; i < n; ) {\n    d = data[i];\n    X[i] = xv = +x(d);\n    Y[i] = yv = +y(d);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  }\n\n  // mean center the data\n  for (let i = 0; i < n; ++i) {\n    X[i] -= ux;\n    Y[i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\n\n\nexport function visitPoints(data, x, y, cb){\n  let iterations = 0;\n\n  for (let i = 0, n = data.length; i < n; i++) {\n    const d = data[i],\n          dx = +x(d),\n          dy = +y(d);\n    \n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}","import { visitPoints } from \"./points\";\n\n// Given a dataset, x- and y-accessors, the mean center of the y values, and a predict function,\n// return the coefficient of determination, or R squared.\nexport function determination(data, x, y, uY, predict){\n  let SSE = 0,\n      SST = 0;\n  \n  visitPoints(data, x, y, (dx, dy) => {\n    const sse = dy - predict(dx),\n          sst = dy - uY;\n\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n\n  return 1 - SSE / SST;\n}","// Returns the angle of a line in degrees.\nexport function angle(line){\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n}\n\n// Returns the midpoint of a line.\nexport function midpoint(line){\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}","import { angle, midpoint } from \"./geometry\";\n\n// Given a start point, an end point, and a prediciton function,\n// returns a smooth line.\nexport function interpose(xmin, xmax, predict){\n  const l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  const precision = 1 * Math.pow(10, -l / 2 - 1), maxIter = 1e4;\n  let points = [px(xmin), px(xmax)], iter = 0;\n\n  while (find(points) && iter < maxIter);\n\n  return points;\n  \n  function px(x){\n    return [x, predict(x)];\n  }\n\n  function find(points){\n    iter++;\n    const n = points.length;\n    let found = false;\n    \n    for (let i = 0; i < n - 1; i++){\n      const p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n      \n      if (a > precision){\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n    \n    return found;\n  }\n}","// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nexport function ols(uX, uY, uXY, uX2) {\n  const delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n\n  return [intercept, slope];\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n   \n  function exponential(data){\n    let n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n\n    visitPoints(data, x, y, (dx, dy) => {\n      const ly = Math.log(dy), xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n      \n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    \n    let [a, b] = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y);\n    a = Math.exp(a);\n    const fn = x => a * Math.exp(b * x),\n          out = interpose(xmin, xmax, fn);\n    \n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    \n    return out;  \n  }\n\n  exponential.domain = function(arr){\n    return arguments.length ? (domain = arr, exponential) : domain;\n  }  \n  \n  exponential.x = function(fn){\n    return arguments.length ? (x = fn, exponential) : x;\n  }\n\n  exponential.y = function(fn){\n    return arguments.length ? (y = fn, exponential) : y;\n  }\n  \n  return exponential;\n}","import { determination } from \"./utils/determination\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n\n  function linear(data){\n    let n = 0,\n        X = 0, // sum of x\n        Y = 0, // sum of y\n        XY = 0, // sum of x * y\n        X2 = 0, // sum of x * x\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n\n    visitPoints(data, x, y, (dx, dy) => {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n      \n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    const [intercept, slope] = ols(X, Y, XY, X2),\n        fn = x => slope * x + intercept,\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n    \n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out;\n  }\n\n  linear.domain = function(arr){\n    return arguments.length ? (domain = arr, linear) : domain;\n  }\n\n  linear.x = function(fn){\n    return arguments.length ? (x = fn, linear) : x;\n  }\n\n  linear.y = function(fn){\n    return arguments.length ? (y = fn, linear) : y;\n  }\n\n  return linear;\n}\n","// Returns the medium value of an array of numbers.\nexport function median(arr){\n  arr.sort((a, b) => a - b);\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}","// Adapted from science.js by Jason Davies\n// License: https://github.com/jasondavies/science.js/blob/master/LICENSE\n// Source: https://github.com/jasondavies/science.js/blob/master/src/stats/loess.js\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/loess.js\nimport { median } from \"./utils/median\";\nimport { ols } from \"./utils/ols\";\nimport { points } from \"./utils/points\";\n\nconst maxiters = 2, epsilon = 1e-12;\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      bandwidth = .3;\n\n  function loess(data) {\n    const [xv, yv, ux, uy] = points(data, x, y, true),\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)), // # nearest neighbors\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n    for (let iter = -1; ++iter <= maxiters; ) {\n      const interval = [0, bw - 1];\n\n      for (let i = 0; i < n; ++i) {\n        const dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = (dx - xv[i0]) > (xv[i1] - dx) ? i0 : i1;\n\n        let W = 0, X = 0, Y = 0, XY = 0, X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (let k = i0; k <= i1; ++k) {\n          const xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        }\n\n        // Linear regression fit\n        const [a, b] = ols(X / W, Y / W, XY / W, X2 / W);\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      const medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (let i = 0, arg, w; i < n; ++i){\n        arg = residuals[i] / (6 * medianResidual);\n        // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n        robustWeights[i] = (arg >= 1) ? epsilon : ((w = 1 - arg * arg) * w);\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function(bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function(fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function(fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n}\n\n// Weighting kernel for local regression\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n}\n\n// Advance sliding window interval of nearest neighbors\nfunction updateInterval(xv, i, interval) {\n  let val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n\n  if (right >= xv.length) return;\n\n  // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n  while (i > left && (xv[right] - val) <= (val - xv[left])) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n}\n\n// Generate smoothed output points\n// Average points with repeated x values\nfunction output(xv, yhat, ux, uy) {\n  const n = xv.length, out = [];\n  let i = 0, cnt = 0, prev = [], v;\n\n  for (; i<n; ++i) {\n    v = xv[i] + ux;\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / (++cnt);\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n  prev[1] += uy;\n\n  return out;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n  \n  function logarithmic(data){\n    let n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      const lx = Math.log(dx);\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      \n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    \n    const [intercept, slope] = ols(X, Y, XY, X2),\n        fn = x => slope * Math.log(x) + intercept,\n        out = interpose(xmin, xmax, fn);\n        \n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out; \n  }\n  \n  logarithmic.domain = function(arr){\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  }\n\n  logarithmic.x = function(fn){\n    return arguments.length ? (x = fn, logarithmic) : x;\n  }\n\n  logarithmic.y = function(fn){\n    return arguments.length ? (y = fn, logarithmic) : y;\n  }\n  \n  return logarithmic;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\n\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n\n  function quadratic(data){\n    const [xv, yv, ux, uy] = points(data, x, y),\n          n = xv.length;\n    \n    let X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i, dx, dy, x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n    \n    let Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      n0++;\n      Y += (dy - Y) / n0;\n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    \n    const X2X2 = X4 - (X2 * X2),\n          d = (X2 * X2X2 - X3 * X3),\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = x => {\n            x = x - ux;\n            return a * x * x + b * x + c + uy;\n          };\n    \n    const out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out;\n  }\n  \n  quadratic.domain = function(arr){\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  }\n\n  quadratic.x = function(fn){\n    return arguments.length ? (x = fn, quadratic) : x;\n  }\n\n  quadratic.y = function(fn){\n    return arguments.length ? (y = fn, quadratic) : y;\n  }\n  \n  return quadratic;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\nimport linear from \"./linear\";\nimport quad from \"./quadratic\";\n\n// Adapted from regression-js by Tom Alexander\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      order = 3,\n      domain;\n  \n  function polynomial(data) {    \n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      const o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a; delete o.b;\n      return o;\n    }\n    if (order === 2) {\n      const o = quad().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.c, o.b, o.a];\n      delete o.a; delete o.b; delete o.c;\n      return o;\n    }\n    \n    const [xv, yv, ux, uy] = points(data, x, y),\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    let Y = 0, n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      ++n0\n      Y += (dy - Y) / n0;\n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;        \n      }\n    });\n\n    let i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n      lhs.push(v);\n\n      c = new Float64Array(k);\n      for (j=0; j<k; ++j) {\n        for (l=0, v=0; l<n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n        c[j] = v;\n      }\n      rhs.push(c);\n    }\n    rhs.push(lhs);\n\n    const coef = gaussianElimination(rhs),\n          fn = x => {\n            x -= ux;\n            let y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n            for (i = 3; i < k; ++i) y += coef[i] * Math.pow(x, i);\n            return y;\n          },\n          out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    \n    return out;\n  }\n\n  polynomial.domain = function(arr){\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  }\n\n  polynomial.x = function(fn){\n    return arguments.length ? (x = fn, polynomial) : x;\n  }\n\n  polynomial.y = function(fn){\n    return arguments.length ? (y = fn, polynomial) : y;\n  }\n\n  polynomial.order = function(n){\n    return arguments.length ? (order = n, polynomial) : order;\n  }\n  \n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  const z = Array(k);\n  let i, j, v, c;\n\n  // initialize to zero\n  for (i = 0; i < k; ++i) z[i] = 0;\n\n  // polynomial expansion\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n      z[i-j] += v * Math.pow(x, j) * c;\n    }\n  }\n\n  // bias term\n  z[0] += y;\n\n  return z;\n}\n\n// Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\nfunction gaussianElimination(matrix) {\n  const n = matrix.length - 1,\n        coef = [];\n\n  let i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= (matrix[k][i] * matrix[i][j]) / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n  \n  function power(data){\n    let n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      const lx = Math.log(dx),\n            ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    let [a, b] = ols(X, Y, XY, X2);\n    a = Math.exp(a);\n    const fn = x => a * Math.pow(x, b),\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n\n    return out; \n  }\n  \n  power.domain = function(arr){\n    return arguments.length ? (domain = arr, power) : domain;\n  }\n\n  power.x = function(fn){\n    return arguments.length ? (x = fn, power) : x;\n  }\n\n  power.y = function(fn){\n    return arguments.length ? (y = fn, power) : y;\n  }\n  \n  return power;\n}"],"sourceRoot":""}