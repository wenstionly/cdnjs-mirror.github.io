!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G2Plot=e():t.G2Plot=e()}(window,function(){return n={},r.m=i=[function(t,e,i){"use strict";i.r(e),i.d(e,"contains",function(){return n}),i.d(e,"includes",function(){return n}),i.d(e,"difference",function(){return o}),i.d(e,"find",function(){return b}),i.d(e,"findIndex",function(){return _}),i.d(e,"firstValue",function(){return O}),i.d(e,"flatten",function(){return w}),i.d(e,"flattenDeep",function(){return M}),i.d(e,"getRange",function(){return C}),i.d(e,"pull",function(){return T}),i.d(e,"pullAt",function(){return E}),i.d(e,"reduce",function(){return L}),i.d(e,"remove",function(){return k}),i.d(e,"sortBy",function(){return D}),i.d(e,"union",function(){return F}),i.d(e,"uniq",function(){return B}),i.d(e,"valuesOfKey",function(){return R}),i.d(e,"head",function(){return N}),i.d(e,"last",function(){return Y}),i.d(e,"startsWith",function(){return G}),i.d(e,"endsWith",function(){return X}),i.d(e,"filter",function(){return r}),i.d(e,"every",function(){return V}),i.d(e,"some",function(){return z}),i.d(e,"group",function(){return U}),i.d(e,"groupBy",function(){return W}),i.d(e,"groupToMap",function(){return q}),i.d(e,"getWrapBehavior",function(){return K}),i.d(e,"wrapBehavior",function(){return Z}),i.d(e,"number2color",function(){return Q}),i.d(e,"parseRadius",function(){return J}),i.d(e,"clamp",function(){return tt}),i.d(e,"fixedBase",function(){return et}),i.d(e,"isDecimal",function(){return nt}),i.d(e,"isEven",function(){return rt}),i.d(e,"isInteger",function(){return ot}),i.d(e,"isNegative",function(){return at}),i.d(e,"isNumberEqual",function(){return st}),i.d(e,"isOdd",function(){return lt}),i.d(e,"isPositive",function(){return ut}),i.d(e,"maxBy",function(){return ct}),i.d(e,"minBy",function(){return ht}),i.d(e,"mod",function(){return pt}),i.d(e,"toDegree",function(){return dt}),i.d(e,"toInteger",function(){return gt}),i.d(e,"toRadian",function(){return vt}),i.d(e,"forIn",function(){return mt}),i.d(e,"has",function(){return xt}),i.d(e,"hasKey",function(){return bt}),i.d(e,"hasValue",function(){return Ot}),i.d(e,"keys",function(){return g}),i.d(e,"isMatch",function(){return y}),i.d(e,"values",function(){return _t}),i.d(e,"lowerCase",function(){return Mt}),i.d(e,"lowerFirst",function(){return Ct}),i.d(e,"substitute",function(){return St}),i.d(e,"upperCase",function(){return jt}),i.d(e,"upperFirst",function(){return Pt}),i.d(e,"getType",function(){return At}),i.d(e,"isArguments",function(){return Et}),i.d(e,"isArray",function(){return h}),i.d(e,"isArrayLike",function(){return s}),i.d(e,"isBoolean",function(){return Lt}),i.d(e,"isDate",function(){return kt}),i.d(e,"isError",function(){return It}),i.d(e,"isFunction",function(){return u}),i.d(e,"isFinite",function(){return Dt}),i.d(e,"isNil",function(){return c}),i.d(e,"isNull",function(){return Bt}),i.d(e,"isNumber",function(){return it}),i.d(e,"isObject",function(){return f}),i.d(e,"isObjectLike",function(){return m}),i.d(e,"isPlainObject",function(){return x}),i.d(e,"isPrototype",function(){return Rt}),i.d(e,"isRegExp",function(){return Nt}),i.d(e,"isString",function(){return I}),i.d(e,"isType",function(){return l}),i.d(e,"isUndefined",function(){return Yt}),i.d(e,"isElement",function(){return Gt}),i.d(e,"requestAnimationFrame",function(){return Xt}),i.d(e,"clearAnimationFrame",function(){return Vt}),i.d(e,"augment",function(){return Wt}),i.d(e,"clone",function(){return Ut}),i.d(e,"debounce",function(){return Kt}),i.d(e,"memoize",function(){return Zt}),i.d(e,"deepMix",function(){return Jt}),i.d(e,"each",function(){return d}),i.d(e,"extend",function(){return te}),i.d(e,"indexOf",function(){return ee}),i.d(e,"isEmpty",function(){return ne}),i.d(e,"isEqual",function(){return re}),i.d(e,"isEqualWith",function(){return oe}),i.d(e,"map",function(){return ae}),i.d(e,"mapValues",function(){return se}),i.d(e,"mix",function(){return Ht}),i.d(e,"assign",function(){return Ht}),i.d(e,"get",function(){return le}),i.d(e,"set",function(){return ue}),i.d(e,"pick",function(){return he}),i.d(e,"throttle",function(){return pe}),i.d(e,"toArray",function(){return fe}),i.d(e,"toString",function(){return wt}),i.d(e,"uniqueId",function(){return ge}),i.d(e,"noop",function(){return ye}),i.d(e,"identity",function(){return ve}),i.d(e,"size",function(){return me}),i.d(e,"Cache",function(){return xe});var s=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},n=function(t,e){return!!s(t)&&-1<t.indexOf(e)},r=function(t,e){if(!s(t))return t;for(var i=[],n=0;n<t.length;n++){var r=t[n];e(r,n)&&i.push(r)}return i},o=function(t,e){return void 0===e&&(e=[]),r(t,function(t){return!n(e,t)})},a={}.toString,l=function(t,e){return a.call(t)==="[object "+e+"]"},u=function(t){return l(t,"Function")},c=function(t){return null==t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=function(t){var e=p(t);return null!==t&&"object"===e||"function"===e},d=function(t,e){if(t)if(h(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(f(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},g=Object.keys?function(t){return Object.keys(t)}:function(i){var n=[];return d(i,function(t,e){u(i)&&"prototype"===e||n.push(e)}),n},y=function(t,e){var i=g(e),n=i.length;if(c(t))return!n;for(var r=0;r<n;r+=1){var o=i[r];if(e[o]!==t[o]||!(o in t))return!1}return!0};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=function(t){return"object"===v(t)&&null!==t},x=function(t){if(!m(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},b=function(t,e){if(!h(t))return null;var i;if(u(e)&&(i=e),x(e)&&(i=function(t){return y(t,e)}),i)for(var n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return null},_=function(t,e,i){void 0===i&&(i=0);for(var n=i;n<t.length;n++)if(e(t[n],n))return n;return-1},O=function(t,e){for(var i=null,n=0;n<t.length;n++){var r=t[n][e];if(!c(r)){i=h(r)?r[0]:r;break}}return i},w=function(t){if(!h(t))return[];for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e},M=function t(e,i){if(void 0===i&&(i=[]),h(e))for(var n=0;n<e.length;n+=1)t(e[n],i);else i.push(e);return i},C=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(h(t[0])){for(var i=[],n=0;n<t.length;n++)i=i.concat(t[n]);e=i}var r=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:r}},S=Array.prototype,j=S.splice,P=S.indexOf,T=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++)for(var r=e[n],o=-1;-1<(o=P.call(t,r));)j.call(t,o,1);return t},A=Array.prototype.splice,E=function(t,e){if(!s(t))return[];for(var i=t?e.length:0,n=i-1;i--;){var r=void 0,o=e[i];i!==n&&o===r||(r=o,A.call(t,o,1))}return t},L=function(t,i,e){if(!h(t)&&!x(t))return t;var n=e;return d(t,function(t,e){n=i(n,t,e)}),n},k=function(t,e){var i=[];if(!s(t))return i;for(var n=-1,r=[],o=t.length;++n<o;){var a=t[n];e(a,n,t)&&(i.push(a),r.push(n))}return E(t,r),i},I=function(t){return l(t,"String")},D=function(t,i){var r,e=u(i)?function(t,e){return i(t)-i(e)}:(r=[],I(i)?r.push(i):h(i)&&(r=i),function(t,e){for(var i=0;i<r.length;i+=1){var n=r[i];if(t[n]>e[n])return 1;if(t[n]<e[n])return-1}return 0});return t.sort(e),t},B=function(t){var e=[];return d(t,function(t){n(e,t)||e.push(t)}),e},F=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B([].concat.apply([],t))},R=function(t,e){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r][e];if(!c(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];n[s]||(i.push(s),n[s]=!0)}}}return i};function N(t){if(s(t))return t[0]}function Y(t){if(s(t))return t[t.length-1]}var G=function(t,e){return!(!h(t)&&!I(t))&&t[0]===e},X=function(t,e){return!(!h(t)&&!I(t))&&t[t.length-1]===e},V=function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i))return!1;return!0},z=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i))return!0;return!1},H=Object.prototype.hasOwnProperty,W=function(t,e){if(!e||!h(t))return{};for(var i={},n=u(e)?e:function(t){return t[e]},r=0;r<t.length;r++){var o=t[r],a=n(o);H.call(i,a)?i[a].push(o):i[a]=[o]}return i},q=function(t,e){return e?(u(e)||(r=h(e)?e:e.replace(/\s+/g,"").split("*"),e=function(t){for(var e="_",i=0,n=r.length;i<n;i++)e+=t[r[i]]&&t[r[i]].toString();return e}),W(t,e)):{0:t};var r},U=function(t,e){if(!e)return[t];var i=q(t,e),n=[];for(var r in i)n.push(i[r]);return n},K=function(t,e){return t["_wrap_"+e]},Z=function(e,i){if(e["_wrap_"+i])return e["_wrap_"+i];function t(t){e[i](t)}return e["_wrap_"+i]=t},$={},Q=function(t){var e=$[t];if(!e){for(var i=t.toString(16),n=i.length;n<6;n++)i="0"+i;e="#"+i,$[t]=e}return e},J=function(t){var e=0,i=0,n=0,r=0;return h(t)?1===t.length?e=i=n=r=t[0]:2===t.length?(e=n=t[0],i=r=t[1]):3===t.length?(e=t[0],i=r=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],r=t[3]):e=i=n=r=t,{r1:e,r2:i,r3:n,r4:r}},tt=function(t,e,i){return t<e?e:i<t?i:t},et=function(t,e){var i=e.toString(),n=i.indexOf(".");if(-1===n)return Math.round(t);var r=i.substr(n+1).length;return 20<r&&(r=20),parseFloat(t.toFixed(r))},it=function(t){return l(t,"Number")},nt=function(t){return it(t)&&t%1!=0},rt=function(t){return it(t)&&t%2==0},ot=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},at=function(t){return it(t)&&t<0};function st(t,e,i){return void 0===i&&(i=1e-5),Math.abs(t-e)<i}var lt=function(t){return it(t)&&t%2!=0},ut=function(t){return it(t)&&0<t},ct=function(t,e){if(h(t)){var i,n=t[0],r=u(e)?e(t[0]):t[0][e];return d(t,function(t){(i=u(e)?e(t):t[e])>r&&(n=t,r=i)}),n}},ht=function(t,e){if(h(t)){var i,n=t[0],r=u(e)?e(t[0]):t[0][e];return d(t,function(t){(i=u(e)?e(t):t[e])<r&&(n=t,r=i)}),n}},pt=function(t,e){return(t%e+e)%e},ft=180/Math.PI,dt=function(t){return ft*t},gt=parseInt,yt=Math.PI/180,vt=function(t){return yt*t},mt=d,xt=function(t,e){return t.hasOwnProperty(e)},bt=xt,_t=Object.values?function(t){return Object.values(t)}:function(i){var n=[];return d(i,function(t,e){u(i)&&"prototype"===e||n.push(t)}),n},Ot=function(t,e){return n(_t(t),e)},wt=function(t){return c(t)?"":t.toString()},Mt=function(t){return wt(t).toLowerCase()},Ct=function(t){var e=wt(t);return e.charAt(0).toLowerCase()+e.substring(1)},St=function(t,i){return t&&i?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===i[e]?"":i[e]}):t},jt=function(t){return wt(t).toUpperCase()},Pt=function(t){var e=wt(t);return e.charAt(0).toUpperCase()+e.substring(1)},Tt={}.toString,At=function(t){return Tt.call(t).replace(/^\[object /,"").replace(/]$/,"")},Et=function(t){return l(t,"Arguments")},Lt=function(t){return l(t,"Boolean")},kt=function(t){return l(t,"Date")},It=function(t){return l(t,"Error")},Dt=function(t){return it(t)&&isFinite(t)},Bt=function(t){return null===t},Ft=Object.prototype,Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ft)},Nt=function(t){return l(t,"RegExp")},Yt=function(t){return void 0===t},Gt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Xt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Vt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function zt(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}function Ht(t,e,i,n){return e&&zt(t,e),i&&zt(t,i),n&&zt(t,n),t}var Wt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t[0],n=1;n<t.length;n++){var r=t[n];u(r)&&(r=r.prototype),Ht(i.prototype,r)}};function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ut=function t(e){if("object"!==qt(e)||null===e)return e;var i;if(h(e)){i=[];for(var n=0,r=e.length;n<r;n++)"object"===qt(e[n])&&null!=e[n]?i[n]=t(e[n]):i[n]=e[n]}else for(var o in i={},e)"object"===qt(e[o])&&null!=e[o]?i[o]=t(e[o]):i[o]=e[o];return i},Kt=function(n,r,o){var a;return function(){var t=this,e=arguments,i=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||n.apply(t,e)},r),i&&n.apply(t,e)}},Zt=function(o,a){if(!u(o))throw new TypeError("Expected a function");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=a?a.apply(this,t):t[0],n=s.cache;if(n.has(i))return n.get(i);var r=o.apply(this,t);return n.set(i,r),r}return s.cache=new Map,s};function $t(t,e,i,n){for(var r in i=i||0,n=n||5,e){var o;e.hasOwnProperty(r)&&(null!==(o=e[r])&&x(o)?(x(t[r])||(t[r]={}),i<n?$t(t[r],o,i+1,n):t[r]=e[r]):h(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o))}}function Qt(t){return t}var Jt=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n+=1)$t(t,e[n]);return t},te=function(t,e,i,n){u(e)||(i=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function i(){}i.prototype=t;var n=new i;return n.constructor=e,n},o=r(e.prototype,t);return t.prototype=Ht(o,t.prototype),t.superclass=r(e.prototype,e),Ht(o,i),Ht(t,n),t},ee=function(t,e){if(!s(t))return-1;var i=Array.prototype.indexOf;if(i)return i.call(t,e);for(var n=-1,r=0;r<t.length;r++)if(t[r]===e){n=r;break}return n},ie=Object.prototype.hasOwnProperty,ne=function(t){if(c(t))return!0;if(s(t))return!t.length;var e=At(t);if("Map"===e||"Set"===e)return!t.size;if(Rt(t))return!Object.keys(t).length;for(var i in t)if(ie.call(t,i))return!1;return!0},re=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(I(e)||I(i))return!1;if(s(e)||s(i)){if(e.length!==i.length)return!1;for(var n=!0,r=0;r<e.length&&(n=t(e[r],i[r]));r++);return n}if(m(e)||m(i)){var o=Object.keys(e),a=Object.keys(i);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=t(e[o[r]],i[o[r]]));r++);return n}return!1},oe=function(t,e,i){return u(i)?!!i(t,e):re(t,e)},ae=function(t,e){if(!s(t))return t;for(var i=[],n=0;n<t.length;n++){var r=t[n];i.push(e(r,n))}return i},se=function(e,i){void 0===i&&(i=Qt);var n={};return f(e)&&!c(e)&&Object.keys(e).forEach(function(t){n[t]=i(e[t],t)}),n},le=function(t,e,i){for(var n=0,r=I(e)?e.split("."):e;t&&n<r.length;)t=t[r[n++]];return void 0===t||n<r.length?i:t},ue=function(t,e,i){var n=t,r=I(e)?e.split("."):e;return r.forEach(function(t,e){e<r.length-1?(f(n[t])||(n[t]=it(r[e+1])?[]:{}),n=n[t]):n[t]=i}),t},ce=Object.prototype.hasOwnProperty,he=function(e,t){if(null===e||!x(e))return{};var i={};return d(t,function(t){ce.call(e,t)&&(i[t]=e[t])}),i},pe=function(i,n,r){var o,a,s,l,u=0;r=r||{};function c(){u=!1===r.leading?0:Date.now(),o=null,l=i.apply(a,s),o||(a=s=null)}function t(){var t=Date.now();u||!1!==r.leading||(u=t);var e=n-(t-u);return a=this,s=arguments,e<=0||n<e?(o&&(clearTimeout(o),o=null),u=t,l=i.apply(a,s),o||(a=s=null)):o||!1===r.trailing||(o=setTimeout(c,e)),l}return t.cancel=function(){clearTimeout(o),u=0,o=a=s=null},t},fe=function(t){return s(t)?Array.prototype.slice.call(t):[]},de={},ge=function(t){return de[t=t||"g"]?de[t]+=1:de[t]=1,t+de[t]},ye=function(){},ve=function(t){return t};function me(t){return c(t)?0:s(t)?t.length:Object.keys(t).length}var xe=(be.prototype.has=function(t){return void 0!==this.map[t]},be.prototype.get=function(t,e){var i=this.map[t];return void 0===i?e:i},be.prototype.set=function(t,e){this.map[t]=e},be.prototype.clear=function(){this.map={}},be.prototype.delete=function(t){delete this.map[t]},be.prototype.size=function(){return Object.keys(this.map).length},be);function be(){this.map={}}},function(t,e,i){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e),i.d(e,"__extends",function(){return r}),i.d(e,"__assign",function(){return o}),i.d(e,"__rest",function(){return a}),i.d(e,"__decorate",function(){return s}),i.d(e,"__param",function(){return u}),i.d(e,"__metadata",function(){return c}),i.d(e,"__awaiter",function(){return h}),i.d(e,"__generator",function(){return p}),i.d(e,"__createBinding",function(){return f}),i.d(e,"__exportStar",function(){return d}),i.d(e,"__values",function(){return g}),i.d(e,"__read",function(){return y}),i.d(e,"__spread",function(){return v}),i.d(e,"__spreadArrays",function(){return m}),i.d(e,"__await",function(){return x}),i.d(e,"__asyncGenerator",function(){return b}),i.d(e,"__asyncDelegator",function(){return _}),i.d(e,"__asyncValues",function(){return O}),i.d(e,"__makeTemplateObject",function(){return w}),i.d(e,"__importStar",function(){return M}),i.d(e,"__importDefault",function(){return C}),i.d(e,"__classPrivateFieldGet",function(){return S}),i.d(e,"__classPrivateFieldSet",function(){return j});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}function s(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,i,a):r(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a}function u(i,n){return function(t,e){n(t,e,i)}}function c(t,e){if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,a,s,l){return new(s=s||Promise)(function(i,e){function n(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?i(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,r)}o((l=l.apply(t,a||[])).next())})}function p(i,n){var r,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(i,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function f(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}function d(t,e){for(var i in t)"default"===i||e.hasOwnProperty(i)||(e[i]=t[i])}function g(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function m(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}function x(t){return this instanceof x?(this.v=t,this):new x(t)}function b(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),o=[],a={};return n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a;function n(n){r[n]&&(a[n]=function(i){return new Promise(function(t,e){1<o.push([n,i,t,e])||s(n,i)})})}function s(t,e){try{(i=r[t](e)).value instanceof x?Promise.resolve(i.value.v).then(l,u):c(o[0][2],i)}catch(t){c(o[0][3],t)}var i}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(n){var r,t={};return e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,i){t[e]=n[e]?function(t){return(r=!r)?{value:x(n[e](t)),done:"return"===e}:i?i(t):t}:i}}function O(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=l[Symbol.asyncIterator];return e?e.call(l):(l=g(l),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=l[s]&&function(a){return new Promise(function(t,e){var i,n,r,o;i=t,n=e,r=(a=l[s](a)).done,o=a.value,Promise.resolve(o).then(function(t){i({value:t,done:r})},n)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function M(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function j(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}},function(t,e,i){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e),i.d(e,"__extends",function(){return r}),i.d(e,"__assign",function(){return o}),i.d(e,"__rest",function(){return a}),i.d(e,"__decorate",function(){return s}),i.d(e,"__param",function(){return u}),i.d(e,"__metadata",function(){return c}),i.d(e,"__awaiter",function(){return h}),i.d(e,"__generator",function(){return p}),i.d(e,"__createBinding",function(){return f}),i.d(e,"__exportStar",function(){return d}),i.d(e,"__values",function(){return g}),i.d(e,"__read",function(){return y}),i.d(e,"__spread",function(){return v}),i.d(e,"__spreadArrays",function(){return m}),i.d(e,"__await",function(){return x}),i.d(e,"__asyncGenerator",function(){return b}),i.d(e,"__asyncDelegator",function(){return _}),i.d(e,"__asyncValues",function(){return O}),i.d(e,"__makeTemplateObject",function(){return w}),i.d(e,"__importStar",function(){return C}),i.d(e,"__importDefault",function(){return S}),i.d(e,"__classPrivateFieldGet",function(){return j}),i.d(e,"__classPrivateFieldSet",function(){return P});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}function s(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,i,a):r(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a}function u(i,n){return function(t,e){n(t,e,i)}}function c(t,e){if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,a,s,l){return new(s=s||Promise)(function(i,e){function n(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?i(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(n,r)}o((l=l.apply(t,a||[])).next())})}function p(i,n){var r,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==e[0]&&2!==e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(i,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var f=Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]};function d(t,e){for(var i in t)"default"===i||e.hasOwnProperty(i)||f(e,t,i)}function g(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)a.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function m(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}function x(t){return this instanceof x?(this.v=t,this):new x(t)}function b(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),o=[],a={};return n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a;function n(n){r[n]&&(a[n]=function(i){return new Promise(function(t,e){1<o.push([n,i,t,e])||s(n,i)})})}function s(t,e){try{(i=r[t](e)).value instanceof x?Promise.resolve(i.value.v).then(l,u):c(o[0][2],i)}catch(t){c(o[0][3],t)}var i}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(n){var r,t={};return e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,i){t[e]=n[e]?function(t){return(r=!r)?{value:x(n[e](t)),done:"return"===e}:i?i(t):t}:i}}function O(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=l[Symbol.asyncIterator];return e?e.call(l):(l=g(l),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=l[s]&&function(a){return new Promise(function(t,e){var i,n,r,o;i=t,n=e,r=(a=l[s](a)).done,o=a.value,Promise.resolve(o).then(function(t){i({value:t,done:r})},n)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var M=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&f(e,t,i);return M(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function j(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function P(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}},function(t,e,i){"use strict";i.r(e),i.d(e,"mat3",function(){return s}),i.d(e,"vec2",function(){return o}),i.d(e,"vec3",function(){return r}),i.d(e,"ext",function(){return n});var n={};i.r(n),i.d(n,"leftTranslate",function(){return l}),i.d(n,"leftRotate",function(){return u}),i.d(n,"leftScale",function(){return c}),i.d(n,"transform",function(){return a}),i.d(n,"direction",function(){return h}),i.d(n,"angleTo",function(){return p}),i.d(n,"vertical",function(){return f});var s=i(49),o=i(83),r=i(72);function l(t,e,i){var n=[0,0,0,0,0,0,0,0,0];return s.fromTranslation(n,i),s.multiply(t,n,e)}function u(t,e,i){var n=[0,0,0,0,0,0,0,0,0];return s.fromRotation(n,i),s.multiply(t,n,e)}function c(t,e,i){var n=[0,0,0,0,0,0,0,0,0];return s.fromScaling(n,i),s.multiply(t,n,e)}function a(t,e){for(var i,n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],r=0,o=e.length;r<o;r++){var a=e[r];switch(a[0]){case"t":l(n,n,[a[1],a[2]]);break;case"s":c(n,n,[a[1],a[2]]);break;case"r":u(n,n,a[1]);break;case"m":i=a[1],s.multiply(n,i,n)}}return n}function h(t,e){return t[0]*e[1]-e[0]*t[1]}function p(t,e,i){var n=o.angle(t,e),r=0<=h(t,e);return i?r?2*Math.PI-n:n:r?n:2*Math.PI-n}function f(t,e,i){return i?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(22)),a=i(0),s=r.__importDefault(i(257)),l=r.__importDefault(i(260)),u=i(6),c=r.__importDefault(i(53)),h=r.__importDefault(i(15)),p=i(12),f=(n=o.default,r.__extends(d,n),d.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},d.prototype.repaint=function(){this.canvasController.canvas.draw()},d.prototype.updateConfig=function(e,t){var i;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof h.default&&t.updateConfig(e)}):(i=this.layers[0])instanceof c.default&&i.updateConfig(e),e.width&&(this.width=e.width),e.height&&(this.height=e.height),e.theme&&(this.theme=e.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},d.prototype.changeData=function(e,t){var i;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof h.default&&t.changeData(e)}):(i=this.layers[0])instanceof h.default&&i.changeData(e)},d.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},d.prototype.getXScale=function(){return this.layers[0].getXScale()},d.prototype.getYScale=function(){return this.layers[0].getYScale()},d.prototype.getColorScale=function(){return this.layers[0].getColorScale()},d.prototype.getPlotTheme=function(){return this.layers[0].getPlotTheme()},d.prototype.getData=function(){return this.layers[0].getData()},d.prototype.bindStateManager=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.bindStateManager(e,i)})},d.prototype.setActive=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setActive(e,i)})},d.prototype.setSelected=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setSelected(e,i)})},d.prototype.setDisable=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setDisable(e,i)})},d.prototype.setDefault=function(e,i){this.eachLayer(function(t){t instanceof h.default&&t.setDefault(e,i)})},d.prototype.getView=function(){return this.layers[0].view},d.prototype.getLayer=function(t){return void 0===t&&(t=0),this.layers[t]},d.prototype.getCanvas=function(){return this.canvasController.canvas},d.prototype.getLayers=function(){return this.layers},d.prototype.render=function(){this.eachLayer(function(t){return t.render()})},d.prototype.eachLayer=function(t){a.each(this.layers,t)},d.prototype.addLayer=function(e){a.findIndex(this.layers,function(t){return t===e})<0&&this.layers.push(e)},d.prototype.createLayers=function(t){var e;t.layers||t.type&&(e=new(u.getPlotType(t.type))(a.deepMix({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height})),this.addLayer(e))},d.prototype.parseEvents=function(t){var n=this,r=a.keys(p.CANVAS_EVENT_MAP);t.events&&a.each(t.events,function(t,e){var i;a.contains(r,e)&&a.isFunction(t)&&(i=p.CANVAS_EVENT_MAP[e]||e,n.on(i,t))})},d);function d(t,e){var i=n.call(this)||this;return i.containerDOM="string"==typeof t?document.getElementById(t):t,i.forceFit=a.isNil(e.forceFit)?a.isNil(e.width)&&a.isNil(e.height):e.forceFit,i.renderer=e.renderer||"canvas",i.pixelRatio=e.pixelRatio||null,i.width=e.width,i.height=e.height,i.theme=e.theme,i.localRefresh=e.localRefresh,i.canvasController=new s.default({containerDOM:i.containerDOM,plot:i}),i.width=i.canvasController.width,i.height=i.canvasController.height,i.canvas=i.canvasController.canvas,i.layers=[],i.destroyed=!1,i.createLayers(e),i.eventController=new l.default({plot:i,canvas:i.canvasController.canvas}),i.eventController.bindEvents(),i.parseEvents(e),i}e.default=f},function(t,e,i){"use strict";i.d(e,"d",function(){return _}),i.d(e,"b",function(){return O}),i.d(e,"e",function(){return w}),i.d(e,"f",function(){return M}),i.d(e,"l",function(){return C}),i.d(e,"j",function(){return S});var n=i(37),r=i.n(n);i.d(e,"i",function(){return r.a});var o=i(30),a=i.n(o);i.d(e,"k",function(){return a.a});var s=i(42),l=i.n(s);i.d(e,"h",function(){return l.a});var u=i(23),c=i.n(u);i.d(e,"g",function(){return c.a});var h=i(31),p=i.n(h);i.d(e,"c",function(){return p.a});var f=i(46),d=i.n(f);i.d(e,"o",function(){return d.a});var g=i(47),y=i.n(g);i.d(e,"m",function(){return y.a}),i(61);var v=i(84),m=i.n(v);i.d(e,"n",function(){return m.a});var x=i(85),b=i.n(x);function _(){return window?window.devicePixelRatio:1}function O(t,e,i,n){var r=t-i,o=e-n;return Math.sqrt(r*r+o*o)}function w(t,e,i,n,r,o){return t<=r&&r<=t+i&&e<=o&&o<=e+n}function M(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function C(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function S(t,e){return t[0]===e[0]&&t[1]===e[1]}i.d(e,"a",function(){return b.a})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlotType=e.registerPlotType=void 0;var n={};e.registerPlotType=function(t,e){n[t.toLowerCase()]=e},e.getPlotType=function(t){return n[t.toLowerCase()]}},function(t,e,i){"use strict";function n(t,e,i){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,i,!1),{remove:function(){t.removeEventListener(e,i,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,i),{remove:function(){t.detachEvent("on"+e,i)}}}}var r,o,a,s;function l(t){r||(r=document.createElement("table"),o=document.createElement("tr"),a=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:o,th:o,"*":document.createElement("div")});var e=a.test(t)&&RegExp.$1;e&&e in s||(e="*");var i=s[e];t=t.replace(/(^\s*)|(\s*$)/g,""),i.innerHTML=""+t;var n=i.childNodes[0];return i.removeChild(n),n}function u(t,e,i){var n;try{n=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(t){}finally{n=void 0===n?i:n}return n}function c(t,e){var i=u(t,"height",e);return"auto"===i&&(i=t.offsetHeight),parseFloat(i)}function h(t,e){var i=c(t,e),n=parseFloat(u(t,"borderTopWidth"))||0,r=parseFloat(u(t,"paddingTop"))||0,o=parseFloat(u(t,"paddingBottom"))||0;return i+n+(parseFloat(u(t,"borderBottomWidth"))||0)+r+o+(parseFloat(u(t,"marginTop"))||0)+(parseFloat(u(t,"marginBottom"))||0)}function p(t,e){var i=u(t,"width",e);return"auto"===i&&(i=t.offsetWidth),parseFloat(i)}function f(t,e){var i=p(t,e),n=parseFloat(u(t,"borderLeftWidth"))||0,r=parseFloat(u(t,"paddingLeft"))||0,o=parseFloat(u(t,"paddingRight"))||0,a=parseFloat(u(t,"borderRightWidth"))||0,s=parseFloat(u(t,"marginRight"))||0;return i+n+a+r+o+(parseFloat(u(t,"marginLeft"))||0)+s}function d(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(t,e){if(t)for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t}i.r(e),i.d(e,"addEventListener",function(){return n}),i.d(e,"createDom",function(){return l}),i.d(e,"getHeight",function(){return c}),i.d(e,"getOuterHeight",function(){return h}),i.d(e,"getOuterWidth",function(){return f}),i.d(e,"getRatio",function(){return d}),i.d(e,"getStyle",function(){return u}),i.d(e,"getWidth",function(){return p}),i.d(e,"modifyCSS",function(){return g})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._ORIGIN=e.ORIGIN=e.TooltipCssConst=e.HtmlTooltipTheme=e.HtmlTooltip=e.InteractionUtils=e.GrammarInteraction=void 0;var n=i(1),r=i(10);Object.defineProperty(e,"IElement",{enumerable:!0,get:function(){return r.IElement}}),Object.defineProperty(e,"ICanvas",{enumerable:!0,get:function(){return r.ICanvas}}),Object.defineProperty(e,"IGroup",{enumerable:!0,get:function(){return r.IGroup}}),Object.defineProperty(e,"IShape",{enumerable:!0,get:function(){return r.IShape}}),Object.defineProperty(e,"BBox",{enumerable:!0,get:function(){return r.BBox}}),Object.defineProperty(e,"GraphicEvent",{enumerable:!0,get:function(){return r.Event}});var o=i(108);Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return o.Canvas}});var a=i(116);Object.defineProperty(e,"SVG",{enumerable:!0,get:function(){return a.Canvas}});var s=i(476);Object.defineProperty(e,"GM",{enumerable:!0,get:function(){return s.GM}}),Object.defineProperty(e,"Wheel",{enumerable:!0,get:function(){return s.Wheel}}),Object.defineProperty(e,"GestureEvent",{enumerable:!0,get:function(){return s.GestureEvent}});var l=i(35);Object.defineProperty(e,"View",{enumerable:!0,get:function(){return l.View}}),Object.defineProperty(e,"registerAnimation",{enumerable:!0,get:function(){return l.registerAnimation}}),Object.defineProperty(e,"registerGeometry",{enumerable:!0,get:function(){return l.registerGeometry}}),Object.defineProperty(e,"Geometry",{enumerable:!0,get:function(){return l.Geometry}}),Object.defineProperty(e,"Interaction",{enumerable:!0,get:function(){return l.Interaction}}),Object.defineProperty(e,"InteractionAction",{enumerable:!0,get:function(){return l.InteractionAction}}),Object.defineProperty(e,"registerInteraction",{enumerable:!0,get:function(){return l.registerInteraction}}),Object.defineProperty(e,"registerAction",{enumerable:!0,get:function(){return l.registerAction}}),Object.defineProperty(e,"registerShape",{enumerable:!0,get:function(){return l.registerShape}}),Object.defineProperty(e,"getTheme",{enumerable:!0,get:function(){return l.getTheme}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return l.Util}}),Object.defineProperty(e,"getShapeFactory",{enumerable:!0,get:function(){return l.getShapeFactory}}),Object.defineProperty(e,"ComponentController",{enumerable:!0,get:function(){return l.ComponentController}}),Object.defineProperty(e,"registerComponentController",{enumerable:!0,get:function(){return l.registerComponentController}});var u=i(52);Object.defineProperty(e,"VIEW_LIFE_CIRCLE",{enumerable:!0,get:function(){return u.VIEW_LIFE_CIRCLE}}),Object.defineProperty(e,"COMPONENT_TYPE",{enumerable:!0,get:function(){return u.COMPONENT_TYPE}}),Object.defineProperty(e,"FIELD_ORIGIN",{enumerable:!0,get:function(){return u.FIELD_ORIGIN}});var c=i(218);Object.defineProperty(e,"GestureController",{enumerable:!0,get:function(){return c.default}});var h=i(219);Object.defineProperty(e,"TooltipController",{enumerable:!0,get:function(){return h.default}});var p=i(129);Object.defineProperty(e,"MarkerSymbols",{enumerable:!0,get:function(){return p.MarkerSymbols}});var f=i(130);Object.defineProperty(e,"Datum",{enumerable:!0,get:function(){return f.Datum}}),Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return f.Data}}),Object.defineProperty(e,"LooseObject",{enumerable:!0,get:function(){return f.LooseObject}}),Object.defineProperty(e,"Options",{enumerable:!0,get:function(){return f.Options}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f.Point}}),Object.defineProperty(e,"ShapeInfo",{enumerable:!0,get:function(){return f.ShapeInfo}}),Object.defineProperty(e,"AttributeOption",{enumerable:!0,get:function(){return f.AttributeOption}}),Object.defineProperty(e,"AdjustOption",{enumerable:!0,get:function(){return f.AdjustOption}}),Object.defineProperty(e,"LabelOption",{enumerable:!0,get:function(){return f.LabelOption}}),Object.defineProperty(e,"MappingDatum",{enumerable:!0,get:function(){return f.MappingDatum}});var d=n.__importDefault(i(223));e.GrammarInteraction=d.default;var g=n.__importStar(i(131));e.InteractionUtils=g;var y=i(63);Object.defineProperty(e,"DEFAULT_ANIMATE_CFG",{enumerable:!0,get:function(){return y.DEFAULT_ANIMATE_CFG}}),Object.defineProperty(e,"getDefaultAnimateCfg",{enumerable:!0,get:function(){return y.getDefaultAnimateCfg}}),Object.defineProperty(e,"doAnimate",{enumerable:!0,get:function(){return y.doAnimate}});var v=i(231);Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return v.default}});var m=n.__importDefault(i(233));e.HtmlTooltip=m.default;var x=n.__importDefault(i(134));e.HtmlTooltipTheme=x.default;var b=n.__importStar(i(32));e.TooltipCssConst=b;var _=i(16);Object.defineProperty(e,"GroupComponent",{enumerable:!0,get:function(){return _.GroupComponent}}),Object.defineProperty(e,"Axis",{enumerable:!0,get:function(){return _.Axis}}),Object.defineProperty(e,"Legend",{enumerable:!0,get:function(){return _.Legend}}),Object.defineProperty(e,"Tooltip",{enumerable:!0,get:function(){return _.Tooltip}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return _.Slider}}),Object.defineProperty(e,"Scrollbar",{enumerable:!0,get:function(){return _.Scrollbar}});var O=i(238);Object.defineProperty(e,"GroupComponentCfg",{enumerable:!0,get:function(){return O.GroupComponentCfg}}),Object.defineProperty(e,"TooltipCfg",{enumerable:!0,get:function(){return O.TooltipCfg}});var w=i(45);Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return w.Coordinate}}),e.ORIGIN="origin",e._ORIGIN="_origin"},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r}),i.d(e,"c",function(){return o});var n=1e-6,r="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return Xe}),i.d(e,"Event",function(){return g}),i.d(e,"Base",function(){return rt}),i.d(e,"AbstractCanvas",function(){return Ne}),i.d(e,"AbstractGroup",function(){return Ye}),i.d(e,"AbstractShape",function(){return Ge}),i.d(e,"PathUtil",function(){return n});var n={};i.r(n),i.d(n,"catmullRomToBezier",function(){return E}),i.d(n,"fillPath",function(){return p}),i.d(n,"fillPathByDiff",function(){return I}),i.d(n,"formatPath",function(){return D}),i.d(n,"intersection",function(){return c}),i.d(n,"parsePathArray",function(){return a}),i.d(n,"parsePathString",function(){return A}),i.d(n,"pathToAbsolute",function(){return L}),i.d(n,"pathToCurve",function(){return k}),i.d(n,"rectPath",function(){return s});function m(t,e,i,n,r){var o,a,s;return null===r&&null===n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!==r?(o=Math.PI/180,a=t+i*Math.cos(-n*o),s=t+i*Math.cos(-r*o),[["M",a,e+i*Math.sin(-n*o)],["A",i,i,0,+(180<r-n),0,s,e+i*Math.sin(-r*o)]]):[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]}function x(t,e,i,n){return[t,e,i,n,i,n]}function b(t,e,i,n,r,o){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]}function V(t,e,i,n,r,o,a,s,l,u){function c(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}}i===n&&(i+=1);var h,p,f,d,g,y,v,m,x,b,_,O=120*Math.PI/180,w=Math.PI/180*(+r||0),M=[];u?(b=u[0],_=u[1],m=u[2],x=u[3]):(t=(h=c(t,e,-w)).x,e=h.y,s=(h=c(s,l,-w)).x,l=h.y,t===s&&e===l&&(s+=1,l+=1),1<(d=(p=(t-s)/2)*p/(i*i)+(f=(e-l)/2)*f/(n*n))&&(i*=d=Math.sqrt(d),n*=d),g=i*i,y=n*n,m=(v=(o===a?-1:1)*Math.sqrt(Math.abs((g*y-g*f*f-y*p*p)/(g*f*f+y*p*p))))*i*f/n+(t+s)/2,x=v*-n*p/i+(e+l)/2,b=Math.asin(((e-x)/n).toFixed(9)),_=Math.asin(((l-x)/n).toFixed(9)),b=t<m?Math.PI-b:b,_=s<m?Math.PI-_:_,b<0&&(b=2*Math.PI+b),_<0&&(_=2*Math.PI+_),a&&_<b&&(b-=2*Math.PI),!a&&b<_&&(_-=2*Math.PI));var C,S,j,P=_-b;Math.abs(P)>O&&(C=_,S=s,j=l,_=b+O*(a&&b<_?1:-1),M=V(s=m+i*Math.cos(_),l=x+n*Math.sin(_),i,n,r,0,a,S,j,[_,C,m,x])),P=_-b;var T=Math.cos(b),A=Math.sin(b),E=Math.cos(_),L=Math.sin(_),k=Math.tan(P/4),I=4/3*i*k,D=4/3*n*k,B=[t,e],F=[t+I*A,e-D*T],R=[s+I*L,l-D*E],N=[s,l];if(F[0]=2*B[0]-F[0],F[1]=2*B[1]-F[1],u)return[F,R,N].concat(M);for(var Y=[],G=0,X=(M=[F,R,N].concat(M).join().split(",")).length;G<X;G++)Y[G]=G%2?c(M[G-1],M[G],w).y:c(M[G],M[G+1],w).x;return Y}function _(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function w(t,e,i,n,r,o,a,s,l){null===l&&(l=1);for(var u=(l=1<l?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=u*c[f]+u,g=_(d,t,i,r,a),y=_(d,e,n,o,s),v=g*g+y*y;p+=h[f]*Math.sqrt(v)}return u*p}function M(t,e,i,n,r,o,a,s){if(!(Math.max(t,i)<Math.min(r,a)||Math.min(t,i)>Math.max(r,a)||Math.max(e,n)<Math.min(o,s)||Math.min(e,n)>Math.max(o,s))){var l=(t-i)*(o-s)-(e-n)*(r-a);if(l){var u=((t*n-e*i)*(r-a)-(t-i)*(r*s-o*a))/l,c=((t*n-e*i)*(o-s)-(e-n)*(r*s-o*a))/l,h=+u.toFixed(2),p=+c.toFixed(2);if(!(h<+Math.min(t,i).toFixed(2)||h>+Math.max(t,i).toFixed(2)||h<+Math.min(r,a).toFixed(2)||h>+Math.max(r,a).toFixed(2)||p<+Math.min(e,n).toFixed(2)||p>+Math.max(e,n).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:u,y:c}}}}function C(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function S(t,e,i,n){return null===t&&(t=e=i=n=0),null===e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:Math.min(i,n)/2,r2:Math.max(i,n)/2,r0:Math.sqrt(i*i+n*n)/2,path:s(t,e,i,n),vb:[t,e,i,n].join(" ")}}function j(t,e,i,n,r,o,a,s){Object(O.isArray)(t)||(t=[t,e,i,n,r,o,a,s]);var l=function(t,e,i,n,r,o,a,s){for(var l,u,c,h,p=[],f=[[],[]],d=0;d<2;++d)if(c=0===d?(u=6*t-12*i+6*r,l=-3*t+9*i-9*r+3*a,3*i-3*t):(u=6*e-12*n+6*o,l=-3*e+9*n-9*o+3*s,3*n-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;0<(h=-c/u)&&h<1&&p.push(h)}else{var g,y,v=u*u-4*c*l,m=Math.sqrt(v);v<0||(0<(g=(-u+m)/(2*l))&&g<1&&p.push(g),0<(y=(-u-m)/(2*l))&&y<1&&p.push(y))}for(var x,b=p.length,_=b;b--;)x=1-(h=p[b]),f[0][b]=x*x*x*t+3*x*x*h*i+3*x*h*h*r+h*h*h*a,f[1][b]=x*x*x*e+3*x*x*h*n+3*x*h*h*o+h*h*h*s;return f[0][_]=t,f[1][_]=e,f[0][_+1]=a,f[1][_+1]=s,f[0].length=f[1].length=_+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return S(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function P(t,e,i,n,r,o,a,s,l){var u=1-l,c=Math.pow(u,3),h=Math.pow(u,2),p=l*l,f=p*l,d=t+2*l*(i-t)+p*(r-2*i+t),g=e+2*l*(n-e)+p*(o-2*n+e),y=i+2*l*(r-i)+p*(a-2*r+i),v=n+2*l*(o-n)+p*(s-2*o+n);return{x:c*t+3*h*l*i+3*u*l*l*r+f*a,y:c*e+3*h*l*n+3*u*l*l*o+f*s,m:{x:d,y:g},n:{x:y,y:v},start:{x:u*t+l*i,y:u*e+l*n},end:{x:u*r+l*a,y:u*o+l*s},alpha:90-180*Math.atan2(d-y,g-v)/Math.PI}}function T(t,e,i){if(n=j(t),r=j(e),n=S(n),r=S(r),!(C(r,n.x,n.y)||C(r,n.x2,n.y)||C(r,n.x,n.y2)||C(r,n.x2,n.y2)||C(n,r.x,r.y)||C(n,r.x2,r.y)||C(n,r.x,r.y2)||C(n,r.x2,r.y2)||(n.x<r.x2&&n.x>r.x||r.x<n.x2&&r.x>n.x)&&(n.y<r.y2&&n.y>r.y||r.y<n.y2&&r.y>n.y)))return i?0:[];for(var n,r,o=~~(w.apply(0,t)/8),a=~~(w.apply(0,e)/8),s=[],l=[],u={},c=i?0:[],h=0;h<1+o;h++){var p=P.apply(0,t.concat(h/o));s.push({x:p.x,y:p.y,t:h/o})}for(h=0;h<1+a;h++)p=P.apply(0,e.concat(h/a)),l.push({x:p.x,y:p.y,t:h/a});for(h=0;h<o;h++)for(var f=0;f<a;f++){var d=s[h],g=s[h+1],y=l[f],v=l[f+1],m=Math.abs(g.x-d.x)<.001?"y":"x",x=Math.abs(v.x-y.x)<.001?"y":"x",b=M(d.x,d.y,g.x,g.y,y.x,y.y,v.x,v.y);if(b){if(u[b.x.toFixed(4)]===b.y.toFixed(4))continue;u[b.x.toFixed(4)]=b.y.toFixed(4);var _=d.t+Math.abs((b[m]-d[m])/(g[m]-d[m]))*(g.t-d.t),O=y.t+Math.abs((b[x]-y[x])/(v[x]-y[x]))*(v.t-y.t);0<=_&&_<=1&&0<=O&&O<=1&&(i?c+=1:c.push({x:b.x,y:b.y,t1:_,t2:O}))}}return c}var O=i(0),r="\t\n\v\f\r \u2028\u2029",l=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),u=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),A=function(o){if(!o)return null;if(Object(O.isArray)(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(o).replace(l,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(u,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(s.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&s.push([e,n[0]]),"r"===r)s.push([e].concat(n));else for(;n.length>=a[r]&&(s.push([e].concat(n.splice(0,a[r]))),a[r]););return o}),s},E=function(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?o[3]={x:+t[0],y:+t[1]}:r-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i},L=function(t){if(!(t=A(t))||!t.length)return[["M",0,0]];var e,i,n=[],r=0,o=0,a=0,s=0,l=0;"M"===t[0][0]&&(a=r=+t[0][1],s=o=+t[0][2],l++,n[0]=["M",r,o]);for(var u=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),c=void 0,h=void 0,p=l,f=t.length;p<f;p++){if(n.push(c=[]),(e=(h=t[p])[0])!==e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+r,c[7]=+h[7]+o;break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+r;break;case"R":for(var d=2,g=(i=[r,o].concat(h.slice(1))).length;d<g;d++)i[d]=+i[d]+r,i[++d]=+i[d]+o;n.pop(),n=n.concat(E(i,u));break;case"O":n.pop(),(i=m(r,o,h[1],h[2])).push(i[0]),n=n.concat(i);break;case"U":n.pop(),n=n.concat(m(r,o,h[1],h[2],h[3])),c=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+h[1]+r,s=+h[2]+o;break;default:for(d=1,g=h.length;d<g;d++)c[d]=+h[d]+(d%2?r:o)}else if("R"===e)i=[r,o].concat(h.slice(1)),n.pop(),n=n.concat(E(i,u)),c=["R"].concat(h.slice(-2));else if("O"===e)n.pop(),(i=m(r,o,h[1],h[2])).push(i[0]),n=n.concat(i);else if("U"===e)n.pop(),n=n.concat(m(r,o,h[1],h[2],h[3])),c=["U"].concat(n[n.length-1].slice(-2));else for(var y=0,v=h.length;y<v;y++)c[y]=h[y];if("O"!==(e=e.toUpperCase()))switch(c[0]){case"Z":r=+a,o=+s;break;case"H":r=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:r=c[c.length-2],o=c[c.length-1]}}return n},k=function(t,e){for(var o=L(t),a=e&&L(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=[],s=[],l="",u="",c=function(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(V.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":r="C"===i||"S"===i?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"===i||"T"===i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(b(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(b(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(x(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(x(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(x(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(x(e.x,e.y,e.X,e.Y))}return t},h=function(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)r[e]="A",a&&(s[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),f=Math.max(o.length,a&&a.length||0)}},p=function(t,e,i,n,r){t&&e&&"M"===t[r][0]&&"M"!==e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],f=Math.max(o.length,a&&a.length||0))},f=Math.max(o.length,a&&a.length||0),d=0;d<f;d++){o[d]&&(l=o[d][0]),"C"!==l&&(r[d]=l,d&&(u=r[d-1])),o[d]=c(o[d],i,u),"A"!==r[d]&&"C"===l&&(r[d]="C"),h(o,d),a&&(a[d]&&(l=a[d][0]),"C"!==l&&(s[d]=l,d&&(u=s[d-1])),a[d]=c(a[d],n,u),"A"!==s[d]&&"C"===l&&(s[d]="C"),h(a,d)),p(o,a,i,n,d),p(a,o,n,i,d);var g=o[d],y=a&&a[d],v=g.length,m=a&&y.length;i.x=g[v-2],i.y=g[v-1],i.bx=parseFloat(g[v-4])||i.x,i.by=parseFloat(g[v-3])||i.y,n.bx=a&&(parseFloat(y[m-4])||n.x),n.by=a&&(parseFloat(y[m-3])||n.y),n.x=a&&y[m-2],n.y=a&&y[m-1]}return a?[o,a]:o},o=/,?([a-z]),?/gi,a=function(t){return t.join(",").replace(o,"$1")},s=function(t,e,i,n,r){if(r)return[["M",+t+ +r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return o.parsePathArray=a,o},c=function(t,e){return function(t,e,i){var n,r,o,a,s,l,u,c,h,p;t=k(t),e=k(e);for(var f=[],d=0,g=t.length;d<g;d++){var y=t[d];if("M"===y[0])n=s=y[1],r=l=y[2];else{r="C"===y[0]?(n=(h=[n,r].concat(y.slice(1)))[6],h[7]):(h=[n,r,n,r,s,l,s,l],n=s,l);for(var v=0,m=e.length;v<m;v++){var x=e[v];if("M"===x[0])o=u=x[1],a=c=x[2];else{a="C"===x[0]?(o=(p=[o,a].concat(x.slice(1)))[6],p[7]):(p=[o,a,o,a,u,c,u,c],o=u,c);for(var b=T(h,p,i),_=0,O=b.length;_<O;_++)b[_].segment1=d,b[_].segment2=v,b[_].bez1=h,b[_].bez2=p;f=f.concat(b)}}}}return f}(t,e)};function h(p,t,e){if(1===e)return[[].concat(p)];var i=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])i=i.concat(function(t,e){var i=[[p[1],p[2]]];e=e||2;var n=[];"A"===t[0]?(i.push(t[6]),i.push(t[7])):"C"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]]),i.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(i.push([t[1],t[2]]),i.push([t[3],t[4]])):i.push([t[1],t[2]]);for(var r,o,a,s,l=i,u=1/e,c=0;c<e-1;c++){var h=(o=u/(1-u*c),s=a=void 0,a=[],s=[],(r=l).length&&function t(e,i){if(1===e.length)a.push(e[0]),s.push(e[0]);else{for(var n=[],r=0;r<e.length-1;r++)0===r&&a.push(e[0]),r===e.length-2&&s.push(e[r+1]),n[r]=[(1-i)*e[r][0]+i*e[r+1][0],(1-i)*e[r][1]+i*e[r+1][1]];t(n,i)}}(r,o),{left:a,right:s.reverse()});n.push(h.left),l=h.right}return n.push(l),n.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])})}(t,e));else{var n=[].concat(p);"M"===n[0]&&(n[0]="L");for(var r=0;r<=e-1;r++)i.push(n)}return i}function v(t,i){if(t.length===i.length){var n=!0;return Object(O.each)(t,function(t,e){if(t!==i[e])return n=!1}),n}}var p=function(n,t){if(1===n.length)return n;var r=n.length-1,e=t.length-1,i=r/e,o=[];if(1===n.length&&"M"===n[0][0]){for(var a=0;a<e-r;a++)n.push(n[0]);return n}for(a=0;a<e;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var l=o.reduce(function(t,e,i){return i===r?t.concat(n[r]):t.concat(h(n[i],n[i+1],e))},[]);return l.unshift(n[0]),"Z"!==t[e]&&"z"!==t[e]||l.push("Z"),l};var I=function(t,e){var i=function(t,e){var i,n,r=t.length,o=e.length,a=0;if(0===r||0===o)return null;for(var s=[],l=0;l<=r;l++)s[l]=[],s[l][0]={min:l};for(var u,c,h,p,f=0;f<=o;f++)s[0][f]={min:f};for(l=1;l<=r;l++)for(i=t[l-1],f=1;f<=o;f++){n=e[f-1],a=v(i,n)?0:1;var d=s[l-1][f].min+1,g=s[l][f-1].min+1,y=s[l-1][f-1].min+a;s[l][f]=(p=h=void 0,h=null,(c=g)<(p=y)&&(p=c,h="add"),(u=d)<p&&(p=u,h="del"),{type:h,min:p})}return s}(t,e),n=t.length,r=e.length,o=[],a=1,s=1;if(i[n][r].min!==n){for(var l=1;l<=n;l++){for(var u=i[l][l].min,s=l,c=a;c<=r;c++)i[l][c].min<u&&(u=i[l][c].min,s=c);a=s,i[l][a].type&&o.push({index:l-1,type:i[l][a].type})}for(l=o.length-1;0<=l;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=r-(n=t.length);if(n<r)for(l=0;l<h;l++)"z"===t[n-1][0]||"Z"===t[n-1][0]?t.splice(n-2,0,t[n-2]):t.push(t[n-1]),n+=1;return t};function f(t,e,i){for(var n,r=[].concat(t),o=1/(i+1),a=d(e)[0],s=1;s<=i;s++)o*=s,0===(n=Math.floor(t.length*o))?r.unshift([a[0]*o+t[n][0]*(1-o),a[1]*o+t[n][1]*(1-o)]):r.splice(n,0,[a[0]*o+t[n][0]*(1-o),a[1]*o+t[n][1]*(1-o)]);return r}function d(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var D=function(t,e){if(t.length<=1)return t;for(var i,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(i=d(t[n]),e[n][0]){case"M":t[n]=["M"].concat(i[0]);break;case"L":t[n]=["L"].concat(i[0]);break;case"A":t[n]=[].concat(e[n]),t[n][6]=i[0][0],t[n][7]=i[0][1];break;case"Q":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=f(i,t[n-1],1)}t[n]=["Q"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[n]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(0<n)){t[n]=e[n];break}i=f(i,t[n-1],2)}t[n]=["C"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(i.length<2){if(!(0<n)){t[n]=e[n];break}i=f(i,t[n-1],1)}t[n]=["S"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;default:t[n]=e[n]}return t},g=(Q.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Q.prototype.stopPropagation=function(){this.propagationStopped=!0},Q.prototype.toString=function(){return"[Event (type="+this.type+")]"},Q.prototype.save=function(){},Q.prototype.restore=function(){},Q),y=i(1),B=i(22),F=i(37),R=i.n(F),N=i(42),Y=i.n(N),G=i(30),X=i.n(G),z=i(60),H=i.n(z),W=(i(23),i(81)),q=i.n(W),U=i(31),K=i.n(U),Z=i(82),$=i.n(Z);function Q(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}function J(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}var tt="undefined"!=typeof window&&void 0!==window.document;function et(t,e){if(t.isCanvas())return 1;for(var i=e.getParent(),n=!1;i;){if(i===t){n=!0;break}i=i.getParent()}return n}function it(t){return t.cfg.visible&&t.cfg.capture}var nt,rt=(nt=B.default,Object(y.__extends)(st,nt),st.prototype.getDefaultCfg=function(){return{}},st.prototype.get=function(t){return this.cfg[t]},st.prototype.set=function(t,e){this.cfg[t]=e},st.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},st),ot=i(179),at=i(3);function st(t){var e=nt.call(this)||this;e.destroyed=!1;var i=e.getDefaultCfg();return e.cfg=q()(i,t),e}function lt(t,e){var i=[],n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],v=e[5],m=e[6],x=e[7],b=e[8];return i[0]=p*n+f*a+d*u,i[1]=p*r+f*s+d*c,i[2]=p*o+f*l+d*h,i[3]=g*n+y*a+v*u,i[4]=g*r+y*s+v*c,i[5]=g*o+y*l+v*h,i[6]=m*n+x*a+b*u,i[7]=m*r+x*s+b*c,i[8]=m*o+x*l+b*h,i}function ut(t,e){var i=[],n=e[0],r=e[1];return i[0]=t[0]*n+t[3]*r+t[6],i[1]=t[1]*n+t[4]*r+t[7],i}var ct=["zIndex","capture","visible","type"],ht=["repeat"];var pt,ft=(pt=rt,Object(y.__extends)(gt,pt),gt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},gt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},gt.prototype.onCanvasChange=function(t){},gt.prototype.initAttrs=function(t){},gt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},gt.prototype.isGroup=function(){return!1},gt.prototype.getParent=function(){return this.get("parent")},gt.prototype.getCanvas=function(){return this.get("canvas")},gt.prototype.attr=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e[0],r=e[1];if(!n)return this.attrs;if(Object(O.isObject)(n)){for(var o in n)this.setAttr(o,n[o]);return this.afterAttrsChange(n),this}return 2===e.length?(this.setAttr(n,r),this.afterAttrsChange(((t={})[n]=r,t)),this):this.attrs[n]},gt.prototype.isClipped=function(t,e){var i=this.getClip();return i&&!i.isHit(t,e)},gt.prototype.setAttr=function(t,e){var i=this.attrs[t];i!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,i))},gt.prototype.onAttrChange=function(t,e,i){"matrix"===t&&this.set("totalMatrix",null)},gt.prototype.afterAttrsChange=function(t){this.onCanvasChange("attr")},gt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},gt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},gt.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},gt.prototype.toFront=function(){var t,e,i=this.getParent();i&&(t=i.getChildren(),this.get("el"),e=t.indexOf(this),t.splice(e,1),t.push(this),this.onCanvasChange("zIndex"))},gt.prototype.toBack=function(){var t,e,i=this.getParent();i&&(t=i.getChildren(),this.get("el"),e=t.indexOf(this),t.splice(e,1),t.unshift(this),this.onCanvasChange("zIndex"))},gt.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(J(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},gt.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},gt.prototype.getMatrix=function(){return this.attr("matrix")},gt.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},gt.prototype.getTotalMatrix=function(){var t,e,i=this.get("totalMatrix");return i||(t=this.attr("matrix"),i=(e=this.get("parentMatrix"))&&t?lt(e,t):t||e,this.set("totalMatrix",i)),i},gt.prototype.applyMatrix=function(t){var e=this.attr("matrix"),i=t&&e?lt(t,e):e||t;this.set("totalMatrix",i),this.set("parentMatrix",t)},gt.prototype.getDefaultMatrix=function(){return null},gt.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?ut(e,t):t},gt.prototype.invertFromMatrix=function(t){var e,i,n,r,o,a,s,l,u,c,h,p,f,d,g=this.attr("matrix");if(g){var y=(e=[],i=g[0],n=g[1],r=g[2],o=g[3],a=g[4],s=g[5],l=g[6],u=g[7],(d=i*(h=(c=g[8])*a-s*u)+n*(p=-c*o+s*l)+r*(f=u*o-a*l))?(d=1/d,e[0]=h*d,e[1]=(-c*n+r*u)*d,e[2]=(s*n-r*a)*d,e[3]=p*d,e[4]=(c*i-r*l)*d,e[5]=(-s*i+r*o)*d,e[6]=f*d,e[7]=(-u*i+n*l)*d,e[8]=(a*i-n*o)*d,e):null);if(y)return ut(y,t)}return t},gt.prototype.setClip=function(t){var e,i=this.getCanvas(),n=null;return!t||(e=this.getShapeBase()[Object(O.upperFirst)(t.type)])&&(n=new e({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:i})),this.set("clipShape",n),this.onCanvasChange("clip"),n},gt.prototype.getClip=function(){return this.cfg.clipShape||null},gt.prototype.clone=function(){var e=this,i=this.attrs,n={};Object(O.each)(i,function(t,e){Object(O.isArray)(i[e])?n[e]=function(t){for(var e=[],i=0;i<t.length;i++)Object(O.isArray)(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(i[e]):n[e]=i[e]});var r=new this.constructor({attrs:n});return Object(O.each)(ct,function(t){r.set(t,e.get(t))}),r},gt.prototype.destroy=function(){this.destroyed||(this.attrs={},pt.prototype.destroy.call(this))},gt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},gt.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var n=this.get("animations")||[];i.timer||i.initTimer();var r,o,a,s,l,u=t[0],c=t[1],h=t[2],p=void 0===h?"easeLinear":h,f=t[3],d=void 0===f?O.noop:f,g=t[4],y=void 0===g?0:g;Object(O.isFunction)(u)?(r=u,u={}):Object(O.isObject)(u)&&u.onFrame&&(r=u.onFrame,o=u.repeat),Object(O.isObject)(c)?(c=(l=c).duration,p=l.easing||"easeLinear",y=l.delay||0,o=l.repeat||o||!1,d=l.callback||O.noop,a=l.pauseCallback||O.noop,s=l.resumeCallback||O.noop):(Object(O.isNumber)(d)&&(y=d,d=null),p=Object(O.isFunction)(p)?(d=p,"easeLinear"):p||"easeLinear");var v,m,x,b=(v=u,m={},x=this.attr(),Object(O.each)(v,function(t,e){-1!==ht.indexOf(e)||Object(O.isEqual)(x[e],t)||(m[e]=t)}),m),_={fromAttrs:function(t,e){var i={},n=e.attrs;for(var r in t)i[r]=n[r];return i}(b,this),toAttrs:b,duration:c,easing:p,repeat:o,callback:d,pauseCallback:a,resumeCallback:s,delay:y,startTime:i.getTime(),id:Object(O.uniqueId)(),onFrame:r,pathFormatted:!1};0<n.length?n=function(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(O.each)(t,function(i){n+r<i.startTime+i.delay+i.duration&&o>i.delay&&Object(O.each)(e.toAttrs,function(t,e){a.call(i.toAttrs,e)&&(delete i.toAttrs[e],delete i.fromAttrs[e])})}),t}(n,_):i.addAnimator(this),n.push(_),this.set("animations",n),this.set("_pause",{isPaused:!1})},gt.prototype.stopAnimate=function(e){var i=this;void 0===e&&(e=!0);var t=this.get("animations");Object(O.each)(t,function(t){e&&(t.onFrame?i.attr(t.onFrame(1)):i.attr(t.toAttrs)),t.callback&&t.callback()}),this.set("animating",!1),this.set("animations",[])},gt.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),i=t.getTime();return Object(O.each)(e,function(t){t._paused=!0,t._pauseTime=i,t.pauseCallback&&t.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},gt.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),i=this.get("_pause").pauseTime;return Object(O.each)(t,function(t){t.startTime=t.startTime+(e-i),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},gt.prototype.emitDelegation=function(t,n){var r,o=this,a=n.propagationPath;this.getEvents(),"mouseenter"===t?r=n.fromShape:"mouseleave"===t&&(r=n.toShape);for(var e=function(t){var e=a[t],i=e.get("name");if(i){if((e.isGroup()||e.isCanvas&&e.isCanvas())&&r&&et(e,r))return"break";Object(O.isArray)(i)?Object(O.each)(i,function(t){o.emitDelegateEvent(e,t,n)}):s.emitDelegateEvent(e,i,n)}},s=this,i=0;i<a.length&&"break"!==e(i);i++);},gt.prototype.emitDelegateEvent=function(t,e,i){var n=this.getEvents(),r=e+":"+i.type;(n[r]||n["*"])&&(i.name=r,i.currentTarget=t,i.delegateTarget=this,i.delegateObject=t.get("delegateObject"),this.emit(r,i))},gt.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.getMatrix(),n=at.ext.transform(i,[["t",t,e]]);return this.setMatrix(n),this},gt.prototype.move=function(t,e){var i=this.attr("x")||0,n=this.attr("y")||0;return this.translate(t-i,e-n),this},gt.prototype.moveTo=function(t,e){return this.move(t,e)},gt.prototype.scale=function(t,e){var i=this.getMatrix(),n=at.ext.transform(i,[["s",t,e||t]]);return this.setMatrix(n),this},gt.prototype.rotate=function(t){var e=this.getMatrix(),i=at.ext.transform(e,[["r",t]]);return this.setMatrix(i),this},gt.prototype.rotateAtStart=function(t){var e=this.attr(),i=e.x,n=e.y,r=this.getMatrix(),o=at.ext.transform(r,[["t",-i,-n],["r",t],["t",i,n]]);return this.setMatrix(o),this},gt.prototype.rotateAtPoint=function(t,e,i){var n=this.getMatrix(),r=at.ext.transform(n,[["t",-t,-e],["r",i],["t",t,e]]);return this.setMatrix(r),this},gt),dt={};function gt(t){var e=pt.call(this,t)||this;e.attrs={};var i=e.getDefaultAttrs();return Object(O.mix)(i,t.attrs),e.attrs=i,e.initAttrs(i),e.initAnimate(),e}var yt,vt=(yt=ft,Object(y.__extends)(mt,yt),mt.prototype.isCanvas=function(){return!1},mt.prototype.getBBox=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,r=[],o=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),n=0<a.length?(K()(a,function(t){var e=t.getBBox();r.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,r),e=Math.max.apply(null,r),i=Math.min.apply(null,o),Math.max.apply(null,o)):i=e=t=0;return{x:t,y:i,minX:t,minY:i,maxX:e,maxY:n,width:e-t,height:n-i}},mt.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,r=[],o=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),n=0<a.length?(K()(a,function(t){var e=t.getCanvasBBox();r.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,r),e=Math.max.apply(null,r),i=Math.min.apply(null,o),Math.max.apply(null,o)):i=e=t=0;return{x:t,y:i,minX:t,minY:i,maxX:e,maxY:n,width:e-t,height:n-i}},mt.prototype.getDefaultCfg=function(){var t=yt.prototype.getDefaultCfg.call(this);return t.children=[],t},mt.prototype.onAttrChange=function(t,e,i){var n;yt.prototype.onAttrChange.call(this,t,e,i),"matrix"===t&&(n=this.getTotalMatrix(),this._applyChildrenMarix(n))},mt.prototype.applyMatrix=function(t){var e=this.getTotalMatrix();yt.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==e&&this._applyChildrenMarix(i)},mt.prototype._applyChildrenMarix=function(e){var t=this.getChildren();K()(t,function(t){t.applyMatrix(e)})},mt.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],n=t[1];H()(i)?n=i:n.type=i;var r=dt[n.type];r||(r=$()(n.type),dt[n.type]=r);var o=new(this.getShapeBase()[r])(n);return this.add(o),o},mt.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i,n,r=t[0],o=t[1];return n=Y()(r)?new r(o||{parent:this}):(i=r||{},new(this.getGroupBase())(i)),this.add(n),n},mt.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},mt.prototype.getShape=function(t,e,i){if(!it(this))return null;var n,r,o=this.getChildren();return this.isCanvas()?n=this._findShape(o,t,e,i):(r=[t,e,1],r=this.invertFromMatrix(r),this.isClipped(r[0],r[1])||(n=this._findShape(o,r[0],r[1],i))),n},mt.prototype._findShape=function(t,e,i,n){for(var r=null,o=t.length-1;0<=o;o--){var a=t[o];if(it(a)&&(a.isGroup()?r=a.getShape(e,i,n):a.isHit(e,i)&&(r=a)),r)break}return r},mt.prototype.add=function(t){var e,i,n,r=this.getCanvas(),o=this.getChildren(),a=this.get("timeline"),s=t.getParent();s&&(i=s,n=t,!1?n.destroy():(n.set("parent",null),n.set("canvas",null)),J(i.getChildren(),n)),t.set("parent",this),r&&function e(t,i){var n;t.set("canvas",i),t.isGroup()&&(n=t.get("children")).length&&n.forEach(function(t){e(t,i)})}(t,r),a&&function e(t,i){var n;t.set("timeline",i),t.isGroup()&&(n=t.get("children")).length&&n.forEach(function(t){e(t,i)})}(t,a),o.push(t),(e=t).isGroup()&&!e.isEntityGroup()&&!e.get("children").length||e.onCanvasChange("add"),this._applyElementMatrix(t)},mt.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},mt.prototype.getChildren=function(){return this.get("children")},mt.prototype.sort=function(){var n,t=this.getChildren();K()(t,function(t,e){return t._INDEX=e,t}),t.sort((n=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(t,e){var i=n(t,e);return 0===i?t._INDEX-e._INDEX:i})),this.onCanvasChange("sort")},mt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;0<=e;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},mt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),yt.prototype.destroy.call(this))},mt.prototype.getFirst=function(){return this.getChildByIndex(0)},mt.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},mt.prototype.getChildByIndex=function(t){return this.getChildren()[t]},mt.prototype.getCount=function(){return this.getChildren().length},mt.prototype.contain=function(t){return-1<this.getChildren().indexOf(t)},mt.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},mt.prototype.findAll=function(e){var i=[],t=this.getChildren();return K()(t,function(t){e(t)&&i.push(t),t.isGroup()&&(i=i.concat(t.findAll(e)))}),i},mt.prototype.find=function(e){var i=null,t=this.getChildren();return K()(t,function(t){if(e(t)?i=t:t.isGroup()&&(i=t.find(e)),i)return!1}),i},mt.prototype.findById=function(e){return this.find(function(t){return t.get("id")===e})},mt.prototype.findByClassName=function(e){return this.find(function(t){return t.get("className")===e})},mt.prototype.findAllByName=function(e){return this.findAll(function(t){return t.get("name")===e})},mt);function mt(){return null!==yt&&yt.apply(this,arguments)||this}function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var bt,_t,Ot=0,wt=0,Mt=0,Ct=0,St=0,jt=0,Pt="object"===("undefined"==typeof performance?"undefined":xt(performance))&&performance.now?performance:Date,Tt="object"===("undefined"==typeof window?"undefined":xt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function At(){return St||(Tt(Et),St=Pt.now()+jt)}function Et(){St=0}function Lt(){this._call=this._time=this._next=null}function kt(t,e,i){var n=new Lt;return n.restart(t,e,i),n}function It(){St=(Ct=Pt.now())+jt,Ot=wt=0;try{!function(){At(),++Ot;for(var t,e=bt;e;)0<=(t=St-e._time)&&e._call.call(null,t),e=e._next;--Ot}()}finally{Ot=0,function(){for(var t,e,i=bt,n=1/0;i;)i=i._call?(n>i._time&&(n=i._time),(t=i)._next):(e=i._next,i._next=null,t?t._next=e:bt=e);_t=t,Bt(n)}(),St=0}}function Dt(){var t=Pt.now(),e=t-Ct;1e3<e&&(jt-=e,Ct=t)}function Bt(t){Ot||(wt=wt&&clearTimeout(wt),24<t-St?(t<1/0&&(wt=setTimeout(It,t-Pt.now()-jt)),Mt=Mt&&clearInterval(Mt)):(Mt||(Ct=Pt.now(),Mt=setInterval(Dt,1e3)),Ot=1,Tt(It)))}Lt.prototype=kt.prototype={constructor:Lt,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?At():+i)+(null==e?0:+e),this._next||_t===this||(_t?_t._next=this:bt=this,_t=this),this._call=t,this._time=i,Bt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bt())}};function Ft(t,e,i){t.prototype=e.prototype=i,i.constructor=t}var Rt=i(79);function Nt(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function Yt(){}var Gt="\\s*([+-]?\\d+)\\s*",Xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zt=/^#([0-9a-f]{3,8})$/,Ht=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),Wt=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),qt=new RegExp("^rgba\\("+[Gt,Gt,Gt,Xt]+"\\)$"),Ut=new RegExp("^rgba\\("+[Vt,Vt,Vt,Xt]+"\\)$"),Kt=new RegExp("^hsl\\("+[Xt,Vt,Vt]+"\\)$"),Zt=new RegExp("^hsla\\("+[Xt,Vt,Vt,Xt]+"\\)$"),$t={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qt(){return this.rgb().formatHex()}function Jt(){return this.rgb().formatRgb()}function te(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=zt.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?ee(e):3===i?new re(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?ie(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?ie(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ht.exec(t))?new re(e[1],e[2],e[3],1):(e=Wt.exec(t))?new re(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=qt.exec(t))?ie(e[1],e[2],e[3],e[4]):(e=Ut.exec(t))?ie(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Kt.exec(t))?le(e[1],e[2]/100,e[3]/100,1):(e=Zt.exec(t))?le(e[1],e[2]/100,e[3]/100,e[4]):$t.hasOwnProperty(t)?ee($t[t]):"transparent"===t?new re(NaN,NaN,NaN,0):null}function ee(t){return new re(t>>16&255,t>>8&255,255&t,1)}function ie(t,e,i,n){return n<=0&&(t=e=i=NaN),new re(t,e,i,n)}function ne(t,e,i,n){return 1===arguments.length?((r=t)instanceof Yt||(r=te(r)),r?new re((r=r.rgb()).r,r.g,r.b,r.opacity):new re):new re(t,e,i,null==n?1:n);var r}function re(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function oe(){return"#"+se(this.r)+se(this.g)+se(this.b)}function ae(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function se(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function le(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||1<=i?t=e=NaN:e<=0&&(t=NaN),new ce(t,e,i,n)}function ue(t){if(t instanceof ce)return new ce(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=te(t)),!t)return new ce;if(t instanceof ce)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,r=Math.min(e,i,n),o=Math.max(e,i,n),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(i-n)/s+6*(i<n):i===o?(n-e)/s+2:(e-i)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=0<l&&l<1?0:a,new ce(a,s,l,t.opacity)}function ce(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function he(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}Ft(Yt,te,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Qt,formatHex:Qt,formatHsl:function(){return ue(this).formatHsl()},formatRgb:Jt,toString:Jt}),Ft(re,ne,Nt(Yt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new re(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new re(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oe,formatHex:oe,formatRgb:ae,toString:ae})),Ft(ce,function(t,e,i,n){return 1===arguments.length?ue(t):new ce(t,e,i,null==n?1:n)},Nt(Yt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ce(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ce(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new re(he(240<=t?t-240:120+t,r,n),he(t,r,n),he(t<120?240+t:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var pe=function(t){return function(){return t}};function fe(o){return 1==(o=+o)?de:function(t,e){return e-t?(i=t,n=e,r=o,i=Math.pow(i,r),n=Math.pow(n,r)-i,r=1/r,function(t){return Math.pow(i+t*n,r)}):pe(isNaN(t)?e:t);var i,n,r}}function de(t,e){var i,n,r=e-t;return r?(i=t,n=r,function(t){return i+t*n}):pe(isNaN(t)?e:t)}var ge=function t(e){var a=fe(e);function i(e,t){var i=a((e=ne(e)).r,(t=ne(t)).r),n=a(e.g,t.g),r=a(e.b,t.b),o=de(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=n(t),e.b=r(t),e.opacity=o(t),e+""}}return i.gamma=t,i}(1);var ye=function(e,i){i=i||[];var n,r=e?Math.min(i.length,e.length):0,o=i.slice();return function(t){for(n=0;n<r;++n)o[n]=e[n]*(1-t)+i[n]*t;return o}};function ve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function me(t,e){for(var i=e?e.length:0,n=t?Math.min(i,t.length):0,r=new Array(n),o=new Array(i),a=0;a<n;++a)r[a]=Ce(t[a],e[a]);for(;a<i;++a)o[a]=e[a];return function(t){for(a=0;a<n;++a)o[a]=r[a](t);return o}}function xe(e,i){return e=+e,i=+i,function(t){return e*(1-t)+i*t}}function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(t,n){var e,i,r,o,a,s=Oe.lastIndex=we.lastIndex=0,l=-1,u=[],c=[];for(t+="",n+="";(e=Oe.exec(t))&&(i=we.exec(n));)(r=i.index)>s&&(r=n.slice(s,r),u[l]?u[l]+=r:u[++l]=r),(e=e[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:xe(e,i)})),s=we.lastIndex;return s<n.length&&(r=n.slice(s),u[l]?u[l]+=r:u[++l]=r),u.length<2?c[0]?(a=c[0].x,function(t){return a(t)+""}):(o=n,function(){return o}):(n=c.length,function(t){for(var e,i=0;i<n;++i)u[(e=c[i]).i]=e.x(t);return u.join("")})}var Oe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,we=new RegExp(Oe.source,"g");function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ce=function(t,e){var i,n=Me(e);return null==e||"boolean"===n?pe(e):("number"===n?xe:"string"===n?(i=te(e))?(e=i,ge):_e:e instanceof te?ge:e instanceof Date?function(e,i){var n=new Date;return e=+e,i=+i,function(t){return n.setTime(e*(1-t)+i*t),n}}:ve(e)?ye:Array.isArray(e)?me:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var i,n={},r={};for(i in null!==t&&"object"===be(t)||(t={}),null!==e&&"object"===be(e)||(e={}),e)i in t?n[i]=Ce(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}:xe)(t,e)},Se=[1,0,0,0,1,0,0,0,1];function je(t,e,i){var n,r=e.startTime;if(!(i<r+e.delay||e._paused)){var o,a=e.duration,s=e.easing;if(i=i-r-e.delay,e.repeat)n=i%a/a,n=Rt[s](n);else{if(!((n=i/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),1;n=Rt[s](n)}e.onFrame?(o=e.onFrame(n),t.attr(o)):function(t,e,i){var n,r,o,a,s,l={},u=e.fromAttrs,c=e.toAttrs;if(!t.destroyed){for(var h in c)if(!Object(O.isEqual)(u[h],c[h]))if("path"===h){var p=c[h],f=u[h];p.length>f.length?(p=A(c[h]),f=A(u[h]),f=I(f,p),f=D(f,p),e.fromAttrs.path=f,e.toAttrs.path=p):e.pathFormatted||(p=A(c[h]),f=A(u[h]),f=D(f,p),e.fromAttrs.path=f,e.toAttrs.path=p,e.pathFormatted=!0),l[h]=[];for(var d=0;d<p.length;d++){for(var g=p[d],y=f[d],v=[],m=0;m<g.length;m++)Object(O.isNumber)(g[m])&&y&&Object(O.isNumber)(y[m])?(n=Ce(y[m],g[m]),v.push(n(i))):v.push(g[m]);l[h].push(v)}}else{"matrix"===h?(o=u[h]||Se,s=(ve(a=c[h]||Se)?ye:me)(o,a)(i),l[h]=s):["fill","stroke","fillStyle","strokeStyle"].includes(h)&&(r=c[h],/^[r,R,L,l]{1}[\s]*\(/.test(r))?l[h]=c[h]:Object(O.isFunction)(c[h])||(n=Ce(u[h],c[h]),l[h]=n(i))}t.attr(l)}}(t,e,n)}}var Pe=(Ae.prototype.initTimer=function(){var n,r,o,a=this;this.timer=kt(function(t){if(a.current=t,0<a.animators.length){for(var e=a.animators.length-1;0<=e;e--)if((n=a.animators[e]).destroyed)a.removeAnimator(e);else{if(!n.isAnimatePaused())for(var i=(r=n.get("animations")).length-1;0<=i;i--)o=r[i],je(n,o,t)&&(r.splice(i,1),o.callback&&o.callback());0===r.length&&a.removeAnimator(e)}a.canvas.get("autoDraw")||a.canvas.draw()}})},Ae.prototype.addAnimator=function(t){this.animators.push(t)},Ae.prototype.removeAnimator=function(t){this.animators.splice(t,1)},Ae.prototype.isAnimating=function(){return!!this.animators.length},Ae.prototype.stop=function(){this.timer&&this.timer.stop()},Ae.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},Ae.prototype.getTime=function(){return this.current},Ae),Te=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ae(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}function Ee(t,e,i){i.name=e,i.target=t,i.currentTarget=t,(i.delegateTarget=t).emit(e,i)}function Le(t,e,i){if(i.bubbles){var n=void 0,r=!1;if("mouseenter"===e?(n=i.fromShape,r=!0):"mouseleave"===e&&(r=!0,n=i.toShape),t.isCanvas()&&r)return;if(n&&et(t,n))return i.bubbles=!1;i.name=e,i.currentTarget=t,(i.delegateTarget=t).emit(e,i)}}var ke,Ie,De,Be=(We.prototype.init=function(){this._bindEvents()},We.prototype._bindEvents=function(){var e=this,i=this.canvas.get("el");K()(Te,function(t){i.addEventListener(t,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},We.prototype._clearEvents=function(){var e=this,i=this.canvas.get("el");K()(Te,function(t){i.removeEventListener(t,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},We.prototype._getEventObj=function(t,e,i,n,r,o){var a=new g(t,e);return a.fromShape=r,a.toShape=o,a.x=i.x,a.y=i.y,a.clientX=i.clientX,a.clientY=i.clientY,a.propagationPath.push(n),a},We.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},We.prototype._getPointInfo=function(t){var e=this.canvas,i=e.getClientByEvent(t),n=e.getPointByEvent(t);return{x:n.x,y:n.y,clientX:i.x,clientY:i.y}},We.prototype._triggerEvent=function(t,e){var i,n,r=this._getPointInfo(e),o=this._getShape(r,e),a=this["_on"+t],s=!1;a?a.call(this,r,o,e):(i=this.currentShape,"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,r,null,null,o),o&&this._emitEvent(t,e,r,o,null,o),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,r,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(s=!0,i&&this._emitEvent(t,e,r,i,i,null),this._emitEvent(t,e,r,null,i,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,r,null)):this._emitEvent(t,e,r,o,null,null)),s||(this.currentShape=o),o&&!o.get("destroyed")&&((n=this.canvas).get("el").style.cursor=o.attr("cursor")||n.get("cursor"))},We.prototype._onmousedown=function(t,e,i){0===i.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=i.timeStamp),this._emitEvent("mousedown",i,t,e,null,null)},We.prototype._emitMouseoverEvents=function(t,e,i,n){var r=this.canvas.get("el");i!==n&&(i&&(this._emitEvent("mouseout",t,e,i,i,n),this._emitEvent("mouseleave",t,e,i,i,n),n&&!n.get("destroyed")||(r.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",t,e,n,i,n),this._emitEvent("mouseenter",t,e,n,i,n)))},We.prototype._emitDragoverEvents=function(t,e,i,n,r){n?(n!==i&&(i&&this._emitEvent("dragleave",t,e,i,i,n),this._emitEvent("dragenter",t,e,n,i,n)),r||this._emitEvent("dragover",t,e,n)):i&&this._emitEvent("dragleave",t,e,i,i,n),r&&this._emitEvent("dragover",t,e,n)},We.prototype._afterDrag=function(t,e,i){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(e,i);n!==t&&this._emitMouseoverEvents(i,e,t,n),this.currentShape=n},We.prototype._onmouseup=function(t,e,i){var n;0===i.button&&(n=this.draggingShape,this.dragging?(n&&this._emitEvent("drop",i,t,e),this._emitEvent("dragend",i,t,n),this._afterDrag(n,t,i)):(this._emitEvent("mouseup",i,t,e),e===this.mousedownShape&&this._emitEvent("click",i,t,e),this.mousedownShape=null,this.mousedownPoint=null))},We.prototype._ondragover=function(t,e,i){i.preventDefault();var n=this.currentShape;this._emitDragoverEvents(i,t,n,e,!0)},We.prototype._onmousemove=function(t,e,i){var n,r,o,a,s,l=this.canvas,u=this.currentShape,c=this.draggingShape;this.dragging?(c&&this._emitDragoverEvents(i,t,u,e,!1),this._emitEvent("drag",i,t,c)):(n=this.mousedownPoint)?(r=this.mousedownShape,o=i.timeStamp-this.mousedownTimeStamp,a=n.clientX-t.clientX,s=n.clientY-t.clientY,120<o||40<a*a+s*s?r&&r.get("draggable")?((c=this.mousedownShape).set("capture",!1),this.draggingShape=c,this.dragging=!0,this._emitEvent("dragstart",i,t,c),this.mousedownShape=null,this.mousedownPoint=null):!r&&l.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",i,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(i,t,u,e),this._emitEvent("mousemove",i,t,e)):(this._emitMouseoverEvents(i,t,u,e),this._emitEvent("mousemove",i,t,e))):(this._emitMouseoverEvents(i,t,u,e),this._emitEvent("mousemove",i,t,e))},We.prototype._emitEvent=function(t,e,i,n,r,o){var a=this._getEventObj(t,e,i,n,r,o);if(n){Ee(a.shape=n,t,a);for(var s=n.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||Le(s,t,a),a.propagationPath.push(s),s=s.getParent()}else Ee(this.canvas,t,a)},We.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},We),Fe=Object(ot.detect)(),Re=Fe&&"firefox"===Fe.name,Ne=(De=vt,Object(y.__extends)(He,De),He.prototype.getDefaultCfg=function(){var t=De.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},He.prototype.initContainer=function(){var t=this.get("container");X()(t)&&(t=document.getElementById(t),this.set("container",t))},He.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},He.prototype.initEvents=function(){var t=new Be({canvas:this});t.init(),this.set("eventController",t)},He.prototype.initTimeline=function(){var t=new Pe(this);this.set("timeline",t)},He.prototype.setDOMSize=function(t,e){var i=this.get("el");tt&&(i.style.width=t+"px",i.style.height=e+"px")},He.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},He.prototype.getRenderer=function(){return this.get("renderer")},He.prototype.getCursor=function(){return this.get("cursor")},He.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");tt&&e&&(e.style.cursor=t)},He.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(Re&&!R()(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!R()(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),i=e.x,n=e.y;return this.getPointByClient(i,n)},He.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},He.prototype.getPointByClient=function(t,e){var i=this.get("el").getBoundingClientRect();return{x:t-i.left,y:e-i.top}},He.prototype.getClientByPoint=function(t,e){var i=this.get("el").getBoundingClientRect();return{x:t+i.left,y:e+i.top}},He.prototype.draw=function(){},He.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},He.prototype.clearEvents=function(){this.get("eventController").destroy()},He.prototype.isCanvas=function(){return!0},He.prototype.getParent=function(){return null},He.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),De.prototype.destroy.call(this))},He),Ye=(Ie=vt,Object(y.__extends)(ze,Ie),ze.prototype.isGroup=function(){return!0},ze.prototype.isEntityGroup=function(){return!1},ze.prototype.clone=function(){for(var t=Ie.prototype.clone.call(this),e=this.getChildren(),i=0;i<e.length;i++){var n=e[i];t.add(n.clone())}return t},ze),Ge=(ke=ft,Object(y.__extends)(Ve,ke),Ve.prototype._isInBBox=function(t,e){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=e&&i.maxY>=e},Ve.prototype.afterAttrsChange=function(t){ke.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},Ve.prototype.getBBox=function(){var t=this.get("bbox");return t||(t=this.calculateBBox(),this.set("bbox",t)),t},Ve.prototype.getCanvasBBox=function(){var t=this.get("canvasBox");return t||(t=this.calculateCanvasBBox(),this.set("canvasBox",t)),t},Ve.prototype.applyMatrix=function(t){ke.prototype.applyMatrix.call(this,t),this.set("canvasBox",null)},Ve.prototype.calculateCanvasBBox=function(){var t,e,i,n,r=this.getBBox(),o=this.getTotalMatrix(),a=r.minX,s=r.minY,l=r.maxX,u=r.maxY;o&&(t=ut(o,[r.minX,r.minY]),e=ut(o,[r.maxX,r.minY]),i=ut(o,[r.minX,r.maxY]),n=ut(o,[r.maxX,r.maxY]),a=Math.min(t[0],e[0],i[0],n[0]),l=Math.max(t[0],e[0],i[0],n[0]),s=Math.min(t[1],e[1],i[1],n[1]),u=Math.max(t[1],e[1],i[1],n[1]));var c,h,p,f,d,g,y,v,m,x,b=this.attrs;return b.shadowColor&&(y=a-(h=void 0===(c=b.shadowBlur)?0:c)+(f=void 0===(p=b.shadowOffsetX)?0:p),v=l+h+f,m=s-h+(g=void 0===(d=b.shadowOffsetY)?0:d),x=u+h+g,a=Math.min(a,y),l=Math.max(l,v),s=Math.min(s,m),u=Math.max(u,x)),{x:a,y:s,minX:a,minY:s,maxX:l,maxY:u,width:l-a,height:u-s}},Ve.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},Ve.prototype.isClipShape=function(){return this.get("isClipShape")},Ve.prototype.isInShape=function(t,e){return!1},Ve.prototype.isOnlyHitBox=function(){return!1},Ve.prototype.isHit=function(t,e){var i=this.get("startArrowShape"),n=this.get("endArrowShape"),r=[t,e,1],o=(r=this.invertFromMatrix(r))[0],a=r[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(i&&i.isHit(o,a))return!0;if(n&&n.isHit(o,a))return!0}return!1},Ve),Xe=i(191).version;function Ve(t){return ke.call(this,t)||this}function ze(){return null!==Ie&&Ie.apply(this,arguments)||this}function He(t){var e=De.call(this,t)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}function We(t){var i=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var e=t.type;i._triggerEvent(e,t)},this._onDocumentMove=function(t){var e;i.canvas.get("el")!==t.target&&(i.dragging||i.currentShape)&&(e=i._getPointInfo(t),i.dragging&&i._emitEvent("drag",t,e,i.draggingShape))},this._onDocumentMouseUp=function(t){var e;i.canvas.get("el")!==t.target&&i.dragging&&(e=i._getPointInfo(t),i.draggingShape&&i._emitEvent("drop",t,e,null),i._emitEvent("dragend",t,e,i.draggingShape),i._afterDrag(i.draggingShape,e,t))},this.canvas=t.canvas}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(141);Object.defineProperty(e,"getGlobalTheme",{enumerable:!0,get:function(){return n.getGlobalTheme}}),Object.defineProperty(e,"registerGlobalTheme",{enumerable:!0,get:function(){return n.registerGlobalTheme}});var r=i(143);Object.defineProperty(e,"getTheme",{enumerable:!0,get:function(){return r.getTheme}}),Object.defineProperty(e,"registerTheme",{enumerable:!0,get:function(){return r.registerTheme}});var o=i(255);Object.defineProperty(e,"convertToG2Theme",{enumerable:!0,get:function(){return o.convertToG2Theme}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.LAYER_EVENT_MAP=e.CANVAS_EVENT_MAP=e.EVENT_MAP=e.getMobileEventMap=e.getRegionEventMap=e.getEventMap=void 0;var a=i(0),s=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],n=[],r=a.deepMix(u({title:"title",description:"description",breadcrumb:"breadcrumb"}),c("Plot",s));e.CANVAS_EVENT_MAP=r;var o=c("Layer",s);e.LAYER_EVENT_MAP=o;var l=a.deepMix({},u({axis:"axis-label",label:"label",legend:"legend-item"}),c("View",s),h());function u(t){var o={};return a.each(t,function(t,e){var n="on"+a.upperFirst(e),r=t+":";a.each(s,function(t){var e=a.upperFirst(t),i=r+t;o[n+e]=i})}),o}function c(i,t){var n={};return a.each(t,function(t){var e=a.upperFirst(t);n["on"+i+e]=t}),n}function h(){var i={};return a.each(n,function(t){var e=a.upperFirst(t);i["on"+e]=t}),i}e.EVENT_MAP=l,e.onEvent=function(i,t,n){i.view.on(t,function(t){var e={x:null==t?void 0:t.x,y:null==t?void 0:t.y,clientX:null==t?void 0:t.clientX,clientY:null==t?void 0:t.clientY,target:null==t?void 0:t.target,data:null!=t&&t.data?t.data.data:null,plot:i,canvas:i.canvas,gEvent:null==t?void 0:t.gEvent};n(e)})},e.getEventMap=u,e.getRegionEventMap=c,e.getMobileEventMap=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(132),o=i(52);Object.defineProperty(e,"DIRECTION",{enumerable:!0,get:function(){return o.DIRECTION}});var a=i(130);Object.defineProperty(e,"Padding",{enumerable:!0,get:function(){return a.Padding}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return a.Point}}),Object.defineProperty(e,"Region",{enumerable:!0,get:function(){return a.Region}});var s,l=(s=r.BBox,n.__extends(u,s),u.fromBBoxObject=function(t){return new u(t.x,t.y,t.width,t.height)},u);function u(){return null!==s&&s.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o}),i.d(e,"c",function(){return u}),i.d(e,"f",function(){return c}),i.d(e,"d",function(){return h}),i.d(e,"e",function(){return p});var a=i(0),s=i(73),M=i(5);function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function C(t,e){return n(t)*n(e)?(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e)):1}function S(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))}function T(t,e){var i=e[1],n=e[2],r=Object(M.m)(Object(M.o)(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(r)*(s-u)/2+Math.sin(r)*(l-c)/2,p=-1*Math.sin(r)*(s-u)/2+Math.cos(r)*(l-c)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+u)/2+Math.cos(r)*y-Math.sin(r)*v,x=(l+c)/2+Math.sin(r)*y+Math.cos(r)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],O=S([1,0],b),w=S(b,_);return C(b,_)<=-1&&(w=Math.PI),1<=C(b,_)&&(w=0),0===a&&0<w&&(w-=2*Math.PI),1===a&&w<0&&(w+=2*Math.PI),{cx:m,cy:x,rx:Object(M.j)(t,[u,c])?0:i,ry:Object(M.j)(t,[u,c])?0:n,startAngle:O,endAngle:O+w,xRotation:r,arcFlag:o,sweepFlag:a}}var A=i(19),l={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function r(t,e){var i=e.attr();for(var n in i){var r=i[n],o=l[n]?l[n]:n;"matrix"===o&&r?t.transform(r[0],r[1],r[3],r[4],r[6],r[7]):"lineDash"===o&&t.setLineDash?Object(a.isArray)(r)&&t.setLineDash(r):("strokeStyle"===o||"fillStyle"===o?r=Object(s.b)(t,e,r):"globalAlpha"===o&&(r*=t.globalAlpha),t[o]=r)}}function o(t,e,i){for(var n=0;n<e.length;n++){var r=e[n];r.get("visible")?r.draw(t,i):r.skipDraw()}}function u(t,e,i,n){var r=i.path,o=i.startArrow,a=i.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var c=0;c<r.length;c++){var h,p=r[c],f=p[0];0===c&&o&&o.d?(h=t.getStartTangent(),u=A.c(h[0][0],h[0][1],h[1][0],h[1][1],o.d)):c===r.length-2&&"Z"===r[c+1][0]&&a&&a.d?"Z"===r[c+1][0]&&(h=t.getEndTangent(),u=A.c(h[0][0],h[0][1],h[1][0],h[1][1],a.d)):c===r.length-1&&a&&a.d&&"Z"!==r[0]&&(h=t.getEndTangent(),u=A.c(h[0][0],h[0][1],h[1][0],h[1][1],a.d));var d,g=u.dx,y=u.dy;switch(f){case"M":e.moveTo(p[1]-g,p[2]-y),l=[p[1],p[2]];break;case"L":e.lineTo(p[1]-g,p[2]-y);break;case"Q":e.quadraticCurveTo(p[1],p[2],p[3]-g,p[4]-y);break;case"C":e.bezierCurveTo(p[1],p[2],p[3],p[4],p[5]-g,p[6]-y);break;case"A":var v=void 0;n?(v=n[c])||(v=T(s,p),n[c]=v):v=T(s,p);var m,x,b,_=v.cx,O=v.cy,w=v.rx,M=v.ry,C=v.startAngle,S=v.endAngle,j=v.xRotation,P=v.sweepFlag;e.ellipse?e.ellipse(_,O,w,M,j,C,S,1-P):(m=M<w?w:M,x=M<w?1:w/M,b=M<w?M/w:1,e.translate(_,O),e.rotate(j),e.scale(x,b),e.arc(0,0,m,C,S,1-P),e.scale(1/x,1/b),e.rotate(-j),e.translate(-_,-O));break;case"Z":e.closePath()}s="Z"===f?l:[p[(d=p.length)-2],p[d-1]]}}function c(t,e){var i=t.get("canvas");i&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(i.refreshElement(t,e,i),i.get("autoDraw")&&i.draw(),t.set("hasChanged",!0)))}function h(t){if(!t.length)return null;var l=[],u=[],c=[],h=[];return Object(a.each)(t,function(t){var e,i,n,r,o,a,s=((e=t).destroyed?i=e._cacheCanvasBBox:(r=(n=e.get("cacheCanvasBBox"))&&!(!n.width||!n.height),a=(o=e.getCanvasBBox())&&!(!o.width||!o.height),r&&a?i=Object(M.l)(n,o):r?i=n:a&&(i=o)),i);s&&(l.push(s.minX),u.push(s.minY),c.push(s.maxX),h.push(s.maxY))}),{minX:Math.min.apply(null,l),minY:Math.min.apply(null,u),maxX:Math.max.apply(null,c),maxY:Math.max.apply(null,h)}}function p(t,e){return t&&e&&Object(M.f)(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(1),s=i(0),n=i(8),l=a.__importDefault(i(136)),u=i(20),r=i(26),c=a.__importDefault(i(245)),h=i(12),p=a.__importDefault(i(253)),f=a.__importDefault(i(64)),d=a.__importDefault(i(89)),g=a.__importDefault(i(53)),y=i(38),v=a.__importStar(i(13)),m=(o=g.default,a.__extends(x,o),x.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},x.prototype.getOptions=function(t){var e=this.options||{},i=o.prototype.getOptions.call(this,t),n=this.constructor.getDefaultOptions(t),r=s.reduce(s.flatten(s.map([i,n,s.hasKey(t,"interactions")?t:e],function(t){return s.get(t,"interactions",[])})),function(t,e){var i=s.findIndex(t,function(t){return t.type===e.type});return 0<=i&&t.splice(i,1),a.__spreadArrays(t,[e])},[]);return s.deepMix({},i,n,e,t,{interactions:r})},x.prototype.beforeInit=function(){o.prototype.beforeInit.call(this)},x.prototype.init=function(){var t=this;o.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new n.View({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},x.prototype.afterInit=function(){o.prototype.afterInit.call(this),this.view&&!this.view.destroyed&&"auto"!==this.options.padding&&this.parseEvents()},x.prototype.afterRender=function(){var t,e,i,n;this.view&&!this.view.destroyed&&(n=(i=this.options).padding?i.padding:this.config.theme.padding,i.defaultState&&"auto"!==n&&this.stateController.defaultStates(i.defaultState),"auto"===n&&this.paddingController.processAutoPadding(),null!==(e=null===(t=i.tooltip)||void 0===t?void 0:t.custom)&&void 0!==e&&e.onChange&&"auto"!==i.padding&&this.customTooltip())},x.prototype.render=function(){o.prototype.render.call(this);var t=this.options.data;s.isEmpty(t)||this.view.render()},x.prototype.repaint=function(){this.canvas&&this.canvas.draw()},x.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},x.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},x.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},x.prototype.getColorScale=function(){var t=this.options;if(s.contains(t,"colorField"))return this.view.getScaleByField(t)},x.prototype.getShapes=function(){var t=this.view.geometries,i={};return s.each(t,function(t){var e=t.type;i[e]=t.getShapes()}),i},x.prototype.destroy=function(){this.doDestroy(),o.prototype.destroy.call(this)},x.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&"auto"===this.initialOptions.padding&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},x.prototype.changeData=function(t){var e=s.isEmpty(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data)},x.prototype.getPlot=function(){return this.view},x.prototype.getLabels=function(){return this.labels},x.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},x.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},x.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},x.prototype.getInteractions=function(){return this.interactions},x.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},x.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},x.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},x.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},x.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},x.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},x.prototype.processData=function(t){return t},x.prototype.scale=function(){var t=s.mapValues(this.config.scales,function(t){var e=t.type;return e?{type:e}:{}}),e=s.deepMix({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},x.prototype.axis=function(){var t=r.getComponent("axis",{plot:this,dim:"x"}),e=r.getComponent("axis",{plot:this,dim:"y"}),i={};i[this.options.xField]=t,i[this.options.yField]=e,this.setConfig("axes",i)},x.prototype.tooltip=function(){var t,e,i;!1!==this.options.tooltip.visible?(null!==(t=(i=s.get(this.options,"tooltip")).custom)&&void 0!==t&&t.container&&(i.container=i.custom.container),null!==(e=i.custom)&&void 0!==e&&e.customContent&&(i.customContent=i.custom.customContent),this.setConfig("tooltip",s.deepMix({},i)),s.deepMix(this.config.theme.tooltip,this.options.tooltip.domStyles)):this.setConfig("tooltip",!1)},x.prototype.customTooltip=function(){var e,t=this,i=this.options.tooltip.custom;i.container&&(e=s.isString(i.container)?document.getElementById(i.container):i.container),this.view.on("tooltip:show",function(){i.container||(e=t.canvas.cfg.container.getElementsByClassName("g2-tooltip")[0])}),this.view.hideTooltip(),this.view.on("tooltip:change",function(t){e&&i.onChange(e,t)})},x.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&1<e.length&&"center"===e[1]?e[0]:t},x.prototype.legend=function(){var t,e,i;!1!==this.options.legend.visible?(e=s.deepMix({},this.theme.legend,this.options.legend),i={position:this.getLegendPosition(s.get(e,"position")),offsetX:s.get(e,"offsetX"),offsetY:s.get(e,"offsetY"),flipPage:s.get(e,"flipPage"),marker:s.get(e,"marker"),title:null!==(t=e.title)&&void 0!==t&&t.visible?s.get(e,"title"):null,itemName:s.get(e,"text")},this.setConfig("legends",i)):this.setConfig("legends",!1)},x.prototype.annotation=function(){var i=this,n=[];"cartesian"===this.config.coordinate.type&&this.options.guideLine&&s.each(this.options.guideLine,function(t){var e=r.getComponent("guideLine",{plot:i,cfg:t});n.push(e)}),this.setConfig("annotations",n)},x.prototype.interaction=function(){var i=this,t=this.options.interactions,e=void 0===t?[]:t;s.each(e,function(t){var e=t.type;"slider"!==e&&"scrollbar"!==e||(i.options.xAxis=s.deepMix({},i.options.xAxis,{label:{autoHide:!0,autoRotate:!1}})),i.setConfig("interaction",t)})},x.prototype.animation=function(){!1===this.options.animation&&this.setConfig("animate",!1)},x.prototype.applyInteractions=function(){var n=this,r=v.default.fromBBoxObject(this.layerBBox),t=this.title||this.description,e=new v.default(r.minX,r.minY,r.width,t?t.getBBox().maxY:0),r=r.cut(e,v.DIRECTION.TOP),i=this.options.interactions,o=void 0===i?[]:i;this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[],o.forEach(function(t){var e,i=c.default.getInteraction(t.type,n.type);i&&((e=new i({view:n.view},n,i.getInteractionRange(r,t.cfg),t.cfg)).render(),n.interactions.push(e))})},x.prototype.setConfig=function(t,e){"geometry"!==t?"interaction"!==t?!1!==e?s.assign(this.config[t],e):this.config[t]=!1:this.config.interactions.push(e):this.config.geometries.push(e)},x.prototype.parseEvents=function(t){var n,r=this,e=this.options;e.events&&(o.prototype.parseEvents.call(this,e.events),n=t?t.EVENT_MAP:h.EVENT_MAP,s.each(e.events,function(t,e){var i;s.isFunction(t)&&(i=n[e]||e,h.onEvent(r,i,t))}))},x.prototype.drawTitle=function(){var t,e,i,n=this.options,r=this.layerBBox;this.title&&(this.title.destroy(),this.title=null),y.isTextUsable(n.title)&&(t=this.width,e=this.config.theme,i=new l.default({leftMargin:r.minX+e.title.padding[3],rightMargin:r.maxX-e.title.padding[1],topMargin:r.minY+e.title.padding[0],text:n.title.text,style:s.mix(e.title,n.title.style),wrapperWidth:t-e.title.padding[3]-e.title.padding[1],container:this.container.addGroup(),theme:e,index:y.isTextUsable(n.description)?0:1,plot:this,alignTo:n.title.alignTo,name:"title"}),this.title=i,this.paddingController.registerPadding(i,"outer"))},x.prototype.drawDescription=function(){var t,e,i,n,r,o=this.options,a=this.layerBBox;this.description&&(this.description.destroy(),this.description=null),y.isTextUsable(o.description)&&(t=this.width,e=this.config.theme,i=0,this.title?(i+=(n=this.title.getBBox()).minY+n.height,i+=e.description.padding[0]):i+=a.minY+e.title.padding[0],r=new l.default({leftMargin:a.minX+e.description.padding[3],topMargin:i,rightMargin:a.maxX-e.title.padding[1],text:o.description.text,style:s.mix(e.description,o.description.style),wrapperWidth:t-e.description.padding[3]-e.description.padding[1],container:this.container.addGroup(),theme:e,index:1,plot:this,alignTo:o.description.alignTo,name:"description"}),this.description=r,this.paddingController.registerPadding(r,"outer"))},x.prototype.doRenderLabel=function(t,e){s.each(this.labels,function(t){t.destroy()}),this.labels=[];var i,n={layer:this,container:t.labelsContainer,geometry:t,label:e},r=u.getLabelComponent(e.type);r&&((i=new r(n)).init(),i.render(),this.labels.push(i))},x.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},x.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},x.prototype.doDestroyLabels=function(){s.each(this.labels,function(t){t.destroy()}),this.labels=[]},x.prototype.getViewRange=function(){var r=this,t=this.options.interactions,e=void 0===t?[]:t,o=this.paddingController.processOuterPadding();return e.forEach(function(t){var e=c.default.getInteraction(t.type,r.type),i=e&&e.getInteractionRange(o,t.cfg),n="";i&&(i.maxY===o.maxY&&i.minY>o.minY?n="bottom":i.maxX===o.maxX&&i.minX>o.minX?n="right":i.minX===o.minX&&i.maxX>o.maxX?n="left":i.minY===o.minY&&i.maxY<o.maxY&&(n="top"),r.paddingController.registerPadding({interaction:t.type,name:t.type,getBBox:function(){return i},position:n},"outer"))}),this.paddingController.processOuterPadding()},x.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!(s.hasKey(t,"max")||s.hasKey(t,"min")||s.hasKey(t,"maxLimit")||s.hasKey(t,"minLimit"))},x.prototype.viewRangeToRegion=function(t){var e=this.x,i=this.y,n=this.width,r=this.height,o={x:0,y:0},a={x:1,y:1};return o.x=t.minX/(e+n),o.y=t.minY/(i+r),a.x=t.maxX/(e+n),a.y=t.maxY/(i+r),{start:o,end:a}},x);function x(t){var e=o.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=s.deepMix({},e.options),e.paddingController=new p.default({plot:e}),e.stateController=new f.default({plot:e}),e.themeController=new d.default,e}e.default=m},function(t,e,i){"use strict";i.r(e),i.d(e,"Component",function(){return V}),i.d(e,"GroupComponent",function(){return W}),i.d(e,"HtmlComponent",function(){return Zt}),i.d(e,"Axis",function(){return s}),i.d(e,"Annotation",function(){return n}),i.d(e,"Grid",function(){return u}),i.d(e,"Legend",function(){return c}),i.d(e,"Tooltip",function(){return f}),i.d(e,"Crosshair",function(){return l}),i.d(e,"Slider",function(){return ei}),i.d(e,"Scrollbar",function(){return ni});var n={};i.r(n),i.d(n,"Line",function(){return U}),i.d(n,"Text",function(){return K}),i.d(n,"Arc",function(){return Z}),i.d(n,"Region",function(){return $}),i.d(n,"Image",function(){return Q}),i.d(n,"DataMarker",function(){return J}),i.d(n,"DataRegion",function(){return tt}),i.d(n,"RegionFilter",function(){return et});var r={};i.r(r),i.d(r,"getDefault",function(){return mt}),i.d(r,"ellipsisHead",function(){return xt}),i.d(r,"ellipsisTail",function(){return bt}),i.d(r,"ellipsisMiddle",function(){return _t});var o={};i.r(o),i.d(o,"getDefault",function(){return St}),i.d(o,"reserveFirst",function(){return jt}),i.d(o,"reserveLast",function(){return Pt}),i.d(o,"reserveBoth",function(){return Tt}),i.d(o,"equidistance",function(){return At});var a={};i.r(a),i.d(a,"getDefault",function(){return Lt}),i.d(a,"fixedAngle",function(){return kt}),i.d(a,"unfixedAngle",function(){return It});var h={};i.r(h),i.d(h,"autoHide",function(){return o}),i.d(h,"autoRotate",function(){return a}),i.d(h,"autoEllipsis",function(){return r});var s={};i.r(s),i.d(s,"Line",function(){return zt}),i.d(s,"Circle",function(){return Ht}),i.d(s,"Base",function(){return dt});var l={};i.r(l),i.d(l,"Line",function(){return qt}),i.d(l,"Circle",function(){return Ut}),i.d(l,"Base",function(){return Wt}),i.d(l,"Html",function(){return Qt});var u={};i.r(u),i.d(u,"Base",function(){return Jt}),i.d(u,"Circle",function(){return de}),i.d(u,"Line",function(){return ge});var c={};i.r(c),i.d(c,"Category",function(){return ve}),i.d(c,"Continuous",function(){return me}),i.d(c,"Base",function(){return ye});var p={};i.r(p),i.d(p,"CONTAINER_CLASS",function(){return be}),i.d(p,"TITLE_CLASS",function(){return _e}),i.d(p,"LIST_CLASS",function(){return Oe}),i.d(p,"LIST_ITEM_CLASS",function(){return we}),i.d(p,"MARKER_CLASS",function(){return Me}),i.d(p,"VALUE_CLASS",function(){return Ce}),i.d(p,"NAME_CLASS",function(){return Se}),i.d(p,"CROSSHAIR_X",function(){return je}),i.d(p,"CROSSHAIR_Y",function(){return Pe});var f={};i.r(f),i.d(f,"Html",function(){return Be});var b=i(1),_=i(0),d=i(113),g=i.n(d),y=i(3),v=[1,0,0,0,1,0,0,0,1];function m(t,e){return e?y.ext.transform(v,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function x(t,e){return t.x||t.y?y.ext.transform(e||v,[["t",t.x,t.y]]):null}function O(t,e){var i=[0,0];return y.vec2.transformMat3(i,e,t),i}function w(t){var e=0,i=0,n=0,r=0;return Object(_.isNumber)(t)?e=i=n=r=t:Object(_.isArray)(t)&&(e=t[0],n=Object(_.isNil)(t[1])?t[0]:t[1],r=Object(_.isNil)(t[2])?t[0]:t[2],i=Object(_.isNil)(t[3])?n:t[3]),[e,n,r,i]}function M(t){for(var e=t.childNodes,i=e.length-1;0<=i;i--)t.removeChild(e[i])}function C(t){var e=t.start,i=t.end,n=Math.min(e.x,i.x),r=Math.min(e.y,i.y),o=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r}}function S(t,e,i,n){return{x:t,y:e,width:i,height:n,minX:t,minY:e,maxX:t+i,maxY:e+n}}function j(t,e,i){return(1-i)*t+e*i}function P(t,e,i){return{x:t.x+Math.cos(i)*e,y:t.y+Math.sin(i)*e}}function T(t){return t+"px"}function A(t,e,i,n){var r,o,a=n/(r=e.x-t.x,o=e.y-t.y,Math.sqrt(r*r+o*o)),s=0;return"start"===i?s=0-a:"end"===i&&(s=1+a),{x:j(t.x,e.x,s),y:j(t.y,e.y,s)}}var E,L,k,I,D,B,F,R,N,Y,G=i(10),X={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},V=(Y=G.Base,Object(b.__extends)(ht,Y),ht.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},ht.prototype.clear=function(){},ht.prototype.update=function(t){var n=this,r=this.get("defaultCfg");Object(_.each)(t,function(t,e){var i=t;n.get(e)!==t&&(Object(_.isObject)(t)&&r[e]&&(i=Object(_.deepMix)({},r[e],t)),n.set(e,i))}),this.updateInner(t),this.afterUpdate(t)},ht.prototype.updateInner=function(t){},ht.prototype.afterUpdate=function(t){Object(_.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),Object(_.hasKey)(t,"capture")&&this.setCapture(t.capture)},ht.prototype.getLayoutBBox=function(){return this.getBBox()},ht.prototype.getLocationType=function(){return this.get("locationType")},ht.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},ht.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},ht.prototype.setLocation=function(t){var e=Object(b.__assign)({},t);this.update(e)},ht.prototype.getLocation=function(){var e=this,i={},t=this.get("locationType"),n=X[t];return Object(_.each)(n,function(t){i[t]=e.get(t)}),i},ht.prototype.isList=function(){return!1},ht.prototype.isSlider=function(){return!1},ht.prototype.init=function(){},ht.prototype.initCfg=function(){var r=this,t=this.get("defaultCfg");Object(_.each)(t,function(t,e){var i,n=r.get(e);Object(_.isObject)(n)&&(i=Object(_.deepMix)({},t,n),r.set(e,i))})},ht),z=["visible","tip","delegateObject"],H=["container","group","shapesMap","isRegister","isUpdating","destroyed"],W=(N=V,Object(b.__extends)(ct,N),ct.prototype.getDefaultCfg=function(){var t=N.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},ct.prototype.remove=function(){this.clear(),this.get("group").remove()},ct.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},ct.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},ct.prototype.getElementById=function(t){return this.get("shapesMap")[t]},ct.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},ct.prototype.getElementsByName=function(e){var i=[];return Object(_.each)(this.get("shapesMap"),function(t){t.get("name")===e&&i.push(t)}),i},ct.prototype.getContainer=function(){return this.get("container")},ct.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},ct.prototype.render=function(){var t=(t=this.get("offScreenGroup"))||this.offScreenRender(),e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},ct.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},ct.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},ct.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},ct.prototype.destroy=function(){this.removeEvent(),this.remove(),N.prototype.destroy.call(this)},ct.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},ct.prototype.getLayoutBBox=function(){var t,e,i,n,r,o,a,s,l,u,c=this.get("group"),h=this.getInnerLayoutBBox(),p=c.getTotalMatrix();return p&&(i=O(t=p,[(e=h).minX,e.minY]),n=O(t,[e.maxX,e.minY]),r=O(t,[e.minX,e.maxY]),o=O(t,[e.maxX,e.maxY]),a=Math.min(i[0],n[0],r[0],o[0]),s=Math.max(i[0],n[0],r[0],o[0]),l=Math.min(i[1],n[1],r[1],o[1]),u=Math.max(i[1],n[1],r[1],o[1]),h={x:a,y:l,minX:a,minY:l,maxX:s,maxY:u,width:s-a,height:u-l}),h},ct.prototype.on=function(t,e,i){return this.get("group").on(t,e,i),this},ct.prototype.off=function(t,e){var i=this.get("group");return i&&i.off(t,e),this},ct.prototype.emit=function(t,e){this.get("group").emit(t,e)},ct.prototype.init=function(){N.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},ct.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},ct.prototype.delegateEmit=function(t,r){var e=this.get("group");(r.target=e).emit(t,r),function(t,e){var i=new g.a(e,r);i.target=t,i.propagationPath.push(t),t.emitDelegation(e,i);for(var n=t.getParent();n;)n.emitDelegation(e,i),i.propagationPath.push(n),n=n.getParent()}(e,t)},ct.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},ct.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},ct.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},ct.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",function c(t){var e,i,n,r,h,p,f,d,o,a=t.getClip(),s=a&&a.getBBox(),l=t.isGroup()?(f=h=1/0,d=p=-1/0,0<(o=t.getChildren()).length?Object(_.each)(o,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=c(t),i=t.applyToMatrix([e.minX,e.minY,1]),n=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(i[0],n[0],r[0],o[0]),s=Math.max(i[0],n[0],r[0],o[0]),l=Math.min(i[1],n[1],r[1],o[1]),u=Math.max(i[1],n[1],r[1],o[1]);a<h&&(h=a),p<s&&(p=s),l<f&&(f=l),d<u&&(d=u)}}):d=f=p=h=0,S(h,f,p-h,d-f)):t.getBBox();return s?(e=l,i=s,S(n=Math.max(e.minX,i.minX),r=Math.max(e.minY,i.minY),Math.min(e.maxX,i.maxX)-n,Math.min(e.maxY,i.maxY)-r)):l}(t)),t},ct.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var i=t.addGroup(e);return this.get("isRegister")&&this.registerElement(i),i},ct.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var i=t.addShape(e);return this.get("isRegister")&&this.registerElement(i),i},ct.prototype.addComponent=function(t,e){var i=e.id,n=e.component,r=Object(b.__rest)(e,["id","component"]),o=new n(Object(b.__assign)(Object(b.__assign)({},r),{id:i,container:t,updateAutoRender:this.get("updateAutoRender")}));return o.init(),o.render(),this.get("isRegister")&&this.registerElement(o.get("group")),o},ct.prototype.initEvent=function(){},ct.prototype.removeEvent=function(){this.get("group").off()},ct.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},ct.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},ct.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},ct.prototype.moveElementTo=function(t,e){var i=x(e);t.attr("matrix",i)},ct.prototype.addAnimation=function(t,e,i){var n=e.attr("opacity");Object(_.isNil)(n)&&(n=1),e.attr("opacity",0),e.animate({opacity:n},i)},ct.prototype.removeAnimation=function(t,e,i){e.animate({opacity:0},i)},ct.prototype.updateAnimation=function(t,e,i,n){e.animate(i,n)},ct.prototype.updateElements=function(t,g){var y,v=this,m=this.get("animate"),x=this.get("animateOption"),e=t.getChildren().slice(0);Object(_.each)(e,function(e){var t,i,n,r,o,a,s,l,u,c,h,p=e.get("id"),f=v.getElementById(p),d=e.get("name");f?e.get("isComponent")?(t=e.get("component"),i=f.get("component"),n=Object(_.pick)(t.cfg,Object(_.difference)(Object(_.keys)(t.cfg),H)),i.update(n),f.set("update_status","update")):(r=v.getReplaceAttrs(f,e),m&&x.update?v.updateAnimation(d,f,r,x.update):f.attr(r),e.isGroup()&&v.updateElements(e,f),Object(_.each)(z,function(t){f.set(t,e.get(t))}),u=e,((l=f).getClip()||u.getClip())&&((c=u.getClip())?(h={type:c.get("type"),attrs:c.attr()},l.setClip(h)):l.setClip(null)),(y=f).set("update_status","update")):(g.add(e),(o=g.getChildren()).splice(o.length-1,1),y?(a=o.indexOf(y),o.splice(a+1,0,e)):o.unshift(e),v.registerElement(e),e.set("update_status","add"),e.get("isComponent")?(t=e.get("component")).set("container",g):e.isGroup()&&v.registerNewGroup(e),y=e,m&&(s=v.get("isInit")?x.appear:x.enter)&&v.addAnimation(d,e,s))})},ct.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(_.each)(e,function(t){t.set("update_status",null)})},ct.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},ct.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},ct.prototype.appendDelegateObject=function(t,e){var i=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),Object(_.mix)(e.delegateObject,i)},ct.prototype.getReplaceAttrs=function(t,e){var i=t.attr(),n=e.attr();return Object(_.each)(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n},ct.prototype.registerNewGroup=function(t){var e=this,i=t.getChildren();Object(_.each)(i,function(t){e.registerElement(t),t.set("update_status","add"),t.isGroup()&&e.registerNewGroup(t)})},ct.prototype.deleteElements=function(){var o=this,a=this.get("shapesMap"),i=[];Object(_.each)(a,function(t,e){!t.get("update_status")||t.destroyed?i.push([e,t]):t.set("update_status",null)});var s=this.get("animate"),l=this.get("animateOption");Object(_.each)(i,function(t){var e,i,n=t[0],r=t[1];r.destroyed||(e=r.get("name"),s&&l.leave?(i=Object(_.mix)({callback:function(){o.removeElement(r)}},l.leave),o.removeAnimation(e,r,i)):o.removeElement(r)),delete a[n]})},ct.prototype.removeElement=function(t){var e;!t.get("isGroup")||(e=t.get("component"))&&e.destroy(),t.remove()},ct),q={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},U=(R=W,Object(b.__extends)(ut,R),ut.prototype.getDefaultCfg=function(){var t=R.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:q.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:q.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:q.lineColor,lineWidth:1}}}})},ut.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},ut.prototype.renderLine=function(t){var e=this.get("start"),i=this.get("end"),n=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(b.__assign)({x1:e.x,y1:e.y,x2:i.x,y2:i.y},n)})},ut.prototype.getLabelPoint=function(t,e,i){var n;return(1<(n="start"===i?0:"center"===i?.5:Object(_.isString)(i)&&-1!==i.indexOf("%")?parseInt(i,10)/100:Object(_.isNumber)(i)?i:1)||n<0)&&(n=1),{x:j(t.x,e.x,n),y:j(t.y,e.y,n)}},ut.prototype.renderLabel=function(t){var e,i,n=this.get("text"),r=this.get("start"),o=this.get("end"),a=n.position,s=n.content,l=n.style,u=n.offsetX,c=n.offsetY,h=n.autoRotate,p=this.getLabelPoint(r,o,a),f=Object(b.__assign)({x:p.x+u,y:p.y+c,text:s},l);h&&(e=[o.x-r.x,o.y-r.y],i=m(p,Math.atan2(e[1],e[0])),f.matrix=i),this.addShape(t,{type:"text",id:this.getElementId("line-text"),name:"annotation-line-text",attrs:f})},ut),K=(F=W,Object(b.__extends)(lt,F),lt.prototype.getDefaultCfg=function(){var t=F.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},defaultCfg:{style:{fill:q.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:q.fontFamily}}})},lt.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},lt.prototype.renderInner=function(t){this.renderText(t)},lt.prototype.renderText=function(t){var e=this.getLocation(),i=e.x,n=e.y,r=this.get("content"),o=this.get("style"),a=this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:Object(b.__assign)({x:i,y:n,text:r},o)});this.applyRotate(a,i,n)},lt.prototype.applyRotate=function(t,e,i){var n=this.get("rotate"),r=null;n&&(r=m({x:e,y:i},n)),t.attr("matrix",r)},lt.prototype.resetLocation=function(){var t,e,i,n=this.getElementByLocalId("text");n&&(e=(t=this.getLocation()).x,i=t.y,n.attr({x:e,y:i}),this.applyRotate(n,e,i))},lt),Z=(B=W,Object(b.__extends)(st,B),st.prototype.getDefaultCfg=function(){var t=B.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},st.prototype.renderInner=function(t){this.renderArc(t)},st.prototype.getArcPath=function(){var t,e=this.getLocation(),i=e.center,n=e.radius,r=e.startAngle,o=e.endAngle,a=P(i,n,r),s=P(i,n,o),l=o-r>Math.PI?1:0,u=[["M",a.x,a.y]];return o-r==2*Math.PI&&(t=P(i,n,r+Math.PI),u.push(["A",n,n,0,l,1,t.x,t.y])),u.push(["A",n,n,0,l,1,s.x,s.y]),u},st.prototype.renderArc=function(t){var e=this.getArcPath(),i=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(b.__assign)({path:e},i)})},st),$=(D=W,Object(b.__extends)(at,D),at.prototype.getDefaultCfg=function(){var t=D.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:q.regionColor,opacity:.4}}})},at.prototype.renderInner=function(t){this.renderRegion(t)},at.prototype.renderRegion=function(t){var e=this.get("start"),i=this.get("end"),n=this.get("style"),r=C({start:e,end:i});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(b.__assign)({x:r.x,y:r.y,width:r.width,height:r.height},n)})},at),Q=(I=W,Object(b.__extends)(ot,I),ot.prototype.getDefaultCfg=function(){var t=I.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},ot.prototype.renderInner=function(t){this.renderImage(t)},ot.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),i=this.get("style"),n=C({start:t,end:e}),r=this.get("src");return Object(b.__assign)({x:n.x,y:n.y,img:r,width:n.width,height:n.height},i)},ot.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},ot),J=(k=W,Object(b.__extends)(rt,k),rt.prototype.getDefaultCfg=function(){var t=k.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:q.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:q.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:q.fontFamily}}}})},rt.prototype.renderInner=function(t){Object(_.get)(this.get("line"),"display")&&this.renderLine(t),Object(_.get)(this.get("text"),"display")&&this.renderText(t),Object(_.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},rt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},rt.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},rt.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},rt.prototype.renderText=function(t){var e=this.getShapeAttrs().text;this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:e})},rt.prototype.autoAdjust=function(t){var e,i,n=this.get("direction"),r=this.get("x"),o=this.get("y"),a=Object(_.get)(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=t.getBBox(),u=l.minX,c=l.maxX,h=l.minY,p=l.maxY,f=t.findById(this.getElementId("text")),d=t.findById(this.getElementId("line"));s&&(f&&(r+u<=s.minX&&f.attr("textAlign","start"),r+c>=s.maxX&&f.attr("textAlign","end")),"upward"===n&&o+h<=s.minY||"upward"!==n&&o+p>=s.maxY)&&(i=e=void 0,i="upward"===n&&o+h<=s.minY?(e="top",1):(e="bottom",-1),f.attr("textBaseline",e),d&&d.attr("path",[["M",0,0],["L",0,a*i]]),f.attr("y",(a+2)*i))},rt.prototype.getShapeAttrs=function(){var t=Object(_.get)(this.get("line"),"display"),e=Object(_.get)(this.get("point"),"style",{}),i=Object(_.get)(this.get("line"),"style",{}),n=Object(_.get)(this.get("text"),"style",{}),r=this.get("direction"),o=t?Object(_.get)(this.get("line"),"length",0):0,a="upward"===r?-1:1;return{point:Object(b.__assign)({x:0,y:0},e),line:Object(b.__assign)({path:[["M",0,0],["L",0,o*a]]},i),text:Object(b.__assign)({x:0,y:(o+2)*a,text:Object(_.get)(this.get("text"),"content",""),textBaseline:"upward"===r?"bottom":"top"},n)}},rt),tt=(L=W,Object(b.__extends)(nt,L),nt.prototype.getDefaultCfg=function(){var t=L.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:q.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:q.textColor,fontFamily:q.fontFamily}}}})},nt.prototype.renderInner=function(t){var e,i,n,r,o,a,s,l,u,c=Object(_.get)(this.get("region"),"style",{}),h=Object(_.get)(this.get("text"),"style",{}),p=this.get("lineLength")||0,f=this.get("points");f.length&&(r=(n=f).map(function(t){return t.x}),o=n.map(function(t){return t.y}),a=Math.min.apply(Math,r),s=Math.min.apply(Math,o),l=Math.max.apply(Math,r),u=Math.max.apply(Math,o),e={x:a,y:s,minX:a,minY:s,maxX:l,maxY:u,width:l-a,height:u-s},(i=[]).push(["M",f[0].x,e.minY-p]),f.forEach(function(t){i.push(["L",t.x,t.y])}),i.push(["L",f[f.length-1].x,f[f.length-1].y-p]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(b.__assign)({path:i},c)}),this.addShape(t,{type:"text",id:this.getElementId("text"),name:"annotation-text",attrs:Object(b.__assign)({x:(e.minX+e.maxX)/2,y:e.minY-p,text:Object(_.get)(this.get("text"),"content","")},h)}))},nt),et=(E=W,Object(b.__extends)(it,E),it.prototype.getDefaultCfg=function(){var t=E.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},it.prototype.renderInner=function(t){var r=this,e=this.get("start"),i=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});Object(_.each)(this.get("shapes"),function(t,e){var i=t.get("type"),n=Object(_.clone)(t.attr());r.adjustShapeAttrs(n),r.addShape(o,{id:r.getElementId("shape-"+i+"-"+e),capture:!1,type:i,attrs:n})});var n=C({start:e,end:i});o.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}})},it.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},it);function it(){return null!==E&&E.apply(this,arguments)||this}function nt(){return null!==L&&L.apply(this,arguments)||this}function rt(){return null!==k&&k.apply(this,arguments)||this}function ot(){return null!==I&&I.apply(this,arguments)||this}function at(){return null!==D&&D.apply(this,arguments)||this}function st(){return null!==B&&B.apply(this,arguments)||this}function lt(){return null!==F&&F.apply(this,arguments)||this}function ut(){return null!==R&&R.apply(this,arguments)||this}function ct(){return null!==N&&N.apply(this,arguments)||this}function ht(t){var e=Y.call(this,t)||this;return e.initCfg(),e}function pt(i,t,e){var n=t+"Style",r=null;return Object(_.each)(e,function(t,e){i[e]&&t[n]&&(r=r||{},Object(_.mix)(r,t[n]))}),r}var ft,dt=(ft=W,Object(b.__extends)(gt,ft),gt.prototype.getDefaultCfg=function(){var t=ft.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:q.lineColor}},tickLine:{style:{lineWidth:1,stroke:q.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:q.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:q.uncheckedColor}}}}})},gt.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},gt.prototype.isList=function(){return!0},gt.prototype.getItems=function(){return this.get("ticks")},gt.prototype.setItems=function(t){this.update({ticks:t})},gt.prototype.updateItem=function(t,e){Object(_.mix)(t,e),this.clear(),this.render()},gt.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},gt.prototype.setItemState=function(t,e,i){t[e]=i,this.updateTickStates(t)},gt.prototype.hasState=function(t,e){return!!t[e]},gt.prototype.getItemStates=function(i){var t=this.get("tickStates"),n=[];return Object(_.each)(t,function(t,e){i[e]&&n.push(e)}),n},gt.prototype.clearItemsState=function(e){var i=this,t=this.getItemsByState(e);Object(_.each)(t,function(t){i.setItemState(t,e,!1)})},gt.prototype.getItemsByState=function(e){var i=this,t=this.getItems();return Object(_.filter)(t,function(t){return i.hasState(t,e)})},gt.prototype.getSidePoint=function(t,e){var i=this.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},gt.prototype.getTextAnchor=function(t){var e;return Object(_.isNumberEqual)(t[0],0)?e="center":0<t[0]?e="start":t[0]<0&&(e="end"),e},gt.prototype.processOverlap=function(t){},gt.prototype.drawLine=function(t){var e=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(_.mix)({path:e},i.style)})},gt.prototype.getTickLineItems=function(t){var n=this,r=[],e=this.get("tickLine"),o=e.alignTick,a=e.length,s=1;return 2<=t.length&&(s=t[1].value-t[0].value),Object(_.each)(t,function(t){var e=t.point;o||(e=n.getTickPoint(t.value-s/2));var i=n.getSidePoint(e,a);r.push({startPoint:e,tickValue:t.value,endPoint:i,tickId:t.id,id:"tickline-"+t.id})}),r},gt.prototype.getSubTickLineItems=function(t){var e=[],i=this.get("subTickLine"),n=i.count,r=t.length;if(2<=r)for(var o=0;o<r-1;o++)for(var a=t[o],s=t[o+1],l=0;l<n;l++){var u=(l+1)/(n+1),c=(1-u)*a.tickValue+u*s.tickValue,h=this.getTickPoint(c),p=this.getSidePoint(h,i.length);e.push({startPoint:h,endPoint:p,tickValue:c,id:"sub-"+a.id+"-"+l})}return e},gt.prototype.getTickLineAttrs=function(t,e){var i=this.get(e).style,n=t.startPoint,r=t.endPoint;return Object(_.mix)({x1:n.x,y1:n.y,x2:r.x,y2:r.y},i)},gt.prototype.drawTick=function(t,e,i){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+i,attrs:this.getTickLineAttrs(t,i)})},gt.prototype.drawTickLines=function(i){var t,n=this,e=this.get("ticks"),r=this.get("subTickLine"),o=this.getTickLineItems(e),a=this.addGroup(i,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),s=this.get("tickLine");Object(_.each)(o,function(t){var e;s.displayWithLabel?(e=n.getElementId("label-"+t.tickId),i.findById(e)&&n.drawTick(t,a,"tickLine")):n.drawTick(t,a,"tickLine")}),r&&(t=this.getSubTickLineItems(o),Object(_.each)(t,function(t){n.drawTick(t,a,"subTickLine")}))},gt.prototype.processTicks=function(){var e=this,t=this.get("ticks");Object(_.each)(t,function(t){t.point=e.getTickPoint(t.value),Object(_.isNil)(t.id)&&(t.id=t.name)})},gt.prototype.drawTicks=function(e){var i=this;this.processTicks(),this.get("label")&&this.drawLabels(e),this.get("tickLine")&&this.drawTickLines(e);var t=this.get("ticks");Object(_.each)(t,function(t){i.applyTickStates(t,e)})},gt.prototype.getLabelAttrs=function(t,e){var i=this.get("label"),n=i.offset,r=i.style,o=i.rotate,a=i.formatter,s=this.getSidePoint(t.point,n),l=this.getSideVector(n,s),u=a?a(t.name,t,e):t.name,c=Object(_.mix)({x:s.x,y:s.y,text:u,textAlign:this.getTextAnchor(l)},r);return o&&(c.matrix=m(s,o)),c},gt.prototype.drawLabels=function(t){var i=this,e=this.get("ticks"),n=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});Object(_.each)(e,function(t,e){i.addShape(n,{type:"text",name:"axis-label",id:i.getElementId("label-"+t.id),attrs:i.getLabelAttrs(t,e),delegateObject:{tick:t,item:t,index:e}})}),this.processOverlap(n)},gt.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,i=t.position,n=t.offset,r=t.spacing,o=void 0===r?0:r,a=t.autoRotate,s=e.fontSize,l=.5;"start"===i?l=0:"end"===i&&(l=1);var u,c,h=this.getTickPoint(l),p=this.getSidePoint(h,n||o+s/2),f=Object(_.mix)({x:p.x,y:p.y,text:t.text},e),d=t.rotate,g=d;return Object(_.isNil)(d)&&a&&(u=this.getAxisVector(h),g=y.ext.angleTo(u,[1,0],!0)),g&&(c=m(p,g),f.matrix=c),f},gt.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},gt.prototype.applyTickStates=function(t,e){var i,n,r,o,a,s,l;this.getItemStates(t).length&&(i=this.get("tickStates"),n=this.getElementId("label-"+t.id),!(r=e.findById(n))||(o=pt(t,"label",i))&&r.attr(o),a=this.getElementId("tickline-"+t.id),!(s=e.findById(a))||(l=pt(t,"tickLine",i))&&s.attr(l))},gt.prototype.updateTickStates=function(t){var e,i,n=this.getItemStates(t),r=this.get("tickStates"),o=this.get("label"),a=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);n.length?(!a||(e=pt(t,"label",r))&&a.attr(e),!l||(i=pt(t,"tickLine",r))&&l.attr(i)):(a&&a.attr(o.style),l&&l.attr(s.style))},gt);function gt(){return null!==ft&&ft.apply(this,arguments)||this}function yt(t,e){return 0<t.charCodeAt(e)&&t.charCodeAt(e)<128?1:2}function vt(d,t,g,y){var e=t.getChildren(),v=!1;return Object(_.each)(e,function(t){var e,i,n,r,o,a,s,l,u,c,h,p,f=(e=d,n=g,r=y,u=(i=t).attr("text"),o=e,a=i.getCanvasBBox(),c=o?a.width:a.height,h=function(t){for(var e=0,i=0;i<t.length;i++)e+=yt(t,i);return e}(u),p=!1,n<c&&(l=0<=(s=Math.floor(n/c*h)-2)?function(t,e,i){var n=t.length,r="";if("tail"===i){for(var o=0,a=0;o<e;){var s=yt(t,a);if(!(o+s<=e))break;r+=t[a],o+=yt(t,a),a++}r+=""}else if("head"===i){for(o=0,a=n-1;o<e&&o+(s=yt(t,a))<=e;)r+=t[a],o+=yt(t,a),a--;r=""+r}else{for(var l="",u="",c=o=0,h=n-1;o<e;){var p=yt(t,c),f=!1;p+o<=e&&(l+=t[c],c++,o+=p,f=!0);var d=yt(t,h);if(d+o<=e&&(u=t[h]+u,o+=d,h--,f=!0),!f)break}r=l+""+u}return r}(u,s,r):"")&&(i.attr("text",l),p=!0),p?i.set("tip",u):i.set("tip",null),p);v=v||f}),v}function mt(){return bt}function xt(t,e,i){return vt(t,e,i,"head")}function bt(t,e,i){return vt(t,e,i,"tail")}function _t(t,e,i){return vt(t,e,i,"middle")}function Ot(t){var i=0;return Object(_.each)(t,function(t){var e=t.getBBox().width;i<e&&(i=e)}),i}function wt(t){var e=t.attr("matrix");return e&&1!==e[0]}function Mt(t,e,i,n,r){void 0===r&&(r=!1);var o,a;return t?Math.abs(i.y-n.y)<i.height:e?(o=r?n.height:i.height,Math.abs(i.x-n.x)<o):(a=r?n.width:i.width,Math.abs(i.x-n.x)<a)}function Ct(t,e,i){var n=e.getChildren().slice();if(!n.length)return!1;var r=!1;i&&n.reverse();for(var o=n.length,a=n[0],s=wt(a),l=a.getBBox(),u=1;u<o;u++){var c=n[u],h=c.getBBox();Mt(t,s,l,h,i)?(c.hide(),r=!0):l=h}return r}function St(){return At}function jt(t,e){return Ct(t,e,!1)}function Pt(t,e){return Ct(t,e,!0)}function Tt(t,e){var i=e.getChildren().slice();if(i.length<=2)return!1;for(var n=!1,r=i.length,o=i[0],a=i[r-1],s=wt(o),l=o.getBBox(),u=o,c=1;c<r-1;c++){var h=i[c],p=h.getBBox();Mt(t,s,l,p)?(h.hide(),n=!0):(l=p,u=h)}return Mt(t,s,l,a.getBBox())&&(u.hide(),n=!0),n}function At(t,e){var i=e.getChildren().slice();if(i.length<2)return!1;var n,r=!1,o=i[0],a=o.getBBox(),s=i[1],l=wt(o),u=i.length,c=0;if(1<(c=t?(n=Math.abs(s.attr("y")-o.attr("y")),a.height/n):l?(n=Math.abs(s.attr("x")-o.attr("x")),a.width/n):Ot(i)/(n=Math.abs(s.attr("x")-o.attr("x"))))){c=Math.ceil(c);for(var h=0;h<u;h++)h%c!=0&&(i[h].hide(),r=!0)}return r}function Et(t,e,i,n){var r=e.getChildren();if(!r.length)return!1;if(!t&&r.length<2)return!1;var o,a,s=Ot(r),l=!1;return(l=t?!!i&&i<s:s>Math.abs(r[1].attr("x")-r[0].attr("x")))&&(o=r,a=n(i,s),Object(_.each)(o,function(t){var e=m({x:t.attr("x"),y:t.attr("y")},a);t.attr("matrix",e)})),l}function Lt(){return kt}function kt(t,e,i){return Et(t,e,i,function(){return t?q.verticalAxisRotate:q.horizontalAxisRotate})}function It(n,t,e){return Et(n,t,e,function(t,e){if(!t)return n?q.verticalAxisRotate:q.horizontalAxisRotate;if(n)return-Math.acos(t/e);var i=0;return(e<t||(i=Math.asin(t/e))>Math.PI/4)&&(i=Math.PI/4),i})}var Dt,Bt,Ft,Rt,Nt,Yt,Gt,Xt,Vt,zt=(Vt=dt,Object(b.__extends)(se,Vt),se.prototype.getDefaultCfg=function(){var t=Vt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},se.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",e.x,e.y]),i},se.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),e=this.get("end"),i=Vt.prototype.getInnerLayoutBBox.call(this),n=Math.min(t.x,e.x,i.x),r=Math.min(t.y,e.y,i.y),o=Math.max(t.x,e.x,i.maxX),a=Math.max(t.y,e.y,i.maxY);return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r}},se.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Object(_.isNumberEqual)(t.x,e.x)},se.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Object(_.isNumberEqual)(t.y,e.y)},se.prototype.getTickPoint=function(t){var e=this.get("start"),i=this.get("end"),n=i.x-e.x,r=i.y-e.y;return{x:e.x+n*t,y:e.y+r*t}},se.prototype.getSideVector=function(t){var e=this.getAxisVector(),i=y.vec2.normalize([0,0],e),n=this.get("verticalFactor"),r=[i[1],-1*i[0]];return y.vec2.scale([0,0],r,t*n)},se.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},se.prototype.processOverlap=function(e){var i,t,n,r,o,a,s,l,u,c,h=this,p=this.isVertical(),f=this.isHorizontal();(p||f)&&(i=this.get("label"),t=this.get("title"),n=this.get("verticalLimitLength"),r=i.offset,o=n,s=a=0,t&&(a=t.style.fontSize,s=t.spacing),o=o&&o-r-s-a,l=this.get("overlapOrder"),Object(_.each)(l,function(t){i[t]&&h.autoProcessOverlap(t,i[t],e,o)}),t&&(u=e.getBBox(),c=p?u.width:u.height,Object(_.isNil)(t.offset)&&(t.offset=r+c+s+a/2)))},se.prototype.autoProcessOverlap=function(t,e,i,n){var r,o,a,s=this,l=this.isVertical(),u=!1,c=h[t];!0===e?u=c.getDefault()(l,i,n):Object(_.isFunction)(e)?u=e(l,i,n):c[e]&&(u=c[e](l,i,n)),"autoRotate"===t?u&&(r=i.getChildren(),o=this.get("verticalFactor"),Object(_.each)(r,function(t){var e;"center"===t.attr("textAlign")&&(e=0<o?"end":"start",t.attr("textAlign",e))})):"autoHide"===t&&(a=i.getChildren().slice(0),Object(_.each)(a,function(t){t.get("visible")||(s.get("isRegister")&&s.unregisterElement(t),t.remove())}))},se),Ht=(Xt=dt,Object(b.__extends)(ae,Xt),ae.prototype.getDefaultCfg=function(){var t=Xt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},ae.prototype.getLinePath=function(){var t,e,i,n,r=this.get("center"),o=r.x,a=r.y,s=this.get("radius"),l=s,u=this.get("startAngle"),c=this.get("endAngle");return Math.abs(c-u)===2*Math.PI?[["M",o,a-l],["A",s,l,0,1,1,o,a+l],["A",s,l,0,1,1,o,a-l],["Z"]]:(t=this.getCirclePoint(u),e=this.getCirclePoint(c),i=Math.abs(c-u)>Math.PI?1:0,n=c<u?0:1,[["M",o,a],["L",t.x,t.y],["A",s,l,0,i,n,e.x,e.y],["L",o,a]])},ae.prototype.getTickPoint=function(t){var e=this.get("startAngle"),i=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(i)},ae.prototype.getSideVector=function(t,e){var i=this.get("center"),n=[e.x-i.x,e.y-i.y],r=this.get("verticalFactor"),o=y.vec2.length(n);return y.vec2.scale(n,n,r*t/o),n},ae.prototype.getAxisVector=function(t){var e=this.get("center"),i=[t.x-e.x,t.y-e.y];return[i[1],-1*i[0]]},ae.prototype.getCirclePoint=function(t,e){var i=this.get("center");return e=e||this.get("radius"),{x:i.x+Math.cos(t)*e,y:i.y+Math.sin(t)*e}},ae),Wt=(Gt=W,Object(b.__extends)(oe,Gt),oe.prototype.getDefaultCfg=function(){var t=Gt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:q.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:q.textColor,textAlign:"center",textBaseline:"middle",fontFamily:q.fontFamily}},textBackground:{padding:5,style:{stroke:q.lineColor}}}})},oe.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},oe.prototype.renderText=function(t){var e,i,n=this.get("text"),r=n.style,o=n.autoRotate,a=n.content;Object(_.isNil)(a)||(e=this.getTextPoint(),i=null,o&&(i=m(e,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({},e),{text:a,matrix:i}),r)}))},oe.prototype.renderLine=function(t){var e=this.getLinePath(),i=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(b.__assign)({path:e},i)})},oe.prototype.renderBackground=function(t){var e,i,n,r=this.getElementId("text"),o=t.findById(r),a=this.get("textBackground");a&&o&&(e=o.getBBox(),i=w(a.padding),n=a.style,this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(b.__assign)({x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],matrix:o.attr("matrix")},n)}).toBack())},oe),qt=(Yt=Wt,Object(b.__extends)(re,Yt),re.prototype.getDefaultCfg=function(){var t=Yt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},re.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text").position,r=Math.atan2(i.y-e.y,i.x-e.x);return"start"===n?r-Math.PI/2:r+Math.PI/2},re.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text");return A(e,i,n.position,n.offset)},re.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,i=t.end;return[["M",e.x,e.y],["L",i.x,i.y]]},re),Ut=(Nt=Wt,Object(b.__extends)(ne,Nt),ne.prototype.getDefaultCfg=function(){var t=Nt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},ne.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,i=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:i-Math.PI/2},ne.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,i=t.offset,n=this.getLocation(),r=n.center,o=n.radius,a=n.startAngle,s=n.endAngle,l="start"===e?a:s,u=this.getRotateAngle()-Math.PI,c=P(r,o,l),h=Math.cos(u)*i,p=Math.sin(u)*i;return{x:c.x+h,y:c.y+p}},ne.prototype.getLinePath=function(){var t,e,i,n,r,o,a=this.getLocation(),s=a.center,l=a.radius,u=a.startAngle,c=a.endAngle;return c-u==2*Math.PI?[["M",t=s.x,(e=s.y)-l],["A",l,l,0,1,1,t,e+l],["A",l,l,0,1,1,t,e-l],["Z"]]:(i=P(s,l,u),n=P(s,l,c),r=Math.abs(c-u)>Math.PI?1:0,o=c<u?0:1,[["M",i.x,i.y],["A",l,l,0,r,o,n.x,n.y]])},ne),Kt=i(7),Zt=(Rt=V,Object(b.__extends)(ie,Rt),ie.prototype.getDefaultCfg=function(){var t=Rt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},ie.prototype.getContainer=function(){return this.get("container")},ie.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},ie.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},ie.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},ie.prototype.getBBox=function(){var t=this.getContainer();return S(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},ie.prototype.clear=function(){M(this.get("container"))},ie.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Rt.prototype.destroy.call(this)},ie.prototype.init=function(){Rt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},ie.prototype.initCapture=function(){this.setCapture(this.get("capture"))},ie.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},ie.prototype.initDom=function(){},ie.prototype.initContainer=function(){var t,e=this.get("container");Object(_.isNil)(e)?(e=this.createDom(),t=this.get("parent"),Object(_.isString)(t)&&(t=document.getElementById(t),this.set("parent",t)),t.appendChild(e),this.set("container",e)):Object(_.isString)(e)&&(e=document.getElementById(e),this.set("container",e)),this.get("parent")||this.set("parent",e.parentNode)},ie.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles"),t=t?Object(_.deepMix)({},e,t):e;this.set("domStyles",t)},ie.prototype.applyStyles=function(){var t,e,i,n=this.get("domStyles");n&&(t=this.getContainer(),this.applyChildrenStyles(t,n),(e=this.get("containerClassName"))&&t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))&&(i=n[e],Object(Kt.modifyCSS)(t,i)))},ie.prototype.applyChildrenStyles=function(n,t){Object(_.each)(t,function(e,t){var i=n.getElementsByClassName(t);Object(_.each)(i,function(t){Object(Kt.modifyCSS)(t,e)})})},ie.prototype.applyStyle=function(t,e){var i=this.get("domStyles");Object(Kt.modifyCSS)(e,i[t])},ie.prototype.createDom=function(){var t=this.get("containerTpl");return Object(Kt.createDom)(t)},ie.prototype.initEvent=function(){},ie.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},ie.prototype.removeEvent=function(){},ie.prototype.updateInner=function(t){Object(_.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},ie.prototype.resetPosition=function(){},ie),$t=((Dt={})["g2-crosshair"]={position:"relative"},Dt["g2-crosshair-line"]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Dt["g2-crosshair-text"]={position:"absolute",color:q.textColor,fontFamily:q.fontFamily},Dt),Qt=(Ft=Zt,Object(b.__extends)(ee,Ft),ee.prototype.getDefaultCfg=function(){var t=Ft.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="g2-crosshair"></div>',crosshairTpl:'<div class="g2-crosshair-line"></div>',textTpl:'<span class="g2-crosshair-text">{content}</span>',domStyles:null,containerClassName:"g2-crosshair",defaultStyles:$t,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},ee.prototype.render=function(){this.resetText(),this.resetPosition()},ee.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),i=Object(Kt.createDom)(e);t.appendChild(i),this.applyStyle("g2-crosshair-line",i),this.set("crosshairEl",i)},ee.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,n=this.get("text");return A(e,i,n.position,n.offset)},ee.prototype.resetText=function(){var t,e,i,n=this.get("text"),r=this.get("textEl");n?(t=n.content,r||(e=this.getContainer(),i=Object(_.substitute)(this.get("textTpl"),n),r=Object(Kt.createDom)(i),e.appendChild(r),this.applyStyle("g2-crosshair-text",r),this.set("textEl",r)),r.innerHTML=t):r&&r.remove()},ee.prototype.isVertical=function(t,e){return t.x===e.x},ee.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),i=this.get("end"),n=Math.min(e.x,i.x),r=Math.min(e.y,i.y);this.isVertical(e,i)?Object(Kt.modifyCSS)(t,{width:"1px",height:T(Math.abs(i.y-e.y))}):Object(Kt.modifyCSS)(t,{height:"1px",width:T(Math.abs(i.x-e.x))}),Object(Kt.modifyCSS)(t,{top:T(r),left:T(n)}),this.alignText()},ee.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,i=t.clientWidth,n=this.getTextPoint();switch(e){case"center":n.x=n.x-i/2;break;case"right":n.x=n.x-i}Object(Kt.modifyCSS)(t,{top:T(n.y),left:T(n.x)})}},ee.prototype.updateInner=function(t){Object(_.hasKey)(t,"text")&&this.resetText(),Ft.prototype.updateInner.call(this,t)},ee),Jt=(Bt=W,Object(b.__extends)(te,Bt),te.prototype.getDefaultCfg=function(){var t=Bt.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:q.lineColor}}}})},te.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},te.prototype.renderInner=function(t){this.drawGrid(t)},te.prototype.getAlternatePath=function(t,e){var i=this.getGridPath(t),n=e.slice(0).reverse(),r=this.getGridPath(n,!0);return this.get("closed")?i=i.concat(r):(r[0][0]="L",(i=i.concat(r)).push(["Z"])),i},te.prototype.getPathStyle=function(){return this.get("line").style},te.prototype.drawGrid=function(u){var c=this,h=this.get("line"),t=this.get("items"),p=this.get("alternateColor"),f=null;Object(_.each)(t,function(t,e){var i,n,r,o,a,s,l=t.id||e;h&&(i=c.getPathStyle(),n=c.getElementId("line-"+l),r=c.getGridPath(t.points),c.addShape(u,{type:"path",name:"grid-line",id:n,attrs:Object(_.mix)({path:r},i)})),p&&0<e&&(o=c.getElementId("region-"+l),a=e%2==0,Object(_.isString)(p)?a&&c.drawAlternateRegion(o,u,f.points,t.points,p):(s=a?p[1]:p[0],c.drawAlternateRegion(o,u,f.points,t.points,s))),f=t})},te.prototype.drawAlternateRegion=function(t,e,i,n,r){var o=this.getAlternatePath(i,n);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:o,fill:r}})},te);function te(){return null!==Bt&&Bt.apply(this,arguments)||this}function ee(){return null!==Ft&&Ft.apply(this,arguments)||this}function ie(){return null!==Rt&&Rt.apply(this,arguments)||this}function ne(){return null!==Nt&&Nt.apply(this,arguments)||this}function re(){return null!==Yt&&Yt.apply(this,arguments)||this}function oe(){return null!==Gt&&Gt.apply(this,arguments)||this}function ae(){return null!==Xt&&Xt.apply(this,arguments)||this}function se(){return null!==Vt&&Vt.apply(this,arguments)||this}var le,ue,ce,he,pe,fe,de=(fe=Jt,Object(b.__extends)(Ie,fe),Ie.prototype.getDefaultCfg=function(){var t=fe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"circle",center:null,closed:!0})},Ie.prototype.getGridPath=function(t,e){var i,n,r,o,a,s,l,u,c=this.getLineType(),h=this.get("closed"),p=[];return t.length&&("circle"===c?(a=this.get("center"),s=t[0],i=a.x,n=a.y,r=s.x-i,o=s.y-n,l=Math.sqrt(r*r+o*o),u=e?0:1,h?(p.push(["M",a.x,a.y-l]),p.push(["A",l,l,0,0,u,a.x,a.y+l]),p.push(["A",l,l,0,0,u,a.x,a.y-l]),p.push(["Z"])):Object(_.each)(t,function(t,e){0===e?p.push(["M",t.x,t.y]):p.push(["A",l,l,0,0,u,t.x,t.y])})):(Object(_.each)(t,function(t,e){0===e?p.push(["M",t.x,t.y]):p.push(["L",t.x,t.y])}),h&&p.push(["Z"]))),p},Ie),ge=(pe=Jt,Object(b.__extends)(ke,pe),ke.prototype.getDefaultCfg=function(){var t=pe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"line"})},ke.prototype.getGridPath=function(t){var i=[];return Object(_.each)(t,function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i},ke),ye=(he=W,Object(b.__extends)(Le,he),Le.prototype.getDefaultCfg=function(){var t=he.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},Le.prototype.getLayoutBBox=function(){var t=he.prototype.getLayoutBBox.call(this),e=this.get("x"),i=this.get("y"),n=this.get("offsetX"),r=this.get("offsetY"),o=this.get("maxWidth"),a=this.get("maxHeight"),s=e+n,l=i+r,u=t.maxX-s,c=t.maxY-l;return o&&(u=Math.min(u,o)),a&&(c=Math.min(c,a)),S(s,l,u,c)},Le.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},Le.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),i=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:e+n})},Le.prototype.applyOffset=function(){this.resetLocation()},Le.prototype.getDrawPoint=function(){return this.get("currentPoint")},Le.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},Le.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},Le.prototype.drawBackground=function(t){var e=this.get("background"),i=t.getBBox(),n=w(e.padding),r=Object(b.__assign)({x:0,y:0,width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:r}).toBack()},Le.prototype.drawTitle=function(t){var e=this.get("currentPoint"),i=this.get("title"),n=i.spacing,r=i.style,o=i.text,a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(b.__assign)({text:o,x:e.x,y:e.y},r)}).getBBox();this.set("currentPoint",{x:e.x,y:a.maxY+n})},Le.prototype.resetDraw=function(){var t,e=this.get("background"),i={x:0,y:0};e&&(t=w(e.padding),i.x=t[3],i.y=t[0]),this.set("currentPoint",i)},Le),ve=(ce=ye,Object(b.__extends)(Ee,ce),Ee.prototype.getDefaultCfg=function(){var t=ce.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"legend",type:"category",itemSpacing:24,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:q.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:q.uncheckedColor},markerStyle:{fill:q.uncheckedColor,stroke:q.uncheckedColor}},inactive:{nameStyle:{fill:q.uncheckedColor},markerStyle:{opacity:.2}}}}})},Ee.prototype.isList=function(){return!0},Ee.prototype.getItems=function(){return this.get("items")},Ee.prototype.setItems=function(t){this.update({items:t})},Ee.prototype.updateItem=function(t,e){Object(_.mix)(t,e),this.clear(),this.render()},Ee.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},Ee.prototype.setItemState=function(t,e,i){t[e]=i;var n,r,o,a=this.getElementByLocalId("item-"+t.id);a&&(n=this.getItems().indexOf(t),r=this.createOffScreenGroup(),o=this.drawItem(t,n,this.getItemHeight(),r),this.updateElements(o,a),this.clearUpdateStatus(a))},Ee.prototype.hasState=function(t,e){return!!t[e]},Ee.prototype.getItemStates=function(i){var t=this.get("itemStates"),n=[];return Object(_.each)(t,function(t,e){i[e]&&n.push(e)}),n},Ee.prototype.clearItemsState=function(e){var i=this,t=this.getItemsByState(e);Object(_.each)(t,function(t){i.setItemState(t,e,!1)})},Ee.prototype.getItemsByState=function(e){var i=this,t=this.getItems();return Object(_.filter)(t,function(t){return i.hasState(t,e)})},Ee.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},Ee.prototype.processItems=function(){var t=this.get("items");Object(_.each)(t,function(t){t.id||(t.id=t.name)})},Ee.prototype.drawItems=function(t){var o=this,e=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(e,{id:this.getElementId("item-group"),name:"legend-item-group"}),s=this.getItemHeight(),l=this.get("itemWidth"),u=this.get("itemSpacing"),c=this.get("currentPoint"),h=c.x,p=c.y,f=this.get("layout"),i=this.get("items"),d=!1,g=0,y=this.get("maxWidth"),v=this.get("maxHeight");Object(_.each)(i,function(t,e){var i=o.drawItem(t,e,s,a),n=i.getBBox(),r=l||n.width;g<r&&(g=r),"horizontal"===f?(y&&y<c.x+r-h&&(d=!0,c.x=h,c.y+=s),o.moveElementTo(i,c),c.x+=r+u):(v&&v<c.y+s-p&&(d=!0,c.x+=g+u,c.y=p,g=0),o.moveElementTo(i,c),c.y+=s)}),d&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=h,this.startY=p,this.adjustNavigation(t,a))},Ee.prototype.getItemHeight=function(){var t,e=this.get("itemHeight");return e||(t=this.get("itemName"))&&(e=t.style.fontSize+8),e},Ee.prototype.drawMarker=function(t,e,i,n){var r=Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({x:0,y:n/2},e.style),{symbol:Object(_.get)(i.marker,"symbol","circle")}),Object(_.get)(i.marker,"style",{})),o=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:r}),a=o.getBBox();o.attr("x",a.width/2);var s=o.attr(),l=s.stroke,u=s.fill;return l&&o.set("isStroke",!0),u&&o.set("isFill",!0),o},Ee.prototype.drawItemText=function(t,e,i,n,r,o,a){var s=i.formatter,l=Object(b.__assign)({x:o,y:r/2,text:s?s(n[e],n,a):n[e]},i.style);return this.addShape(t,{type:"text",id:this.getElementId("item-"+n.id+"-"+e),name:"legend-item-"+e,attrs:l})},Ee.prototype.drawItem=function(t,e,i,n){var r,o,a,s="item-"+t.id,l=this.addGroup(n,{name:"legend-item-container",id:this.getElementId("item-container-"+s),delegateObject:{item:t,index:e}}),u=this.addGroup(l,{name:"legend-item",id:this.getElementId(s),delegateObject:{item:t,index:e}}),c=this.get("marker"),h=this.get("itemName"),p=this.get("itemValue"),f=this.get("itemBackground"),d=0;return c&&(d=this.drawMarker(u,c,t,i).getBBox().maxX+c.spacing),h&&(d=this.drawItemText(u,"name",h,t,i,d,e).getBBox().maxX+h.spacing),p&&(r=this.drawItemText(u,"value",p,t,i,d,e),(o=this.get("itemWidth"))&&p.alignRight&&r.attr({textAlign:"right",x:o})),f&&(a=u.getBBox(),this.addShape(u,{type:"rect",name:"legend-item-background",id:this.getElementId(s+"-background"),attrs:Object(b.__assign)({x:0,y:0,width:a.width,height:i},f.style)}).toBack()),this.applyItemStates(t,u),u},Ee.prototype.adjustNavigation=function(t,e){var i,n=this,r=this.startX,o=this.startY,a=this.get("layout"),s=e.findAll(function(t){return"legend-item"===t.get("name")}),l=this.get("maxWidth"),u=this.get("maxHeight"),c=this.get("itemWidth"),h=this.get("itemSpacing"),p=this.getItemHeight(),f=this.drawNavigation(t,a,"00/00",12),d=f.getBBox(),g={x:r,y:o},y=1,v=0,m=0,x=0;"horizontal"===a?(this.pageHeight=p,Object(_.each)(s,function(t){var e=t.getBBox(),i=c||e.width;(v&&v<g.x+i+h||l<g.x+i+h+d.width)&&(1===y&&(v=g.x+h,n.pageWidth=v,n.moveElementTo(f,{x:l-h-d.width-d.minX,y:g.y+p/2-d.height/2-d.minY})),y+=1,g.x=r,g.y+=p),n.moveElementTo(t,g),t.getParent().setClip({type:"rect",attrs:{x:g.x,y:g.y,width:i+h,height:p}}),g.x+=i+h})):(Object(_.each)(s,function(t){var e=t.getBBox();e.width>m&&(m=e.width)}),x=m,m+=h,l&&(m=Math.min(l,m),x=Math.min(l,x)),this.pageWidth=m,this.pageHeight=u-Math.max(d.height,p),i=Math.floor(this.pageHeight/p),Object(_.each)(s,function(t,e){0!==e&&e%i==0&&(y+=1,g.x+=m,g.y=o),n.moveElementTo(t,g),t.getParent().setClip({type:"rect",attrs:{x:g.x,y:g.y,width:m,height:p}}),g.y+=p}),this.totalPagesCnt=y,this.moveElementTo(f,{x:r+x/2-d.width/2-d.minX,y:u-d.height-d.minY})),this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=y,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(f),e.attr("matrix",this.getCurrentNavigationMatrix())},Ee.prototype.drawNavigation=function(t,e,i,n){var r={x:0,y:0},o=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),a=this.drawArrow(o,r,"navigation-arrow-left","horizontal"===e?"up":"left",n);a.on("click",this.onNavigationBack);var s=a.getBBox();r.x+=s.width+2;var l=this.addShape(o,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:r.x,y:r.y+n/2,text:i,fontSize:12,fill:"#ccc",textBaseline:"middle"}}).getBBox();return r.x+=l.width+2,this.drawArrow(o,r,"navigation-arrow-right","horizontal"===e?"down":"right",n).on("click",this.onNavigationAfter),o},Ee.prototype.updateNavigation=function(t){var e=this.currentPageIndex+"/"+this.totalPagesCnt,i=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),n=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),r=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),o=i.getBBox();i.attr("text",e);var a=i.getBBox();i.attr("x",i.attr("x")-(a.width-o.width)/2),n.attr("opacity",1===this.currentPageIndex?.45:1),n.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),r.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),r.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},Ee.prototype.drawArrow=function(t,e,i,n,r){var o=e.x,a=e.y,s={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},l=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:{path:[["M",o+r/2,a],["L",o,a+r],["L",o+r,a+r],["Z"]],fill:"#000",cursor:"pointer"}});return l.attr("matrix",m({x:o+r/2,y:a+r/2},s[n])),l},Ee.prototype.getCurrentNavigationMatrix=function(){var t=this.currentPageIndex,e=this.pageWidth,i=this.pageHeight;return x("horizontal"===this.get("layout")?{x:0,y:i*(1-t)}:{x:e*(1-t),y:0})},Ee.prototype.applyItemStates=function(n,t){var e,r;0<this.getItemStates(n).length&&(e=t.getChildren(),r=this.get("itemStates"),Object(_.each)(e,function(t){var e=t.get("name").split("-")[2],i=pt(n,e,r);i&&(t.attr(i),"marker"!==e||t.get("isStroke")&&t.get("isFill")||(t.get("isStroke")&&t.attr("fill",null),t.get("isFill")&&t.attr("stroke",null)))}))},Ee),me=(ue=ye,Object(b.__extends)(Ae,ue),Ae.prototype.getDefaultCfg=function(){var t=ue.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:q.textColor,textBaseline:"middle",fontFamily:q.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:q.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},Ae.prototype.isSlider=function(){return!0},Ae.prototype.getValue=function(){return this.getCurrentValue()},Ae.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},Ae.prototype.setRange=function(t,e){this.update({min:t,max:e})},Ae.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:e,value:t})},Ae.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},Ae.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},Ae.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},Ae.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(t){var e=n.getValueByCanvasPoint(t.x,t.y),i=n.getCurrentValue()[1];i<e&&(i=e),n.setValue([e,i])}),t.on("legend-handler-max:drag",function(t){var e=n.getValueByCanvasPoint(t.x,t.y),i=n.getCurrentValue()[0];e<i&&(i=e),n.setValue([i,e])})},Ae.prototype.bindRailEvent=function(t){},Ae.prototype.bindTrackEvent=function(t){var s=this,l=null;t.on("legend-track:dragstart",function(t){l={x:t.x,y:t.y}}),t.on("legend-track:drag",function(t){var e,i,n,r,o,a;l&&(e=s.getValueByCanvasPoint(l.x,l.y),i=s.getValueByCanvasPoint(t.x,t.y),r=(n=s.getCurrentValue())[1]-n[0],o=s.getRange(),(a=i-e)<0?n[0]+a>o.min?s.setValue([n[0]+a,n[1]+a]):s.setValue([o.min,o.min+r]):0<a&&(0<a&&n[1]+a<o.max?s.setValue([n[0]+a,n[1]+a]):s.setValue([o.max-r,o.max])),l={x:t.x,y:t.y})}),t.on("legend-track:dragend",function(t){l=null})},Ae.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},Ae.prototype.drawLabel=function(t,e){var i=this.get("label"),n=i.style,r=i.align,o=this.get(t),a=this.getLabelAlignAttrs(t,r),s="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(s),name:"legend-label-"+t,attrs:Object(b.__assign)(Object(b.__assign)({x:0,y:0,text:o},n),a)})},Ae.prototype.getLabelAlignAttrs=function(t,e){var i="center",n="middle";return this.isVertical()?(i="start",n="rail"===e||"min"===t?"top":"bottom"):"rail"!==e?(n="top",i="min"===t?"start":"end"):(i="start",n="middle"),{textAlign:i,textBaseline:n}},Ae.prototype.getRailPath=function(t,e,i,n){var r=this.get("rail"),o=r.size,a=r.defaultLength,s=r.type,l=this.isVertical(),u=(u=i)||(l?o:a),c=(c=n)||(l?a:o),h=[];return"color"===s?(h.push(["M",t,e]),h.push(["L",t+u,e])):h.push(["M",t+u,e]),h.push(["L",t+u,e+c]),h.push(["L",t,e+c]),h.push(["Z"]),h},Ae.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(b.__assign)({path:this.getRailPath(0,0)},e)})},Ae.prototype.getTrackColor=function(t){var e,i=t.length;if(!i)return null;if(1===i)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var n=0;n<i;n++)e+=" "+n/(i-1)+":"+t[n];return e},Ae.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return Object(_.clone)(e)},Ae.prototype.getClipTrackAttrs=function(t){var e,i,n,r=this.getCurrentValue(),o=r[0],a=r[1],s=this.getRailBBox(t),l=this.getPointByValue(o,t),u=this.getPointByValue(a,t),c=this.isVertical()?(e=s.minX,i=l.y,n=s.width,u.y-l.y):(e=l.x,i=s.minY,n=u.x-l.x,s.height);return{x:e,y:i,width:n,height:c}},Ae.prototype.getTrackAttrs=function(t){var e=this.get("track"),i=this.get("colors"),n=this.getTrackPath(t);return Object(_.mix)({path:n,fill:this.getTrackColor(i)},e.style)},Ae.prototype.resetTrackClip=function(t){var e=t||this.get("group"),i=this.getElementId("track"),n=e.findById(i),r=n.getClip(),o=this.getClipTrackAttrs(t);r?r.attr(o):n.setClip({type:"rect",attrs:o})},Ae.prototype.resetTrack=function(t){var e=this.getElementId("track"),i=t.findById(e),n=this.getTrackAttrs(t);i?i.attr(n):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:n})},Ae.prototype.getPointByValue=function(t,e){var i=this.getRange(),n=i.min,r=(t-n)/(i.max-n),o=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=o.minX+o.width/2,a.y=j(o.minY,o.maxY,r)):(a.x=j(o.minX,o.maxX,r),a.y=o.minY+o.height/2),a},Ae.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},Ae.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},Ae.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},Ae.prototype.isVertical=function(){return"vertical"===this.get("layout")},Ae.prototype.getValueByCanvasPoint=function(t,e){var i=this.getRange(),n=i.min,r=i.max,o=this.getRailCanvasBBox(),a=this.isVertical(),s=this.get("step"),l=j(n,r,a?(e-o.minY)/o.height:(t-o.minX)/o.width);return s&&(l=n+Math.round((l-n)/s)*s),r<l&&(l=r),l<n&&(l=n),l},Ae.prototype.getCurrentValue=function(){return this.get("value")||[this.get("min"),this.get("max")]},Ae.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),i=e[0],n=e[1];this.resetHandler(t,"min",i),this.resetHandler(t,"max",n)},Ae.prototype.getHandlerPath=function(t,e){var i,n,r=this.isVertical(),o=[],a=t.size,s=e.x,l=e.y,u=1.4*a,c=a/2,h=a/6;return r?(i=s+.4*u,o.push(["M",s,l]),o.push(["L",i,l+c]),o.push(["L",s+u,l+c]),o.push(["L",s+u,l-c]),o.push(["L",i,l-c]),o.push(["Z"]),o.push(["M",i,l+h]),o.push(["L",s+u-2,l+h]),o.push(["M",i,l-h]),o.push(["L",s+u-2,l-h])):(n=l+.4*u,o.push(["M",s,l]),o.push(["L",s-c,n]),o.push(["L",s-c,l+u]),o.push(["L",s+c,l+u]),o.push(["L",s+c,n]),o.push(["Z"]),o.push(["M",s-h,n]),o.push(["L",s-h,l+u-2]),o.push(["M",s+h,n]),o.push(["L",s+h,l+u-2])),o},Ae.prototype.resetHandler=function(t,e,i){var n=this.getPointByValue(i,t),r=this.get("handler"),o=this.getHandlerPath(r,n),a=this.getElementId("handler-"+e),s=t.findById(a),l=this.isVertical();s?s.attr("path",o):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:a,attrs:Object(b.__assign)(Object(b.__assign)({path:o},r.style),{cursor:l?"ns-resize":"ew-resize"})})},Ae.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),i=t.findById(this.getElementId("label-min")),n=t.findById(this.getElementId("label-max")),r=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,n,e,r):this.fixedHorizontal(i,n,e,r)},Ae.prototype.fitRailLength=function(t,e,i,n){var r,o=this.isVertical()?"height":"width",a=this.get("label"),s=a.align,l=a.spacing,u=this.get("max"+Object(_.upperFirst)(o));!u||0<(r=("rail"===s?i[o]+t[o]+e[o]+2*l:i[o])-u)&&this.changeRailLength(n,o,i[o]-r)},Ae.prototype.changeRailLength=function(t,e,i){var n=t.getBBox(),r="height"===e?this.getRailPath(n.x,n.y,n.width,i):this.getRailPath(n.x,n.y,i,n.height);t.attr("path",r)},Ae.prototype.changeRailPosition=function(t,e,i){var n=t.getBBox(),r=this.getRailPath(e,i,n.width,n.height);t.attr("path",r)},Ae.prototype.fixedHorizontal=function(t,e,i,n){var r=this.get("label"),o=r.align,a=r.spacing,s=i.getBBox(),l=t.getBBox(),u=e.getBBox(),c=s.height;this.fitRailLength(l,u,s,i),s=i.getBBox(),"rail"===o?(t.attr({x:n.x,y:n.y+c/2}),this.changeRailPosition(i,n.x+l.width+a,n.y),e.attr({x:n.x+l.width+s.width+2*a,y:n.y+c/2})):"top"===o?(t.attr({x:n.x,y:n.y}),e.attr({x:n.x+s.width,y:n.y}),this.changeRailPosition(i,n.x,n.y+l.height+a)):(this.changeRailPosition(i,n.x,n.y),t.attr({x:n.x,y:n.y+s.height+a}),e.attr({x:n.x+s.width,y:n.y+s.height+a}))},Ae.prototype.fixedVertail=function(t,e,i,n){var r,o=this.get("label"),a=o.align,s=o.spacing,l=i.getBBox(),u=t.getBBox(),c=e.getBBox();this.fitRailLength(u,c,l,i),l=i.getBBox(),"rail"===a?(t.attr({x:n.x,y:n.y}),this.changeRailPosition(i,n.x,n.y+u.height+s),e.attr({x:n.x,y:n.y+u.height+l.height+2*s})):"right"===a?(t.attr({x:n.x+l.width+s,y:n.y}),this.changeRailPosition(i,n.x,n.y),e.attr({x:n.x+l.width+s,y:n.y+l.height})):(r=Math.max(u.width,c.width),t.attr({x:n.x,y:n.y}),this.changeRailPosition(i,n.x+r+s,n.y),e.attr({x:n.x,y:n.y+l.height}))},Ae),xe=i(40),be="g2-tooltip",_e="g2-tooltip-title",Oe="g2-tooltip-list",we="g2-tooltip-list-item",Me="g2-tooltip-marker",Ce="g2-tooltip-value",Se="g2-tooltip-name",je="g2-tooltip-crosshair-x",Pe="g2-tooltip-crosshair-y",Te=((le={})[""+be]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:q.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},le[""+_e]={marginBottom:"4px"},le[""+Oe]={margin:"0px",listStyleType:"none",padding:"0px"},le[""+we]={listStyleType:"none",marginBottom:"4px"},le[""+Me]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},le[""+Ce]={display:"inline-block",float:"right",marginLeft:"30px"},le[""+je]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},le[""+Pe]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},le);function Ae(){return null!==ue&&ue.apply(this,arguments)||this}function Ee(){var i=null!==ce&&ce.apply(this,arguments)||this;return i.currentPageIndex=1,i.totalPagesCnt=1,i.pageWidth=0,i.pageHeight=0,i.startX=0,i.startY=0,i.onNavigationBack=function(){var t,e=i.getElementByLocalId("item-group");1<i.currentPageIndex&&(--i.currentPageIndex,i.updateNavigation(),t=i.getCurrentNavigationMatrix(),i.get("animate")?e.animate({matrix:t},100):e.attr({matrix:t}))},i.onNavigationAfter=function(){var t,e=i.getElementByLocalId("item-group");i.currentPageIndex<i.totalPagesCnt&&(i.currentPageIndex+=1,i.updateNavigation(),t=i.getCurrentNavigationMatrix(),i.get("animate")?e.animate({matrix:t},100):e.attr({matrix:t}))},i}function Le(){return null!==he&&he.apply(this,arguments)||this}function ke(){return null!==pe&&pe.apply(this,arguments)||this}function Ie(){return null!==fe&&fe.apply(this,arguments)||this}var De,Be=(De=Zt,Object(b.__extends)(Xe,De),Xe.prototype.getDefaultCfg=function(){var t=De.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+be+'"><div class="'+_e+'"></div><ul class="'+Oe+'"></ul></div>',itemTpl:'<li class="'+we+'" data-index={index}>\n          <span class="'+Me+'" style="background:{color}"></span>\n          <span class="'+Se+'">{name}</span>:\n          <span class="'+Ce+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+je+'"></div>',yCrosshairTpl:'<div class="'+Pe+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:be,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Te})},Xe.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},Xe.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},Xe.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),Object(Kt.modifyCSS)(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},Xe.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),Object(Kt.modifyCSS)(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},Xe.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},Xe.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},Xe.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",i=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");i&&Object(Kt.modifyCSS)(i,{display:e}),n&&Object(Kt.modifyCSS)(n,{display:e})},Xe.prototype.initContainer=function(){var t;De.prototype.initContainer.call(this),this.get("customContent")&&(this.get("container")&&this.get("container").remove(),t=this.getHtmlContentNode(),this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles())},Xe.prototype.updateInner=function(t){var e,i,n;this.get("customContent")?this.renderCustomContent():(e=t,n=!(i=["title","showTitle"]),Object(_.each)(i,function(t){if(Object(_.hasKey)(e,t))return!(n=!0)}),n&&this.resetTitle(),Object(_.hasKey)(t,"items")&&this.renderItems()),De.prototype.updateInner.call(this,t)},Xe.prototype.initDom=function(){this.cacheDoms()},Xe.prototype.removeDom=function(){De.prototype.removeDom.call(this),this.clearCrosshairs()},Xe.prototype.resetPosition=function(){var t,e=this.get("x"),i=this.get("y"),n=this.get("offset"),r=this.getOffset(),o=r.offsetX,a=r.offsetY,s=this.get("position"),l=this.get("region"),u=this.getContainer(),c=this.getBBox(),h=c.width,p=c.height;l&&(t=C(l));var f,d,g,y,v,m,x,b,_,O,w,M=(m=s,x=t,w=function(t,e,i,n,r){var o=t,a=e;switch(m){case"left":o=t-n-i,a=e-r/2;break;case"right":o=t+i,a=e-r/2;break;case"top":o=t-n/2,a=e-r-i;break;case"bottom":o=t-n/2,a=e+i;break;default:o=t+i,a=e-r-i}return{x:o,y:a}}(f=e,d=i,g=n,y=h,v=p),x&&(_=w.x,O=w.y,b={left:_<x.x,right:_+y>x.x+x.width,top:O<x.y,bottom:O+v>x.y+x.height},"auto"===m?(b.right&&(w.x=f-y-g),b.top&&(w.y=d+g)):"top"===m||"bottom"===m?(b.left&&(w.x=x.x),b.right&&(w.x=x.x+x.width-y),"top"===m&&b.top&&(w.y=d+g),"bottom"===m&&b.bottom&&(w.y=d-v-g)):(b.top&&(w.y=x.y),b.bottom&&(w.y=x.y+x.height-v),"left"===m&&b.left&&(w.x=f+g),"right"===m&&b.right&&(w.x=f-y-g))),w);Object(Kt.modifyCSS)(u,{left:T(M.x+o),top:T(M.y+a)}),this.resetCrosshairs()},Xe.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),i=this.get("container");i&&i.parentNode===e?e.replaceChild(t,i):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},Xe.prototype.getHtmlContentNode=function(){var t,e,i=this.get("customContent");return i&&(t=i(this.get("title"),this.get("items")),e=Object(_.isElement)(t)?t:Object(Kt.createDom)(t)),e},Xe.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(_e)[0],i=t.getElementsByClassName(Oe)[0];this.set("titleDom",e),this.set("listDom",i)},Xe.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},Xe.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},Xe.prototype.resetCrosshairs=function(){var t,e,i,n=this.get("crosshairsRegion"),r=this.get("crosshairs");n&&r?(t=C(n),e=this.get("xCrosshairDom"),i=this.get("yCrosshairDom"),"x"===r?(this.resetCrosshair("x",t),i&&(i.remove(),this.set("yCrosshairDom",null))):"y"===r?(this.resetCrosshair("y",t),e&&(e.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",t),this.resetCrosshair("y",t)),this.setCrossHairsVisible(this.get("visible"))):this.clearCrosshairs()},Xe.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),n=this.get(t);"x"===t?Object(Kt.modifyCSS)(i,{left:T(n),top:T(e.y),height:T(e.height)}):Object(Kt.modifyCSS)(i,{top:T(n),left:T(e.x),width:T(e.width)})},Xe.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",i=t+"CrosshairTpl",n="CROSSHAIR_"+t.toUpperCase(),r=p[n],o=this.get(e),a=this.get("parent");return o||(o=Object(Kt.createDom)(this.get(i)),this.applyStyle(r,o),a.appendChild(o),this.set(e,o)),o},Xe.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),o=this.get("itemTpl"),a=this.get("listDom");a&&(Object(_.each)(t,function(t){var e=xe.default.toCSSGradient(t.color),i=Object(b.__assign)(Object(b.__assign)({},t),{color:e}),n=Object(_.substitute)(o,i),r=Object(Kt.createDom)(n);a.appendChild(r)}),this.applyChildrenStyles(a,this.get("domStyles")))},Xe.prototype.clearItemDoms=function(){this.get("listDom")&&M(this.get("listDom"))},Xe.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},Xe),Fe={opacity:0},Re={stroke:"#C5C5C5",strokeOpacity:.85},Ne={fill:"#CACED4",opacity:.85},Ye=i(78),Ge=i(21);function Xe(){return null!==De&&De.apply(this,arguments)||this}function Ve(t){return e=t,Object(_.map)(e,function(t,e){return[0===e?"M":"L",t[0],t[1]]});var e}var ze,He,We,qe,Ue=(qe=W,Object(b.__extends)(si,qe),si.prototype.getDefaultCfg=function(){var t=qe.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Fe,lineStyle:Re,areaStyle:Ne})},si.prototype.renderInner=function(t){var e=this.cfg,i=e.width,n=e.height,r=e.data,o=e.smooth,a=e.isArea,s=e.backgroundStyle,l=e.lineStyle,u=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(b.__assign)({x:0,y:0,width:i,height:n},s)});var c,h,p,f,d,g=function(t,i,n,e){void 0===e&&(e=!0);var r=new Ge.Linear({values:t}),o=new Ge.Category({values:Object(_.map)(t,function(t,e){return e})}),a=Object(_.map)(t,function(t,e){return[o.scale(e)*i,n-r.scale(t)*n]});return(e?function(t){if(t.length<=2)return Ve(t);var e=[];Object(_.each)(t,function(t){Object(_.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])});var i=Object(Ye.a)(e,!1),n=Object(_.head)(t),r=n[0],o=n[1];return i.unshift(["M",r,o]),i}:Ve)(a)}(r,i,n,o);this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Object(b.__assign)({path:g},l)}),a&&(h=g,p=i,f=n,(d=Object(b.__spreadArrays)(h)).push(["L",p,0]),d.push(["L",0,f]),d.push(["Z"]),c=d,this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Object(b.__assign)({path:c},u)}))},si.prototype.applyOffset=function(){var t=this.cfg,e=t.x,i=t.y;this.moveElementTo(this.get("group"),{x:e,y:i})},si),Ke={fill:"#416180",opacity:.05},Ze={fill:"#5B8FF9",opacity:.15,cursor:"move"},$e={width:10,height:24},Qe={textBaseline:"middle",fill:"#000",opacity:.45},Je={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},ti=(We=W,Object(b.__extends)(ai,We),ai.prototype.getDefaultCfg=function(){var t=We.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:Je})},ai.prototype.renderInner=function(t){var e=this.cfg,i=e.width,n=e.height,r=e.style,o=r.fill,a=r.stroke,s=r.radius,l=r.opacity,u=r.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:n,fill:o,stroke:a,radius:s,opacity:l,cursor:u}});var c=1/3*i,h=2/3*i,p=.25*n,f=.75*n;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:c,y1:p,x2:c,y2:f,stroke:a,cursor:u}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:h,y1:p,x2:h,y2:f,stroke:a,cursor:u}})},ai.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ai.prototype.initEvent=function(){this.bindEvents()},ai.prototype.bindEvents=function(){var e=this;this.get("group").on("mouseenter",function(){var t=e.get("style").highLightFill;e.getElementByLocalId("background").attr("fill",t),e.draw()}),this.get("group").on("mouseleave",function(){var t=e.get("style").fill;e.getElementByLocalId("background").attr("fill",t),e.draw()})},ai.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},ai),ei=(He=W,Object(b.__extends)(oi,He),oi.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var i=this.get("start"),n=this.get("end"),r=Object(_.clamp)(i,t,e),o=Object(_.clamp)(n,t,e);this.get("isInit")||i===r&&n===o||this.setValue([r,o])},oi.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},oi.prototype.setValue=function(t){var e,i=this.getRange();Object(_.isArray)(t)&&2===t.length&&(e=[this.get("start"),this.get("end")],this.update({start:Object(_.clamp)(t[0],i.min,i.max),end:Object(_.clamp)(t[1],i.min,i.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:e,value:t}))},oi.prototype.getValue=function(){return[this.get("start"),this.get("end")]},oi.prototype.getDefaultCfg=function(){var t=He.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Ke,foregroundStyle:Ze,handlerStyle:$e,textStyle:Qe}})},oi.prototype.update=function(t){var e=t.start,i=t.end,n=Object(b.__assign)({},t);Object(_.isNil)(e)||(n.start=Object(_.clamp)(e,0,1)),Object(_.isNil)(i)||(n.end=Object(_.clamp)(i,0,1)),He.prototype.update.call(this,n),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},oi.prototype.init=function(){this.set("start",Object(_.clamp)(this.get("start"),0,1)),this.set("end",Object(_.clamp)(this.get("end"),0,1)),He.prototype.init.call(this)},oi.prototype.renderInner=function(t){var e=this.cfg,i=(e.start,e.end,e.width),n=e.height,r=e.trendCfg,o=void 0===r?{}:r,a=e.minText,s=e.maxText,l=e.backgroundStyle,u=void 0===l?{}:l,c=e.foregroundStyle,h=void 0===c?{}:c,p=e.textStyle,f=void 0===p?{}:p,d=e.handlerStyle,g=void 0===d?{}:d;Object(_.size)(Object(_.get)(o,"data"))&&this.addComponent(t,Object(b.__assign)({component:Ue,id:this.getElementId("trend"),x:0,y:0,width:i,height:n},o)),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(b.__assign)({x:0,y:0,width:i,height:n},u)});var y=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Object(b.__assign)({y:n/2,textAlign:"right",text:a,silent:!1},f)}),v=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Object(b.__assign)({y:n/2,textAlign:"left",text:s,silent:!1},f)}),m=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(b.__assign)({y:0,height:n},h)}),x=Object(_.get)(g,"height",24);this.minHandler=this.addComponent(t,Object(b.__assign)({component:ti,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(n-x)/2,width:i,height:x,cursor:"ew-resize"},g)),this.maxHandler=this.addComponent(t,Object(b.__assign)({component:ti,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(n-x)/2,width:i,height:x,cursor:"ew-resize"},g)),this.updateUI(m,y,v)},oi.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},oi.prototype.initEvent=function(){this.bindEvents()},oi.prototype.updateUI=function(t,i,n){var e=this.cfg,r=e.start,o=e.end,a=e.width,s=e.minText,l=e.maxText,u=e.handlerStyle,c=r*a,h=o*a;t.attr("x",c),t.attr("width",h-c);var p=Object(_.get)(u,"width",10);i.attr("text",s),n.attr("text",l);var f=this._dodgeText([c,h],i,n),d=f[0],g=f[1];this.minHandler&&(this.minHandler.update({x:c-p/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(_.each)(d,function(t,e){return i.attr(e,t)}),this.maxHandler&&(this.maxHandler.update({x:h-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(_.each)(g,function(t,e){return n.attr(e,t)})},oi.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},oi.prototype.adjustOffsetRange=function(t){var e=this.cfg,i=e.start,n=e.end;switch(this.currentTarget){case"minHandler":var r=0-i,o=1-i;return Math.min(o,Math.max(r,t));case"maxHandler":return r=0-n,o=1-n,Math.min(o,Math.max(r,t));case"foreground":return r=0-i,o=1-n,Math.min(o,Math.max(r,t))}},oi.prototype.updateStartEnd=function(t){var e=this.cfg,i=e.start,n=e.end;switch(this.currentTarget){case"minHandler":i+=t;break;case"maxHandler":n+=t;break;case"foreground":i+=t,n+=t}this.set("start",i),this.set("end",n)},oi.prototype._dodgeText=function(t,e,i){var n,r,o=this.cfg,a=o.handlerStyle,s=o.width,l=Object(_.get)(a,"width",10),u=t[0],c=t[1],h=!1;c<u&&(u=(n=[c,u])[0],c=n[1],e=(r=[i,e])[0],i=r[1],h=!0);var p=e.getBBox(),f=i.getBBox(),d=p.width>u-2?{x:u+l/2+2,textAlign:"left"}:{x:u-l/2-2,textAlign:"right"},g=f.width>s-c-2?{x:c-l/2-2,textAlign:"right"}:{x:c+l/2+2,textAlign:"left"};return h?[g,d]:[d,g]},oi.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},oi.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},oi),ii={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},ni=(ze=W,Object(b.__extends)(ri,ze),ri.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var i=this.getValue(),n=Object(_.clamp)(i,t,e);i===n||this.get("isInit")||this.setValue(n)},ri.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},ri.prototype.setValue=function(t){var e=this.getRange(),i=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(_.clamp)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:i,value:this.getValue()})},ri.prototype.getValue=function(){return Object(_.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},ri.prototype.getDefaultCfg=function(){var t=ze.prototype.getDefaultCfg.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:ii})},ri.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},ri.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ri.prototype.initEvent=function(){this.bindEvents()},ri.prototype.renderTrackShape=function(t){var e=this.cfg,i=e.trackLen,n=e.theme,r=(void 0===n?{default:{}}:n).default,o=r.lineCap,a=r.trackColor,s=r.size,l=this.get("isHorizontal")?{x1:0+s/2,y1:s/2,x2:i-s/2,y2:s/2,lineWidth:s,stroke:a,lineCap:o}:{x1:s/2,y1:0+s/2,x2:s/2,y2:i-s/2,lineWidth:s,stroke:a,lineCap:o};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:l})},ri.prototype.renderThumbShape=function(t){var e=this.cfg,i=e.thumbOffset,n=e.thumbLen,r=e.theme,o=(void 0===r?{default:{}}:r).default,a=o.size,s=o.lineCap,l=o.thumbColor,u=this.get("isHorizontal")?{x1:i+a/2,y1:a/2,x2:i+n-a/2,y2:a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"}:{x1:a/2,y1:i+a/2,x2:a/2,y2:i+n-a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:u})},ri.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},ri.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},ri.prototype.validateRange=function(t){var e=this.cfg,i=e.thumbLen,n=e.trackLen,r=t;return n<t+i?r=n-i:t+i<i&&(r=0),r},ri.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},ri.prototype.updateThumbOffset=function(t){var e,i=this.cfg,n=i.thumbOffset,r=i.isHorizontal,o=i.thumbLen,a=i.size,s=this.validateRange(t);s!==n&&(e=this.getElementByLocalId("thumb"),r?e.attr({x1:s+a/2,x2:s+o-a/2}):e.attr({y1:s+a/2,y2:s+o-a/2}),this.emitOffsetChange(s))},ri.prototype.emitOffsetChange=function(t){var e=this.cfg,i=e.thumbOffset,n=e.trackLen,r=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Object(_.clamp)(t/(n-r),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:t})},ri);function ri(){var h=null!==ze&&ze.apply(this,arguments)||this;return h.clearEvents=_.noop,h.onStartEvent=function(n){return function(t){h.isMobile=n,t.originalEvent.preventDefault();var e=n?Object(_.get)(t.originalEvent,"touches.0.clientX"):t.clientX,i=n?Object(_.get)(t.originalEvent,"touches.0.clientY"):t.clientY;h.startPos=h.cfg.isHorizontal?e:i,h.bindLaterEvent()}},h.bindLaterEvent=function(){var t=h.getContainerDOM(),e=[],e=h.isMobile?[Object(Kt.addEventListener)(t,"touchmove",h.onMouseMove),Object(Kt.addEventListener)(t,"touchend",h.onMouseUp),Object(Kt.addEventListener)(t,"touchcancel",h.onMouseUp)]:[Object(Kt.addEventListener)(t,"mousemove",h.onMouseMove),Object(Kt.addEventListener)(t,"mouseup",h.onMouseUp),Object(Kt.addEventListener)(t,"mouseleave",h.onMouseUp)];h.clearEvents=function(){e.forEach(function(t){t.remove()})}},h.onMouseMove=function(t){var e=h.cfg,i=e.isHorizontal,n=e.thumbOffset;t.preventDefault();var r=h.isMobile?Object(_.get)(t,"touches.0.clientX"):t.clientX,o=h.isMobile?Object(_.get)(t,"touches.0.clientY"):t.clientY,a=i?r:o,s=a-h.startPos;h.startPos=a,h.updateThumbOffset(n+s)},h.onMouseUp=function(t){t.preventDefault(),h.clearEvents()},h.onTrackClick=function(t){var e=h.cfg,i=e.isHorizontal,n=e.x,r=e.y,o=e.thumbLen,a=h.getContainerDOM().getBoundingClientRect(),s=t.clientX,l=t.clientY,u=i?s-a.left-n-o/2:l-a.top-r-o/2,c=h.validateRange(u);h.updateThumbOffset(c)},h.onThumbMouseOver=function(){var t=h.cfg.theme.hover.thumbColor;h.getElementByLocalId("thumb").attr("stroke",t),h.draw()},h.onThumbMouseOut=function(){var t=h.cfg.theme.default.thumbColor;h.getElementByLocalId("thumb").attr("stroke",t),h.draw()},h}function oi(){var s=null!==He&&He.apply(this,arguments)||this;return s.onMouseDown=function(n){return function(t){s.currentTarget=n;var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),s.prevX=Object(_.get)(e,"touches.0.pageX",e.pageX),s.prevY=Object(_.get)(e,"touches.0.pageY",e.pageY);var i=s.getContainerDOM();i.addEventListener("mousemove",s.onMouseMove),i.addEventListener("mouseup",s.onMouseUp),i.addEventListener("mouseleave",s.onMouseUp),i.addEventListener("touchmove",s.onMouseMove),i.addEventListener("touchend",s.onMouseUp),i.addEventListener("touchcancel",s.onMouseUp)}},s.onMouseMove=function(t){var e=s.cfg.width,i=[s.get("start"),s.get("end")];t.stopPropagation(),t.preventDefault();var n=Object(_.get)(t,"touches.0.pageX",t.pageX),r=Object(_.get)(t,"touches.0.pageY",t.pageY),o=n-s.prevX,a=s.adjustOffsetRange(o/e);s.updateStartEnd(a),s.updateUI(s.getElementByLocalId("foreground"),s.getElementByLocalId("minText"),s.getElementByLocalId("maxText")),s.prevX=n,s.prevY=r,s.draw(),s.emit("sliderchange",[s.get("start"),s.get("end")].sort()),s.delegateEmit("valuechanged",{originValue:i,value:[s.get("start"),s.get("end")]})},s.onMouseUp=function(){s.currentTarget&&(s.currentTarget=void 0);var t=s.getContainerDOM();t&&(t.removeEventListener("mousemove",s.onMouseMove),t.removeEventListener("mouseup",s.onMouseUp),t.removeEventListener("mouseleave",s.onMouseUp),t.removeEventListener("touchmove",s.onMouseMove),t.removeEventListener("touchend",s.onMouseUp),t.removeEventListener("touchcancel",s.onMouseUp))},s}function ai(){return null!==We&&We.apply(this,arguments)||this}function si(){return null!==qe&&qe.apply(this,arguments)||this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGeom=void 0;var n=i(1),r=n.__importDefault(i(263)),o=n.__importDefault(i(265)),a=n.__importDefault(i(267)),s=n.__importDefault(i(269)),l={area:r.default,line:a.default,point:s.default,interval:o.default};e.getGeom=function(t,e,i){return new l[t][e](i).config}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(29),u=i(83);e.default={box:function(t,e,i,n){return s.getBBoxByArray([t,i],[e,n])},length:function(t,e,i,n){return s.distance(t,e,i,n)},pointAt:function(t,e,i,n,r){return{x:(1-r)*t+r*i,y:(1-r)*e+r*n}},pointDistance:function(t,e,i,n,r,o){var a=(i-t)*(r-t)+(n-e)*(o-e);return a<0?s.distance(t,e,r,o):(i-t)*(i-t)+(n-e)*(n-e)<a?s.distance(i,n,r,o):this.pointToLine(t,e,i,n,r,o)},pointToLine:function(t,e,i,n,r,o){var a=[i-t,n-e];if(u.exactEquals(a,[0,0]))return Math.sqrt((r-t)*(r-t)+(o-e)*(o-e));var s=[-a[1],a[0]];u.normalize(s,s);var l=[r-t,o-e];return Math.abs(u.dot(l,s))},tangentAngle:function(t,e,i,n){return Math.atan2(n-e,i-t)}}},function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"a",function(){return o});var x=i(1),b=i(34);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _=Math.sin,O=Math.cos,w=Math.atan2,h=Math.PI;function s(t,e,i,n,r,o,a){var s=e.stroke,l=e.lineWidth,u=w(n-o,i-r),c=new b.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*O(h/6)+","+10*_(h/6)+" L0,0 L"+10*O(h/6)+",-"+10*_(h/6),stroke:s,lineWidth:l}});c.translate(r,o),c.rotateAtPoint(r,o,u),t.set(a?"startArrowShape":"endArrowShape",c)}function l(t,e,i,n,r,o,a){var s=e.startArrow,l=e.endArrow,u=e.stroke,c=e.lineWidth,h=a?s:l,p=h.d,f=h.fill,d=h.stroke,g=h.lineWidth,y=Object(x.__rest)(h,["d","fill","stroke","lineWidth"]),v=w(n-o,i-r);p&&(r-=O(v)*p,o-=_(v)*p);var m=new b.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(x.__assign)(Object(x.__assign)({},y),{stroke:d||u,lineWidth:g||c,fill:f})});m.translate(r,o),m.rotateAtPoint(r,o,v),t.set(a?"startArrowShape":"endArrowShape",m)}function n(t,e,i,n,r){var o=w(n-e,i-t);return{dx:O(o)*r,dy:_(o)*r}}function r(t,e,i,n,r,o){"object"===a(e.startArrow)?l(t,e,i,n,r,o,!0):e.startArrow?s(t,e,i,n,r,o,!0):t.set("startArrowShape",null)}function o(t,e,i,n,r,o){"object"===a(e.endArrow)?l(t,e,i,n,r,o,!1):e.endArrow?s(t,e,i,n,r,o,!1):t.set("startArrowShape",null)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLabelComponent=e.registerLabelComponent=void 0;var n,p=i(1),f=i(0),r=p.__importDefault(i(54)),d=i(8),o=p.__importDefault(i(13)),a=(n=r.default,p.__extends(s,n),s.prototype.getGeometry=function(){return this.geometry},s.prototype.getLabels=function(){return this.labels},s.prototype.show=function(){this.container.show()},s.prototype.hide=function(){this.container.hide()},s.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var i=this.layer.view;function n(){e.clear(),e.render()}this.view=i,this.geometry=t.geometry,this.coord=i.getCoordinate(),this.options=f.deepMix(this.getDefaultOptions(),t.label),i.on(d.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),this.addDisposable(function(){i.off(d.VIEW_LIFE_CIRCLE.AFTER_PAINT,n)})},s.prototype.renderInner=function(a){var s=this;this.labels=[],this.labelsCfgMap={},f.each(this.geometry.elements,function(i,t){var e=[].concat(s.drawLabelItem(a,i,t));f.each(e,function(t,e){s.adjustLabel(t,i,e),t.destroyed||(s.labels.push(t),s.labelsCfgMap[t.get("id")]=f.clone(t.attrs))})}),this.layoutLabels(this.geometry,this.labels);var l=this.lastLabelsCfgMap,t=this.labelsCfgMap,u=!!this.geometry.animateOption&&d.getDefaultAnimateCfg("label",this.coord);f.each(t,function(t,e){var i,n,r,o=a.findById(e);o&&(l[e]?(i=l[e],(n=f.get(u,"update"))&&(o.attr(i),d.doAnimate(o,n,{toAttrs:p.__assign({},t),coordinate:s.coord}))):(r=f.get(u,"appear"))&&d.doAnimate(o,r,{toAttrs:p.__assign({},o.attr()),coordinate:s.coord})),delete l[e]}),f.each(l,function(t,e){var i,n=f.get(u,"leave");n&&(i=a.addShape("text",{attrs:t,id:e,name:"label"}),d.doAnimate(i,n,{toAttrs:null,coordinate:s.coord}))}),this.lastLabelsCfgMap=this.labelsCfgMap},s.prototype.drawLabelText=function(t,e,i){return void 0===i&&(i={}),t.addShape("text",p.__assign({attrs:e},i))},s.prototype.drawLabelItem=function(a,s,t){var l=this,u=s.getModel(),e=[].concat(this.getLabelItemAttrs(s,t)),c=this.getDefaultOffset(),h=this.getLabelOffset();return f.map(e,function(t,e){var i,n={x:t.x+h.x,y:t.y+h.y},r=f.isArray(u.mappingData)?u.mappingData[e]:u.mappingData,o=l.getLabelId(r);return l.drawLabelText(a,p.__assign(p.__assign({},t),n),((i={id:o,name:"label",offset:c,element:s})[d.ORIGIN]=r,i))})},s.prototype.getDefaultOffset=function(){return Number(this.options.offset)},s.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,i=t.offsetY;return{x:f.isNumber(e)?e:0,y:f.isNumber(i)?i:0}},s.prototype.getLabelOffsetByDimAndFactor=function(t,e){var i=this.options,n=i.offsetX,r=i.offsetY,o=this.getDefaultOffset(),a={x:0,y:0};return a[t]=o*e,f.isNumber(n)&&(a.x+=n),f.isNumber(r)&&(a.y+=r),a},s.prototype.getDefaultOptions=function(){return{}},s.prototype.layoutLabels=function(t,e){},s.prototype.getLabelId=function(t){var e=t._origin,i=this.geometry.type,n=this.geometry.getXScale(),r=this.geometry.getYScale(),o=this.geometry.getElementId(t);return"line"===i||"area"===i?o+=" "+e[n.field]:"path"===i&&(o+=" "+e[n.field]+"-"+e[r.field]),o},s.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,i=t.end;return new o.default(Math.min(e.x,i.x),Math.min(e.y,i.y),t.getWidth(),t.getHeight())},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}e.default=a;var l={};e.registerLabelComponent=function(t,e){l[t]=e},e.getLabelComponent=function(t){return l[t]}},function(t,e,i){"use strict";i.r(e),i.d(e,"Category",function(){return u}),i.d(e,"Identity",function(){return K}),i.d(e,"Linear",function(){return _}),i.d(e,"Log",function(){return k}),i.d(e,"Pow",function(){return B}),i.d(e,"Time",function(){return F}),i.d(e,"TimeCat",function(){return x}),i.d(e,"Quantile",function(){return N}),i.d(e,"Quantize",function(){return R}),i.d(e,"Scale",function(){return s}),i.d(e,"getScale",function(){return W}),i.d(e,"registerScale",function(){return q}),i.d(e,"getTickMethod",function(){return r});var ot=i(0),n={};function r(t){return n[t]}function o(t,e){n[t]=e}var a,s=(p.prototype.translate=function(t){return t},p.prototype.change=function(t){Object(ot.assign)(this.__cfg__,t),this.init()},p.prototype.clone=function(){return this.constructor(this.__cfg__)},p.prototype.getTicks=function(){var i=this;return Object(ot.map)(this.ticks,function(t,e){return Object(ot.isObject)(t)?t:{text:i.getText(t,e),tickValue:t,value:i.scale(t)}})},p.prototype.getText=function(t,e){var i=this.formatter,n=i?i(t,e):t;return Object(ot.isNil)(n)||!Object(ot.isFunction)(n.toString)?"":n.toString()},p.prototype.getConfig=function(t){return this.__cfg__[t]},p.prototype.init=function(){Object(ot.assign)(this,this.__cfg__),this.setDomain(),Object(ot.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},p.prototype.initCfg=function(){},p.prototype.setDomain=function(){},p.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(ot.isString)(t)){var i=r(t);if(!i)throw new Error("There is no method to to calculate ticks!");e=i(this)}else Object(ot.isFunction)(t)&&(e=t(this));return e},p.prototype.rangeMin=function(){return Object(ot.head)(this.range)},p.prototype.rangeMax=function(){return Object(ot.last)(this.range)},p.prototype.calcPercent=function(t,e,i){return Object(ot.isNumber)(t)?(t-e)/(i-e):NaN},p.prototype.calcValue=function(t,e,i){return e+t*(i-e)},p),l=i(1),u=(a=s,Object(l.__extends)(h,a),h.prototype.translate=function(t){var e=Object(ot.indexOf)(this.values,t);return-1===e?Object(ot.isNumber)(t)?t:NaN:e},h.prototype.scale=function(t){var e=this.translate(t),i=this.calcPercent(e,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},h.prototype.invert=function(t){var e=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),n=Math.round(e*i)+this.min;return n<this.min||n>this.max?NaN:this.values[n]},h.prototype.getText=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=t;return Object(ot.isNumber)(t)&&!this.values.includes(t)&&(n=this.values[n]),a.prototype.getText.apply(this,Object(l.__spreadArrays)([n],e))},h.prototype.initCfg=function(){this.tickMethod="cat"},h.prototype.setDomain=function(){var t;Object(ot.isNil)(this.getConfig("min"))&&(this.min=0),Object(ot.isNil)(this.getConfig("max"))&&(t=this.values.length,this.max=1<t?t-1:t)},h),c=i(36);function h(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}function p(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}function f(t,e){return(c.format||c.default.format)(t,e)}function d(t){return Object(ot.isString)(t)&&(t=0<t.indexOf("T")?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(ot.isDate)(t)&&(t=t.getTime()),t}var I=864e5,D=31*I,g=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",36e5],["HH",216e5],["HH",432e5],["YYYY-MM-DD",I],["YYYY-MM-DD",4*I],["YYYY-WW",7*I],["YYYY-MM",D],["YYYY-MM",4*D],["YYYY-MM",6*D],["YYYY",32832e6]];var y,v,m,x=(m=u,Object(l.__extends)(M,m),M.prototype.translate=function(t){t=d(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(ot.isNumber)(t)&&t<this.values.length?t:NaN),e},M.prototype.getText=function(t,e){var i=this.translate(t);if(-1<i){var n=this.values[i],r=this.formatter;return r?r(n,e):f(n,this.mask)}return t},M.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},M.prototype.setDomain=function(){var i=this.values;Object(ot.each)(i,function(t,e){i[e]=d(t)}),i.sort(function(t,e){return t-e}),m.prototype.setDomain.call(this)},M),b=(v=s,Object(l.__extends)(w,v),w.prototype.scale=function(t){if(Object(ot.isNil)(t))return NaN;var e=this.rangeMin(),i=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(i-e)},w.prototype.init=function(){v.prototype.init.call(this);var t=this.ticks,e=Object(ot.head)(t),i=Object(ot.last)(t);e<this.min&&(this.min=e),i>this.max&&(this.max=i),Object(ot.isNil)(this.minLimit)||(this.min=e),Object(ot.isNil)(this.maxLimit)||(this.max=i)},w.prototype.setDomain=function(){var t=Object(ot.getRange)(this.values),e=t.min,i=t.max;Object(ot.isNil)(this.min)&&(this.min=e),Object(ot.isNil)(this.max)&&(this.max=i),this.min>this.max&&(this.min=e,this.max=i)},w.prototype.calculateTicks=function(){var e=this,t=v.prototype.calculateTicks.call(this);return this.nice||(t=Object(ot.filter)(t,function(t){return t>=e.min&&t<=e.max})),t},w.prototype.getScalePercent=function(t){var e=this.max,i=this.min;return(t-i)/(e-i)},w.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},w),_=(y=b,Object(l.__extends)(O,y),O.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},O.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},O);function O(){var t=null!==y&&y.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}function w(){var t=null!==v&&v.apply(this,arguments)||this;return t.isContinuous=!0,t}function M(){return null!==m&&m.apply(this,arguments)||this}function C(t,e){var i=Math.E;return 0<=e?Math.pow(i,Math.log(e)/t):-1*Math.pow(i,Math.log(-e)/t)}function S(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function j(t,e,i){Object(ot.isNil)(i)&&(i=Math.max.apply(null,t));var n=i;return Object(ot.each)(t,function(t){0<t&&t<n&&(n=t)}),n===i&&(n=i/e),1<n&&(n=1),n}var P,T,A,E,L,k=(L=b,Object(l.__extends)(H,L),H.prototype.invert=function(t){var e,i=this.base,n=S(i,this.max),r=this.rangeMin(),o=this.rangeMax()-r,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(n-(e=S(i,a/i)))*o;if(t<s)return t/s*a}else e=S(i,this.min);var l=(t-r)/o*(n-e)+e;return Math.pow(i,l)},H.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},H.prototype.setDomain=function(){L.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=j(this.values,this.base,this.max))},H.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;if(t<=0)return 0;var n=this.base,r=this.positiveMin;return r&&(i=r/n),t<r?t/r/(S(n,e)-S(n,i)):(S(n,t)-S(n,i))/(S(n,e)-S(n,i))},H),B=(E=b,Object(l.__extends)(z,E),z.prototype.invert=function(t){var e=this.getInvertPercent(t),i=this.exponent,n=C(i,this.max),r=C(i,this.min),o=e*(n-r)+r,a=0<=o?1:-1;return Math.pow(o,i)*a},z.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},z.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var n=this.exponent;return(C(n,t)-C(n,i))/(C(n,e)-C(n,i))},z),F=(A=_,Object(l.__extends)(V,A),V.prototype.getText=function(t,e){var i=this.translate(t),n=this.formatter;return n?n(i,e):f(i,this.mask)},V.prototype.scale=function(t){var e=t;return(Object(ot.isString)(e)||Object(ot.isDate)(e))&&(e=this.translate(e)),A.prototype.scale.call(this,e)},V.prototype.translate=d,V.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},V.prototype.setDomain=function(){var i,n,r,o,t=this.values,e=this.getConfig("min"),a=this.getConfig("max");Object(ot.isNil)(e)&&Object(ot.isNumber)(e)||(this.min=this.translate(this.min)),Object(ot.isNil)(a)&&Object(ot.isNumber)(a)||(this.max=this.translate(this.max)),t&&t.length&&(i=[],r=n=1/0,o=0,Object(ot.each)(t,function(t){var e=d(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");e<n?(r=n,n=e):e<r&&(r=e),o<e&&(o=e),i.push(e)}),1<t.length&&(this.minTickInterval=r-n),Object(ot.isNil)(e)&&(this.min=n),Object(ot.isNil)(a)&&(this.max=o))},V),R=(T=b,Object(l.__extends)(X,T),X.prototype.invert=function(t){var e=this.ticks,i=e.length,n=this.getInvertPercent(t),r=Math.floor(n*(i-1));if(i-1<=r)return Object(ot.last)(e);if(r<0)return Object(ot.head)(e);var o=e[r],a=r/(i-1);return o+(n-a)/((r+1)/(i-1)-a)*(e[r+1]-o)},X.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},X.prototype.calculateTicks=function(){var t=T.prototype.calculateTicks.call(this);return this.nice||(Object(ot.last)(t)!==this.max&&t.push(this.max),Object(ot.head)(t)!==this.min&&t.unshift(this.min)),t},X.prototype.getScalePercent=function(i){var t=this.ticks;if(i<Object(ot.head)(t))return 0;if(i>Object(ot.last)(t))return 1;var n=0;return Object(ot.each)(t,function(t,e){if(!(t<=i))return!1;n=e}),n/(t.length-1)},X),N=(P=R,Object(l.__extends)(G,P),G.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},G),Y={};function G(){var t=null!==P&&P.apply(this,arguments)||this;return t.type="quantile",t}function X(){var t=null!==T&&T.apply(this,arguments)||this;return t.type="quantize",t}function V(){var t=null!==A&&A.apply(this,arguments)||this;return t.type="time",t}function z(){var t=null!==E&&E.apply(this,arguments)||this;return t.type="pow",t}function H(){var t=null!==L&&L.apply(this,arguments)||this;return t.type="log",t}function W(t){return Y[t]}function q(t,e){if(W(t))throw new Error("type '"+t+"' existed.");Y[t]=e}var U,K=(U=s,Object(l.__extends)(Z,U),Z.prototype.calculateTicks=function(){return this.values},Z.prototype.scale=function(t){return this.values[0]!==t&&Object(ot.isNumber)(t)?t:this.range[0]},Z.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},Z),at=[1,5,2,2.5,4,3],st=100*Number.EPSILON;function Z(){var t=null!==U&&U.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}function lt(t,e,i){var n=e-t;if(n<i){var r=(i-n)/2;return 1-Math.pow(r,2)/Math.pow(.1*n,2)}return 1}function $(t,e,i,n,r,o){if(void 0===i&&(i=5),void 0===n&&(n=!0),void 0===r&&(r=at),void 0===o&&(o=[.25,.2,.5,.05]),t===e||1===i)return{min:t,max:e,ticks:[t]};for(var a,s,l,u,c,h,p,f,d,g,y,v,m,x,b,_,O,w,M,C,S,j,P,T,A,E,L,k={score:-2,lmin:0,lmax:0,lstep:0},I=1;I<1/0;){for(var D=0,B=r;D<B.length;D++){var F=B[D],R=(T=F,A=r,E=I,L=Object(ot.size)(A),1-Object(ot.indexOf)(A,T)/(L-1)-E+1);if(Number.isNaN(R))throw new Error("NaN");if(o[0]*R+o[1]+o[2]+o[3]<k.score){I=1/0;break}for(var N=2;N<1/0;){var Y=(P=i)<=(j=N)?2-(j-1)/(P-1):1;if(o[0]*R+o[1]+o[2]*Y+o[3]<k.score)break;for(var G=(e-t)/(N+1)/I/F,X=Math.ceil(Math.log10(G));X<1/0;){var V=I*F*Math.pow(10,X),z=lt(t,e,V*(N-1));if(o[0]*R+o[1]*z+o[2]*Y+o[3]<k.score)break;var H=Math.floor(e/V)*I-(N-1)*I,W=Math.ceil(t/V)*I;if(W<H)X+=1;else{for(var q=H;q<=W;q+=1){var U=q*(V/I),K=U+V*(N-1),Z=V,$=(v=F,m=r,x=I,b=U,_=K,O=Z,C=void 0,w=Object(ot.size)(m),M=Object(ot.indexOf)(m,v),C=0,((S=(b%O+O)%O)<st||O-S<st)&&b<=0&&0<=_&&(C=1),1-M/(w-1)-x+C),Q=(d=U,g=K,y=(f=e)-(p=t),1-.5*(Math.pow(f-g,2)+Math.pow(p-d,2))/Math.pow(.1*y,2)),J=(a=t,s=e,0,c=(N-1)/((u=K)-(l=U)),h=(i-1)/(Math.max(u,s)-Math.min(a,l)),2-Math.max(c/h,h/c)),tt=o[0]*$+o[1]*Q+o[2]*J+ +o[3];tt>k.score&&(!n||U<=t&&e<=K)&&(k.lmin=U,k.lmax=K,k.lstep=Z,k.score=tt)}X+=1}}N+=1}}I+=1}for(var et=Number.isInteger(k.lstep)?0:Math.ceil(Math.abs(Math.log10(k.lstep))),it=[],nt=k.lmin;nt<=k.lmax;nt+=k.lstep)it.push(nt);var rt=et?Object(ot.map)(it,function(t){return Number.parseFloat(t.toFixed(et))}):it;return{min:Math.min(t,Object(ot.head)(rt)),max:Math.max(e,Object(ot.last)(rt)),ticks:rt}}function Q(t){var e=t.values,i=t.tickInterval,n=t.tickCount,r=e;if(Object(ot.isNumber)(i))return Object(ot.filter)(r,function(t,e){return e%i==0});var o=t.min,a=t.max;if(Object(ot.isNil)(o)&&(o=0),Object(ot.isNil)(a)&&(a=e.length-1),Object(ot.isNumber)(n)&&n<a-o){var s=$(o,a,n,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(ot.filter)(s,function(t){return o<=t&&t<=a}).map(function(t){return e[t]})}return e.slice(o,a+1)}var J=Math.sqrt(50),tt=Math.sqrt(10),et=Math.sqrt(2),it=(nt.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},nt.prototype.nice=function(t){var e,i;void 0===t&&(t=5);var n,r=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],o=(i=[a,o])[0],a=i[1]),0<(n=rt(s,l,t))?n=rt(s=Math.floor(s/n)*n,l=Math.ceil(l/n)*n,t):n<0&&(n=rt(s=Math.ceil(s*n)/n,l=Math.floor(l*n)/n,t)),0<n?(r[o]=Math.floor(s/n)*n,r[a]=Math.ceil(l/n)*n,this.domain(r)):n<0&&(r[o]=Math.ceil(s*n)/n,r[a]=Math.floor(l*n)/n,this.domain(r)),this},nt.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,i){var n,r,o,a,s=-1;if(i=+i,(t=+t)==(e=+e)&&0<i)return[t];if((n=e<t)&&(r=t,t=e,e=r),0===(a=rt(t,e,i))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return n&&o.reverse(),o}(this._domain[0],this._domain[this._domain.length-1],t||5)},nt);function nt(){this._domain=[0,1]}function rt(t,e,i){var n=(e-t)/Math.max(0,i),r=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,r);return 0<=r?(J<=o?10:tt<=o?5:et<=o?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(J<=o?10:tt<=o?5:et<=o?2:1)}function ut(t,e,i){return("ceil"===i?Math.ceil(t/e):"floor"===i?Math.floor(t/e):Math.round(t/e))*e}function ct(t,e,i){for(var n=ut(t,i,"floor"),r=ut(e,i,"ceil"),n=Object(ot.fixedBase)(n,i),r=Object(ot.fixedBase)(r,i),o=[],a=n;a<=r;a+=i){var s=Object(ot.fixedBase)(a,i);o.push(s)}return{min:n,max:r,ticks:o}}function ht(t,e,i){var n,r=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,l=t.tickCount,u=void 0===l?5:l,c=Object(ot.isNil)(r)?Object(ot.isNil)(e)?a:e:r,h=Object(ot.isNil)(o)?Object(ot.isNil)(i)?s:i:o;if(h<c&&(h=(n=[c,h])[0],c=n[1]),u<=2)return[c,h];for(var p=(h-c)/(u-1),f=[],d=0;d<u;d++)f.push(c+p*d);return f}function pt(t,e,i){void 0===i&&(i=5);var n={max:0,min:0,ticks:[]},r=(e-t)/i,o=Math.pow(10,Math.floor(Math.log10(r))),a=o<1?Math.ceil(Math.abs(Math.log10(o))):0,s=o;2*o-r<1.5*(r-s)&&5*o-r<2.75*(r-(s=2*o))&&10*o-r<1.5*(r-(s=5*o))&&(s=10*o);var l=Math.ceil(e/s),u=Math.floor(t/s);n.max=Math.max(l*s,e),n.min=Math.min(u*s,t);for(var c=Number.parseFloat((u*s).toFixed(a));c<e;)n.ticks.push(c),c+=s,a&&(c=Number.parseFloat(c.toFixed(a)));return n.ticks.push(c),n}function ft(t){return new Date(t).getFullYear()}function dt(t){return new Date(t).getMonth()}o("cat",Q),o("time-cat",function(t){var e=Q(t),i=Object(ot.last)(t.values);return i!==Object(ot.last)(e)&&e.push(i),e}),o("wilkinson-extended",function(t){var e=t.min,i=t.max,n=t.tickCount,r=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=$(e,i,n,r).ticks;return Object(ot.isNil)(a)&&Object(ot.isNil)(s)?o?ct(e,i,o).ticks:l:ht(t,Object(ot.head)(l),Object(ot.last)(l))}),o("r-pretty",function(t){var e=t.min,i=t.max,n=t.tickCount,r=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=pt(e,i,n).ticks;return Object(ot.isNil)(o)&&Object(ot.isNil)(a)?r?ct(e,i,r).ticks:s:ht(t,Object(ot.head)(s),Object(ot.last)(s))}),o("time",function(t){var e,s,i,n,r=t.min,o=t.max,a=t.minTickInterval,l=t.tickInterval,u=t.tickCount;l?u=Math.ceil((o-r)/l):(1<(e=(o-r)/(s=function(t){return t[1]},i=function(t,e,i,n){for(var r=Object(ot.isNil)(i)?0:i,o=Object(ot.isNil)(n)?t.length:n;r<o;){var a=r+o>>>1;s(t[a])>e?o=a:r=1+a}return r}(g,(o-r)/u)-1,n=g[i],i<0?n=g[0]:g.length<=i&&(n=Object(ot.last)(g)),l=n[1])/u)&&(l*=Math.ceil(e)),a&&l<a&&(l=a));for(var c=[],h=r;h<o+l;h+=l)c.push(h);return c}),o("time-pretty",function(t){var e=t.min,i=t.max,n=t.minTickInterval,r=t.tickInterval,o=t.tickCount,a=[];r||(r=(i-e)/o,n&&r<n&&(r=n));var s,l,u,c,h,p=ft(e);if(31536e6<r)for(var f=ft(i),d=Math.ceil(r/31536e6),g=p;g<=f+d;g+=d)a.push(new Date(g,0,1).getTime());else if(D<r)for(var y=Math.ceil(r/D),v=dt(e),m=(l=i,u=ft(s=e),c=ft(l),h=dt(s),12*(c-u)+(dt(l)-h)%12),g=0;g<=m+y;g+=y)a.push(new Date(p,g+v,1).getTime());else if(I<r){var x=(M=new Date(e)).getFullYear(),b=M.getMonth(),_=M.getDate(),O=Math.ceil(r/I),w=Math.ceil((i-e)/I);for(g=0;g<w+O;g+=O)a.push(new Date(x,b,_+g).getTime())}else if(36e5<r){x=(M=new Date(e)).getFullYear(),b=M.getMonth(),O=M.getDate();var M,C=M.getHours(),S=Math.ceil(r/36e5),j=Math.ceil((i-e)/36e5);for(g=0;g<=j+S;g+=S)a.push(new Date(x,b,O,C+g).getTime())}else if(6e4<r){var P=Math.ceil((i-e)/6e4),T=Math.ceil(r/6e4);for(g=0;g<=P+T;g+=T)a.push(e+6e4*g)}else{var A=r;A<1e3&&(A=1e3);var E=1e3*Math.floor(e/1e3),L=Math.ceil((i-e)/1e3),k=Math.ceil(A/1e3);for(g=0;g<L+k;g+=k)a.push(E+1e3*g)}return a}),o("log",function(t){for(var e,i,n=t.base,r=t.tickCount,o=t.min,a=t.max,s=t.values,l=S(n,a),u=l-(i=0<o?Math.floor(S(n,o)):(e=j(s,n,a),Math.floor(S(n,e)))),c=Math.ceil(u/r),h=[],p=i;p<l+c;p+=c)h.push(Math.pow(n,p));return o<=0&&h.unshift(0),h}),o("pow",function(t){var i=t.exponent,e=t.tickCount,n=Math.ceil(C(i,t.max));return pt(Math.floor(C(i,t.min)),n,e).ticks.map(function(t){var e=0<=t?1:-1;return Math.pow(t,i)*e})}),o("quantile",function(t){var e=t.tickCount,i=t.values;if(!i||!i.length)return[];for(var n,r,o,a=i.slice().sort(function(t,e){return t-e}),s=[],l=0;l<e;l++){var u=l/(e-1);s.push((r=u,o=(n=a).length*r,1===r?n[n.length-1]:0===r?n[0]:o%1!=0?n[Math.ceil(o)-1]:n.length%2==0?(n[o-1]+n[o])/2:n[o]))}return s}),o("d3-linear",function(t){var e,i,n,r,o,a=t.min,s=t.max,l=t.tickInterval,u=t.minLimit,c=t.maxLimit,h=(e=t.min,i=t.max,n=t.nice,r=t.tickCount,(o=new it).domain([e,i]),n&&o.nice(r),o.ticks(r));return Object(ot.isNil)(u)&&Object(ot.isNil)(c)?l?ct(a,s,l).ticks:h:ht(t,Object(ot.head)(h),Object(ot.last)(h))}),q("cat",u),q("category",u),q("identity",K),q("linear",_),q("log",k),q("pow",B),q("time",F),q("timeCat",x),q("quantize",R),q("quantile",N)},function(t,e,i){"use strict";i.r(e);var n=(r.prototype.on=function(t,e,i){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!i}),this},r.prototype.once=function(t,e){return this.on(t,e,!0),this},r.prototype.emit=function(o){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];function e(t){for(var e,i,n=t.length,r=0;r<n;r++)t[r]&&(i=(e=t[r]).callback,e.once&&(t.splice(r,1),0===t.length&&delete a._events[o],n--,r--),i.apply(a,s))}var i=this._events[o]||[],n=this._events["*"]||[];e(i),e(n)},r.prototype.off=function(t,e){if(t)if(e){for(var i=this._events[t]||[],n=i.length,r=0;r<n;r++)i[r].callback===e&&(i.splice(r,1),n--,r--);0===i.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},r.prototype.getEvents=function(){return this._events},r);function r(){this._events={}}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(80);e.default=function(t){return Array.isArray?Array.isArray(t):n.default(t,"Array")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStrokePoints=e.dist2=e.sturges=e.getMean=e.getMedian=e.lineSimplification=e.angleTo=e.sub2D=e.crossProduct3D=e.crossProduct2D=e.dotProduct2D=e.bboxOnRotate=e.minDistBetweenConvexPolygon=e.isPolygonIntersection=e.distBetweenPointLine=e.distBetweenPoints=e.isPointInPolygon=e.getLineIntersect=e.isBetween=e.applyMatrix=void 0;var r=i(3),c=i(0);function a(t){var e=0;return c.each(t,function(t){e+=t*t}),Math.sqrt(e)}function s(t,e){return t.x*e.y+t.y*e.x}function w(t,e,i){void 0===i&&(i=1);var n=[t.x,t.y,i];return r.vec3.transformMat3(n,n,e),{x:n[0],y:n[1]}}function f(t,e,i){return e<=t&&t<=i}function o(t,e){for(var i=!1,n=0,r=e.length-1;n<e.length;r=n++){var o=e[n].x,a=e[n].y,s=e[r].x,l=e[r].y;a>t.y!=l>t.y&&t.x<=(s-o)*(t.y-a)/(l-a)+o&&(i=!i)}return i}function n(t){return t*t}function h(t,e){return Math.sqrt(n(t.x-e.x)+n(t.y-e.y))}function p(t,e,i){var n=h(e,i);if(0===n)return h(t,e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n,r=Math.max(0,Math.min(1,r)),o=h(t,{x:e.x+r*(i.x-e.x),y:e.y+r*(i.y-e.y)});return Math.sqrt(o)}function l(i,t){var n=1/0;c.each(t,function(t){var e=Math.sqrt(h(t,i));e<n&&(n=e)});for(var e=0,r=t.length-1;e<t.length;r=e++){var o=t[e].x,a=t[e].y,s=t[r].x,l=t[r].y,u=p(i,{x:o,y:a},{x:s,y:l});u<n&&(n=u)}return n}function u(t,e){for(var i=0,n=t;i<n.length;i++)if(o(n[i],e))return!0;return!1}e.dotProduct2D=s,e.angleTo=function(t,e){var i=a(t),n=a(e),r=s(t,e);return Math.acos(r/i/n)},e.crossProduct2D=function(t,e){var i=a(t),n=a(e),r=s(t,e),o=Math.acos(r/i/n);return i*n*Math.sin(o)},e.crossProduct3D=function(t,e){var i=t.x,n=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return{x:n*s-r*a,y:r*o-i*s,z:i*a-n*o}},e.sub2D=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.applyMatrix=w,e.isBetween=f,e.getLineIntersect=function(t,e,i,n){var r,o=i.x-t.x,a=i.y-t.y,s=e.x-t.x,l=e.y-t.y,u=n.x-i.x,c=n.y-i.y,h=s*c-l*u,p=null;return.001*(s*s+l*l)*(u*u+c*c)<h*h&&(f(r=(o*c-a*u)/h,0,1)&&f((o*l-a*s)/h,0,1)&&(p={x:t.x+r*s,y:t.y+r*l})),p},e.isPointInPolygon=o,e.dist2=h,e.distBetweenPoints=function(t,e){return Math.sqrt(n(t.x-e.x)+n(t.y-e.y))},e.distBetweenPointLine=p,e.isPolygonIntersection=u,e.minDistBetweenConvexPolygon=function(i,n){if(u(i,n))return 0;var r=1/0,o=1/0;return c.each(i,function(t){var e=l(t,n);e<r&&(r=e)}),c.each(n,function(t){var e=l(t,i);e<o&&(o=e)}),Math.min(r,o)},e.bboxOnRotate=function(t){var e,i=t.getBBox(),n=i.minX,r=i.minY,o=i.maxX-i.minX,a=i.maxY-i.minY,s=t.attr("matrix"),l=w({x:0,y:0},e=s?[s[0],s[1],0,s[3],s[4],0,0,0,1]:[1,0,0,0,1,0,0,0,1]);l.x+=n,l.y+=r;var u=w({x:o,y:0},e);u.x+=n,u.y+=r;var c=w({x:0,y:a},e);c.x+=n,c.y+=r;var h=w({x:o,y:a},e);h.x+=n,h.y+=r;var p=[l,u,c,h];p.sort(function(t,e){return t.y-e.y});var f=p[0].y,d=p[p.length-1].y,g=[p[0],p[1]],y=[p[2],p[3]],v=g[0].x<g[1].x?g[0]:g[1],m=g[0].x<g[1].x?g[1]:g[0],x=y[0].x<y[1].x?y[0]:y[1],b=y[0].x<y[1].x?y[1]:y[0];p.sort(function(t,e){return t.x-e.x});var _=p[0].x,O=p[p.length-1].x;return{width:O-_,height:d-f,left:_,right:O,top:f,bottom:d,topLeft:v,topRight:m,bottomLeft:x,bottomRight:b,centerX:_+(O-_)/2,centerY:f+(d-f)/2}},e.lineSimplification=function(t){return t.length<5?t:function t(e,i){for(var n,r,o=-1/0,a=0,s=e.length-1,l=1;l<s;l++){var u=e[l],c={start:e[0],end:e[s]},h=p(u,c.start,c.end);o<h&&(o=h,a=l)}return i<o?(n=t(e.slice(0,a+1),i),r=t(e.slice(a,e.length),i),n.concat(r)):[e[0],e[e.length-1]]}(t,2)},e.getMedian=function(t){var e=c.clone(t);e.sort(function(t,e){return t-e});var i=Math.floor(e.length/2);return e.length%2?e[i]:(e[i-1]+e[i])/2},e.getMean=function(t){var e=0;return c.each(t,function(t){e+=t}),e/t.length},e.sturges=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},e.getStrokePoints=function(t,e,i,n,r){void 0===r&&(r=2);for(var o=[],a=t;a<=t+i;a+=r)o.push([a,e]);for(var s=e;s<=e+n;s+=r)o.push([t+i,s]);for(a=t+i;t<=a;a-=r)o.push([a,e+n]);for(s=e+n;e<=s;s-=r)o.push([t,s]);return o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkShapeOverlap=e.getOverlapArea=e.moveInPanel=e.checkOriginEqual=e.forEachElement=e.forEachGeometry=e.getGeometryShapes=e.getGeometryByType=e.getAllGeometryByType=void 0;var n=i(0),r=i(8);function o(t,e){return n.filter(t.geometries,function(t){return t.type===e})}function a(t,e,i){return void 0===i&&(i=0),Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i))*Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i))}e.getAllGeometryByType=o,e.getGeometryByType=function(t,e){return n.head(o(t,e))},e.getGeometryShapes=function(t){return n.map(t.elements,function(t){return t.shape})},e.forEachGeometry=function(t,e){t.geometries.forEach(e)},e.forEachElement=function(t,e){t.geometries.forEach(function(t){t.elements.forEach(function(t){e(t)})})},e.checkOriginEqual=function(e,t,i){return n.some(t,function(t){return i(t.get(r.ORIGIN),e.get(r.ORIGIN))})},e.moveInPanel=function(t,e){var i=t.getBBox(),n=0,r=0;i.minX<e.minX?n=i.minX-e.minX:i.maxX>e.maxX&&(n=i.maxX-e.maxX),n&&t.attr("x",t.attr("x")-n),i.minY<e.minY?r=i.minY-e.minY:i.maxY>e.maxY&&(r=i.maxY-e.maxY),r&&t.attr("y",t.attr("y")-r)},e.getOverlapArea=a,e.checkShapeOverlap=function(t,e){var i=t.getBBox();return n.some(e,function(t){var e=t.getBBox();return 0<a(i,e,2)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentStateMethod=e.getComponent=void 0;var n=i(1),r=n.__importDefault(i(239)),o=n.__importDefault(i(240)),a=n.__importDefault(i(241)),s=n.__importDefault(i(242)),l=n.__importDefault(i(243)),u=n.__importDefault(i(244)),c={axis:r.default,label:a.default,guideLine:o.default},h={tooltip:u.default,label:l.default,axis:s.default};e.getComponent=function(t,e){return new c[t](e).config},e.getComponentStateMethod=function(t,e){return h[t][e]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trySetScaleMinToZero=e.extractScale=void 0;var o=i(0),a=i(135);e.extractScale=function(t,e){if(!e)return t;var i,n,r,o;Object.prototype.hasOwnProperty.call(e,"tickCount")&&(t.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,"type")&&"dateTime"!==e.type&&(t.type=e.type),Object.prototype.hasOwnProperty.call(e,"tickInterval")&&("time"===e.type?t.tickInterval=(i=e.tickInterval,r=a.timeIntervals[(n=i.split(" "))[1]],o=parseInt(n[0],10),[r.format,o*r.value]):t.tickInterval=e.tickInterval),"time"===e.type&&e.mask&&(t.mask=e.mask),Object.prototype.hasOwnProperty.call(e,"min")&&(t.min=e.min),Object.prototype.hasOwnProperty.call(e,"max")&&(t.max=e.max),Object.prototype.hasOwnProperty.call(e,"minLimit")&&(t.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,"maxLimit")&&(t.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,"nice")&&(t.nice=e.nice),Object.prototype.hasOwnProperty.call(e,"formatter")&&(t.formatter=e.formatter),Object.prototype.hasOwnProperty.call(e,"exponent")&&(t.exponent=e.exponent),Object.prototype.hasOwnProperty.call(e,"base")&&(t.base=e.base),e.tickMethod&&(t.tickMethod=e.tickMethod)},e.trySetScaleMinToZero=function(t,e){var i=o.filter(e,function(t){return o.isNumber(t)}),n=Math.min.apply(Math,i),r=Math.max.apply(Math,i);0<n?o.isNil(t.min)&&(t.min=0):r<0&&o.isNil(t.max)&&(t.max=0)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isContrastColorWhite=e.mappingColor=e.arr2rgb=e.toHex=e.rgb2arr=void 0;var n=i(0);function r(t){var e=0===t.indexOf("#")?t.substr(1):t,i=[];return i.push(parseInt(e.substr(0,2),16)),i.push(parseInt(e.substr(2,2),16)),i.push(parseInt(e.substr(4,2),16)),i}function o(t){var e;return 1===(e=(e=Math.round(t)).toString(16)).length&&(e="0"+t),e}e.rgb2arr=r,e.toHex=o,e.arr2rgb=function(t){return"#"+(o(t[0])+o(t[1])+o(t[2]))},e.mappingColor=function(t,e){var i;return n.each(t,function(t){e>=t.from&&e<t.to&&(i=t.color)}),i},e.isContrastColorWhite=function(t){var e=r(t);return(299*e[0]+587*e[1]+114*e[2])/1e3<128}},function(t,e,i){"use strict";function r(t){return Math.min.apply(null,t)}function o(t){return Math.max.apply(null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.distance=function(t,e,i,n){var r=t-i,o=e-n;return Math.sqrt(r*r+o*o)},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.getBBoxByArray=function(t,e){var i=r(t),n=r(e);return{x:i,y:n,width:o(t)-i,height:o(e)-n}},e.getBBoxRange=function(t,e,i,n){return{minX:r([t,i]),maxX:o([t,i]),minY:r([e,n]),maxY:o([e,n])}},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(80);e.default=function(t){return n.default(t,"String")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),a=i(60);e.default=function(t,e){if(t)if(o.default(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(a.default(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CROSSHAIR_Y=e.CROSSHAIR_X=e.NAME_CLASS=e.VALUE_CLASS=e.MARKER_CLASS=e.LIST_ITEM_CLASS=e.LIST_CLASS=e.TITLE_CLASS=e.CONTAINER_CLASS=void 0,e.CONTAINER_CLASS="g2-tooltip",e.TITLE_CLASS="g2-tooltip-title",e.LIST_CLASS="g2-tooltip-list",e.LIST_ITEM_CLASS="g2-tooltip-list-item",e.MARKER_CLASS="g2-tooltip-marker",e.VALUE_CLASS="g2-tooltip-value",e.NAME_CLASS="g2-tooltip-name",e.CROSSHAIR_X="g2-tooltip-crosshair-x",e.CROSSHAIR_Y="g2-tooltip-crosshair-y"},function(t,e,i){"use strict";t.exports=function(){}},function(t,e,i){"use strict";i.r(e),i.d(e,"Base",function(){return h}),i.d(e,"Circle",function(){return p}),i.d(e,"Ellipse",function(){return v}),i.d(e,"Image",function(){return _}),i.d(e,"Line",function(){return P}),i.d(e,"Marker",function(){return D}),i.d(e,"Path",function(){return tt}),i.d(e,"Polygon",function(){return ot}),i.d(e,"Polyline",function(){return lt}),i.d(e,"Rect",function(){return dt}),i.d(e,"Text",function(){return yt});var n={};i.r(n),i.d(n,"Base",function(){return h}),i.d(n,"Circle",function(){return p}),i.d(n,"Ellipse",function(){return v}),i.d(n,"Image",function(){return _}),i.d(n,"Line",function(){return P}),i.d(n,"Marker",function(){return D}),i.d(n,"Path",function(){return tt}),i.d(n,"Polygon",function(){return ot}),i.d(n,"Polyline",function(){return lt}),i.d(n,"Rect",function(){return dt}),i.d(n,"Text",function(){return yt});var r,o,a=i(1),s=i(10),T=i(5),l=i(14),u=i(74),c=i(48),h=(o=s.AbstractShape,Object(a.__extends)(d,o),d.prototype.getDefaultAttrs=function(){var t=o.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},d.prototype.getShapeBase=function(){return n},d.prototype.getGroupBase=function(){return c.a},d.prototype.onCanvasChange=function(t){Object(l.f)(this,t)},d.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),i=Object(u.getBBoxMethod)(t)(this),n=e/2,r=i.x-n,o=i.y-n,a=i.x+i.width+n,s=i.y+i.height+n;return{x:r,minX:r,y:o,minY:o,width:i.width+e,height:i.height+e,maxX:a,maxY:s}},d.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},d.prototype.isStroke=function(){return!!this.attrs.stroke},d.prototype._applyClip=function(t,e){e&&(t.save(),Object(l.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},d.prototype.draw=function(t,e){var i=this.getClip();if(e){var n=i?Object(l.d)([this,i]):this.getCanvasBBox();if(!Object(T.f)(e,n))return void this.set("hasChanged",!1)}t.save(),Object(l.a)(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},d.prototype._afterDraw=function(){var t,e=this.getCanvasBBox(),i=this.getCanvas();this.set("cacheCanvasBBox",e),i&&(t=i.getViewRange(),this.set("isInView",Object(T.f)(e,t))),this.set("hasChanged",!1)},d.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},d.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},d.prototype.fill=function(t){t.fill()},d.prototype.stroke=function(t){t.stroke()},d.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,n=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(Object(T.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=n)),this.isStroke()&&0<i&&(Object(T.i)(r)||1===r||(t.globalAlpha=r),this.stroke(t)),this.afterDrawPath(t)},d.prototype.createPath=function(t){},d.prototype.afterDrawPath=function(t){},d.prototype.isInShape=function(t,e){var i=this.isStroke(),n=this.isFill(),r=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,i,n,r)},d.prototype.isInStrokeOrPath=function(t,e,i,n,r){return!1},d.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},d),p=(r=h,Object(a.__extends)(f,r),f.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,r:0})},f.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o=this.attr(),a=o.x,s=o.y,l=o.r,u=r/2,c=Object(T.b)(a,s,t,e);return n&&i?c<=l+u:n?c<=l:!!i&&l-u<=c&&c<=l+u},f.prototype.createPath=function(t){var e=this.attr(),i=e.x,n=e.y,r=e.r;t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.closePath()},f);function f(){return null!==r&&r.apply(this,arguments)||this}function d(){return null!==o&&o.apply(this,arguments)||this}function g(t,e,i,n){return t/(i*i)+e/(n*n)}var y,v=(y=h,Object(a.__extends)(m,y),m.prototype.getDefaultAttrs=function(){var t=y.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,rx:0,ry:0})},m.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o=this.attr(),a=r/2,s=o.x,l=o.y,u=o.rx,c=o.ry,h=(t-s)*(t-s),p=(e-l)*(e-l);return n&&i?g(h,p,u+a,c+a)<=1:n?g(h,p,u,c)<=1:!!i&&1<=g(h,p,u-a,c-a)&&g(h,p,u+a,c+a)<=1},m.prototype.createPath=function(t){var e,i,n,r=this.attr(),o=r.x,a=r.y,s=r.rx,l=r.ry;t.beginPath(),t.ellipse?t.ellipse(o,a,s,l,0,0,2*Math.PI,!1):(e=l<s?s:l,i=l<s?1:s/l,n=l<s?l/s:1,t.save(),t.translate(o,a),t.scale(i,n),t.arc(0,0,e,0,2*Math.PI),t.restore(),t.closePath())},m);function m(){return null!==y&&y.apply(this,arguments)||this}function x(t){return t instanceof HTMLElement&&Object(T.k)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var b,_=(b=h,Object(a.__extends)(M,b),M.prototype.getDefaultAttrs=function(){var t=b.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,width:0,height:0})},M.prototype.initAttrs=function(t){this._setImage(t.img)},M.prototype.isStroke=function(){return!1},M.prototype.isOnlyHitBox=function(){return!0},M.prototype._afterLoading=function(){var t;!0===this.get("toDraw")&&((t=this.get("canvas"))?t.draw():this.createPath(this.get("context")))},M.prototype._setImage=function(t){var e,i=this,n=this.attrs;Object(T.k)(t)?((e=new Image).onload=function(){if(i.destroyed)return!1;i.attr("img",e),i.set("loading",!1),i._afterLoading();var t=i.get("callback");t&&t.call(i)},e.src=t,e.crossOrigin="Anonymous",this.set("loading",!0)):t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):x(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},M.prototype.onAttrChange=function(t,e,i){b.prototype.onAttrChange.call(this,t,e,i),"img"===t&&this._setImage(e)},M.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),i=e.x,n=e.y,r=e.width,o=e.height,a=e.sx,s=e.sy,l=e.swidth,u=e.sheight,c=e.img;(c instanceof Image||x(c))&&(Object(T.i)(a)||Object(T.i)(s)||Object(T.i)(l)||Object(T.i)(u)?t.drawImage(c,i,n,r,o):t.drawImage(c,a,s,l,u,i,n,r,o))},M),O=i(18),w=i.n(O);function M(){return null!==b&&b.apply(this,arguments)||this}function A(t,e,i,n,r,o,a){var s=Math.min(t,i),l=Math.max(t,i),u=Math.min(e,n),c=Math.max(e,n),h=r/2;return s-h<=o&&o<=l+h&&u-h<=a&&a<=c+h&&w.a.pointToLine(t,e,i,n,o,a)<=r/2}var C,S,j=i(19),P=(S=h,Object(a.__extends)(X,S),X.prototype.getDefaultAttrs=function(){var t=S.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},X.prototype.initAttrs=function(t){this.setArrow()},X.prototype.onAttrChange=function(t,e,i){S.prototype.onAttrChange.call(this,t,e,i),this.setArrow()},X.prototype.setArrow=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,r=t.y2,o=t.startArrow,a=t.endArrow;o&&j.b(this,t,n,r,e,i),a&&j.a(this,t,e,i,n,r)},X.prototype.isInStrokeOrPath=function(t,e,i,n,r){if(!i||!r)return!1;var o=this.attr();return A(o.x1,o.y1,o.x2,o.y2,r,t,e)},X.prototype.createPath=function(t){var e=this.attr(),i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(l=j.c(i,n,r,o,e.startArrow.d)),s&&s.d&&(u=j.c(i,n,r,o,e.endArrow.d)),t.beginPath(),t.moveTo(i+l.dx,n+l.dy),t.lineTo(r-u.dx,o-u.dy)},X.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},X.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,r=t.y2;return w.a.length(e,i,n,r)},X.prototype.getPoint=function(t){var e=this.attr(),i=e.x1,n=e.y1,r=e.x2,o=e.y2;return w.a.pointAt(i,n,r,o,t)},X),E=i(0),L=i(76),k=i.n(L),I={circle:function(t,e,i){return[["M",t-i,e],["A",i,i,0,1,0,t+i,e],["A",i,i,0,1,0,t-i,e]]},square:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e-i],["L",t+i,e+i],["L",t-i,e+i],["Z"]]},diamond:function(t,e,i){return[["M",t-i,e],["L",t,e-i],["L",t+i,e],["L",t,e+i],["Z"]]},triangle:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e+n],["L",t,e-n],["L",t+i,e+n],["Z"]]},"triangle-down":function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e-n],["L",t+i,e-n],["L",t,e+n],["Z"]]}},D=(C=h,Object(a.__extends)(G,C),G.prototype.initAttrs=function(t){this._resetParamsCache()},G.prototype._resetParamsCache=function(){this.set("paramsCache",{})},G.prototype.onAttrChange=function(t,e,i){C.prototype.onAttrChange.call(this,t,e,i),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},G.prototype.isOnlyHitBox=function(){return!0},G.prototype._getR=function(t){return Object(E.isNil)(t.r)?t.radius:t.r},G.prototype._getPath=function(){var t,e=this.attr(),i=e.x,n=e.y,r=e.symbol||"circle",o=this._getR(e),a=Object(T.h)(r)?(a=(t=r)(i,n,o),k()(a)):(t=G.Symbols[r])(i,n,o);return t?a:(console.warn(r+" marker is not supported."),null)},G.prototype.createPath=function(t){var e=this._getPath(),i=this.get("paramsCache");Object(l.c)(this,t,{path:e},i)},G.Symbols=I,G),B=i(41),F=i.n(B),R=i(112),N=i.n(R),Y=i(110);function G(){return null!==C&&C.apply(this,arguments)||this}function X(){return null!==S&&S.apply(this,arguments)||this}function V(t,e,i){var n=Object(Y.getOffScreenContext)();return t.createPath(n),n.isPointInPath(e,i)}function z(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function H(t,e,i){var n=!1,r=t.length;if(r<=2)return!1;for(var o,a,s,l=0;l<r;l++){var u=t[l],c=t[(l+1)%r];if(a=c,((s=[e,i])[0]-(o=u)[0])*(a[1]-o[1])==(a[0]-o[0])*(s[1]-o[1])&&Math.min(o[0],a[0])<=s[0]&&s[0]<=Math.max(o[0],a[0])&&Math.min(o[1],a[1])<=s[1]&&s[1]<=Math.max(o[1],a[1]))return!0;0<z(u[1]-i)!=0<z(c[1]-i)&&z(e-(i-u[1])*(u[0]-c[0])/(u[1]-c[1])-u[0])<0&&(n=!n)}return n}var W=i(111),q=i.n(W);function U(t,e,i,n,r,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(l<n||r<l)return!1;var u={x:t+i*Math.cos(l),y:e+i*Math.sin(l)};return Object(T.b)(u.x,u.y,a,s)<=o/2}var K=i(49),Z=i(72),$=Object(a.__assign)({hasArc:function(t){for(var e=!1,i=t.length,n=0;n<i;n++){var r=t[n][0];if("C"===r||"A"===r||"Q"===r){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,i=[],n=[],r=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(r.length&&(n.push(r),r=[]),r.push([a[1],a[2]])):"Z"===s?r.length&&(i.push(r),r=[]):r.push([a[1],a[2]])}return 0<r.length&&n.push(r),{polygons:i,polylines:n}},isPointInStroke:function(t,e,i,n){for(var r=!1,o=e/2,a=0;a<t.length;a++){var s=t[a],l=s.currentPoint,u=s.params,c=s.prePoint,h=s.box;if(!h||Object(T.e)(h.x-o,h.y-o,h.width+e,h.height+e,i,n)){switch(s.command){case"L":case"Z":r=A(c[0],c[1],l[0],l[1],e,i,n);break;case"Q":r=q.a.pointDistance(c[0],c[1],u[1],u[2],u[3],u[4],i,n)<=e/2;break;case"C":r=F.a.pointDistance(c[0],c[1],u[1],u[2],u[3],u[4],u[5],u[6],i,n)<=e/2;break;case"A":var p=s.arcParams,f=p.cx,d=p.cy,g=p.rx,y=p.ry,v=p.startAngle,m=p.endAngle,x=p.xRotation,b=[i,n,1],_=[1,0,0,0,1,0,0,0,1],O=y<g?g:y,w=y<g?1:g/y,M=y<g?y/g:1;K.translate(_,_,[-f,-d]),K.rotate(_,_,-x),K.scale(_,_,[1/w,1/M]),Z.transformMat3(b,b,_),r=U(0,0,O,v,m,e,b[0],b[1])}if(r)break}}return r}},s.PathUtil);function Q(t,e,i){for(var n=!1,r=0;r<t.length&&!(n=H(t[r],e,i));r++);return n}var J,tt=(J=h,Object(a.__extends)(et,J),et.prototype.getDefaultAttrs=function(){var t=J.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{startArrow:!1,endArrow:!1})},et.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},et.prototype.onAttrChange=function(t,e,i){J.prototype.onAttrChange.call(this,t,e,i),"path"===t&&this._setPathArr(e),this.setArrow()},et.prototype._setPathArr=function(t){this.attrs.path=k()(t);var e=$.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},et.prototype.getSegments=function(){var t=this.get("segements");return t||(t=N()(this.attr("path")),this.set("segments",t)),t},et.prototype.setArrow=function(){var t,e=this.attr(),i=e.startArrow,n=e.endArrow;i&&(t=this.getStartTangent(),j.b(this,e,t[0][0],t[0][1],t[1][0],t[1][1])),n&&(t=this.getEndTangent(),j.a(this,e,t[0][0],t[0][1],t[1][0],t[1][1]))},et.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o,a,s=this.getSegments(),l=this.get("hasArc"),u=!1;return i&&(u=$.isPointInStroke(s,r,t,e)),!u&&n&&(u=l?V(this,t,e):(o=this.attr("path"),Q((a=$.extractPolygons(o)).polygons,t,e)||Q(a.polylines,t,e))),u},et.prototype.createPath=function(t){var e=this.attr(),i=this.get("paramsCache");Object(l.c)(this,t,e,i)},et.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},et.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(E.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},et.prototype.getPoint=function(i){var n,r,t=this.get("tCache");t||(this._calculateCurve(),this._setTcache(),t=this.get("tCache"));var e=this.get("curve");if(!t||0===t.length)return e?{x:e[0][1],y:e[0][2]}:null;Object(E.each)(t,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),r=e)});var o=e[r];if(Object(E.isNil)(o)||Object(E.isNil)(r))return null;var a=o.length,s=e[r+1];return F.a.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],n)},et.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",$.pathToCurve(t))},et.prototype._setTcache=function(){var i,n,r,o,a=0,s=0,l=[],u=this.get("curve");u&&(Object(E.each)(u,function(t,e){r=u[e+1],o=t.length,r&&(a+=F.a.length(t[o-2],t[o-1],r[1],r[2],r[3],r[4],r[5],r[6])||0)}),this.set("totalLength",a),0!==a?(Object(E.each)(u,function(t,e){r=u[e+1],o=t.length,r&&((i=[])[0]=s/a,n=F.a.length(t[o-2],t[o-1],r[1],r[2],r[3],r[4],r[5],r[6]),s+=n||0,i[1]=s/a,l.push(i))}),this.set("tCache",l)):this.set("tCache",[]))},et.prototype.getStartTangent=function(){var t,e,i,n,r=this.getSegments();return 1<r.length&&(t=r[0].currentPoint,e=r[1].currentPoint,n=[],(i=r[1].startTangent)?n.push([t[0]-i[0],t[1]-i[1]]):n.push([e[0],e[1]]),n.push([t[0],t[1]])),n},et.prototype.getEndTangent=function(){var t,e,i,n,r=this.getSegments(),o=r.length;return 1<o&&(t=r[o-2].currentPoint,e=r[o-1].currentPoint,n=[],(i=r[o-1].endTangent)?n.push([e[0]-i[0],e[1]-i[1]]):n.push([t[0],t[1]]),n.push([e[0],e[1]])),n},et);function et(){return null!==J&&J.apply(this,arguments)||this}function it(t,e,i,n,r){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++)if(A(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,i,n))return!0;if(r){var s=t[0],l=t[o-1];if(A(s[0],s[1],l[0],l[1],e,i,n))return!0}return!1}var nt,rt,ot=(rt=h,Object(a.__extends)(ht,rt),ht.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o=this.attr().points,a=!1;return i&&(a=it(o,r,t,e,!0)),!a&&n&&(a=H(o,t,e)),a},ht.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var i=0;i<e.length;i++){var n=e[i];0===i?t.moveTo(n[0],n[1]):t.lineTo(n[0],n[1])}t.closePath()}},ht),at=i(77),st=i.n(at),lt=(nt=h,Object(a.__extends)(ct,nt),ct.prototype.getDefaultAttrs=function(){var t=nt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{startArrow:!1,endArrow:!1})},ct.prototype.initAttrs=function(t){this.setArrow()},ct.prototype.onAttrChange=function(t,e,i){nt.prototype.onAttrChange.call(this,t,e,i),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},ct.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},ct.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,i=e.points,n=e.startArrow,r=e.endArrow,o=i.length,a=i[0][0],s=i[0][1],l=i[o-1][0],u=i[o-1][1];n&&j.b(this,t,i[1][0],i[1][1],a,s),r&&j.a(this,t,i[o-2][0],i[o-2][1],l,u)},ct.prototype.isFill=function(){return!1},ct.prototype.isInStrokeOrPath=function(t,e,i,n,r){return!(!i||!r)&&it(this.attr().points,r,t,e,!1)},ct.prototype.isStroke=function(){return!0},ct.prototype.createPath=function(t){var e=this.attr(),i=e.points,n=e.startArrow,r=e.endArrow,o=i.length;if(!(i.length<2)){var a,s=i[0][0],l=i[0][1],u=i[o-1][0],c=i[o-1][1];n&&n.d&&(s+=(a=j.c(s,l,i[1][0],i[1][1],n.d)).dx,l+=a.dy),r&&r.d&&(u-=(a=j.c(i[o-2][0],i[o-2][1],u,c,r.d)).dx,c-=a.dy),t.beginPath(),t.moveTo(s,l);for(var h=0;h<o-1;h++){var p=i[h];t.lineTo(p[0],p[1])}t.lineTo(u,c)}},ct.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},ct.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(E.isNil)(e)?(this.set("totalLength",st.a.length(t)),this.get("totalLength")):e},ct.prototype.getPoint=function(i){var n,r,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(E.each)(e,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),r=e)}),w.a.pointAt(t[r][0],t[r][1],t[r+1][0],t[r+1][1],n)},ct.prototype._setTcache=function(){var i,n,r,o,a,s=this.attr().points;s&&0!==s.length&&((i=this.getTotalLength())<=0||(o=0,a=[],Object(E.each)(s,function(t,e){s[e+1]&&((n=[])[0]=o/i,r=w.a.length(t[0],t[1],s[e+1][0],s[e+1][1]),o+=r,n[1]=o/i,a.push(n))}),this.set("tCache",a)))},ct.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},ct.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},ct),ut=i(73);function ct(){return null!==nt&&nt.apply(this,arguments)||this}function ht(){return null!==rt&&rt.apply(this,arguments)||this}var pt,ft,dt=(ft=h,Object(a.__extends)(mt,ft),mt.prototype.getDefaultAttrs=function(){var t=ft.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},mt.prototype.isInStrokeOrPath=function(t,e,i,n,r){var o,a,s,l,u,c,h,p,f=this.attr(),d=f.x,g=f.y,y=f.width,v=f.height,m=f.radius;if(m){var x=!1;return i&&(l=v,x=A((o=d)+(u=m),a=g,o+(s=y)-u,a,c=r,h=t,p=e)||A(o+s,a+u,o+s,a+l-u,c,h,p)||A(o+s-u,a+l,o+u,a+l,c,h,p)||A(o,a+l-u,o,a+u,c,h,p)||U(o+s-u,a+u,u,1.5*Math.PI,2*Math.PI,c,h,p)||U(o+s-u,a+l-u,u,0,.5*Math.PI,c,h,p)||U(o+u,a+l-u,u,.5*Math.PI,Math.PI,c,h,p)||U(o+u,a+u,u,Math.PI,1.5*Math.PI,c,h,p)),!x&&n&&(x=V(this,t,e)),x}var b,_,O,w,M,C,S,j,P=r/2;return n&&i?Object(T.e)(d-P,g-P,y+P,v+P,t,e):n?Object(T.e)(d,g,y,v,t,e):i?(b=d,_=g,O=y,w=v,C=t,S=e,j=(M=r)/2,Object(T.e)(b-j,_-j,O,M,C,S)||Object(T.e)(b+O-j,_-j,M,w,C,S)||Object(T.e)(b+j,_+w-j,O,M,C,S)||Object(T.e)(b-j,_+j,M,w,C,S)):void 0},mt.prototype.createPath=function(t){var e,i,n,r,o,a=this.attr(),s=a.x,l=a.y,u=a.width,c=a.height,h=a.radius;t.beginPath(),0===h?t.rect(s,l,u,c):(i=(e=Object(ut.a)(h))[0],n=e[1],r=e[2],o=e[3],t.moveTo(s+i,l),t.lineTo(s+u-n,l),0!==n&&t.arc(s+u-n,l+n,n,-Math.PI/2,0),t.lineTo(s+u,l+c-r),0!==r&&t.arc(s+u-r,l+c-r,r,0,Math.PI/2),t.lineTo(s+o,l+c),0!==o&&t.arc(s+o,l+c-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI),t.closePath())},mt),gt=i(75),yt=(pt=h,Object(a.__extends)(vt,pt),vt.prototype.getDefaultAttrs=function(){var t=pt.prototype.getDefaultAttrs.call(this);return Object(a.__assign)(Object(a.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},vt.prototype.isOnlyHitBox=function(){return!0},vt.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},vt.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(gt.assembleFont)(t)},vt.prototype._setText=function(t){var e=null;Object(T.k)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},vt.prototype.onAttrChange=function(t,e,i){pt.prototype.onAttrChange.call(this,t,e,i),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(e)},vt.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,i=+t.fontSize;return e?e-i:.14*i},vt.prototype._drawTextArr=function(i,t,n){var r,e=this.attrs,o=e.textBaseline,a=e.x,s=e.y,l=+e.fontSize,u=this._getSpaceingY(),c=Object(gt.getTextHeight)(e.text,e.fontSize,e.lineHeight);Object(T.c)(t,function(t,e){r=s+e*(u+l)-c+l,"middle"===o&&(r+=c-l-(c-l)/2),"top"===o&&(r+=c-l),n?i.fillText(t,a,r):i.strokeText(t,a,r)})},vt.prototype._drawText=function(t,e){var i,n=this.attr(),r=n.x,o=n.y,a=this.get("textArr");a?this._drawTextArr(t,a,e):(i=n.text,e?t.fillText(i,r,o):t.strokeText(i,r,o))},vt.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,n=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&0<i&&(Object(T.i)(r)||1===r||(t.globalAlpha=n),this.stroke(t)),this.isFill()&&(Object(T.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=n)),this.afterDrawPath(t)},vt.prototype.fill=function(t){this._drawText(t,!0)},vt.prototype.stroke=function(t){this._drawText(t,!1)},vt);function vt(){return null!==pt&&pt.apply(this,arguments)||this}function mt(){return null!==ft&&ft.apply(this,arguments)||this}},function(t,e,i){"use strict";i.r(e),i.d(e,"VERSION",function(){return Qi}),i.d(e,"Chart",function(){return Ue}),i.d(e,"View",function(){return qe}),i.d(e,"Event",function(){return Ae}),i.d(e,"ComponentController",function(){return Ke}),i.d(e,"Geometry",function(){return Vi}),i.d(e,"GeometryLabel",function(){return Zi}),i.d(e,"Interaction",function(){return Kt}),i.d(e,"Facet",function(){return q}),i.d(e,"InteractionAction",function(){return $}),i.d(e,"registerComponentController",function(){return Pe}),i.d(e,"registerGeometry",function(){return Xe}),i.d(e,"registerShape",function(){return Fi}),i.d(e,"registerShapeFactory",function(){return Bi}),i.d(e,"getShapeFactory",function(){return Ri}),i.d(e,"registerGeometryLabel",function(){return Ti}),i.d(e,"registerGeometryLabelLayout",function(){return Ei}),i.d(e,"getGeometryLabel",function(){return Pi}),i.d(e,"getGeometryLabelLayout",function(){return Ai}),i.d(e,"getInteraction",function(){return se}),i.d(e,"registerInteraction",function(){return le}),i.d(e,"registerAction",function(){return rt}),i.d(e,"getActionClass",function(){return nt}),i.d(e,"getFacet",function(){return K}),i.d(e,"registerFacet",function(){return Z}),i.d(e,"getTheme",function(){return xe}),i.d(e,"registerTheme",function(){return be}),i.d(e,"registerEngine",function(){return p}),i.d(e,"getEngine",function(){return j}),i.d(e,"registerAnimation",function(){return yi}),i.d(e,"getAnimation",function(){return gi}),i.d(e,"LAYER",function(){return d}),i.d(e,"DIRECTION",function(){return y}),i.d(e,"Types",function(){return $i}),i.d(e,"Util",function(){return Us});var d,y,h,n,r,o,S=i(2),R=i(0);(o=d=d||{}).FORE="fore",o.MID="mid",o.BG="bg",(r=y=y||{}).TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.NONE="none",(n=h=h||{}).AXIS="axis",n.GRID="grid",n.LEGEND="legend",n.TOOLTIP="tooltip",n.ANNOTATION="annotation",n.OTHER="other";var l,a,s,u;(u=l=l||{}).BEFORE_RENDER="beforerender",u.AFTER_RENDER="afterrender",u.BEFORE_PAINT="beforepaint",u.AFTER_PAINT="afterpaint",u.BEFORE_CHANGE_DATA="beforechangedata",u.AFTER_CHANGE_DATA="afterchangedata",u.BEFORE_CLEAR="beforeclear",u.AFTER_CLEAR="afterclear",u.BEFORE_DESTROY="beforedestroy",(s=a=a||{}).MOUSE_ENTER="plot:mouseenter",s.MOUSE_DOWN="plot:mousedown",s.MOUSE_MOVE="plot:mousemove",s.MOUSE_UP="plot:mouseup",s.MOUSE_LEAVE="plot:mouseleave",s.TOUCH_START="plot:touchstart",s.TOUCH_MOVE="plot:touchmove",s.TOUCH_END="plot:touchend",s.TOUCH_CANCEL="plot:touchcancel",s.CLICK="plot:click",s.DBLCLICK="plot:dblclick",s.CONTEXTMENU="plot:contextmenu",s.LEAVE="plot:leave",s.ENTER="plot:enter";var g=["color","shape","size"],c={};function j(t){var e=c[t];if(!e)throw new Error("G engine '"+t+"' is not exist, please register it at first.");return e}function p(t,e){c[t]=e}var P=i(7);function f(t){return"number"==typeof t&&!isNaN(t)}function T(t,e,i,n){var r,o,a,s=i,l=n;return e&&(o=t,a=getComputedStyle(o),s=(r={width:(o.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10),height:(o.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)}).width?r.width:s,l=r.height?r.height:l),{width:Math.max(f(s)?s:1,1),height:Math.max(f(l)?l:1,1)}}var v,m=(v=i(22).default,Object(S.__extends)(D,v),D.prototype.show=function(){this.visible||(this.visible=!0,this.changeVisible(!0))},D.prototype.hide=function(){this.visible&&(this.visible=!1,this.changeVisible(!1))},D.prototype.destroy=function(){this.off(),this.destroyed=!0},D.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},D),x=(i(10),i(51),i(62),i(59)),b=i(45),_=i(21),O=i(16),w=O.Axis.Line,M=O.Axis.Circle,C=O.Grid.Line,A=O.Grid.Circle,E=O.Legend.Category,L=O.Legend.Continuous,k=O.Tooltip.Html,I=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function D(t){var e=v.call(this)||this;e.destroyed=!1;var i=t.visible,n=void 0===i||i;return e.visible=n,e}function B(t){return t.alias||t.field}var F=i(3);function N(t,i){var e,n,r={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?r=function(){var t,e;switch(i){case y.TOP:t={x:0,y:1},e={x:1,y:1};break;case y.RIGHT:t={x:1,y:0},e={x:1,y:1};break;case y.BOTTOM:t={x:0,y:0},e={x:1,y:0};break;case y.LEFT:t={x:0,y:0},e={x:0,y:1};break;default:t=e={x:0,y:0}}return{start:t,end:e}}():t.isPolar&&(n=t.isTransposed?(e={x:0,y:0},{x:1,y:0}):(e={x:0,y:0},{x:0,y:1}),r={start:e,end:n});var o=r.start,a=r.end;return{start:t.convert(o),end:t.convert(a)}}function Y(t,e){var i,n,r=t.start,o=t.end;return i=t.start,n=t.end,i.x===n.x?0<(r.y-o.y)*(e.x-r.x)?1:-1:0<(o.x-r.x)*(r.y-e.y)?-1:1}function G(t,e){return Object(R.get)(t,["components","axis",e],{})}function X(t){var e=t.x,i=t.y,n=t.circleCenter,r=i.start>i.end,o=t.isTransposed?t.convert({x:r?0:1,y:0}):t.convert({x:0,y:r?0:1}),a=[o.x-n.x,o.y-n.y],s=[1,0],l=o.y>n.y?F.vec2.angle(a,s):-1*F.vec2.angle(a,s),u=l+(e.end-e.start);return{center:n,radius:Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)),startAngle:l,endAngle:u}}function V(t,e){return Object(R.isBoolean)(t)?!1!==t&&{}:Object(R.get)(t,[e])}function z(t,e){return Object(R.get)(t,"position",e)}function H(t,e){return Object(R.get)(e,["title","text"],B(t))}var W,q=(it.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},it.prototype.render=function(){this.renderViews()},it.prototype.update=function(){},it.prototype.clear=function(){this.clearFacetViews()},it.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},it.prototype.facetToView=function(t){var e=t.region,i=t.data,n=t.padding,r=void 0===n?this.cfg.padding:n,o=this.view.createView({region:e,padding:r});o.data(i||[]),t.view=o,this.beforeEachView(o,t);var a=this.cfg.eachView;return a&&a(o,t),this.afterEachView(o,t),o},it.prototype.createContainer=function(){return this.view.getLayer(d.FORE).addGroup()},it.prototype.renderViews=function(){this.createFacetViews()},it.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},it.prototype.clearFacetViews=function(){var e=this;Object(R.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},it.prototype.getFieldValues=function(t,i){var n=[],r={};return Object(R.each)(t,function(t){var e=t[i];Object(R.isNil)(e)||r[e]||(n.push(e),r[e]=!0)}),n},it.prototype.getRegion=function(t,e,i,n){var r=1/(0===e?1:e),o=1/(0===t?1:t);return{start:{x:r*i,y:o*n},end:{x:r*(i+1),y:o*(n+1)}}},it.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},it.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},it.prototype.processAxis=function(t,e){var i,n,r,o,a,s,l=t.getOptions(),u=l.coordinate,c=t.geometries;"rect"===Object(R.get)(u,"type","rect")&&c.length&&(Object(R.isNil)(l.axes)&&(l.axes={}),i=l.axes,r=(n=c[0].getXYFields())[0],o=n[1],a=V(i,r),s=V(i,o),!1!==a&&(l.axes[r]=this.getXAxisOption(r,i,a,e)),!1!==s&&(l.axes[o]=this.getYAxisOption(o,i,s,e)))},it.prototype.getFacetDataFilter=function(t){return function(n){return Object(R.every)(t,function(t){var e=t.field,i=t.value;return!(!Object(R.isNil)(i)&&e)||n[e]===i})}},it),U={},K=function(t){return U[Object(R.lowerCase)(t)]},Z=function(t,e){U[Object(R.lowerCase)(t)]=e},$=(et.prototype.applyCfg=function(t){Object(R.assign)(this,t)},et.prototype.init=function(){this.applyCfg(this.cfg)},et.prototype.destroy=function(){this.context.removeAction(this),this.context=null},et),Q=(W=$,Object(S.__extends)(tt,W),tt.prototype.execute=function(){this.callback&&this.callback(this.context)},tt.prototype.destroy=function(){W.prototype.destroy.call(this),this.callback=null},tt),J={};function tt(){return null!==W&&W.apply(this,arguments)||this}function et(t,e){this.context=t,this.cfg=e,t.addAction(this)}function it(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Object(R.deepMix)({},this.getDefaultCfg(),e)}function nt(t){var e=J[t];return Object(R.get)(e,"ActionClass")}function rt(t,e,i){J[t]={ActionClass:e,cfg:i}}function ot(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}function at(t,e,i,n,r,o){void 0===o&&(o=0);var a=ot(t,e,i,n),s=ot(t,e,i,r),l=ot(t,e,o,n),u=ot(t,e,o,r);if(r-n==2*Math.PI){var c=ot(t,e,i,n+Math.PI),h=ot(t,e,o,n+Math.PI),p=[["M",a.x,a.y],["A",i,i,0,1,1,c.x,c.y],["A",i,i,0,1,1,s.x,s.y],["M",l.x,l.y]];return o&&(p.push(["A",o,o,0,1,0,h.x,h.y]),p.push(["A",o,o,0,1,0,u.x,u.y])),p.push(["M",a.x,a.y]),p.push(["Z"]),p}var f=r-n<=Math.PI?0:1,d=[["M",a.x,a.y],["A",i,i,0,f,1,s.x,s.y],["L",u.x,u.y]];return o&&d.push(["A",o,o,0,f,0,l.x,l.y]),d.push(["L",a.x,a.y]),d.push(["Z"]),d}function st(t,e,i,n,r){var o=ot(t,e,i,n),a=ot(t,e,i,r);if(Object(R.isNumberEqual)(r-n,2*Math.PI)){var s=ot(t,e,i,n+Math.PI);return[["M",o.x,o.y],["A",i,i,0,1,1,s.x,s.y],["A",i,i,0,1,1,o.x,o.y],["A",i,i,0,1,0,s.x,s.y],["A",i,i,0,1,0,o.x,o.y],["Z"]]}var l=r-n<=Math.PI?0:1;return[["M",o.x,o.y],["A",i,i,0,l,1,a.x,a.y]]}function lt(t,e){var i,n=function(t){if(Object(R.isEmpty)(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,r=t[0].y;return Object(R.each)(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,r=r<t.y?t.y:r}),{minX:e,maxX:i,minY:n,maxY:r,centerX:(e+i)/2,centerY:(n+r)/2}}(t.points),r=e.startAngle,o=e.endAngle-r,a=e.isTransposed?(i=n.maxY*o,n.minY*o):(i=n.maxX*o,n.minX*o);return{startAngle:a+=r,endAngle:i+=r}}function ut(t,e){var i=t.attr(),n=e.attr();return Object(R.each)(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n}function ct(t,e,i){var n=Math.min(e,i),r=Math.max(e,i);return n<=t&&t<=r}function ht(e,t){return t.forEach(function(t){delete e[t]}),e}function pt(t,e,i){void 0===e&&(e=[]),void 0===i&&(i={});for(var n=0,r=t;n<r.length;n++){var o=r[n];i[o]||(e.push(o),i[o]=!0)}return e}function ft(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),i=t.convert({x:1,y:0});return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function dt(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function gt(t,e){var i,n,r,o=!1;return t&&(o="theta"===t.type?(i=t.start,n=t.end,ct(e.x,i.x,n.x)&&ct(e.y,i.y,n.y)):ct((r=t.invert(e)).x,0,1)&&ct(r.y,0,1)),o}function yt(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)}function vt(t,i){void 0===i&&(i=0);var e,n=t.start,r=t.end,o=t.getWidth(),a=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,u=t.getCenter(),c=t.getRadius();return{type:"path",startState:{path:at(u.x,u.y,c+i,s,s)},endState:function(t){var e=(l-s)*t+s;return{path:at(u.x,u.y,c+i,s,e)}},attrs:{path:at(u.x,u.y,c+i,s,l)}}}return e=t.isTransposed?{height:a+2*i}:{width:o+2*i},{type:"rect",startState:{x:n.x-i,y:r.y-i,width:t.isTransposed?o+2*i:0,height:t.isTransposed?0:a+2*i},endState:e,attrs:{x:n.x-i,y:r.y-i,width:o+2*i,height:a+2*i}}}function mt(t,e){for(var i=[t[0]],n=1,r=t.length;n<r;n+=2){var o=e.convert({x:t[n],y:t[n+1]});i.push(o.x,o.y)}return i}function xt(t,e,i){for(var n=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);for(var s,l,u,c=function(t,e,i){var n,r,o=[],a=!!i;if(a){c=[1/0,1/0],h=[-1/0,-1/0];for(var s=0,l=t.length;s<l;s++)var u=t[s],c=F.vec2.min([0,0],c,u),h=F.vec2.max([0,0],h,u);c=F.vec2.min([0,0],c,i[0]),h=F.vec2.max([0,0],h,i[1])}s=0;for(var p=t.length;s<p;s++){if(u=t[s],e)n=t[s?s-1:p-1],r=t[(s+1)%p];else{if(0===s||s===p-1){o.push(u);continue}n=t[s-1],r=t[s+1]}var f=[0,0],f=F.vec2.sub(f,r,n);f=F.vec2.scale(f,f,.4);var d=F.vec2.distance(u,n),g=F.vec2.distance(u,r),y=d+g;0!==y&&(d/=y,g/=y);var v=F.vec2.scale([0,0],f,-d),m=F.vec2.scale([0,0],f,g),x=F.vec2.add([0,0],u,v),b=F.vec2.add([0,0],u,m);a&&(x=F.vec2.max([0,0],x,c),x=F.vec2.min([0,0],x,h),b=F.vec2.max([0,0],b,c),b=F.vec2.min([0,0],b,h)),o.push(x),o.push(b)}return e&&o.push(o.shift()),o}(r,n,i),h=r.length,p=[],o=0;o<h-1;o++)s=c[2*o],l=c[2*o+1],u=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return n&&(s=c[h],l=c[h+1],u=r[0],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),p}function bt(t,e){return function(t,e){var i=[];if(t.length){i.push(["M",t[0].x,t[0].y]);for(var n=1,r=t.length;n<r;n+=1){var o=t[n];i.push(["L",o.x,o.y])}e&&i.push(["Z"])}return i}(t,e)}function _t(t,e,i){var n=[],r=t[0],o=null;if(t.length<=2)return bt(t,e);for(var a=0,s=t.length;a<s;a++){var l=t[a];o&&o.x===l.x&&o.y===l.y||(n.push(l.x),n.push(l.y),o=l)}var u=xt(n,e,i||[[0,0],[1,1]]);return u.unshift(["M",r.x,r.y]),u}function Ot(v,m){var x,b,r,_=[];return Object(R.each)(m,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":_.push(mt(t,v));break;case"l":x=m[e-1],b=t,(v.isTransposed?x[x.length-2]===b[1]:x[x.length-1]===b[2])?_=_.concat((o=(i=v).isTransposed,a=i.startAngle,s=i.endAngle,l={x:x[1],y:x[2]},u={x:b[1],y:b[2]},c=[],h=o?"y":"x",p=Math.abs(u[h]-l[h])*(s-a),f=l[h]<=u[h]?1:0,d=p>Math.PI?1:0,g=i.convert(u),.5<=(y=dt(i,g))&&(p==2*Math.PI&&(n={x:(u.x+l.x)/2,y:(u.y+l.y)/2},r=i.convert(n),c.push(["A",y,y,0,d,f,r.x,r.y])),c.push(["A",y,y,0,d,f,g.x,g.y])),c)):_.push(mt(t,v));break;case"z":default:_.push(t)}var i,n,r,o,a,s,l,u,c,h,p,f,d,g,y}),r=_,Object(R.each)(r,function(t,e){var i,n;"a"===t[0].toLowerCase()&&(i=r[e-1],(n=r[e+1])&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M"))}),_}var wt=(Mt.fromRange=function(t,e,i,n){return new Mt(t,e,i-t,n-e)},Object.defineProperty(Mt.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Mt.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},Mt.prototype.clone=function(){return new Mt(this.x,this.y,this.width,this.height)},Mt.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return Object(R.each)(t,function(t){i.x=Math.min(t.x,i.x),i.y=Math.min(t.y,i.y),i.width=Math.max(t.maxX,i.maxX)-i.x,i.height=Math.max(t.maxY,i.maxY)-i.y}),i},Mt.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return Object(R.each)(t,function(t){i.x=Math.max(t.x,i.x),i.y=Math.max(t.y,i.y),i.width=Math.min(t.maxX,i.maxX)-i.x,i.height=Math.min(t.maxY,i.maxY)-i.y}),i},Mt.prototype.cut=function(t,e){var i=t.width,n=t.height;switch(e){case y.TOP:case y.TOP_LEFT:case y.TOP_RIGHT:return Mt.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case y.RIGHT:case y.RIGHT_TOP:case y.RIGHT_BOTTOM:return Mt.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case y.BOTTOM:case y.BOTTOM_LEFT:case y.BOTTOM_RIGHT:return Mt.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case y.LEFT:case y.LEFT_TOP:case y.LEFT_BOTTOM:return Mt.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},Mt.prototype.shrink=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return new Mt(this.x+r,this.y+e,this.width-r-i,this.height-e-n)},Mt.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},Mt.prototype.size=function(){return this.width*this.height},Mt);function Mt(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.height=n,this.width=i}var Ct=i(114),St=i.n(Ct);function jt(t,e){var i=t.event.target.getCanvasBBox();return i.width>=e||i.height>=e?i:null}function Pt(t){var e,i=t.event.target;return i&&(e=i.get("element")),e}function Tt(t){var e,i=t.event.target;return i&&(e=i.get("delegateObject")),e}function At(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function Et(t){return t&&t.component&&t.component.isList()}function Lt(t){return t&&t.component&&t.component.isSlider()}function kt(t){var e=t.event.target;return e&&"mask"===e.get("name")}function It(t,e){var i,n,r,o,a,s;if("path"===t.event.target.get("type")){var l=(o=e,a=t.event.target,(s=a.getCanvasBBox()).width>=o||s.height>=o?a.attr("path"):null);if(!l)return;return i=l,n=Bt(t.view),r=Yt(i),n.filter(function(t){var e,i,n=t.shape;return i="path"===n.get("type")?Yt(n.attr("path")):[[(e=n.getCanvasBBox()).minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]],St()(r,i)})}var u=jt(t,e);return u?Nt(t.view,u):null}function Dt(t,e,i){var n=jt(t,i);if(!n)return null;var r=t.view,o=Ht(r,e,{x:n.x,y:n.y}),a=Ht(r,e,{x:n.maxX,y:n.maxY});return Nt(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})}function Bt(t){var e=t.geometries,i=[];return Object(R.each)(e,function(t){var e=t.elements;i=i.concat(e)}),t.views&&t.views.length&&Object(R.each)(t.views,function(t){i=i.concat(Bt(t))}),i}function Ft(t,i){var e=t.geometries,n=[];return Object(R.each)(e,function(t){var e=t.getElementsBy(function(t){return t.hasState(i)});n=n.concat(e)}),n}function Rt(t,e){var i=t.getModel().data;return Object(R.isArray)(i)?i[0][e]:i[e]}function Nt(t,i){var e=Bt(t),n=[];return Object(R.each)(e,function(t){var e=t.shape.getCanvasBBox();e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY||n.push(t)}),n}function Yt(t){var n=[];return Object(R.each)(t,function(t){if("A"!==t[0])for(var e=1;e<t.length;e+=2)n.push([t[e],t[e+1]]);else{var i=t.length;n.push([t[i-2],t[i-1]])}}),n}function Gt(t){return t.getComponents().map(function(t){return t.component})}function Xt(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function Vt(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function zt(e){var t=e.parent,i=null;return t&&(i=t.views.filter(function(t){return t!==e})),i}function Ht(t,e,i){var n,r=(n=i,t.getCoordinate().invert(n));return e.getCoordinate().convert(r)}function Wt(t,e,i,n){var r=!1;return Object(R.each)(t,function(t){if(t[i]===e[i]&&t[n]===e[n])return!(r=!0)}),r}function qt(t,e){var i=t.getScaleByField(e);return!i&&t.views&&Object(R.each)(t.views,function(t){if(i=qt(t,e))return!1}),i}var Ut=($t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},$t.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},$t.prototype.addAction=function(t){this.actions.push(t)},$t.prototype.removeAction=function(t){var e=this.actions,i=this.actions.indexOf(t);0<=i&&e.splice(i,1)},$t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},$t.prototype.getCurrentShape=function(){return Object(R.get)(this.event,["gEvent","shape"])},$t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},$t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},$t.prototype.isInComponent=function(i){var t=Gt(this.view),n=this.getCurrentPoint();return!!n&&!!t.find(function(t){var e=t.getBBox();return(!i||t.get("name")===i)&&Vt(e,n)})},$t.prototype.destroy=function(){this.view=null,this.event=null,Object(R.each)(this.actions.slice(),function(t){t.destroy()}),this.actions=null,this.cacheMap=null},$t),Kt=(Zt.prototype.init=function(){this.initEvents()},Zt.prototype.initEvents=function(){},Zt.prototype.clearEvents=function(){},Zt.prototype.destroy=function(){this.clearEvents()},Zt);function Zt(t,e){this.view=t,this.cfg=e}function $t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}function Qt(t,e){var i,n,r,o=t.split(":"),a=o[0],s=e.getAction(a)||(n=J[i=a],r=null,n&&((r=new n.ActionClass(e,n.cfg)).name=i,r.init()),r);if(!s)throw new Error("There is no action named "+a);return{action:s,methodName:o[1]}}function Jt(t){var e=t.action,i=t.methodName;if(!e[i])throw new Error("Action("+e.name+") doesn't have a method called "+i);e[i]()}var te,ee="start",ie="showEnable",ne="processing",re=(te=Kt,Object(S.__extends)(ae,te),ae.prototype.init=function(){this.initContext(),te.prototype.init.call(this)},ae.prototype.destroy=function(){te.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},ae.prototype.initEvents=function(){var n=this;Object(R.each)(this.steps,function(t,i){Object(R.each)(t,function(t){var e=n.getActionCallback(i,t);e&&n.bindEvent(t.trigger,e)})})},ae.prototype.clearEvents=function(){var n=this;Object(R.each)(this.steps,function(t,i){Object(R.each)(t,function(t){var e=n.getActionCallback(i,t);e&&n.offEvent(t.trigger,e)})})},ae.prototype.initContext=function(){var t=this.view,r=new Ut(t);this.context=r;var e=this.steps;Object(R.each)(e,function(t){Object(R.each)(t,function(e){var t,i,n;Object(R.isFunction)(e.action)?e.actionObject={action:(i=e.action,(n=new Q(r)).callback=i,n.name="callback",n),methodName:"execute"}:Object(R.isString)(e.action)?e.actionObject=Qt(e.action,r):Object(R.isArray)(e.action)&&(t=e.action,e.actionObject=[],Object(R.each)(t,function(t){e.actionObject.push(Qt(t,r))}))})})},ae.prototype.isAllowStep=function(t){var e=this.currentStepName,i=this.steps;if(e===t)return!0;if(t===ie)return!0;if(t===ne)return e===ee;if(t===ee)return e!==ne;if("end"===t)return e===ne||e===ee;if("rollback"===t){if(i.end)return"end"===e;if(e===ee)return!0}return!1},ae.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var i=this.getKey(t,e);return(!e.once||!this.emitCaches[i])&&(!e.isEnable||e.isEnable(this.context))}return!1},ae.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},ae.prototype.afterExecute=function(t,e){t!==ie&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,e);this.emitCaches[i]=!0},ae.prototype.getKey=function(t,e){return t+e.trigger+e.action},ae.prototype.getActionCallback=function(t,i){var n=this,r=this.context,e=this.callbackCaches,o=i.actionObject;if(i.action&&o){var a,s=this.getKey(t,i);return e[s]||(a=function(e){r.event=e,n.isAllowExcute(t,i)?(Object(R.isArray)(o)?Object(R.each)(o,function(t){r.event=e,Jt(t)}):(r.event=e,Jt(o)),n.afterExecute(t,i),i.callback&&(r.event=e,i.callback(r))):r.event=null},i.debounce?e[s]=Object(R.debounce)(a,i.debounce.wait,i.debounce.immediate):i.throttle?e[s]=Object(R.throttle)(a,i.throttle.wait,{leading:i.throttle.leading,trailing:i.throttle.trailing}):e[s]=a),e[s]}return null},ae.prototype.bindEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.addEventListener(i[1],e):"document"===i[0]?document.addEventListener(i[1],e):this.view.on(t,e)},ae.prototype.offEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.removeEventListener(i[1],e):"document"===i[0]?document.removeEventListener(i[1],e):this.view.off(t,e)},ae),oe={};function ae(t,e){var i=te.call(this,t,e)||this;return i.callbackCaches={},i.emitCaches={},i.steps=e,i}function se(t){return oe[Object(R.lowerCase)(t)]}function le(t,e){oe[Object(R.lowerCase)(t)]=e}var ue=i(32);function ce(t){var e,a={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},i={title:{autoRotate:!0,position:"center",style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},label:{autoRotate:!0,autoHide:!0,offset:16,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},r={title:null,marker:{symbol:"circle",style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1};return{background:t.backgroundColor,defaultColor:t.brandColor,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var i=lt(t.getModel(),e),n=(i.startAngle+i.endAngle)/2,r=7.5*Math.cos(n),o=7.5*Math.sin(n);return{matrix:F.ext.transform(null,[["t",r,o]])}}return a.interval.selected}}},"hollow-rect":{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},line:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},tick:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},funnel:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}},pyramid:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},line:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},dot:{default:{style:Object(S.__assign)(Object(S.__assign)({},a.line.default),{lineDash:[1,1]})},active:{style:Object(S.__assign)(Object(S.__assign)({},a.line.active),{lineDash:[1,1]})},inactive:{style:Object(S.__assign)(Object(S.__assign)({},a.line.inactive),{lineDash:[1,1]})},selected:{style:Object(S.__assign)(Object(S.__assign)({},a.line.selected),{lineDash:[1,1]})}},dash:{default:{style:Object(S.__assign)(Object(S.__assign)({},a.line.default),{lineDash:[5.5,1]})},active:{style:Object(S.__assign)(Object(S.__assign)({},a.line.active),{lineDash:[5.5,1]})},inactive:{style:Object(S.__assign)(Object(S.__assign)({},a.line.inactive),{lineDash:[5.5,1]})},selected:{style:Object(S.__assign)(Object(S.__assign)({},a.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hvh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}},polygon:{polygon:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},point:{circle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},square:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},bowtie:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},diamond:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},hexagon:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},triangle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"triangle-down":{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"hollow-circle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-square":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-bowtie":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-diamond":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-hexagon":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle-down":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},cross:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},tick:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},plus:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},hyphen:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},line:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}}},area:{area:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},smooth:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},line:{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}},"smooth-line":{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}}},schema:{candle:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},box:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}}},edge:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},arc:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}}},components:{axis:{top:Object(R.deepMix)({},i,{position:"top",grid:null,title:null}),bottom:Object(R.deepMix)({},i,{position:"bottom",grid:null,title:null}),left:Object(R.deepMix)({},i,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n}),right:Object(R.deepMix)({},i,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n}),circle:Object(R.deepMix)({},i,{title:null,label:{offset:8},grid:Object(R.deepMix)({},n,{line:{type:"line"}})}),radius:Object(R.deepMix)({},i,{title:null,label:{offset:8},grid:Object(R.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:Object(R.deepMix)({},r,{layout:"vertical"}),left:Object(R.deepMix)({},r,{layout:"vertical"}),top:Object(R.deepMix)({},r,{layout:"horizontal"}),bottom:Object(R.deepMix)({},r,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:((e={})[""+ue.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:t.tooltipContainerBorderRadius+"px",color:t.tooltipTextFillColor,fontSize:t.tooltipTextFontSize+"px",fontFamily:t.fontFamily,lineHeight:t.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+ue.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+ue.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+ue.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+ue.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+ue.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var he="#000",pe="#595959",fe="#8C8C8C",de="#BFBFBF",ge="#D9D9D9",ye="#FFFFFF",ve=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],me={default:ce({backgroundColor:"transparent",brandColor:ve[0],paletteQualitative10:ve,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:de,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:pe,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:de,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:ge,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:fe,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:ge,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:fe,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ve[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:pe,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:ge,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:fe,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:de,annotationArcBorderColor:ge,annotationArcBorder:.5,annotationLineBorderColor:de,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:pe,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#F2F2F2",annotationTextBorder:1.5,annotationRegionFillColor:he,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:de,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:pe,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:pe,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ye,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:de,pointFillColor:ve[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ye,pointBorderOpacity:1,pointActiveBorderColor:he,pointSelectedBorder:2,pointSelectedBorderColor:he,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ve[0],hollowPointBorderOpacity:.95,hollowPointFillColor:ye,hollowPointActiveBorder:1,hollowPointActiveBorderColor:he,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:he,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ve[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ve[0],areaFillOpacity:.25,areaActiveFillColor:ve[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ve[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ve[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:he,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:he,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ve[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:he,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:he,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ve[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ye,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:he,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:he,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3})};function xe(t){return Object(R.get)(me,Object(R.lowerCase)(t),me.default)}function be(t,e){me[Object(R.lowerCase)(t)]=Object(R.deepMix)({},me.default,e)}function _e(t,e,i){var n=i.translate(t),r=i.translate(e);return Object(R.isNumberEqual)(n,r)}function Oe(t,e,i){var n=i.coordinate,r=i.getYScale(),o=r.field,a=n.invert(e),s=r.invert(a.y);return Object(R.find)(t,function(t){var e=t._origin;return e[o][0]<=s&&e[o][1]>=s})||t[t.length-1]}var we=Object(R.memoize)(function(t){if(t.isCategory)return 1;for(var e=t.values,i=e.length,n=t.translate(e[0]),r=n,o=0;o<i;o++){var a=e[o],s=t.translate(a);s<n&&(n=s),r<s&&(r=s)}return(r-n)/(i-1)});function Me(t){for(var e,i,n,r=0,o=(i=t,n=Object(R.values)(i.attributes),Object(R.filter)(n,function(t){return Object(R.contains)(g,t.type)}));r<o.length;r++){var a=o[r],s=a.getScale(a.type);if(s&&s.isLinear){e=s;break}}var l=t.getXScale(),u=t.getYScale();return e||u||l}function Ce(t,e,i){if(0===e.length)return null;var n=i.type,r=i.getXScale(),o=i.getYScale(),a=r.field,s=o.field,l=null;if("heatmap"===n||"point"===n){for(var u=i.coordinate.invert(t),c=r.invert(u.x),h=o.invert(u.y),p=1/0,f=0;f<e.length;f++){var d=e[f],g=d._origin,y=Math.pow(g[a]-c,2)+Math.pow(g[s]-h,2);y<p&&(p=y,l=d)}return l}var v,m,x,b,_,O,w,M=e[0],C=e[e.length-1],S=(v=t,m=i.coordinate,x=i.getXScale(),b=x.range,_=b[b.length-1],O=b[0],w=m.invert(v).x,m.isPolar&&(1+_)/2<w&&(w=O),x.translate(x.invert(w))),j=M._origin[a],P=M._origin[s],T=C._origin[a],A=o.isLinear&&Object(R.isArray)(P);if(Object(R.isArray)(j)){for(f=0;f<e.length;f++)if(g=(E=e[f])._origin,r.translate(g[a][0])<=S&&r.translate(g[a][1])>=S){if(!A){l=E;break}Object(R.isArray)(l)||(l=[]),l.push(E)}Object(R.isArray)(l)&&(l=Oe(l,t,i))}else{var E,L=void 0;if(r.isLinear||"timeCat"===r.type){if((S>r.translate(T)||S<r.translate(j))&&(S>r.max||S<r.min))return null;for(var k=0,I=e.length-1,D=void 0;k<=I;){var B=e[D=Math.floor((k+I)/2)]._origin[a];if(_e(B,S,r))return e[D];r.translate(B)<=r.translate(S)?(k=D+1,C=e[D],L=e[D+1]):(0===I&&(C=e[0]),I=D-1)}}else{for(f=0;f<e.length;f++){if(_e((g=(E=e[f])._origin)[a],S,r)){if(!A){l=E;break}Object(R.isArray)(l)||(l=[]),l.push(E)}else r.translate(g[a])<=S&&(C=E,L=e[f+1])}Object(R.isArray)(l)&&(l=Oe(l,t,i))}C&&L&&Math.abs(r.translate(C._origin[a])-S)>Math.abs(r.translate(L._origin[a])-S)&&(C=L)}var F=we(i.getXScale());return!l&&Math.abs(r.translate(C._origin[a])-S)<=F/2&&(l=C),l}function Se(n,t,r){void 0===r&&(r="");var e,i,o,a=n._origin,s=function(t,e){var i=r;r||(i=e.getAttribute("position").getFields()[0]);var n=e.scales;return n[i]?n[i].getText(t[i]):Object(R.hasKey)(t,i)?t[i]:i}(a,t),l=t.tooltipOption,u=t.theme.defaultColor,c=[];function h(t,e){var i;Object(R.isNil)(e)||""===e||(i={title:s,data:a,mappingData:n,name:t||s,value:e,color:n.color||u,marker:!0},c.push(i))}if(Object(R.isObject)(l)){var p=l.fields,f=l.callback;if(f){var d=p.map(function(t){return n._origin[t]}),g=f.apply(void 0,d),y=Object(S.__assign)({data:n._origin,mappingData:n,title:s,color:n.color||u,marker:!0},g);c.push(y)}else for(var v=t.scales,m=0,x=p;m<x.length;m++){var b,_=x[m];Object(R.isNil)(a[_])||h(B(b=v[_]),e=b.getText(a[_]))}}else{var O=Me(t);Object(R.isNil)(a[O.field])||(o=a[(i=O).field],e=Object(R.isArray)(o)?o.map(function(t){return i.getText(t)}).join("-"):i.getText(o),h(function(t,e){var i,n=e.getGroupScales();if(n.length&&(i=n[0]),i){var r=i.field;return i.getText(t[r])}return B(Me(e))}(a,t),e))}return c}var je={};function Pe(t,e){je[t]=e}var Te=(Le.prototype.update=function(t){return this.option=this.wrapperOption(t),this},Le.prototype.hasAction=function(e){var t=this.option.actions;return Object(R.some)(t,function(t){return t[0]===e})},Le.prototype.create=function(t,e){var i=this.option,n=i.type,r=i.cfg,o="theta"===n,a=Object(S.__assign)({start:t,end:e},r),s=Object(b.getCoordinate)(o?"polar":n);return this.coordinate=new s(a),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},Le.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},Le.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},Le.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},Le.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},Le.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},Le.prototype.getOption=function(){return this.option},Le.prototype.getCoordinate=function(){return this.coordinate},Le.prototype.wrapperOption=function(t){return Object(S.__assign)({type:"rect",actions:[],cfg:{}},t)},Le.prototype.execActions=function(r){var o=this,t=this.option.actions;Object(R.each)(t,function(t){var e,i=t[0],n=t.slice(1);(Object(R.isNil)(r)||r.includes(i))&&(e=o.coordinate)[i].apply(e,n)})},Le),Ae=(Object.defineProperty(Ee.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),Ee.prototype.toString=function(){return"[Event (type="+this.type+")]"},Ee.prototype.clone=function(){return new Ee(this.view,this.gEvent,this.data)},Ee);function Ee(t,e,i){this.view=t,this.gEvent=e,this.data=i,this.type=e.type}function Le(t){this.option=this.wrapperOption(t)}function ke(t){void 0===t&&(t=0);var e=Object(R.isArray)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Object(S.__spreadArrays)(e,e);break;case 3:e=Object(S.__spreadArrays)(e,[e[1]]);break;default:e=e.slice(0,4)}return e}var Ie=(De.prototype.shrink=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return this.top+=e,this.right+=i,this.bottom+=n,this.left+=r,this},De.prototype.inc=function(t,e){var i=t.width,n=t.height;switch(e){case y.TOP:case y.TOP_LEFT:case y.TOP_RIGHT:this.top+=n;break;case y.RIGHT:case y.RIGHT_TOP:case y.RIGHT_BOTTOM:this.right+=i;break;case y.BOTTOM:case y.BOTTOM_LEFT:case y.BOTTOM_RIGHT:this.bottom+=n;break;case y.LEFT:case y.LEFT_TOP:case y.LEFT_BOTTOM:this.left+=i}return this},De.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},De);function De(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.top=t,this.right=e,this.bottom=i,this.left=n}function Be(t){var e=t.getController("axis"),i=t.getController("legend"),n=t.getController("annotation"),r=t.getController("slider"),o=function(t){var e,i=t.padding;if(e=i,Object(R.isNumber)(e)||Object(R.isArray)(e))return ke(i);var s=t.viewBBox,n=t.autoPadding,l=new Ie;Object(R.each)(t.getComponents(),function(t){var e,i,n,r,o=t.component,a=t.type;a!==h.GRID&&a!==h.TOOLTIP&&(e=o.getLayoutBBox(),i=new wt(e.x,e.y,e.width,e.height),a===h.AXIS?(n=i.exceed(s),l.shrink(n)):(r=t.direction,l.inc(i,r)))});var r=l.getPadding();return n?[Math.max(n[0],r[0]),Math.max(n[1],r[1]),Math.max(n[2],r[2]),Math.max(n[3],r[3])]:r}(t);t.coordinateBBox=t.viewBBox.shrink(o).shrink(ke(t.appendPadding)),t.adjustCoordinate(),[e,r,i,n].forEach(function(t){t&&t.layout()})}var Fe,Re=(Ge.prototype.createScale=function(t,e,i,n){var r,o,a=i,s=this.getScaleMeta(n);0===e.length&&s&&(o={type:(r=s.scale).type},r.isCategory&&(o.values=r.values),a=Object(R.deepMix)(o,s.scaleDef,i));var l=function(t,e,i){var n=e||[];if(Object(R.isNumber)(t)||Object(R.isNil)(Object(R.firstValue)(n,t))&&Object(R.isEmpty)(i))return new(Object(_.getScale)("identity"))({field:t.toString(),values:[t]});var r,o,a=Object(R.valuesOfKey)(n,t),s=Object(R.get)(i,"type",(r=a[0],o="linear",I.test(r)?o="time":Object(R.isString)(r)&&(o="cat"),o));return new(Object(_.getScale)(s))(Object(S.__assign)({field:t,values:a},i))}(t,e,a);return this.cacheScale(l,i,n),l},Ge.prototype.sync=function(){var o=this;this.syncScales.forEach(function(t,e){var i=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=[];Object(R.each)(t,function(t){var e=o.getScale(t);n=Object(R.isNumber)(e.max)?Math.max(n,e.max):n,i=Object(R.isNumber)(e.min)?Math.min(i,e.min):i,Object(R.each)(e.values,function(t){r.includes(t)||r.push(t)})}),Object(R.each)(t,function(t){var e=o.getScale(t);e.isContinuous?e.change({min:i,max:n,values:r}):e.isCategory&&e.change({values:r})})})},Ge.prototype.cacheScale=function(t,e,i){var n=this.getScaleMeta(i);n&&n.scale.type===t.type?(function(t,e){if("identity"!==t.type&&"identity"!==e.type){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);t.change(i)}}(n.scale,t),n.scaleDef=e):(n={key:i,scale:t,scaleDef:e},this.scales.set(i,n));var r,o=this.getSyncKey(n);n.syncKey=o,this.removeFromSyncScales(i),o&&((r=this.syncScales.get(o))||(r=[],this.syncScales.set(o,r)),r.push(i))},Ge.prototype.getScale=function(t){var e,i,n=this.getScaleMeta(t);return n||(e=Object(R.last)(t.split("-")),(i=this.syncScales.get(e))&&i.length&&(n=this.getScaleMeta(i[0]))),n&&n.scale},Ge.prototype.deleteScale=function(t){var e,i,n,r=this.getScaleMeta(t);r&&(e=r.syncKey,(i=this.syncScales.get(e))&&i.length&&-1!==(n=i.indexOf(t))&&i.splice(n,1)),this.scales.delete(t)},Ge.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},Ge.prototype.removeFromSyncScales=function(n){var r=this;this.syncScales.forEach(function(t,e){var i=t.indexOf(n);if(-1!==i)return t.splice(i,1),0===t.length&&r.syncScales.delete(e),!1})},Ge.prototype.getSyncKey=function(t){var e=t.scale,i=t.scaleDef,n=e.field,r=Object(R.get)(i,["sync"]);return!0===r?n:!1===r?void 0:r},Ge.prototype.getScaleMeta=function(t){return this.scales.get(t)},Ge),Ne=(Fe=m,Object(S.__extends)(Ye,Fe),Ye.prototype.setLayout=function(t){this.layoutFunc=t},Ye.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Te(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},Ye.prototype.render=function(t){void 0===t&&(t=!1),this.emit(l.BEFORE_RENDER),this.paint(t),this.emit(l.AFTER_RENDER),!1===this.visible&&this.changeVisible(!1)},Ye.prototype.clear=function(){var i=this;this.emit(l.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var t=this.geometries,e=0;e<t.length;e++)t[e].clear();this.geometries=[];for(var n=this.controllers,e=0;e<n.length;e++)n[e].clear();this.createdScaleKeys.forEach(function(t,e){i.getRootView().scalePool.deleteScale(e)}),this.createdScaleKeys.clear();var r=this.views;for(e=0;e<r.length;e++)r[e].clear();this.emit(l.AFTER_CLEAR)},Ye.prototype.destroy=function(){this.emit(l.BEFORE_DESTROY);var t=this.interactions;Object(R.each)(t,function(t){t&&t.destroy()}),this.clear();for(var e=this.controllers,i=0,n=e.length;i<n;i++)e[i].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),Fe.prototype.destroy.call(this)},Ye.prototype.changeVisible=function(t){Fe.prototype.changeVisible.call(this,t);for(var e=this.geometries,i=0,n=e.length;i<n;i++)e[i].changeVisible(t);for(var r=this.controllers,i=0,n=r.length;i<n;i++)r[i].changeVisible(t);return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},Ye.prototype.data=function(t){return Object(R.set)(this.options,"data",t),this.isDataChanged=!0,this},Ye.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},Ye.prototype.filter=function(t,e){return Object(R.isFunction)(e)?Object(R.set)(this.options,["filters",t],e):!e&&Object(R.get)(this.options,["filters",t])&&delete this.options.filters[t],this},Ye.prototype.axis=function(t,e){return Object(R.isBoolean)(t)?Object(R.set)(this.options,["axes"],t):Object(R.set)(this.options,["axes",t],e),this},Ye.prototype.legend=function(t,e){return!Object(R.isBoolean)(t)&&Object(R.isString)(t)?Object(R.set)(this.options,["legends",t],e):Object(R.set)(this.options,["legends"],t),this},Ye.prototype.scale=function(t,e){var i=this;return Object(R.isString)(t)?Object(R.set)(this.options,["scales",t],e):Object(R.isObject)(t)&&Object(R.each)(t,function(t,e){Object(R.set)(i.options,["scales",e],t)}),this},Ye.prototype.tooltip=function(t){return Object(R.set)(this.options,"tooltip",t),this},Ye.prototype.annotation=function(){return this.getController("annotation")},Ye.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},Ye.prototype.coordinate=function(t,e){return Object(R.isString)(t)?Object(R.set)(this.options,"coordinate",{type:t,cfg:e}):Object(R.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},Ye.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},Ye.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var i=K(t);if(!i)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new i(this,Object(S.__assign)(Object(S.__assign)({},e),{type:t})),this},Ye.prototype.animate=function(t){return Object(R.set)(this.options,"animate",t),this},Ye.prototype.updateOptions=function(t){return this.clear(),Object(R.mix)(this.options,t),this.initOptions(),this},Ye.prototype.option=function(t,e){if(Ye.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return Object(R.set)(this.options,t,e),this},Ye.prototype.theme=function(t){return this.themeObject=Object(R.isObject)(t)?Object(R.deepMix)({},this.themeObject,t):xe(t),this},Ye.prototype.interaction=function(r,t){var e=this.interactions[r];e&&e.destroy();var i=function(t,e){var i=se(r);if(!i)return null;if(Object(R.isPlainObject)(i)){var n=Object(R.mix)(Object(R.clone)(i),e);return new re(t,n)}return new i(t,e)}(this,t);return i&&(i.init(),this.interactions[r]=i),this},Ye.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},Ye.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(l.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,i=0,n=e.length;i<n;i++)e[i].changeData(t);this.emit(l.AFTER_CHANGE_DATA)},Ye.prototype.createView=function(t){var e={data:this.options.data,scales:Object(R.clone)(this.options.scales),axes:Object(R.clone)(this.options.axes),coordinate:Object(R.clone)(this.coordinateController.getOption()),tooltip:Object(R.clone)(this.options.tooltip),legends:Object(R.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new Ye(Object(S.__assign)(Object(S.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:1}),middleGroup:this.middleGroup.addGroup({zIndex:2}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:3}),theme:this.themeObject,padding:this.padding},t),{options:Object(S.__assign)(Object(S.__assign)({},e),Object(R.get)(t,"options",{}))}));return this.views.push(i),i},Ye.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},Ye.prototype.removeView=function(e){var t=Object(R.remove)(this.views,function(t){return t===e})[0];return t&&t.destroy(),t},Ye.prototype.getCoordinate=function(){return this.coordinateInstance},Ye.prototype.getTheme=function(){return this.themeObject},Ye.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},Ye.prototype.getYScales=function(){var n={};return this.geometries.map(function(t){var e=t.getYScale(),i=e.field;if(!n[i])return n[i]=!0,e})},Ye.prototype.getScalesByDim=function(t){for(var e=this.geometries,i={},n=0,r=e.length;n<r;n++){var o=e[n],a="x"===t?o.getXScale():o.getYScale();a&&!i[a.field]&&(i[a.field]=a)}return i},Ye.prototype.getScaleByField=function(t,e){var i=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},Ye.prototype.getOptions=function(){return this.options},Ye.prototype.getData=function(){return this.filteredData},Ye.prototype.getLayer=function(t){return t===d.BG?this.backgroundGroup:t===d.MID?this.middleGroup:(d.FORE,this.foregroundGroup)},Ye.prototype.isPointInPlot=function(t){return gt(this.getCoordinate(),t)},Ye.prototype.getLegendAttributes=function(){return Object(R.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},Ye.prototype.getGroupScales=function(){var t=this.geometries.map(function(t){return t.getGroupScales()});return pt(Object(R.flatten)(t))},Ye.prototype.getCanvas=function(){return this.getRootView().canvas},Ye.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},Ye.prototype.getXY=function(t){var i,n,e=this.getCoordinate(),r=this.getScalesByDim("x"),o=this.getScalesByDim("y");if(Object(R.each)(t,function(t,e){r[e]&&(i=r[e].scale(t)),o[e]&&(n=o[e].scale(t))}),!Object(R.isNil)(i)&&!Object(R.isNil)(n))return e.convert({x:i,y:n})},Ye.prototype.getController=function(e){return Object(R.find)(this.controllers,function(t){return t.name===e})},Ye.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},Ye.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},Ye.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},Ye.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},Ye.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},Ye.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},Ye.prototype.getSnapRecords=function(t){for(var e=this.geometries,i=[],n=0,r=e.length;n<r;n++){var o=e[n],a=o.dataArray;o.sort(a);for(var s=void 0,l=0,u=a.length;l<u;l++)(s=Ce(t,a[l],o))&&i.push(s)}for(var c=this.views,n=0,r=c.length;n<r;n++)var h=c[n].getSnapRecords(t),i=i.concat(h);return i},Ye.prototype.getComponents=function(){for(var t=[],e=this.controllers,i=0,n=e.length;i<n;i++)var r=e[i],t=t.concat(r.getComponents());return t},Ye.prototype.filterData=function(t){var n=this.options.filters;return 0===Object(R.size)(n)?t:Object(R.filter)(t,function(e,i){return Object.keys(n).every(function(t){return(0,n[t])(e[t],e,i)})})},Ye.prototype.filterFieldData=function(i,t){var e=this.options.filters,n=Object(R.get)(e,i);return Object(R.isUndefined)(n)?t:t.filter(function(t,e){return n(t[i],t,e)})},Ye.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,i=t.end,n=this.coordinateBBox.bl,r=this.coordinateBBox.tr;Object(R.isEqual)(e,n)&&Object(R.isEqual)(i,r)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(n,r))},Ye.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(l.BEFORE_PAINT),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(l.AFTER_PAINT),this.isDataChanged=!1},Ye.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,i=this.coordinateBBox;this.padding||(this.autoPadding=[i.tl.y-e.tl.y,e.tr.x-i.tr.x,e.bl.y-i.bl.y,i.tl.x-e.tl.x]);for(var n=this.views,r=0,o=n.length;r<o;r++)n[r].renderLayoutRecursive(t)},Ye.prototype.renderPaintRecursive=function(t){var e,i,n,r;this.limitInPlot&&(e=this.middleGroup,n=(i=vt(this.coordinateInstance)).type,r=i.attrs,e.setClip({type:n,attrs:r})),this.paintGeometries(t),this.renderComponents(t);for(var o=this.views,a=0,s=o.length;a<s;a++)o[a].renderPaintRecursive(t)},Ye.prototype.createScale=function(t,e,i,n){var r=Object(R.get)(this.options.scales,[t]),o=Object(S.__assign)(Object(S.__assign)({},r),i);return this.parent?this.parent.createScale(t,e,o,n):this.scalePool.createScale(t,e,o,n)},Ye.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,i=0,n=e.length;i<n;i++)e[i].renderDataRecursive(t)},Ye.prototype.calculateViewBBox=function(){var t,e,i,n,r;r=this.parent?(e=(t=this.parent.coordinateBBox).x,i=t.y,n=t.width,t.height):(i=e=0,n=this.canvas.get("width"),this.canvas.get("height"));var o=this.region,a=o.start,s=o.end,l=new wt(e+n*a.x,i+r*a.y,n*(s.x-a.x),r*(s.y-a.y));this.viewBBox&&this.viewBBox.isEqual(l)||(this.viewBBox=new wt(e+n*a.x,i+r*a.y,n*(s.x-a.x),r*(s.y-a.y)),this.coordinateBBox=this.viewBBox)},Ye.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},Ye.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,i=t.length;e<i;e++){var n=t[e],r=je[n];r&&this.controllers.push(new r(this))}},Ye.prototype.createViewEvent=function(t){var e=t.shape,i=t.name,n=e?e.get("origin"):null,r=new Ae(this,t,n);return r.type=i,r},Ye.prototype.doPlotEvent=function(t){var e,i,n=t.type,r={x:t.x,y:t.y};["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(n)&&((e=this.isPointInPlot(r))&&(i="plot:"+n,t.type=i,this.emit(i,t),"mouseleave"!==n&&"touchend"!==n||(this.isPreMouseInPlot=!1)),"mousemove"===n||"touchmove"===n?(this.isPreMouseInPlot&&!e?("mousemove"===n&&(t.type=a.MOUSE_LEAVE,this.emit(a.MOUSE_LEAVE,t)),t.type=a.LEAVE,this.emit(a.LEAVE,t)):!this.isPreMouseInPlot&&e&&("mousemove"===n&&(t.type=a.MOUSE_ENTER,this.emit(a.MOUSE_ENTER,t)),t.type=a.ENTER,this.emit(a.ENTER,t)),this.isPreMouseInPlot=e):"mouseleave"!==n&&"touchend"!==n||this.isPreMouseInPlot&&("mouseleave"===n&&(t.type=a.MOUSE_LEAVE,this.emit(a.MOUSE_LEAVE,t)),t.type=a.LEAVE,this.emit(a.LEAVE,t),this.isPreMouseInPlot=!1))},Ye.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},Ye.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),i=Object(R.get)(this.options,"scales",{}),n=this.geometries,r=0,o=n.length;r<o;r++){var a=n[r];a.scales=this.getGeometryScales();var s={coordinate:e,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?a.update(s):a.init(s)}this.adjustScales()},Ye.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),i=this.getOptions(),n=i.data,r=i.scales,o=void 0===r?{}:r,a=this.filteredData,s=0,l=t.length;s<l;s++){var u=t[s],c=o[u],h=this.getScaleKey(u);this.createScale(u,e.includes(u)?n:a,c,h),this.createdScaleKeys.set(h,!0)}},Ye.prototype.syncScale=function(){this.getRootView().scalePool.sync()},Ye.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},i=0;i<t.length;i++){var n=t[i];e[n]=this.getScaleByField(n)}return e},Ye.prototype.getScaleFields=function(){for(var t=[],e={},i=this.geometries,n=0;n<i.length;n++)pt(i[n].getScaleFields(),t,e);return t},Ye.prototype.getGroupedFields=function(){for(var t=[],e={},i=this.geometries,n=0;n<i.length;n++)pt(i[n].getGroupFields(),t,e);return t},Ye.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},Ye.prototype.adjustCategoryScaleRange=function(){var l=this,t=Object(S.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(t){return!!t}),u=this.getCoordinate(),c=this.options.scales;Object(R.each)(t,function(t){var e,i,n,r=t.field,o=t.values,a=t.isCategory,s=t.isIdentity;(a||s)&&o&&!Object(R.get)(c,[r,"range"])&&(n=void 0,n=1===(e=o.length)?[.5,1]:(i=0,function(){if(u.isPolar){var t=u.startAngle;return u.endAngle-t==2*Math.PI}}()?u.isTransposed?[(i=1/e*Object(R.get)(l.theme,"widthRatio.multiplePie",1/1.3))/2,1-i/2]:[0,1-1/e]:[i=1/e/2,1-i]),t.range=n)})},Ye.prototype.initComponents=function(t){for(var e=this.controllers,i=0;i<e.length;i++){var n=e[i];t?n.update():(n.clear(),n.render())}},Ye.prototype.doLayout=function(){this.layoutFunc(this)},Ye.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},Ye.prototype.paintGeometries=function(t){for(var e=this.options.animate,i=this.getCoordinate(),n={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},r=this.geometries,o=0;o<r.length;o++){var a=r[o];a.coordinate=i,a.canvasRegion=n,e||a.animate(!1),a.paint(t)}},Ye.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++)this.getComponents()[e].component.render()},Ye.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},Ye.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,i=void 0===e?[]:e,n=t.interactions,r=void 0===n?[]:n,o=t.views,a=void 0===o?[]:o,s=t.annotations,l=void 0===s?[]:s,u=0;u<i.length;u++){var c=i[u];this.createGeometry(c)}for(var h=0;h<r.length;h++){var p=r[h],f=p.type,d=p.cfg;this.interaction(f,d)}for(var g=0;g<a.length;g++){var y=a[g];this.createView(y)}for(var v=this.getController("annotation"),m=0;m<l.length;m++){var x=l[m];v.annotation(x)}},Ye.prototype.createGeometry=function(t){var i,e=t.type,n=t.cfg,r=void 0===n?{}:n;this[e]&&(i=this[e](r),Object(R.each)(t,function(t,e){Object(R.isFunction)(i[e])&&i[e](t)}))},Ye.prototype.getScaleKey=function(t){return this.id+"-"+t},Ye);function Ye(t){var n=Fe.call(this,{visible:t.visible})||this;n.id=Object(R.uniqueId)("view"),n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(je),n.scalePool=new Re,n.layoutFunc=Be,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e,i=t.name;i.includes(":")||(e=n.createViewEvent(t),n.doPlotEvent(e),n.emit(i,e))},n.onDelegateEvents=function(t){var e,i=t.name;i.includes(":")&&(e=n.createViewEvent(t),n.emit(i,e))};var e=t.parent,i=t.canvas,r=t.backgroundGroup,o=t.middleGroup,a=t.foregroundGroup,s=t.region,l=void 0===s?{start:{x:0,y:0},end:{x:1,y:1}}:s,u=t.padding,c=t.appendPadding,h=t.theme,p=t.options,f=t.limitInPlot;return n.parent=e,n.canvas=i,n.backgroundGroup=r,n.middleGroup=o,n.foregroundGroup=a,n.region=l,n.padding=u,n.appendPadding=c,n.options=Object(S.__assign)(Object(S.__assign)({},n.options),p),n.limitInPlot=f,n.themeObject=Object(R.isObject)(h)?Object(R.deepMix)({},xe("default"),h):xe(h),n.init(),n}function Ge(){this.scales=new Map,this.syncScales=new Map}function Xe(t,n){Ne.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var e=Object(S.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new n(e);return this.geometries.push(i),i}}function Ve(t){return $e[t.toLowerCase()]}function ze(t,e){if(Ve(t))throw new Error("Adjust type '"+t+"' existed.");$e[t.toLowerCase()]=e}var He,We,qe=Ne,Ue=(We=qe,Object(S.__extends)(ni,We),ni.prototype.initDefaultInteractions=function(t){var e=this;Object(R.each)(t,function(t){e.interaction(t)})},ni.prototype.changeSize=function(t,e){return this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this},ni.prototype.destroy=function(){var t,e;We.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),(e=(t=this.wrapperElement).parentNode)&&e.removeChild(t),this.wrapperElement=null},ni.prototype.changeVisible=function(t){return this.wrapperElement.style.display=t?"":"none",this},ni.prototype.forceFit=function(){var t=T(this.ele,!0,this.width,this.height),e=t.width,i=t.height;this.changeSize(e,i)},ni.prototype.updateCanvasStyle=function(){Object(P.modifyCSS)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},ni.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},ni.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},ni),Ke=(ii.prototype.clear=function(){Object(R.each)(this.components,function(t){t.component.destroy()}),this.components=[]},ii.prototype.destroy=function(){this.clear()},ii.prototype.getComponents=function(){return this.components},ii.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},ii),Ze=(ei.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},ei.prototype.getAdjustRange=function(t,e,i){var n,r,o=this.yField,a=i.indexOf(e),s=i.length;return!o&&this.isAdjust("y")?(n=0,r=1):1<s?(n=i[0===a?0:a-1],r=i[a===s-1?s-1:a+1],0!==a?n+=(e-n)/2:n-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-i[s-2])/2):(n=0===e?0:e-.5,r=0===e?1:e+.5),{pre:n,next:r}},ei.prototype.adjustData=function(t,e){var r=this,o=this.getDimValues(e);R.each(t,function(i,n){R.each(o,function(t,e){r.adjustDim(e,t,i,n)})})},ei.prototype.groupData=function(t,e){return R.each(t,function(t){void 0===t[e]&&(t[e]=0)}),R.groupBy(t,e)},ei.prototype.adjustDim=function(t,e,i,n){},ei.prototype.getDimValues=function(e){var t=this.xField,i=this.yField,n={},r=[];return t&&this.isAdjust("x")&&r.push(t),i&&this.isAdjust("y")&&r.push(i),r.forEach(function(t){n[t]=R.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!i&&this.isAdjust("y")&&(n.y=[0,1]),n},ei),$e={},Qe=i(1),Je=(He=Ze,Object(Qe.__extends)(ti,He),ti.prototype.process=function(t){var e=R.clone(t),i=R.flatten(e),n=this.dodgeBy,r=n?R.group(i,n):e;return this.cacheMap={},this.adjustDataArray=r,this.mergeData=i,this.adjustData(r,i),this.adjustDataArray=[],this.mergeData=[],e},ti.prototype.adjustDim=function(o,i,t,a){var s=this,l=this.getDistribution(o),e=this.groupData(t,o);return R.each(e,function(t,e){var r=1===i.length?{pre:i[0]-1,next:i[0]+1}:s.getAdjustRange(o,parseFloat(e),i);R.each(t,function(t){var e=t[o],i=l[e],n=i.indexOf(a);t[o]=s.getDodgeOffset(r,n,i.length)})}),[]},ti.prototype.getDodgeOffset=function(t,e,i){var n=this.dodgeRatio,r=this.marginRatio,o=t.pre,a=t.next,s=a-o,l=s*n/i,u=r*l;return(o+a)/2+(.5*(s-i*l-(i-1)*u)+((e+1)*l+e*u)-.5*l-.5*s)},ti.prototype.getDistribution=function(n){var t=this.adjustDataArray,e=this.cacheMap,r=e[n];return r||(r={},R.each(t,function(t,e){var i=R.valuesOfKey(t,n);i.length||i.push(0),R.each(i,function(t){r[t]||(r[t]=[]),r[t].push(e)})}),e[n]=r),r},ti);function ti(t){var e=He.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var i=t.marginRatio,n=void 0===i?.5:i,r=t.dodgeRatio,o=void 0===r?.5:r,a=t.dodgeBy;return e.marginRatio=n,e.dodgeRatio=o,e.dodgeBy=a,e}function ei(t){var e=t.xField,i=t.yField,n=t.adjustNames,r=void 0===n?["x","y"]:n;this.adjustNames=r,this.xField=e,this.yField=i}function ii(t){this.visible=!0,this.components=[],this.view=t}function ni(t){var e=this,i=t.container,n=t.width,r=t.height,o=t.autoFit,a=void 0!==o&&o,s=t.padding,l=t.appendPadding,u=t.renderer,c=void 0===u?"canvas":u,h=t.pixelRatio,p=t.localRefresh,f=void 0===p||p,d=t.visible,g=void 0===d||d,y=t.defaultInteractions,v=void 0===y?["tooltip","legend-filter","legend-active","continuous-filter"]:y,m=t.options,x=t.limitInPlot,b=t.theme,_=Object(R.isString)(i)?document.getElementById(i):i,O=Object(P.createDom)('<div style="position:relative;"></div>');_.appendChild(O);var w=T(_,a,n,r),M=new(j(c).Canvas)(Object(S.__assign)({container:O,pixelRatio:h,localRefresh:f},w));(e=We.call(this,{parent:null,canvas:M,backgroundGroup:M.addGroup({zIndex:1}),middleGroup:M.addGroup({zIndex:2}),foregroundGroup:M.addGroup({zIndex:3}),padding:s,appendPadding:l,visible:g,options:m,limitInPlot:x,theme:b})||this).onResize=Object(R.debounce)(function(){e.forceFit()},300);var C=e.getTheme();return Object(R.get)(C,"background")&&Object(P.modifyCSS)(O,{background:Object(R.get)(C,"background")}),e.ele=_,e.canvas=M,e.width=w.width,e.height=w.height,e.autoFit=a,e.localRefresh=f,e.renderer=c,e.wrapperElement=O,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(v),e}var ri,oi,ai,si=(ai=Ze,Object(Qe.__extends)(fi,ai),fi.prototype.process=function(t){var e=R.clone(t),i=R.flatten(e);return this.adjustData(e,i),e},fi.prototype.adjustDim=function(i,n,t){var r=this,e=this.groupData(t,i);return R.each(e,function(t,e){return r.adjustGroup(t,i,parseFloat(e),n)})},fi.prototype.getAdjustOffset=function(t){var e,i=t.pre,n=t.next,r=.05*(n-i);return(n-r-(e=i+r))*Math.random()+e},fi.prototype.adjustGroup=function(t,e,i,n){var r=this,o=this.getAdjustRange(e,i,n);return R.each(t,function(t){t[e]=r.getAdjustOffset(o)}),t},fi),li=R.Cache,ui=(oi=Ze,Object(Qe.__extends)(pi,oi),pi.prototype.process=function(t){var e=this.yField,i=this.reverseOrder,n=e?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(n):n},pi.prototype.reverse=function(t){return t.slice(0).reverse()},pi.prototype.processStack=function(t){var l=this.xField,u=this.yField,e=this.reverseOrder?this.reverse(t):t,c=new li,h=new li;return e.map(function(t){return t.map(function(t){var e,i=R.get(t,l,0),n=R.get(t,u),r=i.toString(),n=R.isArray(n)?n[1]:n;if(R.isNil(n))return t;var o=0<=n?c:h;o.has(r)||o.set(r,0);var a=o.get(r),s=n+a;return o.set(r,s),Object(Qe.__assign)(Object(Qe.__assign)({},t),((e={})[u]=[a,s],e))})})},pi.prototype.processOneDimStack=function(t){var a=this,s=this.xField,l=this.height,e=this.reverseOrder?this.reverse(t):t,u=new li;return e.map(function(t){return t.map(function(t){var e,i=a.size,n=t[s],r=2*i/l;u.has(n)||u.set(n,r/2);var o=u.get(n);return u.set(n,o+r),Object(Qe.__assign)(Object(Qe.__assign)({},t),((e={}).y=o,e))})})},pi),ci=(ri=Ze,Object(Qe.__extends)(hi,ri),hi.prototype.process=function(t){var e=R.flatten(t),s=this.xField,l=this.yField,u=this.getXValuesMaxMap(e),c=Math.max.apply(Math,Object.keys(u).map(function(t){return u[t]}));return R.map(t,function(t){return R.map(t,function(t){var e,i,n=t[l],r=t[s];if(R.isArray(n)){var o=(c-u[r])/2;return Object(Qe.__assign)(Object(Qe.__assign)({},t),((e={})[l]=R.map(n,function(t){return o+t}),e))}var a=(c-n)/2;return Object(Qe.__assign)(Object(Qe.__assign)({},t),((i={})[l]=[a,n+a],i))})})},hi.prototype.getXValuesMaxMap=function(t){var e=this,i=this.xField,n=this.yField,r=R.groupBy(t,function(t){return t[i]});return R.mapValues(r,function(t){return e.getDimMaxValue(t,n)})},hi.prototype.getDimMaxValue=function(t,e){var i=R.map(t,function(t){return R.get(t,e,[])}),n=R.flatten(i);return Math.max.apply(Math,n)},hi);function hi(){return null!==ri&&ri.apply(this,arguments)||this}function pi(t){var e=oi.call(this,t)||this,i=t.adjustNames,n=void 0===i?["y"]:i,r=t.height,o=void 0===r?NaN:r,a=t.size,s=void 0===a?10:a,l=t.reverseOrder,u=void 0!==l&&l;return e.adjustNames=n,e.height=o,e.size=s,e.reverseOrder=u,e}function fi(){return null!==ai&&ai.apply(this,arguments)||this}ze("Dodge",Je),ze("Jitter",si),ze("Stack",ui),ze("Symmetric",ci);var di={};function gi(t){return di[t.toLowerCase()]}function yi(t,e){di[t.toLowerCase()]=e}var vi={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},mi={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},xi={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function bi(t,e,i){var n=mi[t];return n&&(Object(R.isFunction)(n)&&(n=n(e)),n=Object(R.deepMix)({},vi,n),i)?n[i]:n}function _i(t,e,i){var n,r,o,a=Object(R.get)(t.get("origin"),"data","_origin"),s=e.animation,l=(n=e,r=a,{delay:Object(R.isFunction)(n.delay)?n.delay(r):n.delay,easing:Object(R.isFunction)(n.easing)?n.easing(r):n.easing,duration:Object(R.isFunction)(n.duration)?n.duration(r):n.duration,callback:n.callback});s?(o=gi(s))&&o(t,l,i):t.animate(i.toAttrs,l)}var Oi,wi=i(115),Mi=(Oi=m,Object(S.__extends)(ji,Oi),ji.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},ji.prototype.update=function(t){var e,i,n=this.shapeFactory,r=this.shape;r&&(this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(r,t),e=this.getOffscreenGroup(),(i=n.drawShape(this.shapeType,t,e)).cfg.data=this.data,i.cfg.origin=t,this.syncShapeStyle(r,i,"",this.getAnimateCfg("update")))},ji.prototype.destroy=function(){var t,e=this.shapeFactory,i=this.shape;i&&((t=this.getAnimateCfg("leave"))?_i(i,t,{coordinate:e.coordinate,toAttrs:Object(S.__assign)({},i.attr())}):i.remove(!0)),this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,Oi.prototype.destroy.call(this)},ji.prototype.changeVisible=function(t){Oi.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},ji.prototype.setState=function(t,e){var i=this,n=this.states,r=this.shapeFactory,o=this.model,a=this.shape,s=this.shapeType,l=n.indexOf(t);if(e){if(-1<l)return;n.push(t),"active"!==t&&"selected"!==t||a.toFront()}else{if(-1===l)return;n.splice(l,1),"active"!==t&&"selected"!==t||a.toBack()}var u=r.drawShape(s,o,this.getOffscreenGroup());n.length?n.forEach(function(t){i.syncShapeStyle(a,u,t,null)}):this.syncShapeStyle(a,u,"reset",null),u.remove(!0);var c={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",c),Object(wi.propagationDelegate)(this.shape,"statechange",c)},ji.prototype.clearStates=function(){var e=this,t=this.states;Object(R.each)(t,function(t){e.setState(t,!1)}),this.states=[]},ji.prototype.hasState=function(t){return this.states.includes(t)},ji.prototype.getStates=function(){return this.states},ji.prototype.getData=function(){return this.data},ji.prototype.getModel=function(){return this.model},ji.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(i=t.getCanvasBBox()),e&&e.forEach(function(t){var e=t.getCanvasBBox();i.x=Math.min(e.x,i.x),i.y=Math.min(e.y,i.y),i.minX=Math.min(e.minX,i.minX),i.minY=Math.min(e.minY,i.minY),i.maxX=Math.max(e.maxX,i.maxX),i.maxY=Math.max(e.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},ji.prototype.getStatesStyle=function(){var t,e,i,n,r,o;return this.statesStyle||(t=this.shapeType,e=this.geometry,i=this.shapeFactory,n=e.stateOption,r=i.defaultShapeType,o=i.theme[t]||i.theme[r],this.statesStyle=Object(R.deepMix)({},o,n)),this.statesStyle},ji.prototype.getStateStyle=function(t,e){var i=this.getStatesStyle(),n=Object(R.get)(i,[t,"style"],{}),r=n[e]||n;return Object(R.isFunction)(r)?r(this):r},ji.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},ji.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var i,n,r,o=this.shapeFactory,a=this.container,s=this.shapeType;this.shape=o.drawShape(s,t,a),this.shape&&(this.setShapeInfo(this.shape,t),(i=this.shape.cfg.name)?Object(R.isString)(i)&&(this.shape.cfg.name=["element",i]):this.shape.cfg.name=["element",this.shapeFactory.geometryType],n=e?"enter":"appear",(r=this.getAnimateCfg(n))&&_i(this.shape,r,{coordinate:o.coordinate,toAttrs:Object(S.__assign)({},this.shape.attr())}))},ji.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},ji.prototype.setShapeInfo=function(t,e){var i=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(t){i.setShapeInfo(t,e)})},ji.prototype.syncShapeStyle=function(t,e,i,n,r){if(void 0===i&&(i=""),void 0===r&&(r=0),t.isGroup())for(var o=t.get("children"),a=e.get("children"),s=0;s<o.length;s++)this.syncShapeStyle(o[s],a[s],i,n,r+s);else{var l,u;i&&"reset"!==i&&(l=t.get("name"),Object(R.isArray)(l)&&(l=l[1]),u=this.getStateStyle(i,l||r),e.attr(u));var c=ut(t,e);this.animate?n?_i(t,n,{coordinate:this.shapeFactory.coordinate,toAttrs:c,shapeModel:this.model}):i?(t.stopAnimate(),t.animate(c,{duration:300})):t.attr(c):t.attr(c)}},ji.prototype.getShapeType=function(t){var e=Object(R.get)(t,"shape");return Object(R.isArray)(e)?e[0]:e},ji),Ci={},Si={};function ji(t){var e=Oi.call(this,t)||this;e.states=[];var i=t.shapeFactory,n=t.container,r=t.offscreenGroup,o=t.visible,a=void 0===o||o;return e.shapeFactory=i,e.container=n,e.offscreenGroup=r,e.visible=a,e}function Pi(t){return Ci[t.toLowerCase()]}function Ti(t,e){Ci[t.toLowerCase()]=e}function Ai(t){return Si[t.toLowerCase()]}function Ei(t,e){Si[t.toLowerCase()]=e}var Li=i(78),ki={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var i=this.getShape(t);return i.getPoints?i.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getMarker:function(t,e){var i,n=this.getShape(t);n.getMarker||(i=this.defaultShapeType,n=this.getShape(i));var r=this.theme,o=Object(R.get)(r,[t,"default"],{}),a=n.getMarker(e);return Object(R.deepMix)({},o,a)},drawShape:function(t,e,i){return this.getShape(t).draw(e,i)}},Ii={coordinate:null,parsePath:function(t){var e,i,n,r=this.coordinate,o=Object(Li.b)(t);return r.isPolar?Ot(r,o):(e=r,i=o,n=[],Object(R.each)(i,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":n.push(mt(t,e));break;case"z":default:n.push(t)}}),n)},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map(function(t){return e.convert(t)})},draw:function(t,e){}},Di={};function Bi(t,e){var i=Object(R.upperFirst)(t),n=Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},ki),e),{geometryType:t});return Di[i]=n}function Fi(t,e,i){var n=Object(R.upperFirst)(t),r=Di[n],o=Object(S.__assign)(Object(S.__assign)({},Ii),i);return r[e]=o}function Ri(t){var e=Object(R.upperFirst)(t);return Di[e]}function Ni(e,i){return Object(R.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!Object(R.isEqual)(e[t],i[t])})}function Yi(t){return Object(R.isArray)(t)?t:t.split("*")}function Gi(t){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Xi,Vi=(Xi=m,Object(S.__extends)(Hi,Xi),Hi.prototype.position=function(t){var e=t;Object(R.isPlainObject)(t)||(e={fields:Yi(t)});var i=Object(R.get)(e,"fields");return 1===i.length&&(i.unshift("1"),Object(R.set)(e,"fields",i)),Object(R.set)(this.attributeOption,"position",e),this},Hi.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},Hi.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},Hi.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},Hi.prototype.adjust=function(t){var i=t;return(Object(R.isString)(t)||Object(R.isPlainObject)(t))&&(i=[t]),Object(R.each)(i,function(t,e){Object(R.isObject)(t)||(i[e]={type:t})}),this.adjustOption=i,this},Hi.prototype.style=function(t,e){var i,n,r;return Object(R.isString)(t)?(i=Yi(t),this.styleOption={fields:i,callback:e}):(i=t.fields,n=t.callback,r=t.cfg,this.styleOption=i||n||r?t:{cfg:t}),this},Hi.prototype.tooltip=function(t,e){var i;return Object(R.isString)(t)?(i=Yi(t),this.tooltipOption={fields:i,callback:e}):this.tooltipOption=t,this},Hi.prototype.animate=function(t){return this.animateOption=t,this},Hi.prototype.label=function(t,e,i){var n,r;return Object(R.isString)(t)?(n={},r=Yi(t),n.fields=r,Object(R.isFunction)(e)?n.callback=e:Object(R.isPlainObject)(e)&&(n.cfg=e),i&&(n.cfg=i),this.labelOption=n):this.labelOption=t,this},Hi.prototype.state=function(t){return this.stateOption=t,this},Hi.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},Hi.prototype.update=function(t){void 0===t&&(t={});var e=t.data,i=t.isDataChanged,n=t.isCoordinateChanged,r=this.attributeOption,o=this.lastAttributeOption;Object(R.isEqual)(r,o)?!e||!i&&Object(R.isEqual)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=n},Hi.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Object(R.deepMix)({},bi(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={},this.getOffscreenGroup().clear();for(var i,n,r,o,a,s,l,u,c,h,p,f,d,g=this.beforeMappingData,y=this.beforeMapping(g),v=[],m=0,x=y.length;m<x;m++){var b=y[m],_=this.mapping(b);v.push(_),this.createElements(_,m,t)}this.canDoGroupAnimation(t)&&(i=this.container,n=this.type,r=this.coordinate,o=Object(R.get)(this.animateOption,"appear"),a=this.getYScale(),s=r.convert({x:0,y:a.scale(this.getYMinValue())}),l=i,u=o,c=r,h=s,xi[n]&&(p=xi[n](c),(f=gi(Object(R.get)(p,"animation","")))&&(d=Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},vi.appear),p),u),l.stopAnimate(),f(l,d,{coordinate:c,minYPoint:h,toAttrs:null})))),this.labelOption&&this.renderLabels(Object(R.flatten)(v),t),this.dataArray=v,Object(R.each)(this.lastElementsMap,function(t){t.animate=e.animateOption,t.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(S.__assign)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},Hi.prototype.clear=function(){var t=this.container,e=this.geometryLabel,i=this.offscreenGroup;t&&t.clear(),e&&e.clear(),i&&i.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},Hi.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,Xi.prototype.destroy.call(this)},Hi.prototype.getGroupScales=function(){return this.groupScales},Hi.prototype.getAttribute=function(t){return this.attributes[t]},Hi.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},Hi.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},Hi.prototype.getGroupAttributes=function(){var e=[];return Object(R.each)(this.attributes,function(t){g.includes(t.type)&&e.push(t)}),e},Hi.prototype.getDefaultValue=function(t){var e,i=this.getAttribute(t);return i&&Object(R.isEmpty)(i.scales)&&(e=i.values[0]),e},Hi.prototype.getAttributeValues=function(t,e){for(var i=[],n=t.scales,r=0,o=n.length;r<o;r++){var a=n[r],s=a.field;a.isIdentity?i.push(a.values):i.push(e[s])}return t.mapping.apply(t,i)},Hi.prototype.getAdjust=function(t){return this.adjusts[t]},Hi.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},Hi.prototype.getElementsBy=function(e){return this.elements.filter(function(t){return e(t)})},Hi.prototype.getElementId=function(t){var e=(t=Object(R.isArray)(t)?t[0]:t)._origin;if(this.idFields.length){for(var i=e[this.idFields[0]],n=1;n<this.idFields.length;n++)i+="-"+e[this.idFields[n]];return i}for(var r=this.type,o=this.getXScale(),a=this.getYScale(),s=o.field||"x",l=e[a.field||"y"],u="identity"===o.type?o.values[0]:e[s],c="interval"===r||"schema"===r?u:"line"===r||"area"===r||"path"===r?r:u+"-"+l,h=this.groupScales,p=(n=0,h.length);n<p;n++)c=c+"-"+e[h[n].field];var f,d=this.getAdjust("dodge");return!d||(f=d.dodgeBy)&&(c=c+"-"+e[f]),this.getAdjust("jitter")&&(c=c+"-"+t.x+"-"+t.y),c},Hi.prototype.getScaleFields=function(){var t,e=[],i={},n=this.attributeOption,r=this.labelOption,o=this.tooltipOption;for(var a in n)n.hasOwnProperty(a)&&((t=n[a]).fields?pt(t.fields,e,i):t.values&&pt(t.values,e,i));return r&&r.fields&&pt(r.fields,e,i),Object(R.isObject)(o)&&o.fields&&pt(o.fields,e,i),e},Hi.prototype.changeVisible=function(t){Xi.prototype.changeVisible.call(this,t);for(var e=this.elements,i=0,n=e.length;i<n;i++)e[i].changeVisible(t);t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},Hi.prototype.getGroupFields=function(){for(var t=[],e={},i=0,n=g.length;i<n;i++){var r=g[i],o=this.attributeOption[r];o&&o.fields&&pt(o.fields,t,e)}return t},Hi.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},Hi.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},Hi.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},Hi.prototype.sort=function(t){if(!this.hasSorted)for(var i=this.getXScale(),n=i.field,e=0;e<t.length;e++)t[e].sort(function(t,e){return i.translate(t._origin[n])-i.translate(e._origin[n])});this.hasSorted=!0},Hi.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},Hi.prototype.getShapeFactory=function(){var t=this.shapeType;if(Ri(t))return this.shapeFactory||(this.shapeFactory=Object(R.clone)(Ri(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},Hi.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),i=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:i?this.normalizeValues(t[i.field],i):t.y?t.y:.1,y0:i?i.scale(this.getYMinValue()):void 0}},Hi.prototype.createElement=function(t,e){void 0===e&&(e=!1);var i=this.container,n=this.getDrawCfg(t),r=this.getShapeFactory(),o=new Mi({shapeFactory:r,container:i,offscreenGroup:this.getOffscreenGroup()});return o.animate=this.animateOption,o.geometry=this,o.draw(n,e),o},Hi.prototype.getDrawCfg=function(t){var e=t._origin,i={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},n=t.shape;!n&&this.getShapeFactory()&&(n=this.getShapeFactory().defaultShapeType),i.shape=n;var r=this.theme.geometries[this.shapeType];i.defaultStyle=Object(R.get)(r,[n,"default"],{}).style;var o=this.styleOption;return o&&(i.style=this.getStyleCfg(o,e)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},Hi.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);for(var n=this.lastElementsMap,r=this.elementsMap,o=this.elements,a=0,s=t.length;a<s;a++){var l=t[a],u=this.getElementId(l);r[u]&&(u=u+"-"+e+"-"+a);var c,h,p=n[u];p?(c=this.getDrawCfg(l),h=p.getModel(),(this.isCoordinateChanged||Ni(c,h))&&(p.animate=this.animateOption,p.update(c)),delete n[u]):p=this.createElement(l,i),o.push(p),r[u]=p}return o},Hi.prototype.getLabelType=function(){var t=this.labelOption,e=this.coordinate,i=this.type,n=e.type;return Object(R.get)(t,["cfg","type"])||("polar"===n?"polar":"theta"===n?"pie":"interval"===i||"polygon"===i?"interval":"base")},Hi.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,i=t.max;return 0<=e?e:i<=0?i:0},Hi.prototype.createAttrOption=function(t,e,i){var n;Object(R.isNil)(e)||Object(R.isObject)(e)?Object(R.isObject)(e)&&Object(R.isEqual)(Object.keys(e),["values"])?Object(R.set)(this.attributeOption,t,{fields:e.values}):Object(R.set)(this.attributeOption,t,e):(n={},Object(R.isNumber)(e)?n.values=[e]:n.fields=Yi(e),i&&(Object(R.isFunction)(i)?n.callback=i:n.values=i),Object(R.set)(this.attributeOption,t,n))},Hi.prototype.initAttributes=function(){var l=this,u=this.attributes,c=this.attributeOption,h=this.theme,p=this.shapeType;function t(i){if(c.hasOwnProperty(i)){var t=c[i];if(!t)return{value:void 0};var e=Object(S.__assign)({},t),n=e.callback,r=e.values,o=e.fields,a=(void 0===o?[]:o).map(function(t){var e=l.scales[t];return e.isCategory&&!f[t]&&g.includes(i)&&(l.groupScales.push(e),f[t]=!0),e});e.scales=a,"position"!==i&&1===a.length&&"identity"===a[0].type?e.values=a[0].values:n||r||("size"===i?e.values=h.sizes:"shape"===i?e.values=h.shapes[p]||[]:"color"===i&&(a.length?e.values=a[0].values.length<=10?h.colors10:h.colors20:e.values=h.colors10));var s=Object(x.getAttribute)(i);u[i]=new s(e)}}this.groupScales=[];var f={};for(var e in c){var i=t(e);if("object"===Gi(i))return i.value}},Hi.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales.filter(function(t){return t.isCategory}),i=this.groupData(t),n=[],r=0,o=i.length;r<o;r++){for(var a=i[r],s=[],l=0,u=a.length;l<u;l++){var c=a[l],h={};for(var p in c)h[p]=c[p];h._origin=c;for(var f=0,d=e;f<d.length;f++){var g=d[f],y=g.field;h[y]=g.translate(h[y])}s.push(h)}n.push(s)}var v=this.adjustData(n);return this.beforeMappingData=v},Hi.prototype.adjustData=function(t){var e=this.adjustOption,i=t;if(e)for(var n=this.getXScale(),r=this.getYScale(),o=n.field,a=r?r.field:null,s=0,l=e.length;s<l;s++){var u,c,h=e[s],p=Object(S.__assign)({xField:o,yField:a},h),f=h.type;if("dodge"===f){var d=[];if(n.isCategory||"identity"===n.type)d.push("x");else{if(r)throw new Error("dodge is not support linear attribute, please use category attribute!");d.push("y")}p.adjustNames=d,p.dodgeRatio=this.theme.columnWidthRatio}else"stack"===f&&(u=this.coordinate,r||(p.height=u.getHeight(),c=this.getDefaultValue("size")||3,p.size=c),!u.isTransposed&&Object(R.isNil)(p.reverseOrder)&&(p.reverseOrder=!0));var g=new(Ve(f))(p),i=g.process(i);this.adjusts[f]=g}return i},Hi.prototype.groupData=function(t){for(var e=this.getGroupScales(),i=this.scaleDefs,n={},r=[],o=0;o<e.length;o++){var a=e[o].field;r.push(a),Object(R.get)(i,[a,"values"])&&(n[a]=i[a].values)}return function(t,e,i){if(void 0===i&&(i={}),!e)return[t];var n,r=Object(R.groupToMap)(t,e),o=[];if(1===e.length&&i[e[0]])for(var a=0,s=i[e[0]];a<s.length;a++){var l=r["_"+s[a]];l&&o.push(l)}else for(var u in r)r.hasOwnProperty(u)&&(n=r[u],o.push(n));return o}(t,r,n)},Hi.prototype.updateStackRange=function(t,e){for(var i=Object(R.flatten)(e),n=t.field,r=t.min,o=t.max,a=0;a<i.length;a++){var s=i[a],l=Math.min.apply(null,s[n]),u=Math.max.apply(null,s[n]);l<r&&(r=l),o<u&&(o=u)}var c=this.scaleDefs,h={};r<t.min&&!Object(R.get)(c,[n,"min"])&&(h.min=r),o>t.max&&!Object(R.get)(c,[n,"max"])&&(h.max=o),t.change(h)},Hi.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var i=0,n=e.length;i<n;i++){var r=e[i];this.generateShapePoints(r);var o=e[i+1];o&&(this.generateShapePoints(o),r[0].nextPoints=o[0].points)}return e},Hi.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),i=this.getAttribute("shape"),n=0;n<t.length;n++){var r=t[n],o=this.createShapePointsCfg(r),a=i?this.getAttributeValues(i,r):null,s=e.getShapePoints(a,o);r.points=s}},Hi.prototype.normalizeValues=function(t,e){var i=[];if(Object(R.isArray)(t))for(var n=0;n<t.length;n++){var r=t[n];i.push(e.scale(r))}else i=e.scale(t);return i},Hi.prototype.mapping=function(t){for(var e=this.attributes,i=[],n=0;n<t.length;n++){var r=t[n],o={_origin:r._origin,points:r.points,nextPoints:r.nextPoints};for(var a in e)if(e.hasOwnProperty(a)){var s=e[a],l=s.names,u=this.getAttributeValues(s,r);if(1<l.length)for(var c=0;c<u.length;c+=1){var h=u[c];o[l[c]]=Object(R.isArray)(h)&&1===h.length?h[0]:h}else o[l[0]]=1===u.length?u[0]:u}this.convertPoint(o),i.push(o)}return i},Hi.prototype.convertPoint=function(t){var e=t.x,i=t.y,n=this.coordinate;if(Object(R.isArray)(e)&&Object(R.isArray)(i)){f=[],d=[];for(var r=0,o=0,a=e.length,s=i.length;r<a&&o<s;r+=1,o+=1)c=n.convert({x:e[r],y:i[o]}),f.push(c.x),d.push(c.y)}else if(Object(R.isArray)(i)){d=[];for(var l=0;l<i.length;l++){var u=i[l],c=n.convert({x:e,y:u});f&&f!==c.x?(Object(R.isArray)(f)||(f=[f]),f.push(c.x)):f=c.x,d.push(c.y)}}else if(Object(R.isArray)(e))for(f=[],l=0;l<e.length;l++){var h=e[l];c=n.convert({x:h,y:i}),d&&d!==c.y?(Object(R.isArray)(d)||(d=[d]),d.push(c.y)):d=c.y,f.push(c.x)}else var p=n.convert({x:e,y:i}),f=p.x,d=p.y;t.x=f,t.y=d},Hi.prototype.getStyleCfg=function(t,e){var i=t.fields,n=void 0===i?[]:i,r=t.callback,o=t.cfg;if(o)return o;var a=n.map(function(t){return e[t]});return r.apply(void 0,a)},Hi.prototype.setCfg=function(t){var i=this,e=t.coordinate,n=t.data,r=t.theme,o=t.scaleDefs;e&&(this.coordinate=e),n&&(this.data=n),o&&(this.scaleDefs=o,this.idFields=[],Object(R.each)(o,function(t,e){t&&t.key&&i.idFields.push(e)})),r&&(this.theme=this.userTheme?Object(R.deepMix)({},r,this.userTheme):r)},Hi.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var i=this.geometryLabel;i||(i=new(Pi(this.getLabelType()))(this),this.geometryLabel=i),i.render(t,e);var c=i.labelsRenderer.shapesMap;Object(R.each)(this.elementsMap,function(t,e){var i,n,r,o=(i=e,n=c,r=[],Object(R.each)(n,function(t,e){e.split(" ")[0]===i&&r.push(t)}),r);if(o.length){t.labelShape=o;for(var a=0;a<o.length;a++)for(var s=o[a].getChildren(),l=0;l<s.length;l++){var u=s[l];u.cfg.name=["element","label"],u.cfg.element=t}}})},Hi.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(R.get)(this.animateOption,"appear")||Object(R.get)(this.animateOption,"appear")&&void 0===Object(R.get)(this.animateOption,["appear","animation"]))},Hi),zi=F.ext.transform;function Hi(t){var e=Xi.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var i=t.container,n=t.labelsContainer,r=t.coordinate,o=t.data,a=t.sortable,s=void 0!==a&&a,l=t.visible,u=void 0===l||l,c=t.theme,h=t.scales,p=void 0===h?{}:h,f=t.scaleDefs,d=void 0===f?{}:f;return e.container=i,e.labelsContainer=n,e.coordinate=r,e.data=o,e.sortable=s,e.visible=u,e.userTheme=c,e.scales=p,e.scaleDefs=d,e}function Wi(t,e,i){var n=zi(t.getMatrix(),[["t",e,i]]);t.setMatrix(n)}function qi(t,e){var i=t.attr(),n=i.x,r=i.y,o=zi(t.getMatrix(),[["t",-n,-r],["r",e],["t",n,r]]);t.setMatrix(o)}var Ui=(Ki.prototype.render=function(t,e,c){var h=this;void 0===c&&(c=!1),this.shapesMap={};var p=this.container,i=this.createOffscreenGroup();if(t.length){for(var n=0,r=t;n<r.length;n++){var o=r[n];o&&this.renderLabel(o,i)}this.doLayout(t,e),this.renderLabelLine(t),this.adjustLabel(t)}var f=this.lastShapesMap,d=this.shapesMap;Object(R.each)(d,function(t,e){var r,o,a,i,s,l,u,n;t.destroyed?delete d[e]:(f[e]?(r=t.get("data"),o=t.get("origin"),a=t.get("coordinate"),i=f[e],s=t.get("animateCfg"),i.set("data",r),i.set("origin",o),i.set("animateCfg",s),i.set("coordinate",a),l=Object(R.get)(s,"update"),u=i.getChildren(),t.getChildren().map(function(t,e){var i=u[e];i.set("data",r),i.set("origin",o),i.set("animateCfg",s),i.set("coordinate",a);var n=ut(i,t);l?_i(i,l,{toAttrs:n,coordinate:a}):i.attr(n)}),h.shapesMap[e]=i):(p.add(t),(n=Object(R.get)(t.get("animateCfg"),c?"enter":"appear"))&&_i(t,n,{toAttrs:Object(S.__assign)({},t.attr()),coordinate:t.get("coordinate")})),delete f[e])}),Object(R.each)(f,function(t){var e=Object(R.get)(t.get("animateCfg"),"leave");e?_i(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)}),this.lastShapesMap=d,i.destroy()},Ki.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},Ki.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},Ki.prototype.renderLabel=function(t,e){var i,n,r,o,a,s,l=t.id,u=t.data,c=t.mappingData,h=t.coordinate,p=t.animate,f=t.content,d={id:l,data:u,origin:c,coordinate:h},g=e.addGroup(Object(S.__assign)({name:"label",animateCfg:!1!==this.animate&&null!==p&&!1!==p&&Object(R.deepMix)({},this.animate,p)},d));f.isGroup&&f.isGroup()||f.isShape&&f.isShape()?(r=(n=f.getCanvasBBox()).width,o=n.height,a=Object(R.get)(t,"textAlign","left"),s=t.x,"center"===a?s-=r/2:"right"!==a&&"end"!==a||(s-=r),Wi(f,s,t.y-o/2),i=f,g.add(f)):i=g.addShape("text",Object(S.__assign)({attrs:Object(S.__assign)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(R.get)(t,"textBaseline","middle"),text:t.content},t.style)},d)),t.rotate&&qi(i,t.rotate),this.shapesMap[l]=g},Ki.prototype.doLayout=function(r,o){var t,a=this;this.layout&&(t=Object(R.isArray)(this.layout)?this.layout:[this.layout],Object(R.each)(t,function(t){var i,n,e=Ai(Object(R.get)(t,"type",""));e&&(i=[],n=[],Object(R.each)(a.shapesMap,function(t,e){i.push(t),n.push(o[e])}),e(r,i,n,a.region,t.cfg))}))},Ki.prototype.renderLabelLine=function(t){var a=this;Object(R.each)(t,function(t){var e,i,n,r,o;t&&t.labelLine&&(e=Object(R.get)(t,"labelLine",{}),i=t.id,(r=e.path)||(r=[["M",(n=t.start).x,n.y],["L",t.x,t.y]]),(o=a.shapesMap[i]).destroyed||o.addShape("path",{capture:!1,attrs:Object(S.__assign)({path:r,stroke:t.color?t.color:Object(R.get)(t,["style","fill"],"#000"),fill:null},e.style),id:i,origin:t.mappingData,data:t.data,coordinate:t.coordinate}))})},Ki.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},Ki.prototype.adjustLabel=function(t){var r=this;Object(R.each)(t,function(t){var e,i,n;t&&(e=t.id,(i=r.shapesMap[e]).destroyed||(n=i.find(function(t){return"text"===t.get("type")}))&&(t.offsetX&&n.attr("x",n.attr("x")+t.offsetX),t.offsetY&&n.attr("y",n.attr("y")+t.offsetY)))})},Ki);function Ki(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,i=t.container;this.layout=e,this.container=i}var Zi=(cn.prototype.getLabelItems=function(t){var a=this,s=[],i=this.getLabelCfgs(t);return Object(R.each)(t,function(n,t){var e,r,o=i[t];!o||Object(R.isNil)(n.x)||Object(R.isNil)(n.y)?s.push(null):(e=Object(R.isArray)(o.content)?o.content:[o.content],r=(o.content=e).length,Object(R.each)(e,function(t,e){var i;Object(R.isNil)(t)||""===t?s.push(null):((i=Object(S.__assign)(Object(S.__assign)({},o),a.getLabelPoint(o,n,e))).textAlign||(i.textAlign=a.getLabelAlign(i,e,r)),i.offset<=0&&(i.labelLine=null),s.push(i))}))}),s},cn.prototype.render=function(t,e){void 0===e&&(e=!1);var i=this.getLabelItems(t),n=this.getLabelsRenderer(),r=this.getGeometryShapes();n.render(i,r,e)},cn.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},cn.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},cn.prototype.getCoordinate=function(){return this.geometry.coordinate},cn.prototype.getDefaultLabelCfg=function(){return Object(R.get)(this.geometry.theme,"labels",{})},cn.prototype.setLabelPosition=function(t,e,i,n){},cn.prototype.getDefaultOffset=function(t){var e=this.getCoordinate(),i=this.getOffsetVector(t);return e.isTransposed?i[0]:i[1]},cn.prototype.getLabelOffset=function(t,e,i){var n=this.getDefaultOffset(t.offset),r=this.getCoordinate().isTransposed,o=r?1:-1,a={x:0,y:0};return a[r?"x":"y"]=0<e||1===i?n*o:n*o*-1,a},cn.prototype.getLabelPoint=function(o,t,e){var i=this.getCoordinate(),n=o.content.length;function r(t,e){var i,n,r=t;return Object(R.isArray)(r)&&(r=1===o.content.length?r.length<=2?r[t.length-1]:(i=r,n=0,Object(R.each)(i,function(t){n+=t}),n/i.length):r[e]),r}var a,s={content:o.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};t&&"polygon"===this.geometry.type?(a=function(t,e){if(Object(R.isNumber)(t)&&Object(R.isNumber)(e))return[t,e];for(var i,n,r=-1,o=0,a=0,s=t.length-1,l=0;++r<t.length;)i=s,s=r,l+=n=t[i]*e[s]-t[s]*e[i],o+=(t[i]+t[s])*n,a+=(e[i]+e[s])*n;return[o/(l*=3),a/l]}(t.x,t.y),s.x=a[0],s.y=a[1]):(s.x=r(t.x,e),s.y=r(t.y,e));var l,u,c,h,p=Object(R.isArray)(t.shape)?t.shape[0]:t.shape;"funnel"!==p&&"pyramid"!==p||(l=Object(R.get)(t,"nextPoints"),u=Object(R.get)(t,"points"),l?(c=i.convert(u[1]),h=i.convert(l[1]),s.x=(c.x+h.x)/2,s.y=(c.y+h.y)/2):"pyramid"===p&&(c=i.convert(u[1]),h=i.convert(u[2]),s.x=(c.x+h.x)/2,s.y=(c.y+h.y)/2)),o.position&&this.setLabelPosition(s,t,e,o.position);var f=this.getLabelOffset(o,e,n);return s.start={x:s.x,y:s.y},s.x+=f.x,s.y+=f.y,s.color=t.color,s},cn.prototype.getLabelAlign=function(t,e,i){var n,r="center";return this.getCoordinate().isTransposed&&(r=(n=this.getDefaultOffset(t.offset))<0?"right":0===n?"center":"left",1<i&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))),r},cn.prototype.getLabelId=function(t){var e=this.geometry,i=e.type,n=e.getXScale(),r=e.getYScale(),o=t._origin,a=e.getElementId(t);return"line"===i||"area"===i?a+=" "+o[n.field]:"path"===i&&(a+=" "+o[n.field]+"-"+o[r.field]),a},cn.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,i=t.labelOption,n=t.canvasRegion,r=t.animateOption,o=this.geometry.coordinate,a=this.labelsRenderer;return a||(a=new Ui({container:e,layout:Object(R.get)(i,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=a),a.region=n,a.animate=!!r&&bi("label",o),a},cn.prototype.getLabelCfgs=function(t){var l=this,e=this.geometry,u=this.getDefaultLabelCfg(),c=e.type,h=e.theme,i=e.labelOption,n=e.scales,p=e.coordinate,f=i.fields,d=i.callback,g=i.cfg,y=f.map(function(t){return n[t]}),v=[];return Object(R.each)(t,function(t,e){var i=t._origin,n=l.getLabelText(i,y);if(d){var r=f.map(function(t){return i[t]}),o=d.apply(void 0,r);if(Object(R.isNil)(o))return void v.push(null)}var a=Object(S.__assign)(Object(S.__assign)({id:l.getLabelId(t),data:i,mappingData:t,coordinate:p},g),o),s=a.content;Object(R.isFunction)(s)?a.content=s(i,t,e):Object(R.isUndefined)(s)&&(a.content=n[0]),Object(R.isFunction)(a.position)&&(a.position=a.position(i,t,e)),a="polygon"===c||a.offset<0&&!["line","point","path"].includes(c)?Object(R.deepMix)({},u,h.innerLabels,a):Object(R.deepMix)({},u,h.labels,a),v.push(a)}),v},cn.prototype.getLabelText=function(i,t){var n=[];return Object(R.each)(t,function(e){var t=i[e.field],t=Object(R.isArray)(t)?t.map(function(t){return e.getText(t)}):e.getText(t);Object(R.isNil)(t)||""===t?n.push(null):n.push(t)}),n},cn.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate();return e.isTransposed?e.applyMatrix(t,0):e.applyMatrix(0,t)},cn.prototype.getGeometryShapes=function(){var i=this.geometry,n={};return Object(R.each)(i.elementsMap,function(t,e){n[e]=t.shape}),Object(R.each)(i.getOffscreenGroup().getChildren(),function(t){var e=i.getElementId(t.get("origin").mappingData);n[e]=t}),n},cn),$i=i(125),Qi="4.0.10",Ji="#000",tn="#FFFFFF",en="#A6A6A6",nn="#737373",rn="#404040",on="#262626",an=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],sn={backgroundColor:"#141414",brandColor:an[0],paletteQualitative10:an,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:rn,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:en,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:rn,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:on,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:nn,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:on,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:nn,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:an[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:en,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:on,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:nn,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:on,annotationArcBorder:.5,annotationLineBorderColor:rn,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:en,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#0D0D0D",annotationTextBorder:1.5,annotationRegionFillColor:tn,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:rn,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:en,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:en,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ji,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:rn,pointFillColor:an[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ji,pointBorderOpacity:1,pointActiveBorderColor:tn,pointSelectedBorder:2,pointSelectedBorderColor:tn,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:an[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Ji,hollowPointActiveBorder:1,hollowPointActiveBorderColor:tn,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:tn,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:an[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:an[0],areaFillOpacity:.25,areaActiveFillColor:an[0],areaActiveFillOpacity:.5,areaSelectedFillColor:an[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:an[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:tn,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:tn,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:an[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:tn,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:tn,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:an[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ji,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:tn,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:tn,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},ln=i(108),un=i(116);function cn(t){this.geometry=t}function hn(t){return!t&&(null==t||isNaN(t))}function pn(t){if(Object(R.isArray)(t))return hn(t[1].y);var e=t.y;return Object(R.isArray)(e)?hn(e[0]):hn(e)}function fn(t,e){if(!t.length)return[];if(e){for(var i=[],n=0,r=t.length;n<r;n++)pn(o=t[n])||i.push(o);return[i]}for(var o,a=[],s=[],n=0,r=t.length;n<r;n++){pn(o=t[n])?s.length&&(a.push(s),s=[]):s.push(o)}return s.length&&a.push(s),a}function dn(t,e,i,n){void 0===n&&(n="");var r=t.style,o=void 0===r?{}:r,a=t.defaultStyle,s=t.color,l=t.size,u=Object(S.__assign)(Object(S.__assign)({},a),o);return s&&(e&&(o.stroke||(u.stroke=s)),i&&(o.fill||(u.fill=s))),n&&Object(R.isNil)(o[n])&&!Object(R.isNil)(l)&&(u[n]=l),u}function gn(t){var i=t.x;return(Object(R.isArray)(t.y)?t.y:[t.y]).map(function(t,e){return{x:Object(R.isArray)(i)?i[e]:i,y:t}})}var yn={line:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},dot:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},dash:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},smooth:function(t,e,i){return[["M",t-i,e],["A",i/2,i/2,0,1,1,t,e],["A",i/2,i/2,0,1,0,t+i,e]]},hv:function(t,e,i){return[["M",t-i-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+i+1,e+2.5]]},vh:function(t,e,i){return[["M",t-i-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+i+1,e-2.5]]},hvh:function(t,e,i){return[["M",t-(i+1),e+2.5],["L",t-i/2,e+2.5],["L",t-i/2,e-2.5],["L",t+i/2,e-2.5],["L",t+i/2,e+2.5],["L",t+i+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function vn(t,e){var i=t.color;return{symbol:yn[e],style:{lineWidth:2,r:6,stroke:i}}}function mn(t,e,i,n){var r;return i?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),r=_t(t,!1,n)):(r=bt(t,!1),e&&r.push(["Z"])),r}Bi("line",{defaultShapeType:"line"}),Object(R.each)(["line","dot","dash","smooth"],function(l){Fi("line",l,{draw:function(t,e){var i,n,r,o,a="smooth"===l;a&&(n=(i=this.coordinate).start,r=i.end,o=[[n.x,r.y],[r.x,n.y]]);var s=function(t,e,i){for(var n,r,o,a,s,l,u=t.isStack,c=t.connectNulls,h=t.isInCircle,p=fn(t.points,c),f=[],d=0,g=p.length;d<g;d++)var y=p[d],f=f.concat((r=h,o=u,a=e,s=i,l=(n=y)[0],Object(R.isArray)(l.y)?function(t,e,i,n,r){var o=[],a=[];Object(R.each)(t,function(t){var e=gn(t);o.push(e[1]),a.push(e[0])});var s=mn(o,e,n,r),l=mn(a,e,n,r);return i?s:s.concat(l)}(n,r,o,a,s):mn(n,r,a,s)));var v=dn(t,!0,!1,"lineWidth");return v.path=f,v}(t,a,o);return e.addShape({type:"path",attrs:s,name:"line"})},getMarker:function(t){return vn(t,l)}})});var xn,bn=(xn=Vi,Object(S.__extends)(_n,xn),_n.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);var n,r,o=this.lastElementsMap,a=this.elementsMap,s=this.elements,l=this.container,u=this.getElementId(t),c=this.getShapeInfo(t),h=o[u];return h?(n=h.getModel(),(this.isCoordinateChanged||Ni(n,c))&&(h.animate=this.animateOption,h.update(c)),delete o[u]):(r=this.getShapeFactory(),(h=new Mi({shapeFactory:r,container:l,offscreenGroup:this.getOffscreenGroup()})).geometry=this,h.animate=this.animateOption,h.draw(c,i)),s.push(h),a[u]=h,s},_n.prototype.getPointsAndData=function(t){for(var e=[],i=[],n=0,r=t.length;n<r;n++){var o=t[n];e.push({x:o.x,y:o.y}),i.push(o._origin)}return{points:e,data:i}},_n.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),i=this.getPointsAndData(t),n=i.points,r=i.data;return e.mappingData=t,e.data=r,e.isStack=!!this.getAdjust("stack"),e.points=n,e.connectNulls=this.connectNulls,e},_n);function _n(t){var e=xn.call(this,t)||this;e.type="path",e.shapeType="line";var i=t.connectNulls,n=void 0!==i&&i;return e.connectNulls=n,e}function On(t,o,a,s,l){for(var e=[],i=[],n=0,r=t.length;n<r;n++){var u=t[n];e.push(u[1]),i.push(u[0])}i=i.reverse();var c=[];return Object(R.each)([e,i],function(t,e){var i=[],n=s.parsePoints(t),r=n[0];o&&n.push({x:r.x,y:r.y}),i=a?_t(n,!1,l):bt(n,!1),0<e&&(i[0][0]="L"),c=c.concat(i)}),c.push(["Z"]),c}function wn(t,e,i,n,r){for(var o=dn(t,e,!e,"lineWidth"),a=t.connectNulls,s=t.isInCircle,l=fn(t.points,a),u=[],c=0,h=l.length;c<h;c++)var p=l[c],u=u.concat(On(p,s,i,n,r));return o.path=u,o}function Mn(t){var e=t.start,i=t.end;return[[e.x,i.y],[i.x,e.y]]}Bi("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,i=t.y0;return(Object(R.isArray)(t.y)?t.y:[i,t.y]).map(function(t){return{x:e,y:t}})}}),Fi("area","area",{draw:function(t,e){var i=wn(t,!1,!1,this);return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:t.color}}}});var Cn,Sn=(Cn=bn,Object(S.__extends)(jn,Cn),jn.prototype.getPointsAndData=function(t){for(var e=[],i=[],n=0,r=t.length;n<r;n++){var o=t[n];e.push(o.points),i.push(o._origin)}return{points:e,data:i}},jn.prototype.getYMinValue=function(){return this.startOnZero?Cn.prototype.getYMinValue.call(this):this.getYScale().min},jn);function jn(t){var e=Cn.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var i=t.startOnZero,n=void 0===i||i,r=t.sortable,o=void 0===r||r;return e.startOnZero=n,e.sortable=o,e}Bi("edge",{defaultShapeType:"line",getDefaultPoints:gn}),Fi("edge","line",{draw:function(t,e){var i=dn(t,!0,!1,"lineWidth"),n=bt(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var Pn,Tn,An=(Tn=Vi,Object(S.__extends)(In,Tn),In),En=i(40),Ln=(Pn=Vi,Object(S.__extends)(kn,Pn),kn.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);var n=this.prepareRange(t),r=this.prepareSize(),o=Object(R.get)(this.styleOption,["style","shadowBlur"]);return Object(R.isNumber)(o)||(o=r/2),this.prepareGreyScaleBlurredCircle(r,o),this.drawWithRange(t,n,r,o),null},kn.prototype.clear=function(){Pn.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},kn.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach(function(t){var e=t._origin[i];r<e&&(r=e),e<n&&(n=e)}),n===r&&(n=r-1),[n,r]},kn.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Object(R.isNumber)(t)||(t=this.getDefaultSize()),t},kn.prototype.prepareGreyScaleBlurredCircle=function(t,e){var i=this.getGrayScaleBlurredCanvas(),n=t+e,r=i.getContext("2d");i.width=i.height=2*n,r.clearRect(0,0,i.width,i.height),r.shadowOffsetX=r.shadowOffsetY=2*n,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-n,-n,t,0,2*Math.PI,!0),r.closePath(),r.fill()},kn.prototype.drawWithRange=function(t,e,i,n){var r=this.coordinate,o=r.start,a=r.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(t){return t._origin[u]<=e[1]&&t._origin[u]>=e[0]}));for(var h=this.scales[u],p=0,f=t;p<f.length;p++){var d=f[p],g=this.getDrawCfg(d),y=g.x,v=g.y,m=h.scale(d._origin[u]);this.drawGrayScaleBlurredCircle(y-o.x,v-a.y,i+n,m,c)}var x=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(x),c.putImageData(x,0,0);var b=this.getImageShape();b.attr("x",o.x),b.attr("y",a.y),b.attr("width",s),b.attr("height",l),b.attr("img",c.canvas),b.set("origin",this.getShapeInfo(t))},kn.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},kn.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},kn.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},kn.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},kn.prototype.drawGrayScaleBlurredCircle=function(t,e,i,n,r){var o=this.getGrayScaleBlurredCanvas();r.globalAlpha=n,r.drawImage(o,t-i,e-i)},kn.prototype.colorize=function(t){for(var e=this.getAttribute("color"),i=t.data,n=this.paletteCache,r=3;r<i.length;r+=4){var o,a=i[r];Object(R.isNumber)(a)&&(o=n[a]?n[a]:En.default.rgb2arr(e.gradient(a/256)),i[r-3]=o[0],i[r-2]=o[1],i[r-1]=o[2],i[r]=a)}},kn.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t)},kn.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(S.__assign)(Object(S.__assign)({},e),{mappingData:t,data:this.getData(t)})},kn.prototype.getData=function(t){return t.map(function(t){return t._origin})},kn);function kn(){var t=null!==Pn&&Pn.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}function In(){var t=null!==Tn&&Tn.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}function Dn(t,e){void 0===e&&(e=!1);var i,n,r=t.x,o=t.y,a=t.y0,s=t.size,l=Object(R.isArray)(o)?(i=o[0],o[1]):(i=a,o),u=Object(R.isArray)(r)?(n=r[0],r[1]):(n=r-s/2,r+s/2),c=[{x:n,y:i},{x:n,y:l}];return e?c.push({x:u,y:(l+i)/2}):c.push({x:u,y:l},{x:u,y:i}),c}function Bn(t){var e=[],i=t[0];e.push(["M",i.x,i.y]);for(var n=1,r=t.length;n<r;n++)e.push(["L",t[n].x,t[n].y]);return e.push(["L",i.x,i.y]),e.push(["z"]),e}function Fn(t,e,i){var n=[];return Object(R.isNil)(e)?i?n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[2].x,t[2].y],["Z"]):n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),n}function Rn(t){var e,i=t.theme,n=t.coordinate,r=t.getXScale(),o=r.values,a=t.beforeMappingData,s=o.length;r.isLinear&&1<o.length&&(o.sort(),e=function(t,e){var i=t.length,n=t;Object(R.isString)(n[0])&&(n=t.map(function(t){return e.translate(t)}));for(var r=n[1]-n[0],o=2;o<i;o++){var a=n[o]-n[o-1];a<r&&(r=a)}return r}(o,r),s=(r.max-r.min)/e,o.length>s&&(s=o.length));var l=r.range,u=1/s,c=1,c=n.isPolar?n.isTransposed&&1<s?i.multiplePieWidthRatio:i.roseWidthRatio:(r.isLinear&&(u*=l[1]-l[0]),i.columnWidthRatio);u*=c,t.getAdjust("dodge")&&(u/=function(t,e){if(e){var i=Object(R.flatten)(t);return Object(R.valuesOfKey)(i,e).length}return t.length}(a,t.getAdjust("dodge").dodgeBy));var h,p,f=i.maxColumnWidth,d=i.minColumnWidth,g=ft(t.coordinate);return!f||(h=f/g)<u&&(u=h),!d||u<(p=d/g)&&(u=p),u}Bi("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return Dn(t)}}),Fi("interval","rect",{draw:function(t,e){var i=dn(t,!1,!0),n=this.parsePath(Bn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var Nn,Yn,Gn=(Yn=Vi,Object(S.__extends)(Wn,Yn),Wn.prototype.createShapePointsCfg=function(t){var e,i=Yn.prototype.createShapePointsCfg.call(this,t),n=this.getAttribute("size");return n?(e=this.getAttributeValues(n,t)[0],e/=ft(this.coordinate)):(this.defaultSize||(this.defaultSize=Rn(this)),e=this.defaultSize),i.size=e,i},Wn.prototype.adjustScale=function(){Yn.prototype.adjustScale.call(this);var t,e,i,n,r=this.getYScale();"theta"===this.coordinate.type?r.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,r.values),r.max)}):(t=this.scaleDefs,e=r.field,i=r.min,n=r.max,"time"!==r.type&&(0<i&&!Object(R.get)(t,[e,"min"])&&r.change({min:0}),n<=0&&!Object(R.get)(t,[e,"max"])&&r.change({max:0})))},Wn),Xn=(Nn=bn,Object(S.__extends)(Hn,Nn),Hn),Vn={hexagon:function(t,e,i){var n=i/2*Math.sqrt(3);return[["M",t,e-i],["L",t+n,e-i/2],["L",t+n,e+i/2],["L",t,e+i],["L",t-n,e+i/2],["L",t-n,e-i/2],["Z"]]},bowtie:function(t,e,i){var n=i-1.5;return[["M",t-i,e-n],["L",t+i,e+n],["L",t+i,e-n],["L",t-i,e+n],["Z"]]},cross:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e+i],["M",t+i,e-i],["L",t-i,e+i]]},tick:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},plus:function(t,e,i){return[["M",t-i,e],["L",t+i,e],["M",t,e-i],["L",t,e+i]]},hyphen:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},line:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]}},zn=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function Hn(t){var e=Nn.call(this,t)||this;e.type="line";var i=t.sortable,n=void 0===i||i;return e.sortable=n,e}function Wn(){var t=null!==Yn&&Yn.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}function qn(t,e,i,n,r){var o=dn(e,r,!r,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(1<a.length){for(var l=i.addGroup(),u=0,c=a;u<c.length;u++){var h=c[u];l.addShape({type:"marker",attrs:Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},o),{symbol:Vn[n]||n}),h)})}return l}return i.addShape({type:"marker",attrs:Object(S.__assign)(Object(S.__assign)(Object(S.__assign)({},o),{symbol:Vn[n]||n}),s)})}Bi("point",{defaultShapeType:"hollow-circle",getDefaultPoints:gn}),Object(R.each)(zn,function(i){Fi("point","hollow-"+i,{draw:function(t,e){return qn(this,t,e,i,!0)},getMarker:function(t){var e=t.color;return{symbol:Vn[i]||i,style:{r:4.5,stroke:e,fill:null}}}})});var Un,Kn=(Un=Vi,Object(S.__extends)(Zn,Un),Zn.prototype.getDrawCfg=function(t){var e=Un.prototype.getDrawCfg.call(this,t);return Object(S.__assign)(Object(S.__assign)({},e),{isStack:!!this.getAdjust("stack")})},Zn);function Zn(){var t=null!==Un&&Un.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}Bi("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(n){var r=[];return Object(R.each)(n.x,function(t,e){var i=n.y[e];r.push({x:t,y:i})}),r}}),Fi("polygon","polygon",{draw:function(t,e){if(!Object(R.isEmpty)(t.points)){var i=dn(t,!0,!0),n=this.parsePath(function(t){for(var e=t[0],i=1,n=[["M",e.x,e.y]];i<t.length;){var r=t[i];r.x===t[i-1].x&&r.y===t[i-1].y||(n.push(["L",r.x,r.y]),r.x===e.x&&r.y===e.y&&i<t.length-1&&(e=t[i+1],n.push(["Z"]),n.push(["M",e.x,e.y]),i++)),i++}return Object(R.isEqual)(Object(R.last)(n),e)||n.push(["L",e.x,e.y]),n.push(["Z"]),n}(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var $n,Qn,Jn=(Qn=Vi,Object(S.__extends)(ir,Qn),ir.prototype.createShapePointsCfg=function(t){var e,i,n,r,o,a=Qn.prototype.createShapePointsCfg.call(this,t),s=a.x,l=a.y;return Object(R.isArray)(s)&&Object(R.isArray)(l)||(i=this.getXScale(),n=this.getYScale(),r=.5/i.values.length,o=.5/n.values.length,i.isCategory&&n.isCategory?(s=[s-r,s-r,s+r,s+r],l=[l-o,l+o,l+o,l-o]):Object(R.isArray)(s)?(s=[(e=s)[0],e[0],e[1],e[1]],l=[l-o/2,l+o/2,l+o/2,l-o/2]):Object(R.isArray)(l)&&(l=[(e=l)[0],e[1],e[1],e[0]],s=[s-r/2,s-r/2,s+r/2,s+r/2]),a.x=s,a.y=l),a},ir),tr=(Bi("schema",{defaultShapeType:""}),$n=Vi,Object(S.__extends)(er,$n),er.prototype.createShapePointsCfg=function(t){var e,i=$n.prototype.createShapePointsCfg.call(this,t),n=this.getAttribute("size");return n?(e=this.getAttributeValues(n,t)[0],e/=ft(this.coordinate)):(this.defaultSize||(this.defaultSize=Rn(this)),e=this.defaultSize),i.size=e,i},er);function er(){var t=null!==$n&&$n.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}function ir(){var t=null!==Qn&&Qn.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}function nr(t,e){var i=[];i.push({x:t.x,y:t.y/2+e.y/2}),i.push({x:e.x,y:t.y/2+e.y/2}),i.push(e);var n=["C"];return Object(R.each)(i,function(t){n.push(t.x,t.y)}),n}function rr(t,e){var i=[];i.push({x:e.x,y:e.y}),i.push(t);var n=["Q"];return Object(R.each)(i,function(t){n.push(t.x,t.y)}),n}function or(t,r){var e=fn(t.points,t.connectNulls),o=[];return Object(R.each)(e,function(t){var i,u,n,e=(i=t,u=r,n=[],Object(R.each)(i,function(s,t){var e,l=i[t+1];n.push(s),l&&(e=function(){var t=s.x,e=s.y,i=l.x,n=l.y;switch(u){case"hv":o=[{x:i,y:e}];break;case"vh":o=[{x:t,y:n}];break;case"hvh":var r=(i+t)/2,o=[{x:r,y:e},{x:r,y:n}];break;case"vhv":var a=(e+n)/2;o=[{x:t,y:a},{x:i,y:a}]}return o}(),n=n.concat(e))}),n);o=o.concat(e.map(function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}),Object(S.__assign)(Object(S.__assign)({},dn(t,!0,!1,"lineWidth")),{path:o})}function ar(t){var e=Object(R.isArray)(t)?t:[t],i=e[0],n=e[e.length-1],r=1<e.length?e[1]:i;return{min:i,max:n,min1:r,max1:3<e.length?e[3]:n,median:2<e.length?e[2]:r}}function sr(t,e,i){var n,r,o,a,s,l,u,c,h,p,f,d=i/2;return(Object(R.isArray)(e)?(r=(n=ar(e)).min,o=n.max,a=n.median,s=n.min1,[[l=t-d,o],[u=t+d,o],[t,o],[t,c=n.max1],[l,s],[l,c],[u,c],[u,s],[t,s],[t,r],[l,r],[u,r],[l,a],[u,a]]):(e=Object(R.isNil)(e)?.5:e,r=(h=ar(t)).min,o=h.max,a=h.median,[[r,p=e-d],[r,f=e+d],[r,e],[s=h.min1,e],[s,p],[s,f],[c=h.max1,f],[c,p],[c,e],[o,e],[o,p],[o,f],[a,p],[a,f]])).map(function(t){return{x:t[0],y:t[1]}})}function lr(t,e,i){var n,r,o=(n=e,function(t,e){if(Object(R.isString)(t))return t.padEnd(4,e);if(Object(R.isArray)(t)){var i=t.length;if(i<4)for(var n=4-i,r=0;r<n;r++)t.push(e)}return t}(r=(Object(R.isArray)(n)?n:[n]).sort(function(t,e){return e-t}),r[r.length-1]));return[{x:t,y:o[0]},{x:t,y:o[1]},{x:t-i/2,y:o[2]},{x:t-i/2,y:o[1]},{x:t+i/2,y:o[1]},{x:t+i/2,y:o[2]},{x:t,y:o[2]},{x:t,y:o[3]}]}Fi("area","line",{draw:function(t,e){var i=wn(t,!0,!1,this);return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),Fi("area","smooth",{draw:function(t,e){var i=wn(t,!1,!0,this,Mn(this.coordinate));return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),Fi("area","smooth-line",{draw:function(t,e){var i=wn(t,!0,!0,this,Mn(this.coordinate));return e.addShape({type:"path",attrs:i,name:"area"})},getMarker:function(t){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),Fi("edge","arc",{draw:function(t,e){var i,n,r,o,a,s,l,u,c,h=dn(t,!0,!1,"lineWidth"),p=t.points,f=2<p.length?"weight":"normal";if(t.isInCircle){var d={x:0,y:1},g="normal"==f?(s=p[0],l=p[1],u=rr(l,d),(c=[["M",s.x,s.y]]).push(u),c):(h.fill=h.stroke,n=d,r=rr((i=p)[1],n),o=rr(i[3],n),(a=[["M",i[0].x,i[0].y]]).push(o),a.push(["L",i[3].x,i[3].y]),a.push(["L",i[2].x,i[2].y]),a.push(r),a.push(["L",i[1].x,i[1].y]),a.push(["L",i[0].x,i[0].y]),a.push(["Z"]),a);return g=this.parsePath(g),e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:g})})}if("normal"==f)return g=st(((p=this.parsePoints(p))[1].x+p[0].x)/2,p[0].y,Math.abs(p[1].x-p[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:g})});var y=nr(p[1],p[3]),v=nr(p[2],p[0]);return g=[["M",p[0].x,p[0].y],["L",p[1].x,p[1].y],y,["L",p[3].x,p[3].y],["L",p[2].x,p[2].y],v,["Z"]],g=this.parsePath(g),h.fill=h.stroke,e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},h),{path:g})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Fi("edge","smooth",{draw:function(t,e){var i,n,r,o=dn(t,!0,!1,"lineWidth"),a=t.points,s=this.parsePath((i=a[0],n=nr(i,a[1]),(r=[["M",i.x,i.y]]).push(n),r));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},o),{path:s})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Fi("edge","vhv",{draw:function(t,e){var i=dn(t,!0,!1,"lineWidth"),n=t.points,r=this.parsePath(function(t,e){var i=[];i.push({x:t.x,y:t.y*(1-1/3)+e.y*(1/3)}),i.push({x:e.x,y:t.y*(1-1/3)+e.y*(1/3)}),i.push(e);var n=[["M",t.x,t.y]];return Object(R.each)(i,function(t){n.push(["L",t.x,t.y])}),n}(n[0],n[1]));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Fi("interval","funnel",{getPoints:function(t){return t.size=2*t.size,Dn(t)},draw:function(t,e){var i=dn(t,!1,!0),n=this.parsePath(Fn(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),Fi("interval","hollow-rect",{draw:function(t,e){var i=dn(t,!0,!1),n=this.parsePath(Bn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),Fi("interval","line",{getPoints:function(t){return i=t.x,e=t.y,n=t.y0,Object(R.isArray)(e)?e.map(function(t,e){return{x:Object(R.isArray)(i)?i[e]:i,y:t}}):[{x:i,y:n},{x:i,y:e}];var i,e,n},draw:function(t,e){var i=dn(t,!0,!1,"lineWidth"),n=this.parsePath(Bn(t.points));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]},style:{r:5,stroke:t.color}}}}),Fi("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,Dn(t,!0)},draw:function(t,e){var i=dn(t,!1,!0),n=this.parsePath(Fn(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},i),{path:n}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),Fi("interval","tick",{getPoints:function(t){return i=t.x,n=t.y,r=t.y0,o=t.size,a=Object(R.isArray)(n)?(e=n[0],n[1]):(e=r,n),[{x:i,y:e},{x:i,y:a},{x:l=i-o/2,y:e},{x:s=i+o/2,y:e},{x:l,y:a},{x:s,y:a}];var e,i,n,r,o,a,s,l},draw:function(t,e){var i,n=dn(t,!0,!1),r=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},style:{r:5,stroke:t.color}}}}),Object(R.each)(["hv","vh","hvh","vhv"],function(n){Fi("line",n,{draw:function(t,e){var i=or(t,n);return e.addShape({type:"path",attrs:i,name:"line"})},getMarker:function(t){return vn(t,n)}})}),Object(R.each)(["cross","tick","plus","hyphen","line"],function(i){Fi("point",i,{draw:function(t,e){return qn(this,t,e,i,!0)},getMarker:function(t){var e=t.color;return{symbol:Vn[i],style:{r:4.5,stroke:e,fill:null}}}})}),Fi("point","image",{draw:function(t,e){var i=dn(t,!1,!1,"r").r,n=this.parsePoints(t.points),r=n[0];if(t.isStack)r=n[1];else if(1<n.length){for(var o=e.addGroup(),a=0,s=n;a<s.length;a++){var l=s[a];o.addShape("image",{attrs:{x:l.x-i/2,y:l.y-i,width:i,height:i,img:t.shape[1]}})}return o}return e.addShape("image",{attrs:{x:r.x-i/2,y:r.y-i,width:i,height:i,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Object(R.each)(zn,function(i){Fi("point",i,{draw:function(t,e){return qn(this,t,e,i,!1)},getMarker:function(t){var e=t.color;return{symbol:Vn[i]||i,style:{r:4.5,fill:e}}}})}),Fi("schema","box",{getPoints:function(t){return sr(t.x,t.y,t.size)},draw:function(t,e){var i,n=dn(t,!0,!1),r=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:r,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,i){var n=sr(t,[e-6,e-3,e,e+3,e+6],i);return[["M",n[0].x+1,n[0].y],["L",n[1].x-1,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x+1,n[10].y],["L",n[11].x-1,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),Fi("schema","candle",{getPoints:function(t){return lr(t.x,t.y,t.size)},draw:function(t,e){var i,n=dn(t,!0,!0),r=this.parsePath([["M",(i=t.points)[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]);return e.addShape("path",{attrs:Object(S.__assign)(Object(S.__assign)({},n),{path:r,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,i){var n=lr(t,[e+7.5,e+3,e-3,e-7.5],i);return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});var ur,cr,hr,pr=(hr=Zi,Object(S.__extends)(mr,hr),mr.prototype.setLabelPosition=function(t,e,i,n){var r=this.getCoordinate(),o=r.isTransposed,a=e.points,s=r.convert(a[0]),l=r.convert(a[2]),u=o?-1:1,c=(s.x-l.x)/2*u,h=(s.y-l.y)/2*u;switch(n){case"right":o||(t.x-=c,t.y+=h),t.textAlign=Object(R.get)(t,"textAlign","left");break;case"left":o?t.x-=2*c:(t.x+=c,t.y+=h),t.textAlign=Object(R.get)(t,"textAlign","right");break;case"bottom":o?(t.x-=c,t.y-=h):t.y+=2*h,t.textAlign=Object(R.get)(t,"textAlign","center"),t.textBaseline=Object(R.get)(t,"textBaseline","top");break;case"middle":o?t.x-=c:t.y+=h,t.textAlign=Object(R.get)(t,"textAlign","center");break;case"top":o&&(t.x-=c,t.y+=h),t.textAlign=Object(R.get)(t,"textAlign","center"),t.textBaseline=Object(R.get)(t,"textBaseline","bottom")}},mr),fr=Math.PI/2,dr=(cr=Zi,Object(S.__extends)(vr,cr),vr.prototype.getLabelAlign=function(t){var e,i,n=this.getCoordinate();return t.labelEmit?t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right":n.isTransposed?(e=n.getCenter(),i=this.getDefaultOffset(t.offset),Math.abs(t.x-e.x)<1?"center":t.angle>Math.PI||t.angle<=0?0<i?"left":"right":0<i?"right":"left"):"center"},vr.prototype.getLabelPoint=function(t,e,i){var n=1,r=t.content[i],o=this.isToMiddle(e)?this.getMiddlePoint(e.points):(1===t.content.length&&0===i?i=1:0===i&&(n=-1),this.getArcPoint(e,i)),a=this.getDefaultOffset(t.offset)*n,s=this.getPointAngle(o),l=t.labelEmit,u=this.getCirclePoint(s,a,o,l);return 0===u.r?u.content="":(u.content=r,u.angle=s,u.color=e.color),u.rotate=t.autoRotate?this.getLabelRotate(s,a,l):t.rotate,u.start={x:o.x,y:o.y},u},vr.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(R.isArray)(t.x)||Object(R.isArray)(t.y)?{x:Object(R.isArray)(t.x)?t.x[e]:t.x,y:Object(R.isArray)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},vr.prototype.getPointAngle=function(t){return yt(this.getCoordinate(),t)},vr.prototype.getCirclePoint=function(t,e,i,n){var r=this.getCoordinate(),o=r.getCenter(),a=dt(r,i);if(0===a)return Object(S.__assign)(Object(S.__assign)({},o),{r:a});var s=t;return r.isTransposed&&e<a&&!n?s=t+2*Math.asin(e/(2*a)):a+=e,{x:o.x+a*Math.cos(s),y:o.y+a*Math.sin(s),r:a}},vr.prototype.getLabelRotate=function(t,e,i){var n=t+fr;return i&&(n-=fr),n&&(fr<n?n-=Math.PI:n<-fr&&(n+=Math.PI)),n},vr.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),i=t.length,n={x:0,y:0};return Object(R.each)(t,function(t){n.x+=t.x,n.y+=t.y}),n.x/=i,n.y/=i,n=e.convert(n)},vr.prototype.isToMiddle=function(t){return 2<t.x.length},vr),gr=(ur=dr,Object(S.__extends)(yr,ur),yr.prototype.getDefaultLabelCfg=function(){return Object(R.get)(this.geometry.theme,"pieLabels",{})},yr.prototype.getDefaultOffset=function(t){return t||0},yr.prototype.getLabelRotate=function(t,e,i){var n;return e<0&&((n=t)>Math.PI/2&&(n-=Math.PI),n<-Math.PI/2&&(n+=Math.PI)),n},yr.prototype.getLabelAlign=function(t){var e=this.getCoordinate().getCenter(),i=t.angle<=Math.PI/2&&t.x>=e.x?"left":"right";return this.getDefaultOffset(t.offset)<=0&&(i="right"===i?"left":"right"),i},yr.prototype.getArcPoint=function(t){return t},yr.prototype.getPointAngle=function(t){var e,i=this.getCoordinate(),n={x:Object(R.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},r={x:Object(R.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o=yt(i,n),a=t.points&&t.points[0].y===t.points[1].y?o:((e=yt(i,r))<=o&&(e+=2*Math.PI),o+(e-o)/2);return a},yr.prototype.getCirclePoint=function(t,e,i){var n=this.getCoordinate(),r=n.getCenter(),o=n.getRadius()+e;return Object(S.__assign)(Object(S.__assign)({},ot(r.x,r.y,o,t)),{angle:t,r:o})},yr);function yr(t){var e=ur.call(this,t)||this;return e.defaultLayout="distribute",e}function vr(){return null!==cr&&cr.apply(this,arguments)||this}function mr(){return null!==hr&&hr.apply(this,arguments)||this}var xr=(br.prototype.hasGap=function(t){for(var e=!0,i=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),s=n;s<=r;s+=1)if(i[s]){if(s===n||s===r){for(var l=o;l<=a;l++)if(i[s][l]){e=!1;break}}else if(i[s][o]||i[s][a]){e=!1;break}}else i[s]={};return e},br.prototype.fillGap=function(t){for(var e=this.bitmap,i=Math.round(t.minX),n=Math.round(t.maxX),r=Math.round(t.minY),o=Math.round(t.maxY),a=i;a<=n;a+=1)e[a]||(e[a]={});for(a=i;a<=n;a+=this.xGap){for(var s=r;s<=o;s+=this.yGap)e[a][s]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=r;a<=o;a+=1)e[i][a]=!0,e[n][a]=!0;if(1!==this.xGap)for(a=i;a<=n;a+=1)e[a][r]=!0,e[a][o]=!0},br.prototype.destroy=function(){this.bitmap={}},br);function br(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,i=void 0===e?1:e,n=t.yGap,r=void 0===n?8:n;this.xGap=i,this.yGap=r}function _r(t,e,i,n){var r=t.getCanvasBBox(),o=r.width,a=r.height,s={x:e,y:i,textAlign:"center"};switch(n){case 0:s.y-=a+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=a+1,--s.x,s.textAlign="right";break;case 2:s.y+=a+1,--s.x,s.textAlign="right";break;case 3:s.y+=a+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*a+2;break;case 6:s.y+=2*a+2;break;case 7:s.x+=o+1,s.textAlign="left";break;case 8:s.x-=o+1,s.textAlign="right"}return t.attr(s),t.getCanvasBBox()}function Or(t,e,i,n,r){var o,a,s=i.start,l=i.end,u=i.getWidth(),c=i.getHeight();"y"===r?(o=s.x+u/2,a=n.y<s.y?n.y:s.y):"x"===r?(o=n.x>s.x?n.x:s.x,a=s.y+c/2):"xy"===r&&(a=i.isPolar?(o=i.getCenter().x,i.getCenter().y):(o=(s.x+l.x)/2,(s.y+l.y)/2));var h,p,f,d,g,y,v=(f=r,g=(p=[o,a])[0],y=p[1],(h=t).applyToMatrix([g,y,1]),"x"===f?(h.setMatrix(F.ext.transform(h.getMatrix(),[["t",-g,-y],["s",.01,1],["t",g,y]])),d=F.ext.transform(h.getMatrix(),[["t",-g,-y],["s",100,1],["t",g,y]])):"y"===f?(h.setMatrix(F.ext.transform(h.getMatrix(),[["t",-g,-y],["s",1,.01],["t",g,y]])),d=F.ext.transform(h.getMatrix(),[["t",-g,-y],["s",1,100],["t",g,y]])):"xy"===f&&(h.setMatrix(F.ext.transform(h.getMatrix(),[["t",-g,-y],["s",.01,.01],["t",g,y]])),d=F.ext.transform(h.getMatrix(),[["t",-g,-y],["s",100,100],["t",g,y]])),d);t.animate({matrix:v},e)}var wr=i(182),Mr=i.n(wr);function Cr(t,e){var i,n=Mr()(t,e),r=n.startAngle,o=n.endAngle;return!Object(R.isNumberEqual)(r,.5*-Math.PI)&&r<.5*-Math.PI&&(r+=2*Math.PI),!Object(R.isNumberEqual)(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),0===e[5]&&(r=(i=[o,r])[0],o=i[1]),Object(R.isNumberEqual)(r,1.5*Math.PI)&&(r=-.5*Math.PI),Object(R.isNumberEqual)(o,-.5*Math.PI)&&(o=1.5*Math.PI),{startAngle:r,endAngle:o}}function Sr(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function jr(t){var e,i,n=t.filter(function(t){return"A"===t[0]||"a"===t[0]}),r=n[0],o=1<n.length?n[1]:n[0],a=t.indexOf(r),s=t.indexOf(o),l=Sr(t[a-1]),u=Sr(t[s-1]),c=Cr(l,r),h=c.startAngle,p=c.endAngle,f=Cr(u,o),d=f.startAngle,g=f.endAngle,y=Object(R.isNumberEqual)(h,d)&&Object(R.isNumberEqual)(p,g)?(i=h,p):(i=Math.min(h,d),Math.max(p,g)),v=r[1],m=n[n.length-1][1];return v<m?(v=(e=[m,v])[0],m=e[1]):v===m&&(m=0),{startAngle:i,endAngle:y,radius:v,innerRadius:m}}function Pr(t,e,i){var n,r,o,a;t.isGroup()?Object(R.each)(t.getChildren(),function(t){Pr(t,e,i)}):(r=((n=t.getBBox()).minX+n.maxX)/2,o=(n.minY+n.maxY)/2,t.applyToMatrix([r,o,1]),"zoomIn"===i?(a=F.ext.transform(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]]),t.setMatrix(a),t.animate({matrix:F.ext.transform(t.getMatrix(),[["t",-r,-o],["s",100,100],["t",r,o]])},e)):t.animate({matrix:F.ext.transform(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]])},Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t.remove(!0)}})))}function Tr(t){return[y.TOP,y.BOTTOM].includes(t)?{offsetX:0,offsetY:t===y.TOP?-8:8,style:{textAlign:"center",textBaseline:t===y.TOP?"bottom":"top"}}:[y.LEFT,y.RIGHT].includes(t)?{offsetX:t===y.LEFT?-8:8,offsetY:0,style:{textAlign:t===y.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Ar(t,e,i){return{x:t.x+e*Math.cos(i),y:t.y+e*Math.sin(i)}}var Er,Lr,kr,Ir,Dr,Br,Fr,Rr=(Fr=q,Object(S.__extends)($r,Fr),$r.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},Fr.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:Fr.prototype.getDefaultTitleCfg.call(this)})},$r.prototype.render=function(){Fr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},$r.prototype.getRegion=function(t,e){var i=2*Math.PI/t,n=-1*Math.PI/2+i*e,r=.5/(1+1/Math.sin(i/2)),o=Ar({x:.5,y:.5},.5-r,n),a=5*Math.PI/4,s=Math.PI/4;return{start:Ar(o,r,a),end:Ar(o,r,s)}},$r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},$r.prototype.beforeEachView=function(t,e){},$r.prototype.generateFacets=function(o){var a=this,t=this.cfg,e=t.fields,s=t.type,l=e[0];if(!l)throw new Error("No `fields` specified!");var u=this.getFieldValues(o,l),c=u.length,h=[];return u.forEach(function(t,e){var i=[{field:l,value:t,values:u}],n=Object(R.filter)(o,a.getFacetDataFilter(i)),r={type:s,data:n,region:a.getRegion(c,e),columnValue:t,columnField:l,columnIndex:e,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(r)}),h},$r.prototype.getXAxisOption=function(t,e,i,n){return i},$r.prototype.getYAxisOption=function(t,e,i,n){return i},$r.prototype.renderTitle=function(){var r=this;Object(R.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(R.deepMix)({position:["50%","0%"],content:e},Tr(y.TOP),r.cfg.title);i.annotation().text(n)})},$r),Nr=(Br=q,Object(S.__extends)(Zr,Br),Zr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},Br.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:Br.prototype.getDefaultTitleCfg.call(this)})},Zr.prototype.render=function(){Br.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},Zr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},Zr.prototype.beforeEachView=function(t,e){},Zr.prototype.generateFacets=function(l){var u=this,t=this.cfg.fields,c=this.cfg.cols,h=t[0];if(!h)throw new Error("No `fields` specified!");var p=this.getFieldValues(l,h),f=p.length,c=c||f,d=this.getPageCount(f,c),g=[];return p.forEach(function(t,e){var i=u.getRowCol(e,c),n=i.row,r=i.col,o=[{field:h,value:t,values:p}],a=Object(R.filter)(l,u.getFacetDataFilter(o)),s={type:u.cfg.type,data:a,region:u.getRegion(d,c,r,n),columnValue:t,rowValue:t,columnField:h,rowField:null,columnIndex:r,rowIndex:n,columnValuesLength:c,rowValuesLength:d,total:f};g.push(s)}),g},Zr.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1&&n.columnValuesLength*n.rowIndex+n.columnIndex+1+n.columnValuesLength<=n.total?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},Zr.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},Zr.prototype.renderTitle=function(){var r=this;Object(R.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(R.deepMix)({position:["50%","0%"],content:e},Tr(y.TOP),r.cfg.title);i.annotation().text(n)})},Zr.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},Zr.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},Zr),Yr=(Dr=q,Object(S.__extends)(Kr,Dr),Kr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},Dr.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(S.__assign)({},Dr.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(S.__assign)({},Dr.prototype.getDefaultTitleCfg.call(this))})},Kr.prototype.render=function(){Dr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},Kr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},Kr.prototype.beforeEachView=function(t,e){},Kr.prototype.generateFacets=function(t){for(var e=this.cfg,i=e.fields,n=e.type,r=i.length,o=r,a=[],s=0;s<o;s++)for(var l=i[s],u=0;u<r;u++){var c=i[u],h={type:n,data:t,region:this.getRegion(r,o,s,u),columnValue:l,rowValue:c,columnField:l,rowField:c,columnIndex:s,rowIndex:u,columnValuesLength:o,rowValuesLength:r};a.push(h)}return a},Kr.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},Kr.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},Kr.prototype.renderTitle=function(){var u=this;Object(R.each)(this.facets,function(t,e){var i,n=t.columnIndex,r=t.rowIndex,o=t.columnValuesLength,a=(t.rowValuesLength,t.columnValue),s=t.rowValue,l=t.view;0===r&&(i=Object(R.deepMix)({position:["50%","0%"],content:a},Tr(y.TOP),u.cfg.columnTitle),l.annotation().text(i)),n===o-1&&(i=Object(R.deepMix)({position:["100%","50%"],content:s},Tr(y.RIGHT),u.cfg.rowTitle),l.annotation().text(i))})},Kr),Gr=(Ir=q,Object(S.__extends)(Ur,Ir),Ur.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},Ir.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:Ir.prototype.getDefaultTitleCfg.call(this),transpose:!1})},Ur.prototype.render=function(){Ir.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},Ur.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},Ur.prototype.afterEachView=function(t,e){this.processAxis(t,e)},Ur.prototype.generateFacets=function(s){var l,u,c=this,t=this.cfg.fields[0],h=[],p=1,f=1,d=[""],g=[""];return this.cfg.transpose?(l=t,d=this.getFieldValues(s,l).slice(0,2),p=d.length):(u=t,g=this.getFieldValues(s,u).slice(0,2),f=g.length),d.forEach(function(o,a){g.forEach(function(t,e){var i=[{field:l,value:o,values:d},{field:u,value:t,values:g}],n=Object(R.filter)(s,c.getFacetDataFilter(i)),r={type:c.cfg.type,data:n,region:c.getRegion(f,p,a,e),columnValue:o,rowValue:t,columnField:l,rowField:u,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f};h.push(r)})}),h},Ur.prototype.getXAxisOption=function(t,e,i,n){return 1===n.columnIndex||1===n.rowIndex?Object(S.__assign)(Object(S.__assign)({},i),{label:null,title:null}):i},Ur.prototype.getYAxisOption=function(t,e,i,n){return i},Ur.prototype.renderTitle=function(){var a=this;Object(R.each)(this.facets,function(t,e){var i=t.columnValue,n=t.rowValue,r=t.view,o=a.cfg.transpose?Object(R.deepMix)({position:["50%","0%"],content:i},Tr(y.TOP),a.cfg.title):Object(R.deepMix)({position:["100%","50%"],content:n},Tr(y.RIGHT),a.cfg.title);r.annotation().text(o)})},Ur),Xr=(kr=q,Object(S.__extends)(qr,kr),qr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},qr.prototype.beforeEachView=function(t,e){},qr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},kr.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(S.__assign)({},kr.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(S.__assign)({},kr.prototype.getDefaultTitleCfg.call(this))})},qr.prototype.render=function(){kr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},qr.prototype.generateFacets=function(s){var l=this,t=this.cfg.fields,u=t[0],c=t[1],h=[],p=1,f=1,d=[""],g=[""];return u&&(d=this.getFieldValues(s,u),p=d.length),c&&(g=this.getFieldValues(s,c),f=g.length),d.forEach(function(o,a){g.forEach(function(t,e){var i=[{field:u,value:o,values:d},{field:c,value:t,values:g}],n=Object(R.filter)(s,l.getFacetDataFilter(i)),r={type:l.cfg.type,data:n,region:l.getRegion(f,p,a,e),columnValue:o,rowValue:t,columnField:u,rowField:c,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f};h.push(r)})}),h},qr.prototype.renderTitle=function(){var u=this;Object(R.each)(this.facets,function(t,e){var i,n=t.columnIndex,r=t.rowIndex,o=t.columnValuesLength,a=(t.rowValuesLength,t.columnValue),s=t.rowValue,l=t.view;0===r&&(i=Object(R.deepMix)({position:["50%","0%"],content:a},Tr(y.TOP),u.cfg.columnTitle),l.annotation().text(i)),n===o-1&&(i=Object(R.deepMix)({position:["100%","50%"],content:s},Tr(y.RIGHT),u.cfg.rowTitle),l.annotation().text(i))})},qr.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):n.columnIndex!==Math.floor((n.columnValuesLength-1)/2)?Object(S.__assign)(Object(S.__assign)({},i),{title:null}):i},qr.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):n.rowIndex!==Math.floor((n.rowValuesLength-1)/2)?Object(S.__assign)(Object(S.__assign)({},i),{title:null}):i},qr),Vr=(Lr=q,Object(S.__extends)(Wr,Lr),Wr.prototype.afterEachView=function(t,e){this.processAxis(t,e)},Wr.prototype.beforeEachView=function(t,e){},Wr.prototype.init=function(){Lr.prototype.init.call(this),this.view.on(l.AFTER_RENDER,this.afterChartRender)},Wr.prototype.getDefaultCfg=function(){return Object(R.deepMix)({},Lr.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:Lr.prototype.getDefaultTitleCfg.call(this)})},Wr.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],i={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(i),i.children=this.getChildFacets(t,1,e),this.setRegion(e),e},Wr.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)})},Wr.prototype.getRegion=function(t,e,i,n){var r=1/e,o=1/t,a={x:r*i,y:o*n};return{start:a,end:{x:a.x+r,y:a.y+2*o/3}}},Wr.prototype.forceColIndex=function(t){var e=this,i=[],n=0;t.forEach(function(t){e.isLeaf(t)&&(i.push(t),t.columnIndex=n,n++)}),i.forEach(function(t){t.columnValuesLength=i.length});for(var r=this.cfg.fields.length-1;0<=r;r--)for(var o=0,a=this.getFacetsByLevel(t,r);o<a.length;o++){var s=a[o];this.isLeaf(s)||(s.originColIndex=s.columnIndex,s.columnIndex=this.getRegionIndex(s.children),s.columnValuesLength=i.length)}},Wr.prototype.getFacetsByLevel=function(t,e){var i=[];return t.forEach(function(t){t.rowIndex===e&&i.push(t)}),i},Wr.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},Wr.prototype.isLeaf=function(t){return!t.children||!t.children.length},Wr.prototype.getRows=function(){return this.cfg.fields.length+1},Wr.prototype.getChildFacets=function(o,a,s){var l=this,t=this.cfg.fields;if(!(t.length<a)){var u=[],c=t[a-1],h=this.getFieldValues(o,c);return h.forEach(function(t,e){var i,n=[{field:c,value:t,values:h}],r=o.filter(l.getFacetDataFilter(n));r.length&&(i={type:l.cfg.type,data:r,region:null,columnValue:t,rowValue:"",columnField:c,rowField:"",columnIndex:e,rowValuesLength:l.getRows(),columnValuesLength:1,rowIndex:a,children:l.getChildFacets(r,a+1,s)},u.push(i),s.push(i))}),u}},Wr.prototype.render=function(){Lr.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},Wr.prototype.renderTitle=function(){var r=this;Object(R.each)(this.facets,function(t){var e=t.columnValue,i=t.view,n=Object(R.deepMix)({position:["50%","0%"],content:e},Tr(y.TOP),r.cfg.title);i.annotation().text(n)})},Wr.prototype.drawLines=function(t){var i=this;t.forEach(function(t){var e;i.isLeaf(t)||(e=t.children,i.addFacetLines(t,e))})},Wr.prototype.addFacetLines=function(t,e){var o=this,i=t.view.coordinateBBox,a={x:i.x+i.width/2,y:i.y+i.height};e.forEach(function(t){var e=t.view.coordinateBBox,i={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},n={x:a.x,y:a.y+(i.y-a.y)/2},r={x:i.x,y:n.y};o.drawLine([a,n,r,i])})},Wr.prototype.getPath=function(t){var i=[];return this.cfg.line.smooth?(i.push(["M",t[0].x,t[0].y]),i.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i},Wr.prototype.drawLine=function(t){var e=this.getPath(t),i=this.cfg.line.style;this.container.addShape("path",{attrs:Object(R.assign)({path:e},i)})},Wr.prototype.getXAxisOption=function(t,e,i,n){return n.rowIndex!==n.rowValuesLength-1?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},Wr.prototype.getYAxisOption=function(t,e,i,n){return 0!==n.originColIndex&&0!==n.columnIndex?Object(S.__assign)(Object(S.__assign)({},i),{title:null,label:null}):i},Wr),zr=(Er=Ke,Object(S.__extends)(Hr,Er),Object.defineProperty(Hr.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),Hr.prototype.init=function(){},Hr.prototype.layout=function(){function e(t){var e=t.component,i=t.extra,n=i.type,r=o.getAnnotationTheme(n);e.update(o.getAnnotationCfg(n,i,r))}function i(t){var e=o.createAnnotation(t);e&&(e.component.init(),"regionFilter"===t.type&&e.component.render(),o.cache.set(t,e))}var o=this,t=this.getComponents();t.length?Object(R.each)(t,function(t){"regionFilter"===t.component.get("type")?o.view.getRootView().once(l.AFTER_RENDER,function(){e(t)}):e(t)}):Object(R.each)(this.option,function(t){"regionFilter"===t.type?o.view.getRootView().once(l.AFTER_RENDER,function(){i(t)}):i(t)})},Hr.prototype.render=function(){},Hr.prototype.update=function(){function e(t){var e,i=t.type,n=a.getAnnotationTheme(i),r=a.getAnnotationCfg(i,t,n),o=a.cache.get(t);o?(ht(r,["container"]),o.component.update(r),s.set(t,!0)):(e=a.createAnnotation(t))&&(e.component.init(),"regionFilter"===t.type&&e.component.render(),a.cache.set(t,e),s.set(t,!0))}var a=this,s=new WeakMap;this.view.once(l.AFTER_RENDER,function(){Object(R.each)(a.option,function(t){"regionFilter"===t.type&&e(t)});var i=new Map;a.cache.forEach(function(t,e){s.has(e)?i.set(e,t):t.component.destroy()}),a.cache=i}),Object(R.each)(this.option,function(t){"regionFilter"!==t.type&&e(t)})},Hr.prototype.clear=function(t){void 0===t&&(t=!1),Er.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},Hr.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},Hr.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},Hr.prototype.createAnnotation=function(t){var e=t.type,i=O.Annotation[Object(R.upperFirst)(e)];if(i){var n=this.getAnnotationTheme(e),r=this.getAnnotationCfg(e,t,n);return{component:new i(r),layer:this.isTop(r)?d.FORE:d.BG,direction:y.NONE,type:h.ANNOTATION,extra:t}}},Hr.prototype.annotation=function(t){this.option.push(t)},Hr.prototype.arc=function(t){return this.annotation(Object(S.__assign)({type:"arc"},t)),this},Hr.prototype.image=function(t){return this.annotation(Object(S.__assign)({type:"image"},t)),this},Hr.prototype.line=function(t){return this.annotation(Object(S.__assign)({type:"line"},t)),this},Hr.prototype.region=function(t){return this.annotation(Object(S.__assign)({type:"region"},t)),this},Hr.prototype.text=function(t){return this.annotation(Object(S.__assign)({type:"text"},t)),this},Hr.prototype.dataMarker=function(t){return this.annotation(Object(S.__assign)({type:"dataMarker"},t)),this},Hr.prototype.dataRegion=function(t){this.annotation(Object(S.__assign)({type:"dataRegion"},t))},Hr.prototype.regionFilter=function(t){this.annotation(Object(S.__assign)({type:"regionFilter"},t))},Hr.prototype.parsePosition=function(t){var e=this.view.getXScale(),i=this.view.getScalesByDim("y"),n=Object(R.isFunction)(t)?t.call(null,e,i):t,r=0,o=0;if(Object(R.isArray)(n)){var a=n[0],s=n[1];if(Object(R.isString)(a)&&-1!==a.indexOf("%")&&!isNaN(a.slice(0,-1)))return this.parsePercentPosition(n);r=this.getNormalizedValue(a,e),o=this.getNormalizedValue(s,Object.values(i)[0])}else if(!Object(R.isNil)(n))for(var l=0,u=Object(R.keys)(n);l<u.length;l++){var c=u[l],h=n[c];c===e.field&&(r=this.getNormalizedValue(h,e)),i[c]&&(o=this.getNormalizedValue(h,i[c]))}return this.view.getCoordinate().convert({x:r,y:o})},Hr.prototype.getRegionPoints=function(t,e){var n,r=this,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),a=Object.values(o)[0],s=i.field,l=this.view.getData(),u=Object(R.isArray)(t)?t[0]:t[s],c=Object(R.isArray)(e)?e[0]:e[s],h=[];return Object(R.each)(l,function(t,e){var i;if(t[s]===u&&(n=e),n<=e&&(i=r.parsePosition([t[s],t[a.field]]))&&h.push(i),t[s]===c)return!1}),h},Hr.prototype.getNormalizedValue=function(t,e){var i,n;switch(t){case"start":i=0;break;case"end":i=1;break;case"median":n=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,i=e.scale(n);break;case"min":case"max":n=e.isCategory?"min"===t?0:e.values.length-1:e[t],i=e.scale(n);break;default:i=e.scale(t)}return i},Hr.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,i=parseFloat(t[1])/100,n=this.view.getCoordinate(),r=n.start,o=n.end,a=Math.min(r.x,o.x),s=Math.min(r.y,o.y);return{x:n.getWidth()*e+a,y:n.getHeight()*i+s}},Hr.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,i=t.end,n=t.getWidth(),r=t.getHeight(),o={x:Math.min(e.x,i.x),y:Math.min(e.y,i.y)};return{x:o.x,y:o.y,minX:o.x,minY:o.y,maxX:o.x+n,maxY:o.y+r,width:n,height:r}},Hr.prototype.getAnnotationCfg=function(t,e,i){var n,r,o,a,s,l,u,c,h,p,f,d,g,y,v,m,x,b,_,O,w=this.view.getCoordinate(),M={};if(Object(R.isNil)(e))return null;"arc"===t?(s=e.start,l=e.end,n=this.parsePosition(s),r=this.parsePosition(l),o=yt(w,n),(a=yt(w,r))<o&&(a=2*Math.PI+a),M={center:w.getCenter(),radius:dt(w,n),startAngle:o,endAngle:a}):"image"===t?(s=e.start,l=e.end,M={start:this.parsePosition(s),end:this.parsePosition(l),src:e.src}):"line"===t?(s=e.start,l=e.end,M={start:this.parsePosition(s),end:this.parsePosition(l),text:Object(R.get)(e,"text",null)}):"region"===t?(s=e.start,l=e.end,M={start:this.parsePosition(s),end:this.parsePosition(l)}):"text"===t?(u=e.position,c=e.rotate,M=Object(S.__assign)(Object(S.__assign)({},this.parsePosition(u)),{content:e.content,rotate:c})):"dataMarker"===t?(u=e.position,h=e.point,p=e.line,f=e.text,d=e.autoAdjust,g=e.direction,M=Object(S.__assign)(Object(S.__assign)({},this.parsePosition(u)),{coordinateBBox:this.getCoordinateBBox(),point:h,line:p,text:f,autoAdjust:d,direction:g})):"dataRegion"===t?(s=e.start,l=e.end,y=e.region,f=e.text,v=e.lineLength,M={points:this.getRegionPoints(s,l),region:y,text:f,lineLength:v}):"regionFilter"===t&&(s=e.start,l=e.end,m=e.apply,x=e.color,b=this.view.geometries,_=[],O=function t(e){e&&(e.isGroup()?e.getChildren().forEach(t):_.push(e))},Object(R.each)(b,function(t){m?Object(R.contains)(m,t.type)&&Object(R.each)(t.elements,function(t){O(t.shape)}):Object(R.each)(t.elements,function(t){O(t.shape)})}),M={color:x,shapes:_,start:this.parsePosition(s),end:this.parsePosition(l)});var C=Object(R.deepMix)({},i,Object(S.__assign)(Object(S.__assign)({},M),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return C.container=this.getComponentContainer(C),C.animate=this.view.getOptions().animate&&C.animate&&Object(R.get)(e,"animate",C.animate),C.animateOption=Object(R.deepMix)({},vi,C.animateOption,e.animateOption),C},Hr.prototype.isTop=function(t){return Object(R.get)(t,"top",!0)},Hr.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},Hr.prototype.getAnnotationTheme=function(t){return Object(R.get)(this.view.getTheme(),["components","annotation",t],{})},Hr);function Hr(t){var e=Er.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(d.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(d.BG).addGroup(),e.option=[],e}function Wr(){var t=null!==Lr&&Lr.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}function qr(){return null!==kr&&kr.apply(this,arguments)||this}function Ur(){return null!==Ir&&Ir.apply(this,arguments)||this}function Kr(){return null!==Dr&&Dr.apply(this,arguments)||this}function Zr(){return null!==Br&&Br.apply(this,arguments)||this}function $r(){return null!==Fr&&Fr.apply(this,arguments)||this}function Qr(t,e){return Object(R.get)(t,["components","axis",e,"grid"],{})}function Jr(o,t,a,s){var l=[],e=t.getTicks();return o.isPolar&&e.push({value:1,text:"",tickValue:""}),e.reduce(function(t,e,i){var n,r=e.value;return s?l.push({points:[o.convert("y"===a?{x:0,y:r}:{x:r,y:0}),o.convert("y"===a?{x:1,y:r}:{x:r,y:1})]}):i&&(n=(t.value+r)/2,l.push({points:[o.convert("y"===a?{x:0,y:n}:{x:n,y:0}),o.convert("y"===a?{x:1,y:n}:{x:n,y:1})]})),e},e[0]),l}function to(o,t,e,a,s){var l=t.values.length,u=[],i=e.getTicks();return i.reduce(function(t,e){var i=t?t.value:e.value,n=e.value,r=(i+n)/2;return"x"===s?u.push({points:[o.convert({x:a?n:r,y:0}),o.convert({x:a?n:r,y:1})]}):u.push({points:Object(R.map)(Array(l+1),function(t,e){return o.convert({x:e/l,y:a?n:r})})}),e},i[0]),u}function eo(t,e){var i=Object(R.get)(e,"grid");if(null!==i){var n=Object(R.get)(t,"grid");return void 0!==i||null!==n}}var io,no=["container"],ro=Object(S.__assign)(Object(S.__assign)({},vi),{appear:null}),oo=(io=Ke,Object(S.__extends)(ao,io),Object.defineProperty(ao.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),ao.prototype.init=function(){},ao.prototype.render=function(){this.option=this.view.getOptions().axes,this.createXAxes(),this.createYAxes()},ao.prototype.layout=function(){var u=this,c=this.view.getCoordinate();Object(R.each)(this.getComponents(),function(t){var e,i=t.component,n=t.direction,r=t.type,o=t.extra,a=o.dim,s=o.scale,l=o.alignTick;r===h.AXIS?c.isPolar?"x"===a?e=c.isTransposed?N(c,n):X(c):"y"===a&&(e=c.isTransposed?X(c):N(c,n)):e=N(c,n):r===h.GRID&&(e=c.isPolar?{items:c.isTransposed?"x"===a?to(c,u.view.getYScales()[0],s,l,a):Jr(c,s,a,l):"x"===a?Jr(c,s,a,l):to(c,u.view.getXScale(),s,l,a),center:u.view.getCoordinate().getCenter()}:{items:Jr(c,s,a,l)}),i.update(e)})},ao.prototype.update=function(){this.option=this.view.getOptions().axes;var i=new Map;this.updateXAxes(i),this.updateYAxes(i);var n=new Map;this.cache.forEach(function(t,e){i.has(e)?n.set(e,t):t.component.destroy()}),this.cache=n},ao.prototype.clear=function(){io.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},ao.prototype.destroy=function(){io.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},ao.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},ao.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var i=e.field,n=V(this.option,e.field);if(!1!==n){var r,o,a,s=this.view.getCoordinate(),l=this.getId("axis",i),u=this.getId("grid",i),c=z(n,y.BOTTOM),h=d.BG;if(s.isRect)(r=this.cache.get(l))?(ht(a=this.getLineAxisCfg(e,n,c),no),r.component.update(a)):(r=this.createLineAxis(e,n,h,c,"x"),this.cache.set(l,r)),t.set(l,r),(o=this.cache.get(u))?(ht(a=this.getLineGridCfg(e,n,c,"x"),no),o.component.update(a),t.set(u,o)):(o=this.createLineGrid(e,n,h,c,"x"))&&(this.cache.set(u,o),t.set(u,o));else if(s.isPolar){if(r=this.cache.get(l))ht(a=s.isTransposed?this.getLineAxisCfg(e,n,"radius"):this.getCircleAxisCfg(e,n,c),no),r.component.update(a),t.set(l,r);else{if(s.isTransposed){if(Object(R.isUndefined)(n))return;r=this.createLineAxis(e,n,h,"radius","x")}else r=this.createCircleAxis(e,n,h,c,"x");this.cache.set(l,r),t.set(l,r)}if(o=this.cache.get(u))ht(a=s.isTransposed?this.getCircleGridCfg(e,n,"radius","x"):this.getLineGridCfg(e,n,"circle","x"),no),o.component.update(a),t.set(u,o);else{if(s.isTransposed){if(Object(R.isUndefined)(n))return;o=this.createCircleGrid(e,n,h,"radius","x")}else o=this.createLineGrid(e,n,h,"circle","x");o&&(this.cache.set(u,o),t.set(u,o))}}}}},ao.prototype.updateYAxes=function(p){var f=this,t=this.view.getYScales();Object(R.each)(t,function(t,e){if(t&&!t.isIdentity){var i=t.field,n=V(f.option,i);if(!1!==n){var r,o,a,s=d.BG,l=f.getId("axis",i),u=f.getId("grid",i),c=f.view.getCoordinate();if(c.isRect){var h=z(n,0===e?y.LEFT:y.RIGHT);(r=f.cache.get(l))?(ht(a=f.getLineAxisCfg(t,n,h),no),r.component.update(a)):(r=f.createLineAxis(t,n,s,h,"y"),f.cache.set(l,r)),p.set(l,r),(o=f.cache.get(u))?(ht(a=f.getLineGridCfg(t,n,h,"y"),no),o.component.update(a),p.set(u,o)):(o=f.createLineGrid(t,n,s,h,"y"))&&(f.cache.set(u,o),p.set(u,o))}else if(c.isPolar){if(r=f.cache.get(l))ht(a=c.isTransposed?f.getCircleAxisCfg(t,n,"circle"):f.getLineAxisCfg(t,n,"radius"),no),r.component.update(a),p.set(l,r);else{if(c.isTransposed){if(Object(R.isUndefined)(n))return;r=f.createCircleAxis(t,n,s,"circle","y")}else r=f.createLineAxis(t,n,s,"radius","y");f.cache.set(l,r),p.set(l,r)}if(o=f.cache.get(u))ht(a=c.isTransposed?f.getLineGridCfg(t,n,"circle","y"):f.getCircleGridCfg(t,n,"radius","y"),no),o.component.update(a),p.set(u,o);else{if(c.isTransposed){if(Object(R.isUndefined)(n))return;o=f.createLineGrid(t,n,s,"circle","y")}else o=f.createCircleGrid(t,n,s,"radius","y");o&&(f.cache.set(u,o),p.set(u,o))}}}}})},ao.prototype.createXAxes=function(){var t=this.view.getXScale();if(t&&!t.isIdentity){var e=V(this.option,t.field);if(!1!==e){var i=z(e,y.BOTTOM),n=d.BG,r=this.view.getCoordinate(),o=this.getId("axis",t.field),a=this.getId("grid",t.field);if(r.isRect){var s=this.createLineAxis(t,e,n,i,"x");this.cache.set(o,s),(l=this.createLineGrid(t,e,n,i,"x"))&&this.cache.set(a,l)}else if(r.isPolar){var l=s=void 0;if(r.isTransposed){if(Object(R.isUndefined)(e))return;s=this.createLineAxis(t,e,n,"radius","x"),l=this.createCircleGrid(t,e,n,"radius","x")}else s=this.createCircleAxis(t,e,n,i,"x"),l=this.createLineGrid(t,e,n,"circle","x");this.cache.set(o,s),l&&this.cache.set(a,l)}}}},ao.prototype.createYAxes=function(){var h=this,t=this.view.getYScales();Object(R.each)(t,function(t,e){if(t&&!t.isIdentity){var i=t.field,n=V(h.option,i);if(!1!==n){var r=d.BG,o=h.getId("axis",i),a=h.getId("grid",i),s=h.view.getCoordinate();if(s.isRect){var l=z(n,0===e?y.LEFT:y.RIGHT),u=h.createLineAxis(t,n,r,l,"y");h.cache.set(o,u),(c=h.createLineGrid(t,n,r,l,"y"))&&h.cache.set(a,c)}else if(s.isPolar){var c=u=void 0;if(s.isTransposed){if(Object(R.isUndefined)(n))return;u=h.createCircleAxis(t,n,r,"circle","y"),c=h.createLineGrid(t,n,r,"circle","y")}else u=h.createLineAxis(t,n,r,"radius","y"),c=h.createCircleGrid(t,n,r,"radius","y");h.cache.set(h.getId("axis",t.field),u),c&&h.cache.set(a,c)}}}})},ao.prototype.createLineAxis=function(t,e,i,n,r){var o={component:new w(this.getLineAxisCfg(t,e,n)),layer:i,direction:"radius"===n?y.NONE:n,type:h.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},ao.prototype.createLineGrid=function(t,e,i,n,r){var o=this.getLineGridCfg(t,e,n,r);if(o){var a={component:new C(o),layer:i,direction:y.NONE,type:h.GRID,extra:{dim:r,scale:t,alignTick:Object(R.get)(o,"alignTick",!0)}};return a.component.init(),a}},ao.prototype.createCircleAxis=function(t,e,i,n,r){var o={component:new M(this.getCircleAxisCfg(t,e,n)),layer:i,direction:n,type:h.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},ao.prototype.createCircleGrid=function(t,e,i,n,r){var o=this.getCircleGridCfg(t,e,n,r);if(o){var a={component:new A(o),layer:i,direction:y.NONE,type:h.GRID,extra:{dim:r,scale:t,alignTick:Object(R.get)(o,"alignTick",!0)}};return a.component.init(),a}},ao.prototype.getLineAxisCfg=function(t,e,i){var n=this.axisContainer,r=this.view.getCoordinate(),o=N(r,i),a=H(t,e),s=G(this.view.getTheme(),i),l=Object(R.get)(e,["title"])?Object(R.deepMix)({title:{style:{text:a}}},e):e,u=Object(R.deepMix)(Object(S.__assign)(Object(S.__assign)({container:n},o),{ticks:t.getTicks().map(function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}),verticalFactor:r.isPolar?-1*Y(o,r.getCenter()):Y(o,r.getCenter())}),s,l),c=this.getAnimateCfg(u),h=c.animate,p=c.animateOption;return u.animateOption=p,u.animate=h,u},ao.prototype.getLineGridCfg=function(t,e,i,n){if(eo(G(this.view.getTheme(),i),e)){var r=Qr(this.view.getTheme(),i),o=Object(R.deepMix)({container:this.gridContainer},r,Object(R.get)(e,"grid"),this.getAnimateCfg(e));return o.items=Jr(this.view.getCoordinate(),t,n,Object(R.get)(o,"alignTick",!0)),o}},ao.prototype.getCircleAxisCfg=function(t,e,i){var n=this.axisContainer,r=this.view.getCoordinate(),o=t.getTicks().map(function(t){return{id:""+t.tickValue,name:t.text,value:t.value}});t.isCategory||Math.abs(r.endAngle-r.startAngle)!==2*Math.PI||o.pop();var a=H(t,e),s=G(this.view.getTheme(),"circle"),l=Object(R.get)(e,["title"])?Object(R.deepMix)({title:{style:{text:a}}},e):e,u=Object(R.deepMix)(Object(S.__assign)(Object(S.__assign)({container:n},X(this.view.getCoordinate())),{ticks:o,verticalFactor:1}),s,l),c=this.getAnimateCfg(u),h=c.animate,p=c.animateOption;return u.animate=h,u.animateOption=p,u},ao.prototype.getCircleGridCfg=function(t,e,i,n){if(eo(G(this.view.getTheme(),i),e)){var r=Qr(this.view.getTheme(),"radius"),o=Object(R.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},r,Object(R.get)(e,"grid"),this.getAnimateCfg(e)),a=Object(R.get)(o,"alignTick",!0),s="x"===n?this.view.getYScales()[0]:this.view.getXScale();return o.items=to(this.view.getCoordinate(),s,t,a,n),o}},ao.prototype.getId=function(t,e){return t+"-"+e+"-"+this.view.getCoordinate().type},ao.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(R.get)(t,"animate"),animateOption:t&&t.animateOption?Object(R.deepMix)({},ro,t.animateOption):ro}},ao);function ao(t){var e=io.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(d.BG).addGroup(),e.axisContainer=e.view.getLayer(d.BG).addGroup(),e}function so(t,e,i){return i===y.TOP?[t.minX+t.width/2-e.width/2,t.minY]:i===y.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:i===y.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:i===y.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:i===y.TOP_LEFT||i===y.LEFT_TOP?[t.tl.x,t.tl.y]:i===y.TOP_RIGHT||i===y.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:i===y.BOTTOM_LEFT||i===y.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:i===y.BOTTOM_RIGHT||i===y.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function lo(t,e,i){return t&&(t.callback&&1<t.callback.length?(n=Array(t.callback.length-1).fill(""),t.mapping.apply(t,Object(S.__spreadArrays)([e],n)).join("")):t.mapping(e).join(""))||i;var n}function uo(t){var e=t.symbol;Object(R.isString)(e)&&Vn[e]&&(t.symbol=Vn[e])}function co(t){return t.startsWith(y.LEFT)||t.startsWith(y.RIGHT)?"vertical":"horizontal"}function ho(t,e){return Object(R.isBoolean)(t)?!1!==t&&{}:Object(R.get)(t,[e],t)}function po(t){return Object(R.get)(t,"position",y.BOTTOM)}var fo,go,yo=(go=Ke,Object(S.__extends)(xo,go),Object.defineProperty(xo.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),xo.prototype.init=function(){},xo.prototype.render=function(){var t,e,i,r=this;this.option=this.view.getOptions().legends,Object(R.get)(this.option,"custom")?(t=this.createCustomLegend(void 0,void 0,void 0,this.option))&&(t.init(),e=d.FORE,i=po(this.option),this.components.push({id:"global-custom",component:t,layer:e,direction:i,type:h.LEGEND,extra:void 0})):this.loopLegends(function(t,e,i){var n=r.createFieldLegend(t,e,i);n&&(n.component.init(),r.components.push(n))})},xo.prototype.layout=function(){var v=this;this.layoutBBox=this.view.viewBBox;var m=Object(R.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);Object(R.each)(this.components,function(t){var e=t.component,i=t.direction,n=co(i),r=v.getCategoryLegendSizeCfg(n),o=e.get("maxWidth"),a=e.get("maxHeight");e.update({maxWidth:Math.min(r.maxWidth,o||0),maxHeight:Math.min(r.maxHeight,a||0)});var s=e.getLayoutBBox(),l=new wt(s.x,s.y,s.width,s.height),u=so(v.view.viewBBox,l,i),c=u[0],h=u[1],p=so(v.layoutBBox,l,i),f=p[0],d=p[1],g=0,y=0,y=i.startsWith("top")||i.startsWith("bottom")?(g=c,d):(g=f,h);0<=i.indexOf("left")&&(g+=m[3]),0<=i.indexOf("right")&&(g-=m[1]),0<=i.indexOf("top")&&(y+=m[0]),0<=i.indexOf("bottom")&&(y-=m[2]),e.update({x:g,y:y}),v.layoutBBox=v.layoutBBox.cut(l,i)})},xo.prototype.update=function(){var l=this;this.option=this.view.getOptions().legends;var t,e,i,n,r,o,u={};Object(R.get)(this.option,"custom")?(t="global-custom",(e=this.getComponentById(t))?(ht(i=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0),["container"]),e.component.update(i),u[t]=!0):(n=this.createCustomLegend(void 0,void 0,void 0,this.option))&&(n.init(),r=d.FORE,o=po(this.option),this.components.push({id:t,component:n,layer:r,direction:o,type:h.LEGEND,extra:void 0}),u[t]=!0)):this.loopLegends(function(t,e,i){var n,r,o,a=l.getId(i.field),s=l.getComponentById(a);s?(n=void 0,!1!==(r=ho(l.option,i.field))&&(Object(R.get)(r,"custom")?n=l.getCategoryCfg(t,e,i,r,!0):i.isLinear?n=l.getContinuousCfg(t,e,i,r):i.isCategory&&(n=l.getCategoryCfg(t,e,i,r))),n&&(ht(n,["container"]),s.direction=po(r),s.component.update(n),u[a]=!0)):(o=l.createFieldLegend(t,e,i))&&(o.component.init(),l.components.push(o),u[a]=!0)});var a=[];Object(R.each)(this.getComponents(),function(t){u[t.id]?a.push(t):t.component.destroy()}),this.components=a},xo.prototype.clear=function(){go.prototype.clear.call(this),this.container.clear()},xo.prototype.destroy=function(){go.prototype.destroy.call(this),this.container.remove(!0)},xo.prototype.getGeometries=function(t){var e=this,i=t.geometries;return Object(R.each)(t.views,function(t){i=i.concat(e.getGeometries(t))}),i},xo.prototype.loopLegends=function(n){var t,r;this.view.getRootView()===this.view&&(t=this.getGeometries(this.view),r={},Object(R.each)(t,function(i){var t=i.getGroupAttributes();Object(R.each)(t,function(t){var e=t.getScale(t.type);e&&"identity"!==e.type&&!r[e.field]&&(n(i,t,e),r[e.field]=!0)})}))},xo.prototype.createFieldLegend=function(t,e,i){var n,r=ho(this.option,i.field),o=d.FORE,a=po(r);if(!1!==r&&(Object(R.get)(r,"custom")?n=this.createCustomLegend(t,e,i,r):i.isLinear?n=this.createContinuousLegend(t,e,i,r):i.isCategory&&(n=this.createCategoryLegend(t,e,i,r))),n)return n.set("field",i.field),{id:this.getId(i.field),component:n,layer:o,direction:a,type:h.LEGEND,extra:{scale:i}}},xo.prototype.createCustomLegend=function(t,e,i,n){var r=this.getCategoryCfg(t,e,i,n,!0);return new E(r)},xo.prototype.createContinuousLegend=function(t,e,i,n){var r=this.getContinuousCfg(t,e,i,n);return new L(r)},xo.prototype.createCategoryLegend=function(t,e,i,n){var r=this.getCategoryCfg(t,e,i,n);return new E(r)},xo.prototype.getContinuousCfg=function(t,r,o,e){var i=o.getTicks(),n=Object(R.find)(i,function(t){return 0===t.value}),a=Object(R.find)(i,function(t){return 1===t.value}),s=i.map(function(t){var e=t.value,i=t.tickValue,n=r.mapping(o.invert(e)).join("");return{value:i,attrValue:n,color:n,scaleValue:e}});n||s.push({value:o.min,attrValue:r.mapping(o.invert(0)).join(""),color:r.mapping(o.invert(0)).join(""),scaleValue:0}),a||s.push({value:o.max,attrValue:r.mapping(o.invert(1)).join(""),color:r.mapping(o.invert(1)).join(""),scaleValue:1}),s.sort(function(t,e){return t.value-e.value});var l={min:Object(R.head)(s).value,max:Object(R.last)(s).value,colors:[],rail:{type:r.type},track:{}};"size"===r.type&&(l.track={style:{fill:"size"===r.type?this.view.getTheme().defaultColor:void 0}}),"color"===r.type&&(l.colors=s.map(function(t){return t.attrValue}));var u=this.container,c=co(po(e)),h=(h=Object(R.get)(e,"title"))&&Object(R.deepMix)({text:B(o)},h);return l.container=u,l.layout=c,l.title=h,l.animateOption=vi,this.mergeLegendCfg(l,e,"continuous")},xo.prototype.getCategoryCfg=function(t,e,i,n,r){var o,a,s=this.container,l=Object(R.get)(n,"position",y.BOTTOM),u=Object(R.get)(this.view.getTheme(),["components","legend",l,"marker"]),c=Object(R.get)(n,"marker"),h=co(l),p=r?(o=u,a=c,n.items.map(function(t){var e=Object(R.deepMix)({},o,a,t.marker);return uo(e),t.marker=e,t})):function(c,h,p,f){var d=e.getScale(e.type);if(d.isCategory){var g=d.field,y=h.getAttribute("color"),v=h.getAttribute("shape"),m=c.getTheme().defaultColor,x=h.coordinate.isPolar;return d.getTicks().map(function(t){var e,i=t.text,n=t.value,r=i,o=d.invert(n),a=0===c.filterFieldData(g,[((e={})[g]=o,e)]).length,s=lo(y,o,m),l=lo(v,o,"point"),u=h.getShapeMarker(l,{color:s,isInPolar:x});return uo(u=Object(R.deepMix)({},p,u,f)),{id:o,name:r,value:o,marker:u,unchecked:a}})}return[]}(this.view,t,u,c),f=(f=Object(R.get)(n,"title"))&&Object(R.deepMix)({text:i?B(i):""},f),d=this.getCategoryLegendSizeCfg(h);d.container=s,d.layout=h,d.items=p,d.title=f,d.animateOption=vi;var g=this.mergeLegendCfg(d,n,l);return g.reversed&&g.items.reverse(),g},xo.prototype.mergeLegendCfg=function(t,e,i){var n=Object(R.get)(this.view.getTheme(),["components","legend",i],{});return Object(R.deepMix)({},n,t,e)},xo.prototype.getId=function(t){return this.name+"-"+t},xo.prototype.getComponentById=function(e){return Object(R.find)(this.components,function(t){return t.id===e})},xo.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,i=e.width,n=e.height,r=this.view.coordinateBBox,o=r.width,a=r.height;return"vertical"===t?{maxWidth:.25*i,maxHeight:a}:{maxWidth:o,maxHeight:.25*n}},xo),vo=(fo=Ke,Object(S.__extends)(mo,fo),Object.defineProperty(mo.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),mo.prototype.init=function(){},mo.prototype.render=function(){var t,e;this.option=this.view.getOptions().slider,this.option?(this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged)),t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1,this.updateMinMaxText(t,e)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},mo.prototype.layout=function(){var t,e,i,n,r,o,a;this.slider&&(t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),i=new wt(e.x,e.y,Math.min(e.width,t),e.height),(n=so(this.view.viewBBox,i,y.BOTTOM))[0],r=n[1],a=(o=so(this.view.coordinateBBox,i,y.BOTTOM))[0],o[1],this.slider.component.update({x:a,y:r,width:t}))},mo.prototype.update=function(){this.render()},mo.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new O.Slider(Object(S.__assign)({container:this.container},t));return e.init(),{component:e,layer:d.FORE,direction:y.BOTTOM,type:h.OTHER}},mo.prototype.updateSlider=function(){var t=this.getSliderCfg();return ht(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},mo.prototype.getSliderCfg=function(){if(Object(R.isObject)(this.option)){var t=Object(S.__assign)({data:this.getData()},Object(R.get)(this.option,"trendCfg",{})),e=this.view.coordinateBBox.width,i=Object(R.deepMix)({},{x:0,y:0,width:e},this.option);return Object(S.__assign)(Object(S.__assign)({},i),{trendCfg:t})}return{}},mo.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0];return t.map(function(t){return t[e.field]||0})},mo.prototype.updateMinMaxText=function(t,e){var i,n,r,o,a,s,l,u=this.view.getOptions().data,c=Object(R.size)(u),h=this.view.getXScale();h&&c&&(i=h.field,n=u.map(function(t){return t[i]||""}),r=Math.floor(t*(c-1)),o=Math.floor(e*(c-1)),a=Object(R.get)(n,[r]),s=Object(R.get)(n,[o]),(l=this.getSliderCfg().formatter)&&(a=l(a,u[r],r),s=l(s,u[o],o)),this.slider.component.update({minText:a,maxText:s,start:t,end:e}),this.view.filter(h.field,function(t,e,i){return ct(i,r,o)}))},mo.prototype.getComponents=function(){return this.slider?[this.slider]:[]},mo);function mo(t){var n=fo.call(this,t)||this;return n.onValueChanged=function(t){var e=t[0],i=t[1];n.updateMinMaxText(e,i),n.view.render(!0)},n.container=n.view.getLayer(d.FORE).addGroup(),n}function xo(t){var e=go.call(this,t)||this;return e.container=e.view.getLayer(d.FORE).addGroup(),e}var bo,_o,Oo=(_o=Ke,Object(S.__extends)(Co,_o),Object.defineProperty(Co.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),Co.prototype.init=function(){},Co.prototype.render=function(){var t=this.view.getOptions().tooltip;this.isVisible=!1!==t},Co.prototype.showTooltip=function(t){var e,i,n,r,o,a,s,l,u,c,h,p,f;this.point=t,this.isVisible&&(e=this.view,(i=this.getTooltipItems(t)).length?(n=this.getTitle(i),r={x:i[0].x,y:i[0].y},e.emit("tooltip:show",Object(S.__assign)({items:i,title:n},t)),a=(o=this.getTooltipCfg()).follow,s=o.showMarkers,l=o.showCrosshairs,u=o.showContent,c=o.marker,h=this.items,p=this.title,Object(R.isEqual)(p,n)&&Object(R.isEqual)(h,i)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",Object(S.__assign)({items:i,title:n},t)),u&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(R.mix)({},o,{items:i,title:n},a?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(i,c)),this.items=i,this.title=n,l&&(f=Object(R.get)(o,["crosshairs","follow"],!1),this.renderCrosshairs(f?t:r,o))):this.hideTooltip())},Co.prototype.hideTooltip=function(){var t,e,i,n;this.getTooltipCfg().follow&&((t=this.tooltipMarkersGroup)&&t.hide(),e=this.xCrosshair,i=this.yCrosshair,e&&e.hide(),i&&i.hide(),(n=this.tooltip)&&n.hide(),this.view.emit("tooltip:hide",{})),this.point=null},Co.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},Co.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},Co.prototype.isTooltipLocked=function(){return this.isLocked},Co.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,i=this.yCrosshair,n=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),i&&i.clear(),n&&n.clear()},Co.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},Co.prototype.changeVisible=function(t){var e,i,n,r;this.visible!==t&&(e=this.tooltip,i=this.tooltipMarkersGroup,n=this.xCrosshair,r=this.yCrosshair,t?(e&&e.show(),i&&i.show(),n&&n.show(),r&&r.show()):(e&&e.hide(),i&&i.hide(),n&&n.hide(),r&&r.hide()),this.visible=t)},Co.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var i=0,n=e=Object(R.flatten)(e);i<n.length;i++)for(var r=0,o=n[i];r<o.length;r++){var a=o[r],s=a.mappingData,l=s.x,u=s.y;a.x=Object(R.isArray)(l)?l[l.length-1]:l,a.y=Object(R.isArray)(u)?u[u.length-1]:u}if(!1===this.getTooltipCfg().shared&&1<e.length){for(var c=e[0],h=Math.abs(t.y-c[0].y),p=0,f=e;p<f.length;p++){var d=f[p],g=Math.abs(t.y-d[0].y);g<=h&&(c=d,h=g)}e=[c]}return function(i){for(var n=[],t=function(t){var e=i[t];Object(R.find)(n,function(t){return t.color===e.color&&t.name===e.name&&t.value===e.value&&t.title===e.title})||n.push(e)},e=0;e<i.length;e++)t(e);return n}(Object(R.flatten)(e))}return[]},Co.prototype.layout=function(){},Co.prototype.update=function(){this.point&&this.showTooltip(this.point)},Co.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,i=t.getTheme(),n=Object(R.get)(i,["components","tooltip"],{}),r=Object(R.isUndefined)(Object(R.get)(e,"enterable"))?n.enterable:Object(R.get)(e,"enterable");return Object(R.deepMix)({},n,e,{capture:!(!r&&!this.isLocked)})},Co.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e},Co.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),n=new k(Object(S.__assign)(Object(S.__assign)({parent:t.get("el").parentNode,region:e},i),{visible:!1,crosshairs:null}));n.init(),this.tooltip=n},Co.prototype.renderTooltipMarkers=function(t,e){for(var i=this.getTooltipMarkersGroup(),n=0,r=t;n<r.length;n++){var o=r[n],a=o.x,s=o.y,l=Object(S.__assign)(Object(S.__assign)({fill:o.color,symbol:"circle",shadowColor:o.color},e),{x:a,y:s});i.addShape("marker",{attrs:l})}},Co.prototype.renderCrosshairs=function(t,e){var i=Object(R.get)(e,["crosshairs","type"],"x");"x"===i?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===i?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===i&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},Co.prototype.renderXCrosshairs=function(t,e){var i,n,r,o,a,s,l,u=this.getViewWithGeometry(this.view).getCoordinate();gt(u,t)&&(u.isRect?o=u.isTransposed?(a={x:u.start.x,y:t.y},{x:u.end.x,y:t.y}):(a={x:t.x,y:u.end.y},{x:t.x,y:u.start.y}):(i=yt(u,t),n=u.getCenter(),r=u.getRadius(),o=ot(n.x,n.y,r,i),a=n),delete(s=Object(R.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},Object(R.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e))).type,(l=this.xCrosshair)?l.update(s):(l=new O.Crosshair.Line(s)).init(),l.render(),l.show(),this.xCrosshair=l)},Co.prototype.renderYCrosshairs=function(t,e){var i,n,r,o,a,s=this.getViewWithGeometry(this.view).getCoordinate();gt(s,t)&&(o=s.isRect?(n=i=void 0,n=s.isTransposed?(i={x:t.x,y:s.end.y},{x:t.x,y:s.start.y}):(i={x:s.start.x,y:t.y},{x:s.end.x,y:t.y}),r={start:i,end:n},"Line"):(r={center:s.getCenter(),radius:dt(s,t),startAngle:s.startAngle,endAngle:s.endAngle},"Circle"),delete(r=Object(R.deepMix)({container:this.getTooltipCrosshairsGroup()},r,Object(R.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type,!(a=this.yCrosshair)||s.isRect&&"circle"===a.get("type")||!s.isRect&&"line"===a.get("type")?(a=new O.Crosshair[o](r)).init():a.update(r),a.render(),a.show(),this.yCrosshair=a)},Co.prototype.getCrosshairsText=function(t,e,i){var n=Object(R.get)(i,["crosshairs","text"]),r=Object(R.get)(i,["crosshairs","follow"]),o=this.items;if(n){var a,s=this.getViewWithGeometry(this.view),l=o[0],u=s.getXScale(),c=s.getYScales()[0],h=void 0,p=void 0;p=r?(a=this.view.getCoordinate().invert(e),h=u.invert(a.x),c.invert(a.y)):(h=l.data[u.field],l.data[c.field]);var f="x"===t?h:p;return Object(R.isFunction)(n)?n=n(t,f,o,e):n.content=f,{text:n}}},Co.prototype.getGuideGroup=function(){var t;return this.guideGroup||(t=this.view.foregroundGroup,this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},Co.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},Co.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},Co.prototype.getTooltipItemsByHitShape=function(t,e,i){var n,r=[],o=t.container.getShape(e.x,e.y);return o&&o.get("visible")&&o.get("origin")&&(n=Se(o.get("origin").mappingData,t,i)).length&&r.push(n),r},Co.prototype.getTooltipItemsByFindData=function(t,e,i){var n=[],r=t.dataArray;t.sort(r);for(var o=0,a=r;o<a.length;o++){var s,l,u,c=Ce(e,a[o],t);c&&(s=t.getElementId(c),l=t.elementsMap[s],"heatmap"!==t.type&&!l.visible||(u=Se(c,t,i)).length&&n.push(u))}return n},Co.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var i=[],n=t.geometries,r=this.getTooltipCfg(),o=r.shared,a=r.title,s=0,l=n;s<l.length;s++){var u,c,h=l[s];h.visible&&!1!==h.tooltipOption&&(u=h.type,(c=["point","edge","polygon"].includes(u)||!["area","line","path","heatmap"].includes(u)&&!1===o?this.getTooltipItemsByHitShape(h,e,a):this.getTooltipItemsByFindData(h,e,a)).length&&i.push(c))}for(var p=0,f=t.views;p<f.length;p++)var d=f[p],i=i.concat(this.findItemsFromView(d,e));return i},Co.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:Object(R.find)(t.views,function(t){return e.getViewWithGeometry(t)})},Co),wo=(bo=$,Object(S.__extends)(Mo,bo),Mo.prototype.show=function(){var i,n,r,t,o,a,s,l,e,u,c,h,p,f,d,g,y,v,m,x,b,_,O,w=this.context.view,M=this.context.event,C=w.getTooltipItems({x:M.x,y:M.y});!Object(R.isEqual)(C,this.items)&&(this.items=C).length&&(i=w.getXScale().field,n=C[0].data[i],r=[],t=w.geometries,Object(R.each)(t,function(t){var e;"interval"!==t.type&&"schema"!==t.type||(e=t.getElementsBy(function(t){return t.getData()[i]===n}),r=r.concat(e))}),r.length&&(o=w.getCoordinate(),a=r[0].shape.getCanvasBBox(),s=r[0].shape.getCanvasBBox(),l=a,Object(R.each)(r,function(t){var e=t.shape.getCanvasBBox();o.isTransposed?(e.minY<a.minY&&(a=e),e.maxY>s.maxY&&(s=e)):(e.minX<a.minX&&(a=e),e.maxX>s.maxX&&(s=e)),l.x=Math.min(e.minX,l.minX),l.y=Math.min(e.minY,l.minY),l.width=Math.max(e.maxX,l.maxX)-l.x,l.height=Math.max(e.maxY,l.maxY)-l.y}),e=w.backgroundGroup,u=w.coordinateBBox,g=void 0,g=o.isRect?(c=w.getXScale().isLinear?0:.25,d=f=p=h=void 0,d=o.isTransposed?(h=u.minX,p=Math.min(s.minY,a.minY)-c*s.height,f=u.width,l.height+2*c*s.height):(h=Math.min(a.minX,s.minX)-c*a.width,p=Math.min(u.minY,a.minY),f=l.width+2*c*a.width,u.height),[["M",h,p],["L",h+f,p],["L",h+f,p+d],["L",h,p+d],["Z"]]):(y=Object(R.head)(r),v=Object(R.last)(r),m=lt(y.getModel(),o).startAngle,x=lt(v.getModel(),o).endAngle,b=o.getCenter(),_=o.getRadius(),O=o.innerRadius*_,at(b.x,b.y,_,m,x,O)),this.regionPath?(this.regionPath.attr("path",g),this.regionPath.show()):this.regionPath=e.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:g,fill:"#CCD6EC",opacity:.3}})))},Mo.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},Mo.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),bo.prototype.destroy.call(this)},Mo);function Mo(){return null!==bo&&bo.apply(this,arguments)||this}function Co(){var t=null!==_o&&_o.apply(this,arguments)||this;return t.isLocked=!1,t.isVisible=!0,t}var So,jo,Po,To=(Po=$,Object(S.__extends)(Io,Po),Io.prototype.show=function(){var t,e,i,n,r=this.context,o=r.event,a=r.view;a.isTooltipLocked()||(t=this.timeStamp,16<(e=+new Date)-t&&(i=this.location,n={x:o.x,y:o.y},i&&Object(R.isEqual)(i,n)||this.showTooltip(a,n),this.timeStamp=e,this.location=n))},Io.prototype.hide=function(){var t=this.context.view;t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},Io.prototype.showTooltip=function(t,e){t.showTooltip(e)},Io.prototype.hideTooltip=function(t){t.hideTooltip()},Io),Ao=(jo=To,Object(S.__extends)(ko,jo),ko.prototype.showTooltip=function(i,n){var t=zt(i);Object(R.each)(t,function(t){var e=Ht(i,t,n);t.showTooltip(e)})},ko.prototype.hideTooltip=function(t){var e=zt(t);Object(R.each)(e,function(t){t.hideTooltip()})},ko),Eo=(So=$,Object(S.__extends)(Lo,So),Lo.prototype.hasState=function(t){return t.hasState(this.stateName)},Lo.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},Lo.prototype.setState=function(){this.setStateEnable(!0)},Lo.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},Lo.prototype.clearViewState=function(t){var e=this,i=Ft(t,this.stateName);Object(R.each)(i,function(t){e.setElementState(t,!1)})},Lo);function Lo(){var t=null!==So&&So.apply(this,arguments)||this;return t.stateName="",t}function ko(){return null!==jo&&jo.apply(this,arguments)||this}function Io(){var t=null!==Po&&Po.apply(this,arguments)||this;return t.timeStamp=0,t}function Do(t){return Object(R.get)(t.get("delegateObject"),"item")}var Bo,Fo,Ro,No,Yo,Go,Xo,Vo=(Xo=Eo,Object(S.__extends)(ia,Xo),ia.prototype.isItemIgnore=function(e,i){return!!this.ignoreListItemStates.filter(function(t){return i.hasState(e,t)}).length},ia.prototype.setStateByComponent=function(t,e,i){var n=this.context.view,r=t.get("field"),o=Bt(n);this.setElementsStateByItem(o,r,e,i)},ia.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},ia.prototype.isMathItem=function(t,e,i){var n=qt(this.context.view,e),r=Rt(t,e);return!Object(R.isNil)(r)&&i.name===n.getText(r)},ia.prototype.setElementsStateByItem=function(t,e,i,n){var r=this;Object(R.each)(t,function(t){r.isMathItem(t,e,i)&&t.setState(r.stateName,n)})},ia.prototype.setStateEnable=function(t){var e=Pt(this.context);if(e)At(this.context)&&this.setStateByElement(e,t);else{var i=Tt(this.context);if(Et(i)){var n=i.item,r=i.component;if(n&&r&&!this.isItemIgnore(n,r)){var o=this.context.event.gEvent;if(o&&o.fromShape&&o.toShape&&Do(o.fromShape)===Do(o.toShape))return;this.setStateByComponent(r,n,t)}}}},ia.prototype.toggle=function(){var t,e=Pt(this.context);e&&(t=e.hasState(this.stateName),this.setElementState(e,!t))},ia.prototype.reset=function(){this.setStateEnable(!1)},ia),zo=(Go=Vo,Object(S.__extends)(ea,Go),ea.prototype.active=function(){this.setState()},ea),Ho=(Yo=$,Object(S.__extends)(ta,Yo),ta.prototype.getColorScale=function(t,e){var i=e.geometry.getAttribute("color");return i?t.getScaleByField(i.getFields()[0]):null},ta.prototype.getLinkPath=function(t,e){var i=t.shape.getCanvasBBox(),n=e.shape.getCanvasBBox();return[["M",i.maxX,i.minY],["L",n.minX,n.minY],["L",n.minX,n.maxY],["L",i.maxX,i.maxY],["Z"]]},ta.prototype.addLinkShape=function(t,e,i){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,i)}})},ta.prototype.linkByElement=function(t){var e,n,r,o,i,a,s=this,l=this.context.view,u=this.getColorScale(l,t);u&&(e=Rt(t,u.field),this.cache[e]||(i=u.field,a=e,n=Bt(l).filter(function(t){return Rt(t,i)===a}),r=this.linkGroup.addGroup(),this.cache[e]=r,o=n.length,Object(R.each)(n,function(t,e){var i;e<o-1&&(i=n[e+1],s.addLinkShape(r,t,i))})))},ta.prototype.removeLink=function(t){var e,i=this.getColorScale(this.context.view,t);i&&(e=Rt(t,i.field),this.cache[e]&&(this.cache[e].remove(),this.cache[e]=null))},ta.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Pt(t);e&&this.linkByElement(e)},ta.prototype.unlink=function(){var t=Pt(this.context);t&&this.removeLink(t)},ta.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},ta.prototype.destroy=function(){Yo.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},ta),Wo=(No=Eo,Object(S.__extends)(Jo,No),Jo.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},Jo.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},Jo.prototype.getIntersectElements=function(){var t=null;if(kt(this.context))t=It(this.context,10);else{var e=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!i)return;var n={minX:Math.min(e.x,i.x),minY:Math.min(e.y,i.y),maxX:Math.max(e.x,i.x),maxY:Math.max(e.y,i.y)},t=Nt(this.context.view,n)}return t},Jo.prototype.setStateEnable=function(t){var e,i;this.effectSiblings&&!this.effectByRecord?this.setSiblingsState(t):(e=Bt(this.context.view),(i=this.getIntersectElements())&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,e):this.clear())},Jo.prototype.setSiblingsStateByRecord=function(t,n){var r=this,e=this.context.view,i=zt(e),o=t.map(function(t){return t.getModel().data}),a=e.getXScale().field,s=e.getYScales()[0].field;Object(R.each)(i,function(t){var e=Bt(t),i=e.filter(function(t){var e=t.getModel().data;return Wt(o,e,a,s)});r.setElementsState(i,n,e)})},Jo.prototype.setSiblingsState=function(n){var r=this,t=zt(this.context.view);kt(this.context)&&Object(R.each)(t,function(t){var e=Bt(t),i=Dt(r.context,t,10);i&&i.length?r.setElementsState(i,n,e):r.clearViewState(t)})},Jo.prototype.setElementsState=function(e,i,t){var n=this;Object(R.each)(t,function(t){e.includes(t)?n.setElementState(t,i):n.setElementState(t,!1)})},Jo.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},Jo.prototype.clear=function(){var t,e=this,i=this.context.view;this.effectSiblings?(t=zt(i),Object(R.each)(t,function(t){e.clearViewState(t)})):this.clearViewState(i)},Jo),qo=(Ro=Wo,Object(S.__extends)(Qo,Ro),Qo.prototype.active=function(){this.setState()},Qo),Uo=(Fo=Eo,Object(S.__extends)($o,Fo),$o.prototype.setStateEnable=function(t){var e=Pt(this.context);if(e){if(!At(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},$o.prototype.toggle=function(){var t,e=Pt(this.context);e&&((t=this.hasState(e))||this.clear(),this.setElementState(e,!t))},$o.prototype.reset=function(){this.setStateEnable(!1)},$o),Ko=(Bo=Uo,Object(S.__extends)(Zo,Bo),Zo.prototype.active=function(){this.setState()},Zo);function Zo(){var t=null!==Bo&&Bo.apply(this,arguments)||this;return t.stateName="active",t}function $o(){return null!==Fo&&Fo.apply(this,arguments)||this}function Qo(){var t=null!==Ro&&Ro.apply(this,arguments)||this;return t.stateName="active",t}function Jo(){var t=null!==No&&No.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}function ta(){var t=null!==Yo&&Yo.apply(this,arguments)||this;return t.cache={},t}function ea(){var t=null!==Go&&Go.apply(this,arguments)||this;return t.stateName="active",t}function ia(){var t=null!==Xo&&Xo.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}function na(t){var e=Bt(t);Object(R.each)(e,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}function ra(t,e,i){Object(R.each)(t,function(t){e(t)?(t.hasState("inactive")&&t.setState("inactive",!1),t.setState("active",i)):(t.hasState("active")&&t.setState("active",!1),t.setState("inactive",i))})}var oa,aa,sa,la,ua,ca,ha,pa,fa,da,ga=(da=Vo,Object(S.__extends)(Ia,da),Ia.prototype.setElementsStateByItem=function(t,e,i,n){var r=this;this.setHighlightBy(t,function(t){return r.isMathItem(t,e,i)},n)},Ia.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState("inactive")&&t.setState("inactive",!1),t.setState("active",!0)):t.hasState("active")||t.setState("inactive",!0)},Ia.prototype.setHighlightBy=function(t,e,i){var n,r,o=this;i?Object(R.each)(t,function(t){o.setElementHighlight(t,e)}):(n=Ft(this.context.view,"active"),r=!0,Object(R.each)(n,function(t){if(!e(t))return r=!1}),r?this.clear():Object(R.each)(t,function(t){e(t)&&(t.hasState("active")&&t.setState("active",!1),t.setState("inactive",!0))}))},Ia.prototype.setElementState=function(e,t){var i=Bt(this.context.view);this.setHighlightBy(i,function(t){return e===t},t)},Ia.prototype.highlight=function(){this.setState()},Ia.prototype.clear=function(){na(this.context.view)},Ia),ya=(fa=ga,Object(S.__extends)(ka,fa),ka.prototype.setStateByElement=function(t,e){var i,n,r,o,a=this.context.view,s=t.geometry.getAttribute("color");s&&(i=a.getScaleByField(s.getFields()[0]),n=Rt(t,i.field),r=Bt(a),o=r.filter(function(t){return Rt(t,i.field)===n}),this.setHighlightBy(r,function(t){return o.includes(t)},e))},ka),va=(pa=ga,Object(S.__extends)(La,pa),La.prototype.setStateByElement=function(t,e){var i=this.context.view,n=i.getXScale(),r=Rt(t,n.field),o=Bt(i),a=o.filter(function(t){return Rt(t,n.field)===r});this.setHighlightBy(o,function(t){return a.includes(t)},e)},La),ma=(ha=Wo,Object(S.__extends)(Ea,ha),Ea.prototype.clearViewState=function(t){na(t)},Ea.prototype.highlight=function(){this.setState()},Ea.prototype.setElementsState=function(e,t,i){ra(i,function(t){return 0<=e.indexOf(t)},t)},Ea),xa=(ca=Uo,Object(S.__extends)(Aa,ca),Aa.prototype.highlight=function(){this.setState()},Aa.prototype.setElementState=function(e,t){ra(Bt(this.context.view),function(t){return e===t},t)},Aa.prototype.clear=function(){na(this.context.view)},Aa),ba=(ua=Wo,Object(S.__extends)(Ta,ua),Ta.prototype.selected=function(){this.setState()},Ta),_a=(la=Vo,Object(S.__extends)(Pa,la),Pa.prototype.selected=function(){this.setState()},Pa),Oa=(sa=Uo,Object(S.__extends)(ja,sa),ja.prototype.selected=function(){this.setState()},ja),wa=(aa=$,Object(S.__extends)(Sa,aa),Sa.prototype.getTriggerListInfo=function(){var t=Tt(this.context),e=null;return Et(t)&&(e={item:t.item,list:t.component}),e},Sa.prototype.getAllowComponents=function(){var e=this,t=Gt(this.context.view),i=[];return Object(R.each)(t,function(t){t.isList()&&e.allowSetStateByElement(t)&&i.push(t)}),i},Sa.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},Sa.prototype.clearAllComponentsState=function(){var e=this,t=this.getAllowComponents();Object(R.each)(t,function(t){t.clearItemsState(e.stateName)})},Sa.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(-1===this.cfg.componentNames.indexOf(i))return!1}var n=qt(this.context.view,e);return n&&n.isCategory},Sa.prototype.allowSetStateByItem=function(e,i){var t=this.ignoreItemStates;return!t.length||0===t.filter(function(t){return i.hasState(e,t)}).length},Sa.prototype.setStateByElement=function(t,e,i){var n=t.get("field"),r=qt(this.context.view,n),o=Rt(e,n),a=r.getText(o);this.setItemsState(t,a,i)},Sa.prototype.setStateEnable=function(e){var t,i,n,r,o=this,a=Pt(this.context);a?(t=this.getAllowComponents(),Object(R.each)(t,function(t){o.setStateByElement(t,a,e)})):Et(i=Tt(this.context))&&(n=i.item,r=i.component,this.allowSetStateByElement(r)&&this.allowSetStateByItem(n,r)&&this.setItemState(r,n,e))},Sa.prototype.setItemsState=function(e,i,n){var r=this,t=e.getItems();Object(R.each)(t,function(t){t.name===i&&r.setItemState(e,t,n)})},Sa.prototype.setItemState=function(t,e,i){t.setItemState(e,this.stateName,i)},Sa.prototype.setState=function(){this.setStateEnable(!0)},Sa.prototype.reset=function(){this.setStateEnable(!1)},Sa.prototype.toggle=function(){var t,e,i,n=this.getTriggerListInfo();n&&n.item&&(t=n.list,e=n.item,i=this.hasState(t,e),this.setItemState(t,e,!i))},Sa.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},Sa),Ma=(oa=wa,Object(S.__extends)(Ca,oa),Ca.prototype.active=function(){this.setState()},Ca);function Ca(){var t=null!==oa&&oa.apply(this,arguments)||this;return t.stateName="active",t}function Sa(){var t=null!==aa&&aa.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}function ja(){var t=null!==sa&&sa.apply(this,arguments)||this;return t.stateName="selected",t}function Pa(){var t=null!==la&&la.apply(this,arguments)||this;return t.stateName="selected",t}function Ta(){var t=null!==ua&&ua.apply(this,arguments)||this;return t.stateName="selected",t}function Aa(){var t=null!==ca&&ca.apply(this,arguments)||this;return t.stateName="active",t}function Ea(){var t=null!==ha&&ha.apply(this,arguments)||this;return t.stateName="active",t}function La(){return null!==pa&&pa.apply(this,arguments)||this}function ka(){return null!==fa&&fa.apply(this,arguments)||this}function Ia(){var t=null!==da&&da.apply(this,arguments)||this;return t.stateName="active",t}var Da,Ba,Fa,Ra,Na,Ya,Ga=(Ya=wa,Object(S.__extends)(Qa,Ya),Qa.prototype.setItemsState=function(t,e,i){this.setHighlightBy(t,function(t){return t.name===e},i)},Qa.prototype.setItemState=function(t,e,i){t.getItems(),this.setHighlightBy(t,function(t){return t===e},i)},Qa.prototype.setHighlightBy=function(e,i,t){var n,r,o=e.getItems();t?Object(R.each)(o,function(t){i(t)?(e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1),e.setItemState(t,"active",!0)):e.hasState(t,"active")||e.setItemState(t,"inactive",!0)}):(n=e.getItemsByState("active"),r=!0,Object(R.each)(n,function(t){if(!i(t))return r=!1}),r?this.clear():Object(R.each)(o,function(t){i(t)&&(e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.setItemState(t,"inactive",!0))}))},Qa.prototype.highlight=function(){this.setState()},Qa.prototype.clear=function(){var e,t,i,n=this.getTriggerListInfo();n?(t=(e=n.list).getItems(),Object(R.each)(t,function(t){e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1)})):(i=this.getAllowComponents(),Object(R.each)(i,function(t){t.clearItemsState("active"),t.clearItemsState("inactive")}))},Qa),Xa=(Na=wa,Object(S.__extends)($a,Na),$a.prototype.selected=function(){this.setState()},$a),Va=(Ra=wa,Object(S.__extends)(Za,Ra),Za.prototype.unchecked=function(){this.setState()},Za),za=(Fa=$,Object(S.__extends)(Ka,Fa),Ka.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},Ka.prototype.emitEvent=function(t){var e="mask:"+t,i=this.context.view,n=this.context.event;i.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:n.x,y:n.y})},Ka.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(S.__assign)({fill:"#C5D4EB",opacity:.3},e)})},Ka.prototype.getMaskPath=function(){return[]},Ka.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},Ka.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},Ka.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},Ka.prototype.move=function(){var t,e,i,n,r;this.moving&&this.maskShape&&(t=this.getCurrentPoint(),e=this.preMovePoint,i=t.x-e.x,n=t.y-e.y,r=this.points,Object(R.each)(r,function(t){t.x+=i,t.y+=n}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)},Ka.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},Ka.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},Ka.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},Ka.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},Ka.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},Ka.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,Fa.prototype.destroy.call(this)},Ka),Ha=(Ba=za,Object(S.__extends)(Ua,Ba),Ua.prototype.getMaskAttrs=function(){var t,e=this.points,i=Object(R.last)(this.points),n=0,r=0,o=0;return e.length&&(n=Xt(t=e[0],i)/2,r=(i.x+t.x)/2,o=(i.y+t.y)/2),{x:r,y:o,r:n}},Ua),Wa=(Da=za,Object(S.__extends)(qa,Da),qa.prototype.getRegion=function(){var t=this.points;return{start:Object(R.head)(t),end:Object(R.last)(t)}},qa.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,i=t.end;return{x:Math.min(e.x,i.x),y:Math.min(e.y,i.y),width:Math.abs(i.x-e.x),height:Math.abs(i.y-e.y)}},qa);function qa(){var t=null!==Da&&Da.apply(this,arguments)||this;return t.shapeType="rect",t}function Ua(){var t=null!==Ba&&Ba.apply(this,arguments)||this;return t.shapeType="circle",t}function Ka(){var t=null!==Fa&&Fa.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}function Za(){var t=null!==Ra&&Ra.apply(this,arguments)||this;return t.stateName="unchecked",t}function $a(){var t=null!==Na&&Na.apply(this,arguments)||this;return t.stateName="selected",t}function Qa(){var t=null!==Ya&&Ya.apply(this,arguments)||this;return t.stateName="active",t.ignoreItemStates=["unchecked"],t}function Ja(t){t.x=Object(R.clamp)(t.x,0,1),t.y=Object(R.clamp)(t.y,0,1)}var ts,es,is,ns,rs,os=(rs=Wa,Object(S.__extends)(ds,rs),ds.prototype.getRegion=function(){var t=null,e=null,i=this.points,n=this.dim,r=this.context.view.getCoordinate(),o=r.invert(Object(R.head)(i)),a=r.invert(Object(R.last)(i));return this.inPlot&&(Ja(o),Ja(a)),e="x"===n?(t=r.convert({x:o.x,y:0}),r.convert({x:a.x,y:1})):(t=r.convert({x:0,y:o.y}),r.convert({x:1,y:a.y})),{start:t,end:e}},ds),as=(ns=za,Object(S.__extends)(fs,ns),fs.prototype.getMaskPath=function(){var t=this.points,i=[];return t.length&&(Object(R.each)(t,function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),i.push(["L",t[0].x,t[0].y])),i},fs.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},fs.prototype.addPoint=function(){this.resize()},fs),ss=(is=as,Object(S.__extends)(ps,is),ps.prototype.getMaskPath=function(){return function(t){if(t.length<=2)return bt(t,!1);var e=t[0],i=[];Object(R.each)(t,function(t){i.push(t.x),i.push(t.y)});var n=xt(i,!0,null);return n.unshift(["M",e.x,e.y]),n}(this.points)},ps),ls=(es=$,Object(S.__extends)(hs,es),hs.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},hs.prototype.default=function(){this.setCursor("default")},hs.prototype.pointer=function(){this.setCursor("pointer")},hs.prototype.move=function(){this.setCursor("move")},hs.prototype.crosshair=function(){this.setCursor("crosshair")},hs.prototype.wait=function(){this.setCursor("wait")},hs.prototype.help=function(){this.setCursor("help")},hs.prototype.text=function(){this.setCursor("text")},hs.prototype.eResize=function(){this.setCursor("e-resize")},hs.prototype.wResize=function(){this.setCursor("w-resize")},hs.prototype.nResize=function(){this.setCursor("n-resize")},hs.prototype.sResize=function(){this.setCursor("s-resize")},hs.prototype.neResize=function(){this.setCursor("ne-resize")},hs.prototype.nwResize=function(){this.setCursor("nw-resize")},hs.prototype.seResize=function(){this.setCursor("se-resize")},hs.prototype.swResize=function(){this.setCursor("sw-resize")},hs.prototype.nsResize=function(){this.setCursor("ns-resize")},hs.prototype.ewResize=function(){this.setCursor("ew-resize")},hs),us=(ts=$,Object(S.__extends)(cs,ts),cs.prototype.filterView=function(t,e,i){var n=this;t.getScaleByField(e)&&t.filter(e,i),t.views&&t.views.length&&Object(R.each)(t.views,function(t){n.filterView(t,e,i)})},cs.prototype.filter=function(){var t,e,i,n,r,o,a,s,l,u=Tt(this.context);u&&(t=this.context.view,i=(e=u.component).get("field"),Et(u)?i&&(n=e.getItemsByState("unchecked"),r=qt(t,i),(o=n.map(function(t){return t.name})).length?this.filterView(t,i,function(t){var e=r.getText(t);return!o.includes(e)}):this.filterView(t,i,null),t.render(!0)):Lt(u)&&(a=e.getValue(),s=a[0],l=a[1],this.filterView(t,i,function(t){return s<=t&&t<=l}),t.render(!0)))},cs);function cs(){return null!==ts&&ts.apply(this,arguments)||this}function hs(){return null!==es&&es.apply(this,arguments)||this}function ps(){return null!==is&&is.apply(this,arguments)||this}function fs(){return null!==ns&&ns.apply(this,arguments)||this}function ds(){var t=null!==rs&&rs.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}function gs(t,e,i,n){var r=Math.min(i[e],n[e]),o=Math.max(i[e],n[e]),a=t.range,s=a[0],l=a[1];if(r<s&&(r=s),l<o&&(o=l),r===l&&o===l)return null;var u=t.invert(r),c=t.invert(o);if(t.isCategory){var h=t.values.indexOf(u),p=t.values.indexOf(c),f=t.values.slice(h,p+1);return function(t){return f.includes(t)}}return function(t){return u<=t&&t<=c}}var ys,vs,ms,xs,bs,_s,Os,ws,Ms,Cs,Ss=(Cs=$,Object(S.__extends)(Hs,Cs),Hs.prototype.hasDim=function(t){return this.dims.includes(t)},Hs.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},Hs.prototype.filter=function(){var t,e,i,n,r,o,a;if(kt(this.context))var s=this.context.event.target.getCanvasBBox(),l={x:s.x,y:s.y},u={x:s.maxX,y:s.maxY};else{if(!this.isStarted)return;l=this.startPoint,u=this.context.getCurrentPoint()}Math.abs(l.x-u.x)<5||Math.abs(l.x-u.y)<5||(i=(e=(t=this.context.view).getCoordinate()).invert(u),n=e.invert(l),this.hasDim("x")&&(a=gs(r=t.getXScale(),"x",i,n),this.filterView(t,r.field,a)),this.hasDim("y")&&(a=gs(o=t.getYScales()[0],"y",i,n),this.filterView(t,o.field,a)),this.reRender(t))},Hs.prototype.end=function(){this.isStarted=!1},Hs.prototype.reset=function(){var t,e,i=this.context.view;this.isStarted=!1,this.hasDim("x")&&(t=i.getXScale(),this.filterView(i,t.field,null)),this.hasDim("y")&&(e=i.getYScales()[0],this.filterView(i,e.field,null)),this.reRender(i)},Hs.prototype.filterView=function(t,e,i){t.filter(e,i)},Hs.prototype.reRender=function(t){t.render(!0)},Hs),js=(Ms=Ss,Object(S.__extends)(zs,Ms),zs.prototype.filterView=function(t,e,i){var n=zt(t);Object(R.each)(n,function(t){t.filter(e,i)})},zs.prototype.reRender=function(t){var e=zt(t);Object(R.each)(e,function(t){t.render(!0)})},zs),Ps=(ws=$,Object(S.__extends)(Vs,ws),Vs.prototype.filter=function(){var e,t,n,i,r,o,a,s,l,u=Tt(this.context),c=this.context.view,h=Bt(c);kt(this.context)?(e=It(this.context,10))&&Object(R.each)(h,function(t){e.includes(t)?t.show():t.hide()}):u&&(t=u.component,n=t.get("field"),Et(u)?n&&(i=t.getItemsByState("unchecked"),r=qt(c,n),o=i.map(function(t){return t.name}),Object(R.each)(h,function(t){var e=Rt(t,n),i=r.getText(e);0<=o.indexOf(i)?t.hide():t.show()})):Lt(u)&&(a=t.getValue(),s=a[0],l=a[1],Object(R.each)(h,function(t){var e=Rt(t,n);s<=e&&e<=l?t.show():t.hide()})))},Vs.prototype.clear=function(){var t=Bt(this.context.view);Object(R.each)(t,function(t){t.show()})},Vs.prototype.reset=function(){this.clear()},Vs),Ts=(Os=$,Object(S.__extends)(Xs,Os),Xs.prototype.filter=function(){kt(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},Xs.prototype.filterByRecord=function(){var i,n,r,t,e=this.context.view,o=It(this.context,10);o&&(i=e.getXScale().field,n=e.getYScales()[0].field,r=o.map(function(t){return t.getModel().data}),t=zt(e),Object(R.each)(t,function(t){var e=Bt(t);Object(R.each)(e,function(t){var e=t.getModel().data;Wt(r,e,i,n)?t.show():t.hide()})}))},Xs.prototype.filterByBBox=function(){var n=this,t=zt(this.context.view);Object(R.each)(t,function(t){var e=Dt(n.context,t,10),i=Bt(t);e&&Object(R.each)(i,function(t){e.includes(t)?t.show():t.hide()})})},Xs.prototype.reset=function(){var t=zt(this.context.view);Object(R.each)(t,function(t){var e=Bt(t);Object(R.each)(e,function(t){t.show()})})},Xs),As=(_s=$,Object(S.__extends)(Gs,_s),Gs.prototype.getButtonCfg=function(){return Object(R.deepMix)(this.buttonCfg,this.cfg)},Gs.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),i=e.addShape({type:"text",name:"button-text",attrs:Object(S.__assign)({text:t.text},t.textStyle)}).getBBox(),n=ke(t.padding),r=e.addShape({type:"rect",name:"button-rect",attrs:Object(S.__assign)({x:i.x-n[3],y:i.y-n[0],width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},t.style)});r.toBack(),e.on("mouseenter",function(){r.attr(t.activeStyle)}),e.on("mouseleave",function(){r.attr(t.style)}),this.buttonGroup=e},Gs.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,i=e.getBBox(),n=F.ext.transform(null,[["t",t.x-i.width-10,t.y+i.height+5]]);e.setMatrix(n)},Gs.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},Gs.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},Gs.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),_s.prototype.destroy.call(this)},Gs),Es=(bs=$,Object(S.__extends)(Ys,bs),Ys.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},Ys.prototype.drag=function(){var t,e,i;this.startPoint&&(t=this.context.getCurrentPoint(),e=this.context.view,i=this.context.event,this.dragStart?e.emit("drag",{target:i.target,x:i.x,y:i.y}):4<Xt(t,this.startPoint)&&(e.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0))},Ys.prototype.end=function(){var t,e;this.dragStart&&(t=this.context.view,e=this.context.event,t.emit("dragend",{target:e.target,x:e.x,y:e.y})),this.starting=!1,this.dragStart=!1},Ys),Ls=(xs=$,Object(S.__extends)(Ns,xs),Ns.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},Ns.prototype.move=function(){var t,e,i,n;this.starting&&(5<Xt(t=this.startPoint,e=this.context.getCurrentPoint())&&!this.isMoving&&(this.isMoving=!0),this.isMoving&&(i=this.context.view,n=F.ext.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]),i.backgroundGroup.setMatrix(n),i.foregroundGroup.setMatrix(n),i.middleGroup.setMatrix(n)))},Ns.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},Ns.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},Ns),ks=(ms=$,Object(S.__extends)(Rs,ms),Rs.prototype.hasDim=function(t){return this.dims.includes(t)},Rs.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},Rs.prototype.resetDim=function(t){var e,i=this.context.view;this.hasDim(t)&&this.cacheScaleDefs[t]&&(e=this.getScale(t),i.scale(e.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null)},Rs.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},Rs),Is=(vs=ks,Object(S.__extends)(Fs,vs),Fs.prototype.start=function(){var o=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var t=this.dims;Object(R.each)(t,function(t){var e=o.getScale(t),i=e.min,n=e.max,r=e.values;o.startCache[t]={min:i,max:n,values:r}})},Fs.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},Fs.prototype.translate=function(){var t,e,i,n,r,o,a,s,l,u=this;this.starting&&(t=this.startPoint,e=this.context.view.getCoordinate(),i=this.context.getCurrentPoint(),n=e.invert(t),r=e.invert(i),o=r.x-n.x,a=r.y-n.y,s=this.context.view,l=this.dims,Object(R.each)(l,function(t){u.translateDim(t,{x:-1*o,y:-1*a})}),s.render(!0))},Fs.prototype.translateDim=function(t,e){var i;!this.hasDim(t)||(i=this.getScale(t)).isLinear&&this.translateLinear(t,i,e)},Fs.prototype.translateLinear=function(t,e,i){var n=this.context.view,r=this.startCache[t],o=r.min,a=r.max,s=a-o,l=i[t]*s;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:a}),n.scale(e.field,{nice:!1,min:o+l,max:a+l})},Fs.prototype.reset=function(){vs.prototype.reset.call(this),this.startPoint=null,this.starting=!1},Fs),Ds=(ys=ks,Object(S.__extends)(Bs,ys),Bs.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},Bs.prototype.zoom=function(e){var i=this,t=this.dims;Object(R.each)(t,function(t){i.zoomDim(t,e)}),this.context.view.render(!0)},Bs.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},Bs.prototype.zoomDim=function(t,e){var i;!this.hasDim(t)||(i=this.getScale(t)).isLinear&&this.zoomLinear(t,i,e)},Bs.prototype.zoomLinear=function(t,e,i){var n=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var r=this.cacheScaleDefs[t],o=r.max-r.min,a=e.min,s=e.max,l=i*o,u=a-l,c=s+l,h=(c-u)/o;u<c&&h<100&&.01<h&&n.scale(e.field,{nice:!1,min:a-l,max:s+l})},Bs);function Bs(){var t=null!==ys&&ys.apply(this,arguments)||this;return t.zoomRatio=.05,t}function Fs(){var t=null!==vs&&vs.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}function Rs(){var t=null!==ms&&ms.apply(this,arguments)||this;return t.dims=["x","y"],t.cfgFields=["dims"],t.cacheScaleDefs={},t}function Ns(){var t=null!==xs&&xs.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}function Ys(){var t=null!==bs&&bs.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}function Gs(){var t=null!==_s&&_s.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}function Xs(){var t=null!==Os&&Os.apply(this,arguments)||this;return t.byRecord=!1,t}function Vs(){return null!==ws&&ws.apply(this,arguments)||this}function zs(){return null!==Ms&&Ms.apply(this,arguments)||this}function Hs(){var t=null!==Cs&&Cs.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}function Ws(t){return t.isInPlot()}function qs(t){return t.gEvent.preventDefault(),0<t.gEvent.originalEvent.deltaY}be("dark",ce(sn)),p("canvas",ln),p("svg",un),Xe("Polygon",Jn),Xe("Interval",Gn),Xe("Schema",tr),Xe("Path",bn),Xe("Point",Kn),Xe("Line",Xn),Xe("Area",Sn),Xe("Edge",An),Xe("Heatmap",Ln),Ti("base",Zi),Ti("interval",pr),Ti("pie",gr),Ti("polar",dr),Ei("overlap",function(t,e,i,n){var l=new xr;Object(R.each)(e,function(t){for(var e=t.find(function(t){return"text"===t.get("type")}),i=e.attr(),n=i.x,r=i.y,o=!1,a=0;a<=8;a++){var s=_r(e,n,r,a);if(l.hasGap(s)){l.fillGap(s),o=!0;break}}o||t.remove(!0)}),l.destroy()}),Ei("distribute",function(t,n,e,i){var r,x,o,a=t[0]?t[0].offset:0,s=n[0].get("coordinate"),l=s.getRadius(),u=s.getCenter();0<a&&(r=2*(l+a)+28,x={start:s.start,end:s.end},o=[[],[]],t.forEach(function(t){t&&("right"===t.textAlign?o[0].push(t):o[1].push(t))}),o.forEach(function(t,e){var i=r/14;t.length>i&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(i,t.length-i)),t.sort(function(t,e){return t.y-e.y}),function(t,i,o,a){var n,e,r,s=!0,l=x.start,u=x.end,c=Math.min(l.y,u.y),h=Math.abs(l.y-u.y),p=0,f=Number.MIN_VALUE,d=i.map(function(t){return t.y>p&&(p=t.y),t.y<f&&(f=t.y),{size:14,targets:[t.y-c]}});for(f-=c,h<p-c&&(h=p-c);s;)for(d.forEach(function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),h-t.size)}),s=!1,n=d.length;n--;){0<n&&(e=d[n-1],r=d[n],e.pos+e.size>r.pos&&(e.size+=r.size,e.targets=e.targets.concat(r.targets),e.pos+e.size>h&&(e.pos=h-e.size),d.splice(n,1),s=!0))}n=0,d.forEach(function(t){var e=c+7;t.targets.forEach(function(){i[n].y=t.pos+e,e+=14,n++})});for(var g={},y=0,v=t;y<v.length;y++){var m=v[y];g[m.get("id")]=m}i.forEach(function(t){var e,i=t.r*t.r,n=Math.pow(Math.abs(t.y-o.y),2);i<n?t.x=o.x:(e=Math.sqrt(i-n),t.x=a?o.x+e:o.x-e);var r=g[t.id];r.attr("x",t.x),r.attr("y",t.y)})}(n,t,u,e)})),Object(R.each)(t,function(t){var e,i,n,r,o,a,s;t&&t.labelLine&&(e=t.offset,i=t.angle,n=ot(u.x,u.y,l,i),r=ot(u.x,u.y,l+e/2,i),o=t.x+Object(R.get)(t,"offsetX",0),a=t.y+Object(R.get)(t,"offsetY",0),s={x:o-4*Math.cos(i),y:a-4*Math.sin(i)},Object(R.isObject)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+n.x,n.y+" Q"+r.x,r.y+" "+s.x,s.y].join(","))})}),Ei("fixed-overlap",function(t,e,i,n){var r=new xr;Object(R.each)(e,function(t){!function(t,e,i){void 0===i&&(i=100);var n,r=t.attr(),o=r.x,a=r.y,s=t.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u=1,c=0,h=0;if(e.hasGap(s))return e.fillGap(s),1;for(var p,f=!1,d=0,g={};Math.min(Math.abs(c),Math.abs(h))<l&&d<i;)if(h=~~(n=[(p=.1*(u+=-1))*Math.cos(p),p*Math.sin(p)])[1],((c=~~n[0])||h)&&!g[c+"-"+h]&&(t.attr({x:o+c,y:a+h}),c+h<0&&t.attr("textAlign","right"),d++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),f=!0,g[c+"-"+h]=!0;break}return f}(t.find(function(t){return"text"===t.get("type")}),r)&&t.remove(!0)}),r.destroy()}),Ei("limit-in-shape",function(t,e,r,i){Object(R.each)(e,function(t,e){var i=t.getCanvasBBox(),n=r[e].getBBox();(i.minX<n.minX||i.minY<n.minY||i.maxX>n.maxX||i.maxY>n.maxY)&&t.remove(!0)})}),Ei("limit-in-canvas",function(t,e,i,y){Object(R.each)(e,function(t){var e=y.minX,i=y.minY,n=y.maxX,r=y.maxY,o=t.getCanvasBBox(),a=o.minX,s=o.minY,l=o.maxX,u=o.maxY,c=o.x,h=o.y,p=o.width,f=o.height,d=c,g=h;(a<e||l<e)&&(d=e),(s<i||u<i)&&(g=i),n<a?d=n-p:n<l&&(d-=l-n),r<s?g=r-f:r<u&&(g-=u-r),d===c&&g===h||Wi(t,d-c,g-h)})}),yi("fade-in",function(t,e,i){var n={fillOpacity:Object(R.isNil)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(R.isNil)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(R.isNil)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(n,e)}),yi("fade-out",function(t,e,i){var n=e.easing,r=e.duration,o=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r,n,function(){t.remove(!0)},o)}),yi("grow-in-x",function(t,e,i){Or(t,e,i.coordinate,i.minYPoint,"x")}),yi("grow-in-xy",function(t,e,i){Or(t,e,i.coordinate,i.minYPoint,"xy")}),yi("grow-in-y",function(t,e,i){Or(t,e,i.coordinate,i.minYPoint,"y")}),yi("scale-in-x",function(t,e,i){var n=t.getBBox(),r=t.get("origin").mappingData.points,o=0<r[0].y-r[1].y?n.maxX:n.minX,a=(n.minY+n.maxY)/2;t.applyToMatrix([o,a,1]);var s=F.ext.transform(t.getMatrix(),[["t",-o,-a],["s",.01,1],["t",o,a]]);t.setMatrix(s),t.animate({matrix:F.ext.transform(t.getMatrix(),[["t",-o,-a],["s",100,1],["t",o,a]])},e)}),yi("scale-in-y",function(t,e,i){var n=t.getBBox(),r=t.get("origin").mappingData,o=(n.minX+n.maxX)/2,a=r.points,s=a[0].y-a[1].y<=0?n.maxY:n.minY;t.applyToMatrix([o,s,1]);var l=F.ext.transform(t.getMatrix(),[["t",-o,-s],["s",1,.01],["t",o,s]]);t.setMatrix(l),t.animate({matrix:F.ext.transform(t.getMatrix(),[["t",-o,-s],["s",1,100],["t",o,s]])},e)}),yi("wave-in",function(t,e,i){var n=vt(i.coordinate,20),r=n.type,o=n.startState,a=n.endState,s=t.setClip({type:r,attrs:o});s.animate(a,Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),s.remove(!0)}}))}),yi("zoom-in",function(t,e,i){Pr(t,e,"zoomIn")}),yi("zoom-out",function(t,e,i){Pr(t,e,"zoomOut")}),yi("position-update",function(t,e,i){var n=i.toAttrs,r=n.x,o=n.y;delete n.x,delete n.y,t.attr(n),t.animate({x:r,y:o},e)}),yi("sector-path-update",function(t,e,i){var n=i.toAttrs,r=i.coordinate,o=n.path,a=o.map(function(t){return t[0]}),s=jr(o),l=s.startAngle,u=s.endAngle,c=s.radius,h=s.innerRadius,p=jr(t.attr("path")),f=p.startAngle,d=p.endAngle,g=r.getCenter(),y=l-f,v=u-d;t.animate(function(t){var e=f+t*y,i=d+t*v;return Object(S.__assign)(Object(S.__assign)({},n),{path:Object(R.isEqual)(a,["M","A","A","Z"])?st(g.x,g.y,c,e,i):at(g.x,g.y,c,e,i,h)})},Object(S.__assign)(Object(S.__assign)({},e),{callback:function(){t.attr("path",o)}}))}),yi("path-in",function(t,e,i){var n=t.getTotalLength();t.attr("lineDash",[n]),t.animate(function(t){return{lineDashOffset:(1-t)*n}},e)}),Z("rect",Xr),Z("mirror",Gr),Z("list",Nr),Z("matrix",Yr),Z("circle",Rr),Z("tree",Vr),Pe("axis",oo),Pe("legend",yo),Pe("tooltip",Oo),Pe("annotation",zr),Pe("slider",vo),rt("tooltip",To),rt("sibling-tooltip",Ao),rt("element-active",zo),rt("element-single-active",Ko),rt("element-range-active",qo),rt("element-highlight",ga),rt("element-highlight-by-x",va),rt("element-highlight-by-color",ya),rt("element-single-highlight",xa),rt("element-range-highlight",ma),rt("element-sibling-highlight",ma,{effectSiblings:!0,effectByRecord:!0}),rt("element-selected",_a),rt("element-single-selected",Oa),rt("element-range-selected",ba),rt("element-link-by-color",Ho),rt("active-region",wo),rt("list-active",Ma),rt("list-selected",Xa),rt("list-highlight",Ga),rt("list-unchecked",Va),rt("legend-item-highlight",Ga,{componentNames:["legend"]}),rt("axis-label-highlight",Ga,{componentNames:["axis"]}),rt("rect-mask",Wa),rt("x-rect-mask",os,{dim:"x"}),rt("y-rect-mask",os,{dim:"y"}),rt("circle-mask",Ha),rt("path-mask",as),rt("smooth-path-mask",ss),rt("cursor",ls),rt("data-filter",us),rt("brush",Ss),rt("brush-x",Ss,{dims:["x"]}),rt("brush-y",Ss,{dims:["y"]}),rt("sibling-filter",js),rt("sibling-x-filter",js),rt("sibling-y-filter",js),rt("element-filter",Ps),rt("element-sibling-filter",Ts),rt("element-sibling-filter-record",Ts,{byRecord:!0}),rt("view-drag",Es),rt("view-move",Ls),rt("scale-translate",Is),rt("scale-zoom",Ds),rt("reset-button",As,{name:"reset-button",text:"reset"}),le("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),le("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),le("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),le("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),le("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),le("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),le("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),le("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),le("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),le("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),le("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),le("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ws,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Ws,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ws,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),le("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),le("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ws,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Ws,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ws,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),le("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ws,action:"path-mask:start"},{trigger:"mousedown",isEnable:Ws,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),le("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),le("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),le("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),le("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),le("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),le("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),le("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return qs(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!qs(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),le("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var Us={translate:Wi,rotate:qi,zoom:function(t,e){var i=t.getBBox(),n=(i.minX+i.maxX)/2,r=(i.minY+i.maxY)/2;t.applyToMatrix([n,r,1]);var o=zi(t.getMatrix(),[["t",-n,-r],["s",e,e],["t",n,r]]);t.setMatrix(o)},transform:zi,getAngle:lt,polarToCartesian:ot}},function(t,e,i){"use strict";i.r(e);function n(){}var h={},p=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="[^\\s]+",f=/\[([^]*?)\]/gm;function o(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i.push(t[n].substr(0,e));return i}function a(r){return function(t,e,i){var n=i[r].indexOf(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());~n&&(t.month=n)}}function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],c=o(u,3),d=o(l,3);h.i18n={dayNamesShort:d,dayNames:l,monthNamesShort:c,monthNames:u,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10)*t%10]}};var g={D:function(t){return t.getDate()},DD:function(t){return s(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return s(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return s(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return s(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return s(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return s(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return s(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return s(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return s(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return s(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return s(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(0<e?"-":"+")+s(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},y={D:["\\d\\d?",function(t,e){t.day=e}],Do:["\\d\\d?"+r,function(t,e){t.day=parseInt(e,10)}],M:["\\d\\d?",function(t,e){t.month=e-1}],YY:["\\d\\d?",function(t,e){var i=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(68<e?i-1:i)+e}],h:["\\d\\d?",function(t,e){t.hour=e}],m:["\\d\\d?",function(t,e){t.minute=e}],s:["\\d\\d?",function(t,e){t.second=e}],YYYY:["\\d{4}",function(t,e){t.year=e}],S:["\\d",function(t,e){t.millisecond=100*e}],SS:["\\d{2}",function(t,e){t.millisecond=10*e}],SSS:["\\d{3}",function(t,e){t.millisecond=e}],d:["\\d\\d?",n],ddd:[r,n],MMM:[r,a("monthNamesShort")],MMMM:[r,a("monthNames")],a:[r,function(t,e,i){var n=e.toLowerCase();n===i.amPm[0]?t.isPm=!1:n===i.amPm[1]&&(t.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(t,e){var i,n=(e+"").match(/([+-]|\d\d)/gi);n&&(i=60*n[1]+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?i:-i)}]};y.dd=y.d,y.dddd=y.ddd,y.DD=y.D,y.mm=y.m,y.hh=y.H=y.HH=y.h,y.MM=y.M,y.ss=y.s,y.A=y.a,h.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},h.format=function(e,t,i){var n=i||h.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=h.masks[t]||t||h.masks.default;var r=[];return(t=(t=t.replace(f,function(t,e){return r.push(e),"@@@"})).replace(p,function(t){return t in g?g[t](e,n):t.slice(1,t.length-1)})).replace(/@@@/g,function(){return r.shift()})},h.parse=function(t,e,i){var n=i||h.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=h.masks[e]||e,1e3<t.length)return null;var r={},o=[],a=[],s=(s=(e=e.replace(f,function(t,e){return a.push(e),"@@@"})).replace(/[|\\{()[^$+*?.-]/g,"\\$&").replace(p,function(t){if(y[t]){var e=y[t];return o.push(e[1]),"("+e[0]+")"}return t})).replace(/@@@/g,function(){return a.shift()}),l=t.match(new RegExp(s,"i"));if(!l)return null;for(var u=1;u<l.length;u++)o[u-1](r,l[u],n);var c=new Date;return!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=(r.minute||0)-r.timezoneOffset,new Date(Date.UTC(r.year||c.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):new Date(r.year||c.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0)},e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null==t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isMobile=e.isBBoxIntersect=e.sortedLastIndex=e.getLegendShapes=e.getAxisShapes=e.getLegendComponents=e.getAxisComponents=e.breakText=e.isTextUsable=void 0;var n=i(1),r=i(8);e.isTextUsable=function(t){return!!t&&!(!0!==t.visible||"string"!=typeof t.text||!t.text.trim())},e.breakText=function(t,e){var i=n.__spreadArrays(t);return e.forEach(function(t,e){i.splice(t+e,0,"\n")}),i.join("")},e.getAxisComponents=function(t){return t.getComponents().filter(function(t){return t.type===r.COMPONENT_TYPE.AXIS}).map(function(t){return t.component})},e.getLegendComponents=function(t){return t.getComponents().filter(function(t){return t.type===r.COMPONENT_TYPE.LEGEND}).map(function(t){return t.component})},e.getAxisShapes=function(t){return t.backgroundGroup.findAll(function(t){if(t.get("name"))return"axis"===t.get("name").split("-")[0]})},e.getLegendShapes=function(t){return t.foregroundGroup.findAll(function(t){if(t.get("name"))return"legend-item-group"===t.get("name")})},e.sortedLastIndex=function(t,e){for(var i=t.length;0<i&&!(e>=t[i-1]);)--i;return i},e.isBBoxIntersect=function(t,e){return!(t.maxY<e.minY||e.maxY<t.minY||t.maxX<e.minX||e.maxX<t.minX)},e.isMobile=function(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),r=i(0),a=(o=n.__importDefault(i(88)).default,n.__extends(s,o),s.registerInteraction=function(t,e){s.GLOBAL_INTERACTION_MAP[t]=e},s.registerPlotInteraction=function(t,e,i){s.PLOT_INTERACTION_MAP[t]||(s.PLOT_INTERACTION_MAP[t]={}),s.PLOT_INTERACTION_MAP[t][e]=i},s.getInteraction=function(t,e){return e&&s.PLOT_INTERACTION_MAP[e]&&s[e][t]?s.PLOT_INTERACTION_MAP[e][t]:s.GLOBAL_INTERACTION_MAP[t]},s.getInteractionRange=function(t,e){},s.prototype.destroy=function(){r.each(this.disposables,function(t){t()}),this.disposables=[],this.clear(),o.prototype.destroy.call(this)},s.prototype.getViewLayer=function(){return this.viewLayer},s.prototype.getRange=function(){return this.interactionRange},s.prototype.getInteractionConfig=function(){return this.interactionConfig},s.prototype.addDisposable=function(t){this.disposables.push(t)},s.prototype.render=function(){},s.prototype.start=function(t){},s.GLOBAL_INTERACTION_MAP={},s.PLOT_INTERACTION_MAP={},s);function s(t,e,i,n){var r=o.call(this,t)||this;return r.viewLayer=e,r.interactionRange=i,r.interactionConfig=n,r.disposables=[],r}e.default=a},function(t,e,i){"use strict";i.r(e);function c(t,e,i,n){return t[n]+(e[n]-t[n])*i}var a=i(0),n=/rgba?\(([\s.,0-9]+)\)/,s=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,l=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t){return"#"+o(t[0])+o(t[1])+o(t[2])}function r(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}function o(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}function p(t){if("#"===t[0]&&7===t.length)return t;var e;f||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),f=e),f.style.color=t;var i=document.defaultView.getComputedStyle(f,"").getPropertyValue("color");return h(n.exec(i)[1].split(/\s*,\s*/).map(function(t){return Number(t)}))}var f;e.default={rgb2arr:r,gradient:function(t){var e=Object(a.isString)(t)?t.split("-"):t,u=Object(a.map)(e,function(t){return r(-1===t.indexOf("#")?p(t):t)});return function(t){return e=u,i=t,n=isNaN(Number(i))||i<0?0:1<i?1:Number(i),r=e.length-1,o=Math.floor(r*n),a=r*n-o,s=e[o],l=o===r?s:e[o+1],h([c(s,l,a,0),c(s,l,a,1),c(s,l,a,2)]);var e,i,n,r,o,a,s,l}},toRGB:Object(a.memoize)(p),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n,i,r=void 0;"l"===t[0]?(e=+(i=s.exec(t))[1]+90,r=i[2],n="linear-gradient("+e+"deg, "):"r"===t[0]&&(n="radial-gradient(",r=(i=l.exec(t))[4]);var o=r.match(u);return Object(a.each)(o,function(t,e){var i=t.split(":");n+=i[1]+" "+100*i[0]+"%",e!==o.length-1&&(n+=", ")}),n+=")"}return t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(29),y=i(18),d=i(119);function v(t,e,i,n,r){var o=1-r;return o*o*o*t+3*e*r*o*o+3*i*r*r*o+n*r*r*r}function h(t,e,i,n,r){var o=1-r;return 3*(o*o*(e-t)+2*o*r*(i-e)+r*r*(n-i))}function g(t,e,i,n){var r,o,a,s,l=-3*t+9*e-9*i+3*n,u=6*t-12*e+6*i,c=3*e-3*t,h=[];return f.isNumberEqual(l,0)?f.isNumberEqual(u,0)||0<=(r=-c/u)&&r<=1&&h.push(r):(s=u*u-4*l*c,f.isNumberEqual(s,0)?h.push(-u/(2*l)):0<s&&(o=(-u-(a=Math.sqrt(s)))/(2*l),0<=(r=(-u+a)/(2*l))&&r<=1&&h.push(r),0<=o&&o<=1&&h.push(o))),h}function m(t,e,i,n,r,o,a,s,l){var u=v(t,i,r,a,l),c=v(e,n,o,s,l),h=y.default.pointAt(t,e,i,n,l),p=y.default.pointAt(i,n,r,o,l),f=y.default.pointAt(r,o,a,s,l),d=y.default.pointAt(h.x,h.y,p.x,p.y,l),g=y.default.pointAt(p.x,p.y,f.x,f.y,l);return[[t,e,h.x,h.y,d.x,d.y,u,c],[u,c,g.x,g.y,f.x,f.y,a,s]]}e.default={extrema:g,box:function(t,e,i,n,r,o,a,s){for(var l=[t,a],u=[e,s],c=g(t,i,r,a),h=g(e,n,o,s),p=0;p<c.length;p++)l.push(v(t,i,r,a,c[p]));for(p=0;p<h.length;p++)u.push(v(e,n,o,s,h[p]));return f.getBBoxByArray(l,u)},length:function(t,e,i,n,r,o,a,s){return function t(e,i,n,r,o,a,s,l,u){if(0===u)return d.snapLength([e,n,o,s],[i,r,a,l]);var c=m(e,i,n,r,o,a,s,l,.5),h=c[0],p=c[1];return h.push(u-1),p.push(u-1),t.apply(null,h)+t.apply(null,p)}(t,e,i,n,r,o,a,s,3)},nearestPoint:function(t,e,i,n,r,o,a,s,l,u){return d.nearestPoint([t,i,r,a],[e,n,o,s],l,u,v)},pointDistance:function(t,e,i,n,r,o,a,s,l,u){var c=this.nearestPoint(t,e,i,n,r,o,a,s,l,u);return f.distance(c.x,c.y,l,u)},interpolationAt:v,pointAt:function(t,e,i,n,r,o,a,s,l){return{x:v(t,i,r,a,l),y:v(e,n,o,s,l)}},divide:m,tangentAngle:function(t,e,i,n,r,o,a,s,l){var u=h(t,i,r,a,l),c=h(e,n,o,s,l);return f.piMod(Math.atan2(c,u))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(80);e.default=function(t){return n.default(t,"Function")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.attr("text","")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),n=i(6),a=o.__importDefault(i(15)),s=i(17),l=o.__importDefault(i(159)),u=i(27),c=o.__importDefault(i(341));i(344),i(57),i(167);var h=o.__importStar(i(168));i(99);var p,f=i(25),d={column:"interval"},g={interval:"column"},y=(p=a.default,o.__extends(v,p),v.getDefaultOptions=function(){return r.deepMix({},p.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},v.prototype.beforeInit=function(){p.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},v.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new l.default(o.__assign({view:this.view,field:t.yField,transpose:!0,animation:!1!==t.animation},t.conversionTag))),p.prototype.afterRender.call(this)},v.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},v.prototype.processData=function(t){var i=this.options.xField,n=[];return r.each(t,function(t){var e=r.clone(t);e[i]=e[i].toString(),n.push(e)}),n},v.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},r.has(t,"xAxis")&&u.extractScale(e[t.xField],t.xAxis),e[t.yField]={},r.has(t,"yAxis")&&u.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),p.prototype.scale.call(this)},v.prototype.coord=function(){},v.prototype.adjustColumn=function(t){},v.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",r.deepMix({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},v.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},v.prototype.animation=function(){p.prototype.animation.call(this),!1===this.options.animation&&(this.column.animate=!1)},v.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,h)},v.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,r=e[i.yField];null!=n&&n.visible&&(t=f.getGeometryByType(this.view,"interval"),this.doRenderLabel(t,o.__assign({type:"column",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},v.prototype.applyResponsive=function(t){var e=this,i=c.default[t];r.each(i,function(t){t.method(e)})},v);function v(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="column",t}e.default=y,n.registerPlotType("column",y)},function(t,e,i){"use strict";i.r(e),i.d(e,"getCoordinate",function(){return d}),i.d(e,"registerCoordinate",function(){return g}),i.d(e,"Coordinate",function(){return r});var u,c,n,s=i(1),h=i(3),p=i(0),r=(x.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},x.prototype.update=function(t){Object(p.assign)(this,t),this.initial()},x.prototype.convertDim=function(t,e){var i,n=this[e],r=n.start,o=n.end;return this.isReflect(e)&&(r=(i=[o,r])[0],o=i[1]),r+t*(o-r)},x.prototype.invertDim=function(t,e){var i,n=this[e],r=n.start,o=n.end;return this.isReflect(e)&&(r=(i=[o,r])[0],o=i[1]),(t-r)/(o-r)},x.prototype.applyMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,r=[t,e,i];return h.vec3.transformMat3(r,r,n),r},x.prototype.invertMatrix=function(t,e,i){void 0===i&&(i=0);var n=this.matrix,r=h.mat3.invert([0,0,0,0,0,0,0,0,0],n),o=[t,e,i];return r&&h.vec3.transformMat3(o,o,r),o},x.prototype.convert=function(t){var e=this.convertPoint(t),i=e.x,n=e.y,r=this.applyMatrix(i,n,1);return{x:r[0],y:r[1]}},x.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},x.prototype.rotate=function(t){var e=this.matrix,i=this.center;return h.ext.leftTranslate(e,e,[-i.x,-i.y]),h.ext.leftRotate(e,e,t),h.ext.leftTranslate(e,e,[i.x,i.y]),this},x.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},x.prototype.scale=function(t,e){var i=this.matrix,n=this.center;return h.ext.leftTranslate(i,i,[-n.x,-n.y]),h.ext.leftScale(i,i,[t,e]),h.ext.leftTranslate(i,i,[n.x,n.y]),this},x.prototype.translate=function(t,e){var i=this.matrix;return h.ext.leftTranslate(i,i,[t,e]),this},x.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},x.prototype.getCenter=function(){return this.center},x.prototype.getWidth=function(){return this.width},x.prototype.getHeight=function(){return this.height},x.prototype.getRadius=function(){return this.radius},x.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},x.prototype.resetMatrix=function(t){this.matrix=t||Object(s.__spreadArrays)(this.originalMatrix)},x),o=(n=r,Object(s.__extends)(m,n),m.prototype.initial=function(){n.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},m.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:this.convertDim(i,"x"),y:this.convertDim(n,"y")}},m.prototype.invertPoint=function(t){var e,i=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed&&(i=(e=[n,i])[0],n=e[1]),{x:i,y:n}},m),a=(c=r,Object(s.__extends)(v,c),v.prototype.initial=function(){c.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&0<=this.radius&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},v.prototype.convertPoint=function(t){var e,i=t.x,n=t.y;this.isTransposed&&(i=(e=[n,i])[0],n=e[1]);var r=this.convertDim(i,"x"),o=this.a*r,a=this.convertDim(n,"y");return{x:this.center.x+Math.cos(r)*(o+a),y:this.center.y+Math.sin(r)*(o+a)}},v.prototype.invertPoint=function(t){var e,i=this.d+this.y.start,n=h.vec2.subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),r=h.ext.angleTo(n,[1,0],!0),o=r*this.a;h.vec2.length(n)<o&&(o=h.vec2.length(n)),r=2*Math.floor((h.vec2.length(n)-o)/i)*Math.PI+r;var a=this.a*r,s=h.vec2.length(n)-a,s=Object(p.isNumberEqual)(s,0)?0:s,l=this.invertDim(r,"x"),u=this.invertDim(s,"y"),l=Object(p.isNumberEqual)(l,0)?0:l,u=Object(p.isNumberEqual)(u,0)?0:u;return this.isTransposed&&(l=(e=[u,l])[0],u=e[1]),{x:l,y:u}},v),l=(u=r,Object(s.__extends)(y,u),y.prototype.initial=function(){for(u.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var t,e=this.getOneBox(),i=e.maxX-e.minX,n=e.maxY-e.minY,r=Math.abs(e.minX)/i,o=Math.abs(e.minY)/n;this.height/n>this.width/i?(t=this.width/i,this.circleCenter={x:this.center.x-(.5-r)*this.width,y:this.center.y-(.5-o)*t*n}):(t=this.height/n,this.circleCenter={x:this.center.x-(.5-r)*t*i,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?0<this.radius&&this.radius<=1?this.polarRadius=t*this.radius:(this.radius<=0||this.radius>t)&&(this.polarRadius=t):this.polarRadius=t,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},y.prototype.getRadius=function(){return this.polarRadius},y.prototype.convertPoint=function(t){var e,i=this.getCenter(),n=t.x,r=t.y;return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),n=this.convertDim(n,"x"),r=this.convertDim(r,"y"),{x:i.x+Math.cos(n)*r,y:i.y+Math.sin(n)*r}},y.prototype.invertPoint=function(t){var e=this.getCenter(),i=[t.x-e.x,t.y-e.y],n=[1,0,0,0,1,0,0,0,1];h.ext.leftRotate(n,n,this.startAngle);var r=[1,0,0];h.vec3.transformMat3(r,r,n);var o=[r[0],r[1]],a=h.ext.angleTo(o,i,this.endAngle<this.startAngle);Object(p.isNumberEqual)(a,2*Math.PI)&&(a=0);var s=h.vec2.length(i),l=a/(this.endAngle-this.startAngle),l=0<this.endAngle-this.startAngle?l:-l,u=this.invertDim(s,"y"),c={x:0,y:0};return c.x=this.isTransposed?u:l,c.y=this.isTransposed?l:u,c},y.prototype.getCenter=function(){return this.circleCenter},y.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(e)],n=[0,Math.sin(t),Math.sin(e)],r=Math.min(t,e);r<Math.max(t,e);r+=Math.PI/18)i.push(Math.cos(r)),n.push(Math.sin(r));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,n),maxY:Math.max.apply(Math,n)}},y),f={},d=function(t){return f[t.toLowerCase()]},g=function(t,e){f[t.toLowerCase()]=e};function y(t){var e=u.call(this,t)||this;e.isPolar=!0,e.type="polar";var i=t.startAngle,n=void 0===i?-Math.PI/2:i,r=t.endAngle,o=void 0===r?3*Math.PI/2:r,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=n,e.endAngle=o,e.innerRadius=s,e.radius=l,e.initial(),e}function v(t){var e=c.call(this,t)||this;e.isHelix=!0,e.type="helix";var i=t.startAngle,n=void 0===i?1.25*Math.PI:i,r=t.endAngle,o=void 0===r?7.25*Math.PI:r,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=n,e.endAngle=o,e.innerRadius=s,e.radius=l,e.initial(),e}function m(t){var e=n.call(this,t)||this;return e.isRect=!0,e.type="cartesian",e.initial(),e}function x(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,i=t.end,n=t.matrix,r=void 0===n?[1,0,0,0,1,0,0,0,1]:n,o=t.isTransposed,a=void 0!==o&&o;this.start=e,this.end=i,this.matrix=r,this.originalMatrix=Object(s.__spreadArrays)(r),this.isTransposed=a}g("rect",o),g("cartesian",o),g("polar",l),g("helix",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Math.PI/180;e.default=function(t){return n*t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(t%e+e)%e}},function(t,e,i){"use strict";var n,r=i(1),o=i(10),a=i(34),s=i(14),l=(n=o.AbstractGroup,Object(r.__extends)(u,n),u.prototype.onCanvasChange=function(t){Object(s.f)(this,t)},u.prototype.getShapeBase=function(){return a},u.prototype.getGroupBase=function(){return u},u.prototype._applyClip=function(t,e){e&&(t.save(),Object(s.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},u.prototype.draw=function(t,e){var i=this.getChildren();i.length&&(t.save(),Object(s.a)(t,this),this._applyClip(t,this.getClip()),Object(s.b)(t,i,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},u.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},u);function u(){return null!==n&&n.apply(this,arguments)||this}e.a=l},function(t,e,i){"use strict";i.r(e),i.d(e,"create",function(){return n}),i.d(e,"fromMat4",function(){return r}),i.d(e,"clone",function(){return o}),i.d(e,"copy",function(){return a}),i.d(e,"fromValues",function(){return s}),i.d(e,"set",function(){return l}),i.d(e,"identity",function(){return u}),i.d(e,"transpose",function(){return c}),i.d(e,"invert",function(){return h}),i.d(e,"adjoint",function(){return p}),i.d(e,"determinant",function(){return f}),i.d(e,"multiply",function(){return d}),i.d(e,"translate",function(){return g}),i.d(e,"rotate",function(){return y}),i.d(e,"scale",function(){return v}),i.d(e,"fromTranslation",function(){return m}),i.d(e,"fromRotation",function(){return x}),i.d(e,"fromScaling",function(){return _}),i.d(e,"fromMat2d",function(){return O}),i.d(e,"fromQuat",function(){return w}),i.d(e,"normalFromMat4",function(){return M}),i.d(e,"projection",function(){return C}),i.d(e,"str",function(){return S}),i.d(e,"frob",function(){return j}),i.d(e,"add",function(){return P}),i.d(e,"subtract",function(){return T}),i.d(e,"multiplyScalar",function(){return A}),i.d(e,"multiplyScalarAndAdd",function(){return E}),i.d(e,"exactEquals",function(){return L}),i.d(e,"equals",function(){return k}),i.d(e,"mul",function(){return I}),i.d(e,"sub",function(){return D});var b=i(9);function n(){var t=new b.a(9);return b.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new b.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(t,e,i,n,r,o,a,s,l){var u=new b.a(9);return u[0]=t,u[1]=e,u[2]=i,u[3]=n,u[4]=r,u[5]=o,u[6]=a,u[7]=s,u[8]=l,u}function l(t,e,i,n,r,o,a,s,l,u){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,e){var i,n,r;return t===e?(i=e[1],n=e[2],r=e[5],t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t}function h(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,p=-c*o+s*l,f=u*o-a*l,d=i*h+n*p+r*f;return d?(d=1/d,t[0]=h*d,t[1]=(-c*n+r*u)*d,t[2]=(s*n-r*a)*d,t[3]=p*d,t[4]=(c*i-r*l)*d,t[5]=(-s*i+r*o)*d,t[6]=f*d,t[7]=(-u*i+n*l)*d,t[8]=(a*i-n*o)*d,t):null}function p(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=r*u-n*c,t[2]=n*s-r*a,t[3]=s*l-o*c,t[4]=i*c-r*l,t[5]=r*o-i*s,t[6]=o*u-a*l,t[7]=n*l-i*u,t[8]=i*a-n*o,t}function f(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*o-a*l)+i*(-u*r+a*s)+n*(l*r-o*s)}function d(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=i[0],f=i[1],d=i[2],g=i[3],y=i[4],v=i[5],m=i[6],x=i[7],b=i[8];return t[0]=p*n+f*a+d*u,t[1]=p*r+f*s+d*c,t[2]=p*o+f*l+d*h,t[3]=g*n+y*a+v*u,t[4]=g*r+y*s+v*c,t[5]=g*o+y*l+v*h,t[6]=m*n+x*a+b*u,t[7]=m*r+x*s+b*c,t[8]=m*o+x*l+b*h,t}function g(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=i[0],f=i[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=p*n+f*a+u,t[7]=p*r+f*s+c,t[8]=p*o+f*l+h,t}function y(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=Math.sin(i),f=Math.cos(i);return t[0]=f*n+p*a,t[1]=f*r+p*s,t[2]=f*o+p*l,t[3]=f*a-p*n,t[4]=f*s-p*r,t[5]=f*l-p*o,t[6]=u,t[7]=c,t[8]=h,t}function v(t,e,i){var n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function x(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function w(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i+i,s=n+n,l=r+r,u=i*a,c=n*a,h=n*s,p=r*a,f=r*s,d=r*l,g=o*a,y=o*s,v=o*l;return t[0]=1-h-d,t[3]=c-v,t[6]=p+y,t[1]=c+v,t[4]=1-u-d,t[7]=f-g,t[2]=p-y,t[5]=f+g,t[8]=1-u-h,t}function M(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],g=e[13],y=e[14],v=e[15],m=i*s-n*a,x=i*l-r*a,b=i*u-o*a,_=n*l-r*s,O=n*u-o*s,w=r*u-o*l,M=c*g-h*d,C=c*y-p*d,S=c*v-f*d,j=h*y-p*g,P=h*v-f*g,T=p*v-f*y,A=m*T-x*P+b*j+_*S-O*C+w*M;return A?(A=1/A,t[0]=(s*T-l*P+u*j)*A,t[1]=(l*S-a*T-u*C)*A,t[2]=(a*P-s*S+u*M)*A,t[3]=(r*P-n*T-o*j)*A,t[4]=(i*T-r*S+o*C)*A,t[5]=(n*S-i*P-o*M)*A,t[6]=(g*w-y*O+v*_)*A,t[7]=(y*b-d*w-v*x)*A,t[8]=(d*O-g*b+v*m)*A,t):null}function C(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function S(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function P(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function T(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function A(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function E(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t}function L(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function k(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=e[0],p=e[1],f=e[2],d=e[3],g=e[4],y=e[5],v=e[6],m=e[7],x=e[8];return Math.abs(i-h)<=b.b*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-p)<=b.b*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-f)<=b.b*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-d)<=b.b*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-g)<=b.b*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-y)<=b.b*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-v)<=b.b*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-m)<=b.b*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-x)<=b.b*Math.max(1,Math.abs(c),Math.abs(x))}var I=d,D=T},function(t,e,i){"use strict";function n(t){return t*t*t}function r(t){return--t*t*t+1}function o(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}i.d(e,"a",function(){return n}),i.d(e,"c",function(){return r}),i.d(e,"b",function(){return o})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(209);e.Adjust=n.default;function r(t){return o[t.toLowerCase()]}var o={};e.getAdjust=r,e.registerAdjust=function(t,e){if(r(t))throw new Error("Adjust type '"+t+"' existed.");o[t.toLowerCase()]=e}},function(t,e,i){"use strict";var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.COMPONENT_MAX_VIEW_PERCENTAGE=e.MIN_CHART_HEIGHT=e.MIN_CHART_WIDTH=e.FIELD_ORIGIN=e.GROUP_ATTRS=e.PLOT_EVENTS=e.VIEW_LIFE_CIRCLE=e.GROUP_Z_INDEX=e.COMPONENT_TYPE=e.DIRECTION=e.LAYER=void 0,(s=e.LAYER||(e.LAYER={})).FORE="fore",s.MID="mid",s.BG="bg",(a=e.DIRECTION||(e.DIRECTION={})).TOP="top",a.TOP_LEFT="top-left",a.TOP_RIGHT="top-right",a.RIGHT="right",a.RIGHT_TOP="right-top",a.RIGHT_BOTTOM="right-bottom",a.LEFT="left",a.LEFT_TOP="left-top",a.LEFT_BOTTOM="left-bottom",a.BOTTOM="bottom",a.BOTTOM_LEFT="bottom-left",a.BOTTOM_RIGHT="bottom-right",a.NONE="none",(o=e.COMPONENT_TYPE||(e.COMPONENT_TYPE={})).AXIS="axis",o.GRID="grid",o.LEGEND="legend",o.TOOLTIP="tooltip",o.ANNOTATION="annotation",o.OTHER="other",e.GROUP_Z_INDEX={FORE:3,MID:2,BG:1},(r=e.VIEW_LIFE_CIRCLE||(e.VIEW_LIFE_CIRCLE={})).BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_PAINT="beforepaint",r.AFTER_PAINT="afterpaint",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata",r.BEFORE_CLEAR="beforeclear",r.AFTER_CLEAR="afterclear",r.BEFORE_DESTROY="beforedestroy",(n=e.PLOT_EVENTS||(e.PLOT_EVENTS={})).MOUSE_ENTER="plot:mouseenter",n.MOUSE_DOWN="plot:mousedown",n.MOUSE_MOVE="plot:mousemove",n.MOUSE_UP="plot:mouseup",n.MOUSE_LEAVE="plot:mouseleave",n.TOUCH_START="plot:touchstart",n.TOUCH_MOVE="plot:touchmove",n.TOUCH_END="plot:touchend",n.TOUCH_CANCEL="plot:touchcancel",n.CLICK="plot:click",n.DBLCLICK="plot:dblclick",n.CONTEXTMENU="plot:contextmenu",n.LEAVE="plot:leave",n.ENTER="plot:enter",e.GROUP_ATTRS=["color","shape","size"],e.FIELD_ORIGIN="_origin",e.MIN_CHART_WIDTH=1,e.MIN_CHART_HEIGHT=1,e.COMPONENT_MAX_VIEW_PERCENTAGE=.25},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(22)),a=i(0),s=i(12),l=r.__importDefault(i(13)),u=(n=o.default,r.__extends(c,n),c.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},c.prototype.updateConfig=function(t){this.options=a.deepMix({},this.options,t),this.processOptions(this.options)},c.prototype.beforeInit=function(){return null},c.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},c.prototype.afterInit=function(){return null},c.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},c.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},c.prototype.destroy=function(){var e=this;this.eachLayer(function(t){t.destroy()}),a.each(this.eventHandlers,function(t){e.off(t.eventName,t.handler)}),this.container.remove(!0),this.destroyed=!0},c.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},c.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},c.prototype.addLayer=function(e){a.findIndex(this.layers,function(t){return t===e})<0&&(e.parent!==this&&(e.parent=this,e.init()),this.layers.push(e))},c.prototype.removeLayer=function(e){var t=a.findIndex(this.layers,function(t){return t===e});0<=t&&this.layers.splice(t,1)},c.prototype.updateBBox=function(t,e){void 0===e&&(e=!1);var i={x:this.x,y:this.y,width:this.width,height:this.height},n=a.deepMix({},i,t);this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(t){t.updateBBoxByParent(),t.render()}),this.canvas.draw()},c.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},c.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,i=this.parent;i;)t+=i.x,e+=i.y,i=i.parent;return{x:t,y:e}},c.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new l.default(t.x,t.y,this.width,this.height)},c.prototype.getOptions=function(t){var e=0,i=0;t.parent&&(e=t.parent.width,i=t.parent.height);var n={x:0,y:0,width:e,height:i};return a.deepMix({},n,t)},c.prototype.eachLayer=function(t){a.each(this.layers,t)},c.prototype.parseEvents=function(t){var r=this,o=a.keys(s.LAYER_EVENT_MAP);a.each(t,function(t,e){var i,n;a.contains(o,e)&&a.isFunction(t)&&(i=s.LAYER_EVENT_MAP[e]||e,n=t,r.on(i,n),r.eventHandlers.push({name:i,handler:n}))})},c.prototype.getLayerBBox=function(){return new l.default(this.x,this.y,this.width,this.height)},c.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,i=this.parent.x,n=this.parent.y;return{start:{x:(this.x-i)/t,y:(this.y-n)/e},end:{x:(this.x+this.width-i)/t,y:(this.y+this.height-n)/e}}}return{start:{x:0,y:0},end:{x:1,y:1}}},c);function c(t){var e=n.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(22)),a=i(0),s=(n=o.default,r.__extends(l,n),l.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},l.prototype.getGroup=function(){return this.group},l.prototype.getConfig=function(){return this.config},l.prototype.getBBox=function(){return this.getGroup().getBBox()},l.prototype.clear=function(){this.group.clear()},l.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},l.prototype.update=function(t){this.config=r.__assign(r.__assign({},this.config),t),this.initConfig(this.config)},l.prototype.destroy=function(){a.each(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},l.prototype.initGroup=function(){this.group=this.container.addGroup()},l.prototype.getCanvas=function(){return this.container.get("canvas")},l.prototype.addDisposable=function(t){this.disposables.push(t)},l.prototype.initConfig=function(t){},l);function l(t){var e=n.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rotate=e.translate=e.move=e.transform=e.groupTransform=void 0;var n=i(3),o=i(0),r=i(8);e.groupTransform=function(t,e){var i=n.ext.transform([1,0,0,0,1,0,0,0,1],e);t.setMatrix(i)},e.transform=function(t,e){var i=e?o.clone(e):[1,0,0,0,1,0,0,0,1];return n.ext.transform(i,t)},e.move=function(t,e,i,n){var r=n?o.clone(n):[1,0,0,0,1,0,0,0,1];r[6]=e,r[7]=i,t.setMatrix(r)},e.translate=function(t,e,i){r.Util.translate(t,e,i)},e.rotate=function(t,e){r.Util.rotate(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=(o.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},o);function o(t){n.assign(this,t),this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,u=i(1),c=i(0),h=i(8),r=u.__importStar(i(20)),a=i(28),p=u.__importDefault(i(13)),o=(n=r.default,u.__extends(s,n),s.prototype.getLabelItemAttrs=function(t,e){var i,n,r=this.options,o=r.style,a=r.formatter,s=[].concat(t.getModel().mappingData),l=this.getValue(t);return c.deepMix({},o,u.__assign(u.__assign({},this.getPosition(t)),{text:a?a(l,((i={})[h._ORIGIN]=null===(n=s[0])||void 0===n?void 0:n._origin,i.mappingDatum=s[0],i.mappingDatumIndex=0,i.element=t,i.elementIndex=e,i),e):l,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},s.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return u.__assign({offsetX:0,offsetY:0,adjustPosition:!0},e)},s.prototype.adjustLabel=function(t,e){var i,n,r,o;this.options.adjustPosition&&(i=this.getDefaultOffset(),n=t.getBBox(),(r=this.getElementShapeBBox(e)).height<=n.height&&(o=r.minY+this.options.offsetY-i,t.attr("y",o),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)))},s.prototype.getValue=function(t){return c.get(t.getData(),this.layer.options.yField)},s.prototype.getPosition=function(t){var e=this.getDefaultOffset(),i=this.getValue(t),n=this.getElementShapeBBox(t),r=n.minX,o=n.minY,a=n.maxY,s=n.height,l=n.width,u=this.options,c=u.offsetX,h=u.offsetY,p=u.position,f=0<i?-1:1,d="top"===p?(0<i?o:a)+e*f+h:"bottom"===p?(0<i?a:o)+e*f+h:o+s/2+h;return{x:r+l/2+c,y:d}},s.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"top"!==this.options.position){var i=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,r=a.rgb2arr(i),o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],o)}return this.options.style.fill},s.prototype.getTextStroke=function(t){var e=this.getTextFill(t),i=this.options,n=i.position,r=i.adjustColor;return"top"!==n&&r&&"black"!==e?null:void 0},s.prototype.getElementShapeBBox=function(t){var e=this,i=t.shape,n=[];c.each(i.get("origin").points,function(t){n.push(e.coord.convertPoint(t))});var r=n.map(function(t){return t.x}),o=Math.min.apply(Math,r),a=Math.max.apply(Math,r),s=n.map(function(t){return t.y}),l=Math.min.apply(Math,s),u=Math.max.apply(Math,s);return new p.default(o,l,a-o,u-l)},s.prototype.getTextAlign=function(){return"center"},s.prototype.getTextBaseLine=function(){return"middle"},s.prototype.getLabelOffset=function(){return{x:0,y:0}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=o,r.registerLabelComponent("column",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=n.__importDefault(i(15)),a=i(26);i(145);var s,l=(s=r.default,n.__extends(u,s),u.getDefaultOptions=function(){return o.deepMix({},s.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},u.prototype.coord=function(){},u.prototype.addGeometry=function(){},u.prototype.annotation=function(){var i=this,t=this.options,n=[],r={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};o.each(t.guideLine,function(t){var e=a.getComponent("guideLine",{plot:i,cfg:o.deepMix({},r,t)});n.push(e)}),this.setConfig("annotations",n)},u);function u(){return null!==s&&s.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";i.r(e),i.d(e,"registerAttribute",function(){return _}),i.d(e,"getAttribute",function(){return b}),i.d(e,"Attribute",function(){return u}),i.d(e,"Color",function(){return f}),i.d(e,"Opacity",function(){return d}),i.d(e,"Position",function(){return g}),i.d(e,"Shape",function(){return y}),i.d(e,"Size",function(){return v}),i.d(e,"Scale",function(){return m.Scale});function n(t,e){return Object(h.isString)(e)?e:t.invert(t.scale(e))}var r,o,a,s,l,h=i(0),u=(j.prototype.mapping=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map(function(t,e){return i._toOriginParam(t,i.scales[e])});return this.callback.apply(this,n)},j.prototype.getLinearValue=function(t){var e=this.values.length-1,i=Math.floor(e*t),n=e*t-i,r=this.values[i];return r+((i===e?r:this.values[i+1])-r)*n},j.prototype.getNames=function(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],r=0;r<i;r+=1)n.push(e[r]);return n},j.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},j.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},j.prototype.defaultCallback=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var i=n.scales[e];return"identity"===i.type?i.values[0]:n._getAttributeValue(i,t)})},j.prototype._parseCfg=function(t){var n=this,e=t.type,i=void 0===e?"base":e,r=t.names,o=void 0===r?[]:r,a=t.scales,s=void 0===a?[]:a,l=t.values,u=void 0===l?[]:l,c=t.callback;this.type=i,this.scales=s,this.values=u,this.names=o,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(c){var i=c.apply(void 0,t);if(!Object(h.isNil)(i))return[i]}return n.defaultCallback.apply(n,t)}},j.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var i=t.translate(e);return this.values[i%this.values.length]}var n=t.scale(e);return this.getLinearValue(n)},j.prototype._toOriginParam=function(t,e){return e.isLinear?t:Object(h.isArray)(t)?t.map(function(t){return n(e,t)}):n(e,t)},j),c=i(1),p=i(40),f=(l=u,Object(c.__extends)(S,l),S.prototype.getLinearValue=function(t){return this.gradient(t)},S),d=(s=u,Object(c.__extends)(C,s),C),g=(a=u,Object(c.__extends)(M,a),M.prototype.mapping=function(t,e){var i=this.scales,n=i[0],r=i[1];return Object(h.isNil)(t)||Object(h.isNil)(e)?[]:[Object(h.isArray)(t)?t.map(function(t){return n.scale(t)}):n.scale(t),Object(h.isArray)(e)?e.map(function(t){return r.scale(t)}):r.scale(e)]},M),y=(o=u,Object(c.__extends)(w,o),w.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},w),v=(r=u,Object(c.__extends)(O,r),O),m=i(21),x={},b=function(t){return x[t.toLowerCase()]},_=function(t,e){if(b(t))throw new Error("Attribute type '"+t+"' existed.");x[t.toLowerCase()]=e};function O(t){var e=r.call(this,t)||this;return e.type="size",e.names=["size"],e}function w(t){var e=o.call(this,t)||this;return e.type="shape",e.names=["shape"],e}function M(t){var e=a.call(this,t)||this;return e.names=["x","y"],e.type="position",e}function C(t){var e=s.call(this,t)||this;return e.type="opacity",e.names=["opacity"],e}function S(t){var e=l.call(this,t)||this;return e.type="color",e.names=["color"],Object(h.isString)(e.values)&&(e.linear=!0),e.gradient=p.default.gradient(e.values),e}function j(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}_("Color",f),_("Opacity",d),_("Position",g),_("Shape",y),_("Size",v)},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){return void 0===i&&(i=1e-5),Math.abs(t-e)<i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(211);e.Attribute=r.default;function o(t){return a[t.toLowerCase()]}var a={};e.getAttribute=o,e.registerAttribute=function(t,e){if(o(t))throw new Error("Attribute type '"+t+"' existed.");a[t.toLowerCase()]=e},n.__exportStar(i(212),e)},function(t,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.doGroupAppearAnimate=l.doAnimate=l.getDefaultAnimateCfg=l.DEFAULT_ANIMATE_CFG=void 0;var u=e(2),c=e(0),h=e(52),p=e(230);l.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var r={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},f={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};l.getDefaultAnimateCfg=function(t,e,i){var n=r[t];return n&&(c.isFunction(n)&&(n=n(e)),n=c.deepMix({},l.DEFAULT_ANIMATE_CFG,n),i)?n[i]:n},l.doAnimate=function(t,e,i){var n,r,o,a=c.get(t.get("origin"),"data",h.FIELD_ORIGIN),s=e.animation,l=(n=e,r=a,{delay:c.isFunction(n.delay)?n.delay(r):n.delay,easing:c.isFunction(n.easing)?n.easing(r):n.easing,duration:c.isFunction(n.duration)?n.duration(r):n.duration,callback:n.callback});s?(o=p.getAnimation(s))&&o(t,l,i):t.animate(i.toAttrs,l)},l.doGroupAppearAnimate=function(t,e,i,n,r){var o,a,s;f[i]&&(o=f[i](n),(a=p.getAnimation(c.get(o,"animation","")))&&(s=u.__assign(u.__assign(u.__assign({},l.DEFAULT_ANIMATE_CFG.appear),o),e),t.stopAnimate(),a(t,s,{coordinate:n,minYPoint:r,toAttrs:null})))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compare=void 0;var n=i(1),c=i(0),r=i(26),o=i(12),a=n.__importDefault(i(138));function h(t,e){if(c.isFunction(e))return e(t);var i=e.name,n=e.exp;return c.isFunction(n)?n(t[i]):t[i]===n}e.compare=h;var s=(l.prototype.createStateManager=function(){this.stateManager=new a.default},l.prototype.bindStateManager=function(t,e){this.stateManager=t,e.setState&&this._updateStateProcess(e.setState),e.onStateChange&&this._stateChangeProcess(e.onStateChange)},l.prototype.defaultStates=function(t){var r=this;c.each(t,function(t,e){var i=t.condition,n=t.related;r.setState({type:e,condition:i,related:n})})},l.prototype.setState=function(a){var s=this,l=a.type,u=a.condition,t=a.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),c.each(this.shapes,function(t,e){var i,n,r,o=t.get("origin").data;h(c.isArray(o)?o[0]:o,u)&&(i=a.style?a.style:s._getDefaultStateStyle(l,t),n=s.originAttrs[e],r=c.isFunction(i)?i(n):c.mix({},n,i),t.attr(r),s.setZIndex(l,t))}),t&&this._parserRelated(l,t,u),this.plot.canvas.draw()},l.prototype._updateStateProcess=function(t){var n=this;c.each(t,function(t){var i=t.state,e=c.isFunction(i)?function(t){var e=i(t);n.stateManager.setState(e.name,e.exp)}:function(){n.stateManager.setState(i.name,i.exp)};t.event?o.onEvent(n.plot,n._eventParser(t.event),e):e()})},l.prototype._stateChangeProcess=function(t){var i=this;c.each(t,function(e){i.stateManager.on(e.name+":change",function(t){e.callback(t,i.plot)})})},l.prototype._getShapes=function(){var i=this,n=[],t=this.plot.view.geometries;return c.each(t,function(t){var e=t.container;i.shapeContainers.push(e),t.destroyed||n.push.apply(n,t.getShapes())}),n},l.prototype._getOriginAttrs=function(){var e=[];return c.each(this.shapes,function(t){e.push(c.clone(t.attr()))}),e},l.prototype._eventParser=function(t){var e=t.split(":");return this.plot.geometryParser("g2",e[0])+":"+e[1]},l.prototype._getDefaultStateStyle=function(t,e){var i=this.plot.theme,n=this.plot.geometryParser("plot",e.name)+"Style";if(i[n]){var r=i[n][t];return c.isFunction(r)&&(r=r(e.attr())),r}return{}},l.prototype._parserRelated=function(e,t,i){var n=this;c.each(t,function(t){n.plot[t]&&r.getComponentStateMethod(t,e)(n.plot,i)})},l.prototype.setZIndex=function(t,e){var i;"active"!==t&&"selected"!==t||((i=e.get("parent").get("children"))[i.length-1].setZIndex(0),e.setZIndex(1))},l.prototype.resetZIndex=function(){c.each(this.shapeContainers,function(t){t.get("children").sort(function(t,e){return t._INDEX-e._INDEX})})},l);function l(t){this.shapeContainers=[],c.assign(this,t)}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getResponsiveTheme=e.registerResponsiveTheme=void 0;var n=i(0),r=i(256),o={default:r.DEFAULT_RESPONSIVE_THEME};e.registerResponsiveTheme=function(t,e){o[t.toLowerCase()]=n.deepMix({},r.DEFAULT_RESPONSIVE_THEME,e)},e.getResponsiveTheme=function(t){return o[t.toLowerCase()]||r.DEFAULT_RESPONSIVE_THEME}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=i(0),r=i(6),a=o.__importDefault(i(15)),s=i(17),l=i(27),u=i(272),c=o.__importDefault(i(273));i(92),i(157);var h=o.__importDefault(i(158)),p=o.__importStar(i(291)),f=o.__importDefault(i(292));i(293),i(294);var d,g=i(295),y=i(25),v={line:"line",point:"point"},m=(d=a.default,o.__extends(x,d),x.getDefaultOptions=function(){return n.deepMix({},d.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},x.prototype.afterRender=function(){var i=this,t=this.options;this.renderLabel(),t.markerPoints&&(n.each(this.markerPoints,function(t){return t.destroy()}),this.markerPoints=[],t.markerPoints.forEach(function(t){var e;t.visible&&(e=new f.default(o.__assign(o.__assign({},t),{view:i.view})),i.markerPoints.push(e))})),t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),d.prototype.afterRender.call(this)},x.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},x.prototype.geometryParser=function(t,e){return v[e]},x.prototype.scale=function(){var e=this.options,t={};t[e.xField]={},n.has(e,"xAxis")&&l.extractScale(t[e.xField],e.xAxis),t[e.yField]={},n.has(e,"yAxis")&&l.extractScale(t[e.yField],e.yAxis),this.setConfig("scales",t),l.trySetScaleMinToZero(t[e.yField],n.map(e.data,function(t){return t[e.yField]})),d.prototype.scale.call(this)},x.prototype.coord=function(){},x.prototype.tooltip=function(){n.some(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),d.prototype.tooltip.call(this)},x.prototype.addGeometry=function(){this.addLine(),this.addPoint()},x.prototype.addLine=function(){var t=this.options;this.line=s.getGeom("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},x.prototype.addPoint=function(){var t=this.options;t.point&&(t.point=n.deepMix({visible:!1},t.point)),t.point&&t.point.visible&&(this.point=s.getGeom("point","guide",{plot:this}),this.setConfig("geometry",this.point))},x.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,r=e[i.yField];n.visible&&(t=y.getGeometryByType(this.view,"line"),"line"===n.type?new h.default(o.__assign({view:this.view,plot:this},this.options.label)).render():this.doRenderLabel(t,o.__assign({type:"point",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},x.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},x.prototype.animation=function(){d.prototype.animation.call(this);var t=this.options;t.animation?(u.getPlotOption({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},x.prototype.applyInteractions=function(){d.prototype.applyInteractions.call(this),this.interactions.push(new g.LineActive({view:this.view})),this.interactions.push(new g.LineSelect({view:this.view}))},x.prototype.parseEvents=function(){d.prototype.parseEvents.call(this,p)},x.prototype.applyResponsive=function(t){var e=this,i=c.default[t];n.each(i,function(t){t.method(e)})},x.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&"line"===this.options.label.type},x);function x(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}e.default=m,r.registerPlotType("line",m)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),l=r.__importDefault(i(146)),u=r.__importDefault(i(147)),a=r.__importDefault(i(155)),s={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},c=(n=a.default,r.__extends(h,n),h.prototype.init=function(){this.axisInstance=this.getAxisInstance(),n.prototype.init.call(this)},h.prototype.shouldApply=function(){var t=this.plot.options;return!!this.responsiveTheme.axis&&!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible)},h.prototype.apply=function(){for(var e=this,t=this.plot.view.backgroundGroup.findAll(function(t){if("axis-label"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t}),i=[],n=0;n<t.length;n++)i.push(t[n]);var r=new l.default({shapes:i}),o=this.responsiveTheme.axis.x[this.type],a=o.constraints,s=o.rules;new u.default({nodes:r,constraints:a,region:this.plot.getViewRange(),rules:s,plot:this.plot,onEnd:function(t){e.updateTicks(t.origion_nodes)}})},h.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",i=this.dim+"Field";if(t[e]&&t[e].type&&"dateTime"===t[e].type)return"dateTime";var n=this.plot.view.getScaleByField([t[i]]).type;return s[n]},h.prototype.getAxisInstance=function(){var t="x"===this.dim?0:1;return this.plot.view.getController("axis").getComponents()[t].component},h.prototype.updateTicks=function(t){var i,e=this,n=this.plot.view.backgroundGroup.findAll(function(t){if("axis-tickline-group"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t})[0];n&&(i=n.get("children"),o.each(t,function(t,e){""===t.shape.attr("text")&&i[e].attr("opacity",0)})),this.plot.canvas.draw()},h);function h(){return null!==n&&n.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),r=i(0),n=i(6),a=o.__importDefault(i(15)),s=i(26),l=o.__importDefault(i(159)),u=i(17),c=i(27),h=o.__importDefault(i(314));i(93),i(94),i(160);var p,f=o.__importStar(i(316)),d=i(25),g={bar:"interval"},y={interval:"bar"},v=(p=a.default,o.__extends(m,p),m.getDefaultOptions=function(){return r.deepMix({},p.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},m.prototype.beforeInit=function(){p.prototype.beforeInit.call(this);var t=this.options;t.responsive&&"auto"!==t.padding&&this.applyResponsive("preRender")},m.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new l.default(o.__assign({view:this.view,field:t.xField,animation:!1!==t.animation},t.conversionTag))),p.prototype.afterRender.call(this)},m.prototype.geometryParser=function(t,e){return"g2"===t?g[e]:y[e]},m.prototype.processData=function(t){var e=t?t.slice().reverse():t,i=this.options.yField,n=[];return r.each(e,function(t){var e=r.clone(t);e[i]=e[i].toString(),n.push(e)}),n},m.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},r.has(t,"yAxis")&&c.extractScale(e[t.yField],t.yAxis),e[t.xField]={},r.has(t,"xAxis")&&c.extractScale(e[t.xField],t.xAxis),this.setConfig("scales",e),p.prototype.scale.call(this)},m.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},m.prototype.axis=function(){var t=s.getComponent("axis",{plot:this,dim:"x"}),e=s.getComponent("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var i={};i[this.options.xField]=t,i[this.options.yField]=e,this.setConfig("axes",i)},m.prototype.adjustBar=function(t){return null},m.prototype.addGeometry=function(){var t=this.options,e=u.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",r.deepMix({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},m.prototype.animation=function(){p.prototype.animation.call(this),!1===this.options.animation&&(this.bar.animate=!1)},m.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,f)},m.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,r=e[i.xField];null!=n&&n.visible&&(t=d.getGeometryByType(this.view,"interval"),this.doRenderLabel(t,o.__assign({type:"bar",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},m.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},m.prototype.applyResponsive=function(t){var e=this,i=h.default[t];r.each(i,function(t){t.method(e)})},m.prototype.getLabelOptionsByPosition=function(t){return"middle"===t?{offset:0}:"left"===t?{offset:7,style:{stroke:null,lineWidth:0}}:"right"===t?{offset:4}:void 0},m);function m(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="bar",t}e.default=v,n.registerPlotType("bar",v)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=i(0),r=i(6),a=o.__importDefault(i(348)),s=o.__importDefault(i(44));i(349),i(169),i(350);var l,u=i(25),c=(l=s.default,o.__extends(h,l),h.getDefaultOptions=function(){return n.deepMix({},l.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},h.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),l.prototype.init.call(this)},h.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new a.default(o.__assign({view:this.view,field:t.stackField,animation:!1!==t.animation},t.connectedArea))),l.prototype.afterRender.call(this)},h.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},h.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},h.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,r=e[i.yField];n&&n.visible&&(t=u.getGeometryByType(this.view,"interval"),this.doRenderLabel(t,o.__assign({type:"stacked-column",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},h.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},h);function h(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="stackedColumn",t}e.default=c,r.registerPlotType("stackedColumn",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.percent2Number=e.CROOK_DISTANCE=void 0;var c=i(1),o=i(3),d=i(0),g=i(101),a=i(140);function n(t){return Number(t.endsWith("%")?t.slice(0,-1):t)/100}e.CROOK_DISTANCE=4,e.percent2Number=n;var r=(s.prototype.adjustOverlap=function(t,r){for(var e=1;e<t.length;e++)for(var i=t[e],n=0,o=e-1;0<=o;o--){var a=t[o],s=a.getBBox(),l=i.getBBox();if(a.get("parent").get("visible")&&(n=g.getOverlapArea(s,l),!g.near(n,0))){i.get("parent").set("visible",!1);break}}t.forEach(function(t){return i=r,n=(e=t).getBBox(),void(i.y<=n.y&&i.y+i.height>=n.y+n.height||e.get("parent").set("visible",!1));var e,i,n})},s.prototype.adjustItem=function(t){},s.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},s.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},s.prototype.clear=function(){this.container&&this.container.clear()},s.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},s.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},s.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},s.prototype.getFilteredSum=function(){var i=this.plot.options.angleField;return(this.plot.view.filteredData||[]).reduce(function(t,e){return t+e[i]},0)},s.prototype.drawTexts=function(){var l=this,t=this.options,u=t.style,c=t.formatter,i=t.autoRotate,h=t.offsetX,p=t.offsetY,e=t.adjustPosition,n=t.allowOverlap,r=this.getItems(),f=[];r.map(function(t,e){var i=d.deepMix({},t,u),n=l.getFilteredSum(),r=l.plot.options.angleField,o=t.origin[r]/n,a=c?c(t.name,{_origin:t.origin,percent:o},e):t.name,s=l.container.addGroup({name:"itemGroup",index:e}).addShape("text",{attrs:d.deepMix({},i,{x:t.x+h,y:t.y+p,text:a})});s.set("id","text-"+t.name+"-"+e),f.push(s)}),f.forEach(function(t){var e=l.coordinateBBox;l.adjustText(t,e)}),e&&this.layout(f,r,this.coordinateBBox),n||this.adjustOverlap(f,this.coordinateBBox),f.forEach(function(t,e){i&&l.rotateLabel(t,g.getLabelRotate(r[e].angle))})},s.prototype.adjustText=function(e,t){var i,n,r=e.getBBox(),o=r.width;r.maxX>t.maxX?o=t.maxX-r.minX:r.minX<t.minX&&(o=r.maxX-t.minX),"left"===e.attr("textAlign")?e.attr("x",Math.max(+r.x,0)):"right"===e.attr("textAlign")&&e.attr("x",Math.max(+r.maxX,0)),o!==r.width&&(i={},["fontSize","fontFamily","fontWeight"].forEach(function(t){i[t]=e.attr(t)}),n=e.attr("text").split("\n").map(function(t){return a.getEllipsisText(t,o,i)}),e.attr("text",n.join("\n")))},s.prototype.drawLines=function(){var t,l,u=this;this.options.line.visible&&(t=this.container.get("children"),l=this.getCoordinate().center,t.forEach(function(t,e){var i=t.get("children")[0],n=u.arcPoints[e],r=n.x<l.x,o=4<u.options.offset?4:0,a=u.getLinePath(i,n,o),s=u.options.line;t.addShape("path",{attrs:c.__assign({path:a,stroke:n.color},s)}),i.attr("x",i.attr("x")+(r?-o:o))}))},s.prototype.getLinePath=function(t,e,i){var n=!!this.options.line&&this.options.line.smooth,r=e.angle,o=this.getCoordinate(),a=o.center,s=o.radius,l=g.getEndPoint(a,r,s+i);i<4&&(l=e);var u=e.x<a.x,c=t.getBBox(),h={x:u?c.maxX:c.minX,y:c.y+c.height/2},p=["C",h.x+(u?1:-1)*(i<4?i/2:4),h.y,2*l.x-e.x,2*l.y-e.y,l.x,l.y],f=["L",l.x,l.y],d=n?p:f;return["M",h.x,h.y].concat(d).concat("L",e.x,e.y).join(",")},s.prototype.getGeometry=function(){return this.plot.view.geometries[0]},s.prototype.getCoordinate=function(){var t=this.getGeometry().coordinate;return{center:t.getCenter(),radius:t.getRadius(),startAngle:t.startAngle}},s.prototype.adjustOption=function(t){var e=t.offset,i=this.getCoordinate().radius;d.isString(e)&&(e=i*n(e)),t.offset=e},s.prototype.rotateLabel=function(t,e){var i=t.attr("x"),n=t.attr("y"),r=o.ext.transform(t.getMatrix(),[["t",-i,-n],["r",e],["t",i,n]]);t.setMatrix(r)},s.prototype.getItems=function(){var n=this,r=this.options.offset,t=this.getCoordinate(),o=t.center,a=t.radius;return this.arcPoints.map(function(t){var e=g.getEndPoint(o,t.angle,a+r),i=c.__assign(c.__assign({},t),e);return n.adjustItem(i),i})},s.prototype.initArcPoints=function(){var u=this,c=this.plot.options.angleField,t=this.getGeometry().elements,e=this.getCoordinate(),h=e.center,p=e.radius,f=this.getCoordinate().startAngle,d=this.getGeometry().scales[c],i=t.map(function(t){var e=t.shape.get("origin"),i=e.color,n=e.data[0]||e.data,r=f+2*Math.PI*d.scale(n[c]),o=(f+r)/2,a=g.getEndPoint(h,o,p);f=r;var s=d.getText(n[c]),l=a.x>h.x?"left":"right";return{x:a.x,y:a.y,color:i,name:s,origin:n,angle:g.getAngleByPoint(u.getGeometry().coordinate,a),textAlign:l}});this.arcPoints=i},s);function s(t,e){this.destroyed=!1,this.plot=t,this.coordinateBBox=this.plot.view.coordinateBBox;var i=d.deepMix(this.getDefaultOptions(),e,{});this.adjustOption(i),this.options=i,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WEEKS=e.MONTHS=e.FORMATTER=e.IS_MONTH_CENTER_FIELD=e.DATE_FIELD=e.WEEK_FIELD=e.DAY_FIELD=void 0,e.DAY_FIELD="$$day$$",e.WEEK_FIELD="$$week$$",e.DATE_FIELD="$$date$$",e.IS_MONTH_CENTER_FIELD="$$is_month_center$$",e.FORMATTER="YYYY-MM-DD",e.MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.WEEKS=["S","M","T","W","T","F","S"]},function(t,e,i){"use strict";i.r(e),i.d(e,"create",function(){return n}),i.d(e,"clone",function(){return r}),i.d(e,"length",function(){return o}),i.d(e,"fromValues",function(){return a}),i.d(e,"copy",function(){return s}),i.d(e,"set",function(){return u}),i.d(e,"add",function(){return c}),i.d(e,"subtract",function(){return h}),i.d(e,"multiply",function(){return p}),i.d(e,"divide",function(){return f}),i.d(e,"ceil",function(){return d}),i.d(e,"floor",function(){return g}),i.d(e,"min",function(){return y}),i.d(e,"max",function(){return v}),i.d(e,"round",function(){return m}),i.d(e,"scale",function(){return x}),i.d(e,"scaleAndAdd",function(){return b}),i.d(e,"distance",function(){return _}),i.d(e,"squaredDistance",function(){return O}),i.d(e,"squaredLength",function(){return w}),i.d(e,"negate",function(){return M}),i.d(e,"inverse",function(){return C}),i.d(e,"normalize",function(){return S}),i.d(e,"dot",function(){return j}),i.d(e,"cross",function(){return P}),i.d(e,"lerp",function(){return T}),i.d(e,"hermite",function(){return A}),i.d(e,"bezier",function(){return E}),i.d(e,"random",function(){return L}),i.d(e,"transformMat4",function(){return k}),i.d(e,"transformMat3",function(){return I}),i.d(e,"transformQuat",function(){return D}),i.d(e,"rotateX",function(){return B}),i.d(e,"rotateY",function(){return F}),i.d(e,"rotateZ",function(){return R}),i.d(e,"angle",function(){return N}),i.d(e,"zero",function(){return Y}),i.d(e,"str",function(){return G}),i.d(e,"exactEquals",function(){return X}),i.d(e,"equals",function(){return V}),i.d(e,"sub",function(){return H}),i.d(e,"mul",function(){return W}),i.d(e,"div",function(){return q}),i.d(e,"dist",function(){return U}),i.d(e,"sqrDist",function(){return K}),i.d(e,"len",function(){return Z}),i.d(e,"sqrLen",function(){return $}),i.d(e,"forEach",function(){return Q});var l=i(9);function n(){var t=new l.a(3);return l.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function r(t){var e=new l.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],i=t[1],n=t[2];return Math.hypot(e,i,n)}function a(t,e,i){var n=new l.a(3);return n[0]=t,n[1]=e,n[2]=i,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t}function c(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function h(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function p(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function f(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function y(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function v(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function x(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function b(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t}function _(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.hypot(i,n,r)}function O(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r}function w(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function C(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function S(t,e){var i=e[0],n=e[1],r=e[2],o=i*i+n*n+r*r;return 0<o&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function j(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function P(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],l=i[2];return t[0]=r*l-o*s,t[1]=o*a-n*l,t[2]=n*s-r*a,t}function T(t,e,i,n){var r=e[0],o=e[1],a=e[2];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t[2]=a+n*(i[2]-a),t}function A(t,e,i,n,r,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+i[0]*l+n[0]*u+r[0]*c,t[1]=e[1]*s+i[1]*l+n[1]*u+r[1]*c,t[2]=e[2]*s+i[2]*l+n[2]*u+r[2]*c,t}function E(t,e,i,n,r,o){var a=1-o,s=a*a,l=o*o,u=s*a,c=3*o*s,h=3*l*a,p=l*o;return t[0]=e[0]*u+i[0]*c+n[0]*h+r[0]*p,t[1]=e[1]*u+i[1]*c+n[1]*h+r[1]*p,t[2]=e[2]*u+i[2]*c+n[2]*h+r[2]*p,t}function L(t,e){e=e||1;var i=2*l.c()*Math.PI,n=2*l.c()-1,r=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t[2]=n*e,t}function k(t,e,i){var n=e[0],r=e[1],o=e[2],a=(a=i[3]*n+i[7]*r+i[11]*o+i[15])||1;return t[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/a,t[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/a,t[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/a,t}function I(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t}function D(t,e,i){var n=i[0],r=i[1],o=i[2],a=i[3],s=e[0],l=e[1],u=e[2],c=r*u-o*l,h=o*s-n*u,p=n*l-r*s,f=r*p-o*h,d=o*c-n*p,g=n*h-r*c,y=2*a;return c*=y,h*=y,p*=y,f*=2,d*=2,g*=2,t[0]=s+c+f,t[1]=l+h+d,t[2]=u+p+g,t}function B(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0],o[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),o[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t}function F(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),o[1]=r[1],o[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t}function R(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),o[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),o[2]=r[2],t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t}function N(t,e){var i=t[0],n=t[1],r=t[2],o=e[0],a=e[1],s=e[2],l=Math.sqrt(i*i+n*n+r*r)*Math.sqrt(o*o+a*a+s*s),u=l&&j(t,e)/l;return Math.acos(Math.min(Math.max(u,-1),1))}function Y(t){return t[0]=0,t[1]=0,t[2]=0,t}function G(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function V(t,e){var i=t[0],n=t[1],r=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(i-o)<=l.b*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-a)<=l.b*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=l.b*Math.max(1,Math.abs(r),Math.abs(s))}var z,H=h,W=p,q=f,U=_,K=O,Z=o,$=w,Q=(z=n(),function(t,e,i,n,r,o){var a,s;for(e=e||3,i=i||0,s=n?Math.min(n*e+i,t.length):t.length,a=i;a<s;a+=e)z[0]=t[a],z[1]=t[a+1],z[2]=t[a+2],r(z,z,o),t[a]=z[0],t[a+1]=z[1],t[a+2]=z[2];return t})},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r});var y=i(5),v=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,m=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,b=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _(t,i){var e=t.match(b);Object(y.c)(e,function(t){var e=t.split(":");i.addColorStop(e[0],e[1])})}function n(t,e,f){if(Object(y.k)(f)){if("("===f[1]||"("===f[2]){if("l"===f[0])return i=t,n=e,o=v.exec(f),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],l=n.getBBox(),u=0<=a&&a<.5*Math.PI?(r={x:l.minX,y:l.minY},{x:l.maxX,y:l.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:l.maxX,y:l.minY},{x:l.minX,y:l.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},{x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},{x:l.maxX,y:l.minY}),c=Math.tan(a),h=c*c,p=(u.x-r.x+c*(u.y-r.y))/(1+h)+r.x,d=c*(u.x-r.x+c*(u.y-r.y))/(1+h)+r.y,g=i.createLinearGradient(r.x,r.y,p,d),_(s,g),g;if("r"===f[0])return function(t,e){var i=m.exec(f),n=parseFloat(i[1]),r=parseFloat(i[2]),o=parseFloat(i[3]),a=i[4];if(0===o){var s=a.match(b);return s[s.length-1].split(":")[1]}var l=e.getBBox(),u=l.maxX-l.minX,c=l.maxY-l.minY,h=Math.sqrt(u*u+c*c)/2,p=t.createRadialGradient(l.minX+u*n,l.minY+c*r,0,l.minX+u/2,l.minY+c/2,o*h);return _(a,p),p}(t,e);if("p"===f[0])return function(t,e,i){if(e.get("patternSource")&&e.get("patternSource")===i)return e.get("pattern");var n,r,o=x.exec(i),a=o[1],s=o[2];function l(){n=t.createPattern(r,a),e.set("pattern",n),e.set("patternSource",i)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return r=new Image,s.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=s,r.complete?l():(r.onload=l,r.src=r.src),n}(t,e,f)}return f}var i,n,r,o,a,s,l,u,c,h,p,d,g}function r(t){var e=0,i=0,n=0,r=0;return Object(y.g)(t)?1===t.length?e=i=n=r=t[0]:2===t.length?(e=n=t[0],i=r=t[1]):3===t.length?(e=t[0],i=r=t[1],n=t[2]):(e=t[0],i=t[1],n=t[2],r=t[3]):e=i=n=r=t,[e,i,n,r]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(193);e.getBBoxMethod=n.getMethod;var r=i(194),o=i(195),a=i(196),s=i(197),l=i(198),u=i(199),c=i(203),h=i(204);n.register("rect",r.default),n.register("image",r.default),n.register("circle",o.default),n.register("marker",o.default),n.register("polyline",a.default),n.register("polygon",s.default),n.register("text",l.default),n.register("path",u.default),n.register("line",c.default),n.register("ellipse",h.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(109),a=i(110);function r(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,i){var n=1;return o.isString(t)&&(n=t.split("\n").length),1<n?e*n+r(e,i)*(n-1):e},e.getLineSpaceing=r,e.getTextWidth=function(t,e){var i,n=a.getOffScreenContext(),r=0;return o.isNil(t)||""===t||(n.save(),n.font=e,o.isString(t)&&t.includes("\n")?(i=t.split("\n"),o.each(i,function(t){var e=n.measureText(t).width;r<e&&(r=e)})):r=n.measureText(t).width,n.restore()),r},e.assembleFont=function(t){var e=t.fontSize,i=t.fontFamily,n=t.fontWeight;return[t.fontStyle,t.fontVariant,n,e+"px",i].join(" ").trim()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var O=i(205),w=/[a-z]/;function M(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){var e=O.default(t);if(!e||!e.length)return[["M",0,0]];for(var i=!1,n=0;n<e.length;n++){var r=e[n][0];if(w.test(r)||0<=["V","H","T","S"].indexOf(r)){i=!0;break}}if(!i)return e;var o=[],a=0,s=0,l=0,u=0,c=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(l=a=+h[1],u=s=+h[2],c++,o[0]=["M",a,s]),n=c;for(var p=e.length;n<p;n++){var f=e[n],d=o[n-1],g=[],y=(r=f[0]).toUpperCase();if(r!==y)switch(g[0]=y,y){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+a,g[7]=+f[7]+s;break;case"V":g[1]=+f[1]+s;break;case"H":g[1]=+f[1]+a;break;case"M":l=+f[1]+a,u=+f[2]+s;break;default:for(var v=1,m=f.length;v<m;v++)g[v]=+f[v]+(v%2?a:s)}else g=e[n];switch(y){case"Z":a=+l,s=+u;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var x=M([d[1],d[2]],[d[3],d[4]]),g=["Q",x[0],x[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var b=d.length,_=M([d[b-4],d[b-3]],[d[b-2],d[b-1]]);g=["C",_[0],_[1],g[1],g[2],a,s];break;case"M":l=g[g.length-2],u=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(206),o=i(29);e.default={box:function(t){for(var e=[],i=[],n=0;n<t.length;n++){var r=t[n];e.push(r[0]),i.push(r[1])}return o.getBBoxByArray(e,i)},length:function(t){return n.lengthOfSegment(t)},pointAt:function(t,e){return n.pointAtSegments(t,e)},pointDistance:function(t,e,i){return n.distanceAtSegment(t,e,i)},tangentAngle:function(t,e){return n.angleAtSegments(t,e)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return u}),i(31);var n=i(23),r=i.n(n);function o(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4===n?o[3]={x:+t[0],y:+t[1]}:r-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}i(30),i(181),i(0);var a="\t\n\v\f\r \u2028\u2029",s=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");function u(t){if(!t)return null;if(r()(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(l,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(a.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&a.push([e,n[0]]),"r"===r)a.push([e].concat(n));else for(;n.length>=o[r]&&(a.push([e].concat(n.splice(0,o[r]))),o[r]););return""}),a}i(47),i(46)},function(t,e,i){"use strict";function n(t){return+t}function r(t){return t*t}function o(t){return t*(2-t)}function a(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}i.r(e),i.d(e,"easeLinear",function(){return n}),i.d(e,"easeQuad",function(){return a}),i.d(e,"easeQuadIn",function(){return r}),i.d(e,"easeQuadOut",function(){return o}),i.d(e,"easeQuadInOut",function(){return a}),i.d(e,"easeCubic",function(){return s.b}),i.d(e,"easeCubicIn",function(){return s.a}),i.d(e,"easeCubicOut",function(){return s.c}),i.d(e,"easeCubicInOut",function(){return s.b}),i.d(e,"easePoly",function(){return c}),i.d(e,"easePolyIn",function(){return l}),i.d(e,"easePolyOut",function(){return u}),i.d(e,"easePolyInOut",function(){return c}),i.d(e,"easeSin",function(){return g}),i.d(e,"easeSinIn",function(){return f}),i.d(e,"easeSinOut",function(){return d}),i.d(e,"easeSinInOut",function(){return g}),i.d(e,"easeExp",function(){return m}),i.d(e,"easeExpIn",function(){return y}),i.d(e,"easeExpOut",function(){return v}),i.d(e,"easeExpInOut",function(){return m}),i.d(e,"easeCircle",function(){return _}),i.d(e,"easeCircleIn",function(){return x}),i.d(e,"easeCircleOut",function(){return b}),i.d(e,"easeCircleInOut",function(){return _}),i.d(e,"easeBounce",function(){return M}),i.d(e,"easeBounceIn",function(){return w}),i.d(e,"easeBounceOut",function(){return M}),i.d(e,"easeBounceInOut",function(){return C}),i.d(e,"easeBack",function(){return P}),i.d(e,"easeBackIn",function(){return S}),i.d(e,"easeBackOut",function(){return j}),i.d(e,"easeBackInOut",function(){return P}),i.d(e,"easeElastic",function(){return E}),i.d(e,"easeElasticIn",function(){return A}),i.d(e,"easeElasticOut",function(){return E}),i.d(e,"easeElasticInOut",function(){return L});var s=i(50),l=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),u=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),c=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3),h=Math.PI,p=h/2;function f(t){return 1-Math.cos(t*p)}function d(t){return Math.sin(t*p)}function g(t){return(1-Math.cos(h*t))/2}function y(t){return Math.pow(2,10*t-10)}function v(t){return 1-Math.pow(2,-10*t)}function m(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function x(t){return 1-Math.sqrt(1-t*t)}function b(t){return Math.sqrt(1- --t*t)}function _(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var O=7.5625;function w(t){return 1-M(1-t)}function M(t){return(t=+t)<4/11?O*t*t:t<8/11?O*(t-=6/11)*t+.75:t<10/11?O*(t-=9/11)*t+.9375:O*(t-=21/22)*t+63/64}function C(t){return((t*=2)<=1?1-M(1-t):M(t-1)+1)/2}var S=function t(e){function i(t){return t*t*((e+1)*t-e)}return e=+e,i.overshoot=t,i}(1.70158),j=function t(e){function i(t){return--t*t*((e+1)*t+e)+1}return e=+e,i.overshoot=t,i}(1.70158),P=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(1.70158),T=2*Math.PI,A=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=T);function t(t){return i*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return t.amplitude=function(t){return e(t,n*T)},t.period=function(t){return e(i,t)},t}(1,.3),E=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=T);function t(t){return 1-i*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return t.amplitude=function(t){return e(t,n*T)},t.period=function(t){return e(i,t)},t}(1,.3),L=function e(i,n){var r=Math.asin(1/(i=Math.max(1,i)))*(n/=T);function t(t){return((t=2*t-1)<0?i*Math.pow(2,10*t)*Math.sin((r-t)/n):2-i*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return t.amplitude=function(t){return e(t,n*T)},t.period=function(t){return e(i,t)},t}(1,.3)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={}.toString;e.default=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,i){"use strict";function r(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,n){return e&&r(t,e),i&&r(t,i),n&&r(t,n),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(192);e.default=function(t){var e=n.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,i){"use strict";i.r(e),i.d(e,"create",function(){return n}),i.d(e,"clone",function(){return r}),i.d(e,"fromValues",function(){return o}),i.d(e,"copy",function(){return s}),i.d(e,"set",function(){return l}),i.d(e,"add",function(){return u}),i.d(e,"subtract",function(){return c}),i.d(e,"multiply",function(){return h}),i.d(e,"divide",function(){return p}),i.d(e,"ceil",function(){return f}),i.d(e,"floor",function(){return d}),i.d(e,"min",function(){return g}),i.d(e,"max",function(){return y}),i.d(e,"round",function(){return v}),i.d(e,"scale",function(){return m}),i.d(e,"scaleAndAdd",function(){return x}),i.d(e,"distance",function(){return b}),i.d(e,"squaredDistance",function(){return _}),i.d(e,"length",function(){return O}),i.d(e,"squaredLength",function(){return w}),i.d(e,"negate",function(){return M}),i.d(e,"inverse",function(){return C}),i.d(e,"normalize",function(){return S}),i.d(e,"dot",function(){return j}),i.d(e,"cross",function(){return P}),i.d(e,"lerp",function(){return T}),i.d(e,"random",function(){return A}),i.d(e,"transformMat2",function(){return E}),i.d(e,"transformMat2d",function(){return L}),i.d(e,"transformMat3",function(){return k}),i.d(e,"transformMat4",function(){return I}),i.d(e,"rotate",function(){return D}),i.d(e,"angle",function(){return B}),i.d(e,"zero",function(){return F}),i.d(e,"str",function(){return R}),i.d(e,"exactEquals",function(){return N}),i.d(e,"equals",function(){return Y}),i.d(e,"len",function(){return X}),i.d(e,"sub",function(){return V}),i.d(e,"mul",function(){return z}),i.d(e,"div",function(){return H}),i.d(e,"dist",function(){return W}),i.d(e,"sqrDist",function(){return q}),i.d(e,"sqrLen",function(){return U}),i.d(e,"forEach",function(){return K});var a=i(9);function n(){var t=new a.a(2);return a.a!=Float32Array&&(t[0]=0,t[1]=0),t}function r(t){var e=new a.a(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e){var i=new a.a(2);return i[0]=t,i[1]=e,i}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function l(t,e,i){return t[0]=e,t[1]=i,t}function u(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function c(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function h(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function p(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function y(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function x(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function b(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.hypot(i,n)}function _(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function O(t){var e=t[0],i=t[1];return Math.hypot(e,i)}function w(t){var e=t[0],i=t[1];return e*e+i*i}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t}function C(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function S(t,e){var i=e[0],n=e[1],r=i*i+n*n;return 0<r&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t}function j(t,e){return t[0]*e[0]+t[1]*e[1]}function P(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t}function T(t,e,i,n){var r=e[0],o=e[1];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t}function A(t,e){e=e||1;var i=2*a.c()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function E(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t}function L(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function k(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t}function I(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t}function D(t,e,i,n){var r=e[0]-i[0],o=e[1]-i[1],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*a+i[0],t[1]=r*a+o*s+i[1],t}function B(t,e){var i=t[0],n=t[1],r=e[0],o=e[1],a=Math.sqrt(i*i+n*n)*Math.sqrt(r*r+o*o),s=a&&(i*r+n*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function F(t){return t[0]=0,t[1]=0,t}function R(t){return"vec2("+t[0]+", "+t[1]+")"}function N(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var i=t[0],n=t[1],r=e[0],o=e[1];return Math.abs(i-r)<=a.b*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-o)<=a.b*Math.max(1,Math.abs(n),Math.abs(o))}var G,X=O,V=c,z=h,H=p,W=b,q=_,U=w,K=(G=n(),function(t,e,i,n,r,o){var a,s;for(e=e||2,i=i||0,s=n?Math.min(n*e+i,t.length):t.length,a=i;a<s;a+=e)G[0]=t[a],G[1]=t[a+1],r(G,G,o),t[a]=G[0],t[a+1]=G[1];return t})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,i){"use strict";function r(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeBBox=r,e.mergeArrowBBox=function(t,e){var i=t.get("startArrowShape"),n=t.get("endArrowShape");return i&&(e=r(e,i.getCanvasBBox())),n&&(e=r(e,n.getCanvasBBox())),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReplaceAttrs=e.getPolygonCentroid=e.getAngle=e.getArcPath=e.getSectorPath=e.polarToCartesian=void 0;var u=i(0);function g(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}e.polarToCartesian=g,e.getSectorPath=function(t,e,i,n,r,o){void 0===o&&(o=0);var a=g(t,e,i,n),s=g(t,e,i,r),l=g(t,e,o,n),u=g(t,e,o,r);if(r-n==2*Math.PI){var c=g(t,e,i,n+Math.PI),h=g(t,e,o,n+Math.PI),p=[["M",a.x,a.y],["A",i,i,0,1,1,c.x,c.y],["A",i,i,0,1,1,s.x,s.y],["M",l.x,l.y]];return o&&(p.push(["A",o,o,0,1,0,h.x,h.y]),p.push(["A",o,o,0,1,0,u.x,u.y])),p.push(["M",a.x,a.y]),p.push(["Z"]),p}var f=r-n<=Math.PI?0:1,d=[["M",a.x,a.y],["A",i,i,0,f,1,s.x,s.y],["L",u.x,u.y]];return o&&d.push(["A",o,o,0,f,0,l.x,l.y]),d.push(["L",a.x,a.y]),d.push(["Z"]),d},e.getArcPath=function(t,e,i,n,r){var o=g(t,e,i,n),a=g(t,e,i,r);if(u.isNumberEqual(r-n,2*Math.PI)){var s=g(t,e,i,n+Math.PI);return[["M",o.x,o.y],["A",i,i,0,1,1,s.x,s.y],["A",i,i,0,1,1,o.x,o.y],["A",i,i,0,1,0,s.x,s.y],["A",i,i,0,1,0,o.x,o.y],["Z"]]}var l=r-n<=Math.PI?0:1;return[["M",o.x,o.y],["A",i,i,0,l,1,a.x,a.y]]},e.getAngle=function(t,e){var i,n=function(t){if(u.isEmpty(t))return null;var e=t[0].x,i=t[0].x,n=t[0].y,r=t[0].y;return u.each(t,function(t){e=e>t.x?t.x:e,i=i<t.x?t.x:i,n=n>t.y?t.y:n,r=r<t.y?t.y:r}),{minX:e,maxX:i,minY:n,maxY:r,centerX:(e+i)/2,centerY:(n+r)/2}}(t.points),r=e.startAngle,o=e.endAngle-r,a=e.isTransposed?(i=n.maxY*o,n.minY*o):(i=n.maxX*o,n.minX*o);return{startAngle:a+=r,endAngle:i+=r}},e.getPolygonCentroid=function(t,e){if(u.isNumber(t)&&u.isNumber(e))return[t,e];for(var i,n,r=-1,o=0,a=0,s=t.length-1,l=0;++r<t.length;)i=s,s=r,l+=n=t[i]*e[s]-t[s]*e[i],o+=(t[i]+t[s])*n,a+=(e[i]+e[s])*n;return[o/(l*=3),a/l]},e.getReplaceAttrs=function(t,e){var i=t.attr(),n=e.attr();return u.each(i,function(t,e){void 0===n[e]&&(n[e]=void 0)}),n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=["start","process","end","reset"],n=(a.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},a.prototype._start=function(t){this.preStart(t),this.start(t),this.afterStart(t)},a.prototype.preStart=function(t){},a.prototype.afterStart=function(t){},a.prototype._process=function(t){this.preProcess(t),this.process(t),this.afterProcess(t)},a.prototype.preProcess=function(t){},a.prototype.process=function(t){},a.prototype.afterProcess=function(t){},a.prototype._end=function(t){this.preEnd(t),this.end(t),this.afterEnd(t)},a.prototype.preEnd=function(t){},a.prototype.end=function(t){},a.prototype.afterEnd=function(t){},a.prototype._reset=function(t){this.preReset(t),this.reset(t),this.afterReset(t)},a.prototype.preReset=function(t){},a.prototype.reset=function(t){},a.prototype.afterReset=function(t){},a.prototype._bindEvents=function(){var n=this;r.each(o,function(t){var e=n[t+"Event"],i=r.wrapBehavior(n,"_"+t);n.view.on(e,i),n._eventHandlers.push({type:e,handler:i})})},a.prototype._unbindEvents=function(){var e=this,t=this._eventHandlers;r.each(t,function(t){e.view.off(t.type,t.handler)})},a.prototype.destroy=function(){this._unbindEvents(),this._reset()},a);function a(t){var e=this.getDefaultCfg();r.assign(this,e,t),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),r=i(0),o=i(11),a=i(65),s=i(143),l=n.getTheme(),u=(c.getGlobalTheme=function(t){return r.isString(t)?o.getGlobalTheme(t):r.deepMix({},o.getGlobalTheme(),t)},c.prototype.getPlotTheme=function(t,e){var i=t.theme;return r.isString(i)?r.deepMix({},o.getGlobalTheme(i),o.getTheme(e)):r.deepMix({},o.getGlobalTheme(),o.getTheme(e),s.convertThemeToG2Theme(e,i))},c.prototype.getTheme=function(t,e){var i=o.convertToG2Theme(this.getPlotTheme(t,e));return r.deepMix({},l,i)},c.prototype.getResponsiveTheme=function(t){return a.getResponsiveTheme(t)||a.getResponsiveTheme("default")},c);function c(){}e.default=u},function(t,f,e){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.convertPolarPath=f.convertNormalPath=f.getPointAngle=f.getPointRadius=f.getSplinePath=f.getLinePath=f.catmullRom2bezier=f.smoothBezier=void 0;var O=e(3),s=e(0);function w(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function M(t,e){for(var i=[t[0]],n=1,r=t.length;n<r;n+=2){var o=e.convertPoint({x:t[n],y:t[n+1]});i.push(o.x,o.y)}return i}function l(t,e,i){for(var n=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);for(var s,l,u,c=f.smoothBezier(r,.4,n,i),h=r.length,p=[],o=0;o<h-1;o++)s=c[2*o],l=c[2*o+1],u=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return n&&(s=c[h],l=c[h+1],u=r[0],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),p}function u(t,e){return function(t,e){var i=[];if(t.length){for(var n=0,r=t.length;n<r;n+=1){var o=t[n],a=0===n?"M":"L";i.push([a,o.x,o.y])}e&&i.push(["Z"])}return i}(t,e)}f.smoothBezier=function(t,e,i,n){var r,o,a=[],s=!!n;if(s){h=[1/0,1/0],p=[-1/0,-1/0];for(var l=0,u=t.length;l<u;l++)var c=t[l],h=O.vec2.min([0,0],h,c),p=O.vec2.max([0,0],p,c);h=O.vec2.min([0,0],h,n[0]),p=O.vec2.max([0,0],p,n[1])}l=0;for(var f=t.length;l<f;l++){if(c=t[l],i)r=t[l?l-1:f-1],o=t[(l+1)%f];else{if(0===l||l===f-1){a.push(c);continue}r=t[l-1],o=t[l+1]}var d=[0,0],d=O.vec2.sub(d,o,r);d=O.vec2.scale(d,d,e);var g=O.vec2.distance(c,r),y=O.vec2.distance(c,o),v=g+y;0!==v&&(g/=v,y/=v);var m=O.vec2.scale([0,0],d,-g),x=O.vec2.scale([0,0],d,y),b=O.vec2.add([0,0],c,m),_=O.vec2.add([0,0],c,x);s&&(b=O.vec2.max([0,0],b,h),b=O.vec2.min([0,0],b,p),_=O.vec2.max([0,0],_,h),_=O.vec2.min([0,0],_,p)),a.push(b),a.push(_)}return i&&a.push(a.shift()),a},f.catmullRom2bezier=l,f.getLinePath=u,f.getSplinePath=function(t,e,i){var n=[],r=t[0],o=null;if(t.length<=2)return u(t,e);s.each(t,function(t){o&&o.x===t.x&&o.y===t.y||(n.push(t.x),n.push(t.y),o=t)});var a=l(n,e,i||[[0,0],[1,1]]);return a.unshift(["M",r.x,r.y]),a},f.getPointRadius=w,f.getPointAngle=function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},f.convertNormalPath=function(e,t){var i=[];return s.each(t,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":i.push(M(t,e));break;case"z":default:i.push(t)}}),i},f.convertPolarPath=function(v,m){var x,b,r,_=[];return s.each(m,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":_.push(M(t,v));break;case"l":x=m[e-1],b=t,(v.isTransposed?x[x.length-2]===b[1]:x[x.length-1]===b[2])?_=_.concat((o=(i=v).isTransposed,a=i.startAngle,s=i.endAngle,l={x:x[1],y:x[2]},u={x:b[1],y:b[2]},c=[],h=o?"y":"x",p=Math.abs(u[h]-l[h])*(s-a),f=l[h]<=u[h]?1:0,d=p>Math.PI?1:0,g=i.convertPoint(u),.5<=(y=w(i,g))&&(p==2*Math.PI&&(n={x:(u.x+l.x)/2,y:(u.y+l.y)/2},r=i.convertPoint(n),c.push(["A",y,y,0,d,f,r.x,r.y])),c.push(["A",y,y,0,d,f,g.x,g.y])),c)):_.push(M(t,v));break;case"z":default:_.push(t)}var i,n,r,o,a,s,l,u,c,h,p,f,d,g,y}),r=_,s.each(r,function(t,e){var i,n;"a"===t[0].toLowerCase()&&(i=r[e-1],(n=r[e+1])&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M"))}),_}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(56)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),t.lineStyle&&this.parseStyle()},s.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};o.isFunction(t)?e.callback=t:e.values=[t],this.config.size=e},s.prototype.parseColor=function(){var t,e=this.plot.options,i={};e.seriesField&&(i.fields=[e.seriesField]),o.has(e,"color")&&(t=e.color,o.isString(t)?i.values=[t]:o.isFunction(t)?i.callback=t:o.isArray(t)&&(e.seriesField?i.values=t:0<t.length&&(i.values=[t[0]]))),this.config.color=i},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle,i={fields:null,callback:null,cfg:null};o.isFunction(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,u=i(1),c=i(0),h=i(8),r=u.__importStar(i(20)),a=i(38),o=(n=r.default,u.__extends(s,n),s.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return u.__assign({offsetX:0,offsetY:0},e)},s.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},s.prototype.getLabelItemAttrs=function(r,o){var a=this,t=this.options,s=t.style,l=t.formatter,e=c.get(r,"model.mappingData",[]);return c.map(e,function(t,e){var i,n=a.getValue(t);return u.__assign(u.__assign(u.__assign({},a.getPosition(t)),{text:l?l(n,((i={})[h._ORIGIN]=t._origin,i.mappingDatum=t,i.mappingDatumIndex=e,i.element=r,i.elementIndex=o,i),o):n,textAlign:"center",textBaseline:"middle"}),s)})},s.prototype.getValue=function(t){return c.get(t._origin,this.layer.options.yField)},s.prototype.getPosition=function(t){return{x:c.isArray(t.x)?c.last(t.x):t.x,y:c.isArray(t.y)?c.last(t.y):t.y}},s.prototype.layoutLabels=function(t,i){var n,r=this;this.options.adjustPosition&&(this.isOverlapped(i)&&(n=this.getGlobalTolerance(i),c.each(i,function(t,e){1<e&&r.labelResamplingByChange(t,i,e,n)})),this.isOverlapped(i)&&c.each(i,function(t,e){t.get("visible")&&r.clearOverlapping(t,i,e)}))},s.prototype.adjustLabel=function(){},s.prototype.labelResamplingByChange=function(t,e,i,n){var r=this.findPrevious(i,e),o=this.getCenter(t),a=this.getCenter(r),s=a.x-o.x,l=a.y-o.y;Math.sqrt(s*s+l*l)<n&&t.set("visible",!1)},s.prototype.clearOverlapping=function(t,e,i){for(var n=[],r=0;r<e.length;r++){var o=e[r];r!==i&&o.get("visible")&&a.isBBoxIntersect(t.getBBox(),o.getBBox())&&n.push(o)}0<n.length&&(n.push(t),n.sort(function(t,e){return e.minY-t.minY}),c.each(n,function(t,e){0<e&&t.set("visible",!1)}))},s.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible"))for(var i=t[e].getBBox(),n=0;n<t.length;n++)if(n!==e&&t[n].get("visible")){var r=t[n].getBBox();if(a.isBBoxIntersect(i,r))return!0}return!1},s.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(t,e){return e.getBBox().width-t.getBBox().width}),Math.round(e[0].getBBox().width)},s.prototype.findPrevious=function(t,e){for(var i=t-1;0<i;i--)if(e[i].get("visible"))return e[i]},s.prototype.getCenter=function(t){var e=t.getBBox(),i=e.minX,n=e.maxX,r=e.minY;return{x:i+(n-i)/2,y:r+(e.maxY-r)/2}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=o,r.registerLabelComponent("point",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_BAR_THEME=void 0;var n=i(11);e.DEFAULT_BAR_THEME={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}},n.registerTheme("bar",e.DEFAULT_BAR_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,l=i(1),c=i(0),u=i(8),r=l.__importStar(i(20)),a=i(28),h=l.__importDefault(i(13)),o=(n=r.default,l.__extends(s,n),s.prototype.getLabelItemAttrs=function(t,e){var i,n=this.options,r=n.style,o=n.formatter,a=[].concat(t.getModel().mappingData),s=this.getValue(t);return c.deepMix({},r,l.__assign(l.__assign({},this.getPosition(t)),{text:o?o(s,((i={})[u._ORIGIN]=a[0]._origin,i.mappingDatum=a[0],i.mappingDatumIndex=0,i.element=t,i.elementIndex=e,i),e):s,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},s.prototype.adjustLabel=function(t,e){var i,n,r,o,a=this.options,s=a.adjustPosition,l=a.style;s&&(i=this.getDefaultOffset(),n=t.getBBox(),(r=this.getElementShapeBBox(e)).width<=n.width&&(o=r.maxX+this.options.offsetX+i,t.attr("x",o),t.attr("fill",l.fill)))},s.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return l.__assign({offsetX:0,offsetY:0,adjustPosition:!0},e)},s.prototype.getValue=function(t){return c.get(t.getData(),this.layer.options.xField)},s.prototype.getPosition=function(t){var e=this.getDefaultOffset(),i=this.getValue(t),n=this.getElementShapeBBox(t),r=n.minX,o=n.maxX,a=n.minY,s=n.height,l=n.width,u=this.options,c=u.offsetX,h=u.offsetY,p=u.position,f=i<0?-1:1,d="left"===p?(0<i?r:o)+e*f+c:"right"===p?(0<i?o:r)+e*f+c:r+l/2+c;return{x:d,y:a+s/2+h}},s.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"right"!==this.options.position){var i=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,r=a.rgb2arr(i),o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],o)}return this.options.style.fill},s.prototype.getTextStroke=function(t){var e=this.getTextFill(t),i=this.options,n=i.position,r=i.adjustColor;return"right"!==n&&r&&"black"!==e?null:void 0},s.prototype.getTextAlign=function(t){var e=this.getValue(t),i=this.options.position;return e<0?{right:"right",left:"right",middle:"center"}[i]:{right:"left",left:"left",middle:"center"}[i]},s.prototype.getTextBaseline=function(){return"middle"},s.prototype.getElementShapeBBox=function(t){var e=this,i=t.shape,n=[];c.each(i.get("origin").points,function(t){n.push(e.coord.convertPoint(t))});var r=n.map(function(t){return t.x}),o=Math.min.apply(Math,r),a=Math.max.apply(Math,r),s=n.map(function(t){return t.y}),l=Math.min.apply(Math,s),u=Math.max.apply(Math,s);return new h.default(o,l,a-o,u-l)},s.prototype.getLabelOffset=function(){return{x:0,y:0}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=o,r.registerLabelComponent("bar",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=i(0),r=i(6),a=o.__importDefault(i(68));i(318),i(319),i(320);var s,l=i(25),u=(s=a.default,o.__extends(c,s),c.getDefaultOptions=function(){return n.deepMix({},s.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},c.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},c.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},c.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,r=e[i.xField];null!=n&&n.visible&&(t=l.getGeometryByType(this.view,"interval"),this.doRenderLabel(t,o.__assign({type:"stacked-bar",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},c.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},c);function c(){var t=null!==s&&s.apply(this,arguments)||this;return t.type="stackedBar",t}e.default=u,r.registerPlotType("stackedBar",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformDataPercentage=void 0;var o=i(1),s=i(0);e.transformDataPercentage=function(t,n,a){var e=s.groupBy(t,n),e=s.mapValues(e,function(t){return s.map(t,function(e){return s.map(a,function(t){return e[t]})})});e=s.mapValues(e,s.flatten),e=s.mapValues(e,function(t){return s.map(t,function(t){var e=Number.parseFloat(t);return!s.isNumber(e)||isNaN(e)?0:e})});var r=s.mapValues(e,function(t){return s.reduce(t,function(t,e){return t+e},0)}),i=s.map(t,function(e){var i=o.__assign(o.__assign({},e),{_origin:e,total:r[e[n]]});return s.each(a,function(t){i[t]=e[t]/r[e[n]]}),i});return s.each(s.groupBy(i,n),function(r){var o=0;s.each(r,function(i,n){s.each(a,function(t,e){(1<=o+i[t]||n===r.length-1&&e===a.length-1)&&(i[t]=1-o),o+=i[t]})})}),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=i(0),r=i(6),a=o.__importDefault(i(15)),s=i(17);i(163),i(164);var l=i(27),u=o.__importDefault(i(329)),c=o.__importStar(i(331));i(165);var h,p=i(25),f={area:"area",line:"line",point:"point"},d=(h=a.default,o.__extends(g,h),g.getDefaultOptions=function(){return n.deepMix({},h.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},g.prototype.beforeInit=function(){h.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},g.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),h.prototype.afterRender.call(this)},g.prototype.geometryParser=function(t,e){return f[e]},g.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},n.has(t,"xAxis")&&l.extractScale(e[t.xField],t.xAxis),e[t.yField]={},n.has(t,"yAxis")&&l.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),h.prototype.scale.call(this)},g.prototype.coord=function(){return null},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},g.prototype.adjustArea=function(t){},g.prototype.adjustLine=function(t){},g.prototype.adjustPoint=function(t){},g.prototype.addLine=function(){var t,e=this.options,i=n.deepMix({},e.line);i.visible&&(t=s.getGeom("line","guide",{type:"line",plot:this,line:i}),this.adjustLine(t),this.setConfig("geometry",t),this.line=t)},g.prototype.addPoint=function(){var t,e=this.options;n.deepMix({},e.point).visible&&(t=s.getGeom("point","guide",{plot:this}),this.adjustPoint(t),this.setConfig("geometry",t),this.point=t)},g.prototype.renderLabel=function(){var t,e=this.config.scales,i=this.options,n=i.label,r=e[i.yField];n.visible&&(t=p.getGeometryByType(this.view,"area"),this.doRenderLabel(t,o.__assign({type:"area-point",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},g.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},g.prototype.label=function(){},g.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},g.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,c)},g.prototype.applyResponsive=function(t){var e=this,i=u.default[t];n.each(i,function(t){t.method(e)})},g);function g(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="area",t}e.default=d,r.registerPlotType("area",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),n=i(6),a=r.__importDefault(i(97)),s=i(333);i(336),i(337),i(338);var l,u=(l=a.default,r.__extends(c,l),c.getDefaultOptions=function(){return o.deepMix({},l.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},c.prototype.beforeInit=function(){var t=o.get(this.options,["label","visible"]),e=o.get(this.options,["label","type"]),i=this.options;t&&("line"===e&&(i.lineLabel=this.options.label),"area"===e&&(i.areaLabel=this.options.label)),l.prototype.beforeInit.call(this)},c.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},c.prototype.label=function(){var t=this.options.label;if(t&&!1===t.visible)return this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),void(this.area.label=!1)},c.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},c.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},c.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},c.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,l.prototype.afterRender.call(this)},c.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},c.prototype.renderPlotComponents=function(){var n=this;o.each(["areaLabel","lineLabel"],function(t){var e=r.__assign({view:n.view,plot:n},n.options[t]),i=s.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},c);function c(){var t=null!==l&&l.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t}e.default=u,n.registerPlotType("stackedArea",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_COLUMN_THEME=void 0;var n=i(11);e.DEFAULT_COLUMN_THEME={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){var e=t.opacity||1;return{opacity:.5*e,fillOpacity:.5*e}},selected:{lineWidth:1,stroke:"black"}}},n.registerTheme("column",e.DEFAULT_COLUMN_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=i(6),a=n.__importDefault(i(44));i(346);var s,l=(s=a.default,n.__extends(u,s),u.getDefaultOptions=function(){return r.deepMix({},s.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},u.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},u.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},u.prototype.addGeometry=function(){s.prototype.addGeometry.call(this)},u.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},u.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.type="groupedColumn",t}e.default=l,o.registerPlotType("groupedColumn",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLabelRotate=e.getAngleByPoint=e.near=e.inPanel=e.getOverlapInfo=e.getOverlapArea=e.getCenter=e.getEndPoint=void 0,e.getEndPoint=function(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}},e.getCenter=function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},e.getOverlapArea=function(t,e,i){return void 0===i&&(i=0),Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i))*Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i))},e.getOverlapInfo=function(t,e,i){void 0===i&&(i=0);var n=Math.max(0,Math.min(t.x+t.width+i,e.x+e.width+i)-Math.max(t.x-i,e.x-i)),r=Math.max(0,Math.min(t.y+t.height+i,e.y+e.height+i)-Math.max(t.y-i,e.y-i));return n&&t.x<e.x&&(n=-n),r&&t.y<e.y&&(r=-r),t.x===e.x&&t.width===e.width&&(n=e.width),t.y===e.y&&t.height===e.height&&(r=e.height),{xOverlap:n,yOverlap:r}},e.inPanel=function(t,e){return t.x<e.x&&t.x+t.width>e.x+e.width&&t.y<e.y&&t.y+t.height>e.y+e.height},e.near=function(t,e,i){return void 0===i&&(i=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<i},e.getAngleByPoint=function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},e.getLabelRotate=function(t){var e=Math.PI/2,i=t;return(e<i||i<-e)&&(i+=Math.PI),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),a=i(0),r=i(6),s=n.__importDefault(i(15)),l=i(26),u=i(17),c=n.__importStar(i(382)),h={rose:"interval"},p={rose:"column"},f=(o=s.default,n.__extends(d,o),d.getDefaultOptions=function(){return a.deepMix({},o.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},d.prototype.getOptions=function(t){var e=o.prototype.getOptions.call(this,t),i=t.sectorStyle,n=t.categoryField,r=t.radiusField;return a.deepMix({},e,{columnStyle:i,xField:n,yField:r})},d.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},d.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},d.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},d.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},d.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},d.prototype.addGeometry=function(){var t=this.options,e=u.getGeom("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},d.prototype.adjustRoseAdjust=function(){},d.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},d.prototype.animation=function(){o.prototype.animation.call(this),!1===this.options.animation&&(this.rose.animate=!1)},d.prototype.annotation=function(){},d.prototype.parseEvents=function(){o.prototype.parseEvents.call(this,c)},d.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=a.deepMix({},t.label);this.adjustLabelOptions(e);var i=[t.categoryField,t.radiusField];return l.getComponent("label",n.__assign({plot:this,labelType:"polar",fields:i},e))},d.prototype.adjustLabelOptions=function(t){var e,i,n,r=this.options.radiusField;t&&(e=t.offset,i=t.type,n=t.content,"inner"===i?t.offset=e<0?e:-10:"outer"===i&&(t.offset=0<=e?e:10),n||(t.content=function(t,e){return""+e._origin[r]}))},d);function d(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="rose",t}e.default=f,r.registerPlotType("rose",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStyle=void 0;var c=i(2),h=i(0);e.getStyle=function(t,e,i,n){void 0===n&&(n="");var r=t.style,o=void 0===r?{}:r,a=t.defaultStyle,s=t.color,l=t.size,u=c.__assign(c.__assign({},a),o);return s&&(e&&(o.stroke||(u.stroke=s)),i&&(o.fill||(u.fill=s))),n&&h.isNil(o[n])&&!h.isNil(l)&&(u[n]=l),u}},function(t,h,e){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.IS_TOTAL=h.VALUE_FIELD=void 0;var s=e(1),p=e(0),i=e(6);e(413);var n=s.__importDefault(e(15)),r=e(27),o=e(26),a=s.__importStar(e(414));e(415);var l=s.__importDefault(e(416)),u=e(25),c={waterfall:"interval"},f={interval:"waterfall"};h.VALUE_FIELD="$$value$$",h.IS_TOTAL="$$total$$";var d,g=(d=n.default,s.__extends(y,d),y.getDefaultOptions=function(){return p.deepMix({},d.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:""},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},y.prototype.getOptions=function(t){var e=d.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},y.prototype.afterInit=function(){d.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new l.default({view:this.view,fields:[t.xField,t.yField,h.VALUE_FIELD],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},y.prototype.afterRender=function(){d.prototype.afterRender.call(this);var a=this.options;this.view.on("tooltip:change",function(t){for(var e=t.items,i=0;i<e.length;i++){var n,r=e[i],o=p.get(r,"data",{});r.name=o[a.xField],r.value=o[a.yField],!r.value&&o[h.IS_TOTAL]&&(n=o[h.VALUE_FIELD],r.value=n[0]-n[1]),t.items[i]=r}}),this.renderLabel()},y.prototype.renderLabel=function(){var t=u.getGeometryByType(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,s.__assign({type:"waterfall"},this.options.label))},y.prototype.geometryParser=function(t,e){return"g2"===t?c[e]:f[e]},y.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},y.prototype.addGeometry=function(){var t={type:"interval",position:{fields:[this.options.xField,h.VALUE_FIELD]},shape:{values:["waterfall"]}};t.style=this._parseStyle(),t.color=this._parseColor(),this.waterfall=t,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",t)},y.prototype.processData=function(t){var e,i,n,o=[],r=this.options.xField,a=this.options.yField;return p.map(t,function(t,e){var i,n,r=t[a];0<e&&(n=o[e-1][h.VALUE_FIELD],r=p.isArray(n)?[n[1],t[a]+n[1]]:[n,t[a]+n]),o.push(s.__assign(s.__assign({},t),((i={})[h.VALUE_FIELD]=r,i.$$index$$=e,i)))}),this.options.showTotal&&this.options.showTotal.visible&&(i=p.map(t,function(t){return t[a]}),n=p.reduce(i,function(t,e){return t+e},0),o.push(((e={})[r]=this.options.showTotal.label,e[a]=null,e[h.VALUE_FIELD]=[n,0],e.$$index$$=o.length,e[h.IS_TOTAL]=!0,e))),o},y.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},p.has(t,"xAxis")&&r.extractScale(e[t.xField],t.xAxis),e[h.VALUE_FIELD]={},p.has(t,"yAxis")&&r.extractScale(e[h.VALUE_FIELD],t.yAxis),this.setConfig("scales",e)},y.prototype.axis=function(){var t=o.getComponent("axis",{plot:this,dim:"x"}),e=o.getComponent("axis",{plot:this,dim:"y"}),i={fields:{}};i.fields[this.options.xField]=t,i.fields[h.VALUE_FIELD]=e,this.setConfig("axes",i)},y.prototype.coord=function(){},y.prototype.parseEvents=function(){d.prototype.parseEvents.call(this,a)},y.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,h.VALUE_FIELD]))},y.prototype._parseStyle=function(){var i=this.options.waterfallStyle,n=this.options.leaderLine,t={};return p.isFunction(i)?t.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign({},i.apply(void 0,t),{leaderLine:n})}:t.cfg=s.__assign(s.__assign({},i),{leaderLine:n}),t},y.prototype._parseColor=function(){var t,e,i,n,r,o,a,s=this,l=this.options,u=this.options,c={fields:[u.xField,u.yField,h.VALUE_FIELD,"$$index$$"]};return p.isFunction(l.color)?c.callback=l.color:(r="#f4664a",o="#30bf78",a="rgba(0, 0, 0, 0.25)",p.isString(l.color)?r=o=a=l.color:p.isObject(l.color)&&(e=(t=l.color).rising,i=t.falling,n=t.total,r=e,o=i,a=n),c.callback=function(t,e,i,n){return n===s.options.data.length?a||(0<=i[0]?r:o):0<=(p.isArray(i)?i[1]-i[0]:i)?r:o}),c},y.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},y.prototype.adjustMeta=function(t){var e,i=t.meta;i&&((e=i?i[t.yField]:{}).alias=e.alias||t.yField,t.meta[h.VALUE_FIELD]=e)},y);function y(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="watarfall",t}h.default=g,i.registerPlotType("waterfall",g)},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.advanceBy=i.getDay=i.getWeek=i.isLastDayOfMonth=i.isLastWeekOfMonth=i.getYearRange=i.getDateRange=i.DAY_MS=void 0;var n=e(1),r=e(0),o=n.__importDefault(e(36)),a=e(71);function s(t,e){return t.setMilliseconds(t.getMilliseconds()+e),t}i.DAY_MS=864e5,i.getDateRange=function(t){var e=n.__spreadArrays(t).sort(function(t,e){return t.getTime()-e.getTime()});return[o.default.format(r.head(e),a.FORMATTER),o.default.format(r.last(e),a.FORMATTER)]},i.getYearRange=function(t){var e=t||new Date;return[o.default.format(new Date(e.getFullYear(),0,1),a.FORMATTER),o.default.format(new Date(e.getFullYear(),11,30),a.FORMATTER)]},i.isLastWeekOfMonth=function(t){return t.getMonth()!==s(new Date(t),7*i.DAY_MS).getMonth()},i.isLastDayOfMonth=function(t){return t.getMonth()!==s(new Date(t),i.DAY_MS).getMonth()},i.getWeek=function(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-e.getTime())/i.DAY_MS+e.getDay()+1)/7)},i.getDay=function(t){return t.getDay()},i.advanceBy=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h,n=i(1),r=i(0),o=i(6),a=n.__importDefault(i(15)),s=i(27),l=i(175),u=n.__importStar(i(438)),c=(h=a.default,n.__extends(p,h),p.getDefaultOptions=function(){return r.deepMix({},h.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},p.prototype.init=function(){var t=this.options,e=t.value,i=(t.range||[]).map(function(t){return+t}).sort(function(t,e){return t-e}),n=this.options,r=n.min,o=void 0===r?i[0]:r,a=n.max,s=void 0===a?i[i.length-1]:a,l=n.format,u=void 0===l?function(t){return""+t}:l,c=u(e);this.options.data=[{value:e||0}],this.options.valueText=c,this.options.min=o,this.options.max=s,this.options.format=u,this.initG2Shape(),h.prototype.init.call(this)},p.prototype.initG2Shape=function(){this.gaugeShape=new l.GaugeShape(r.uniqueId()),this.gaugeShape.setOption(this.type,r.deepMix({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},p.prototype.geometryParser=function(){return"gauge"},p.prototype.scale=function(){var t=this.options,e=t.min,i=t.max,n=t.format,r={value:{}};s.extractScale(r.value,{min:e,max:i,minLimit:e,maxLimit:i,nice:!0,formatter:n,tickInterval:20}),this.setConfig("scales",r),h.prototype.scale.call(this)},p.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},p.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},i=t.offset<0?t.offset-this.options.rangeSize-t.tickLine.length:t.offset+t.tickLine.length;t.label.visible?e.value.label={offset:i,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e[1]=!1,e.value=!!t.visible&&e.value,this.setConfig("axes",e)},p.prototype.addGeometry=function(){var t={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[this.options.pivot.pointer.style.fill||this.theme.defaultColor]}};this.setConfig("geometry",t)},p.prototype.annotation=function(){var t,e=this.options.statistic,i=[];e&&e.visible&&(t=this.renderStatistic(),i.push(t)),this.setConfig("annotations",i)},p.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic;return{type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:1.2*t,textAlign:"center",textBaseline:"middle"}}},p.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,u)},p);function p(t){var e=h.call(this,t)||this;return e.type="gauge",e}e.default=c,o.registerPlotType("gauge",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h,p=i(1),s=i(16),n=i(6),r=p.__importDefault(i(177)),f=p.__importDefault(i(66)),c=p.__importDefault(i(44)),d=i(0),g=i(11),o={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},a={color:"#5B8FF9"},l={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},u=(h=r.default,p.__extends(y,h),y.getDefaultOptions=function(){return d.deepMix({},h.getDefaultOptions.call(this),{yAxis:{leftConfig:l,rightConfig:l},lineConfig:o,columnConfig:a,legend:{visible:!0}})},y.prototype.beforeInit=function(){var t,e,i,n,r,o,a,s,l=this.options,u=this.initialOptions;l.lineSeriesField&&(l.yAxis.rightConfig.colorMapping=!1,null!==(t=u.lineConfig)&&void 0!==t&&t.lineSize||(l.lineConfig.lineSize=3),null===(e=u.lineConfig)||void 0===e||!e.color)&&(n=(i=g.getGlobalTheme()).colors,r=i.colors_20,o=this.getValueBySeriesField(),a=o.length>n.length?r:n,s=[],d.each(o,function(t,e){s.push(a[e+1])}),l.lineConfig.color=s)},y.prototype.init=function(){var t,e,i,n,r,o,a,s,l,u,c;h.prototype.init.call(this),this.checkData()&&(e=(t=this.options).data,i=t.meta,n=t.xField,r=t.yField,o=t.lineSeriesField,a=t.legend,s=t.lineConfig,l=t.columnConfig,u=t.events,this.colors=[l.color,s.color],this.drawColumn(),(c={})[r[1]]={ticks:this.getTicks()},this.createLayer(f.default,e[1],p.__assign({xField:n,yField:r[1],seriesField:o,meta:d.deepMix({},i,c),xAxis:{visible:!1},yAxis:d.deepMix({},this.yAxis(1),{position:"right",grid:{visible:!1},nice:!0}),tooltip:{visible:!1},legend:{visible:!1},events:u},s)).render(),a.visible&&this.customLegend(),this.adjustLayout())},y.prototype.drawColumn=function(){var i=this,t=this.options,e=t.data,n=t.xField,r=t.yField,o=t.xAxis,a=t.tooltip,s=t.columnConfig,l=t.meta,u=t.events;this.createLayer(c.default,e[0],p.__assign({xField:n,yField:r[0],meta:l,xAxis:o,yAxis:d.deepMix({},this.yAxis(0),{grid:{visible:!0},nice:!0}),tooltip:d.deepMix({},a,{showMarkers:!1,custom:{onChange:function(t,e){i.tooltip(t,e)}}}),events:u},s)).render()},y.prototype.tooltip=function(t,r){var o=this,a=this.options.yField,s=d.clone(r.items[0]),l=this.getDataByXField(r.title,1);if(l&&d.each(l,function(t,e){var i=o.geomLayers[1].options.seriesField,n=i?t[i]:a[1];r.items.push(p.__assign(p.__assign({},s),{mappingData:d.deepMix({},s.mappingData,{_origin:l}),data:t,name:n,value:t[a[1]],color:d.isArray(o.colors[1])?o.colors[1][e]:o.colors[1]}))}),this.options.legend.visible){var i=this.getUnCheckedValue(),e=this.legends[0].get("items").length+this.legends[1].get("items").length;if(i.length===e)return void(t.style.display="none");t.style.display="block";var n=[],u=[];d.each(r.items,function(t){var e=t.name;d.contains(n,e)||d.contains(i,e)||(n.push(e),u.push(t))}),d.each(r.items,function(t,e){e<u.length?r.items[e]=u[e]:r.items.pop()})}},y.prototype.customLegend=function(){var r=this,t=this.options,o=t.yField,e=t.legend,a=this.colors,s=this.container.addGroup(),l=e,u=["square","circle"];d.each(this.geomLayers,function(t,e){var i,n;n=t.options.seriesField?(i=r.getValueBySeriesField(),r.createNormalLegend(i,u[e],a[e],l,s)):r.createSingleLegend(o[e],u[e],a[e],l,s),r.legends.push(n)}),d.each(this.geomLayers,function(t,e){t.options.seriesField?r.multipleLegendFilter(e,t.options.seriesField):r.legendFilter(e)})},y.prototype.createSingleLegend=function(t,e,i,n,r){var o=[{name:t,unchecked:!1,marker:d.deepMix({},{symbol:e,style:{r:4,fill:i}},n.marker)}],a=new s.Legend.Category({id:this.type,container:r,x:0,y:0,items:o,updateAutoRender:!0,itemBackground:null,itemName:n.text});return a.init(),a.render(),a},y.prototype.createNormalLegend=function(t,i,n,e,r){var o=[];d.each(t,function(t,e){o.push({name:t,unchecked:!1,marker:{symbol:i,style:{r:4,fill:n[e]}}})});var a=new s.Legend.Category({id:this.type,container:r,x:0,y:0,items:o,updateAutoRender:!0,itemBackground:null,itemName:e.text,offsetX:0});return a.init(),a.render(),a},y.prototype.multipleLegendFilter=function(n,r){var o=this,a=this.legends[n],s=[],t=a.get("group"),l=!1;t.on("click",function(t){var e=o.geomLayers[n].view,i=t.target.get("delegateObject").item;i.unchecked?(!0===l&&(o.showLayer(n),l=!1),d.pull(s,i.name),e.filter(i.value,function(t){return!d.contains(s,t)}),e.render(),a.setItemState(i,"unchecked",!1)):(a.setItemState(i,"unchecked",!0),s.push(i.name),s.length===o.legends[n].get("items").length?(o.hideLayer(n),l=!0):(e.filter(r,function(t){return!d.contains(s,t)}),e.render())),o.canvas.draw()})},y.prototype.getValueBySeriesField=function(){var t=this.options,i=t.lineSeriesField,e=t.data[1],n=[];return d.each(e,function(t){var e=t[i];d.contains(n,e)||n.push(e)}),n},y);function y(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}e.default=u,n.registerPlotType("columnLine",u)},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return c});var n=i(34);i.d(e,"Shape",function(){return n});var r=i(121);for(var o in r)["version","Event","Canvas","Group","Shape","default"].indexOf(o)<0&&function(t){i.d(e,t,function(){return r[t]})}(o);var a=i(123);for(var o in a)["version","Event","Canvas","Group","Shape","default"].indexOf(o)<0&&function(t){i.d(e,t,function(){return a[t]})}(o);var s=i(10);i.d(e,"Event",function(){return s.Event});var l=i(178);i.d(e,"Canvas",function(){return l.a});var u=i(48);i.d(e,"Group",function(){return u.a});var c=i(207).version},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromArray=function(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var n=i(37);e.isNil=n.default;var r=i(42);e.isFunction=r.default;var o=i(30);e.isString=o.default;var a=i(60);e.isObject=a.default;var s=i(23);e.isArray=s.default;var l=i(81);e.mix=l.default;var u=i(31);e.each=u.default;var c=i(82);e.upperFirst=c.default,e.isParent=function(t,e){if(t.isCanvas())return!0;for(var i=e.getParent(),n=!1;i;){if(i===t){n=!0;break}i=i.getParent()}return n},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=null;e.getOffScreenContext=function(){var t;return n||((t=document.createElement("canvas")).width=1,t.height=1,n=t.getContext("2d")),n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(18),p=i(29),l=i(119);function f(t,e,i,n){var r=1-n;return r*r*t+2*n*r*e+n*n*i}function c(t,e,i){var n=t+i-2*e;if(p.isNumberEqual(n,0))return[.5];var r=(t-e)/n;return r<=1&&0<=r?[r]:[]}function d(t,e,i,n){return 2*(1-n)*(e-t)+2*n*(i-e)}function g(t,e,i,n,r,o,a){var s=f(t,i,r,a),l=f(e,n,o,a),u=h.default.pointAt(t,e,i,n,a),c=h.default.pointAt(i,n,r,o,a);return[[t,e,u.x,u.y,s,l],[s,l,c.x,c.y,r,o]]}e.default={box:function(t,e,i,n,r,o){var a=c(t,i,r)[0],s=c(e,n,o)[0],l=[t,r],u=[e,o];return void 0!==a&&l.push(f(t,i,r,a)),void 0!==s&&u.push(f(e,n,o,s)),p.getBBoxByArray(l,u)},length:function(t,e,i,n,r,o){return function t(e,i,n,r,o,a,s){if(0===s)return(p.distance(e,i,n,r)+p.distance(n,r,o,a)+p.distance(e,i,o,a))/2;var l=g(e,i,n,r,o,a,.5),u=l[0],c=l[1];return u.push(s-1),c.push(s-1),t.apply(null,u)+t.apply(null,c)}(t,e,i,n,r,o,3)},nearestPoint:function(t,e,i,n,r,o,a,s){return l.nearestPoint([t,i,r],[e,n,o],a,s,f)},pointDistance:function(t,e,i,n,r,o,a,s){var l=this.nearestPoint(t,e,i,n,r,o,a,s);return p.distance(l.x,l.y,a,s)},interpolationAt:f,pointAt:function(t,e,i,n,r,o,a){return{x:f(t,i,r,a),y:f(e,n,o,a)}},divide:g,tangentAngle:function(t,e,i,n,r,o,a){var s=d(t,i,r,a),l=d(e,n,o,a),u=Math.atan2(l,s);return p.piMod(u)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var R=i(120),N=i(120),Y=i(202);function G(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){for(var e=[],i=null,n=null,r=null,o=0,a=(t=Y.default(t)).length,s=0;s<a;s++){var l,u=t[s],n=t[s+1],c=u[0],h={command:c,prePoint:i,params:u,startTangent:null,endTangent:null};switch(c){case"M":r=[u[1],u[2]],o=s;break;case"A":var p=R.default(i,u);h.arcParams=p}"Z"===c?(i=r,n=t[o+1]):i=[u[(l=u.length)-2],u[l-1]],n&&"Z"===n[0]&&(n=t[o],e[o]&&(e[o].prePoint=i)),h.currentPoint=i,e[o]&&N.isSamePoint(i,e[o].currentPoint)&&(e[o].prePoint=h.prePoint);var f=n?[n[n.length-2],n[n.length-1]]:null;h.nextPoint=f;var d,g,y,v,m,x,b,_,O,w,M,C,S,j,P,T,A,E,L,k,I,D,B,F=h.prePoint;["L","H","V"].includes(c)?(h.startTangent=[F[0]-i[0],F[1]-i[1]],h.endTangent=[i[0]-F[0],i[1]-F[1]]):"Q"===c?(d=[u[1],u[2]],h.startTangent=[F[0]-d[0],F[1]-d[1]],h.endTangent=[i[0]-d[0],i[1]-d[1]]):"T"===c?(d=G((g=e[s-1]).currentPoint,F),"Q"===g.command?(h.command="Q",h.startTangent=[F[0]-d[0],F[1]-d[1]],h.endTangent=[i[0]-d[0],i[1]-d[1]]):(h.command="TL",h.startTangent=[F[0]-i[0],F[1]-i[1]],h.endTangent=[i[0]-F[0],i[1]-F[1]])):"C"===c?(y=[u[1],u[2]],v=[u[3],u[4]],h.startTangent=[F[0]-y[0],F[1]-y[1]],h.endTangent=[i[0]-v[0],i[1]-v[1]]):"S"===c?(y=G((g=e[s-1]).currentPoint,F),v=[u[1],u[2]],"C"===g.command?(h.command="C",h.startTangent=[F[0]-y[0],F[1]-y[1]]):(h.command="SQ",h.startTangent=[F[0]-v[0],F[1]-v[1]]),h.endTangent=[i[0]-v[0],i[1]-v[1]]):"A"===c&&(m=.001,_=void 0===(b=(x=h.arcParams||{}).cx)?0:b,w=void 0===(O=x.cy)?0:O,j=void 0===(S=x.ry)?0:S,A=void 0===(T=x.startAngle)?0:T,L=void 0===(E=x.endAngle)?0:E,0===(void 0===(P=x.sweepFlag)?0:P)&&(m*=-1),k=(C=void 0===(M=x.rx)?0:M)*Math.cos(A-m)+_,I=j*Math.sin(A-m)+w,h.startTangent=[k-r[0],I-r[1]],D=C*Math.cos(A+L+m)+_,B=j*Math.sin(A+L-m)+w,h.endTangent=[F[0]-D,F[1]-B]),e.push(h)}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){return"[Event (type="+this.type+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r);function r(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(215),u=i(216),c=i(0);function h(t){for(var e,i,n=[],r=t.length,o=0;o<r-1;o++){var a=t[o],s=t[o+1];n.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return 1<n.length&&(e=t[0],i=t[r-1],n.push({from:{x:i[0],y:i[1]},to:{x:e[0],y:e[1]}})),n}function p(t){var e=t.map(function(t){return t[0]}),i=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,i),maxY:Math.max.apply(null,i)}}e.default=function(e,i){if(e.length<2||i.length<2)return!1;var t=p(e),n=p(i);if(n.minX>t.maxX||n.maxX<t.minX||n.minY>t.maxY||n.maxY<t.minY)return!1;var r=!1;if(c.each(i,function(t){if(l.default(e,t[0],t[1]))return!(r=!0)}),r)return!0;if(c.each(e,function(t){if(l.default(i,t[0],t[1]))return!(r=!0)}),r)return!0;var o=h(e),a=h(i),s=!1;return c.each(a,function(t){if(e=t,i=!1,c.each(o,function(t){if(u.default(t.from,t.to,e.from,e.to))return!(i=!0)}),i)return!(s=!0);var e,i}),s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.propagationDelegate=void 0;var o=i(113);e.propagationDelegate=function(t,e,i){var n=new o.default(e,i);n.target=t,n.propagationPath.push(t),t.emitDelegation(e,n);for(var r=t.getParent();r;)r.emitDelegation(e,n),n.propagationPath.push(r),r=r.getParent()}},function(t,e,i){"use strict";i.r(e),i.d(e,"version",function(){return jt}),i.d(e,"Event",function(){return o.Event}),i.d(e,"Canvas",function(){return St}),i.d(e,"Group",function(){return j}),i.d(e,"Shape",function(){return n});var n={};i.r(n),i.d(n,"Base",function(){return T}),i.d(n,"Circle",function(){return A}),i.d(n,"Dom",function(){return E}),i.d(n,"Ellipse",function(){return L}),i.d(n,"Image",function(){return k}),i.d(n,"Line",function(){return B}),i.d(n,"Marker",function(){return N}),i.d(n,"Path",function(){return Y}),i.d(n,"Polygon",function(){return G}),i.d(n,"Polyline",function(){return z}),i.d(n,"Rect",function(){return rt}),i.d(n,"Text",function(){return ut});var r=i(1),o=i(10),_=i(0),a={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},h={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function O(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function s(t){var e=a[t.type],i=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var n,r=O(e);return t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),i&&((n=i.get("el"))||(n=i.createDom(),i.set("el",n)),n.appendChild(r)),r}function v(t,e){var i=t.get("el"),n=Object(_.toArray)(i.children).sort(e),r=document.createDocumentFragment();n.forEach(function(t){r.appendChild(t)}),i.appendChild(r)}function m(t){var e=t.attr().matrix;if(e){for(var i=t.cfg.el,n=[],r=0;r<9;r+=3)n.push(e[r]+","+e[r+1]);-1===(n=n.join(",")).indexOf("NaN")?i.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}}function x(t,e){var i,n=t.getClip(),r=t.get("el");n?n&&!r.hasAttribute("clip-path")&&(s(n),n.createPath(e),i=e.addClip(n),r.setAttribute("clip-path","url(#"+i+")")):r.removeAttribute("clip-path")}function l(e,t){t.forEach(function(t){t.draw(e)})}function u(t,e){var i,n,r,o,a,s,l,u,c,h,p,f,d,g,y=t.get("canvas");y&&y.get("autoDraw")&&(i=y.get("context"),r=(n=t.getParent())?n.getChildren():[y],o=t.get("el"),"remove"===e?t.get("isClipShape")?(s=(a=o&&o.parentNode)&&a.parentNode,a&&s&&s.removeChild(a)):o&&o.parentNode&&o.parentNode.removeChild(o):"show"===e?o.setAttribute("visibility","visible"):"hide"===e?o.setAttribute("visibility","hidden"):"zIndex"===e?(u=o,c=r.indexOf(t),p=u.parentNode,f=Array.from(p.childNodes).filter(function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()}),d=f[c],g=f.indexOf(u),d?c<g?p.insertBefore(u,d):g<c&&((h=f[c+1])?p.insertBefore(u,h):p.appendChild(u)):p.appendChild(u)):"sort"===e?(l=t.get("children"))&&l.length&&v(t,function(t,e){return l.indexOf(t)-l.indexOf(e)?1:0}):"clear"===e?o&&(o.innerHTML=""):"matrix"===e?m(t):"clip"===e?x(t,i):"attr"===e||"add"===e&&t.draw(i))}var c,p,f,d,g,y,b,w,M,C,S,j=(S=o.AbstractGroup,Object(r.__extends)(et,S),et.prototype.isEntityGroup=function(){return!0},et.prototype.createDom=function(){var t=O("g");this.set("el",t);var e,i=this.getParent();return i&&((e=i.get("el"))||(e=i.createDom(),i.set("el",e)),e.appendChild(t)),t},et.prototype.afterAttrsChange=function(t){S.prototype.afterAttrsChange.call(this,t);var e,i=this.get("canvas");i&&i.get("autoDraw")&&(e=i.get("context"),this.createPath(e,t))},et.prototype.onCanvasChange=function(t){u(this,t)},et.prototype.getShapeBase=function(){return n},et.prototype.getGroupBase=function(){return et},et.prototype.draw=function(t){var e=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),x(this,t),this.createPath(t),e.length&&l(t,e))},et.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){h[e]&&n.setAttribute(h[e],t)}),m(this)},et),P=i(74),T=(C=o.AbstractShape,Object(r.__extends)(tt,C),tt.prototype.getDefaultAttrs=function(){var t=C.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},tt.prototype.afterAttrsChange=function(t){C.prototype.afterAttrsChange.call(this,t);var e,i=this.get("canvas");i&&i.get("autoDraw")&&(e=i.get("context"),this.draw(e,t))},tt.prototype.getShapeBase=function(){return n},tt.prototype.getGroupBase=function(){return j},tt.prototype.onCanvasChange=function(t){u(this,t)},tt.prototype.calculateBBox=function(){var t,e=this.get("el"),i=null;if(e?i=e.getBBox():(t=Object(P.getBBoxMethod)(this.get("type")))&&(i=t(this)),i){var n=i.x,r=i.y,o=i.width,a=i.height,s=this.getHitLineWidth(),l=s/2,u=n-l,c=r-l;return{x:u,y:c,minX:u,minY:c,maxX:n+o+l,maxY:r+a+l,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},tt.prototype.isFill=function(){var t=this.attr(),e=t.fill,i=t.fillStyle;return(e||i||this.isClipShape())&&this.canFill},tt.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,i=t.strokeStyle;return(e||i)&&this.canStroke},tt.prototype.draw=function(t,e){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||s(this),x(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},tt.prototype.createPath=function(t,e){},tt.prototype.strokeAndFill=function(t,e){var i=e||this.attr(),n=i.fill,r=i.fillStyle,o=i.stroke,a=i.strokeStyle,s=i.fillOpacity,l=i.strokeOpacity,u=i.lineWidth,c=this.get("el");this.canFill&&(e?"fill"in i?this._setColor(t,"fill",n):"fillStyle"in i&&this._setColor(t,"fill",r):this._setColor(t,"fill",n||r),s&&c.setAttribute(h.fillOpacity,s)),this.canStroke&&0<u&&(e?"stroke"in i?this._setColor(t,"stroke",o):"strokeStyle"in i&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&c.setAttribute(h.strokeOpacity,l),u&&c.setAttribute(h.lineWidth,u))},tt.prototype._setColor=function(t,e,i){var n,r=this.get("el");i?(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i)?((n=t.find("gradient",i))||(n=t.addGradient(i)),r.setAttribute(h[e],"url(#"+n+")")):/^[p,P]{1}[\s]*\(/.test(i)?((n=t.find("pattern",i))||(n=t.addPattern(i)),r.setAttribute(h[e],"url(#"+n+")")):r.setAttribute(h[e],i)):r.setAttribute(h[e],"none")},tt.prototype.shadow=function(t,e){var i,n,r,o,a,s,l=this.attr(),u=e||l,c=u.shadowOffsetX,h=u.shadowOffsetY,p=u.shadowBlur,f=u.shadowColor;(c||h||p||f)&&(n=t,o=(i=this).cfg.el,a=i.attr(),(s={dx:a.shadowOffsetX,dy:a.shadowOffsetY,blur:a.shadowBlur,color:a.shadowColor}).dx||s.dy||s.blur||s.color?(r=(r=n.find("filter",s))||n.addShadow(s),o.setAttribute("filter","url(#"+r+")")):o.removeAttribute("filter"))},tt.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&m(this)},tt.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},tt.prototype.isPointInPath=function(t,e){var i=this.get("el"),n=this.get("canvas").get("el").getBoundingClientRect(),r=t+n.left,o=e+n.top,a=document.elementFromPoint(r,o);return!(!a||!a.isEqualNode(i))},tt.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,i=t.lineAppendWidth;return this.isStroke()?e+i:0},tt),A=(M=T,Object(r.__extends)(J,M),J.prototype.getDefaultAttrs=function(){var t=M.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,r:0})},J.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){"x"===e||"y"===e?n.setAttribute("c"+e,t):h[e]&&n.setAttribute(h[e],t)})},J),E=(w=T,Object(r.__extends)(Q,w),Q.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){h[e]&&n.setAttribute(h[e],t)}),n.innerHTML=i.html},Q),L=(b=T,Object(r.__extends)($,b),$.prototype.getDefaultAttrs=function(){var t=b.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,rx:0,ry:0})},$.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){"x"===e||"y"===e?n.setAttribute("c"+e,t):h[e]&&n.setAttribute(h[e],t)})},$),k=(y=T,Object(r.__extends)(Z,y),Z.prototype.getDefaultAttrs=function(){var t=y.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,width:0,height:0})},Z.prototype.createPath=function(t,e){var i=this,n=this.attr(),r=this.get("el");Object(_.each)(e||n,function(t,e){"img"===e?i._setImage(n.img):h[e]&&r.setAttribute(h[e],t)})},Z.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},Z.prototype._setImage=function(t){var e,i=this.attr(),n=this.get("el");Object(_.isString)(t)?n.setAttribute("href",t):t instanceof window.Image?(i.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),i.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src)):t instanceof HTMLElement&&Object(_.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()?n.setAttribute("href",t.toDataURL()):t instanceof ImageData&&((e=document.createElement("canvas")).setAttribute("width",""+t.width),e.setAttribute("height",""+t.height),e.getContext("2d").putImageData(t,0,0),i.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),i.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",e.toDataURL()))},Z),I=i(18),D=i.n(I),B=(g=T,Object(r.__extends)(K,g),K.prototype.getDefaultAttrs=function(){var t=g.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},K.prototype.createPath=function(n,t){var r=this.attr(),o=this.get("el");Object(_.each)(t||r,function(t,e){var i;"startArrow"===e||"endArrow"===e?t?(i=Object(_.isObject)(t)?n.addArrow(r,h[e]):n.getDefaultArrow(r,h[e]),o.setAttribute(h[e],"url(#"+i+")")):o.removeAttribute(h[e]):h[e]&&o.setAttribute(h[e],t)})},K.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,i=t.y1,n=t.x2,r=t.y2;return D.a.length(e,i,n,r)},K.prototype.getPoint=function(t){var e=this.attr(),i=e.x1,n=e.y1,r=e.x2,o=e.y2;return D.a.pointAt(i,n,r,o,t)},K),F={circle:function(t,e,i){return[["M",t,e],["m",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,2*-i,0]]},square:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e-i],["L",t+i,e+i],["L",t-i,e+i],["Z"]]},diamond:function(t,e,i){return[["M",t-i,e],["L",t,e-i],["L",t+i,e],["L",t,e+i],["Z"]]},triangle:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e+n],["L",t,e-n],["L",t+i,e+n],["z"]]},triangleDown:function(t,e,i){var n=i*Math.sin(1/3*Math.PI);return[["M",t-i,e-n],["L",t+i,e-n],["L",t,e+n],["Z"]]}},R={get:function(t){return F[t]},register:function(t,e){F[t]=e},remove:function(t){delete F[t]},getAll:function(){return F}},N=(d=T,Object(r.__extends)(U,d),U.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},U.prototype._assembleMarker=function(){var t=this._getPath();return Object(_.isArray)(t)?t.map(function(t){return t.join(" ")}).join(""):t},U.prototype._getPath=function(){var t,e=this.attr(),i=e.x,n=e.y,r=e.r||e.radius,o=e.symbol||"circle";return(t=Object(_.isFunction)(o)?o:R.get(o))?t(i,n,r):(console.warn(t+" symbol is not exist."),null)},U.symbolsFactory=R,U),Y=(f=T,Object(r.__extends)(q,f),q.prototype.getDefaultAttrs=function(){var t=f.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{startArrow:!1,endArrow:!1})},q.prototype.createPath=function(n,t){var r=this,o=this.attr(),a=this.get("el");Object(_.each)(t||o,function(t,e){var i;"path"===e&&Object(_.isArray)(t)?a.setAttribute("d",r._formatPath(t)):"startArrow"===e||"endArrow"===e?t?(i=Object(_.isObject)(t)?n.addArrow(o,h[e]):n.getDefaultArrow(o,h[e]),a.setAttribute(h[e],"url(#"+i+")")):a.removeAttribute(h[e]):h[e]&&a.setAttribute(h[e],t)})},q.prototype._formatPath=function(t){var e=t.map(function(t){return t.join(" ")}).join("");return~e.indexOf("NaN")?"":e},q.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},q.prototype.getPoint=function(t){var e=this.get("el"),i=this.getTotalLength(),n=e?e.getPointAtLength(t*i):null;return n?{x:n.x,y:n.y}:null},q),G=(p=T,Object(r.__extends)(W,p),W.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){"points"===e&&Object(_.isArray)(t)&&2<=t.length?n.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):h[e]&&n.setAttribute(h[e],t)})},W),X=i(77),V=i.n(X),z=(c=T,Object(r.__extends)(H,c),H.prototype.getDefaultAttrs=function(){var t=c.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{startArrow:!1,endArrow:!1})},H.prototype.onAttrChange=function(t,e,i){c.prototype.onAttrChange.call(this,t,e,i),-1!==["points"].indexOf(t)&&this._resetCache()},H.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},H.prototype.createPath=function(t,e){var i=this.attr(),n=this.get("el");Object(_.each)(e||i,function(t,e){"points"===e&&Object(_.isArray)(t)&&2<=t.length?n.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):h[e]&&n.setAttribute(h[e],t)})},H.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(_.isNil)(e)?(this.set("totalLength",V.a.length(t)),this.get("totalLength")):e},H.prototype.getPoint=function(i){var n,r,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(_.each)(e,function(t,e){i>=t[0]&&i<=t[1]&&(n=(i-t[0])/(t[1]-t[0]),r=e)}),D.a.pointAt(t[r][0],t[r][1],t[r+1][0],t[r+1][1],n)},H.prototype._setTcache=function(){var i,n,r,o,a,s=this.attr().points;s&&0!==s.length&&((i=this.getTotalLength())<=0||(o=0,a=[],Object(_.each)(s,function(t,e){s[e+1]&&((n=[])[0]=o/i,r=D.a.length(t[0],t[1],s[e+1][0],s[e+1][1]),o+=r,n[1]=o/i,a.push(n))}),this.set("tCache",a)))},H.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},H.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},H);function H(){var t=null!==c&&c.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}function W(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}function q(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}function U(){var t=null!==d&&d.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}function K(){var t=null!==g&&g.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}function Z(){var t=null!==y&&y.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}function $(){var t=null!==b&&b.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}function Q(){var t=null!==w&&w.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}function J(){var t=null!==M&&M.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}function tt(){var t=null!==C&&C.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}function et(){return null!==S&&S.apply(this,arguments)||this}var it,nt,rt=(nt=T,Object(r.__extends)(dt,nt),dt.prototype.getDefaultAttrs=function(){var t=nt.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},dt.prototype.createPath=function(t,e){var i=this,n=this.attr(),r=this.get("el"),o=!1,a=["x","y","width","height","radius"];Object(_.each)(e||n,function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&h[e]&&r.setAttribute(h[e],t):(r.setAttribute("d",i._assembleRect(n)),o=!0)})},dt.prototype._assembleRect=function(t){var e=t.x,i=t.y,n=t.width,r=t.height,o=t.radius;if(!o)return"M "+e+","+i+" l "+n+",0 l 0,"+r+" l"+-n+" 0 z";var a,s,l,u,c,h=(a=o,c=u=l=s=0,Object(_.isArray)(a)?1===a.length?s=l=u=c=a[0]:2===a.length?(s=u=a[0],l=c=a[1]):3===a.length?(s=a[0],l=c=a[1],u=a[2]):(s=a[0],l=a[1],u=a[2],c=a[3]):s=l=u=c=a,{r1:s,r2:l,r3:u,r4:c});return Object(_.isArray)(o)?1===o.length?h.r1=h.r2=h.r3=h.r4=o[0]:2===o.length?(h.r1=h.r3=o[0],h.r2=h.r4=o[1]):3===o.length?(h.r1=o[0],h.r2=h.r4=o[1],h.r3=o[2]):(h.r1=o[0],h.r2=o[1],h.r3=o[2],h.r4=o[3]):h.r1=h.r2=h.r3=h.r4=o,[["M "+(e+h.r1)+","+i],["l "+(n-h.r1-h.r2)+",0"],["a "+h.r2+","+h.r2+",0,0,1,"+h.r2+","+h.r2],["l 0,"+(r-h.r2-h.r3)],["a "+h.r3+","+h.r3+",0,0,1,"+-h.r3+","+h.r3],["l "+(h.r3+h.r4-n)+",0"],["a "+h.r4+","+h.r4+",0,0,1,"+-h.r4+","+-h.r4],["l 0,"+(h.r4+h.r1-r)],["a "+h.r1+","+h.r1+",0,0,1,"+h.r1+","+-h.r1],["z"]].join(" ")},dt),ot=i(180),at={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},st={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},lt={left:"left",start:"left",center:"middle",right:"end",end:"end"},ut=(it=T,Object(r.__extends)(ft,it),ft.prototype.getDefaultAttrs=function(){var t=it.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},ft.prototype.createPath=function(t,e){var i=this,n=this.attr(),r=this.get("el");this._setFont(),Object(_.each)(e||n,function(t,e){"text"===e?i._setText(""+t):"matrix"===e&&t?m(i):h[e]&&r.setAttribute(h[e],t)}),r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},ft.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),i=e.textBaseline,n=e.textAlign,r=Object(ot.detect)();r&&"firefox"===r.name?t.setAttribute("dominant-baseline",st[i]||"alphabetic"):t.setAttribute("alignment-baseline",at[i]||"baseline"),t.setAttribute("text-anchor",lt[n]||"left")},ft.prototype._setText=function(t){var e,i,n,r=this.get("el"),o=this.attr(),a=o.x,s=o.textBaseline,l=void 0===s?"bottom":s;t?~t.indexOf("\n")?(e=t.split("\n"),i=e.length-1,n="",Object(_.each)(e,function(t,e){0===e?"alphabetic"===l?n+='<tspan x="'+a+'" dy="'+-i+'em">'+t+"</tspan>":"top"===l?n+='<tspan x="'+a+'" dy="0.9em">'+t+"</tspan>":"middle"===l?n+='<tspan x="'+a+'" dy="'+-(i-1)/2+'em">'+t+"</tspan>":"bottom"===l?n+='<tspan x="'+a+'" dy="-'+(.3+i)+'em">'+t+"</tspan>":"hanging"===l&&(n+='<tspan x="'+a+'" dy="'+(-(i-1)-.3)+'em">'+t+"</tspan>"):n+='<tspan x="'+a+'" dy="1em">'+t+"</tspan>"}),r.innerHTML=n):r.innerHTML=t:r.innerHTML=""},ft),ct=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ht=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,pt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function ft(){var t=null!==it&&it.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}function dt(){var t=null!==nt&&nt.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}function gt(t){var e=t.match(pt);if(!e)return"";var i="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),Object(_.each)(e,function(t){t=t.split(":"),i+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),i}var yt,vt=(It.prototype.match=function(t,e){return this.cfg===e},It),mt={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},xt={x:"-40%",y:"-40%",width:"200%",height:"200%"},bt=(kt.prototype.match=function(t,e){if(this.type!==t)return!1;var i=!0,n=this.cfg;return Object(_.each)(Object.keys(n),function(t){if(n[t]!==e[t])return i=!1}),i},kt.prototype.update=function(t,e){var i=this.cfg;return i[mt[t]]=e,this._parseShadow(i,this.el),this},kt.prototype._parseShadow=function(t,e){var i='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=i},kt),_t=(Lt.prototype.match=function(){return!1},Lt.prototype._setDefaultPath=function(t,e){var i=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),i.setAttribute("refX",""+10*Math.cos(Math.PI/6)),i.setAttribute("refY","5")},Lt.prototype._setMarker=function(t,e){var i=this.el,n=this.cfg.path,r=this.cfg.d;Object(_.isArray)(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",n),i.appendChild(e),r&&i.setAttribute("refX",""+r/t)},Lt.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},Lt),Ot=(Et.prototype.match=function(){return!1},Et.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},Et),wt=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Mt=(At.prototype.match=function(t,e){return this.cfg===e},At),Ct=(Tt.prototype.find=function(t,e){for(var i=this.children,n=null,r=0;r<i.length;r++)if(i[r].match(t,e)){n=i[r].id;break}return n},Tt.prototype.findById=function(t){for(var e=this.children,i=null,n=0;n<e.length;n++)if(e[n].id===t){i=e[n];break}return i},Tt.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},Tt.prototype.getDefaultArrow=function(t,e){var i=t.stroke||t.strokeStyle;if(this.defaultArrow[i])return this.defaultArrow[i].id;var n=new _t(t,e);return this.defaultArrow[i]=n,this.el.appendChild(n.el),this.add(n),n.id},Tt.prototype.addGradient=function(t){var e=new vt(t);return this.el.appendChild(e.el),this.add(e),e.id},Tt.prototype.addArrow=function(t,e){var i=new _t(t,e);return this.el.appendChild(i.el),this.add(i),i.id},Tt.prototype.addShadow=function(t){var e=new bt(t);return this.el.appendChild(e.el),this.add(e),e.id},Tt.prototype.addPattern=function(t){var e=new Mt(t);return this.el.appendChild(e.el),this.add(e),e.id},Tt.prototype.addClip=function(t){var e=new Ot(t);return this.el.appendChild(e.el),this.add(e),e.id},Tt),St=(yt=o.AbstractCanvas,Object(r.__extends)(Pt,yt),Pt.prototype.getShapeBase=function(){return n},Pt.prototype.getGroupBase=function(){return j},Pt.prototype.getShape=function(t,e,i){var n=i.target||i.srcElement;if(!a[n.tagName]){for(var r=n.parentNode;r&&!a[r.tagName];)r=r.parentNode;n=r}return this.find(function(t){return t.get("el")===n})},Pt.prototype.createDom=function(){var t=O("svg"),e=new Ct(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},Pt.prototype.onCanvasChange=function(t){var i,e,n=this.get("context"),r=this.get("el");"sort"===t?(i=this.get("children"))&&i.length&&v(this,function(t,e){return i.indexOf(t)-i.indexOf(e)?1:0}):"clear"===t?r&&(r.innerHTML="",(e=n.el).innerHTML="",r.appendChild(e)):"matrix"===t?m(this):"clip"===t?x(this,n):"changeSize"===t&&(r.setAttribute("width",""+this.get("width")),r.setAttribute("height",""+this.get("height")))},Pt.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();x(this,t),e.length&&l(t,e)},Pt),jt=i(208).version;function Pt(t){return yt.call(this,Object(r.__assign)(Object(r.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}function Tt(t){var e=O("defs"),i=Object(_.uniqueId)("defs_");e.id=i,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}function At(t){this.cfg={};var e=O("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var i=O("image");e.appendChild(i);var n=Object(_.uniqueId)("pattern_");e.id=n,this.el=e,this.id=n,this.cfg=t;var r=wt.exec(t)[2];i.setAttribute("href",r);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return r.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=r,o.complete?a():(o.onload=a,o.src=o.src),this}function Et(t){this.type="clip",this.cfg={};var e=O("clipPath");this.el=e,this.id=Object(_.uniqueId)("clip_"),e.id=this.id;var i=t.cfg.el;return e.appendChild(i),this.cfg=t,this}function Lt(t,e){this.cfg={};var i=O("marker"),n=Object(_.uniqueId)("marker_");i.setAttribute("id",n);var r=O("path");r.setAttribute("stroke",t.stroke||"none"),r.setAttribute("fill",t.fill||"none"),i.appendChild(r),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=r,this.id=n;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,r):(this.cfg=o,this._setMarker(t.lineWidth,r)),this}function kt(t){this.type="filter",this.cfg={};var i=O(this.type="filter");return Object(_.each)(xt,function(t,e){i.setAttribute(e,t)}),this.el=i,this.id=Object(_.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,i),this}function It(t){this.cfg={};var e,i,n,r,o,a,s,l,u,c,h,p,f,d,g,y,v,m,x=null,b=Object(_.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?(l=t,u=x=O("linearGradient"),h=ct.exec(l),p=Object(_.mod)(Object(_.toRadian)(parseFloat(h[1])),2*Math.PI),f=h[2],d=0<=p&&p<.5*Math.PI?(c={x:0,y:0},{x:1,y:1}):.5*Math.PI<=p&&p<Math.PI?(c={x:1,y:0},{x:0,y:1}):Math.PI<=p&&p<1.5*Math.PI?(c={x:1,y:1},{x:0,y:0}):(c={x:0,y:1},{x:1,y:0}),g=Math.tan(p),y=g*g,v=(d.x-c.x+g*(d.y-c.y))/(1+y)+c.x,m=g*(d.x-c.x+g*(d.y-c.y))/(1+y)+c.y,u.setAttribute("x1",c.x),u.setAttribute("y1",c.y),u.setAttribute("x2",v),u.setAttribute("y2",m),u.innerHTML=gt(f)):(e=t,i=x=O("radialGradient"),n=ht.exec(e),r=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),s=n[4],i.setAttribute("cx",r),i.setAttribute("cy",o),i.setAttribute("r",a),i.innerHTML=gt(s)),x.setAttribute("id",b),this.el=x,this.id=b,this.cfg=t,this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiplyMatrix=function(t,e){var i=[],n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],v=e[5],m=e[6],x=e[7],b=e[8];return i[0]=p*n+f*a+d*u,i[1]=p*r+f*s+d*c,i[2]=p*o+f*l+d*h,i[3]=g*n+y*a+v*u,i[4]=g*r+y*s+v*c,i[5]=g*o+y*l+v*h,i[6]=m*n+x*a+b*u,i[7]=m*r+x*s+b*c,i[8]=m*o+x*l+b*h,i},e.multiplyVec2=function(t,e){var i=[],n=e[0],r=e[1];return i[0]=t[0]*n+t[3]*r+t[6],i[1]=t[1]*n+t[4]*r+t[7],i},e.invert=function(t){var e=[],i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=c*a-s*u,p=-c*o+s*l,f=u*o-a*l,d=i*h+n*p+r*f;return d?(d=1/d,e[0]=h*d,e[1]=(-c*n+r*u)*d,e[2]=(s*n-r*a)*d,e[3]=p*d,e[4]=(c*i-r*l)*d,e[5]=(-s*i+r*o)*d,e[6]=f*d,e[7]=(-u*i+n*l)*d,e[8]=(a*i-n*o)*d,e):null}},function(t,e){var i,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,u=[],c=!1,h=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=s(p);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new d(t,e)),1!==u.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(29);e.nearestPoint=function(t,e,i,n,r){for(var o,a=.005,s=1/0,l=[i,n],u=0;u<=20;u++){var c=.05*u,h=[r.apply(null,t.concat([c])),r.apply(null,e.concat([c]))];(v=m.distance(l[0],l[1],h[0],h[1]))<s&&(o=c,s=v)}if(0===o)return{x:t[0],y:e[0]};if(1===o){var p=t.length;return{x:t[p-1],y:e[p-1]}}for(s=1/0,u=0;u<32&&!(a<1e-4);u++){var f,d,g=o-a,y=o+a,v=(h=[r.apply(null,t.concat([g])),r.apply(null,e.concat([g]))],m.distance(l[0],l[1],h[0],h[1]));0<=g&&v<s?(o=g,s=v):(f=[r.apply(null,t.concat([y])),r.apply(null,e.concat([y]))],d=m.distance(l[0],l[1],f[0],f[1]),y<=1&&d<s?(o=y,s=d):a*=.5)}return{x:r.apply(null,t.concat([o])),y:r.apply(null,e.concat([o]))}},e.snapLength=function(t,e){for(var i=0,n=t.length,r=0;r<n;r++){var o=t[r],a=e[r],s=t[(r+1)%n],l=e[(r+1)%n];i+=m.distance(o,a,s,l)}return i/2}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var M=i(47),C=i(46);function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function S(t,e){return n(t)*n(e)?(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e)):1}function j(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(S(t,e))}function P(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=P,e.default=function(t,e){var i=e[1],n=e[2],r=M.default(C.default(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(r)*(s-u)/2+Math.sin(r)*(l-c)/2,p=-1*Math.sin(r)*(s-u)/2+Math.cos(r)*(l-c)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+u)/2+Math.cos(r)*y-Math.sin(r)*v,x=(l+c)/2+Math.sin(r)*y+Math.cos(r)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],O=j([1,0],b),w=j(b,_);return S(b,_)<=-1&&(w=Math.PI),1<=S(b,_)&&(w=0),0===a&&0<w&&(w-=2*Math.PI),1===a&&w<0&&(w+=2*Math.PI),{cx:m,cy:x,rx:P(t,[u,c])?0:i,ry:P(t,[u,c])?0:n,startAngle:O,endAngle:O+w,xRotation:r,arcFlag:o,sweepFlag:a}}},function(t,e,i){"use strict";i.r(e);var n=i(122);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";i.r(e);var n=i(124);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;var n=i(0),r=(o.prototype.clear=function(){n.each(this.components,function(t){t.component.destroy()}),this.components=[]},o.prototype.destroy=function(){this.clear()},o.prototype.getComponents=function(){return this.components},o.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},o);function o(t){this.visible=!0,this.components=[],this.view=t}e.Controller=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=e.HtmlTooltip=e.ContinuousLegend=e.CategoryLegend=e.CircleGrid=e.LineGrid=e.CircleAxis=e.LineAxis=e.Annotation=e.Crosshair=e.Component=e.GroupComponent=e.HtmlComponent=void 0;var n=i(10);Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return n.Event}}),Object.defineProperty(e,"AbstractGroup",{enumerable:!0,get:function(){return n.AbstractGroup}}),Object.defineProperty(e,"AbstractShape",{enumerable:!0,get:function(){return n.AbstractShape}});var r=i(51);Object.defineProperty(e,"registerAdjust",{enumerable:!0,get:function(){return r.registerAdjust}}),Object.defineProperty(e,"getAdjust",{enumerable:!0,get:function(){return r.getAdjust}}),Object.defineProperty(e,"Adjust",{enumerable:!0,get:function(){return r.Adjust}});var o=i(62);Object.defineProperty(e,"getAttribute",{enumerable:!0,get:function(){return o.getAttribute}}),Object.defineProperty(e,"Attribute",{enumerable:!0,get:function(){return o.Attribute}});var a=i(59);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return a.Color}});var s=i(45);Object.defineProperty(e,"getCoordinate",{enumerable:!0,get:function(){return s.getCoordinate}}),Object.defineProperty(e,"registerCoordinate",{enumerable:!0,get:function(){return s.registerCoordinate}}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return s.Coordinate}});var l=i(21);Object.defineProperty(e,"getScale",{enumerable:!0,get:function(){return l.getScale}}),Object.defineProperty(e,"registerScale",{enumerable:!0,get:function(){return l.registerScale}}),Object.defineProperty(e,"Scale",{enumerable:!0,get:function(){return l.Scale}});var u=i(16);Object.defineProperty(e,"Annotation",{enumerable:!0,get:function(){return u.Annotation}}),Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return u.Component}}),Object.defineProperty(e,"Crosshair",{enumerable:!0,get:function(){return u.Crosshair}}),Object.defineProperty(e,"GroupComponent",{enumerable:!0,get:function(){return u.GroupComponent}}),Object.defineProperty(e,"HtmlComponent",{enumerable:!0,get:function(){return u.HtmlComponent}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return u.Slider}});var c=u.Axis.Line,h=u.Axis.Circle;e.LineAxis=c,e.CircleAxis=h;var p=u.Grid.Line,f=u.Grid.Circle;e.LineGrid=p,e.CircleGrid=f;var d=u.Legend.Category,g=u.Legend.Continuous;e.CategoryLegend=d,e.ContinuousLegend=g;var y=u.Tooltip.Html;e.HtmlTooltip=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCoordinateClipCfg=e.getAngleByPoint=e.isPointInCoordinate=e.getDistanceToCenter=e.isFullCircle=e.getXDimensionLength=void 0;var h=i(87),a=i(220);e.getXDimensionLength=function(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),i=t.convert({x:1,y:0});return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))},e.isFullCircle=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e==2*Math.PI}return!1},e.getDistanceToCenter=function(t,e){var i=t.getCenter();return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))},e.isPointInCoordinate=function(t,e){var i,n,r,o=!1;return t&&(o="theta"===t.type?(i=t.start,n=t.end,a.isBetween(e.x,i.x,n.x)&&a.isBetween(e.y,i.y,n.y)):(r=t.invert(e),a.isBetween(r.x,0,1)&&a.isBetween(r.y,0,1))),o},e.getAngleByPoint=function(t,e){var i=t.getCenter();return Math.atan2(e.y-i.y,e.x-i.x)},e.getCoordinateClipCfg=function(t,i){void 0===i&&(i=0);var e,n=t.start,r=t.end,o=t.getWidth(),a=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,u=t.getCenter(),c=t.getRadius();return{type:"path",startState:{path:h.getSectorPath(u.x,u.y,c+i,s,s)},endState:function(t){var e=(l-s)*t+s;return{path:h.getSectorPath(u.x,u.y,c+i,s,e)}},attrs:{path:h.getSectorPath(u.x,u.y,c+i,s,l)}}}return e=t.isTransposed?{height:a+2*i}:{width:o+2*i},{type:"rect",startState:{x:n.x-i,y:r.y-i,width:t.isTransposed?o+2*i:0,height:t.isTransposed?0:a+2*i},endState:e,attrs:{x:n.x-i,y:r.y-i,width:o+2*i,height:a+2*i}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerSymbols=void 0,e.MarkerSymbols={hexagon:function(t,e,i){var n=i/2*Math.sqrt(3);return[["M",t,e-i],["L",t+n,e-i/2],["L",t+n,e+i/2],["L",t,e+i],["L",t-n,e+i/2],["L",t-n,e-i/2],["Z"]]},bowtie:function(t,e,i){var n=i-1.5;return[["M",t-i,e-n],["L",t+i,e+n],["L",t+i,e-n],["L",t-i,e+n],["Z"]]},cross:function(t,e,i){return[["M",t-i,e-i],["L",t+i,e+i],["M",t+i,e-i],["L",t-i,e+i]]},tick:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},plus:function(t,e,i){return[["M",t-i,e],["L",t+i,e],["M",t,e-i],["L",t,e+i]]},hyphen:function(t,e,i){return[["M",t-i,e],["L",t+i,e]]},line:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScaleByField=e.isInRecords=e.getSiblingPoint=e.getSilbings=e.isInBox=e.getSpline=e.distance=e.getComponents=e.getElementsByPath=e.getIntersectElements=e.intersectRect=e.getElementValue=e.getElementsByState=e.getElementsByField=e.getElements=e.getSiblingMaskElements=e.getMaskedElements=e.isMask=e.isSlider=e.isList=e.isElementChange=e.getDelegationObject=e.getCurrentElement=void 0;var n=i(2),o=i(0),a=i(228),s=i(132),l=n.__importDefault(i(114));function u(t,e){var i=t.event.target.getCanvasBBox();return i.width>=e||i.height>=e?i:null}function c(t){var e=t.geometries,i=[];return o.each(e,function(t){var e=t.elements;i=i.concat(e)}),t.views&&t.views.length&&o.each(t.views,function(t){i=i.concat(c(t))}),i}function r(t,e){var i=t.getModel().data;return o.isArray(i)?i[0][e]:i[e]}function h(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function p(t,i){var e=c(t),n=[];return o.each(e,function(t){var e=t.shape.getCanvasBBox();h(i,e)&&n.push(t)}),n}function f(t){var n=[];return o.each(t,function(t){if("A"!==t[0])for(var e=1;e<t.length;e+=2)n.push([t[e],t[e+1]]);else{var i=t.length;n.push([t[i-2],t[i-1]])}}),n}function d(t,e){var i=c(t),r=f(e);return i.filter(function(t){var e,i,n=t.shape;return i="path"===n.get("type")?f(n.attr("path")):(e=n.getCanvasBBox(),s.toPoints(e)),l.default(r,i)})}function g(t,e,i){var n,r=(n=i,t.getCoordinate().invert(n));return e.getCoordinate().convert(r)}e.getCurrentElement=function(t){var e,i=t.event.target;return i&&(e=i.get("element")),e},e.getDelegationObject=function(t){var e,i=t.event.target;return i&&(e=i.get("delegateObject")),e},e.isElementChange=function(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))},e.isList=function(t){return t&&t.component&&t.component.isList()},e.isSlider=function(t){return t&&t.component&&t.component.isSlider()},e.isMask=function(t){var e=t.event.target;return e&&"mask"===e.get("name")},e.getMaskedElements=function(t,e){if("path"===t.event.target.get("type")){var i=(n=e,r=t.event.target,(o=r.getCanvasBBox()).width>=n||o.height>=n?r.attr("path"):null);if(!i)return;return d(t.view,i)}var n,r,o,a=u(t,e);return a?p(t.view,a):null},e.getSiblingMaskElements=function(t,e,i){var n=u(t,i);if(!n)return null;var r=t.view,o=g(r,e,{x:n.x,y:n.y}),a=g(r,e,{x:n.maxX,y:n.maxY});return p(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})},e.getElements=c,e.getElementsByField=function(t,e,i){return c(t).filter(function(t){return r(t,e)===i})},e.getElementsByState=function(t,i){var e=t.geometries,n=[];return o.each(e,function(t){var e=t.getElementsBy(function(t){return t.hasState(i)});n=n.concat(e)}),n},e.getElementValue=r,e.intersectRect=h,e.getIntersectElements=p,e.getElementsByPath=d,e.getComponents=function(t){return t.getComponents().map(function(t){return t.component})},e.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},e.getSpline=function(t,e){if(t.length<=2)return a.getLinePath(t,!1);var i=t[0],n=[];o.each(t,function(t){n.push(t.x),n.push(t.y)});var r=a.catmullRom2bezier(n,e,null);return r.unshift(["M",i.x,i.y]),r},e.isInBox=function(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y},e.getSilbings=function(e){var t=e.parent,i=null;return t&&(i=t.views.filter(function(t){return t!==e})),i},e.getSiblingPoint=g,e.isInRecords=function(t,e,i,n){var r=!1;return o.each(t,function(t){if(t[i]===e[i]&&t[n]===e[n])return!(r=!0)}),r},e.getScaleByField=function e(t,i){var n=t.getScaleByField(i);return!n&&t.views&&o.each(t.views,function(t){if(n=e(t,i))return!1}),n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toPoints=e.getRegionBBox=e.BBox=void 0;var n=i(0),r=i(52),o=(a.fromRange=function(t,e,i,n){return new a(t,e,i-t,n-e)},Object.defineProperty(a.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return n.each(t,function(t){i.x=Math.min(t.x,i.x),i.y=Math.min(t.y,i.y),i.width=Math.max(t.maxX,i.maxX)-i.x,i.height=Math.max(t.maxY,i.maxY)-i.y}),i},a.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.clone();return n.each(t,function(t){i.x=Math.max(t.x,i.x),i.y=Math.max(t.y,i.y),i.width=Math.min(t.maxX,i.maxX)-i.x,i.height=Math.min(t.maxY,i.maxY)-i.y}),i},a.prototype.cut=function(t,e){var i=t.width,n=t.height;switch(e){case r.DIRECTION.TOP:case r.DIRECTION.TOP_LEFT:case r.DIRECTION.TOP_RIGHT:return a.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case r.DIRECTION.RIGHT:case r.DIRECTION.RIGHT_TOP:case r.DIRECTION.RIGHT_BOTTOM:return a.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case r.DIRECTION.BOTTOM:case r.DIRECTION.BOTTOM_LEFT:case r.DIRECTION.BOTTOM_RIGHT:return a.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case r.DIRECTION.LEFT:case r.DIRECTION.LEFT_TOP:case r.DIRECTION.LEFT_BOTTOM:return a.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},a.prototype.shrink=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return new a(this.x+r,this.y+e,this.width-r-i,this.height-e-n)},a.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},a.prototype.size=function(){return this.width*this.height},a);function a(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.height=n,this.width=i}e.BBox=o,e.getRegionBBox=function(t,e){var i=e.start,n=e.end;return new o(t.x+t.width*i.x,t.y+t.height*i.y,t.width*Math.abs(n.x-i.x),t.height*Math.abs(n.y-i.y))},e.toPoints=function(t){return[[t.minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTextPoint=e.toPx=e.updateClip=e.getBBoxWithClip=e.mergeBBox=e.intersectBBox=e.near=e.wait=e.distance=e.getCirclePoint=e.getValueByPercent=e.createBBox=e.pointsToBBox=e.regionToBBox=e.hasClass=e.clearDom=e.formatPadding=void 0;var o=i(0);function a(t,e,i,n){return{x:t,y:e,width:i,height:n,minX:t,minY:e,maxX:t+i,maxY:e+n}}function s(t,e,i){return(1-i)*t+e*i}function l(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function u(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY);return a(i,n,Math.min(t.maxX,e.maxX)-i,Math.min(t.maxY,e.maxY)-n)}e.formatPadding=function(t){var e=0,i=0,n=0,r=0;return o.isNumber(t)?e=i=n=r=t:o.isArray(t)&&(e=t[0],n=o.isNil(t[1])?t[0]:t[1],r=o.isNil(t[2])?t[0]:t[2],i=o.isNil(t[3])?n:t[3]),[e,n,r,i]},e.clearDom=function(t){for(var e=t.childNodes,i=e.length-1;0<=i;i--)t.removeChild(e[i])},e.hasClass=function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.regionToBBox=function(t){var e=t.start,i=t.end,n=Math.min(e.x,i.x),r=Math.min(e.y,i.y),o=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r}},e.pointsToBBox=function(t){var e=t.map(function(t){return t.x}),i=t.map(function(t){return t.y}),n=Math.min.apply(Math,e),r=Math.min.apply(Math,i),o=Math.max.apply(Math,e),a=Math.max.apply(Math,i);return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:a,width:o-n,height:a-r}},e.createBBox=a,e.getValueByPercent=s,e.getCirclePoint=function(t,e,i){return{x:t.x+Math.cos(i)*e,y:t.y+Math.sin(i)*e}},e.distance=l,e.wait=function(e){return new Promise(function(t){setTimeout(t,e)})},e.near=function(t,e){return[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<Math.pow(Number.EPSILON,.5)},e.intersectBBox=u,e.mergeBBox=function(t,e){var i=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY);return a(i,n,Math.max(t.maxX,e.maxX)-i,Math.max(t.maxY,e.maxY)-n)},e.getBBoxWithClip=function c(t){var h,p,f,d,e,i=t.getClip(),n=i&&i.getBBox(),r=t.isGroup()?(f=h=1/0,d=p=-1/0,0<(e=t.getChildren()).length?o.each(e,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=c(t),i=t.applyToMatrix([e.minX,e.minY,1]),n=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(i[0],n[0],r[0],o[0]),s=Math.max(i[0],n[0],r[0],o[0]),l=Math.min(i[1],n[1],r[1],o[1]),u=Math.max(i[1],n[1],r[1],o[1]);a<h&&(h=a),p<s&&(p=s),l<f&&(f=l),d<u&&(d=u)}}):d=f=p=h=0,a(h,f,p-h,d-f)):t.getBBox();return n?u(r,n):r},e.updateClip=function(t,e){var i,n;(t.getClip()||e.getClip())&&((i=e.getClip())?(n={type:i.get("type"),attrs:i.attr()},t.setClip(n)):t.setClip(null))},e.toPx=function(t){return t+"px"},e.getTextPoint=function(t,e,i,n){var r=n/l(t,e),o=0;return"start"===i?o=0-r:"end"===i&&(o=1+r),{x:s(t.x,e.x,o),y:s(t.y,e.y,o)}}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});var r=i(236),o=i(32);e.default=((n={})[""+o.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},n[""+o.TITLE_CLASS]={marginBottom:"4px"},n[""+o.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},n[""+o.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},n[""+o.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},n[""+o.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},n[""+o.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},n[""+o.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timeIntervals=void 0,i(8);e.timeIntervals={second:{value:1e3,format:"HH:mm:ss"},miniute:{value:6e4,format:"HH:mm"},hour:{value:36e5,format:"HH"},day:{value:864e5,format:"YYYY-MM-DD"},week:{value:6048e5,format:"YYYY-MM-DD"},month:{value:2592e6,format:"YYYY-MM"},year:{value:31536e6,format:"YYYY"}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),l=i(38),o=n.__importDefault(i(13)),a=(s.prototype.getBBox=function(){var i=this;if(this.shape){var t=this.shape.getBBox();if(0===this.index)return o.default.fromBBoxObject(t);var n=this.plot.theme.description.padding;return r.isArray(n)&&r.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.plot.options.legend.position))}),new o.default(t.maxX,t.minY,t.width,t.height)}return null},s.prototype.clear=function(){this.shape&&this.shape.attr("text","")},s.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},s.prototype.init=function(){var t=this.textWrapper(),e=this.getPosition(),i=e.x,n=e.y;this.shape=this.container.addShape("text",{attrs:r.mix({x:i,y:n,text:t},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},s.prototype.getPosition=function(){return"left"===this.alignTo?{x:this.leftMargin,y:this.topMargin}:"middle"===this.alignTo?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},s.prototype.getTextAlign=function(){return"left"===this.alignTo?"left":"middle"===this.alignTo?"center":"right"},s.prototype.textWrapper=function(){var a=this.wrapperWidth,t=this.style,e=this.text,s=this.container.addShape("text",{attrs:n.__assign({text:"",x:0,y:0},t)}),i=e.split("\n").map(function(t){for(var e="",i=t.split(""),n=[],r=0;r<i.length;r++){var o=i[r];if(s.attr("text",e+=o),s.getBBox().width-1>a){if(0===r)break;n.push(r),e=""}}return l.breakText(i,n)});return s.remove(),i.join("\n")},s);function s(t){this.position="top",this.destroyed=!1,r.assign(this,t),this.init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSuffixFormatter=e.getPrecisionFormatter=e.getNoopFormatter=e.combineFormatter=void 0;var n=i(0);e.combineFormatter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,i,n){return e.reduce(function(t,e){return e(t,i,n)},t)}},e.getNoopFormatter=function(){return function(t){return t}},e.getPrecisionFormatter=function(i){return function(t){var e=Number(t);return isNaN(e)||n.isNil(i)?t:e.toFixed(i)}},e.getSuffixFormatter=function(e){return function(t){return n.isNil(e)?t:t+" "+e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(22)),a=i(0),s=(n=o.default,r.__extends(l,n),l.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},l.prototype.getState=function(t){return this._states[t]},l.prototype.getAllStates=function(){return this._states},l.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},l.prototype._onUpdate=function(){var n=this,r=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){a.each(r,function(t,e){var i=r[e];n._states[e]&&n._states[e]===t||(n._states[e]=t,n._triggerEvent(e,i))}),n._stateStack={}},16)},l.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},l);function l(){var t=n.call(this)||this;return t._states={},t._stateStack={},t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDataByScaleRange=void 0;var u=i(0);e.getDataByScaleRange=function(t,e,i,n,r){var o=n[0],a=n[1];void 0===r&&(r=!1);var s=u.groupBy(i,t),l=r?e.slice(e.length-a,e.length-o):e.slice(o,a);return u.flatten(u.map(l,function(t){return s[t]||[]}))}},function(t,u,e){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.getEllipsisText=u.measureTextWidth=void 0;var i=e(1),c=e(0),s=document.createElement("canvas").getContext("2d");u.measureTextWidth=c.memoize(function(t,e){void 0===e&&(e={});var i=e.fontSize,n=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return s.font=[o,a,r,i+"px",n].join(" "),s.measureText(c.isString(t)?t:"").width},function(t,e){return e?i.__spreadArrays([t],c.values(e)).join(""):t}),u.getEllipsisText=function(t,e,i){var n,r,o=u.measureTextWidth("...",i),a=c.isString(t)?t:c.toString(t),s=e,l=[];if(u.measureTextWidth(t,i)<=e)return t;for(;n=a.substr(0,16),!((r=u.measureTextWidth(n,i))+o>s&&s<r);)if(l.push(n),s-=r,!(a=a.substr(16)))return l.join("");for(;n=a.substr(0,1),!((r=u.measureTextWidth(n,i))+o>s);)if(l.push(n),s-=r,!(a=a.substr(1)))return l.join("");return l.join("")+"..."}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobalTheme=e.registerGlobalTheme=void 0;var n=i(0),r=i(142),o=i(254),a={default:r.DEFAULT_GLOBAL_THEME,dark:o.DEFAULT_DARK_THEME};function s(t){return void 0===t&&(t="default"),a[t.toLowerCase()]||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",t),r.DEFAULT_GLOBAL_THEME)}e.registerGlobalTheme=function(t,e){var i=s();a[t.toLowerCase()]=n.deepMix({},i,e)},e.getGlobalTheme=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_GLOBAL_THEME=e.BOTTOM_BLEEDING=e.TOP_BLEEDING=e.DESCRIPTION_BOTTOM_MARGIN=e.COLOR_PLATE_20=e.COLOR_PLATE_10=void 0,e.COLOR_PLATE_10=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],e.COLOR_PLATE_20=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"];var n=i(0);e.DESCRIPTION_BOTTOM_MARGIN=function(t){return t&&"top"===t.split("-")[0]?12:24},e.TOP_BLEEDING=function(t){var e=t.title&&t.title.visible,i=t.description&&t.description.visible;return e||i?12:24},e.BOTTOM_BLEEDING=function(t){return n.some(t.interactions||[],function(t){return("slider"===t.type||"scrollbar"===t.type)&&"vertical"!==(t.cfg&&t.cfg.type)})?8:24},e.DEFAULT_GLOBAL_THEME={width:400,height:400,bleeding:[e.TOP_BLEEDING,24,e.BOTTOM_BLEEDING,24],padding:"auto",defaultColor:"#5B8FF9",colors:e.COLOR_PLATE_10,colors_20:e.COLOR_PLATE_20,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,e.DESCRIPTION_BOTTOM_MARGIN,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTheme=e.registerTheme=e.convertThemeToG2Theme=void 0;var s=i(0),n={};function r(t,e){var r={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},o={};"area"===t&&(r={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var a={};return s.each(e,function(t,e){var i,n;s.has(r,e)?(n=r[e],s.each(t,function(t,e){s.set(a,n+"."+["normal"===e?"default":"disable"===e?"inactive":e]+".style",t)})):o=s.deepMix({},o,((i={})[e]=t,i))}),s.isEmpty(a)||(o=s.deepMix({},o,{geometries:a})),o}e.convertThemeToG2Theme=r,e.registerTheme=function(t,e){n[t.toLowerCase()]=r(t,e)},e.getTheme=function(t){return n[t.toLowerCase()]||{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(56)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},s.prototype.parseColor=function(){var t,e=this.plot.options,i={},n=this._getColorMappingField();n&&(i.fields=n),o.has(e,"color")&&(t=e.color,o.isString(t)?i.values=[t]:o.isFunction(t)?i.callback=t:o.isArray(t)&&(n?i.values=t:0<t.length&&(i.values=[t[0]]))),this.config.color=i},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,i={};o.isFunction(e)&&t.seriesField?(i.fields=[t.seriesField],i.callback=e):i.cfg=e,this.config.style=i},s.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=["stackField","seriesField"];e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(8),l=i(0),u=i(24),o=i(90),a=n.__importDefault(i(91)),c=i(11);r.registerShape("line","miniLine",{draw:function(t,e){for(var i=u.lineSimplification(t.points),n=[],r=0;r<i.length;r++){var o=i[r],a=0===r?"M":"L";n.push([a,o.x,o.y])}var s=l.deepMix({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:l.mix({path:n,stroke:t.color||c.getGlobalTheme().defaultColor,lineWidth:t.size||2},s)})}}),r.registerShape("line","miniLineSmooth",{draw:function(t,e){var i=u.lineSimplification(t.points),n=o.getSplinePath(i,!1,[[0,0],[1,1]]);return e.addShape("path",{attrs:l.mix({path:n,stroke:t.color||c.getGlobalTheme().defaultColor,lineWidth:t.size||2},t.style)})}});var s,h=(s=a.default,n.__extends(p,s),p.prototype.init=function(){s.prototype.init.call(this),this.parseShape()},p.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},p);function p(){return null!==s&&s.apply(this,arguments)||this}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=i(0),r=n.__importStar(i(24)),o=(s.prototype.measure=function(t){return a.deepMix({},r.bboxOnRotate(t),{shape:t})},s.prototype.measureNodes=function(){var n=this,r=[],o=[];a.each(this.shapes,function(t,e){var i=a.deepMix({},n.nodes[e],n.measure(t));0!==i.width&&0!==i.height&&(r.push(i),o.push(t))}),this.nodes=r,this.shapes=o},s.prototype._parserNodes=function(){var i=this;a.each(this.shapes,function(t){var e=i.measure(t);i.nodes.push(e)})},s);function s(t){this.type="shape",this.shapes=t.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=a.deepMix([],this.nodes)}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(148),a=i(149),o=(s.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},s.prototype._iteration=function(){var t;"shape"===(this.nodes.type,(t=this.nodes).type)&&t.measureNodes(),this.rules&&this._applyRules(),"shape"===t.type&&t.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},s.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},s.prototype._run=function(){for(var t=this._constraintsTest();!(t||this.iterationIndex>this.iterationTime-1);)this._iteration(),t=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},s.prototype._constraintsTest=function(){var t=r.constraintsLib[this.currentConstraint.name],e=this.currentConstraint.option;return"compare"===t.usage?this._constraintCompare(t,e):this._constraintAssignment(t,e)},s.prototype._constraintCompare=function(t,e){var i=t.type,n=t.expression,r=this.nodes.nodes;return"chain"===i?this._chainConstraintCompare(n,r,e):"padding"===i?this._paddingConstraintCompare(n,this.region,r,e):"group"===i?this._groupConstraintCompare(n,r,e):void 0},s.prototype._chainConstraintCompare=function(t,e,i){for(var n=0;n<e.length-1;n++)if(!1===t(e[n],e[n+1],i))return!1;return!0},s.prototype._paddingConstraintCompare=function(t,e,i,n){if(e)for(var r=0,o=i;r<o.length;r++)if(!1===t(o[r],e,n))return!1;return!0},s.prototype._groupConstraintCompare=function(t,e,i){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<e.length;o++)if(o!==n&&!1===t(r,e[o],i))return!1;return!0},s.prototype._constraintAssignment=function(t,e){var i=t.type,n=t.expression,r=this.nodes.nodes;return"chain"===i?this._chainConstraintAssign():"padding"===i?this._paddingConstraintAssign(n,this.region,r,e):void 0},s.prototype._chainConstraintAssign=function(){return!0},s.prototype._paddingConstraintAssign=function(t,e,i,n){if(e)for(var r=0,o=i;r<o.length;r++){var a=o[r],s=t(a,e,n);a.value=s}return!0},s.prototype._applyRules=function(){for(var t=this.rules[this.currentConstraint.name][this.iterationIndex],e=a.rulesLib[t.name],i=t.option?t.option:{},n=this.nodes.nodes,r=0;r<n.length;r++){var o=n[r];this._applyRule(o.shape,e,i,r)}},s.prototype._applyRule=function(t,e,i,n){e(t,i,n,{nodes:this.nodes,region:this.region,plot:this.plot})},s);function s(t){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,n.assign(this,t),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}e.default=o},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerResponsiveConstraint=i.constraintsLib=void 0;var n=e(1),r=n.__importDefault(e(275)),o=n.__importDefault(e(276)),a=n.__importDefault(e(277)),s=n.__importDefault(e(278)),l=n.__importDefault(e(279)),u=n.__importDefault(e(280)),c=n.__importDefault(e(281));i.constraintsLib={elementDist:a.default,elementDistVertical:s.default,elementCollision:o.default,elementWidth:l.default,columnWidth:r.default,ringThickness:c.default,minRingThickness:u.default},i.registerResponsiveConstraint=function(t,e){i.constraintsLib[t]=e}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerResponsiveRule=i.rulesLib=void 0;var n=e(1),r=n.__importDefault(e(150)),o=n.__importDefault(e(151)),a=n.__importDefault(e(152)),s=n.__importDefault(e(282)),l=n.__importDefault(e(283)),u=n.__importDefault(e(153)),c=n.__importDefault(e(284)),h=n.__importDefault(e(285)),p=n.__importDefault(e(286)),f=n.__importDefault(e(287)),d=n.__importDefault(e(154)),g=n.__importDefault(e(43)),y=n.__importDefault(e(288)),v=n.__importDefault(e(289));i.rulesLib={textWrapper:v.default,textRotation:y.default,textAbbreviate:d.default,textHide:g.default,digitsAbbreviate:a.default,datetimeStringAbbrevaite:o.default,robustAbbrevaite:f.default,nodesResampling:u.default,nodesResamplingByAbbrevate:c.default,nodesResamplingByChange:h.default,nodesResamplingByState:p.default,nodeJitter:s.default,nodeJitterUpward:l.default,clearOverlapping:r.default},i.registerResponsiveRule=function(t,e){i.rulesLib[t]=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeOverlap=void 0;var n=i(1),c=i(0),h=n.__importDefault(i(43));function p(t,e){return!(t.bottom<e.top||e.bottom<t.top||t.right<e.left||e.right<t.left)}e.default=function(t,e,i,n){var r=n.nodes.nodes,o=r[i],a=[];if(!o.shape.get("blank"))for(var s=0;s<r.length;s++){var l=r[s],u=l.shape;s===i||u.get("blank")||p(o,l)&&a.push(l)}0<a.length&&(a.push(o),a.sort(function(t,e){return e.top-t.top}),c.each(a,function(t,e){var i;0<e&&(i=t.shape,h.default(i),i.set("blank",!0))}))},e.isNodeOverlap=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTime=void 0;var n=i(1),o=i(0),x=n.__importDefault(i(36));function b(t,e){var i,n=Math.abs(t-e),r={minute:[6e4,36e5],hour:[36e5,864e5],day:[864e5,26784e5],month:[26784e5,31536e6],year:[31536e6,1/0]};return o.each(r,function(t,e){n>=t[0]&&n<t[1]&&(i=e)}),i}function _(t,e){return"year"===e?t.getFullYear():"month"===e?t.getMonth()+1:"day"===e?t.getDay()+1:"hour"===e?t.getHours()+1:"minute"===e?t.getMinutes()+1:void 0}e.default=function(t,e,i,n){var r,o,a,s,l=n.nodes.nodes,u=i===l.length-1?l[i-1].shape.get("delegateObject").item.name:l[i+1].shape.get("delegateObject").item.name,c=new Date(u),h=t.get("delegateObject").item.name,p=new Date(h),f=l[0].shape.get("delegateObject").item.name,d=new Date(f),g=l[l.length-1].shape.get("delegateObject").item.name,y=b(d,new Date(g)),v=b(p,c);if(y!==v){if(0!==i){var m=l[i-1].shape.get("delegateObject").item.name;if(o=y,a=p,s=new Date(m),_(a,o)===_(s,o))return r=function(t){for(var e=["year","month","day","hour","minute"],i=["YYYY","MM","DD","HH","MM"],n=e.indexOf(y)+1,r=e.indexOf(t),o="",a=n;a<=r;a++)o+=i[a],a<r&&(o+="-");return o}(v),void t.attr("text",x.default.format(p,r))}}else 0!==i&&i!==l.length-1&&(r=["YYYY","MM","DD","HH","MM"][["year","month","day","hour","minute"].indexOf(y)],t.attr("text",x.default.format(p,r)))},e.isTime=function(t){return/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/.test(t)||/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/.test(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(0),d=i(24),g={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function y(t,e){var i,n,r,o;return"auto"===t.unit?(n=["k","m","b","t"][(i=Math.floor(Math.log(e)/Math.log(1e3)))-1],r=(e/Math.pow(1e3,i)).toFixed(t.decimal)):t.unit&&(o=g[t.unit],n=t.unit,r=(e/o.number).toFixed(t.decimal)),{num:r,unitname:n}}e.default=function(t,e,i,n){var r,o,a,s,l,u,c,h,p;f.has(n,"node")&&f.has(n.node,"node")&&(r=n.nodes.nodes,0!==(o=parseFloat(t.get("origin").text))&&(e.formatter?t.attr("text",e.formatter(o)):(e.unit?(c=(a=y(e,o)).num,s=a.unitname):(p=[],f.each(r,function(t){var e=parseFloat(t.shape.get("origin").text);p.push(e)}),l=p,h=d.getMedian(l),s=["k","m","b","t"][Math.floor(Math.log(h)/Math.log(1e3))-1],u=g[s].number,c=y({unit:s,decimal:function(t,e){var i=Math.floor(Math.log10(e));if(!(e<=t)){var n=Math.floor(Math.log10(t));return Math.abs(n-i)}var r=t%e;if(0<r){var o=Math.floor(Math.log10(r));return Math.abs(o-i)}return 0}(function(t){if(2<=t.length){var e=parseFloat(t[0].shape.get("origin").text),i=parseFloat(t[1].shape.get("origin").text);return Math.abs(e-i)}return 0}(r),u)},o).num),t.attr("text",c+s))))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isKeep=void 0;var n=i(1),a=i(0),s=n.__importDefault(i(43));function l(t,e,i){var n=[];a.each(t,function(t){"start"===t?n.push(0===e):"end"===t?n.push(e===i.length-1):a.isNumber(t)&&n.push(e===t)});for(var r=0,o=n;r<o.length;r++)if(!0===o[r])return!0;return!1}e.default=function(t,e,i,n){var r,o=n.nodes.nodes,a=o.length%2!=0;l(e.keep,i,o)||(r=i%2==0,(!a&&r||a&&!r)&&s.default(t))},e.isKeep=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i,n=e.abbreviateBy?e.abbreviateBy:"end",r=t.attr("text");"end"===n&&(i=r[0]+"..."),"start"===n&&(i="..."+r[r.length-1]),"middle"===n&&(i=r[0]+"..."+r[r.length-1]),t.resetMatrix(),t.attr({text:i,textAlign:"center",textBaseline:"top"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=(o.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},o);function o(t){n.assign(this,t),this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=r.__importDefault(i(146)),s=r.__importDefault(i(147)),o=r.__importDefault(i(155)),l=i(0),u=(n=o.default,r.__extends(c,n),c.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},c.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];l.each(t,function(t){e.push(t.get("children")[0])});var i=new a.default({shapes:e}),n=this.responsiveTheme.label[this.type],r=n.constraints,o=n.rules;new s.default({nodes:i,constraints:r,rules:o,plot:this.plot,region:this.plot.view.coordinateBBox})},c.prototype.getType=function(){return null},c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),p=i(0),o=i(20),a=r.__importDefault(i(92)),f=i(8),d=i(25),g=r.__importDefault(i(13)),s=(n=a.default,r.__extends(l,n),l.prototype.layoutLabels=function(r,t){var e,o=this,a=[],s=g.default.fromBBoxObject(this.getCoordinateBBox()),i=r.getXYFields(),l=i[0],u=i[1],c=p.groupBy(t,function(t){return t.get(f.ORIGIN)[f.FIELD_ORIGIN][l]}),h=null===(e=t[0])||void 0===e?void 0:e.get("offset");p.each(p.keys(c).reverse(),function(t){for(var e=o.sortLabels(r,c[t]);e.length;){var i,n=e.shift();d.checkOriginEqual(n,a,function(t,e){return t._origin[l]===e._origin[l]&&t._origin[u]===e._origin[u]})?n.set("visible",!1):(d.moveInPanel(n,s),i=void 0,d.checkShapeOverlap(n,a)&&(n.attr("y",n.attr("y")+2*h),d.moveInPanel(n,s),i=d.checkShapeOverlap(n,a)),i?n.set("visible",!1):a.push(n))}})},l.prototype.sortLabels=function(t,e){var i=t.getXYFields()[1],n=[];return e.sort(function(t,e){return e.get(f.ORIGIN)[f.FIELD_ORIGIN][i]-t.get(f.ORIGIN)[f.FIELD_ORIGIN][i]}),0<e.length&&n.push(e.shift()),0<e.length&&n.push(e.pop()),n.push.apply(n,e),n},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,o.registerLabelComponent("point-auto",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(0),n=(r.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var l=this,t=this.getGeometry().elements;u.each(t,function(t){var e=l.getShapeInfo(t.shape),i=l.options,n=i.style,r=i.offsetX,o=i.offsetY,a=l.options.formatter,s=a?a(e.name):e.name;l.container.addShape("text",{attrs:u.deepMix({},{x:e.x+r,y:e.y+o,text:s,fill:e.color,textAlign:"left",textBaseline:"middle"},n),name:"label"})})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=u.clone(t.label.style);return delete e.fill,{offsetX:8,offsetY:0,style:e}},r.prototype.getGeometry=function(){return u.find(this.view.geometries,function(t){return"line"===t.type})},r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,i=e[e.length-1],n=t.attr("stroke"),r=this.plot.options.seriesField,o=t.get("origin").data[0][r];return{x:i.x,y:i.y,color:n,name:o}},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=u.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(1),r=i(63),o=i(0);function l(t,e){var i=[],n=t.get("origin").points;return o.each(n,function(t){i.push(e.convertPoint(t))}),i}var n=(a.getDefaultOptions=function(t){var e=t.transpose;return{visible:!0,size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}},animation:o.deepMix({},r.DEFAULT_ANIMATE_CFG)}},a.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},a.prototype.draw=function(){var i,n,r,o,a=this,t=this.transpose,s=this.view.getScaleByField(this.field).values,e=this.view.geometries[0].getShapes();t?e.forEach(function(t,e){n=s[e],0<e++&&a._drawTag(r,o,t,n),o=n,r=t}):e.forEach(function(t,e){o=s[e],0<e++&&a._drawTag(t,o,i,n),n=o,i=t})},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove()},a.prototype._drawTag=function(t,e,i,n){var r=this.transpose,o=this.view.geometries[0].coordinate,a=l(t,o)[r?3:0],s=l(i,o)[r?0:3];this._drawTagArrow(a,s),this._drawTagValue(a,e,s,n)},a.prototype._drawTagArrow=function(t,e){var i=this.spacing,n=this.size,r=this.offset,o=this.animation,a=this.transpose,s=this.arrow.headSize,l=e.y-t.y,u=e.x-t.x,c=a?(u-s)/2<i?(i=Math.max(1,(u-s)/2),[[t.x+i,t.y-r],[t.x+i,t.y-r-n],[e.x-i,e.y-r-n/2]]):[[t.x+i,t.y-r],[t.x+i,t.y-r-n],[e.x-i-s,e.y-r-n],[e.x-i,e.y-r-n/2],[e.x-i-s,e.y-r]]:(l-s)/2<i?(i=Math.max(1,(l-s)/2),[[t.x+r,t.y+i],[t.x+r+n,t.y+i],[e.x+r+n/2,e.y-i]]):[[t.x+r,t.y+i],[t.x+r+n,t.y+i],[e.x+r+n,e.y-i-s],[e.x+r+n/2,e.y-i],[e.x+r,e.y-i-s]],h=this.container.addShape("polygon",{name:"arrow",attrs:g.__assign(g.__assign({},this.arrow.style),{points:c})});!1!==o&&this._fadeInTagShape(h)},a.prototype._drawTagValue=function(t,e,i,n){var r,o,a,s,l,u=this.size,c=this.offset,h=this.animation,p=this.transpose,f=this.value.formatter(e,n),d=this.container.addShape("text",{name:"value",attrs:g.__assign(g.__assign({},this.value.style),{text:f,x:p?(t.x+i.x)/2:t.x+c+u/2,y:p?t.y-c-u/2:(t.y+i.y)/2,textAlign:"center",textBaseline:"middle"})});!p||(r=i.x-t.x)<(o=d.getBBox().width)&&(a=o/f.length,s=Math.max(1,Math.ceil(r/a)-1),l=f.slice(0,s)+"...",d.attr("text",l)),!1!==h&&this._fadeInTagShape(d)},a.prototype._fadeInTagShape=function(t){var e=this.animation,i=t.attr("opacity");t.attr("opacity",0);var n=o.get(e,"appear",r.DEFAULT_ANIMATE_CFG.appear).duration;t.animate({opacity:i},n)},a);function a(t){o.deepMix(this,this.constructor.getDefaultOptions(t),t),this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),h=i(0),o=i(20),p=i(8),a=r.__importDefault(i(94)),f=i(25),d=r.__importDefault(i(13)),g=i(28),s=(n=a.default,r.__extends(l,n),l.prototype.getPosition=function(t){var e=this.getDefaultOffset(),i=this.getValue(t),n=this.getElementShapeBBox(t),r=n.minX,o=n.maxX,a=n.minY,s=n.height,l=this.options;return{x:(0<i?o:r)+e*(i<0?-1:1)+l.offsetX,y:a+s/2+l.offsetY}},l.prototype.getTextAlign=function(t){return 0<this.getValue(t)?"left":"right"},l.prototype.getTextFill=function(t){return this.options.style.fill},l.prototype.getTextStroke=function(t){},l.prototype.adjustLabel=function(t,e){},l.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},l.prototype.shouldInShapeLabels=function(t){var n=this;return h.every(t,function(t){var e=t.getBBox(),i=t.get("element");return n.getElementShapeBBox(i).height>=e.height})},l.prototype.inShapeLabels=function(t,e){var a=this.getCoordinateBBox(),s=t.getXYFields()[0],i=this.options,l=i.darkStyle,u=i.lightStyle,c=h.groupBy(e,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][s]});h.each(e,function(e){var t=c[e.get(p.ORIGIN)[p.FIELD_ORIGIN][s]]||[],i=e.get("element").shape,n=g.isContrastColorWhite(i.attr("fill")),r=d.default.fromBBoxObject(i.getBBox()),o=d.default.fromBBoxObject(e.getBBox());f.getOverlapArea(a,r)<=0&&e.set("visible",!1),o.width>r.width?h.findIndex(t,function(t){return t===e})!==t.length-1&&e.set("visible",!1):(e.attr({x:r.x+r.width/2,textAlign:"center"}),o.width>r.width||o.height>r.height?e.attr({stroke:null==u?void 0:u.stroke}):e.attr({fill:n?null==u?void 0:u.fill:null==l?void 0:l.fill,fillOpacity:n?null==u?void 0:u.fillOpacity:null==l?void 0:l.fillOpacity,stroke:void 0}))})},l.prototype.autoHideLabels=function(t,e){var i,n=this.getCoordinateBBox(),r=this.filterLabels(e),o=t.getXYFields()[0],a=[],s=[],l=h.groupBy(r,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][o]}),u=h.uniq(h.map(r,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][o]}));for(0<h.size(u)&&(i=u.shift(),h.each(l[i],function(t){return s.push(t)})),0<h.size(u)&&(i=u.pop(),h.each(l[i],function(t){return s.push(t)})),h.each(u.reverse(),function(t){h.each(l[t],function(t){return s.push(t)})});0<s.length;){var c=s.shift();c.get("visible")&&(f.moveInPanel(c,n),f.checkShapeOverlap(c,a)?c.set("visible",!1):a.push(c))}},l.prototype.filterLabels=function(t){var i=[],n=Math.max(Math.floor(t.length/500),1);return h.each(t,function(t,e){e%n==0?i.push(t):t.set("visible",!1)}),i},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,o.registerLabelComponent("bar-auto",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),l=i(0),r=i(6),o=n.__importDefault(i(68));i(322);var a,s=(a=o.default,n.__extends(u,a),u.getDefaultOptions=function(){return l.deepMix({},a.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},u.prototype.afterRender=function(){a.prototype.afterRender.call(this);var s=l.valuesOfKey(this.options.data,this.options.groupField);this.view.on("tooltip:change",function(t){for(var e=t.items,i=l.clone(e),n=0;n<s.length;n++)for(var r=s[n],o=0;o<i.length;o++){var a=i[o];a.name===r&&(t.items[n]=a)}})},u.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},u.prototype.scale=function(){var t={};t[this.options.groupField]={values:l.valuesOfKey(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=l.deepMix({},this.options.meta,t):this.options.meta=t,a.prototype.scale.call(this)},u.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},u.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},u);function u(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="groupedBar",t}e.default=s,r.registerPlotType("groupedBar",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=i(1),r=i(0),a=i(6),s=n.__importDefault(i(95)),l=i(96),u=(o=s.default,n.__extends(c,o),c.getDefaultOptions=function(){return r.deepMix({},o.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){return t.replace(/%/gi,"")}}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField,r=o.prototype.processData.call(this,t);return l.transformDataPercentage(r,n,[i])},c.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=r.deepMix({},this.options.meta,t),o.prototype.scale.call(this)},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.type="percentStackedBar",t}e.default=u,a.registerPlotType("percentStackedBar",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(20),a=(n=r.__importDefault(i(92)).default,r.__extends(s,n),s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("area-point",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),u=i(0),o=i(20),a=r.__importDefault(i(157)),c=i(25),h=i(24),p=i(28),s=(n=a.default,r.__extends(l,n),l.prototype.layoutLabels=function(t,e){n.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},l.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,i=this.options,a=i.darkStyle,s=i.lightStyle,n=c.getGeometryByType(e,"area"),l=c.getGeometryShapes(n).sort(function(t,e){return e.getBBox().height-t.getBBox().height});u.each(t,function(t){var e,i,n=t.getBBox(),r=h.getStrokePoints(n.x,n.y,n.width,n.height),o=u.map(l,function(e){return{area:e,matches:u.filter(r,function(t){return!!e.isHit(t[0],t[1])}).length}}).sort(function(t,e){return t.matches-e.matches});0<u.last(o).matches&&(e=u.last(o).area.attr("fill"),i=p.isContrastColorWhite(e),t.attr({fill:i?null==s?void 0:s.fill:null==a?void 0:a.fill,fillOpacity:i?s.fillOpacity:a.fillOpacity,stroke:i?null==s?void 0:s.stroke:null==a?void 0:a.stroke}))})},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,o.registerLabelComponent("area-point-auto",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_AREA_THEME=void 0;var n=i(11);e.DEFAULT_AREA_THEME={areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}},n.registerTheme("area",e.DEFAULT_AREA_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=r.__importDefault(i(98)),l=i(96),u=(n=s.default,r.__extends(c,n),c.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){return t.replace(/%/gi,"")}}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return l.transformDataPercentage(t,i,[n])},c.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=o.deepMix({},t,this.options.meta),n.prototype.scale.call(this)},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="percentStackedArea",t}e.default=u,a.registerPlotType("percentStackedArea",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),h=i(0),o=i(20),p=i(8),a=r.__importDefault(i(57)),f=i(25),d=r.__importDefault(i(13)),g=i(28),s=(n=a.default,r.__extends(l,n),l.prototype.getPosition=function(t){var e=this.getDefaultOffset(),i=this.getValue(t),n=this.getElementShapeBBox(t),r=n.minX,o=n.minY,a=n.maxY,s=n.width,l=this.options;return{x:r+s/2+l.offsetX,y:(0<i?o:a)+e*(0<i?-1:1)+l.offsetY}},l.prototype.getTextFill=function(t){return this.options.style.fill},l.prototype.getTextStroke=function(t){},l.prototype.adjustLabel=function(t,e){},l.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},l.prototype.shouldInShapeLabels=function(t){var n=this;return h.every(t,function(t){var e=t.getBBox(),i=t.get("element");return n.getElementShapeBBox(i).width>=e.width})},l.prototype.inShapeLabels=function(t,e){var a=this.getCoordinateBBox(),s=t.getXYFields()[0],i=this.options,l=i.darkStyle,u=i.lightStyle,c=h.groupBy(e,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][s]});h.each(e,function(e){var t=c[e.get(p.ORIGIN)[p.FIELD_ORIGIN][s]]||[],i=e.get("element").shape,n=g.isContrastColorWhite(i.attr("fill")),r=d.default.fromBBoxObject(i.getBBox()),o=d.default.fromBBoxObject(e.getBBox());f.getOverlapArea(a,r)<=0&&e.set("visible",!1),o.height>r.height?0!==h.findIndex(t,function(t){return t===e})&&e.set("visible",!1):(e.attr({y:r.y+r.height/2,textBaseline:"middle"}),o.width>r.width||o.height>r.height?e.attr({stroke:null==u?void 0:u.stroke}):e.attr({fill:n?null==u?void 0:u.fill:null==l?void 0:l.fill,fillOpacity:n?null==u?void 0:u.fillOpacity:null==l?void 0:l.fillOpacity,stroke:void 0}))})},l.prototype.autoHideLabels=function(t,e){var i,n=this.getCoordinateBBox(),r=this.filterLabels(e),o=t.getXYFields()[0],a=[],s=[],l=h.groupBy(r,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][o]}),u=h.uniq(h.map(r,function(t){return t.get(p.ORIGIN)[p.FIELD_ORIGIN][o]}));for(0<h.size(u)&&(i=u.shift(),h.each(l[i],function(t){return s.push(t)})),0<h.size(u)&&(i=u.pop(),h.each(l[i],function(t){return s.push(t)})),h.each(u.reverse(),function(t){h.each(l[t],function(t){return s.push(t)})});0<s.length;){var c=s.shift();c.get("visible")&&(f.moveInPanel(c,n),f.checkShapeOverlap(c,a)?c.set("visible",!1):a.push(c))}},l.prototype.filterLabels=function(t){var i=[],n=Math.max(Math.floor(t.length/500),1);return h.each(t,function(t,e){e%n==0?i.push(t):t.set("visible",!1)}),i},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,o.registerLabelComponent("column-auto",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({column:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(20),a=(n=r.__importDefault(i(57)).default,r.__extends(s,n),s.prototype.adjustLabel=function(t,e){var i;this.options.adjustPosition&&(i=t.getBBox(),this.getElementShapeBBox(e).height<i.height&&t.hide())},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("stacked-column",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=r.__importDefault(i(69)),l=i(96),u=(n=s.default,r.__extends(c,n),c.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},c.prototype.processData=function(t){var e=this.options,i=e.xField,n=e.yField;return l.transformDataPercentage(t||[],i,[n])},c.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=o.deepMix({},this.options.meta,t),n.prototype.scale.call(this)},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="percentStackedColumn",t}e.default=u,a.registerPlotType("percentStackedColumn",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=n.__importStar(i(357)),a=n.__importDefault(i(15)),s=i(17),l=i(358),u=n.__importDefault(i(362)),c=i(6);i(363);var h,p={pie:"interval"},f={pie:"column"},d=(h=a.default,n.__extends(g,h),g.getDefaultOptions=function(){return r.deepMix({},h.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},g.prototype.afterRender=function(){h.prototype.afterRender.call(this);var t,e,i=this.options;i.label&&i.label.visible&&(this.labelComponent&&this.labelComponent.clear(),"spider"===(t=i.label).type?this.labelComponent=new u.default(n.__assign({view:this.view,fields:i.colorField?[i.angleField,i.colorField]:[i.angleField]},this.options.label)):(e=l.getPieLabel(t.type),this.labelComponent=new e(this,i.label)),this.labelComponent.render())},g.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},g.prototype.geometryParser=function(t,e){return"g2"===t?p[e]:f[e]},g.prototype.scale=function(){var t=this.options;h.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=r.deepMix({},this.config.scales,e),this.setConfig("scales",e)},g.prototype.processData=function(t){var i=this.options.angleField;return t.map(function(t){var e;return n.__assign(n.__assign({},t),((e={})[i]="string"==typeof t[i]?Number.parseFloat(t[i]):t[i],e))})},g.prototype.axis=function(){},g.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{plot:this,positionFields:[1,t.angleField]});e.adjust=[{type:"stack"}],this.pie=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},g.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields&&(this.pie.tooltip.fields=t.fields),t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},g.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.pie.animate=!1)},g.prototype.annotation=function(){},g.prototype.parseEvents=function(t){t?h.prototype.parseEvents.call(this,t):h.prototype.parseEvents.call(this,o)},g.prototype.label=function(){this.pie.label=!1},g);function g(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="pie",t}e.default=d,c.registerPlotType("pie",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(7),a=i(0),s=i(6),l=r.__importDefault(i(171)),u=r.__importStar(i(408)),c=r.__importDefault(i(409)),h={ring:"interval"},p={interval:"ring"},f=(n=l.default,r.__extends(d,n),d.getDefaultOptions=function(){return a.deepMix({},n.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,statistic:{visible:!0,totalLabel:"",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},d.prototype.beforeInit=function(){n.prototype.beforeInit.call(this),d.centralId++,this.statisticClass="statisticClassId"+d.centralId,this.adjustLabelDefaultOptions(),this.options.statistic.visible&&this.options.statistic.triggerOn&&(this.options.tooltip.visible=!1)},d.prototype.afterRender=function(){var t,e=this.canvas.get("container");this.statistic&&e.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible&&(t=this.canvas.get("container"),o.modifyCSS(t,{position:"relative"}),this.statistic=new c.default(r.__assign({container:t,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()),n.prototype.afterRender.call(this)},d.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),n.prototype.destroy.call(this)},d.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},d.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},d.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,u)},d.prototype.adjustLabelDefaultOptions=function(){var t,e=this.options.label;e&&"inner"===e.type&&((t=e.style||{}).textAlign||(t.textAlign="center"),e.style=t,e.offset||(e.offset=(this.options.innerRadius-1)/2*100+"%"))},d.centralId=0,d);function d(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="donut",t}e.default=f,s.registerPlotType("donut",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),l=i(0),n=i(6),r=s.__importDefault(i(15)),o=i(17),a=i(27),u=s.__importDefault(i(418)),c=s.__importDefault(i(419)),h=s.__importStar(i(174)),p=i(26);i(420);var f,d={scatter:"point"},g={point:"point"},y=(f=r.default,s.__extends(v,f),v.getDefaultOptions=function(){return l.deepMix({},f.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},v.prototype.afterRender=function(){f.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new u.default(s.__assign({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new c.default(s.__assign({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},v.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),f.prototype.destroy.call(this)},v.prototype.isValidLinearValue=function(t){return!l.isNil(t)&&!Number.isNaN(Number(t))},v.prototype.processData=function(t){var e=this,i=this.options,n=i.xField,r=i.yField,o=l.get(this.options,["xAxis","type"],"linear"),a=l.get(this.options,["yAxis","type"],"linear");return o&&a?t.filter(function(t){return!("linear"===o&&!e.isValidLinearValue(t[n])||"linear"===a&&!e.isValidLinearValue(t[r]))}).map(function(t){var e;return s.__assign(s.__assign({},t),((e={})[n]=("linear"===o?Number:String)(t[n]),e[r]=("linear"===a?Number:String)(t[r]),e))}):t},v.prototype.geometryParser=function(t,e){return"g2"===t?d[e]:g[e]},v.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},l.has(t,"xAxis")&&a.extractScale(e[t.xField],t.xAxis),e[t.yField]={},l.has(t,"yAxis")&&a.extractScale(e[t.yField],t.yAxis);var i,n=l.find(t.interactions,function(t){return"timeline"===t.type});n&&l.get(n,"cfg.key")&&(e[i=n.cfg.key]?e[i].key=!0:e[i]={key:!0}),this.setConfig("scales",e),f.prototype.scale.call(this)},v.prototype.coord=function(){},v.prototype.annotation=function(){},v.prototype.addGeometry=function(){var t,e,i,n=o.getGeom("point","circle",{plot:this});this.points=n,this.options.tooltip&&this.options.tooltip.visible&&(e=(t=this.options.tooltip).showTitle,i=t.titleField,this.extractTooltip(),this.setConfig("tooltip",s.__assign({showTitle:e,title:e?i:void 0},this.options.tooltip))),this.options.label&&this.label(),this.setConfig("geometry",n)},v.prototype.label=function(){var t,e=this.options;!1!==e.label.visible?(t=p.getComponent("label",s.__assign(s.__assign({fields:e.label.field?[e.label.field]:[e.yField]},e.label),{plot:this})),this.points&&(this.points.label=t)):this.points&&(this.points.label=!1)},v.prototype.animation=function(){f.prototype.animation.call(this),!1===this.options.animation&&(this.points.animate=!1)},v.prototype.parseEvents=function(t){f.prototype.parseEvents.call(this,t||h)},v.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},v);function v(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="scatter",t}e.default=y,n.registerPlotType("scatter",y)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GaugeShape=void 0;var p=i(1),M=i(0),n=i(35),w=i(11),C=i(38),r=(o.prototype.setOption=function(t,e){this.type=t,this.options=e,this.axis=e.axis,this.pivot=e.pivot},o.prototype.render=function(){var y=this;n.registerShape("point","gauge",{draw:function(t,e){var i,n,r;this.gauge={},this.gauge.options=y.options,this.gauge.axis=y.axis,this.gauge.pivot=y.pivot,this.gauge.type=y.type;var o=this.gauge,a=this.gauge.type,s=t.points[0],l=this.parsePoint({x:0,y:0}),u=this.parsePoint({x:s.x||0,y:1});o.center=l,o.group=e;var c=l.x-u.x,h=l.y-u.y;this.gauge.ringRadius=Math.sqrt(c*c+h*h);var p=this.getAngleRange(),f=p.starAngle,d=p.endAngle,g=s.x*(d-f)+f;switch(a){case"meterGauge":this.drawBarGauge(g),this.gauge.axis.visible&&null!==(i=this.gauge.axis.tickLine)&&void 0!==i&&i.visible&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(g),this.gauge.axis.visible&&null!==(n=this.gauge.axis.tickLine)&&void 0!==n&&n.visible&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(g),this.gauge.axis.visible&&null!==(r=this.gauge.axis.tickLine)&&void 0!==r&&r.visible&&this.drawAxis()}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,i=t.max,n=t.range,r=t.color,o=t.rangeStyle,a=r||w.getGlobalTheme().colors,s=this.getAngleRange(),l={min:e,max:i,starAngle:s.starAngle,endAngle:s.endAngle},u=0;u<n.length;u++){var c,h,p=this.valueToAngle(n[u],l),f=this.valueToAngle(n[u+1],l);p<=f&&(c=this.getPath(p,f),h=M.deepMix({fill:a[u]},o),this.drawRing(c,h))}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,i=t.endAngle,n=this.gauge.options.rangeBackgroundStyle,r=this.getPath(e,i);this.drawRing(r,n)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,i=this.gauge.ringStyle.color,n=this.getPath(e,t);this.drawRing(n,i)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,i=t.max,n=t.axis,r=this.getAngleRange(),o={min:e,max:i,starAngle:r.starAngle,endAngle:r.endAngle},a=(i-e)/n.tickCount,s=0;s<n.tickCount;s++){var l=e+s*a,u=this.valueToAngle(l+a/2,o);this.drawRect(u,{length:n.tickLine.length,style:n.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,i=e.min,n=e.max,r=this.getAngleRange(),o={min:i,max:n,starAngle:r.starAngle,endAngle:r.endAngle},a=(n-i)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=i+s*a,u=this.valueToAngle(l,o),c=M.clone(t.tickLine.style);s%5!=0&&(c.lineWidth=c.lineWidth/2),this.drawRect(u,{length:s%5==0?t.tickLine.length:t.tickLine.length/2,style:c})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,i=e.min,n=e.max,r=this.getAngleRange(),o={min:i,max:n,starAngle:r.starAngle,endAngle:r.endAngle},a=(n-i)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=i+s*a,u=this.valueToAngle(l,o);this.drawRect(u,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,i=this.gauge.options,n=i.min,r=i.max,o=i.range,a=i.color,s=i.rangeStyle,l=i.rangeBackgroundStyle,u=a||w.getGlobalTheme().colors,c=this.getAngleRange(),h=c.starAngle,p=c.endAngle,f={min:n,max:r,starAngle:h,endAngle:p},d=(p-h)/49,g=d/3,y=0;y<50;y++){var v,m,x,b=h+y*d,_=this.getPath(b-g/2,b+g-g/2),O=l;O=o&&o.length?(v=o.map(function(t){return e.valueToAngle(t,f)}),m=C.sortedLastIndex(v,b),x=Math.min(m,o.length-1),M.deepMix({},{fill:u[x-1]},s)||l):b<=t?M.deepMix({},{fill:a},s):l,this.drawRing(_,O)}},getAngleRange:function(){var t=90-.5*(360-this.gauge.options.angle);return{starAngle:(180-t)*Math.PI/180,endAngle:(360+t)*Math.PI/180}},valueToAngle:function(t,e){var i=e.min,n=e.max,r=e.starAngle,o=e.endAngle;if(t===n)return o;if(t===i)return r;var a=(t-i)/(n-i);n===i&&(a=1);var s=a*(o-r)+r,s=Math.max(s,r);return Math.min(s,o)},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:M.deepMix({},{path:t},e)})},drawRect:function(t,e){var i,n=this.gauge.axis,r=p.__assign(p.__assign({},n),e),o=r.offset,a=r.length,s=this.gauge.center,l=(i=o<0?this.gauge.ringRadius-this.gauge.options.rangeSize+o:this.gauge.ringRadius+o)*Math.cos(t)+s.x,u=i*Math.sin(t)+s.y,c=(i+a)*Math.cos(t)+s.x,h=(i+a)*Math.sin(t)+s.y;this.gauge.group.addShape("line",{attrs:M.deepMix({},{x1:l,y1:u,x2:c,y2:h},e.style)}).set("name","axis-tickLine")},getPath:function(t,e){var i=this.gauge.center,n=this.gauge.ringRadius,r=this.gauge.options.rangeSize,o=n*Math.cos(t)+i.x,a=n*Math.sin(t)+i.y,s=(n-r)*Math.cos(t)+i.x,l=(n-r)*Math.sin(t)+i.y,u=n*Math.cos(e)+i.x,c=n*Math.sin(e)+i.y,h=(n-r)*Math.cos(e)+i.x,p=(n-r)*Math.sin(e)+i.y,f=Math.abs(t-e)>Math.PI?1:0;return[["M",o,a],["A",n,n,0,f,1,u,c],["L",h,p],["A",n-r,n-r,0,f,0,s,l],["Z"]]},drawPivot:function(t){var e,i,n,r,o,a,s,l,u,c=this.getAngleRange(),h=c.starAngle,p=c.endAngle,f=this.gauge.options,d=f.radius,g=f.rangeSize,y=this.gauge.pivot,v=y.thickness,m=y.thickness/2.5,x=this.gauge.group,b=t.points[0],_=this.parsePoint({x:0,y:0}),O=b.x*(p-h)+h,w={x:(this.gauge.ringRadius-g)*d*Math.cos(O)+this.gauge.center.x,y:(this.gauge.ringRadius-g)*d*Math.sin(O)+this.gauge.center.y};y.base.visible&&x.addShape("circle",{attrs:M.deepMix({},{x:_.x,y:_.y,r:y.base.size?y.base.size/2:2.2*v},y.base.style)}),y.pointer.visible&&(e={x:_.x-w.x,y:_.y-w.y},i=Math.sqrt(e.x*e.x+e.y*e.y),e.x*=1/i,e.y*=1/i,n=-Math.PI/2,r=Math.cos(n)*e.x-Math.sin(n)*e.y,o=Math.sin(n)*e.x+Math.cos(n)*e.y,a=Math.PI/2,s=Math.cos(a)*e.x-Math.sin(a)*e.y,l=Math.sin(a)*e.x+Math.cos(a)*e.y,u=[["M",w.x+r*m,w.y+o*m],["L",_.x+r*v,_.y+o*v],["L",_.x+s*v,_.y+l*v],["L",w.x+s*m,w.y+l*m],["Z"]],x.addShape("path",{attrs:M.deepMix({},{path:u},y.pointer.style)}),x.addShape("circle",{attrs:{x:w.x,y:w.y,r:m,fill:y.pointer.style.fill}}),x.addShape("circle",{attrs:{x:_.x,y:_.y,r:v,fill:y.pointer.style.fill}})),y.pin.visible&&x.addShape("circle",{attrs:M.deepMix({},{x:_.x,y:_.y,r:m/1.2},y.pin.style)})}})},o);function o(t){this.uid=t}e.GaugeShape=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),o=i(6),s=i(17),l=r.__importDefault(i(58)),u=r.__importDefault(i(454)),c=r.__importStar(i(455)),h={progress:"interval"},p={interval:"progress"},f=["#55A6F3","#E8EDF3"],d=(n=l.default,r.__extends(g,n),g.prototype.processProps=function(){(e=this.options).data=this.processData();var t={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:e.size?e.size:this.getSize(),barStyle:e.progressStyle,color:this.parseColorProps(e)||f},e=a.mix(e,t)},g.prototype.init=function(){this.processProps(),n.prototype.init.call(this)},g.prototype.beforeInit=function(){var t=this.options.percent;if(!a.isNumber(t))throw new Error("Percent value is required, and the type of percent must be Number.")},g.prototype.update=function(t){var e,i=this.options;a.hasKey(t,"percent")&&(i.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color&&(e=void 0,e=a.isArray(t.color)?(this.options.color=t.color,[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,{fill:t.color}),this.styleUpdateAnimation(e)),t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},g.prototype.destroy=function(){this.markers&&0<this.markers.length&&(a.each(this.markers,function(t){t.destroy()}),this.markers=[]),n.prototype.destroy.call(this)},g.prototype.afterRender=function(){var n=this;this.options.marker&&!this.markers&&(this.markers=[],a.each(this.options.marker,function(t){var e=a.mix({canvas:n.canvas,view:n.view,progressSize:n.options.barSize},t),i=new u.default(e);n.markers.push(i)}));var t=this.view.geometries[0].container,e=t.getBBox(),i=t.addShape("rect",{attrs:{width:e.width,height:e.height,x:e.minX,y:e.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),i.on("mouseenter",function(t){n.isEntered=!0,n.view.emit("progress:mouseenter",t)}),i.on("mouseleave",function(t){n.isEntered=!1,n.view.emit("progress:mouseleave",t)}),this.canvas.get("container").addEventListener("mouseleave",function(t){n.isEntered&&(n.view.emit("progress:mouseleave",t),n.isEntered=!1)})},g.prototype.geometryParser=function(t,e){return"g2"===t?h[e]:p[e]},g.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},g.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],a.has(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},g.prototype.parseEvents=function(t){t?n.prototype.parseEvents.call(this,t):n.prototype.parseEvents.call(this,c)},g.prototype.parseColorProps=function(t){var e;if(t.color){if(e=a.isFunction(t.color)?t.color(t.percent):t.color,a.isString(e)){var i=a.clone(f);return i[0]=e,i}return e}return t.color},g.prototype.processData=function(){var t=this.options;return[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}]},g.prototype.updateMarkers=function(i){var n=i.length,r=this.getUpdateAnimationOptions();if(a.each(this.markers,function(t,e){n-1<e?t.destroy():t.update(i[e],r.duration,r.easing)}),this.markers.length<n)for(var t=this.markers.length;t<n;t++){var e=a.deepMix({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},i[t]),o=new u.default(e);this.markers.push(o)}},g.prototype.getSize=function(){return 50<=this.height?10:4},g.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),i=e.duration,n=e.easing,r=[],o=this.view.geometries;a.each(o,function(t){var e;"interval"===t.type&&(e=t.elements,a.each(e,function(t){r.push.apply(r,t.shape)}))}),a.isArray(t)?a.each(t,function(t,e){r[e].animate(t,i,n)}):r[0].animate(t,i,n)},g.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",i=this.options.animation;return i&&i.update&&(i.update.duration&&(t=i.update.duration),i.update.easing&&(e=i.update.easing)),{duration:t,easing:e}},g.prototype.updateColorConfigByStyle=function(t){var i=this;a.isArray(t)?a.each(t,function(t,e){t.fill&&(i.options.color[e]=t.fill)}):t.fill&&(this.options.color[0]=t.fill)},g);function g(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}e.default=d,o.registerPlotType("progress",d)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(1),h=i(0),l=i(21),s=o.__importDefault(i(136)),n=o.__importDefault(i(13)),a=o.__importDefault(i(53)),u=i(38),c=o.__importDefault(i(89)),p=i(11),f=(r=a.default,o.__extends(d,r),d.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},d.prototype.getOptions=function(t){var e=this.options||{},i=r.prototype.getOptions.call(this,t),n=this.constructor.getDefaultOptions(t);return h.deepMix({},i,n,e,t)},d.prototype.checkData=function(){for(var t,e,n=this,i=this.options,r=i.data,o=i.xField,a=i.yField,s=0;s<this.requiredField.length;s++){var l=this.requiredField[s];if(!h.hasKey(this.options,l))return!1}return!(!h.isArray(a)||a.length<2||!h.isArray(r)||0===r.length||0===(null===(t=r[0])||void 0===t?void 0:t.length)&&0===(null===(e=r[1])||void 0===e?void 0:e.length)||(h.each(r,function(t,e){var i;h.isArray(t)&&0!==t.length||(i=n.getMockData(e),r[e]=i)}),!r[0][0][o]||!r[1][0][o]))},d.prototype.init=function(){r.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},d.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},d.prototype.changeData=function(i){i&&i.length<2||!h.isArray(i[0])||h.each(this.geomLayers,function(t,e){t.changeData(i[e])})},d.prototype.changeDataByIndex=function(t,e){h.isArray(t[0])||this.geomLayers[e].changeData(t)},d.prototype.doDestroy=function(){h.each(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],h.each(this.legends,function(t){t.destroy()}),this.legends=[]},d.prototype.createLayer=function(t,e,i){var n=this.getViewRange(),r=new t(o.__assign({canvas:this.canvas,container:this.container,x:n.minX,y:n.minY,width:n.width,height:n.height,data:e},i));return this.geomLayers.push(r),r},d.prototype.yAxis=function(t){var e=this.options.yAxis,i=0===t?e.leftConfig:e.rightConfig,n=this.colors[t],r=h.clone(i),o={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};i.visible&&i.colorMapping&&h.each(r,function(t,e){var i;!h.isString(t)&&h.hasKey(o,e)&&(i=o[e],t.style||(t.style={}),t.style[i]=n)}),i.visible||(r.title.visible=!1,r.tickLine.visible=!1,r.label.visible=!1,r.line.visible=!1,r.visible=!0);var a=this.getYAxisGlobalConfig();return h.deepMix({},a,r)},d.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),i=new(l.getScale("linear"))(h.deepMix({},{min:0,max:e.max,nice:!0,values:e.values},{tickCount:t.tickCount})),n=i.ticks.length,r=(t.max?i.max:this.getScaleData(1).max)/(n-1),o=[],a=0;a<n;a++){var s=a*r;Number.isInteger(s)||(s=parseFloat(s.toFixed(1))),o.push(s)}return o},d.prototype.getScaleData=function(e){var t=this.options,i=t.data,n=t.yField,r=t.yAxis,o=[];return h.each(i[e],function(t){o.push(t[n[e]])}),o.sort(function(t,e){return t-e}),{min:o[0],max:r.max?r.max:o[o.length-1],values:o}},d.prototype.getDataByXField=function(e,t){var i=this.options,n=i.data,r=i.xField;return n[t].filter(function(t){return t[r]===e})},d.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis;return{min:t.min,max:t.max,tickCount:t.tickCount}},d.prototype.adjustLayout=function(){var t,e,i=this,n=p.getGlobalTheme().bleeding;h.isArray(n)&&h.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options))});var r,o,a=this.getViewRange(),s=this.geomLayers[0].options.padding,l=this.geomLayers[1].options.padding,u=0;null!==(t=this.options.legend)&&void 0!==t&&t.visible&&(r=this.legends[0].getLayoutBBox(),o=this.legends[1].getLayoutBBox(),u=r.height+10);var c=[s[0]+u,l[1],l[2],s[3]];this.geomLayers[0].updateConfig({padding:c}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:c}),this.geomLayers[1].render(),null!==(e=this.options.legend)&&void 0!==e&&e.visible&&(this.legends[0].setLocation({x:n[3],y:a.minY+5}),this.legends[1].setLocation({x:a.maxX-n[1]-o.width,y:a.minY+5}))},d.prototype.legendFilter=function(e){var i=this,n=this.legends[e];n.get("group").on("click",function(){var t=n.get("items")[0];t.unchecked?(n.setItemState(t,"unchecked",!1),i.showLayer(e)):(n.setItemState(t,"unchecked",!0),i.hideLayer(e))})},d.prototype.hideLayer=function(t){var e=this.geomLayers[t],i=this.options.yField[t],n=e.view,r=this.getYAxisContainer(n,i);r&&r.set("visible",!1),this.setGeometryVisibility(n,!1),this.canvas.draw()},d.prototype.showLayer=function(t){var e=this.geomLayers[t],i=this.options.yField[t],n=e.view,r=this.getYAxisContainer(n,i);r&&r.set("visible",!0),this.setGeometryVisibility(n,!0),this.canvas.draw()},d.prototype.setGeometryVisibility=function(t,n){h.each(t.geometries,function(t){var e=t.container,i=t.labelsContainer;e&&e.set("visible",n),i&&i.set("visible",n)})},d.prototype.getYAxisContainer=function(t,e){var i,n,r=t.controllers.filter(function(t){return h.hasKey(t,"axisContainer")})[0];return r&&(n=r.axisContainer.get("children"),h.each(n,function(t){t.get("component").get("field")===e&&(i=t)})),i},d.prototype.getUnCheckedValue=function(){var i=[];return h.each(this.legends,function(t){var e=t.getItemsByState("unchecked");h.each(e,function(t){i.push(t.name)})}),i},d.prototype.drawTitle=function(){var t,e,i,n=this.options,r=this.layerBBox;this.title&&(this.title.destroy(),this.title=null),u.isTextUsable(n.title)&&(t=this.width,e=this.theme,i=new s.default({leftMargin:r.minX+e.title.padding[3],rightMargin:r.maxX-e.title.padding[1],topMargin:r.minY+e.title.padding[0],text:n.title.text,style:h.mix(e.title,n.title.style),wrapperWidth:t-e.title.padding[3]-e.title.padding[1],container:this.container.addGroup(),theme:e,index:u.isTextUsable(n.description)?0:1,plot:this,alignTo:n.title.alignTo,name:"title"}),this.title=i)},d.prototype.drawDescription=function(){var t,e,i,n,r,o=this.options,a=this.layerBBox;this.description&&(this.description.destroy(),this.description=null),u.isTextUsable(o.description)&&(t=this.width,e=this.theme,i=0,this.title?(i+=(n=this.title.getBBox()).minY+n.height,i+=e.description.padding[0]):i+=a.minY+e.title.padding[0],r=new s.default({leftMargin:a.minX+e.description.padding[3],topMargin:i,rightMargin:a.maxX-e.title.padding[1],text:o.description.text,style:h.mix(e.description,o.description.style),wrapperWidth:t-e.description.padding[3]-e.description.padding[1],container:this.container.addGroup(),theme:e,index:1,plot:this,alignTo:o.description.alignTo,name:"description"}),this.description=r)},d.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new n.default(this.x,this.y,this.width,this.height));var s=this.layerBBox.minX,l=this.layerBBox.maxX,u=this.layerBBox.minY,c=this.layerBBox.maxY,t=[this.title,this.description];return h.each(t,function(t){var e,i,n,r,o,a;t&&(e=t.position,n=(i=t.getBBox()).minX,r=i.maxX,o=i.minY,a=i.maxY,u<=a&&a<=c&&"top"===e&&(u=a),u<=o&&o<=c&&"bottom"===e&&(c=o),s<r&&r<=l&&"left"===e&&(s=r),s<=n&&r<=l&&"right"===e&&(l=n))}),new n.default(s,u,l-s,c-u)},d.prototype.getMockData=function(t){var e=this.options,i=e.xField,n=e.yField,r={};return r[i]="null",r[n[t]]=0,[r]},d);function d(t){var e=r.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=h.deepMix({},t),e.themeController=new c.default,e}e.default=f},function(t,e,i){"use strict";var n=i(1),r=i(10),s=i(109),o=i(117);function p(t,e,i){var n=t.getTotalMatrix();if(n){var r=function(t,e){if(e){var i=Object(o.invert)(e);return Object(o.multiplyVec2)(i,t)}return t}([e,i,1],n);return[r[0],r[1]]}return[e,i]}function f(t,e,i){if(t.isCanvas&&t.isCanvas())return 1;if(Object(s.isAllowCapture)(t)||!1!==t.cfg.isInView){if(t.cfg.clipShape){var n=p(t,e,i),r=n[0],o=n[1];if(t.isClipped(r,o))return}var a=t.cfg.cacheCanvasBBox;return e>=(a=a||t.getCanvasBBox()).minX&&e<=a.maxX&&i>=a.minY&&i<=a.maxY}}var a,l=i(34),u=i(48),c=i(14),h=i(5),d=(a=r.AbstractCanvas,Object(n.__extends)(g,a),g.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},g.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},g.prototype.getShapeBase=function(){return l},g.prototype.getGroupBase=function(){return u.a},g.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(h.d)();return 1<=t?Math.floor(t):1},g.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},g.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},g.prototype.setDOMSize=function(t,e){a.prototype.setDOMSize.call(this,t,e);var i=this.get("context"),n=this.get("el"),r=this.getPixelRatio();n.width=r*t,n.height=r*e,1<r&&i.scale(r,r)},g.prototype.clear=function(){a.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},g.prototype.getShape=function(t,e){return this.get("quickHit")?function t(e,i,n){if(!f(e,i,n))return null;for(var r=null,o=e.getChildren(),a=o.length-1;0<=a;a--){var s,l,u,c,h=o[a];if(h.isGroup()?r=t(h,i,n):f(h,i,n)&&(u=(l=p(s=h,i,n))[0],c=l[1],s.isInShape(u,c)&&(r=h)),r)break}return r}(this,t,e):a.prototype.getShape.call(this,t,e,null)},g.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),i=this.getViewRange();return e.length&&e[0]===this?t=i:(t=Object(c.d)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),this.get("clipView")&&(t=Object(c.e)(t,i))),t},g.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},g.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(h.a)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},g.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},g.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),i=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(c.a)(t,this),Object(c.b)(t,i),this.set("refreshElements",[])},g.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),i=this.getChildren(),n=this._getRefreshRegion();n&&(t.clearRect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.save(),t.beginPath(),t.rect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.clip(),Object(c.a)(t,this),Object(c.b)(t,i,n),t.restore()),Object(h.c)(e,function(t){t.get("hasChanged")&&t.set("hasChanged",!1)}),this.set("refreshElements",[])},g.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=Object(h.n)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},g.prototype.skipDraw=function(){},g);function g(){return null!==a&&a.apply(this,arguments)||this}e.a=d},function(t,s,e){"use strict";(function(e){var l=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n};Object.defineProperty(s,"__esModule",{value:!0});var u=function(t,e,i){this.name=t,this.version=e,this.os=i,this.type="browser"};s.BrowserInfo=u;var t=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform};s.NodeInfo=t;var c=function(t,e,i,n){this.name=t,this.version=e,this.os=i,this.bot=n,this.type="bot-device"};s.SearchBotDeviceInfo=c;var h=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null};s.BotInfo=h;function i(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}s.ReactNativeInfo=i;var p=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,n=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],o=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(o){return""!==o&&n.reduce(function(t,e){var i=e[0],n=e[1];if(t)return t;var r=n.exec(o);return!!r&&[i,r]},!1)}function r(t){var e=f(t);if(!e)return null;var i=e[0],n=e[1];if("searchbot"===i)return new h;var r=n[1]&&n[1].split(/[._]/).slice(0,3);r?r.length<3&&(r=l(r,function(t){for(var e=[],i=0;i<t;i++)e.push("0");return e}(3-r.length))):r=[];var o=r.join("."),a=d(t),s=p.exec(t);return s&&s[1]?new c(i,o,a,s[1]):new u(i,r.join("."),a)}function d(t){for(var e=0,i=o.length;e<i;e++){var n=o[e],r=n[0];if(n[1].exec(t))return r}return null}function a(){return void 0!==e&&e.version?new t(e.version.slice(1)):null}s.detect=function(t){return t?r(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new i:"undefined"!=typeof navigator?r(navigator.userAgent):a()},s.browserName=function(t){var e=f(t);return e?e[0]:null},s.parseUserAgent=r,s.detectOS=d,s.getNodeVersion=a}).call(this,e(118))},function(t,c,e){"use strict";(function(e){var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n};Object.defineProperty(c,"__esModule",{value:!0});var a=function(t,e,i){this.name=t,this.version=e,this.os=i};c.BrowserInfo=a;var t=function(t){this.version=t,this.name="node",this.os=e.platform};c.NodeInfo=t;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};c.BotInfo=s;var l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],o=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function i(o){var t=""!==o&&l.reduce(function(t,e){var i=e[0],n=e[1];if(t)return t;var r=n.exec(o);return!!r&&[i,r]},!1);if(!t)return null;var e=t[0],i=t[1];if("searchbot"===e)return new s;var n=i[1]&&i[1].split(/[._]/).slice(0,3);return n?n.length<3&&(n=r(n,function(t){for(var e=[],i=0;i<t;i++)e.push("0");return e}(3-n.length))):n=[],new a(e,n.join("."),u(o))}function u(t){for(var e=0,i=o.length;e<i;e++){var n=o[e],r=n[0];if(n[1].test(t))return r}return null}function n(){return void 0!==e&&e.version?new t(e.version.slice(1)):null}c.detect=function(t){return t?i(t):"undefined"!=typeof navigator?i(navigator.userAgent):n()},c.parseUserAgent=i,c.detectOS=u,c.getNodeVersion=n}).call(this,e(118))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(213),l=i(214),u=i(30);e.default=function t(e,i){if(e===i)return!0;if(!e||!i)return!1;if(u.default(e)||u.default(i))return!1;if(l.default(e)||l.default(i)){if(e.length!==i.length)return!1;for(var n=!0,r=0;r<e.length&&(n=t(e[r],i[r]));r++);return n}if(s.default(e)||s.default(i)){var o=Object.keys(e),a=Object.keys(i);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=t(e[o[r]],i[o[r]]));r++);return n}return!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var M=i(217);function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function C(t,e){return n(t)*n(e)?(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e)):1}function S(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))}e.default=function(t,e){var i=e[1],n=e[2],r=M.mod(M.toRadian(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],h=Math.cos(r)*(s-u)/2+Math.sin(r)*(l-c)/2,p=-1*Math.sin(r)*(s-u)/2+Math.cos(r)*(l-c)/2,f=h*h/(i*i)+p*p/(n*n);1<f&&(i*=Math.sqrt(f),n*=Math.sqrt(f));var d=i*i*(p*p)+n*n*(h*h),g=d?Math.sqrt((i*i*(n*n)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*i*p/n:0,v=i?g*-n*h/i:0,m=(s+u)/2+Math.cos(r)*y-Math.sin(r)*v,x=(l+c)/2+Math.sin(r)*y+Math.cos(r)*v,b=[(h-y)/i,(p-v)/n],_=[(-1*h-y)/i,(-1*p-v)/n],O=S([1,0],b),w=S(b,_);return C(b,_)<=-1&&(w=Math.PI),1<=C(b,_)&&(w=0),0===a&&0<w&&(w-=2*Math.PI),1===a&&w<0&&(w+=2*Math.PI),{cx:m,cy:x,rx:M.isSamePoint(t,[u,c])?0:i,ry:M.isSamePoint(t,[u,c])?0:n,startAngle:O,endAngle:O+w,xRotation:r,arcFlag:o,sweepFlag:a}}},,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(8);r.registerComponentController("gesture",r.GestureController),n.__exportStar(i(135),e);var o=i(53);Object.defineProperty(e,"Layer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"LayerConfig",{enumerable:!0,get:function(){return o.LayerConfig}});var a=i(15);Object.defineProperty(e,"ViewLayer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"ViewConfig",{enumerable:!0,get:function(){return a.ViewConfig}});var s=i(4);Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"PlotConfig",{enumerable:!0,get:function(){return s.PlotConfig}}),n.__exportStar(i(261),e);var l=i(58);Object.defineProperty(e,"TinyLayerConfig",{enumerable:!0,get:function(){return l.TinyLayerConfig}});var u=i(453);Object.defineProperty(e,"Progress",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"ProgressConfig",{enumerable:!0,get:function(){return u.ProgressConfig}});var c=i(456);Object.defineProperty(e,"RingProgress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"RingProgressConfig",{enumerable:!0,get:function(){return c.RingProgressConfig}});var h=i(459);Object.defineProperty(e,"TinyColumn",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"TinyColumnConfig",{enumerable:!0,get:function(){return h.TinyColumnConfig}});var p=i(462);Object.defineProperty(e,"TinyArea",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"TinyAreaConfig",{enumerable:!0,get:function(){return p.TinyAreaConfig}});var f=i(465);Object.defineProperty(e,"TinyLine",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"TinyLineConfig",{enumerable:!0,get:function(){return f.TinyLineConfig}});var d=i(468);Object.defineProperty(e,"DualLine",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"DualLineConfig",{enumerable:!0,get:function(){return d.DualLineConfig}});var g=i(470);Object.defineProperty(e,"ColumnLine",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"ColumnLineConfig",{enumerable:!0,get:function(){return g.ColumnLineConfig}});var y=i(471);Object.defineProperty(e,"GroupedColumnLine",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"GroupedColumnLineConfig",{enumerable:!0,get:function(){return y.GroupedColumnLineConfig}});var v=i(473);Object.defineProperty(e,"StackedColumnLine",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"StackedColumnLineConfig",{enumerable:!0,get:function(){return v.StackedColumnLineConfig}});var m=i(11);Object.defineProperty(e,"registerTheme",{enumerable:!0,get:function(){return m.registerTheme}}),Object.defineProperty(e,"registerGlobalTheme",{enumerable:!0,get:function(){return m.registerGlobalTheme}});var x=i(148);Object.defineProperty(e,"registerResponsiveConstraint",{enumerable:!0,get:function(){return x.registerResponsiveConstraint}}),Object.defineProperty(e,"IConstraint",{enumerable:!0,get:function(){return x.IConstraint}});var b=i(149);Object.defineProperty(e,"registerResponsiveRule",{enumerable:!0,get:function(){return b.registerResponsiveRule}});var _=i(65);Object.defineProperty(e,"registerResponsiveTheme",{enumerable:!0,get:function(){return _.registerResponsiveTheme}}),Object.defineProperty(e,"getResponsiveTheme",{enumerable:!0,get:function(){return _.getResponsiveTheme}});var O=i(138);Object.defineProperty(e,"StateManager",{enumerable:!0,get:function(){return O.default}})},function(t){t.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":"Tue Jun 16 2020 09:50:56 GMT+0800 ()","gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","_from":"@antv/g-base@0.4.7","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-base/download/@antv/g-base-0.4.7.tgz"}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(37);e.default=function(t){return n.default(t)?"":t.toString()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new Map;e.register=function(t,e){n.set(t,e)},e.getMethod=function(t){return n.get(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),i=e.x,n=e.y,r=e.r;return{x:i-r,y:n-r,width:2*r,height:2*r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i(29),h=i(86);e.default=function(t){for(var e=t.attr().points,i=[],n=[],r=0;r<e.length;r++){var o=e[r];i.push(o[0]),n.push(o[1])}var a=c.getBBoxByArray(i,n),s=a.x,l=a.y,u={minX:s,minY:l,maxX:s+a.width,maxY:l+a.height};return{x:(u=h.mergeArrowBBox(t,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(29);e.default=function(t){for(var e=t.attr().points,i=[],n=[],r=0;r<e.length;r++){var o=e[r];i.push(o[0]),n.push(o[1])}return a.getBBoxByArray(i,n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(75);e.default=function(t){var e,i,n,r,o=t.attr(),a=o.x,s=o.y,l=o.text,u=o.fontSize,c=o.lineHeight,h=(h=o.font)||d.assembleFont(o),p=d.getTextWidth(l,h),f=p?(e=o.textAlign,i=o.textBaseline,r={x:a,y:s-(n=d.getTextHeight(l,u,c))},e&&("end"===e||"right"===e?r.x-=p:"center"===e&&(r.x-=p/2)),i&&("top"===i?r.y+=n:"middle"===i&&(r.y+=n/2)),{x:r.x,y:r.y,width:p,height:n}):{x:a,y:s,width:0,height:0};return f}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=i(111),v=i(41),m=i(200),l=i(112),h=i(61),u=i(86);function x(t,e){var i=t.prePoint,n=t.currentPoint,r=t.nextPoint,o=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),a=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),s=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||h.default(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(r[1]-n[1],r[0]-n[0])),c=Math.abs(Math.atan2(r[0]-n[0],r[1]-n[1])),u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;return{xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}e.default=function(t){var e=t.attr(),i=e.path,n=e.stroke?e.lineWidth:0,r=function(t,e){for(var i=[],n=[],r=[],o=0;o<t.length;o++){var a=(h=t[o]).currentPoint,s=h.params,l=h.prePoint,u=void 0;switch(h.command){case"Q":u=y.default.box(l[0],l[1],s[1],s[2],s[3],s[4]);break;case"C":u=v.default.box(l[0],l[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var c=h.arcParams,u=m.default.box(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:i.push(a[0]),n.push(a[1])}u&&(h.box=u,i.push(u.x,u.x+u.width),n.push(u.y,u.y+u.height)),e&&("L"===h.command||"M"===h.command)&&h.prePoint&&h.nextPoint&&r.push(h)}i=i.filter(function(t){return!Number.isNaN(t)}),n=n.filter(function(t){return!Number.isNaN(t)});var h,p=Math.min.apply(null,i),f=Math.min.apply(null,n),d=Math.max.apply(null,i),g=Math.max.apply(null,n);if(0===r.length)return{x:p,y:f,width:d-p,height:g-f};for(o=0;o<r.length;o++){(a=(h=r[o]).currentPoint)[0]===p?p-=x(h,e).xExtra:a[0]===d&&(d+=x(h,e).xExtra),a[1]===f?f-=x(h,e).yExtra:a[1]===g&&(g+=x(h,e).yExtra)}return{x:p,y:f,width:d-p,height:g-f}}(t.get("segments")||l.default(i),n),o=r.x,a=r.y,s={minX:o,minY:a,maxX:o+r.width,maxY:a+r.height};return{x:(s=u.mergeArrowBBox(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=i(29),m=i(201);function b(t,e,i,n,r,o){return i*Math.cos(r)*Math.cos(o)-n*Math.sin(r)*Math.sin(o)+t}function _(t,e,i,n,r,o){return i*Math.sin(r)*Math.cos(o)+n*Math.cos(r)*Math.sin(o)+e}function x(t,e,i){return{x:t*Math.cos(i),y:e*Math.sin(i)}}function O(t,e,i){var n=Math.cos(i),r=Math.sin(i);return[t*n-e*r,t*r+e*n]}e.default={box:function(t,e,i,n,r,o,a){for(var s=Math.atan(-n/i*Math.tan(r)),l=1/0,u=-1/0,c=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var p=s+h;o<a?o<p&&p<a&&c.push(p):a<p&&p<o&&c.push(p)}for(h=0;h<c.length;h++){var f=b(t,0,i,n,r,c[h]);f<l&&(l=f),u<f&&(u=f)}for(var d=Math.atan(n/(i*Math.tan(r))),g=1/0,y=-1/0,v=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=d+h;o<a?o<m&&m<a&&v.push(m):a<m&&m<o&&v.push(m)}for(h=0;h<v.length;h++){var x=_(0,e,i,n,r,v[h]);x<g&&(g=x),y<x&&(y=x)}return{x:l,y:g,width:u-l,height:y-g}},length:function(t,e,i,n,r,o,a){},nearestPoint:function(t,e,i,n,r,o,a,s,l){var u,c,h=O(s-t,l-e,-r),p=h[0],f=h[1],d=m.default.nearestPoint(0,0,i,n,p,f),g=(u=d.x,c=d.y,(Math.atan2(c*i,u*n)+2*Math.PI)%(2*Math.PI));g<o?d=x(i,n,o):a<g&&(d=x(i,n,a));var y=O(d.x,d.y,r);return{x:y[0]+t,y:y[1]+e}},pointDistance:function(t,e,i,n,r,o,a,s,l){var u=this.nearestPoint(t,e,i,n,s,l);return v.distance(u.x,u.y,s,l)},pointAt:function(t,e,i,n,r,o,a,s){var l=(a-o)*s+o;return{x:b(t,0,i,n,r,l),y:_(0,e,i,n,r,l)}},tangentAngle:function(t,e,i,n,r,o,a,s){var l,u,c,h,p,f,d=(a-o)*s+o,g=(h=n,p=r,f=d,-1*i*Math.cos(p)*Math.sin(f)-h*Math.sin(p)*Math.cos(f)),y=(l=n,u=r,c=d,-1*i*Math.sin(u)*Math.sin(c)+l*Math.cos(u)*Math.cos(c));return v.piMod(Math.atan2(y,g))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(29);function S(t,e){var i=Math.abs(t);return 0<e?i:-1*i}e.default={box:function(t,e,i,n){return{x:t-i,y:e-n,width:2*i,height:2*n}},length:function(t,e,i,n){return Math.PI*(3*(i+n)-Math.sqrt((3*i+n)*(i+3*n)))},nearestPoint:function(t,e,i,n,r,o){var a=i,s=n;if(0===a||0===s)return{x:t,y:e};for(var l,u,c=r-t,h=o-e,p=Math.abs(c),f=Math.abs(h),d=a*a,g=s*s,y=Math.PI/4,v=0;v<4;v++){l=a*Math.cos(y),u=s*Math.sin(y);var m=(d-g)*Math.pow(Math.cos(y),3)/a,x=(g-d)*Math.pow(Math.sin(y),3)/s,b=l-m,_=u-x,O=p-m,w=f-x,M=Math.hypot(_,b),C=Math.hypot(w,O);y+=M*Math.asin((b*w-_*O)/(M*C))/Math.sqrt(d+g-l*l-u*u),y=Math.min(Math.PI/2,Math.max(0,y))}return{x:t+S(l,c),y:e+S(u,h)}},pointDistance:function(t,e,i,n,r,o){var a=this.nearestPoint(t,e,i,n,r,o);return s.distance(a.x,a.y,r,o)},pointAt:function(t,e,i,n,r){var o=2*Math.PI*r;return{x:t+i*Math.cos(o),y:e+n*Math.sin(o)}},tangentAngle:function(t,e,i,n,r){var o=2*Math.PI*r,a=Math.atan2(n*Math.cos(o),-i*Math.sin(o));return s.piMod(a)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(31),o=i(23),a=i(30),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,l=/[^\s\,]+/gi;e.default=function(t){var n=t||[];return o.default(n)?n:a.default(n)?(n=n.match(s),r.default(n,function(i,t){var e;1<(i=i.match(l))[0].length&&(e=i[0].charAt(0),i.splice(1,0,i[0].substr(1)),i[0]=e),r.default(i,function(t,e){isNaN(t)||(i[e]=+t)}),n[t]=i}),n):void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(86);e.default=function(t){var e=t.attr(),i=e.x1,n=e.y1,r=e.x2,o=e.y2,a={minX:Math.min(i,r),maxX:Math.max(i,r),minY:Math.min(n,o),maxY:Math.max(n,o)};return{x:(a=s.mergeArrowBBox(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),i=e.x,n=e.y,r=e.rx,o=e.ry;return{x:i-r,y:n-o,width:2*r,height:2*o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(23),r="\t\n\v\f\r \u2028\u2029",s=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");e.default=function(t){if(!t)return null;if(n.default(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(l,function(t,e){e&&n.push(+e)}),"m"===r&&2<n.length&&(a.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===n.length&&a.push([e,n[0]]),"r"===r)a.push([e].concat(n));else for(;n.length>=o[r]&&(a.push([e].concat(n.splice(0,o[r]))),o[r]););return""}),a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=i(18),l=i(29);function d(t){for(var e=0,i=[],n=0;n<t.length-1;n++){var r=t[n],o=t[n+1],a=l.distance(r[0],r[1],o[0],o[1]),s={from:r,to:o,length:a};i.push(s),e+=a}return{segments:i,totalLength:e}}e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,i=0;i<t.length-1;i++){var n=t[i],r=t[i+1];e+=l.distance(n[0],n[1],r[0],r[1])}return e},e.pointAtSegments=function(t,e){if(1<e||e<0||t.length<2)return null;var i=d(t),n=i.segments,r=i.totalLength;if(0===r)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,h=l.length/r;if(o<=e&&e<=o+h){var p=(e-o)/h,a=f.default.pointAt(u[0],u[1],c[0],c[1],p);break}o+=h}return a},e.angleAtSegments=function(t,e){if(1<e||e<0||t.length<2)return 0;for(var i=d(t),n=i.segments,r=i.totalLength,o=0,a=0,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,h=l.length/r;if(o<=e&&e<=o+h){a=Math.atan2(c[1]-u[1],c[0]-u[0]);break}o+=h}return a},e.distanceAtSegment=function(t,e,i){for(var n=1/0,r=0;r<t.length-1;r++){var o=t[r],a=t[r+1],s=f.default.pointDistance(o[0],o[1],a[0],a[1],e,i);s<n&&(n=s)}return n}},function(t){t.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.13","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":"Tue Jun 16 2020 09:50:57 GMT+0800 ()","gitHead":"5d7cc9a6104873eef037b3dcdc6ad12cb5440ce2","_from":"@antv/g-canvas@0.4.13","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-canvas/download/@antv/g-canvas-0.4.13.tgz"}')},function(t){t.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":"Tue Jun 16 2020 09:50:56 GMT+0800 ()","gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","_from":"@antv/g-svg@0.4.7","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-svg/download/@antv/g-svg-0.4.7.tgz"}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),o=i(210),n=(r.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},r.prototype.getAdjustRange=function(t,e,i){var n,r,o=this.yField,a=i.indexOf(e),s=i.length;return!o&&this.isAdjust("y")?(n=0,r=1):1<s?(n=i[0===a?0:a-1],r=i[a===s-1?s-1:a+1],0!==a?n+=(e-n)/2:n-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-i[s-2])/2):(n=0===e?0:e-.5,r=0===e?1:e+.5),{pre:n,next:r}},r.prototype.adjustData=function(t,e){var r=this,o=this.getDimValues(e);a.each(t,function(i,n){a.each(o,function(t,e){r.adjustDim(e,t,i,n)})})},r.prototype.groupData=function(t,e){return a.each(t,function(t){void 0===t[e]&&(t[e]=o.DEFAULT_Y)}),a.groupBy(t,e)},r.prototype.adjustDim=function(t,e,i,n){},r.prototype.getDimValues=function(e){var t=this.xField,i=this.yField,n={},r=[];return t&&this.isAdjust("x")&&r.push(t),i&&this.isAdjust("y")&&r.push(i),r.forEach(function(t){n[t]=a.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!i&&this.isAdjust("y")&&(n.y=[o.DEFAULT_Y,1]),n},r);function r(t){var e=t.xField,i=t.yField,n=t.adjustNames,r=void 0===n?["x","y"]:n;this.adjustNames=r,this.xField=e,this.yField=i}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_Y=0,e.MARGIN_RATIO=.5,e.DODGE_RATIO=.5,e.GAP=.05},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){return h.isString(e)?e:t.invert(t.scale(e))}var h=i(0),r=(o.prototype.mapping=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map(function(t,e){return i._toOriginParam(t,i.scales[e])});return this.callback.apply(this,n)},o.prototype.getLinearValue=function(t){var e=this.values.length-1,i=Math.floor(e*t),n=e*t-i,r=this.values[i];return r+((i===e?r:this.values[i+1])-r)*n},o.prototype.getNames=function(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],r=0;r<i;r+=1)n.push(e[r]);return n},o.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},o.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},o.prototype.defaultCallback=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var i=n.scales[e];return"identity"===i.type?i.values[0]:n._getAttributeValue(i,t)})},o.prototype._parseCfg=function(t){var n=this,e=t.type,i=void 0===e?"base":e,r=t.names,o=void 0===r?[]:r,a=t.scales,s=void 0===a?[]:a,l=t.values,u=void 0===l?[]:l,c=t.callback;this.type=i,this.scales=s,this.values=u,this.names=o,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(c){var i=c.apply(void 0,t);if(!h.isNil(i))return[i]}return n.defaultCallback.apply(n,t)}},o.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var i=t.translate(e);return this.values[i%this.values.length]}var n=t.scale(e);return this.getLinearValue(n)},o.prototype._toOriginParam=function(t,e){return e.isLinear?t:h.isArray(t)?t.map(function(t){return n(e,t)}):n(e,t)},o);function o(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(21);e.Scale=n.Scale},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"===n(t)&&null!==t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,i){"use strict";function h(t){return Math.abs(t)<1e-6?0:t<0?-1:1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){var n=!1,r=t.length;if(r<=2)return!1;for(var o,a,s,l=0;l<r;l++){var u=t[l],c=t[(l+1)%r];if(a=c,((s=[e,i])[0]-(o=u)[0])*(a[1]-o[1])==(a[0]-o[0])*(s[1]-o[1])&&Math.min(o[0],a[0])<=s[0]&&s[0]<=Math.max(o[0],a[0])&&Math.min(o[1],a[1])<=s[1]&&s[1]<=Math.max(o[1],a[1]))return!0;0<h(u[1]-i)!=0<h(c[1]-i)&&h(e-(i-u[1])*(u[0]-c[0])/(u[1]-c[1])-u[0])<0&&(n=!n)}return n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function f(t,e,i){return e<=t&&t<=i}e.default=function(t,e,i,n){var r,o=i.x-t.x,a=i.y-t.y,s=e.x-t.x,l=e.y-t.y,u=n.x-i.x,c=n.y-i.y,h=s*c-l*u,p=null;return.001*(s*s+l*l)*(u*u+c*c)<h*h&&(f(r=(o*c-a*u)/h,0,1)&&f((o*l-a*s)/h,0,1)&&(p={x:t.x+r*s,y:t.y+r*l})),p}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSamePoint=e.mergeRegion=e.intersectRect=e.inBox=e.distance=e.getPixelRatio=void 0,e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.distance=function(t,e,i,n){var r=t-i,o=e-n;return Math.sqrt(r*r+o*o)},e.inBox=function(t,e,i,n,r,o){return t<=r&&r<=t+i&&e<=o&&o<=e+n},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var n=i(37);Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return n.default}});var r=i(30);Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.default}});var o=i(42);Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return o.default}});var a=i(23);Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return a.default}});var s=i(31);Object.defineProperty(e,"each",{enumerable:!0,get:function(){return s.default}});var l=i(46);Object.defineProperty(e,"toRadian",{enumerable:!0,get:function(){return l.default}});var u=i(47);Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return u.default}});var c=i(61);Object.defineProperty(e,"isNumberEqual",{enumerable:!0,get:function(){return c.default}});var h=i(84);Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return h.default}});var p=i(85);Object.defineProperty(e,"clearAnimationFrame",{enumerable:!0,get:function(){return p.default}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function p(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.abs(i)>Math.abs(n)?0<i?"right":"left":0<n?"down":"up"}function f(t,e){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)}function d(t,e){if(t){for(var i=[],n=t.length,r=0;r<n;r++){var o=t[r],a=o.clientX,s=o.clientY,l=e.getPointByClient(a,s);i.push(l)}return i}}var n,r=i(2),o=i(126),a=(n=o.Controller,r.__extends(s,n),Object.defineProperty(s.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),s.prototype.init=function(){},s.prototype.render=function(){},s.prototype.layout=function(){},s.prototype.update=function(){},s.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},s.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},s.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},s.prototype.emitEvent=function(t,e){this.view.emit(t,e)},s.prototype.emitStart=function(t,e){this.isProcess(t)||(this.enable(t),this.emitEvent(t+"start",e))},s.prototype.emitEnd=function(e){var i=this,n=this.processEvent;Object.keys(n).forEach(function(t){i.emitEvent(t+"end",e),delete n[t]})},s.prototype.enable=function(t){this.processEvent[t]=!0},s.prototype.isProcess=function(t){return this.processEvent[t]},s.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},s.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},s.prototype.getEventType=function(t){var e=this.eventType,i=this.view,n=this.startTime,r=this.startPoints;if(e)return e;var o=i.getEvents().pan,a=!o||!o.length||250<Date.now()-n&&f(r[0],t[0])<10?"press":"pan";return this.eventType=a},s);function s(t){var h=n.call(this,t)||this;return h.processEvent={},h.touchStart=function(t){var e,i,n=d(t.originalEvent.touches,h.canvas);n&&(t.points=n,h.reset(),h.startTime=Date.now(),1<(h.startPoints=n).length?(h.startDistance=f(n[0],n[1]),h.center=(e=n[0],i=n[1],{x:(e.x+i.x)/2,y:(e.y+i.y)/2})):h.pressTimeout=setTimeout(function(){t.direction="none",h.emitStart("press",t),h.emitEvent("press",t),h.eventType="press"},250))},h.touchMove=function(t){var e,i,n,r,o,a,s,l,u,c=d(t.originalEvent.touches,h.canvas);c&&(h.clearPressTimeout(),t.points=c,(e=h.startPoints)&&(1<c.length?(i=h.startDistance,n=f(c[0],c[1]),t.zoom=n/i,t.center=h.center,h.emitStart("pinch",t),h.emitEvent("pinch",t)):(r=c[0].x-e[0].x,o=c[0].y-e[0].y,a=h.direction||p(e[0],c[0]),h.direction=a,s=h.getEventType(c),t.direction=a,t.deltaX=r,t.deltaY=o,h.emitStart(s,t),h.emitEvent(s,t),l=h.lastMoveTime,0<(u=Date.now())-l&&(h.prevMoveTime=l,h.prevMovePoints=h.lastMovePoints,h.lastMoveTime=u,h.lastMovePoints=c))))},h.touchEnd=function(t){h.emitEnd(t);var e,i,n,r,o=h.lastMoveTime;Date.now()-o<100&&(0<(e=o-(h.prevMoveTime||h.startTime))&&(i=h.prevMovePoints||h.startPoints,n=h.lastMovePoints,.3<(r=f(i[0],n[0])/e)&&(t.velocity=r,t.direction=p(i[0],n[0]),h.emitEvent("swipe",t)))),h.reset();var a=t.touches;a&&0<a.length&&h.touchStart(t)},h.canvas=t.getCanvas(),h.delegateEvent(),h.processEvent={},h}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,d=i(2),y=i(0),c=i(127),h=i(128),p=i(87),f=i(221),r=(n=i(126).Controller,d.__extends(o,n),Object.defineProperty(o.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.render=function(){var t=this.view.getOptions().tooltip;this.isVisible=!1!==t},o.prototype.showTooltip=function(t){var e,i,n,r,o,a,s,l,u,c,h,p,f;this.point=t,this.isVisible&&(e=this.view,(i=this.getTooltipItems(t)).length?(n=this.getTitle(i),r={x:i[0].x,y:i[0].y},e.emit("tooltip:show",d.__assign({items:i,title:n},t)),a=(o=this.getTooltipCfg()).follow,s=o.showMarkers,l=o.showCrosshairs,u=o.showContent,c=o.marker,h=this.items,p=this.title,y.isEqual(p,n)&&y.isEqual(h,i)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",d.__assign({items:i,title:n},t)),u&&(this.tooltip||this.renderTooltip(),this.tooltip.update(y.mix({},o,{items:i,title:n},a?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(i,c)),this.items=i,this.title=n,l&&(f=y.get(o,["crosshairs","follow"],!1),this.renderCrosshairs(f?t:r,o))):this.hideTooltip())},o.prototype.hideTooltip=function(){var t,e,i,n;this.getTooltipCfg().follow&&((t=this.tooltipMarkersGroup)&&t.hide(),e=this.xCrosshair,i=this.yCrosshair,e&&e.hide(),i&&i.hide(),(n=this.tooltip)&&n.hide(),this.view.emit("tooltip:hide",{})),this.point=null},o.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},o.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},o.prototype.isTooltipLocked=function(){return this.isLocked},o.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,i=this.yCrosshair,n=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),i&&i.clear(),n&&n.clear()},o.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},o.prototype.changeVisible=function(t){var e,i,n,r;this.visible!==t&&(e=this.tooltip,i=this.tooltipMarkersGroup,n=this.xCrosshair,r=this.yCrosshair,t?(e&&e.show(),i&&i.show(),n&&n.show(),r&&r.show()):(e&&e.hide(),i&&i.hide(),n&&n.hide(),r&&r.hide()),this.visible=t)},o.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var i=0,n=e=y.flatten(e);i<n.length;i++)for(var r=0,o=n[i];r<o.length;r++){var a=o[r],s=a.mappingData,l=s.x,u=s.y;a.x=y.isArray(l)?l[l.length-1]:l,a.y=y.isArray(u)?u[u.length-1]:u}if(!1===this.getTooltipCfg().shared&&1<e.length){for(var c=e[0],h=Math.abs(t.y-c[0].y),p=0,f=e;p<f.length;p++){var d=f[p],g=Math.abs(t.y-d[0].y);g<=h&&(c=d,h=g)}e=[c]}return function(i){for(var n=[],t=function(t){var e=i[t];y.find(n,function(t){return t.color===e.color&&t.name===e.name&&t.value===e.value&&t.title===e.title})||n.push(e)},e=0;e<i.length;e++)t(e);return n}(y.flatten(e))}return[]},o.prototype.layout=function(){},o.prototype.update=function(){this.point&&this.showTooltip(this.point)},o.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,i=t.getTheme(),n=y.get(i,["components","tooltip"],{}),r=y.isUndefined(y.get(e,"enterable"))?n.enterable:y.get(e,"enterable");return y.deepMix({},n,e,{capture:!(!r&&!this.isLocked)})},o.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e},o.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),n=new c.HtmlTooltip(d.__assign(d.__assign({parent:t.get("el").parentNode,region:e},i),{visible:!1,crosshairs:null}));n.init(),this.tooltip=n},o.prototype.renderTooltipMarkers=function(t,e){for(var i=this.getTooltipMarkersGroup(),n=0,r=t;n<r.length;n++){var o=r[n],a=o.x,s=o.y,l=d.__assign(d.__assign({fill:o.color,symbol:"circle",shadowColor:o.color},e),{x:a,y:s});i.addShape("marker",{attrs:l})}},o.prototype.renderCrosshairs=function(t,e){var i=y.get(e,["crosshairs","type"],"x");"x"===i?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===i?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===i&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},o.prototype.renderXCrosshairs=function(t,e){var i,n,r,o,a,s,l,u=this.getViewWithGeometry(this.view).getCoordinate();h.isPointInCoordinate(u,t)&&(u.isRect?o=u.isTransposed?(a={x:u.start.x,y:t.y},{x:u.end.x,y:t.y}):(a={x:t.x,y:u.end.y},{x:t.x,y:u.start.y}):(i=h.getAngleByPoint(u,t),n=u.getCenter(),r=u.getRadius(),o=p.polarToCartesian(n.x,n.y,r,i),a=n),delete(s=y.deepMix({start:a,end:o,container:this.getTooltipCrosshairsGroup()},y.get(e,"crosshairs",{}),this.getCrosshairsText("x",t,e))).type,(l=this.xCrosshair)?l.update(s):(l=new c.Crosshair.Line(s)).init(),l.render(),l.show(),this.xCrosshair=l)},o.prototype.renderYCrosshairs=function(t,e){var i,n,r,o,a,s=this.getViewWithGeometry(this.view).getCoordinate();h.isPointInCoordinate(s,t)&&(o=s.isRect?(n=i=void 0,n=s.isTransposed?(i={x:t.x,y:s.end.y},{x:t.x,y:s.start.y}):(i={x:s.start.x,y:t.y},{x:s.end.x,y:t.y}),r={start:i,end:n},"Line"):(r={center:s.getCenter(),radius:h.getDistanceToCenter(s,t),startAngle:s.startAngle,endAngle:s.endAngle},"Circle"),delete(r=y.deepMix({container:this.getTooltipCrosshairsGroup()},r,y.get(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type,!(a=this.yCrosshair)||s.isRect&&"circle"===a.get("type")||!s.isRect&&"line"===a.get("type")?(a=new c.Crosshair[o](r)).init():a.update(r),a.render(),a.show(),this.yCrosshair=a)},o.prototype.getCrosshairsText=function(t,e,i){var n=y.get(i,["crosshairs","text"]),r=y.get(i,["crosshairs","follow"]),o=this.items;if(n){var a,s=this.getViewWithGeometry(this.view),l=o[0],u=s.getXScale(),c=s.getYScales()[0],h=void 0,p=void 0;p=r?(a=this.view.getCoordinate().invert(e),h=u.invert(a.x),c.invert(a.y)):(h=l.data[u.field],l.data[c.field]);var f="x"===t?h:p;return y.isFunction(n)?n=n(t,f,o,e):n.content=f,{text:n}}},o.prototype.getGuideGroup=function(){var t;return this.guideGroup||(t=this.view.foregroundGroup,this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},o.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},o.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},o.prototype.getTooltipItemsByHitShape=function(t,e,i){var n,r,o=[],a=t.container.getShape(e.x,e.y);return a&&a.get("visible")&&a.get("origin")&&(n=a.get("origin").mappingData,(r=f.getTooltipItems(n,t,i)).length&&o.push(r)),o},o.prototype.getTooltipItemsByFindData=function(t,e,i){var n=[],r=t.dataArray;t.sort(r);for(var o=0,a=r;o<a.length;o++){var s,l,u,c=a[o],h=f.findDataByPoint(e,c,t);h&&(s=t.getElementId(h),l=t.elementsMap[s],"heatmap"!==t.type&&!l.visible||(u=f.getTooltipItems(h,t,i)).length&&n.push(u))}return n},o.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var i=[],n=t.geometries,r=this.getTooltipCfg(),o=r.shared,a=r.title,s=0,l=n;s<l.length;s++){var u,c,h=l[s];h.visible&&!1!==h.tooltipOption&&(u=h.type,(c=["point","edge","polygon"].includes(u)||!["area","line","path","heatmap"].includes(u)&&!1===o?this.getTooltipItemsByHitShape(h,e,a):this.getTooltipItemsByFindData(h,e,a)).length&&i.push(c))}for(var p=0,f=t.views;p<f.length;p++)var d=f[p],i=i.concat(this.findItemsFromView(d,e));return i},o.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:y.find(t.views,function(t){return e.getViewWithGeometry(t)})},o);function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.isLocked=!1,t.isVisible=!0,t}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniq=e.omit=e.padEnd=e.isBetween=void 0;var a=i(0);e.isBetween=function(t,e,i){var n=Math.min(e,i),r=Math.max(e,i);return n<=t&&t<=r},e.padEnd=function(t,e,i){if(a.isString(t))return t.padEnd(e,i);if(a.isArray(t)){var n=t.length;if(n<e)for(var r=e-n,o=0;o<r;o++)t.push(i)}return t},e.omit=function(e,t){return t.forEach(function(t){delete e[t]}),e},e.uniq=function(t,e,i){void 0===e&&(e=[]),void 0===i&&(i={});for(var n=0,r=t;n<r.length;n++){var o=r[n];i[o]||(e.push(o),i[o]=!0)}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTooltipItems=e.findDataByPoint=void 0;var w=i(2),R=i(0),N=i(52),M=i(222);function Y(t,e,i){var n=i.translate(t),r=i.translate(e);return R.isNumberEqual(n,r)}function G(t,e,i){var n=i.coordinate,r=i.getYScale(),o=r.field,a=n.invert(e),s=r.invert(a.y);return R.find(t,function(t){var e=t[N.FIELD_ORIGIN];return e[o][0]<=s&&e[o][1]>=s})||t[t.length-1]}var X=R.memoize(function(t){if(t.isCategory)return 1;for(var e=t.values,i=e.length,n=t.translate(e[0]),r=n,o=0;o<i;o++){var a=e[o],s=t.translate(a);s<n&&(n=s),r<s&&(r=s)}return(r-n)/(i-1)});function C(t){for(var e,i,n=0,r=(i=R.values(t.attributes),R.filter(i,function(t){return R.contains(N.GROUP_ATTRS,t.type)}));n<r.length;n++){var o=r[n],a=o.getScale(o.type);if(a&&a.isLinear){e=a;break}}var s=t.getXScale(),l=t.getYScale();return e||l||s}e.findDataByPoint=function(t,e,i){if(0===e.length)return null;var n=i.type,r=i.getXScale(),o=i.getYScale(),a=r.field,s=o.field,l=null;if("heatmap"===n||"point"===n){for(var u=i.coordinate.invert(t),c=r.invert(u.x),h=o.invert(u.y),p=1/0,f=0;f<e.length;f++){var d=e[f],g=d[N.FIELD_ORIGIN],y=Math.pow(g[a]-c,2)+Math.pow(g[s]-h,2);y<p&&(p=y,l=d)}return l}var v,m,x,b,_,O,w,M=e[0],C=e[e.length-1],S=(v=t,m=i.coordinate,x=i.getXScale(),b=x.range,_=b[b.length-1],O=b[0],w=m.invert(v).x,m.isPolar&&(1+_)/2<w&&(w=O),x.translate(x.invert(w))),j=M[N.FIELD_ORIGIN][a],P=M[N.FIELD_ORIGIN][s],T=C[N.FIELD_ORIGIN][a],A=o.isLinear&&R.isArray(P);if(R.isArray(j)){for(f=0;f<e.length;f++)if(g=(E=e[f])[N.FIELD_ORIGIN],r.translate(g[a][0])<=S&&r.translate(g[a][1])>=S){if(!A){l=E;break}R.isArray(l)||(l=[]),l.push(E)}R.isArray(l)&&(l=G(l,t,i))}else{var E,L=void 0;if(r.isLinear||"timeCat"===r.type){if((S>r.translate(T)||S<r.translate(j))&&(S>r.max||S<r.min))return null;for(var k=0,I=e.length-1,D=void 0;k<=I;){var B=e[D=Math.floor((k+I)/2)][N.FIELD_ORIGIN][a];if(Y(B,S,r))return e[D];r.translate(B)<=r.translate(S)?(k=D+1,C=e[D],L=e[D+1]):(0===I&&(C=e[0]),I=D-1)}}else{for(f=0;f<e.length;f++){if(Y((g=(E=e[f])[N.FIELD_ORIGIN])[a],S,r)){if(!A){l=E;break}R.isArray(l)||(l=[]),l.push(E)}else r.translate(g[a])<=S&&(C=E,L=e[f+1])}R.isArray(l)&&(l=G(l,t,i))}C&&L&&Math.abs(r.translate(C[N.FIELD_ORIGIN][a])-S)>Math.abs(r.translate(L[N.FIELD_ORIGIN][a])-S)&&(C=L)}var F=X(i.getXScale());return!l&&Math.abs(r.translate(C[N.FIELD_ORIGIN][a])-S)<=F/2&&(l=C),l},e.getTooltipItems=function(n,t,r){void 0===r&&(r="");var e,i,o,a=n[N.FIELD_ORIGIN],s=function(t,e){var i=r;r||(i=e.getAttribute("position").getFields()[0]);var n=e.scales;return n[i]?n[i].getText(t[i]):R.hasKey(t,i)?t[i]:i}(a,t),l=t.tooltipOption,u=t.theme.defaultColor,c=[];function h(t,e){var i;R.isNil(e)||""===e||(i={title:s,data:a,mappingData:n,name:t||s,value:e,color:n.color||u,marker:!0},c.push(i))}if(R.isObject(l)){var p=l.fields,f=l.callback;if(f){var d=p.map(function(t){return n[N.FIELD_ORIGIN][t]}),g=f.apply(void 0,d),y=w.__assign({data:n[N.FIELD_ORIGIN],mappingData:n,title:s,color:n.color||u,marker:!0},g);c.push(y)}else for(var v=t.scales,m=0,x=p;m<x.length;m++){var b,_=x[m];R.isNil(a[_])||(b=v[_],h(M.getName(b),e=b.getText(a[_])))}}else{var O=C(t);R.isNil(a[O.field])||(o=a[(i=O).field],e=R.isArray(o)?o.map(function(t){return i.getText(t)}).join("-"):i.getText(o),h(function(t,e){var i,n=e.getGroupScales();if(n.length&&(i=n[0]),i){var r=i.field;return i.getText(t[r])}var o=C(e);return M.getName(o)}(a,t),e))}return c}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getName=e.syncScale=e.createScaleByField=void 0;var l=i(2),u=i(0),c=i(127),h=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;e.createScaleByField=function(t,e,i){var n=e||[];if(u.isNumber(t)||u.isNil(u.firstValue(n,t))&&u.isEmpty(i))return new(c.getScale("identity"))({field:t.toString(),values:[t]});var r,o,a=u.valuesOfKey(n,t),s=u.get(i,"type",(r=a[0],o="linear",h.test(r)?o="time":u.isString(r)&&(o="cat"),o));return new(c.getScale(s))(l.__assign({field:t,values:a},i))},e.syncScale=function(t,e){if("identity"!==t.type&&"identity"!==e.type){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);t.change(i)}},e.getName=function(t){return t.alias||t.field}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),l=i(0),o=i(224),r=n.__importDefault(i(227)),a=n.__importDefault(i(229));function s(t,e){var i=t.split(":"),n=i[0],r=e.getAction(n)||o.createAction(n,e);if(!r)throw new Error("There is no action named "+n);return{action:r,methodName:i[1]}}function u(t){var e=t.action,i=t.methodName;if(!e[i])throw new Error("Action("+e.name+") doesn't have a method called "+i);e[i]()}var c,h="start",p="showEnable",f="processing",d=(c=a.default,n.__extends(g,c),g.prototype.init=function(){this.initContext(),c.prototype.init.call(this)},g.prototype.destroy=function(){c.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},g.prototype.initEvents=function(){var n=this;l.each(this.steps,function(t,i){l.each(t,function(t){var e=n.getActionCallback(i,t);e&&n.bindEvent(t.trigger,e)})})},g.prototype.clearEvents=function(){var n=this;l.each(this.steps,function(t,i){l.each(t,function(t){var e=n.getActionCallback(i,t);e&&n.offEvent(t.trigger,e)})})},g.prototype.initContext=function(){var t=this.view,i=new r.default(t);this.context=i;var e=this.steps;l.each(e,function(t){l.each(t,function(e){var t;l.isFunction(e.action)?e.actionObject={action:o.createCallbackAction(e.action,i),methodName:"execute"}:l.isString(e.action)?e.actionObject=s(e.action,i):l.isArray(e.action)&&(t=e.action,e.actionObject=[],l.each(t,function(t){e.actionObject.push(s(t,i))}))})})},g.prototype.isAllowStep=function(t){var e=this.currentStepName,i=this.steps;if(e===t)return!0;if(t===p)return!0;if(t===f)return e===h;if(t===h)return e!==f;if("end"===t)return e===f||e===h;if("rollback"===t){if(i.end)return"end"===e;if(e===h)return!0}return!1},g.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var i=this.getKey(t,e);return(!e.once||!this.emitCaches[i])&&(!e.isEnable||e.isEnable(this.context))}return!1},g.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},g.prototype.afterExecute=function(t,e){t!==p&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,e);this.emitCaches[i]=!0},g.prototype.getKey=function(t,e){return t+e.trigger+e.action},g.prototype.getActionCallback=function(t,i){var n=this,r=this.context,e=this.callbackCaches,o=i.actionObject;if(i.action&&o){var a,s=this.getKey(t,i);return e[s]||(a=function(e){r.event=e,n.isAllowExcute(t,i)?(l.isArray(o)?l.each(o,function(t){r.event=e,u(t)}):(r.event=e,u(o)),n.afterExecute(t,i),i.callback&&(r.event=e,i.callback(r))):r.event=null},i.debounce?e[s]=l.debounce(a,i.debounce.wait,i.debounce.immediate):i.throttle?e[s]=l.throttle(a,i.throttle.wait,{leading:i.throttle.leading,trailing:i.throttle.trailing}):e[s]=a),e[s]}return null},g.prototype.bindEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.addEventListener(i[1],e):"document"===i[0]?document.addEventListener(i[1],e):this.view.on(t,e)},g.prototype.offEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.removeEventListener(i[1],e):"document"===i[0]?document.removeEventListener(i[1],e):this.view.off(t,e)},g);function g(t,e){var i=c.call(this,t,e)||this;return i.callbackCaches={},i.emitCaches={},i.steps=e,i}e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCallbackAction=e.unregisterAction=e.registerAction=e.getActionClass=e.createAction=void 0;var n=i(2).__importDefault(i(225)),r=i(0),o={};e.createAction=function(t,e){var i=o[t],n=null;return i&&((n=new i.ActionClass(e,i.cfg)).name=t,n.init()),n},e.getActionClass=function(t){var e=o[t];return r.get(e,"ActionClass")},e.registerAction=function(t,e,i){o[t]={ActionClass:e,cfg:i}},e.unregisterAction=function(t){delete o[t]},e.createCallbackAction=function(t,e){var i=new n.default(e);return i.callback=t,i.name="callback",i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(2),o=(n=r.__importDefault(i(226)).default,r.__extends(a,n),a.prototype.execute=function(){this.callback&&this.callback(this.context)},a.prototype.destroy=function(){n.prototype.destroy.call(this),this.callback=null},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=(o.prototype.applyCfg=function(t){n.assign(this,t)},o.prototype.init=function(){this.applyCfg(this.cfg)},o.prototype.destroy=function(){this.context.removeAction(this),this.context=null},o);function o(t,e){this.context=t,this.cfg=e,t.addAction(this)}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(131),o=(a.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},a.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},a.prototype.addAction=function(t){this.actions.push(t)},a.prototype.removeAction=function(t){var e=this.actions,i=this.actions.indexOf(t);0<=i&&e.splice(i,1)},a.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},a.prototype.getCurrentShape=function(){return n.get(this.event,["gEvent","shape"])},a.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},a.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},a.prototype.isInComponent=function(i){var t=r.getComponents(this.view),n=this.getCurrentPoint();return!!n&&!!t.find(function(t){var e=t.getBBox();return(!i||t.get("name")===i)&&r.isInBox(e,n)})},a.prototype.destroy=function(){this.view=null,this.event=null,n.each(this.actions.slice(),function(t){t.destroy()}),this.actions=null,this.cacheMap=null},a);function a(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}e.default=o},function(t,f,e){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.convertPolarPath=f.convertNormalPath=f.getSplinePath=f.getLinePath=f.catmullRom2bezier=f.smoothBezier=void 0;var O=e(3),n=e(0),w=e(128);function M(t,e){for(var i=[t[0]],n=1,r=t.length;n<r;n+=2){var o=e.convert({x:t[n],y:t[n+1]});i.push(o.x,o.y)}return i}function c(t,e,i){for(var n=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);for(var s,l,u,c=f.smoothBezier(r,.4,n,i),h=r.length,p=[],o=0;o<h-1;o++)s=c[2*o],l=c[2*o+1],u=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]]);return n&&(s=c[h],l=c[h+1],u=r[0],p.push(["C",s[0],s[1],l[0],l[1],u[0],u[1]])),p}function h(t,e){return function(t,e){var i=[];if(t.length){i.push(["M",t[0].x,t[0].y]);for(var n=1,r=t.length;n<r;n+=1){var o=t[n];i.push(["L",o.x,o.y])}e&&i.push(["Z"])}return i}(t,e)}f.smoothBezier=function(t,e,i,n){var r,o,a=[],s=!!n;if(s){h=[1/0,1/0],p=[-1/0,-1/0];for(var l=0,u=t.length;l<u;l++)var c=t[l],h=O.vec2.min([0,0],h,c),p=O.vec2.max([0,0],p,c);h=O.vec2.min([0,0],h,n[0]),p=O.vec2.max([0,0],p,n[1])}l=0;for(var f=t.length;l<f;l++){if(c=t[l],i)r=t[l?l-1:f-1],o=t[(l+1)%f];else{if(0===l||l===f-1){a.push(c);continue}r=t[l-1],o=t[l+1]}var d=[0,0],d=O.vec2.sub(d,o,r);d=O.vec2.scale(d,d,e);var g=O.vec2.distance(c,r),y=O.vec2.distance(c,o),v=g+y;0!==v&&(g/=v,y/=v);var m=O.vec2.scale([0,0],d,-g),x=O.vec2.scale([0,0],d,y),b=O.vec2.add([0,0],c,m),_=O.vec2.add([0,0],c,x);s&&(b=O.vec2.max([0,0],b,h),b=O.vec2.min([0,0],b,p),_=O.vec2.max([0,0],_,h),_=O.vec2.min([0,0],_,p)),a.push(b),a.push(_)}return i&&a.push(a.shift()),a},f.catmullRom2bezier=c,f.getLinePath=h,f.getSplinePath=function(t,e,i){var n=[],r=t[0],o=null;if(t.length<=2)return h(t,e);for(var a=0,s=t.length;a<s;a++){var l=t[a];o&&o.x===l.x&&o.y===l.y||(n.push(l.x),n.push(l.y),o=l)}var u=c(n,e,i||[[0,0],[1,1]]);return u.unshift(["M",r.x,r.y]),u},f.convertNormalPath=function(e,t){var i=[];return n.each(t,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":i.push(M(t,e));break;case"z":default:i.push(t)}}),i},f.convertPolarPath=function(v,m){var x,b,r,_=[];return n.each(m,function(t,e){switch(t[0].toLowerCase()){case"m":case"c":case"q":_.push(M(t,v));break;case"l":x=m[e-1],b=t,(v.isTransposed?x[x.length-2]===b[1]:x[x.length-1]===b[2])?_=_.concat((o=(i=v).isTransposed,a=i.startAngle,s=i.endAngle,l={x:x[1],y:x[2]},u={x:b[1],y:b[2]},c=[],h=o?"y":"x",p=Math.abs(u[h]-l[h])*(s-a),f=l[h]<=u[h]?1:0,d=p>Math.PI?1:0,g=i.convert(u),.5<=(y=w.getDistanceToCenter(i,g))&&(p==2*Math.PI&&(n={x:(u.x+l.x)/2,y:(u.y+l.y)/2},r=i.convert(n),c.push(["A",y,y,0,d,f,r.x,r.y])),c.push(["A",y,y,0,d,f,g.x,g.y])),c)):_.push(M(t,v));break;case"z":default:_.push(t)}var i,n,r,o,a,s,l,u,c,h,p,f,d,g,y}),r=_,n.each(r,function(t,e){var i,n;"a"===t[0].toLowerCase()&&(i=r[e-1],(n=r[e+1])&&"a"===n[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M"))}),_}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.init=function(){this.initEvents()},r.prototype.initEvents=function(){},r.prototype.clearEvents=function(){},r.prototype.destroy=function(){this.clearEvents()},r);function r(t,e){this.view=t,this.cfg=e}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAnimation=e.getAnimation=void 0;var n={};e.getAnimation=function(t){return n[t.toLowerCase()]},e.registerAnimation=function(t,e){n[t.toLowerCase()]=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,l=i(2),h=i(0),p=i(63),n=l.__importDefault(i(232)),f=i(87),d=i(115),r=(s=n.default,l.__extends(o,s),o.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},o.prototype.update=function(t){var e,i,n=this.shapeFactory,r=this.shape;r&&(this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(r,t),e=this.getOffscreenGroup(),(i=n.drawShape(this.shapeType,t,e)).cfg.data=this.data,i.cfg.origin=t,this.syncShapeStyle(r,i,"",this.getAnimateCfg("update")))},o.prototype.destroy=function(){var t,e=this.shapeFactory,i=this.shape;i&&((t=this.getAnimateCfg("leave"))?p.doAnimate(i,t,{coordinate:e.coordinate,toAttrs:l.__assign({},i.attr())}):i.remove(!0)),this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,s.prototype.destroy.call(this)},o.prototype.changeVisible=function(t){s.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},o.prototype.setState=function(t,e){var i=this,n=this.states,r=this.shapeFactory,o=this.model,a=this.shape,s=this.shapeType,l=n.indexOf(t);if(e){if(-1<l)return;n.push(t),"active"!==t&&"selected"!==t||a.toFront()}else{if(-1===l)return;n.splice(l,1),"active"!==t&&"selected"!==t||a.toBack()}var u=r.drawShape(s,o,this.getOffscreenGroup());n.length?n.forEach(function(t){i.syncShapeStyle(a,u,t,null)}):this.syncShapeStyle(a,u,"reset",null),u.remove(!0);var c={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",c),d.propagationDelegate(this.shape,"statechange",c)},o.prototype.clearStates=function(){var e=this,t=this.states;h.each(t,function(t){e.setState(t,!1)}),this.states=[]},o.prototype.hasState=function(t){return this.states.includes(t)},o.prototype.getStates=function(){return this.states},o.prototype.getData=function(){return this.data},o.prototype.getModel=function(){return this.model},o.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(i=t.getCanvasBBox()),e&&e.forEach(function(t){var e=t.getCanvasBBox();i.x=Math.min(e.x,i.x),i.y=Math.min(e.y,i.y),i.minX=Math.min(e.minX,i.minX),i.minY=Math.min(e.minY,i.minY),i.maxX=Math.max(e.maxX,i.maxX),i.maxY=Math.max(e.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},o.prototype.getStatesStyle=function(){var t,e,i,n,r,o;return this.statesStyle||(t=this.shapeType,e=this.geometry,i=this.shapeFactory,n=e.stateOption,r=i.defaultShapeType,o=i.theme[t]||i.theme[r],this.statesStyle=h.deepMix({},o,n)),this.statesStyle},o.prototype.getStateStyle=function(t,e){var i=this.getStatesStyle(),n=h.get(i,[t,"style"],{}),r=n[e]||n;return h.isFunction(r)?r(this):r},o.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},o.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var i,n,r,o=this.shapeFactory,a=this.container,s=this.shapeType;this.shape=o.drawShape(s,t,a),this.shape&&(this.setShapeInfo(this.shape,t),(i=this.shape.cfg.name)?h.isString(i)&&(this.shape.cfg.name=["element",i]):this.shape.cfg.name=["element",this.shapeFactory.geometryType],n=e?"enter":"appear",(r=this.getAnimateCfg(n))&&p.doAnimate(this.shape,r,{coordinate:o.coordinate,toAttrs:l.__assign({},this.shape.attr())}))},o.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},o.prototype.setShapeInfo=function(t,e){var i=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(t){i.setShapeInfo(t,e)})},o.prototype.syncShapeStyle=function(t,e,i,n,r){if(void 0===i&&(i=""),void 0===r&&(r=0),t.isGroup())for(var o=t.get("children"),a=e.get("children"),s=0;s<o.length;s++)this.syncShapeStyle(o[s],a[s],i,n,r+s);else{var l,u;i&&"reset"!==i&&(l=t.get("name"),h.isArray(l)&&(l=l[1]),u=this.getStateStyle(i,l||r),e.attr(u));var c=f.getReplaceAttrs(t,e);this.animate?n?p.doAnimate(t,n,{coordinate:this.shapeFactory.coordinate,toAttrs:c,shapeModel:this.model}):i?(t.stopAnimate(),t.animate(c,{duration:300})):t.attr(c):t.attr(c)}},o.prototype.getShapeType=function(t){var e=h.get(t,"shape");return h.isArray(e)?e[0]:e},o);function o(t){var e=s.call(this,t)||this;e.states=[];var i=t.shapeFactory,n=t.container,r=t.offscreenGroup,o=t.visible,a=void 0===o||o;return e.shapeFactory=i,e.container=n,e.offscreenGroup=r,e.visible=a,e}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(2),o=(r=n.__importDefault(i(22)).default,n.__extends(a,r),a.prototype.show=function(){this.visible||(this.visible=!0,this.changeVisible(!0))},a.prototype.hide=function(){this.visible&&(this.visible=!1,this.changeVisible(!1))},a.prototype.destroy=function(){this.off(),this.destroyed=!0},a.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},a);function a(t){var e=r.call(this)||this;e.destroyed=!1;var i=t.visible,n=void 0===i||i;return e.visible=n,e}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=i(1),l=i(40),d=i(7),u=i(0),n=i(234),g=i(133),c=i(32),o=i(134),y=i(237),a=(r=n.default,s.__extends(h,r),h.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return s.__assign(s.__assign({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+c.CONTAINER_CLASS+'"><div class="'+c.TITLE_CLASS+'"></div><ul class="'+c.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+c.LIST_ITEM_CLASS+'" data-index={index}>\n          <span class="'+c.MARKER_CLASS+'" style="background:{color}"></span>\n          <span class="'+c.NAME_CLASS+'">{name}</span>:\n          <span class="'+c.VALUE_CLASS+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+c.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+c.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:c.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:o.default})},h.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},h.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},h.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),d.modifyCSS(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},h.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),d.modifyCSS(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},h.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},h.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},h.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",i=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");i&&d.modifyCSS(i,{display:e}),n&&d.modifyCSS(n,{display:e})},h.prototype.initContainer=function(){var t;r.prototype.initContainer.call(this),this.get("customContent")&&(this.get("container")&&this.get("container").remove(),t=this.getHtmlContentNode(),this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles())},h.prototype.updateInner=function(t){var e,i,n;this.get("customContent")?this.renderCustomContent():(e=t,n=!(i=["title","showTitle"]),u.each(i,function(t){if(u.hasKey(e,t))return!(n=!0)}),n&&this.resetTitle(),u.hasKey(t,"items")&&this.renderItems()),r.prototype.updateInner.call(this,t)},h.prototype.initDom=function(){this.cacheDoms()},h.prototype.removeDom=function(){r.prototype.removeDom.call(this),this.clearCrosshairs()},h.prototype.resetPosition=function(){var t,e=this.get("x"),i=this.get("y"),n=this.get("offset"),r=this.getOffset(),o=r.offsetX,a=r.offsetY,s=this.get("position"),l=this.get("region"),u=this.getContainer(),c=this.getBBox(),h=c.width,p=c.height;l&&(t=g.regionToBBox(l));var f=y.getAlignPoint(e,i,n,h,p,s,t);d.modifyCSS(u,{left:g.toPx(f.x+o),top:g.toPx(f.y+a)}),this.resetCrosshairs()},h.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),i=this.get("container");i&&i.parentNode===e?e.replaceChild(t,i):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},h.prototype.getHtmlContentNode=function(){var t,e,i=this.get("customContent");return i&&(t=i(this.get("title"),this.get("items")),e=u.isElement(t)?t:d.createDom(t)),e},h.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(c.TITLE_CLASS)[0],i=t.getElementsByClassName(c.LIST_CLASS)[0];this.set("titleDom",e),this.set("listDom",i)},h.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},h.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},h.prototype.resetCrosshairs=function(){var t,e,i,n=this.get("crosshairsRegion"),r=this.get("crosshairs");n&&r?(t=g.regionToBBox(n),e=this.get("xCrosshairDom"),i=this.get("yCrosshairDom"),"x"===r?(this.resetCrosshair("x",t),i&&(i.remove(),this.set("yCrosshairDom",null))):"y"===r?(this.resetCrosshair("y",t),e&&(e.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",t),this.resetCrosshair("y",t)),this.setCrossHairsVisible(this.get("visible"))):this.clearCrosshairs()},h.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),n=this.get(t);"x"===t?d.modifyCSS(i,{left:g.toPx(n),top:g.toPx(e.y),height:g.toPx(e.height)}):d.modifyCSS(i,{top:g.toPx(n),left:g.toPx(e.x),width:g.toPx(e.width)})},h.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",i=t+"CrosshairTpl",n="CROSSHAIR_"+t.toUpperCase(),r=c[n],o=this.get(e),a=this.get("parent");return o||(o=d.createDom(this.get(i)),this.applyStyle(r,o),a.appendChild(o),this.set(e,o)),o},h.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),o=this.get("itemTpl"),a=this.get("listDom");a&&(u.each(t,function(t){var e=l.default.toCSSGradient(t.color),i=s.__assign(s.__assign({},t),{color:e}),n=u.substitute(o,i),r=d.createDom(n);a.appendChild(r)}),this.applyChildrenStyles(a,this.get("domStyles")))},h.prototype.clearItemDoms=function(){this.get("listDom")&&g.clearDom(this.get("listDom"))},h.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},h);function h(){return null!==r&&r.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(7),a=i(0),s=i(133),l=(n=i(235).default,r.__extends(u,n),u.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return r.__assign(r.__assign({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},u.prototype.getContainer=function(){return this.get("container")},u.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},u.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},u.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},u.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,i=parseFloat(t.style.top)||0;return s.createBBox(e,i,t.clientWidth,t.clientHeight)},u.prototype.clear=function(){var t=this.get("container");s.clearDom(t)},u.prototype.destroy=function(){this.removeEvent(),this.removeDom(),n.prototype.destroy.call(this)},u.prototype.init=function(){n.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},u.prototype.initCapture=function(){this.setCapture(this.get("capture"))},u.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},u.prototype.initDom=function(){},u.prototype.initContainer=function(){var t,e=this.get("container");a.isNil(e)?(e=this.createDom(),t=this.get("parent"),a.isString(t)&&(t=document.getElementById(t),this.set("parent",t)),t.appendChild(e),this.set("container",e)):a.isString(e)&&(e=document.getElementById(e),this.set("container",e)),this.get("parent")||this.set("parent",e.parentNode)},u.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles"),t=t?a.deepMix({},e,t):e;this.set("domStyles",t)},u.prototype.applyStyles=function(){var t,e,i,n=this.get("domStyles");n&&(t=this.getContainer(),this.applyChildrenStyles(t,n),(e=this.get("containerClassName"))&&s.hasClass(t,e)&&(i=n[e],o.modifyCSS(t,i)))},u.prototype.applyChildrenStyles=function(n,t){a.each(t,function(e,t){var i=n.getElementsByClassName(t);a.each(i,function(t){o.modifyCSS(t,e)})})},u.prototype.applyStyle=function(t,e){var i=this.get("domStyles");o.modifyCSS(e,i[t])},u.prototype.createDom=function(){var t=this.get("containerTpl");return o.createDom(t)},u.prototype.initEvent=function(){},u.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},u.prototype.removeEvent=function(){},u.prototype.updateInner=function(t){a.hasKey(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},u.prototype.resetPosition=function(){},u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(10),a=i(0),s={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},l=(n=o.Base,r.__extends(u,n),u.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},u.prototype.clear=function(){},u.prototype.update=function(t){var n=this,r=this.get("defaultCfg");a.each(t,function(t,e){var i=t;n.get(e)!==t&&(a.isObject(t)&&r[e]&&(i=a.deepMix({},r[e],t)),n.set(e,i))}),this.updateInner(t),this.afterUpdate(t)},u.prototype.updateInner=function(t){},u.prototype.afterUpdate=function(t){a.hasKey(t,"visible")&&(t.visible?this.show():this.hide()),a.hasKey(t,"capture")&&this.setCapture(t.capture)},u.prototype.getLayoutBBox=function(){return this.getBBox()},u.prototype.getLocationType=function(){return this.get("locationType")},u.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},u.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},u.prototype.setLocation=function(t){var e=r.__assign({},t);this.update(e)},u.prototype.getLocation=function(){var e=this,i={},t=this.get("locationType"),n=s[t];return a.each(n,function(t){i[t]=e.get(t)}),i},u.prototype.isList=function(){return!1},u.prototype.isSlider=function(){return!1},u.prototype.init=function(){},u.prototype.initCfg=function(){var r=this,t=this.get("defaultCfg");a.each(t,function(t,e){var i,n=r.get(e);a.isObject(n)&&(i=a.deepMix({},t,n),r.set(e,i))})},u);function u(t){var e=n.call(this,t)||this;return e.initCfg(),e}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},function(t,e,i){"use strict";function u(t,e,i,n,r){return{left:t<r.x,right:t+i>r.x+r.width,top:e<r.y,bottom:e+n>r.y+r.height}}function c(t,e,i,n,r,o){var a=t,s=e;switch(o){case"left":a=t-n-i,s=e-r/2;break;case"right":a=t+i,s=e-r/2;break;case"top":a=t-n/2,s=e-r-i;break;case"bottom":a=t-n/2,s=e+i;break;default:a=t+i,s=e-r-i}return{x:a,y:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.getAlignPoint=e.getPointByPosition=e.getOutSides=void 0,e.getOutSides=u,e.getPointByPosition=c,e.getAlignPoint=function(t,e,i,n,r,o,a){var s,l=c(t,e,i,n,r,o);return a&&(s=u(l.x,l.y,n,r,a),"auto"===o?(s.right&&(l.x=t-n-i),s.top&&(l.y=e+i)):"top"===o||"bottom"===o?(s.left&&(l.x=a.x),s.right&&(l.x=a.x+a.width-n),"top"===o&&s.top&&(l.y=e+i),"bottom"===o&&s.bottom&&(l.y=e-r-i)):(s.top&&(l.y=a.y),s.bottom&&(l.y=a.y+a.height-r),"left"===o&&s.left&&(l.x=t+i),"right"===o&&s.right&&(l.x=t-n-i))),l}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),u=i(0),n=i(137);function r(t,e,i){t[i]&&(e[i]=t[i])}var a=(s.prototype.init=function(){this.config=!1;var t=this.plot.getPlotTheme();this.themeConfig=t&&t.axis&&t.axis[this.dim],this._needDraw()&&this._styleParser()},s.prototype._styleParser=function(){this.config=o.__assign({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,r(this.localProps,this.config,"autoHideLabel"),r(this.localProps,this.config,"autoRotateLabel"),r(this.localProps,this.config,"autoRotateTitle")},s.prototype._needDraw=function(){var t=this.plot.options,e=t[this.dim+"Axis"]?t[this.dim+"Axis"]:{},i=u.deepMix({},this.themeConfig,e);return!!(this.localProps=i).visible},s.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},s.prototype._gridParser=function(){var t,e,i,n,r,o=this,a=null===(e=null===(t=this.localProps.grid)||void 0===t?void 0:t.line)||void 0===e?void 0:e.style,s=null===(n=null===(i=this.localProps.grid)||void 0===i?void 0:i.line)||void 0===n?void 0:n.type,l=null===(r=this.localProps.grid)||void 0===r?void 0:r.alternateColor;u.isFunction(a)?this.config.grid=function(t,e,i){var n=a(t,e,i);return{line:{type:s,style:u.deepMix({},u.get(o.themeConfig,"grid.line.style"),n)},alternateColor:l}}:a&&(this.config.grid={line:{type:s,style:a},alternateColor:l},this.applyThemeConfig("grid"))},s.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},s.prototype._labelParser=function(){var t=this.localProps.label,e=t.style,i=o.__rest(t,["style"]),n=o.__assign({},i);e&&(n.style=o.__assign({},this.localProps.label.style)),n.style=u.deepMix({},u.get(this.themeConfig,"label.style"),n.style);var r=this.parseFormatter(n);n.formatter=r,this.config.label=n},s.prototype._titleParser=function(){var t=o.__assign({},this.localProps.title),e=this.localProps.title,i=e.visible,n=e.style,r=e.text;i?(this.config.showTitle=!0,n&&(t.style=n),t.style=u.deepMix({},u.get(this.config,"title.style"),t.textStyle),r&&(t.text=r)):this.config.showTitle=!1,this.config.title=t},s.prototype._isVisible=function(t){return!(!this.localProps[t]||!this.localProps[t].visible)},s.prototype.applyThemeConfig=function(t){this.config[t]=u.deepMix({},u.get(this.themeConfig,t+".style"),this.config[t])},s.prototype.parseFormatter=function(t){var e=n.combineFormatter(n.getNoopFormatter(),n.getPrecisionFormatter(t.precision),n.getSuffixFormatter(t.suffix));return t.formatter&&(e=n.combineFormatter(e,t.formatter)),e},s);function s(t){this.config=!1,this.plot=t.plot,this.dim=t.dim,this.init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(21),v=i(0),r=i(24),o=(a.prototype._init=function(){var t,e,i,n,r,o,a,s,l,u,c,h,p,f=this.plot.options,d=f.yField,g=f.data,y=this.plot.processData(g);v.isNumber(y[0][d])&&(t=this.getDefaultStyle(),(e={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end}).style=v.deepMix({},t.line.style,this.cfg.lineStyle),e.text=v.deepMix({},t.text,this.cfg.text),this.cfg.type?(i=this._getState(this.cfg.type),r=["0%",n=100*(1-this.getYScale().scale(i))+"%"],o=["100%",n],this.config=v.mix({start:r,end:o},e)):(a=this.cfg,s=a.start,l=a.end,this.config=v.clone(e),u=this.getXScale(),c=this.getYScale(),h=v.clone(s),p=v.clone(l),v.each(s,function(t,e){v.contains(v.toArray(s[e]),"%")&&!v.isNumber(s[e])||(h[e]=0===e?100*u.scale(s[0])+"%":100*(1-c.scale(s[1]))+"%")}),v.each(l,function(t,e){v.contains(v.toArray(l[e]),"%")&&!v.isNumber(l[e])||(p[e]=0===e?100*u.scale(l[0])+"%":100*(1-c.scale(l[1]))+"%")}),this.config.start=h,this.config.end=p))},a.prototype.getYScale=function(){var t=this._getState("min"),e=this._getState("max");return new(n.getScale("linear"))(v.mix({},{min:"column"===this.plot.type?0:t,max:e,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]))},a.prototype.getXScale=function(){var t=this.extractXValue();if(v.isString(t[0]))return new(n.getScale("cat"))(v.mix({},{values:t},this.plot.config.scales[this.plot.options.xField]));var e=Math.min.apply(Math,t),i=Math.max.apply(Math,t);return new(n.getScale("linear"))(v.mix({},{min:e,max:i,nice:!0,values:t},this.plot.config.scales[this.plot.options.xField]))},a.prototype._getState=function(t){return this.values=this._extractValues(),"median"===t?r.getMedian(this.values):"mean"===t?r.getMean(this.values):"max"===t?Math.max.apply(Math,this.values):"min"===t?Math.min.apply(Math,this.values):void 0},a.prototype._extractValues=function(){var t=this.plot.options,e=t.yField,i=[],n=this.plot.processData(t.data);return v.each(n,function(t){v.isArray(t[e])?i.push.apply(i,t[e]):i.push(t[e])}),i},a.prototype.extractXValue=function(){var t=this.plot.options,e=t.xField,i=[],n=this.plot.processData(t.data);return v.each(n,function(t){v.isArray(t[e])?i.push.apply(i,t[e]):i.push(t[e])}),i},a.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},a.prototype.getDefaultTextAlign=function(){var t=this.cfg.text;if(t){if(!t.position||"start"===t.position)return"left";if("center"===t.position)return"center";if("end"===t.position)return"right"}},a);function a(t){v.assign(this,t),this._init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),a=i(137),n=(s.prototype.getConfig=function(){return this.config},s.prototype.init=function(t){var e=this;o.assign(this.config,t),this.config.callback=function(t){return e.parseCallBack(t)}},s.prototype.parseCallBack=function(t){var e=this.originConfig,i=this.plot.getPlotTheme(),n=r.__assign({},e);return this.parseOffset(e,n),e.position&&(o.isFunction(e.position)?n.position=e.position(t):n.position=e.position),this.parseFormatter(n),e.style&&(o.isFunction(e.style)?n.textStyle=e.style(t):n.textStyle=e.style),n.textStyle=o.deepMix({},o.get(i,"label.style"),n.textStyle),e.autoRotate&&(n.autoRotate=e.autoRotate),n},s.prototype.parseOffset=function(e,i){var n=0;o.each(["offset","offsetX","offsetY"],function(t){o.has(e,t)&&(i[t]=e[t],n++)}),0===n&&"middle"===o.get(e,"position")&&(i.offset=0)},s.prototype.parseFormatter=function(t){var n=this.originConfig;t.content=function(t,e){var i=t[n.fields[0]];return a.combineFormatter(a.getNoopFormatter(),a.getPrecisionFormatter(n.precision),a.getSuffixFormatter(n.suffix),n.formatter?n.formatter:a.getNoopFormatter())(i,t,e)}},s);function s(t){this.config={};var e=t.plot,i=r.__rest(t,["plot"]);this.plot=e,this.originConfig=i,this.init(t)}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l,u,c=i(0);function n(t,i){l||o(t),c.each(l,function(t){var e=a(t,i);s(e.labelData,e.con)&&t.shape.attr({opacity:1,fontWeight:600,fill:"red"})})}function o(s){l=[],u=[];var t=s.view.getController("axis").getComponents();c.each(t,function(t){var i,n,o=t.component,e=[],r=function(t){var e=t.options,i="y",n=o.get("position");"bottom"!==n&&"top"!==n||(i="x");var r=e[i+"Field"];return t.view.get("scales")[r]}(s),a=o.get("labelRenderer").get("group").get("children");c.each(a,function(t){"text"===t.type&&(e.push({shape:t}),u.push(t.attr()))}),r&&(i=r.ticks,n=r.field,c.each(e,function(t,e){t.value=i[e],t.scaleField=n,t.type=r.type})),l.push.apply(l,e)})}function a(t,e){var i,n=((i={})[t.scaleField]=t.value,i),r=c.clone(e);return"time"===t.type&&c.isObject(e)&&!c.isFunction(r.exp)&&(r.exp=new Date(r.exp).getTime()),{labelData:n,con:r}}function s(t,e){if(c.isFunction(e))return e(t);var i=e.name,n=e.exp;return t[i]&&(c.isFunction(n)?n(t[i]):t[i]===n)}e.default={active:n,selected:n,disable:function(t,r){l||o(t),c.each(l,function(t,e){var i,n=a(t,r);s(n.labelData,n.con)&&(i={opacity:.2*(u[e].opacity||1)},t.shape.attr(i))})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a,s=i(0),l=i(64);function r(t,o){n||u(t),s.each(n,function(t,e){var i,n,r=t.get("origin");l.compare(r,o)&&(i=a[e],n=s.mix({},i,{opacity:1}),t.attr(n))})}function u(t){n=[],a=[];var e=t.view.get("elements");s.each(e,function(t){var e=t.get("labels");e&&s.each(e,function(t){n.push(t),a.push(t.attr())})})}e.default={active:r,selected:r,disable:function(t,r){n||u(t),s.each(n,function(t,e){var i,n=t.get("origin");l.compare(n,r)&&(i={opacity:.2*(a[e].opacity||1)},t.attr(i))})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(0),u=i(64),c=["xField","yField","angleField"];function n(i,n){var t,e,r,o,a,s=i.options;e=n,r=s,o=[],l.each(c,function(t){l.has(r,t)&&o.push(t)}),a=o,!l.isFunction(e)&&a.indexOf(e.name)&&(t=s.data,l.each(t,function(t){var e;u.compare(t,n)&&(e=i.view.getXY(t),i.view.on("tooltip:create",function(t){h(n,t,!1)}),i.view.showTooltip(e))}))}function h(i,n,t){var r=!t,e=l.clone(n.items);n.items.splice(0),l.each(e,function(t){var e=t.point._origin;u.compare(e,i)===r&&n.items.push(t)})}e.default={active:n,selected:n,disable:function(t,e){t.view.on("tooltip:change",function(t){h(e,t,!0)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(39)),o=n.__importDefault(i(246)),a=n.__importDefault(i(247)),s=n.__importDefault(i(248)),l=n.__importDefault(i(251));r.default.registerInteraction("slider",a.default),r.default.registerInteraction("scrollbar",o.default),r.default.registerInteraction("timeline",s.default),r.default.registerInteraction("tooltip-indicator",l.default),n.__exportStar(i(39),e),e.default=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function c(t){void 0===t&&(t={});var e=h.__assign({type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0]},t);return t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),e}var n,h=i(1),l=i(8),u=h.__importDefault(i(13)),p=i(0),r=h.__importDefault(i(39)),f=i(139),o=(n=r.default,h.__extends(a,n),a.getInteractionRange=function(t,e){var i=c(e),n=i.padding,r=n[0],o=n[1],a=n[2],s=n[3];return"horizontal"===i.type?new u.default(t.minX,t.maxY-i.height-r-a,t.width,i.height+r+a):new u.default(t.maxX-i.width-s-o,t.minY,i.width+s+o,t.height)},a.prototype.render=function(){var e=this,t=this.view;this.ratio=0,this.thumbOffset=0,t.on("afterrender",function(){var t=e.view.padding;"auto"===t||p.isEqual(t,[0,0,0,1])||(e.trackLen?e.renderScrollbar():(e.measureScrollBar(),e.changeViewData(e.getScrollRange(),!0)))})},a.prototype.start=function(){},a.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},a.prototype.renderScrollbar=function(){var t=c(this.getInteractionConfig()),e=this.getRange(),i="vertical"!==t.type,n=this.view.coordinateBBox,r=t.padding,o=r[0],a=r[3],s=i?{x:n.minX+a,y:e.minY+o}:{x:e.minX+a,y:n.minY+o};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:s.x,y:s.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new l.Scrollbar({container:this.container,x:s.x,y:s.y,isHorizontal:i,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",999),this.scrollbar.on("scrollchange",this.onChangeFn))},a.prototype.measureScrollBar=function(){var t=c(this.getInteractionConfig()),e=t.padding,i=e[0],n=e[1],r=e[2],o=e[3],a="vertical"!==t.type,s=this.view.coordinateBBox,l=this.view.getXScale(),u=this.view.getYScales();this.cnt=l.values.length,this.xScaleCfg={field:l.field,values:l.values||[]},this.yScalesCfg=p.map(u,function(t){return{field:t.field,type:t.type,min:t.min,max:t.max,ticks:t.ticks,formatter:t.formatter}}),this.step=Math.floor((a?s.width:s.height)/t.categorySize),this.trackLen=a?s.width-o-n:s.height-i-r,this.thumbLen=Math.max(this.trackLen*p.clamp(this.step/l.values.length,0,1),20)},a.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*p.clamp(this.ratio,0,1));return[t,Math.min(t+this.step,this.cnt)]},a.prototype.changeViewData=function(t,e){var i=this,n=t[0],r=t[1],o=c(this.getInteractionConfig()),a=this.getViewLayer(),s=a.options.meta,l=a.getData(),u=f.getDataByScaleRange(this.xScaleCfg.field,this.xScaleCfg.values,l,[n,r],"vertical"===o.type);this.yScalesCfg.forEach(function(t){var e=p.get(s,t.field)||{};i.view.scale(t.field,h.__assign(h.__assign({formatter:t.formatter},e),{type:t.type,min:t.min,max:t.max}))}),e?(this.view.data(u),this.view.render()):this.view.changeData(u)},a.prototype.onChange=function(t){var e=t.ratio,i=t.thumbOffset;this.ratio=e,this.thumbOffset=i;var n=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange()),this.view.animate(n),this.renderScrollbar()},a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.onChangeFn=p.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function m(t){void 0===t&&(t={});var e=x.__assign({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},t);t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),t.height||(e.height=16),t.width||(e.width=16);var i=c.clamp(Math.min(e.start,e.end),0,1),n=c.clamp(Math.max(e.start,e.end),0,1);return e.start=i,e.end=n,e}var n,x=i(1),o=i(8),l=x.__importDefault(i(13)),c=i(0),r=x.__importDefault(i(39)),a=i(139),s=(n=r.default,x.__extends(u,n),u.getInteractionRange=function(t,e){var i=m(e),n=i.padding||[0,0,0,0],r=n[0],o=n[1],a=n[2],s=n[3];return"horizontal"===i.type?new l.default(t.minX,t.maxY-i.height-r-a,t.width,i.height+r+a):new l.default(t.maxX-i.width-s-o,t.minY,i.width+s+o,t.height)},u.prototype.render=function(){var i=this,n=this.getViewLayer(),r=this.view,t=m(this.getInteractionConfig());function e(){var t,e=i.view.padding;"auto"===e||c.isEqual(e,[0,0,0,1])||c.isEmpty(n.options.data)||(i.xScaleCfg?i.renderSlider():(t=r.getXScale(),i.xScaleCfg={field:t.field,values:t.values||[]},r.data(i.getSliderData(i.curStart,i.curEnd)),r.render()))}this.curStart=t.start,this.curEnd=t.end,this.xScaleCfg=void 0,r.on(o.VIEW_LIFE_CIRCLE.AFTER_PAINT,e),this.addDisposable(function(){return r.off(o.VIEW_LIFE_CIRCLE.AFTER_PAINT,e)}),r.on(o.VIEW_LIFE_CIRCLE.AFTER_RENDER,e),this.addDisposable(function(){return r.off(o.VIEW_LIFE_CIRCLE.AFTER_RENDER,e)})},u.prototype.start=function(){},u.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},u.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new o.Slider(x.__assign(x.__assign({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},u.prototype.getSliderConfig=function(){var t=this.view.coordinateBBox,e=this.getRange(),i=m(this.getInteractionConfig())||{},n=i.padding,r=void 0===n?[0,0,0,0]:n,o=i.backgroundStyle,a=i.foregroundStyle,s=i.handlerStyle,l=i.textStyle,u=i.trendCfg,c=void 0===u?{}:u,h=r[0],p=r[1],f=r[2],d=r[3],g=this.getSliderMinMaxText(this.curStart,this.curEnd),y=g.minText,v=g.maxText;return{x:t.minX+d,y:e.minY+h,width:t.width-d-p,height:e.height-h-f,start:this.curStart,end:this.curEnd,minText:y,maxText:v,backgroundStyle:o,foregroundStyle:a,handlerStyle:s,textStyle:l,trendCfg:x.__assign(x.__assign({isArea:!1,smooth:!1},c),{data:this.getSliderTrendData()})}},u.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,i=t.yField;return c.map(e,function(t){return t[i]})},u.prototype.getSliderData=function(t,e){var i=this.getViewLayer().getData(),n=c.size(this.xScaleCfg.values),r=Math.round(t*n),o=Math.max(r+1,Math.round(e*n));return a.getDataByScaleRange(this.xScaleCfg.field,this.xScaleCfg.values,i,[r,o])},u.prototype.getSliderMinMaxText=function(t,e){var i=this.getViewLayer().options,n=i.data,r=void 0===n?[]:n,o=i.xField,a=c.size(r),s=Math.round(t*a),l=Math.max(s+1,Math.round(e*a)),u=r.slice(s,l);return{minText:0<u.length?c.head(u)[o]:"",maxText:0<u.length?c.last(u)[o]:""}},u.prototype.onChange=function(t){var e=this.view,i=c.clamp(Math.min(t[0],t[1]),0,1),n=c.clamp(Math.max(t[0],t[1]),0,1),r=this.getSliderData(i,n),o=this.getSliderMinMaxText(i,n),a=o.minText,s=o.maxText;this.curStart=i,this.curEnd=n,this.slider.update({start:i,end:n,minText:a,maxText:s}),this.slider.render();var l=e.getOptions().animate;e.animate(!1),e.changeData(r),e.animate(l)},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.onChangeFn=c.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(1),g=i(0),n=i(8),r=d.__importDefault(i(39)),o=d.__importDefault(i(13)),y=d.__importDefault(i(249));function v(t){return d.__assign({loop:!1,auto:!0,height:40,padding:[0,20,0,0],speed:2},t)}var a,s=(a=r.default,d.__extends(l,a),l.getInteractionRange=function(t,e){var i=v(e),n=i.padding[0],r=i.padding[2];return new o.default(t.minX,t.maxY-i.height-n-r,t.width,i.height+n+r)},l.prototype.setAnimate=function(e){var t=this.view.geometries;this.view.animate(e),t.forEach(function(t){t.animate(e)})},l.prototype.start=function(){},l.prototype.renderTimeLine=function(){var t=this;this.config=v(this.getInteractionConfig());var e=this.view.viewBBox,i=this.config,n=i.loop,r=i.padding,o=i.speed,a=r[0],s=r[1],l=r[2],u=r[3],c=this.getRange(),h=this.getTicks(),p=e.width-u-s,f={x:e.minX+u,y:c.tl.y+a,width:p,height:c.height-a-l,loop:n,ticks:h,speed:o,defaultCurrentTick:h[0]};this.timeline?g.isEqual(f,this.timeLineConfig)||(this.timeLineConfig=f,this.timeline.update(f)):(this.container=this.canvas.addGroup(),this.timeline=new y.default(d.__assign({container:this.container},f)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(h[0])),this.timeLineConfig=f)},l.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},l.prototype.getFilterData=function(e){var i=this.config.field;return this.getViewLayer().options.data.filter(function(t){return t[i]===e})},l.prototype.getTicks=function(){var e=this.config.field,t=this.getViewLayer().options.data;return g.uniq(t.map(function(t){return t[e]}))},l.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},l.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},l);function l(){var t=null!==a&&a.apply(this,arguments)||this;return t.onChangeFn=g.throttle(t.onChange.bind(t),20,{leading:!0}),t}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(1),c=i(0),a=n.__importDefault(i(250)),o=n.__importDefault(i(54)),s=(r=o.default,n.__extends(l,r),l.prototype.renderInner=function(t){var e=this.config,i=e.ticks,n=e.defaultCurrentTick;i&&i.length&&(this.currentTick=this.config.ticks.includes(n)?n:i[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},l.prototype.update=function(t){r.prototype.update.call(this,t),this.emit("timelineupdate",this.currentTick)},l.prototype.destroy=function(){r.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},l.prototype.renderPlayButton=function(t){var e=this.config,i=e.height,n=e.x,r=e.y,o=i/2*.8;this.timeLineButton?this.timeLineButton.update({x:n+o,y:r+o+i*(1-.8)/2,r:o}):(this.timeLineButton=new a.default({container:t,x:n+o,y:r+o+i*(1-.8)/2,r:o,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},l.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,i=t.y,n=t.width,r=t.height,o=r/2;return 0<n?"M"+e+", "+i+"A"+o+","+o+" 90 0,0 "+e+","+(i+r)+"L"+(e+n)+", "+(i+r)+"A"+o+","+o+" 90 0,0 "+(e+n)+","+i+"L"+e+", "+i:[]},l.prototype.renderTimeLine=function(r){var o=this,t=this.config,e=t.width,i=t.height,n=t.ticks,a=t.x,s=t.y;this.timeLine||(this.timeLine={}),this.timeLine.height=.15*i,this.timeLine.x=a+i+20,this.timeLine.y=s+(i/2-this.timeLine.height/2),this.timeLine.width=e-this.timeLine.x-20,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=r.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var l=this.timeLine.width/(n.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(t){t.destroy()});var u=-1/0;this.timeLine.textList=n.map(function(t,e){o.tickPosList.push(o.timeLine.x+e*l);var i=r.addShape("text",{attrs:{x:o.timeLine.x+e*l,y:o.timeLine.y+o.timeLine.height+5,text:t,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),n=i.getBBox();return n.minX>u?(i.show(),u=n.minX+n.width+10):i.hide(),i})},l.prototype.renderTimeSelect=function(t,e){var i=this.config,n=i.ticks,r=i.height,o=this.timeLine.width/(n.length-1),a=c.findIndex(n,function(t){return t===e}),s=this.timeLine.x+a*o,l=this.config.y+r/2,u=.15*r;this.timeSelect?(this.timeSelect.attr("x",s),this.timeSelect.attr("y",l),this.timeSelect.attr("r",u)):this.timeSelect=t.addShape("circle",{attrs:{x:s,y:l,r:u,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",s),this.timeSelectText.attr("y",l-.15*r-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:s,y:l-.15*r-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},l.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},l.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var i=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[i]&&(this.currentTick=this.config.ticks[i],this.timeSelectText.attr("text",this.currentTick),this.emit("timelinechange",this.currentTick)),this.getCanvas().draw()},l.prototype.syncCurrnentTick=function(){var e=this,t=this.config.ticks,i=this.timeLine.width/(t.length-1),n=c.findIndex(t,function(t){return t===e.currentTick}),r=this.timeLine.x+n*i;this.timeSelect.attr("x",r),this.timeSelectText.attr("x",r),this.getCanvas().draw()},l.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.config,e=t.speed,i=t.ticks,n=r.timeLine.width/i.length/(1e3*e/60);r.setTimeSelectX(n),r.isPlay&&(r.playHandler=r.startPlay())})},l.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit("timelineend",null))),this.getCanvas().draw()},l.prototype.initEvent=function(){var e=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(t){e.onTimeSelectMouseDown(t)})},l);function l(t){var n=r.call(this,c.deepMix({},{speed:1,loop:!1},t))||this;return n.onTimeSelectMouseMove=function(t){t.stopPropagation(),t.preventDefault();var e=c.get(t,"touches.0.pageX",t.pageX),i=e-n.prevX;n.setTimeSelectX(i),n.prevX=e},n.onTimeSelectMouseUp=function(){n.syncCurrnentTick(),n.emit("timelineend",null);var t=n.getCanvas().get("container");t&&(t.removeEventListener("mousemove",n.onTimeSelectMouseMove),t.removeEventListener("mouseup",n.onTimeSelectMouseUp),t.removeEventListener("mouseleave",n.onTimeSelectMouseUp),t.removeEventListener("touchmove",n.onTimeSelectMouseMove),t.removeEventListener("touchend",n.onTimeSelectMouseUp),t.removeEventListener("touchcancel",n.onTimeSelectMouseUp))},n.onTimeSelectMouseDown=function(t){var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),!1===n.isPlay?n.emit("timelinestart",null):(n.isPlay=!1,n.changePlayStatus(!1)),n.prevX=c.get(e,"touches.0.pageX",e.pageX);var i=n.getCanvas().get("container");i.addEventListener("mousemove",n.onTimeSelectMouseMove),i.addEventListener("mouseup",n.onTimeSelectMouseUp),i.addEventListener("mouseleave",n.onTimeSelectMouseUp),i.addEventListener("touchmove",n.onTimeSelectMouseMove),i.addEventListener("touchend",n.onTimeSelectMouseUp),i.addEventListener("touchcancel",n.onTimeSelectMouseUp)},n}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(54)).default,r.__extends(s,n),s.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},s.prototype.destroy=function(){this.group.off(),n.prototype.destroy.call(this)},s.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=.25*this.config.r,i=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-i/2,width:e,height:i,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-i/2,width:e,height:i,fill:"#ffffff"}})},s.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=.25*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},s.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},s.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},s);function s(t){return n.call(this,o.deepMix({},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipIndicationAction=e.TOOLTIP_INDICATOR_EVENTS=void 0;function u(t){return void 0===t&&(t={}),o.__assign({showTotal:!1,showPercent:!1,padding:[8,24,8,24],height:t.showPercent?72:54},t)}var r,n,o=i(1),p=i(0),a=o.__importDefault(i(39)),s=i(8),c=o.__importStar(i(252)),l=i(25),h=o.__importDefault(i(13));(n=r=e.TOOLTIP_INDICATOR_EVENTS||(e.TOOLTIP_INDICATOR_EVENTS={})).ACTIVE_ELEMENT="tooltip_indicator_active_element",n.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x";var f,d=(f=s.InteractionAction,o.__extends(g,f),g.prototype.active=function(){var t=s.InteractionUtils.getCurrentElement(this.context);!t.hasState("selected")||this.isSingle?this.setStateByX(t):this.setState(t)},g.prototype.setState=function(e){var i=this;l.forEachElement(this.getView(),function(t){t===e?t.hasState(i.state)||t.setState(i.state,!0):t.setState(i.state,!1)}),this.isSingle=!0,this.getView().emit(r.ACTIVE_ELEMENT,{element:e,isSingle:!0})},g.prototype.setStateByX=function(t){var e=this,i=this.getXField(),n=t.getData()[i];l.forEachElement(this.getView(),function(t){t.getData()[i]===n?t.hasState(e.state)||t.setState(e.state,!0):t.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(r.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},g.prototype.setStateByField=function(i,n){var r=this,o=this.getView().getXScale().field,a=this.getView().getGroupScales()[0].field;l.forEachElement(this.getView(),function(t){var e=t.getData();t.setState(r.state,e[o]===i&&(void 0===n||e[a]===n))})},g.prototype.getView=function(){return this.context.view},g.prototype.getXField=function(){return this.context.view.getXScale().field},g);function g(){var t=null!==f&&f.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}e.TooltipIndicationAction=d,s.registerAction("tooltip-indicator",d),s.registerInteraction("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var y,v=(y=a.default,o.__extends(m,y),m.getInteractionRange=function(t,e){var i=u(e),n=i.padding,r=n[0],o=n[2];return new h.default(t.minX,t.minY,t.width,i.height+r+o)},m.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},m.prototype.render=function(){function t(){var t=n.view.getXScale(),e=p.last(t.getTicks()).tickValue,i=n.view.padding;p.isEqual([0,0,0,0],i)||(n.component?n.updateComponent():(n.createComponent(),n.component.on(c.EVENTS.ON_SELECT_ITEM,n.onSelectTooltipIndicatorItem)),n.curX=e,n.component.update({title:{text:t.getText(n.curX)}}),n.component.render(),n.getInteractionAction().setStateByField(e))}var n=this,e=this.view;e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(s.VIEW_LIFE_CIRCLE.AFTER_PAINT,t),e.on(s.VIEW_LIFE_CIRCLE.AFTER_RENDER,t),e.on(r.ACTIVE_ELEMENT,this.onElementActive),e.on(r.ACTIVE_ELEMENT_BY_X,this.onElementActive)},m.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},m.prototype.createComponent=function(){var t=u(this.getInteractionConfig()).padding,e=t[0],i=t[1],n=t[2],r=t[3],o=this.getLegendItems(),a=this.getRange(),s=this.view.getXScale(),l=p.last(s.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new c.default({container:this.container,x:a.x+r,y:a.y+e,width:a.width-r-i,height:a.height-e-n,theme:this.getViewLayer().getPlotTheme(),items:o}),this.component.init(),this.getInteractionAction().setStateByField(l)},m.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},m.prototype.getLegendItems=function(t){var e=this.view,i=e.getData(),r=e.getTheme().defaultColor,n=e.getXScale(),o=e.getYScales()[0],a=t||p.last(n.getTicks()).tickValue,s=e.getLegendAttributes().find(function(t){return"color"===t.type}),l=[],u=e.getGroupScales()[0],c=u.field;u&&u.isCategory&&u.getTicks().forEach(function(t){var e=t.text,i=t.tickValue,n=s.mapping(i).join("")||r;l.push({id:i,title:e,color:n,values:[]})});var h=(null==i?void 0:i.filter(function(t){return t[n.field]===a}))||[];return l.forEach(function(e){var t=h.find(function(t){return t[c]===e.id});e.values.push({value:o.formatter?o.formatter(t[o.field]):t[o.field]})}),l},m);function m(){var u=null!==y&&y.apply(this,arguments)||this;return u.onElementActive=function(t){var e=t.element,i=t.isSingle,n=u.view.getXScale(),r=u.view.getXScale().field,o=u.view.getGroupScales()[0].field,a=e.getData(),s=a[r],l=u.getLegendItems(s);u.component.update({items:l,title:{text:n.getText(s)}}),u.component.render(),i&&u.component.selectItem(a[o]),u.curX=s},u.onSelectTooltipIndicatorItem=function(t){u.component&&t&&u.getInteractionAction().setStateByField(u.curX,t)},u}e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS=e.ELEMENT_NAMES=void 0;var p,r,o,n,a,c=i(1),l=i(0),s=c.__importDefault(i(54)),u=i(8),h=i(55),f=i(140),d=c.__importDefault(i(13));(a=p=e.ELEMENT_NAMES||(e.ELEMENT_NAMES={})).TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",a.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",a.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",a.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",a.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",a.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",a.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",a.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",a.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",a.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",a.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value",(r=e.EVENTS||(e.EVENTS={})).ON_SELECT_ITEM="onSelectItem",(n=o=o||{})[n.LARGE=12]="LARGE",n[n.NORMAL=8]="NORMAL",n[n.SMALL=4]="SMALL";var g,y=(g=s.default,c.__extends(v,g),v.prototype.destroy=function(){this.offEvents(),g.prototype.destroy.call(this)},v.prototype.selectItem=function(t){this.doSelectItem(t)},v.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},v.prototype.initConfig=function(t){var e,i=t.theme,n=void 0===i?{}:i,r={x:0,y:0,title:{text:"",spacingY:o.NORMAL,style:{}},line:{spacingX:o.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:o.SMALL,style:{}},itemName:{spacingX:o.NORMAL,spacingY:o.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:o.LARGE};this.config=l.deepMix({},null===(e=null==n?void 0:n.components)||void 0===e?void 0:e.tooltipIndicator,r,t),this.selectedItemId=this.config.selectedItem},v.prototype.renderInner=function(t){var i=this;this.resetRender();var e=this.config,n=e.items,r=e.x,o=e.y,a=[],s=t.addGroup({name:p.TOOLTIP_INDICATOR_INNER});this.renderTitle(s),this.bodyGroup=s.addGroup({name:p.TOOLTIP_INDICATOR_BODY}),null==n||n.forEach(function(t,e){a.push(i.renderItem(i.bodyGroup,t,e))}),this.layoutItems(s),h.move(s,r,o),this.applyClip(t),this.bindEvents(s)},v.prototype.renderTitle=function(t){var e=this.config.title;if(null!=e&&e.text){var i=t.addShape({type:"text",name:p.TOOLTIP_INDICATOR_TITLE,attrs:c.__assign({text:null==e?void 0:e.text,textAlign:"left",textBaseline:"top"},(null==e?void 0:e.style)||{})}),n=i.getBBox();return this.curY+=n.height,this.curY+=e.spacingY||0,i}},v.prototype.renderItem=function(t,e,i){var n=this.config.itemBackground,r=t.addGroup({name:p.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:i}}),o=this.curX,a=this.curY,s=r.addShape({name:p.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:c.__assign({x:this.curX,y:this.curY,width:1,height:1},n.style||{})}),l=this.renderLine(r,e);this.renderItemTitle(r,e),this.renderItemValues(r,e);var u=r.getBBox();return l.attr({y2:l.attr("y1")+u.height}),this.curX=o+u.width,this.curX+=this.config.itemSpacing||0,s.attr({width:this.curX-o-2*s.attr("lineWidth"),height:this.curY-a-2*s.attr("lineWidth")}),this.curY=a,r},v.prototype.renderLine=function(t,e){var i=this.config.line,n=i.width||2,r=c.__assign({x1:this.curX+n/2,y1:this.curY,x2:this.curX+n/2,y2:this.curY,lineWidth:n,stroke:e.color},(null==i?void 0:i.style)||{}),o=t.addShape({name:p.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:r}),a=o.getBBox();return this.curX+=a.width,this.curX+=i.spacingX||0,o},v.prototype.renderItemTitle=function(t,e){var i=this.config.itemTitle,n=f.getEllipsisText(e.title,160,i.style||{}),r=t.addShape({name:p.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:c.__assign({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:n},i.style||{})}),o=r.getBBox();return this.curY+=o.height,this.curY+=i.spacingY||0,r},v.prototype.renderItemValues=function(t,n){var e,r=this,o=t.addGroup({name:p.TOOLTIP_INDICATOR_ITEM_BODY}),a=this.curX;return null===(e=n.values)||void 0===e||e.forEach(function(t,e){var i=o.addGroup({name:p.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:n,valueIndex:e}});r.curX=a,r.renderItemValueName(i,t),r.renderItemValueValue(i,t)}),this.layoutItemValues(o),o},v.prototype.renderItemValueName=function(t,e){var i=this.config.itemName;if(e.name){var n=t.addShape({name:p.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:c.__assign({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},i.style||{})}),r=n.getBBox();return e.wrapLine?(this.curY+=r.height,this.curY+=i.spacingY||0):(this.curX+=r.width,this.curX+=i.spacingX||0),n}},v.prototype.renderItemValueValue=function(t,e){var i=this.config,n=i.itemName,r=i.itemValue,o=t.addShape({name:p.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:c.__assign({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},r.style||{})}),a=o.getBBox();return this.curY+=a.height,this.curY+=n.spacingY||0,o},v.prototype.layoutItems=function(t){var e,i=t.findAllByName(p.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_GROUP);i&&0!==n.length&&(e=i.getBBox(),this.scrollWidth=e.width)},v.prototype.layoutItemValues=function(t){var e=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),s=e.map(function(t){return d.default.fromBBoxObject(t.getBBox())}),i=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_VALUE).map(function(t){return d.default.fromBBoxObject(t.getBBox())}),l=Math.max.apply(Math,i.map(function(t){return t.maxX}));e.forEach(function(t,e){var i,n,r=s[e],o=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_NAME)[0],a=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_VALUE)[0];o&&a&&(i=d.default.fromBBoxObject(o.getBBox()),n=d.default.fromBBoxObject(a.getBBox()),i.height<r.height&&o.attr("y",o.attr("y")+(r.height-i.height)/2),n.height<r.height&&a.attr("y",a.attr("y")+(r.height-n.height)/2),n.maxX<l&&a.attr("x",a.attr("x")+l-n.maxX))})},v.prototype.applyClip=function(t){var e=this.config,i=e.x,n=e.y,r=e.width,o=e.height,a=t.getBBox();(r||o)&&t.setClip({type:"rect",attrs:{x:i,y:n,width:r||a.width,height:o||a.height}})},v.prototype.doSelectItem=function(i){var n=this,t=this.getGroup().findAllByName(p.TOOLTIP_INDICATOR_ITEM_GROUP);i!==this.selectedItemId?(t.forEach(function(t){var e=t.get("delegateObject");e&&n.applyItemStyle(t,e.item.id===i?"selected":"inactive")}),this.selectedItemId=i):(t.forEach(function(t){n.applyItemStyle(t)}),this.selectedItemId=void 0),this.emit(r.ON_SELECT_ITEM,this.selectedItemId)},v.prototype.applyItemStyle=function(t,e){var i=this.config,n=i.line,r=i.itemTitle,o=i.itemName,a=i.itemValue,s=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_LINE)[0],l=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_TITLE)[0],u=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_NAME),c=t.findAllByName(p.TOOLTIP_INDICATOR_ITEM_VALUE),h=e&&e+"Style";s&&(s.attr(n.style),s.attr(n[h]||{})),l&&(l.attr(r.style),l.attr(r[h]||{})),u.forEach(function(t){t.attr(o.style),t.attr(o[h]||{})}),c.forEach(function(t){t.attr(a.style),t.attr(a[h]||{})})},v.prototype.bindEvents=function(t){var e=this;this.offEvents();var i=t.findAllByName(p.TOOLTIP_INDICATOR_BODY)[0];i.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){i.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new u.GM(i),this.wheel=new u.Wheel(i),this.wheel.on("wheel",this.onWheel)},v.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},v.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},v);function v(){var s=null!==g&&g.apply(this,arguments)||this;return s.curX=0,s.curY=0,s.offsetX=0,s.scrollWidth=0,s.onBodyGroupMousemove=function(t){var e,i=function(t,e){for(var i=t;i;){if(e(i))return i;i=i.getParent()}}(t.target,function(t){return t.get("name")===p.TOOLTIP_INDICATOR_ITEM_GROUP});i&&(e=i.get("delegateObject"),s.doSelectItem(e.item.id))},s.onWheel=function(t){var e=s.config.width,i=void 0===e?0:e,n=t.deltaX,r=Math.min(s.scrollWidth-i,0)-(s.scrollWidth/2+Math.max(0,(s.scrollWidth-i)/2)),o=Math.max(s.scrollWidth-i,0)+s.scrollWidth/2+Math.max(0,(s.scrollWidth-i)/2),a=l.clamp(s.offsetX+n,r,o);a!==s.offsetX&&(h.translate(s.bodyGroup,s.offsetX-a,0),s.offsetX=a)},s}e.default=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),d=i(0),g=n.__importDefault(i(13)),r=i(38),o=(a.prototype.registerPadding=function(e,t,i){void 0===t&&(t="outer"),void 0===i&&(i=!1),"inner"===t?i&&this.innerPaddingComponents.find(function(t){return t==e})||this.innerPaddingComponents.push(e):i&&this.outerPaddingComponents.find(function(t){return t==e})||this.outerPaddingComponents.push(e)},a.prototype.getPaddingComponents=function(t){return void 0===t&&(t="outer"),("outer"===t?this.outerPaddingComponents:this.innerPaddingComponents)||[]},a.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=d.filter(this.outerPaddingComponents,function(t){return t.afterRender})},a.prototype.clearOuterComponents=function(){d.each(this.outerPaddingComponents,function(t){t.afterRender&&t.destroy()}),this.outerPaddingComponents=[]},a.prototype.getPadding=function(){var t=this.plot.options,e=t.padding?t.padding:this.plot.config.theme.padding;return"auto"===e?[0,0,0,1]:e},a.prototype.processAutoPadding=function(){var t=this._getInnerAutoPadding();this.plot.updateConfig({padding:t}),this.plot.render()},a.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new g.default(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var s=this.plot.layerBBox.minX,l=this.plot.layerBBox.maxX,u=this.plot.layerBBox.minY,c=this.plot.layerBBox.maxY;return d.each(this.outerPaddingComponents,function(t){var e=t.position,i=t.getBBox(),n=i.minX,r=i.maxX,o=i.minY,a=i.maxY;u<=a&&a<=c&&"top"===e&&(u=a),u<=o&&o<=c&&"bottom"===e&&(c=o),s<r&&r<=l&&"left"===e&&(s=r),s<=n&&r<=l&&"right"===e&&(l=n)}),new g.default(s,u,l-s,c-u)},a.prototype._getInnerAutoPadding=function(){var t,i=this.plot.options,e=this.plot.view,n=e.coordinateBBox,r=n.maxX,o=n.maxY,a=n.minY,s=n.minX,l=this.plot.config.theme.bleeding;d.isArray(l)&&d.each(l,function(t,e){"function"==typeof l[e]&&(l[e]=l[e](i))}),this.bleeding=d.clone(l);var u=[new g.default(n.minX,n.minY,n.width,n.height)];"cartesian"===(null===(t=this.plot.config.coordinate)||void 0===t?void 0:t.type)&&this._getCartesianAxis(e,u[0],u);var c=this._mergeBBox(u);this._getLegend(e,c,u),c=this._mergeBBox(u);var h=this.innerPaddingComponents;d.each(h,function(t){var e=t.getBBox();u.push(e)});var p=[a-(c=this._mergeBBox(u)).minY+this.bleeding[0],c.maxX-r+this.bleeding[1],c.maxY-o+this.bleeding[2],s-c.minX+this.bleeding[3]],f=this._getPanel(e);return p[0]+=f[0],p[1]+=f[1],p[2]+=f[2],p[3]+=f[3],p},a.prototype._getCartesianAxis=function(t,s,l){var e=r.getAxisComponents(t),u=t.getCoordinate().isTransposed;d.each(e,function(t){var e,i,n,r,o,a;0!==t.get("group").get("children").length&&(e=t.get("position"),n=(i=t.getLayoutBBox()).minX,r=i.minY,o=i.width,a=i.height,u?"bottom"===e?l.push(new g.default(s.minX-o,r,o,a)):"left"===e?l.push(new g.default(n,s.maxY,o,a)):"top"===e&&l.push(new g.default(s.maxX,r,o,a)):"left"===e?l.push(new g.default(s.minX-o,r,o,a)):"bottom"===e?l.push(new g.default(n,s.maxY,o,a)):"right"===e&&l.push(new g.default(s.maxX,r,o,a)))})},a.prototype._getLegend=function(t,s,l){var e=r.getLegendComponents(t);d.each(e,function(t){var e=t.get("position").split("-")[0],i=t.getLayoutBBox(),n=i.minX,r=i.minY,o=i.width,a=i.height;"top"===e?l.push(new g.default(n,s.minY-a,o,a)):"bottom"===e?l.push(new g.default(n,s.maxY,o,a)):"left"===e?l.push(new g.default(s.minX-o,r,o,a)):l.push(new g.default(s.maxX,r,o,a))})},a.prototype._getPanel=function(t){var e=[],i=t.geometries;d.each(i,function(t){t.labelsContainer&&e.push(t.labelsContainer)});var n=1/0,r=-1/0,o=1/0,a=-1/0;d.each(e,function(t){t.get("children").forEach(function(t){var e;"group"===t.type&&0===t.get("children").length||((e=t.getBBox()).minX<n&&(n=e.minX),e.maxX>r&&(r=e.maxX),e.minY<o&&(o=e.minY),e.maxY>a&&(a=e.maxY))})});var s=t.coordinateBBox,l=Math.max(r-parseFloat(s.maxX),0);0<l&&(l*=s.width/(s.width+l));var u=Math.max(parseFloat(s.minX)-n,0);0<u&&(u*=s.width/(s.width+u));var c=Math.max(parseFloat(s.minY)-o,0);0<c&&(c*=s.height/(s.height+c));var h=Math.max(a-parseFloat(s.maxY),0);return 0<h&&(h*=s.height/(s.height+h)),[c,l,h,u]},a.prototype._mergeBBox=function(t){var i=1/0,n=-1/0,r=1/0,o=-1/0;return d.each(t,function(t){var e=t;i=Math.min(e.minX,i),n=Math.max(e.maxX,n),r=Math.min(e.minY,r),o=Math.max(e.maxY,o)}),{minX:i,maxX:n,minY:r,maxY:o}},a);function a(t){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=t.plot}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_DARK_THEME=void 0;var n=i(142);e.DEFAULT_DARK_THEME={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[n.TOP_BLEEDING,24,n.BOTTOM_BLEEDING,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,n.DESCRIPTION_BOTTOM_MARGIN,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertToG2Theme=void 0;var n=i(0);e.convertToG2Theme=function(t){var e=n.clone(t);return e.legend||(e.legend={}),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_RESPONSIVE_THEME=void 0,e.DEFAULT_RESPONSIVE_THEME={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(7),c=i(8),o=i(0),a=n.__importDefault(i(258)),s=i(141),l=n.__importDefault(i(89)),u=(h.prototype.getCanvasSize=function(){var t=s.getGlobalTheme(),e=this.plot.width?this.plot.width:t.width,i=this.plot.height?this.plot.height:t.height;return this.plot.forceFit&&(e=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:e,i=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:i),{width:e,height:i}},h.prototype.getCanvasDOM=function(){return this.canvas.get("container")},h.prototype.updateCanvasSize=function(){var t=this.getCanvasSize(),e=t.width,i=t.height;this.width=e,this.height=i,this.canvas.changeSize(e,i)},h.prototype.updateCanvasTheme=function(){var t=this.plot.theme,e=l.default.getGlobalTheme(t),i=o.get(e,"backgroundStyle.fill");i&&this.updateCanvasStyle({backgroundColor:i})},h.prototype.updateCanvasStyle=function(t){r.modifyCSS(this.getCanvasDOM(),t),r.modifyCSS(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},h.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},h.prototype.bindForceFit=function(){this.plot.forceFit&&(this.resizeObserver=new a.default(this.onResize),this.resizeObserver.observe(this.containerDOM))},h.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},h.prototype.initGCanvas=function(){var t=this.plot,e=t.renderer,i=void 0===e?"canvas":e,n=t.pixelRatio,r=t.localRefresh,o=void 0!==r&&r,a=this.getCanvasSize(),s=a.width,l=a.height,u="canvas"===i?c.Canvas:c.SVG;this.canvas=new u({localRefresh:o,container:this.containerDOM,width:s,height:l,pixelRatio:n}),this.width=s,this.height=l,this.updateCanvasTheme()},h);function h(t){var n=this;this.onResize=o.debounce(function(){var t,e,i;n.plot.destroyed||(e=(t=n.getCanvasSize()).width,i=t.height,n.width===e&&n.height===i||(n.width=e,n.height=i,n.plot.updateConfig({width:e,height:i}),n.plot.render()))},300);var e=t.containerDOM,i=t.plot;this.containerDOM=e,this.plot=i,this.init()}e.default=u},function(t,C,e){"use strict";e.r(C),function(t){function u(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t}var n=function(){if("undefined"!=typeof Map)return Map;function n(t,i){var n=-1;return t.some(function(t,e){return t[0]===i&&(n=e,!0)}),n}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=n(this.__entries__,t),i=this.__entries__[e];return i&&i[1]},t.prototype.set=function(t,e){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,i=n(e,t);~i&&e.splice(i,1)},t.prototype.has=function(t){return!!~n(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];t.call(e,r[1],r[0])}},t;function t(){this.__entries__=[]}}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,e=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),l="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(e):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},r=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,a=(s.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},s.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},s.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},s.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;r.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s),h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||e},p=y(0,0,0,0);function s(){function t(){o&&(o=!1,n()),a&&i()}function e(){l(t)}function i(){var t=Date.now();if(o){if(t-s<2)return;a=!0}else a=!(o=!0),setTimeout(e,r);s=t}var n,r,o,a,s;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(n=this.refresh.bind(this),a=o=!(r=20),s=0,i)}function f(t){return parseFloat(t)||0}function d(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(t,e){return t+f(i["border-"+e+"-width"])},0)}var c="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function g(t){return i?c(t)?y(0,0,(e=t.getBBox()).width,e.height):function(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return p;var n,r,o=h(t).getComputedStyle(t),a=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i],o=t["padding-"+r];e[r]=f(o)}return e}(o),s=a.left+a.right,l=a.top+a.bottom,u=f(o.width),c=f(o.height);return"border-box"===o.boxSizing&&(Math.round(u+s)!==e&&(u-=d(o,"left","right")+s),Math.round(c+l)!==i&&(c-=d(o,"top","bottom")+l)),t!==h(t).document.documentElement&&(n=Math.round(u+s)-e,r=Math.round(c+l)-i,1!==Math.abs(n)&&(u-=n),1!==Math.abs(r)&&(c-=r)),y(a.left,a.top,u,c)}(t):p;var e}function y(t,e,i,n){return{x:t,y:e,width:i,height:n}}function v(t,e){var i,n,r,o,a,s,l=(i=e.x,n=e.y,r=e.width,o=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(a.prototype),u(s,{x:i,y:n,width:r,height:o,top:n,right:i+r,bottom:o+n,left:i}),s);u(this,{target:t,contentRect:l})}function m(t){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=a.getInstance(),i=new b(t,e,this);_.set(this,i)}var x=(w.prototype.isActive=function(){var t=g(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},w.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},w),b=(O.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new x(t)),this.controller_.addObserver(this),this.controller_.refresh())}},O.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},O.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},O.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},O.prototype.broadcastActive=function(){var t,e;this.hasActive()&&(t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new v(t.target,t.broadcastRect())}),this.callback_.call(t,e,t),this.clearActive())},O.prototype.clearActive=function(){this.activeObservations_.splice(0)},O.prototype.hasActive=function(){return 0<this.activeObservations_.length},O),_=new("undefined"!=typeof WeakMap?WeakMap:n);function O(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}function w(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}["observe","unobserve","disconnect"].forEach(function(e){m.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}});var M=void 0!==e.ResizeObserver?e.ResizeObserver:m;C.default=M}.call(this,e(259))},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),n=(r.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"mousemove",s.wrapBehavior(this,"onMove")),this.addEvent(this.canvas,"mouseup",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"click",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"dblclick",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",s.wrapBehavior(this,"onEvents")),this.addEvent(this.canvas,"wheel",s.wrapBehavior(this,"onEvents"))},r.prototype.clearEvents=function(){var t=this.eventHandlers;s.each(t,function(t){t.target.off(t.type,t.handler)})},r.prototype.addEvent=function(t,e,i){t.on(e,i),this.eventHandlers.push({target:t,type:e,handler:i})},r.prototype.onEvents=function(t){var e=this.getEventObj(t),i=t.target;!this.isShapeInView(i)&&i.name&&this.plot.emit(i.name+":"+t.type,t),this.plot.emit(""+t.type,e);var n=this.plot.getLayers();0<n.length&&this.onLayerEvent(n,e,t.type)},r.prototype.onMove=function(t){var e,i=t.target,n=this.getEventObj(t);!this.isShapeInView(i)&&i.name&&(this.plot.emit(i.name+":"+t.type,n),!this.lastShape||(e=this.lastShape,i&&e&&i===e)||(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",n),this.plot.emit(i.name+":mouseenter",n)),this.lastShape=i),this.plot.emit("mousemove",n);var r=this.plot.getLayers();0<r.length&&this.onLayerEvent(r,n,"mousemove")},r.prototype.isShapeInView=function(t){for(var e=["frontgroundGroup","backgroundGroup","panelGroup"],i=t.get("parent");i;){var n=i.get("name");if(n&&s.contains(e,n))return!0;i=i.get("parent")}return!1},r.prototype.getEventObj=function(t){return{clientX:t.clientX,clientY:t.clientY,x:t.x,y:t.y,plot:this.plot,data:t.data?t.data.data:null,canvas:this.canvas,target:t.target,gEvent:t}},r.prototype.onLayerEvent=function(t,r,o){var a=this;s.each(t,function(t){var e,i,n=t.getGlobalBBox();(i={x:r.x,y:r.y}).x>=n.minX&&i.x<=n.maxX&&i.y>=n.minY&&i.y<=n.maxY&&(t.emit(""+o,r),0<(e=t.layers).length&&a.onLayerEvent(e,r,o))})},r);function r(t){this.plot=t.plot,this.canvas=t.canvas,this.eventHandlers=[]}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(262);Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"LineConfig",{enumerable:!0,get:function(){return r.LineConfig}});var o=i(300);Object.defineProperty(e,"Treemap",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"TreemapConfig",{enumerable:!0,get:function(){return o.TreemapConfig}});var a=i(311);Object.defineProperty(e,"StepLine",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"StepLineConfig",{enumerable:!0,get:function(){return a.StepLineConfig}});var s=i(313);Object.defineProperty(e,"Bar",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"BarConfig",{enumerable:!0,get:function(){return s.BarConfig}});var l=i(317);Object.defineProperty(e,"StackedBar",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"StackedBarConfig",{enumerable:!0,get:function(){return l.StackedBarConfig}});var u=i(321);Object.defineProperty(e,"GroupedBar",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"GroupedBarConfig",{enumerable:!0,get:function(){return u.GroupedBarConfig}});var c=i(323);Object.defineProperty(e,"PercentStackedBar",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"PercentStackedBarConfig",{enumerable:!0,get:function(){return c.PercentStackedBarConfig}});var h=i(324);Object.defineProperty(e,"RangeBar",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"RangeBarConfig",{enumerable:!0,get:function(){return h.RangeBarConfig}});var p=i(328);Object.defineProperty(e,"Area",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"AreaConfig",{enumerable:!0,get:function(){return p.AreaConfig}});var f=i(332);Object.defineProperty(e,"StackedArea",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"StackedAreaConfig",{enumerable:!0,get:function(){return f.StackedAreaConfig}});var d=i(339);Object.defineProperty(e,"PercentStackedArea",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"PercentStackedAreaConfig",{enumerable:!0,get:function(){return d.PercentStackedAreaConfig}});var g=i(340);Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"ColumnConfig",{enumerable:!0,get:function(){return g.ColumnConfig}});var y=i(57);Object.defineProperty(e,"ColumnLabel",{enumerable:!0,get:function(){return y.default}});var v=i(345);Object.defineProperty(e,"GroupedColumn",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"GroupedColumnConfig",{enumerable:!0,get:function(){return v.GroupedColumnConfig}});var m=i(347);Object.defineProperty(e,"StackedColumn",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"StackedColumnConfig",{enumerable:!0,get:function(){return m.StackedColumnConfig}});var x=i(169);Object.defineProperty(e,"StackedColumnLabel",{enumerable:!0,get:function(){return x.default}});var b=i(351);Object.defineProperty(e,"RangeColumn",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"RangeColumnConfig",{enumerable:!0,get:function(){return b.RangeColumnConfig}});var _=i(355);Object.defineProperty(e,"PercentStackedColumn",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"PercentStackedColumnConfig",{enumerable:!0,get:function(){return _.PercentStackedColumnConfig}});var O=i(356);Object.defineProperty(e,"Pie",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"PieConfig",{enumerable:!0,get:function(){return O.PieConfig}});var w=i(364);Object.defineProperty(e,"DensityHeatmap",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"DensityHeatmapConfig",{enumerable:!0,get:function(){return w.DensityHeatmapConfig}});var M=i(371);Object.defineProperty(e,"Heatmap",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"HeatmapConfig",{enumerable:!0,get:function(){return M.HeatmapConfig}});var C=i(377);Object.defineProperty(e,"WordCloud",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"WordCloudConfig",{enumerable:!0,get:function(){return C.WordCloudConfig}});var S=i(381);Object.defineProperty(e,"Rose",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"RoseConfig",{enumerable:!0,get:function(){return S.RoseConfig}});var j=i(383);Object.defineProperty(e,"Funnel",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"FunnelConfig",{enumerable:!0,get:function(){return j.FunnelConfig}});var P=i(390);Object.defineProperty(e,"StackedRose",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"StackedRoseConfig",{enumerable:!0,get:function(){return P.StackedRoseConfig}});var T=i(392);Object.defineProperty(e,"GroupedRose",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"GroupedRoseConfig",{enumerable:!0,get:function(){return T.GroupedRoseConfig}});var A=i(394);Object.defineProperty(e,"Radar",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"RadarConfig",{enumerable:!0,get:function(){return A.RadarConfig}});var E=i(398);Object.defineProperty(e,"Liquid",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"LiquidConfig",{enumerable:!0,get:function(){return E.LiquidConfig}});var L=i(403);Object.defineProperty(e,"Histogram",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"HistogramConfig",{enumerable:!0,get:function(){return L.HistogramConfig}});var k=i(405);Object.defineProperty(e,"Density",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"DensityConfig",{enumerable:!0,get:function(){return k.DensityConfig}});var I=i(407);Object.defineProperty(e,"Donut",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"DonutConfig",{enumerable:!0,get:function(){return I.DonutConfig}});var D=i(412);Object.defineProperty(e,"Waterfall",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"WaterfallConfig",{enumerable:!0,get:function(){return D.WaterfallConfig}});var B=i(417);Object.defineProperty(e,"Scatter",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"ScatterConfig",{enumerable:!0,get:function(){return B.ScatterConfig}});var F=i(421);Object.defineProperty(e,"Bubble",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"BubbleConfig",{enumerable:!0,get:function(){return F.BubbleConfig}});var R=i(426);Object.defineProperty(e,"Bullet",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"BulletConfig",{enumerable:!0,get:function(){return R.BulletConfig}});var N=i(432);Object.defineProperty(e,"Calendar",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"CalendarConfig",{enumerable:!0,get:function(){return N.CalendarConfig}});var Y=i(437);Object.defineProperty(e,"Gauge",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(e,"GaugeConfig",{enumerable:!0,get:function(){return Y.GaugeConfig}});var G=i(439);Object.defineProperty(e,"FanGauge",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"FanGaugeConfig",{enumerable:!0,get:function(){return G.FanGaugeConfig}});var X=i(441);Object.defineProperty(e,"MeterGauge",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(e,"MeterGaugeConfig",{enumerable:!0,get:function(){return X.MeterGaugeConfig}}),n.__exportStar(i(443),e)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(66)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="line",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(144)),o=n.__importDefault(i(264));e.default={main:r.default,mini:o.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(8),s=i(0),l=i(24),u=i(90),o=n.__importDefault(i(144)),a=i(11);function c(t,e,i){var n=[],r=[];s.each(t.points,function(t){n.push(t[1]),r.push(t[0])}),r=e.parsePoints(r.reverse()),n=l.lineSimplification(e.parsePoints(n));var o=i?u.getSplinePath(n,!1,[[0,0],[1,1]]):h(n),a=h(r);return a[0][0]="L",o.concat(a)}function h(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=0===i?"M":"L";e.push([r,n.x,n.y])}return e}function p(t){return"l(90) 0:"+t+" 1:#ffffff"}r.registerShape("area","miniArea",{draw:function(t,e){var i=t.style?t.style.opacity:null,n=c(t,this,!1),r=s.deepMix({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:{path:n,fill:p(t.color||a.getGlobalTheme().defaultColor),opacity:i||.4},style:r})}}),r.registerShape("area","miniAreaSmooth",{draw:function(t,e){var i=t.style?t.style.opacity:null,n=c(t,this,!0);return e.addShape("path",{attrs:{path:n,fill:p(t.color||a.getGlobalTheme().defaultColor),opacity:i||.5}})}});var f,d=(f=o.default,n.__extends(g,f),g.prototype.init=function(){f.prototype.init.call(this),this.parseShape()},g.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},g);function g(){return null!==f&&f.apply(this,arguments)||this}e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(266));e.default={main:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(56)),s=["colorField","stackField","groupField"],l=(n=a.default,r.__extends(u,n),u.prototype.init=function(){this.type="interval",n.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var i=this._getStyleProps(t);i&&this.parseStyle(i)},u.prototype.parseColor=function(){var e=this.plot.options,t=this._getColorMappingField(e),i={};t&&(i.fields=t),e.color&&(o.isString(e.color)?i.values=[e.color]:o.isFunction(e.color)?i.callback=e.color:o.isArray(e.color)?t?i.values=e.color:0<e.color.length&&(i.values=[e.color[0]]):o.isObject(e.color)&&(i.fields=t,i.callback=function(t){return e.color[t]})),this.config.color=i},u.prototype.parseSize=function(t){var e=this.plot.options,i={};o.isFunction(e[t])?(i.fields=[this.config.position.fields],i.callback=e[t]):i.values=[e[t]],this.config.size=i},u.prototype.parseStyle=function(t){var e=this.plot.options,i=this.config.color,n=this.plot.options[t],r={};o.isFunction(n)?(r.fields=(null==i?void 0:i.fields)||[e.xField,e.yField],r.callback=n):r.cfg=n,this.config.style=r},u.prototype._getSizeProps=function(t){for(var e=0,i=["columnSize","barSize"];e<i.length;e++){var n=i[e];if(o.get(t,n))return n}},u.prototype._getStyleProps=function(t){for(var e=0,i=["columnStyle","barStyle","pieStyle","ringStyle"];e<i.length;e++){var n=i[e];if(o.get(t,n))return n}},u.prototype._getColorMappingField=function(t){for(var e=0,i=s;e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},u.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,i=s;e<i.length;e++)if(t[i[e]])return!0;return!1},u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(268)),o=n.__importDefault(i(91)),a=n.__importDefault(i(145));e.default={main:o.default,guide:r.default,mini:a.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(91)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;t.xField&&t.yField&&(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},s.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=this._getColorMappingField();i&&(e.fields=i),t.line.color?e.values=[t.line.color]:o.isString(t.color)?e.values=[t.color]:o.isFunction(t.color)?(e.fields=i,e.callback=t.color):o.isArray(t.color)&&(i?e.values=t.color:0<t.color.length&&(e.values=[t.color[0]])),this.config.color=e},s.prototype.parseStyle=function(){var t=this.plot.options.line.style,e={};o.isFunction(t)?(e.fields=this.config.position.fields,e.callback=t):e.cfg=t,this.config.style=e},s.prototype._needParseAttribute=function(t){var e=this.plot.options;return!!e[t]||!!e.line[t]},s.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,i=["stackField","seriesField"];e<i.length;e++){var n=i[e];if(o.get(t,n))return[t[n]]}},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(270)),o=n.__importDefault(i(271));e.default={guide:o.default,circle:r.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),o=(n=r.__importDefault(i(56)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},s.prototype.parseColor=function(){var t=this.plot.options,e={},i=t.colorField;i&&(e.fields=a.isArray(i)?i:[i]),t.color&&this._parseColor(t,e),a.isEmpty(e)||(this.config.color=e)},s.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=a.isArray(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},s.prototype.parseShape=function(t){this.config.shape=t},s.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,i={fields:null,callback:null,cfg:null},n=t.xField,r=t.yField,o=t.colorField;a.isFunction(e)?(i.fields=o?a.isArray(o)?[n,r,o].concat(o):[n,r,o]:[n,r],i.callback=e):(i.cfg=e,a.isNil(e.opacity)||(i.cfg.fillOpacity=e.opacity)),this.config.style=i},s.prototype._parseColor=function(t,e){a.isString(t.color)?e.values=[t.color]:a.isFunction(t.color)?e.callback=t.color:a.isArray(t.color)&&(e.values=t.color)},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),u=i(0),o=r.__importDefault(i(56)),a=["seriesField","stackField"],s=(n=o.default,r.__extends(l,n),l.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},l.prototype.parseColor=function(){var t,e=this.plot.options,i={},n=this._getColorMappingField(e);n?this._parseColorByField(e,i,n):e.point&&e.point.color?i.values=[e.point.color]:e.color?this._parseColor(e,i):(t=this.plot.getTheme(),i.values=[t.defaultColor]),0<u.keys(i).length&&(this.config.color=i)},l.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},l.prototype.parseShape=function(t){var e={};u.isString(t)?e.values=[t]:u.isObject(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},l.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,i={fields:null,callback:null,cfg:null},n=this._getColorMappingField(t);u.isFunction(e)?(i.fields=[t.xField,t.yField],i.callback=e,n&&i.fields.unshift(n)):i.cfg=e,this.config.style=i},l.prototype._parseColorByField=function(t,e,i){if(e.fields=[i],t.point.color){for(var n=(a=i,s=t.data,l=[],u.each(s,function(t){var e=t[a];l.push(e)}),u.uniq(l).length),r=[],o=0;o<n;o++)r.push(t.point.color);e.values=r}else t.color&&this._parseColor(t,e);var a,s,l},l.prototype._parseColor=function(t,e){var i=this._getColorMappingField(t);u.isString(t.color)?e.values=[t.color]:u.isFunction(t.color)?e.callback=t.color:u.isArray(t.color)&&(i?e.values=t.color:0<t.color.length&&(e.values=[t.color[0]]))},l.prototype._needParseAttribute=function(t){var e=this.plot.options;return e.point&&u.has(e.point,t)},l.prototype._getColorMappingField=function(t){for(var e=0,i=a;e<i.length;e++){var n=i[e];if(u.get(t,n))return[t[n]]}},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlotOption=void 0;var x,n=i(8),b=i(0);function _(t,e,i){for(var n=e.points,r=i.start.x+i.getWidth()*t,o=0;o<n.length-1;o++){var a=n[o],s=n[o+1];if(r>=a.x&&r<=s.x){var l=(s.y-a.y)/(s.x-a.x);return[r,a.y+l*(r-a.x)]}}}e.getPlotOption=function(t){x=t},n.registerAnimation("clipingWithData",function(t,e){var i=b.deepMix({},e,{easing:"easeLinear",duration:1e4}),n=t.get("element").geometry;n.labelsContainer.set("visible",!1);var r,o,a,s=t.get("index"),l=n.coordinate,u=n.scales[x.options.yField],c=b.clone(t.get("origin"));r=l.start,o=l.end,a=l.height,t.setClip({type:"rect",attrs:{x:r.x,y:o.y,width:0,height:a}});var h=t.get("clipShape"),p=t.get("parent"),f=null,d=x.options.seriesField;d&&(f=p.addShape("text",{attrs:{x:l.start.x+12,y:0,text:c.data[0][d],fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var g=f?16:0,y=p.addShape("text",{attrs:{x:l.start.x+12,y:g,text:"test"+s,fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});i.callback=function(){t&&!t.get("destroyed")&&(t.setClip(null),h.remove(),y.animate({opacity:0},300,function(){y.remove(),b.isNil(f)||f.remove();var t=n.labelsContainer;t.get("visible")||t.set("visible",!0)}))};var v=i.delay;b.isFunction(v)&&(v=i.delay(s));var m=i.easing;b.isFunction(m)&&(m=i.easing(s)),h.animate({width:l.getWidth()},i.duration,m,i.callback,v),i.onFrame=function(t){var e,i,n,r=_(t,c,l);r&&(y.attr("x",r[0]+12),y.attr("y",r[1]+g),i=r[1],n=(i-l.start.y)/(l.end.y-l.start.y),e=u.invert(n).toFixed(2),u.formatter&&(e=u.formatter(e)),y.attr("text",e))},y.animate(i.onFrame,{duration:i.duration,easing:m,callback:i.callback,delay:v}),f&&f.animate({onFrame:function(t){var e=_(t,c,l);e&&(f.attr("x",e[0]+12),f.attr("y",e[1]))}},i.duration,m,i.callback,v)})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(274)),o=n.__importDefault(i(290)),a=[{name:"responsiveAxis",method:r.default},{name:"responsivePointLabel",method:o.default}];e.default={preRender:[],afterRender:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(67));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e,i){return void 0===i&&(i={ratio:.6}),e.width*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1).__importStar(i(24));e.default={type:"group",usage:"compare",expression:function(t,e){var i=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],n=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],r=o.minDistBetweenConvexPolygon(i,n);return 2<=Math.round(r)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1).__importStar(i(24));e.default={type:"chain",usage:"compare",expression:function(t,e,i){void 0===i&&(i={value:4});var n=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],r=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],o=a.minDistBetweenConvexPolygon(n,r);return Math.round(o)>=i.value}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"chain",usage:"compare",expression:function(t,e,i){void 0===i&&(i={value:5});var n=Math.abs(t.bottom-e.top);return Math.round(n)>=i.value}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"compare",expression:function(t,e,i){return void 0===i&&(i={ratio:.15}),t.width<e.width*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e){var i=e.coord.radius/2;return Math.min(i,t.value)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={type:"padding",usage:"assign",expression:function(t,e,i){return void 0===i&&(i={ratio:.8}),e.radius*i.ratio}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(24);e.default=function(t,e,i){var n,r,o,a,s,l,u,c,h,p,f=i.nodes.nodes;e!==f.length-1&&(o=f[e],a=f[e+1],l={x:a.centerX-o.centerX,y:a.centerY-o.centerY},u=Math.sqrt(l.x*l.x+l.y*l.y),c={x:10,y:0},h=Math.sqrt(c.x*c.x+c.y*c.y),(p=d.dotProduct2D(l,c)/(u*h)*180/Math.PI)<0&&(p=360-p),45<(p=90<p&&p<=180?180-p:180<p&&p<270?p-180:360-p)?s="x":p<45&&(s="y"),n={dir:s,distX:Math.abs(o.centerX-a.centerX),distY:Math.abs(o.centerY-a.centerY)}.dir,r=t.get("startPoint"),"x"===n&&t.attr("y",r.y+20))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(0),x=i(150);e.default=function(t,e,i,n){var r,o,a,s,l,u,c,h,p,f,d,g,y,v=n.nodes.nodes;0!==i&&(r=v[i],o=v[i-1],x.isNodeOverlap(r,o)&&(a=n.plot.plot.get("elements")[0],(s=o.top-r.height/2)-10>n.region.top&&(l=r.shape.get("origin"),d=a.getShapeId(l),g=a.getShapes(),m.each(g,function(t){var e=t;e.get("id")===d&&(y=e)}),c=(u=y.get("box")).left+u.width/2,h=u.top,p=a.get("labelController").labelsContainer.addShape("path",{attrs:{path:[["M",c,h],["L",r.shape.attr("x"),s]],stroke:"#ccc",lineWidth:1}}),f={x:t.attr("x"),y:t.attr("y")},r.shape.attr("y",s-10),v[i]=n.nodes.measure(r.shape),v[i].line=p,v[i].origin_position=f)))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(153),a=n.__importDefault(i(43));e.default=function(t,e,i,n){var r=n.nodes.nodes;o.isKeep(e.keep,i,r)||t.attr("text")!==t.get("delegateObject").item.name&&a.default(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),h=i(0),p=n.__importDefault(i(43));e.default=function(t,e,n,i){var r,o,a,s,l,u=i.nodes.nodes,c=((r=h.deepMix([],u)).sort(function(t,e){return e.width-t.width}),Math.round(r[0].width));n<=1||(o=u[n],s=(a=function(t){for(var e=n-1;0<e;e--){var i=t[e];if(!i.shape.get("blank"))return i}}(u)).centerX-o.centerX,l=a.centerY-o.centerY,Math.sqrt(s*s+l*l)<c&&(p.default(t),t.set("blank",!0)))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),h=i(0),p=n.__importDefault(i(43));function f(t,e,i){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o.shape.get("origin")[e]===i)return o}}e.default=function(t,e,i,n){var r=n.nodes.nodes,o=r[i];o.line&&o.line.remove();var a,s,l,u=function(t,e,i){var n=[];h.each(t,function(t){n.push(t[e])}),n.sort(function(t,e){return t-e});var r=n[0],o=f(i,e,r),a=n[n.length-1],s=f(i,e,a),l=function(){var t=h.clone(n);t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return t.length,t[e]}();return{min:o,max:s,median:f(i,e,l)}}(n.plot.initialProps.data,n.plot[n.plot.type].label.fields[0],r),c=!1;h.each(u,function(t){t.shape.get("origin")===o.shape.get("origin")&&(c=!0)}),c?o.origin_position&&(s=(a=o.origin_position).x,l=a.y,t.attr("x",s),t.attr("y",l)):p.default(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),a=n.__importStar(i(151)),s=n.__importDefault(i(152)),l=n.__importDefault(i(154));e.default=function(t,e,i,n){var r=n.nodes.nodes,o=t.attr("text");/^\d+$/.test(o)?s.default(t,e,i,r):a.isTime(o)?a.default(t,e,i,r):l.default(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.resetMatrix(),t.attr({rotate:360-e.degree,textAlign:"right",textBaseline:"middle"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var i=t.attr("text"),n=Math.ceil(i.length/e.lineNumber),r="",o=1;o<e.lineNumber;o++)var a=n*o,r=i.slice(0,a)+"\n"+i.slice(a);var s=t.attr("fontSize");t.attr({text:r,lineHeight:s,textAlign:"center",textBaseline:"top"})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=r.__importDefault(i(156)).default,r.__extends(a,n),a.prototype.getType=function(){var t=this.plot.options;return t.label&&t.label.type?t.label.type:"point"},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=function(t){var e=t.getResponsiveTheme();new o({plot:t,responsiveTheme:e})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({line:"line",point:"point"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=i(1),y=i(8),v=i(0),l=i(63),n={stroke:"transparent",fill:"#FCC509",lineWidth:0},r={stroke:"#FFF",fill:"#FCC509",lineWidth:1},o={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},a=(s.prototype.render=function(){var t=this.getDataArray();this._renderPoints(t),this.view.canvas.draw(),this._addInteraction()},s.prototype.clear=function(){this.container&&this.container.clear()},s.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},s.prototype.getDataArray=function(){return this.view.geometries[0].dataArray},s.prototype._init=function(){var t=this,e=this.view.foregroundGroup;this.container=e.addGroup(),this.render(),this.view.on("beforerender",function(){t.clear()})},s.prototype._renderPoints=function(f){var d=this;v.each(this.config.data,function(e,t){var i,n,r,o,a,s,l,u,c,h,p=v.find(f[0],function(t){return v.isMatch(t._origin,e)});p&&(i=d.config.style.normal,n=d.container.addGroup({name:d.name}),r=p.x,o=p.y,v.isArray(r)&&(r=r[0]),v.isArray(o)&&(o=o[0]),a=d.config.symbol,l=(s=d.config).offsetX,u=s.offsetY,h=void 0,h=v.isString(a)&&a.startsWith("image://")?(c=a.substr(8),n.addShape("image",{attrs:{x:r-d.size/2+l,y:o-d.size/2+u,img:c,width:d.size,height:d.size}})):(a=v.isString(a)?y.MarkerSymbols[a]:a,n.addShape({type:"marker",name:"marker-point",id:"point-"+t,attrs:g.__assign(g.__assign({x:r+l,y:o+u,r:d.size/2},i),{symbol:a})})),d.points.push(h),d._animatePoint(h),d._renderLabel(n,p,t),n.set("data",e),n.set("origin",p))})},s.prototype._renderLabel=function(t,e,i){var n,r,o,a,s,l,u,c,h,p,f,d=this.config.label;d&&d.visible&&(r=void 0===(n=d.offsetX)?0:n,a=void 0===(o=d.offsetY)?0:o,s=d.formatter,l=d.position,u=d.field,c=e._origin[u],s&&(c=s(c,{_origin:e._origin},i)),h=v.isArray(e.x)?e.x[0]:e.x,p=v.isArray(e.y)?e.y[0]:e.y,f=t.addShape("text",{name:"marker-label",id:"label-"+i,attrs:g.__assign(g.__assign({x:h+r,y:p+a,text:c||""},d.style),{textAlign:"center",textBaseline:"top"===l?"bottom":"top"})}),this.labels.push(f))},s.prototype._addInteraction=function(){var s=this,t=this.config.events;v.each(t,function(o,a){s.container.on(s.name+":"+a,function(t){o(t);var e,i,n,r=t.target.get("parent").get("children")[0];r&&(e=r.get("data"),n={id:i=r.get("id"),data:e},"click"===a?s.selectedPoint&&s.selectedPoint.get("id")===i?(s.selectedPoint=null,s.setState("inactive",n)):(s.selectedPoint=r,s.setState("selected",n)):"mouseenter"===a?s.setState("active",n):"mouseleave"===a&&s.setState("inactive",n)),s.view.canvas.draw()}),s.view.on("click",function(t){var e=t.target.get("parent");(!e||e.get("name")!==s.name&&s.selectedPoint)&&(s.selectedPoint=null,s.setState("inactive"))})})},s.prototype.setState=function(t,e){var i=this;"active"===t?this.selectedPoint&&e.id===this.selectedPoint.get("id")||this._onActive(e):"inactive"===t?this.points.forEach(function(t){return i._onInactive(t)}):"selected"===t&&this._onSelected(e)},s.prototype._onActive=function(t){var e=this,n=this.config.style.active;v.each(this.points,function(i){i.get("id")===t.id?v.each(n,function(t,e){i.attr(e,t)}):e._onInactive(i)})},s.prototype._onInactive=function(i){var t=this.config.style.normal;this.selectedPoint&&i.get("id")===this.selectedPoint.get("id")||v.each(t,function(t,e){i.attr(e,t)})},s.prototype._onSelected=function(t){var e=this,n=this.config.style.selected;v.each(this.points,function(i){i.get("id")===t.id?v.each(n,function(t,e){i.attr(e,t)}):e._onInactive(i)})},s.prototype._animatePoint=function(t){var e,i,n,r,o=this.config,a=o.animation,s=o.size;!1!==a&&(i=void 0===(e=a.endState)?{}:e,r=void 0===(n=a.animateCfg)?l.DEFAULT_ANIMATE_CFG.appear:n,t.animate(g.__assign({r:Number.isNaN(i.size/2)?s/2:i.size/2},i),r))},s);function s(t){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:n,selected:o,active:r},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=t.view,this.size=t.size||6,this.config=v.deepMix({},this.defaultCfg,t),this._init()}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("line",{lineStyle:{normal:{},active:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+1}},disable:function(t){return{opacity:.2*(t.shape.attr("opacity")||1)}},selected:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+2}}},pointStyle:{normal:{},active:{},disable:{},selected:{}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(65).registerResponsiveTheme("line",{label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSelect=e.LineActive=void 0;var n=i(1),r=n.__importDefault(i(296));e.LineActive=r.default;var o=n.__importDefault(i(297));e.LineSelect=o.default;var a=i(8),s=i(298),l=n.__importDefault(i(299));a.registerAction("selected-tooltip",s.SelectedTooltipAction),a.registerInteraction("selected-tooltip",{start:[{trigger:a.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:a.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),a.registerAction("marker-active",l.default),a.registerInteraction("marker-active",{start:[{trigger:a.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:a.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(88)).default,r.__extends(s,n),s.prototype.start=function(){},s.prototype.process=function(t){var e,i=o.filter(this.view.geometries,function(t){return"line"==t.type});"line"===t.target.get("name")?(e=o.get(t,"data.data"),o.each(i,function(t){o.each(t.elements,function(t){t.setState("active",t.data===e)})})):o.each(i,function(t){o.each(t.elements,function(t){t.setState("active",!1)})})},s);function s(t){return n.call(this,r.__assign({processEvent:"mousemove"},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(88)).default,r.__extends(s,n),s.prototype.start=function(){},s.prototype.end=function(t){var e,i=t.target,n=o.filter(this.view.geometries,function(t){return"line"==t.type});"line"===i.get("name")?(e=o.get(t,"data.data"),o.each(n,function(t){o.each(t.elements,function(t){t.setState("inactive",t.data!==e)})})):o.each(n,function(t){o.each(t.elements,function(t){t.setState("inactive",!1)})})},s);function s(t){return n.call(this,r.__assign({endEvent:"click"},t))||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectedTooltipAction=e.SelectedTooltipController=void 0;var n,r=i(1),o=i(0),a=i(8),s=(n=a.TooltipController,r.__extends(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),l.prototype.getTooltipCfg=function(){var t=n.prototype.getTooltipCfg.call(this);return r.__assign(r.__assign({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.SelectedTooltipController=s,a.registerComponentController("selected-tooltip",s);var u,c=(u=a.InteractionAction,r.__extends(h,u),h.prototype.show=function(){var t=this.getPoint();o.isEqual(t,this.location)||(this.location=t,this.showTooltip(t))},h.prototype.hide=function(){this.getTooltipController().hideTooltip()},h.prototype.showTooltip=function(t){this.getTooltipController().showTooltip(t)},h.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},h.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),i=t.getYScales()[0],n=t.getCoordinate(),r=o.last(e.getTicks()).value;return n.convert({x:r,y:(i.range[0]+i.range[1])/2})},h.prototype.getView=function(){return this.context.view},h.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},h);function h(){return null!==u&&u.apply(this,arguments)||this}e.SelectedTooltipAction=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActiveTooltipController=void 0;var n,r=i(1),o=i(0),a=i(8),s=(n=a.TooltipController,r.__extends(l,n),Object.defineProperty(l.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),l.prototype.getTooltipCfg=function(){var t=n.prototype.getTooltipCfg.call(this);return r.__assign(r.__assign({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.ActiveTooltipController=s,a.registerComponentController("tooltip-active",s);var u,c=(u=a.InteractionAction,r.__extends(h,u),h.prototype.init=function(){this.getView().removeInteraction("tooltip")},h.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},h.prototype.hide=function(){var t=this.getView();this.getTooltipController().hideTooltip();var e=o.filter(t.geometries,function(t){return"point"==t.type});o.each(e,function(t){o.each(t.elements,function(t){t.setState("active",!1)})})},h.prototype.showTooltip=function(t){var e=this.getView(),i=this.getTooltipController();i.showTooltip(t);var n=i.getTooltipItems(t),r=o.filter(e.geometries,function(t){return"point"==t.type});o.each(r,function(t){o.each(t.elements,function(e){e.setState("active",-1!==o.findIndex(n,function(t){return t.data===e.data}))})})},h.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},h.prototype.getView=function(){return this.context.view},h.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},h);function h(){return null!==u&&u.apply(this,arguments)||this}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(301)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="treemap",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=i(1),u=i(0),n=i(6),o=a.__importDefault(i(15)),c=a.__importDefault(i(302)),s=i(305),l=a.__importStar(i(309)),h=a.__importDefault(i(310)),p=(r=o.default,a.__extends(f,r),f.getDefaultOptions=function(){return u.deepMix({},r.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},f.prototype.beforeInit=function(){var e=this;r.prototype.beforeInit.call(this);var t=this.options.interactions;t&&u.each(t,function(t){"drilldown"===t.type&&(e.isDrilldown=!0,e.options.maxLevel=1)});var i=this.options.data,n=this.getTreemapData(i);this.rootData=n},f.prototype.afterRender=function(){r.prototype.afterRender.call(this),this.options.label&&this.options.label.visible&&new h.default(a.__assign({view:this.view,plot:this},this.options.label)).render()},f.prototype.geometryParser=function(){return"polygon"},f.prototype.getTreemapData=function(t,e){var i=this.getViewRange(),n=c.default(t,i.x,i.y,i.width,i.height);this.recursive(n,1);var r=[];return this.getAllNodes(n,r,e),r.sort(function(t,e){return t.depth-e.depth}),this.options.xField="x",this.options.yField="y",r},f.prototype.processData=function(){return this.rootData},f.prototype.coord=function(){},f.prototype.addGeometry=function(){var i=this,t=this.options,e=t.data,n=t.colorField,r=t.color,o=this.getTreemapData(e);this.rootData=o;var a=this.isNested(o);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[n],values:r},style:{fields:["depth"],callback:function(t){var e=i.adjustStyleByDepth(t,a);return u.deepMix({},e,i.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},f.prototype.applyInteractions=function(){var n=this,t=this.options.interactions,r=this.view.interactions;u.each(t,function(t){var e,i=s.INTERACTION_MAP[t.type];i&&(e=new i(u.deepMix({},{view:n.view,plot:n,startEvent:"polygon:click"},t.cfg,i.getInteractionRange(n.layerBBox,t.cfg))),r[t.type]=e)})},f.prototype.animation=function(){r.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},f.prototype.parseEvents=function(){r.prototype.parseEvents.call(this,l)},f.prototype.recursive=function(t,a){var s=this,l=this.options.colorField;u.each(t,function(o){u.each(o.children,function(t){var e,i,n,r;1<(t.depth=a)&&(t.parent=o),u.hasKey(t,l)||(t[l]=o[l]),t.showLabel=!0,s.isLeaf(t)||(e=Math.abs(t.y1-t.y0),n=(i=s.getLabelHeight())<e/2?i:4,t.showLabel=4!==n,r=c.default(t,t.x0+4,t.y0+n,t.x1-4,t.y1-4),s.fillColorField(r,l,t[l]),s.recursive(r,t.depth+1))})})},f.prototype.getAllNodes=function(t,e,i){var n=this,r=i||this.options.maxLevel,o=this.getViewRange();u.each(t,function(t){u.hasKey(t,"x0")&&t.depth<=r&&e.push(a.__assign(a.__assign({},t),{x:[t.x0,t.x1,t.x1,t.x0],y:[o.height-t.y1,o.height-t.y1,o.height-t.y0,o.height-t.y0]})),u.hasKey(t,"children")&&n.getAllNodes(t.children,e)})},f.prototype.fillColorField=function(t,e,i){u.each(t,function(t){u.hasKey(t,e)||(t[e]=i)})},f.prototype.getLabelHeight=function(){var t,e=this.options.label,i=this.getPlotTheme().label.style.fontSize,n=0;return e&&e.visible&&(n=(t=e.style)&&t.fontSize?t.fontSize:i),n+8},f.prototype.isLeaf=function(t){return!t.children||0===t.children.length},f.prototype.isNested=function(t){if(1===this.options.maxLevel)return!1;for(var e=!1,i=0;i<t.length;i++)if(t[i].children){e=!0;break}return e},f.prototype.adjustStyleByDepth=function(t,e){var i=this.options.maxLevel;return e?1===t?{lineWidth:1,stroke:"black",opacity:t/i}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/i}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},f);function f(){var t=null!==r&&r.apply(this,arguments)||this;return t.type="treemap",t}e.default=p,n.registerPlotType("treemap",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var w=i(303),M=i(304),C=(1+Math.sqrt(5))/2;e.default=function(t,e,i,n,r){var o=t.children,a=t.value;o.sort(function(t,e){return e.value-t.value});for(var s,l,u,c,h=[],p=0,f=0;p<o.length;){for(var d=n-e,g=r-i,y=s=o[f++].value,v=s,m=s*s*(l=Math.max(g/d,d/g)/(a*C)),x=Math.max(y/m,m/v);f<o.length;f++){if((c=o[f].value)<v&&(v=c),y<c&&(y=c),m=(s+=c)*s*l,(u=Math.max(y/m,m/v))>x){s-=c;break}x=u}var b,_,O={value:s,dice:d<g,children:o.slice(p,f)};h.push(O),O.dice?(b=a?g*s/a:g,w.dice(O,e,i,n,i+b),a&&(i+=b)):(_=a?d*s/a:d,M.slice(O,e,i,e+_,r),a&&(e+=_)),a-=s,p=f}return h}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dice=void 0;var c=i(0);e.dice=function(t,e,i,n,r){var o=n-e,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=o/s,u=e;c.each(a,function(t){t.y0=i,t.y1=r,t.x0=u,u+=t.value*l,t.x1=t.x0+t.value*l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slice=void 0;var c=i(0);e.slice=function(t,e,i,n,r){var o=r-i,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=o/s,u=i;c.each(a,function(t){t.x0=e,t.x1=n,t.y0=u,u+=t.value*l,t.y1=t.y0+t.value*l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INTERACTION_MAP=void 0;var n=i(1).__importDefault(i(306));e.INTERACTION_MAP={drilldown:n.default}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=i(1),r=s.__importDefault(i(307)),o=s.__importDefault(i(39)),l=s.__importDefault(i(13)),a=i(0),u=i(308),c=(n=o.default,s.__extends(h,n),h.getInteractionRange=function(t,e){var i,n=(void 0===(i=e)&&(i={}),s.__assign({x:0,y:0,startNode:{name:"root"},itemWidth:100,itemHeight:30,padding:[0,0,0,0]},i)),r=n.padding,o=r[0],a=r[1];if(t)return new l.default(t.minX,t.maxY-n.itemHeight-o-a,t.width,n.itemHeight+o+a)},h.prototype.start=function(t){var e=this,i=t.data.data;i.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:a.clone(this.currentNode.name),value:a.clone(this.currentNode.value)},depth:a.clone(this.currentDepth)},this.currentDepth++,u.drillingDown(t.target,this.view,function(){e.update(i)}))},h.prototype.update=function(t){a.hasKey(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},h.prototype.render=function(){var t;this.breadcrumb?(t=this.getItems(),this.breadcrumb.update({items:t}),this.breadcrumb.render()):(this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),"root"===this.startNode.name?(this.startNodeName=a.hasKey(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+10,this.breadcrumb=new r.default({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw()),this.layout(),this.onInteraction()},h.prototype.clear=function(){},h.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},h.prototype.getItems=function(){var t,e,i=[];return this.currentNode.name&&this.currentNode.name===this.startNodeName?(t=this.getRootItem(),i.push(t)):(i=[],e=[],this.findParent(this.currentNode,e),i.push(this.getRootItem()),a.each(e,function(t,e){i.push({key:String(e+2),text:t.name,data:t})}),i.push({key:String(e.length+2),text:this.currentNode.name,data:this.currentNode})),i},h.prototype.findParent=function(t,e){t.parent&&(a.hasKey(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e))},h.prototype.onInteraction=function(){var r=this;this.container.on("click",function(t){var e=t.target.get("parent");if(e&&"item-group"===e.get("class")){var i=e.get("data");if(i.data)if(i.text===r.startNodeName)r.currentDepth-1==1?u.rollingUp(r.currentNode.name,r.view,function(){r.updateRoot(i)}):r.updateRoot(i),r.currentDepth=1;else{if(r.currentNode===i.data)return;var n=a.clone(r.currentDepth);r.currentDepth=parseInt(i.key),n-1===r.currentDepth?u.rollingUp(r.currentNode.name,r.view,function(){r.update(i.data)}):r.update(i.data)}}})},h.prototype.getRootItem=function(){var t=this.plot.options.data;return{key:"1",text:a.hasKey(t,"name")?t.name:"root",data:this.plot.rootData}},h.prototype.saveOriginMapping=function(){var t=this.plot.options,e={field:t.colorField,values:t.colors};this.originMapping=e},h.prototype.adjustScale=function(t){var e,i,n=this.view;this.mapping&&a.hasKey(this.mapping,String(t))?(i=a.clone(this.mapping[t])).values&&a.isFunction(i.values)&&(e=i.values(this.parentNode,this.currentNode),i.values=e):i=a.clone(this.originMapping),this.view.geometries[0].color(i.field,i.values),n.render()},h.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox;this.geometry.container.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},h.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},h);function h(){return null!==n&&n.apply(this,arguments)||this}e.default=c,o.default.registerInteraction("drilldown",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,m=i(1),n=m.__importDefault(i(54)),o=i(55),a=(r=n.default,m.__extends(s,r),s.prototype.destroy=function(){this.offEvents(),r.prototype.destroy.call(this)},s.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=m.__assign({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=m.__assign({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=m.__assign({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=m.__assign({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=m.__assign({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},s.prototype.renderInner=function(t){this.offEvents(),this.renderItems(t,0,0),o.move(this.group,this.x,this.y)},s.prototype.renderItems=function(u,c,h){var p,f=this,t=this.itemPadding,d=t[0],g=t[1],y=t[2],v=t[3],e=u.addShape("rect",{class:"breadcrumb-background",attrs:m.__assign({x:c,y:h,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(t,e){var i=u.addGroup({id:"item-group-"+t.key,data:t,class:"item-group",attrs:{cursor:"pointer"}}),n=i.addShape("rect",{id:"item-background-"+t.key,class:"item-background",attrs:m.__assign(m.__assign({x:c,y:h,width:v+g,height:d+y},f.itemBackgroundStyle),{cursor:"pointer"})});n.name="breadcrumb";var r=i.addShape("text",{id:"item-text-"+t.key,class:"item-text",attrs:m.__assign(m.__assign({x:c+v,y:h+d,text:t.text},f.textStyle),{cursor:"pointer"})});r.name="breadcrumb";var o=r.getBBox();p=f.itemHeight||o.height;var a=f.itemWidth||o.width;f.maxItemWidth&&(a=Math.min(a,f.maxItemWidth));var s,l={x:c,y:h,width:a+v+g,height:p+d+y};n.attr("width",l.width),n.attr("height",l.height),i.setClip({type:"rect",attrs:l}),c+=l.width,e!==f.items.length-1&&(s=u.addShape("text",{attrs:m.__assign({x:c,y:h+d,text:f.separator},f.separatorStyle),class:"separator"}),c+=s.getBBox().width)}),e.attr({width:c,height:p+d+y})},s.prototype.bindEvents=function(t){function o(t,i,n){return function(){var e=i.get("data"),t=r.find(function(t){return t.key===e});a.emit(n,{item:t})}}var a=this,r=this.items,e=t.get("children").filter(function(t){return"item-group"===t.get("class")});e.forEach(function(t){var e=o(0,t,"onItemClick"),i=o(0,t,"onItemDblclick"),n=a.onItemGroupToggleActive(t,!0),r=a.onItemGroupToggleActive(t,!1);t.on("click",e),t.on("dblclick",i),t.on("mouseenter",n),t.on("mouseleave",r),a.listeners.push({target:t,event:"click",callback:e}),a.listeners.push({target:t,event:"dblclick",callback:i}),a.listeners.push({target:t,event:"mouseenter",callback:n}),a.listeners.push({target:t,event:"mouseleave",callback:r})})},s.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,i=t.event,n=t.callback;e.off(i,n)}),this.listeners=[]},s);function s(){var n=null!==r&&r.apply(this,arguments)||this;return n.listeners=[],n.onItemGroupToggleActive=function(e,i){return function(){var t=e.get("children").find(function(t){return"item-background"===t.get("class")});t&&t.attr(i?n.itemActiveBackgroundStyle:n.itemBackgroundStyle),n.getCanvas().draw()}},n}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rollingUp=e.drillingDown=void 0;var O=i(0),w=i(55),M=[1,0,0,0,1,0,0,0,1],C="easeQuadInOut";function S(t,i){var e=t.getShapes(),n=[];return O.each(e,function(t){var e=i.addShape("path",{attrs:O.deepMix({},t.attrs,{capture:!1})});n.push(e)}),n}function j(t){var e=t.coordinateBBox;return{minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height}}function P(t){var e=t.attr("path"),i=e[0][1],n=e[0][2],r=e[1][1],o=e[2][2];return{minX:i,minY:o,centerX:(r-i)/2,centerY:(n-o)/2,width:Math.abs(r-i),height:Math.abs(n-o)}}function T(t){t.labelsContainer.set("visible",!1)}function A(t){t.labelsContainer.set("visible",!0)}e.drillingDown=function(t,n,e){var r=P(t),o=j(n),i=o.width/r.width,a=o.height/r.height,s=(o.minX-r.minX)*i,l=(o.minY-r.minY)*a,u=w.transform([["s",i,a],["t",s,l]]),c=n.geometries[0];T(c);var h=n.backgroundGroup.addGroup();h.set("zIndex",-100),h.setClip({type:"rect",attrs:{x:o.minX,y:o.minY,width:o.width,height:o.height}});var p=S(c,h);c.container.set("visible",!1),n.canvas.draw(),e(),window.setTimeout(function(){O.each(p,function(t,e){0===e?t.animate({matrix:u},400,C,function(){h.remove(),n.canvas.draw()}):t.animate(w.transform,400)}),T(c=n.geometries[0]);var t=c.getShapes();O.each(t,function(t){t.attr("opacity",0),t.animate({opacity:1},400,C)});var e=c.container;e.stopAnimate(),e.set("visible",!0),e.attr("matrix",O.clone(M)),w.groupTransform(e,[["s",r.width/o.width,r.height/o.height],["t",r.minX,r.minY]]);var i=O.clone(M);c.container.animate({matrix:i},400,C,function(){A(c)}),n.canvas.draw()},16)},e.rollingUp=function(t,e,i){var n=e.geometries[0];T(n);var r=n.container;r.attr("matrix",O.clone(M));var o=e.backgroundGroup.addGroup();o.set("zIndex",-100);var a=S(n,o);r.set("visible",!1),e.canvas.draw(),i(),T(n=e.geometries[0]),r=n.container;var s,l,u,c,h,p,f,d,g=P((s=n.getShapes(),l=t,O.each(s,function(t){t.get("origin").data.name===l&&(u=t)}),u)),y=j(e);r.get("parent").get("clipShape")||r.setClip({type:"rect",attrs:{x:y.minX,y:y.minY,width:y.width,height:y.height}}),c=o,h=a,p=g.width/y.width,f=g.height/y.height,d=w.transform([["s",p,f],["t",g.minX,g.minY]]),c.animate({matrix:d},400,C,function(){c.remove()}),O.each(h,function(t){t.animate({opacity:0},400,C)});var v=y.width/g.width,m=y.height/g.height,x=(y.minX-g.minX)*v,b=(y.minY-g.minY)*m,_=w.transform([["s",v,m],["t",x,b]]);r.setMatrix(_),r.set("visible",!0),r.animate({matrix:M},400,C,function(){A(n)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({rect:"polygon",breadcrumb:"breadcrumb"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(0),x=i(38);function b(t,e,i,n){for(var r=n.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:e}}),o=r.getBBox().width,a=n.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),s="",l=i-o,u=0;u<t.length;u++){var c=t[u];if(a.attr("text",s+=c),a.getBBox().width>=l){var h=s.substr(0,s.length-1);if(0<h.length)return h+"..."}}return a.remove(),r.remove(),s}var n=(r.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var h=this,t=this.getGeometry().elements;m.each(t,function(t){var e,i,n,r,o,a,s,l=t.shape,u=l.get("origin").data,c=(e=h.plot.options.maxLevel,!u.children||u.depth>=e);u.showLabel&&(i=m.clone(h.options.style),n=h.getPosition(l,c),o=(r=h.options.formatter)?r(u.name):u.name,a=h.getTextBaseLine(c),s=h.container.addShape("text",{attrs:m.deepMix({},i,{x:n.x,y:n.y,text:o,fill:"black",textAlign:"center",textBaseline:a,fontWeight:c?300:600}),name:"label"}),h.adjustLabel(s,l,c))})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getPosition=function(t,e){var i=t.getBBox(),n=0,r=0,r=e?(n=i.minX+i.width/2,i.minY+i.height/2):(n=i.x+i.width/2,i.y+4);return{x:n,y:r}},r.prototype.getTextBaseLine=function(t){return t?"middle":"top"},r.prototype.adjustLabel=function(t,e,i){i?this.adjustLeafLabel(t,e):this.adjustParentLabel(t,e)},r.prototype.adjustLeafLabel=function(t,e){var i=e.getBBox(),n=t.getBBox(),r=m.clone(t.attr("text")),o=Math.max(t.attr("fontSize")-2,8),a=i.x+i.width/2,s=i.y+i.height/2;t.attr({x:a,y:s,textAlign:"center",textBaseline:"middle",lineHeight:o,fontSize:o});var l,u,c,h,p,f,d,g,y,v=i.width-8;n.width>i.width&&n.height>i.height||v<o?t.attr("text",""):n.width>i.width&&(c=t,h=v,p=this.container,f=c.attr("fontSize"),d=c.attr("text"),g=p.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:f}}),y=d.split("\n").map(function(t){for(var e="",i=t.split(""),n=[],r=0;r<i.length;r++){var o=i[r];if(g.attr("text",e+=o),g.getBBox().width-1>h){if(0===r)break;n.push(r),e=""}}return x.breakText(i,n)}),g.remove(),l=y.join("\n"),t.attr({lineHeight:t.attr("fontSize"),text:l}),t.getBBox().height>i.height&&(u=b(r,o,v,this.container),t.attr("text",u)))},r.prototype.adjustParentLabel=function(t,e){var i,n=e.getBBox().width-8;t.getBBox().width>n&&(i=b(t.attr("text"),t.attr("fontSize"),n,this.container),t.attr("text",i))},r.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:m.clone(t)}},r.prototype.getGeometry=function(){return m.find(this.view.geometries,function(t){return"polygon"===t.type})},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=m.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(312),s=(n=r.__importDefault(i(4)).default,r.__extends(l,n),l.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="step-line",n.prototype.createLayers.call(this,e)},l.getDefaultOptions=a.StepLineLayer.getDefaultOptions,l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StepLineLayer=void 0;var n,r=i(1),o=i(0),a=r.__importDefault(i(66)),s=i(6),l=(n=a.default,r.__extends(u,n),u.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{step:"hv"})},u);function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="step-line",t}e.StepLineLayer=l,s.registerPlotType("step-line",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(68)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveAxis",method:i(1).__importDefault(i(315)).default}];e.default={preRender:[],afterRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(67));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({bar:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(95)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),r=i(93);n.registerTheme("stackedBar",r.DEFAULT_BAR_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(20),a=(n=r.__importDefault(i(94)).default,r.__extends(s,n),s.prototype.adjustLabel=function(t,e){var i;this.options.adjustPosition&&(i=t.getBBox(),this.getElementShapeBBox(e).maxX<=i.maxX&&t.set("visible",!1))},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("stacked-bar",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(20),a=(n=r.__importDefault(i(160)).default,r.__extends(s,n),s.prototype.shouldInShapeLabels=function(t){return!0},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("stacked-bar-auto",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(161)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),r=i(93);n.registerTheme("groupedBar",r.DEFAULT_BAR_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(162)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(325)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rangeBar",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=r.__importDefault(i(68)),l=r.__importDefault(i(326)),u=i(327),c=(n=s.default,r.__extends(h,n),h.getDefaultOptions=function(){return o.deepMix(n.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},h.prototype.afterRender=function(){this.renderLabel();var i=[],t=this.view.geometries;o.each(t,function(t){var e=t.elements;o.each(e,function(t){i.push(t.shape)})}),u.setShapeCache(i),n.prototype.afterRender.call(this)},h.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new l.default(r.__assign({view:this.view,plot:this},this.options.label)).render()},h.prototype.animation=function(){n.prototype.animation.call(this),this.bar.animate={appear:{animation:"clipInFromCenter",duration:600},update:{animation:"updateFromCenter",duration:600}}},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rangeBar",t}e.default=c,a.registerPlotType("rangeBar",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=i(0),s=i(28),r=n.__importDefault(i(13)),o=(a.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},a.prototype.render=function(){var h=this,t=this.getGeometry(),e=t.elements,i=t.coordinate;this.coord=i,p.each(e,function(t){var s=t.shape,e=h.getPosition(s),l=h.getValue(s),u=h.getTextAlign(),c=[];p.each(e,function(t,e){var i=0===e?h.options.leftStyle:h.options.rightStyle,n=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==n&&(i.stroke=null);var r=h.options.formatter,o=r?r(l[e]):l[e],a=h.container.addShape("text",{attrs:p.deepMix({},i,{x:t.x,y:t.y,text:o,fill:n,textAlign:u[e],textBaseline:"middle"}),name:"label"});c.push(a),h.doAnimation(a)}),s.set("labelShapes",c),h.adjustPosition(c[0],c[1],s)}),this.plot.canvas.draw()},a.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},a.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},a.prototype.getBBox=function(){return this.container.getBBox()},a.prototype.getShapeBbox=function(t){var e=this,i=[];return p.each(t.get("origin").points,function(t){i.push(e.coord.convertPoint(t))}),new r.default(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},a.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:8,offsetY:0,style:p.clone(t),adjustColor:!0,adjustPosition:!0}},a.prototype.getPosition=function(t){var e,i=this.getShapeBbox(t),n=i.minX,r=i.maxX,o=i.minY,a=i.height,s=this.options,l=s.offsetX,u=o+a/2+s.offsetY,c="outer"===this.options.position?(e=n-l,r+l):(e=n+l,r-l);return[{x:e,y:u},{x:c,y:u}]},a.prototype.getValue=function(t){var e=this.plot.options.xField;return t.get("origin").data[e]},a.prototype.getTextAlign=function(){return"outer"===this.options.position?["right","left"]:["left","right"]},a.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,r=s.rgb2arr(i);return o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n,p.each([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],function(t){o>=t.from&&o<t.to&&(a=t.color)}),a}var o,a;return 0===e?this.options.leftStyle.fill:this.options.rightStyle.fill},a.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},a.prototype.adjustPosition=function(t,e,i){var n,r=i.get("origin"),o=r.x[0],a=r.x[1],s=Math.abs(a-o),l=this.view.coordinateBBox,u=[t.getBBox(),e.getBBox()],c=t.attr("x"),h=e.attr("x");this.options.adjustPosition&&"inner"===this.options.position&&(n=u[0].width+u[1].width,(2<u[0].maxX-u[1].minX||s<n)&&(c=o-this.options.offsetX,t.attr("fill",this.options.leftStyle.fill),t.attr("textAlign","right"),u[0]=t.getBBox(),h=a+this.options.offsetX,e.attr("fill",this.options.rightStyle.fill),e.attr("textAlign","left"),u[1]=e.getBBox())),u[0].minX<l.minX&&(c=l.minX+8,t.attr("textAlign","left")),t.attr("x",c),e.attr("x",h),this.plot.canvas.draw()},a.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},a);function a(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setShapeCache=void 0;var a,n=i(8),s=i(0);function r(t,e){var i=t.getBBox(),n=i.minX+i.width/2;t.setClip({type:"rect",attrs:{x:n,y:i.minY,width:0,height:i.height}}),t.get("clipShape").animate({width:i.width,x:i.minX},e.duration,e.easing,function(){t.setClip(null)},e.delay)}function o(t,e){var i,n,r=(n=t.id,s.each(a,function(t){t.id===n&&(i=t)}),i.attr("path")),o=s.clone(t.attr("path"));t.attr("path",r),t.animate({path:o},e.duration,e.easing,e.callback,100)}r.animationName="clipInFromCenter",e.setShapeCache=function(t){a=t},o.animationName="updateFromCenter",n.registerAnimation("clipInFromCenter",r),n.registerAnimation("updateFromCenter",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(97)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="area",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{name:"responsiveAxis",method:i(1).__importDefault(i(330)).default}];e.default={preRender:[],afterRender:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(67));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({area:"area",line:"line",point:"point"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(98)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlotComponents=void 0;var n=i(1),r=n.__importDefault(i(334)),o=n.__importDefault(i(335)),a={lineLabel:{Ctr:r.default},areaLabel:{Ctr:o.default}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],r=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(r,n.padding),r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),s=i(0),o=(n=r.__importDefault(i(158)).default,r.__extends(a,n),a.prototype.getShapeInfo=function(t){var e=t.get("origin").points,i=e[e.length-1],n=t.attr("stroke"),r=this.plot.options.stackField,o=t.get("origin").data[0][r],a=s.reduce(i.y,function(t,e){return t+e},0)/s.size(i.y);return{x:i.x,y:a,color:n,name:o}},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),d=i(0);function s(e,t,i){var n=t[0],r=t[t.length-1];d.each(t,function(t){if(t.x===e)return t.y[i];t.x<e&&t.x>n.x&&(n=t),t.x>e&&t.x<r.x&&(r=t)});var o=(e-n.x)/(r.x-n.x);return n.y[i]*(1-o)+r.y[i]*o}function y(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n.x===e||n.x>e)break}return i}var n=(o.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},o.prototype.render=function(){var c=this,h=this.plot.options.stackField,t=this.getGeometry().dataArray,n=[];d.each(t,function(t,e){var i=c.drawLabel(t,e);i&&(n.push(d.deepMix({},t[0],i)),c.scaleFactor.push(i.scaleFactor))});var p=[];d.each(n,function(t,e){var i=c.options,n=i.style,r=i.offsetX,o=i.offsetY,a=c.getFontSize(e),s=c.options.formatter,l=s?s(t._origin[h]):t._origin[h],u=c.container.addShape("text",{attrs:d.deepMix({},{x:t.x+r,y:t.y+o,text:l,fill:t.color,fontSize:a,textAlign:"center",textBaseline:"top"},n),name:"label"});p.push(u)}),this.plot.canvas.draw()},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){return this.container.getBBox()},o.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=d.clone(t.label.style);return e.stroke=null,delete e.fill,{offsetX:0,offsetY:0,style:e,autoScale:!0}},o.prototype.drawLabel=function(t,e){var i,n,r,o=(n=1/0,r=i=-1/0,d.each(t,function(t){n=Math.min(t.x,n),r=Math.max(t.x,r);var e=Math.abs(t.y[0]-t.y[1]);i=Math.max(i,e)}),{xRange:[n,r],maxHeight:i}),a=o.xRange,s=o.maxHeight,l=a[1]-a[0],u=this.getInterpolatedPoints(a[0],l,t),c=this.getLabelBbox(e),h={xRange:a,aspect:c.width/c.height,data:u,justTest:!0},p=this.bisection(12,s,this.testFit,h,.01,100);if(null!==p){h.justTest=!1;var f=this.testFit(h);return f.x=f.x,f.y=f.y0+(f.y1-f.y0)/2,f.scaleFactor=p/c.height*.2,f}},o.prototype.getInterpolatedPoints=function(t,e,i){for(var n=[],r=t;r<e;r+=2){var o=s(r,i,0),a=s(r,i,1);n.push({x:r,y:[o,a]})}return n},o.prototype.bisection=function(t,e,i,n,r,o){for(var a=0;a<o;a++){var s=(t+e)/2,l=n;l.height=s,l.width=s*l.aspect;var u=i(l);if(u&&(e-t)/2<r)return s;u?t=s:e=s}return null},o.prototype.testFit=function(t){for(var e=t.xRange,i=t.width,n=t.height,r=t.data,o=t.justTest,a=0;a<r.length;a++){var s=r[a].x,l=s+i;if(l>e[1])break;for(var u=y(r,l),c=-1/0,h=null,p=1/0,f=a;f<u;f++){var d=r[f].y[1],g=r[f].y[0];if(g<p&&(p=g),c<d&&(c=d,h=g),p-c<n)break}if(n<=p-c)return!!o||{x:s,y0:c,y1:h,width:i,height:n}}return!1},o.prototype.getLabelBbox=function(t){var e=d.clone(this.plot.theme.label.textStyle);e.fontSize=12;var i=this.container.addShape("text",{attrs:r.__assign({text:t,x:0,y:0},e)}),n=i.getBBox();return i.remove(),n},o.prototype.getGeometry=function(){return d.find(this.view.geometries,function(t){return"area"===t.type})},o.prototype.getFontSize=function(t){return this.options.autoScale?12*this.scaleFactor[t]:12},o);function o(t){this.destroyed=!1,this.scaleFactor=[],this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=d.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(20),a=(n=r.__importDefault(i(163)).default,r.__extends(s,n),s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("stackedArea-point",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(20),a=(n=r.__importDefault(i(164)).default,r.__extends(s,n),s.prototype.sortLabels=function(t,e){var i=[];return 0<e.length&&i.push(e.shift()),0<e.length&&i.push(e.pop()),i.push.apply(i,e),i},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("stackedArea-point-auto",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),r=i(165);n.registerTheme("stackedArea",r.DEFAULT_AREA_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(166)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(44)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="column",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=n.__importDefault(i(342)),o=n.__importDefault(i(343)),a=[{name:"responsiveAxis",method:r.default},{name:"responsiveLabel",method:o.default}];e.default={preRender:[],afterRender:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1).__importDefault(i(67));e.default=function(t){var e=t.getResponsiveTheme(),i=t.canvas;new n.default({plot:t,responsiveTheme:e,dim:"x"}),new n.default({plot:t,responsiveTheme:e,dim:"y"}),i.draw()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=(n=r.__importDefault(i(156)).default,r.__extends(a,n),a.prototype.getType=function(){return!this.plot.column.label||this.plot.column.label.position&&"top"!==this.plot.column.label.position?"inner":"top"},a);function a(){return null!==n&&n.apply(this,arguments)||this}e.default=function(t){var e=t.getResponsiveTheme();new o({plot:t,responsiveTheme:e})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(65).registerResponsiveTheme("column",{label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(100)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),r=i(99);n.registerTheme("groupedColumn",r.DEFAULT_COLUMN_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(69)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(0),a=i(64);function f(t,e){var i=[],n=t.get("origin").points;return p.each(n,function(t){i.push(e.convertPoint(t))}),i}var n=(r.prototype.draw=function(){var i=this,t=this._getGroupedShapes();p.each(t,function(t,e){0<t.length&&i._drawConnection(t,e)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},r.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype.setState=function(t,e){"active"===t&&this._onActive(e),"disabled"===t&&this._onDisabled(e),"selected"===t&&this._onSelected(e)},r.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},r.prototype._getGroupedShapes=function(){var i=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0].getShapes(),n={};return p.each(t,function(t){n[t]=[]}),p.each(e,function(t){var e=t.get("origin").data[i.field];n[e].push(t)}),n},r.prototype._drawConnection=function(t,e){var i=t[0].attr("fill");this._areaStyle[e]=this._getShapeStyle(i,"area"),this._lineStyle[e]=this._getShapeStyle(i,"line");for(var n=this.view.geometries[0].coordinate,r=0;r<t.length-1;r++){var o=f(t[r],n),a=f(t[r+1],n),s=p.mix({},this._areaStyle[e]),l=p.mix({},this._lineStyle[e]);this.triggerOn&&(s.opacity=0,l.opacity=0);var u=this.container.addShape("path",{attrs:p.mix({},s,{path:[["M",o[2].x,o[2].y],["L",a[1].x,a[1].y],["L",a[0].x,a[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:p.mix({},l,{path:[["M",o[2].x,o[2].y],["L",a[1].x,a[1].y]]}),name:"connectedArea"}),h=t[r].get("origin").data;u.set("data",h),c.set("data",h),this.areas.push(u),this.lines.push(c)}},r.prototype._getShapeStyle=function(t,e){var i=e+"Style";if(this[i])return this[i];var n={areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}[i],r="line"===e?{stroke:t}:{fill:t};return p.mix(n,r)},r.prototype._addInteraction=function(){var i=this,t=this.triggerOn;this.view.on("interval:"+t,function(t){var e=t.target.get("origin").data[i.field];i.setState("active",{name:i.field,exp:e}),i.setState("disabled",{name:i.field,exp:function(t){return t!==e}}),i.view.canvas.draw()}),this.view.on("mousemove",function(t){"interval"!==t.gEvent.target.get("name")&&i.setState("disabled",{name:i.field,exp:function(){return!0}})})},r.prototype._initialAnimation=function(){var t=this.view.coordinateBBox,e=t.x,i=t.y,n=t.width,r=t.height;this.container.setClip({type:"rect",attrs:{x:e,y:i,width:0,height:r}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},r.prototype._onActive=function(r){var o=this;p.each(this.areas,function(t){var e,i=t.get("data"),n=i[o.field];a.compare(i,r)&&(e=o._areaStyle[n].opacity||1,t.stopAnimate(),t.animate({opacity:e},400,"easeQuadOut"))}),p.each(this.lines,function(t){var e,i=t.get("data"),n=i[o.field];a.compare(i,r)&&(e=o._lineStyle[n].opacity||1,t.stopAnimate(),t.animate({opacity:e},400,"easeQuadOut"))})},r.prototype._onDisabled=function(i){p.each(this.areas,function(t){var e=t.get("data");a.compare(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),p.each(this.lines,function(t){var e=t.get("data");a.compare(e,i)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},r.prototype._onSelected=function(t){this._onActive(t)},r.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},r);function r(t){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},p.assign(this,t),this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),r=i(99);n.registerTheme("stackedColumn",r.DEFAULT_COLUMN_THEME)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(20),a=(n=r.__importDefault(i(167)).default,r.__extends(s,n),s.prototype.shouldInShapeLabels=function(t){return!0},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.default=a,o.registerLabelComponent("stacked-column-auto",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(352)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rangeColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=r.__importDefault(i(44)),l=r.__importDefault(i(353)),u=i(354),c=(n=s.default,r.__extends(h,n),h.getDefaultOptions=function(){return o.deepMix(n.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},h.prototype.afterRender=function(){this.renderLabel();var i=[],t=this.view.geometries;o.each(t,function(t){var e=t.elements;o.each(e,function(t){i.push(t.shape)})}),u.setShapeCache(i),n.prototype.afterRender.call(this)},h.prototype.animation=function(){n.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},h.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new l.default(r.__assign({view:this.view,plot:this},this.options.label)).render()},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rangeColumn",t}e.default=c,a.registerPlotType("rangeColumn",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),p=i(0),s=i(28),r=n.__importDefault(i(13)),o=(a.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},a.prototype.render=function(){var h=this,t=this.getGeometry(),e=t.coordinate,i=t.elements;this.coord=e,p.each(i,function(t){var s=t.shape,e=h.getPosition(s),l=h.getValue(s),u=h.getTextBaseline(),c=[];p.each(e,function(t,e){var i=1===e?h.options.topStyle:h.options.bottomStyle,n=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==n&&(i.stroke=null);var r=h.options.formatter,o=r?r(l[e]):l[e],a=h.container.addShape("text",{attrs:p.deepMix({},i,{x:t.x,y:t.y,text:o,fill:n,textAlign:"center",textBaseline:u[e]}),name:"label"});c.push(a),h.doAnimation(a)}),s.set("labelShapes",c),h.adjustPosition(c[0],c[1],s)}),this.plot.canvas.draw()},a.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},a.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},a.prototype.getBBox=function(){return this.container.getBBox()},a.prototype.getShapeBbox=function(t){var e=this,i=[];return p.each(t.get("origin").points,function(t){i.push(e.coord.convertPoint(t))}),new r.default(i[0].x,i[1].y,Math.abs(i[2].x-i[0].x),Math.abs(i[0].y-i[1].y))},a.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:0,offsetY:8,style:p.clone(t),adjustColor:!0,adjustPosition:!0}},a.prototype.getPosition=function(t){var e,i=this.getShapeBbox(t),n=i.minX,r=i.minY,o=i.maxY,a=i.width,s=this.options.offsetY,l=n+a/2,u="outer"===this.options.position?(e=r-s,o+s):(e=r+s,o-s);return[{x:l,y:u},{x:l,y:e}]},a.prototype.getValue=function(t){var e=this.plot.options.yField;return t.get("origin").data[e]},a.prototype.getTextBaseline=function(){return"outer"===this.options.position?["top","bottom"]:["bottom","top"]},a.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var i=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,r=s.rgb2arr(i);return o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/n,p.each([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],function(t){o>=t.from&&o<t.to&&(a=t.color)}),a}var o,a;return 1===e?this.options.topStyle.fill:this.options.bottomStyle.fill},a.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},a.prototype.adjustPosition=function(t,e,i){var n,r=i.get("origin"),o=r.y[1],a=r.y[0],s=i.getBBox().height,l=this.view.coordinateBBox,u=[t.getBBox(),e.getBBox()],c=t.attr("y"),h=e.attr("y");this.options.adjustPosition&&"inner"===this.options.position&&(n=u[0].height+u[1].height,(2<u[1].maxY-u[0].minY||s<n)&&(h=o-this.options.offsetY,e.attr("fill",this.options.topStyle.fill),e.attr("textBaseline","bottom"),c=a+this.options.offsetY,t.attr("fill",this.options.bottomStyle.fill),t.attr("textBaseline","top"),u[0]=t.getBBox(),u[1]=e.getBBox())),u[0].maxY>l.maxY-8&&(c=l.maxY-4,t.attr("textBaseline","bottom")),t.attr("y",c),e.attr("y",h),this.plot.canvas.draw()},a.prototype.getGeometry=function(){return p.find(this.view.geometries,function(t){return"interval"===t.type})},a);function a(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setShapeCache=void 0;var a,n=i(8),s=i(0);function r(t,e){var i=t.getBBox(),n=i.minY+i.height/2;t.setClip({type:"rect",attrs:{x:i.minX,y:n,width:i.width,height:0}}),t.get("clipShape").animate({height:i.height,y:i.minY},e.duration,e.easing,function(){t.setClip(null)},e.delay)}function o(t,e){var i,n,r=(n=t.id,s.each(a,function(t){t.id===n&&(i=t)}),i.attr("path")),o=s.clone(t.attr("path"));t.attr("path",r),t.animate({path:o},e.duration,e.easing,e.callback,100)}r.animationName="clipInFromCenterVertical",e.setShapeCache=function(t){a=t},o.animationName="updateFromCenterVertical",n.registerAnimation("clipInFromCenterVertical",r),n.registerAnimation("updateFromCenterVertical",o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(170)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(171)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="pie",n.prototype.createLayers.call(this,e)},u.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({pie:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieLabelConfig=e.getPieLabel=void 0;var n=i(1),r=i(70);Object.defineProperty(e,"PieLabelConfig",{enumerable:!0,get:function(){return r.PieLabelConfig}});var o=n.__importDefault(i(359)),a=n.__importDefault(i(360)),s=n.__importDefault(i(361)),l={inner:o.default,outer:a.default,"outer-center":s.default};e.getPieLabel=function(t){if(l[t])return l[t];console.warn("this label "+t+" is not registered")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.percent2Number=void 0;var n=i(1),g=i(0),r=n.__importDefault(i(70)),y=i(101),v=i(24);e.percent2Number=function(t){return Number(t.endsWith("%")?t.slice(0,-1):t)/100};var o,a=(o=r.default,n.__extends(s,o),s.prototype.adjustOption=function(t){o.prototype.adjustOption.call(this,t),0<t.offset&&(t.offset=0)},s.prototype.adjustItem=function(t){t.textAlign="middle"},s.prototype.drawLines=function(){},s.prototype.layout=function(t,n){var r=this;t.forEach(function(e,i){0<i&&g.each(t.slice(0,i),function(t){r.resolveCollision(e,t,n[i])})})},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:n.__assign(n.__assign({},t),{textAlign:"center",textBaseline:"middle"})}},s.prototype.resolveCollision=function(t,e,i){var n,r,o,a,s,l=this.getCoordinate().center,u=i.angle,c=t.getBBox(),h=e.getBBox(),p={x:(c.minX+c.maxX)/2,y:(c.minY+c.maxY)/2},f=g.clone(p),d=g.clone(p);e.get("id")!==t.get("id")&&(r=(n=y.getOverlapInfo(c,h)).xOverlap,o=n.yOverlap,r&&(f.x=p.x+r,f.y=p.y+Math.tan(u)*r),o&&(a=o,a=p.y<l.y?a<0?a:h.minY-c.maxY:0<a?a:h.maxY-c.minY,d.y=p.y+a,d.x=p.x+a/Math.tan(u)),s=v.distBetweenPoints(p,f)<v.distBetweenPoints(p,d)?f:d,t.attr("x",s.x),t.attr("y",s.y))},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OFFSET=void 0;var n=i(1),w=i(0),r=n.__importDefault(i(70)),M=i(101);e.DEFAULT_OFFSET=16;var o,a=(o=r.default,n.__extends(s,o),s.prototype.adjustOption=function(t){o.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:n.__assign(n.__assign({},t),{textBaseline:"middle"})}},s.prototype.layout=function(t,e,i){var n=this,r=this.getCoordinate().center,o=w.filter(t,function(t){return t.attr("x")<=r.x});[w.filter(t,function(t){return t.attr("x")>r.x}),o].forEach(function(t,e){n._antiCollision(t,!e,i)})},s.prototype._antiCollision=function(o,p,a){var f=this,i=this.getLabelHeight(o),t=this.getCoordinate(),d=t.center,g=t.radius,s=this.options.offset,l=g+s,e=Math.min(a.height,Math.max(2*l+2*i,o.length*i)),n=Math.floor(e/i);this.options.allowOverlap||o.slice(n).forEach(function(t){t.get("parent").set("visible",!1)}),o.splice(n,o.length-n),o.sort(function(t,e){return t.getBBox().y-e.getBBox().y});for(var r,u,c,h,y=!0,v=d.y+e/2,m=d.y-e/2,x=o.map(function(t){var e=t.getBBox();return e.maxY>v&&(v=Math.min(a.maxY,e.maxY)),e.minY<m&&(m=Math.max(a.minY,e.minY)),{text:t.attr("text"),size:i,pos:e.y,targets:[]}}),b=0;b<x.length;)b===x.length-1?x[b].targets[0]=v:x[b].targets[0]=x[b+1].pos-x[b+1].size/2,b++;for(;y;)for(x.forEach(function(t){var e=w.last(t.targets);t.pos=Math.max(m,Math.min(t.pos,e-t.size))}),y=!1,r=x.length;r--;)0<r&&(u=x[r-1],c=x[r],u.pos+u.size>c.pos?(u.size+=c.size,u.targets=u.targets.concat(c.targets),h=w.last(u.targets),u.pos+u.size>h&&(u.pos=h-u.size),x.splice(r,1),y=!0):u.targets.splice(-1,1,c.pos));r=0,x.forEach(function(t){var e=i/2;t.targets.forEach(function(){o[r].attr("y",t.pos+e),e+=i,r++})});var _=[],O=[];o.forEach(function(t,e){var i=f.arcPoints[e];0<=i.angle&&i.angle<=Math.PI?O.push(t):_.push(t)}),[_,O].forEach(function(t,e){var i,u,n,r,c,h;t.length&&(i=e?w.last(t).getBBox().maxY-d.y:d.y-w.head(t).getBBox().minY,i=Math.max(l,i),u=4<s?4:0,n=Math.max.apply(0,w.map(o,function(t){return t.getBBox().width}))+s+u,r=Math.max(l,Math.min((i+l)/2,d.x-(a.minX+n))),c=r*r,h=i*i,t.forEach(function(t,e){var i,n=f.arcPoints[e],r=t.getBBox(),o=(r.minX,r.width,r.minY+r.height/2),a=Math.pow(o-d.y,2),s=M.getEndPoint(d,n.angle,g),l=(p?1:-1)*u*2;h<a?(console.warn("()",t.attr("text")),t.attr("x",s.x+l)):(i=d.x+(p?1:-1)*Math.sqrt((1-a/h)*c),(d.x===s.x&&o===s.y||d.y===s.y&&i===s.x)&&(i=s.x),t.attr("x",i+l))}))})},s.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:w.head(t)?w.head(t).getBBox().height:14},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OFFSET=void 0;var n=i(1),r=n.__importDefault(i(70));e.DEFAULT_OFFSET=16;var o,a=(o=r.default,n.__extends(s,o),s.prototype.adjustOption=function(t){o.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},s.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:n.__assign(n.__assign({},t),{textBaseline:"middle"})}},s.prototype.adjustItem=function(t){var e=this.options.offset;"left"===t.textAlign?t.x+=4<e?4:e/2:"right"===t.textAlign&&(t.x-=4<e?4:e/2)},s.prototype.layout=function(t,e,i){},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var S=i(0);function j(t,e,i){return{x:t.x+i*Math.cos(e),y:t.y+i*Math.sin(e)}}var n=(r.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){t.clear()})},r.prototype.render=function(){var e=this;if(this.view&&!this.view.destroyed){var m=S.clone(this.view.getData());this.halves=[[],[]];var x=[],t=this.view.geometries[0].elements;S.each(t,function(t){x.push(t.shape)}),this.coord=this.view.geometries[0].coordinate;var b=this.options.fields[0],_=this.view.getScalesByDim("y")[b],O=this.coord.getCenter(),i=this.coord.startAngle,w=this.coord.polarRadius,n=this.view.coordinateBBox,r=n.width,o=n.height;this.width=r,this.height=o;for(var M=i,a=function(t){var e=m[t],i=_.scale(e[b]),n=M+2*Math.PI*i,r=M+(n-M)/2;M=n;var o,a,s,l=j(O,r,w+0),u=j(O,r,w+15),c="#CCC";2===C.options.fields.length&&(o=C.options.fields[1],a=C.view.geometries[0].scales[o].scale(e[o]),s=Math.floor(a*(x.length-1)),c=x[s].attr("fill"));var h,p={_anchor:l,_inflection:u,_data:e,x:u.x,y:u.y,r:w+15,fill:c,textGroup:null,_side:null},f=[];S.each(C.options.fields,function(t){f.push(e[t])}),C.options.formatter&&(h=C.options.formatter(e[b],{_origin:e,color:c},t),S.isString(h)&&(h=[h]),f=h);var d=C.container.addGroup(),g={x:0,y:0,fontSize:C.options.text.fontSize,lineHeight:C.options.text.fontSize,fontWeight:C.options.text.fontWeight,fill:C.options.text.fill},y=e[b];C.options.formatter&&(y=f[0]);var v=S.clone(g);2===f.length&&(v.fontWeight=700),d.addShape("text",{attrs:S.mix({textBaseline:2===f.length?"top":"middle",text:y},v),data:e,offsetY:2===f.length?2:0,name:"label"}).name="label",2===f.length&&(d.addShape("text",{attrs:S.mix({textBaseline:"bottom",text:f[1]},g),data:e,offsetY:-2,name:"label"}).name="label"),p.textGroup=d,l.x<O.x?(p._side="left",C.halves[0].push(p)):(p._side="right",C.halves[1].push(p))},C=this,s=0;s<m.length;s++)a(s);var l=Math.floor(o/this.options.lineHeight);S.each(this.halves,function(t){t.length>l&&t.splice(l,t.length-l),t.sort(function(t,e){return t.y-e.y}),e._antiCollision(t)}),this.view.canvas.draw()}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},r.prototype._antiCollision=function(i){var n,t,e,r=this,o=this.coord,a=o.getHeight(),s=o.center,l=o.getRadius(),u=s.y-l-15-this.options.lineHeight,c=!0,h=a,p=0,f=Number.MIN_VALUE,d=0,g=i.map(function(t){var e=t.y;p<e&&(p=e),e<f&&(f=e);var i=t.textGroup.getBBox().width;return d<=i&&(d=i),{size:r.options.lineHeight,targets:[e-u]}});for(h<p-u&&(h=p-u);c;)for(g.forEach(function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),h-t.size)}),c=!1,n=g.length;n--;)0<n&&(t=g[n-1],e=g[n],t.pos+t.size>e.pos&&(t.size+=e.size,t.targets=t.targets.concat(e.targets),t.pos+t.size>h&&(t.pos=h-t.size),g.splice(n,1),c=!0));n=0,g.forEach(function(t){var e=u;t.targets.forEach(function(){i[n].y=t.pos+e+r.options.lineHeight/2,e+=r.options.lineHeight,n++})});var y=[];i.forEach(function(t){var e=r._drawLabel(t);r._drawLabelLine(t,d,e),y.push(e)})},r.prototype._drawLabel=function(t){var e=this.coord,i=e.getCenter(),n=e.getRadius(),r=t.y,o=t.textGroup,a=o.get("children"),s="left"===t._side?1:-1,l={textAlign:"left"===t._side?"right":"left",x:"left"===t._side?i.x-n-this.options.sidePadding:i.x+n+this.options.sidePadding};return this.options.offsetX&&(l.x+=this.options.offsetX*s),a.forEach(function(t){var e=t.get("offsetY"),i=r+e;t.attr(l),t.attr("y",i)}),o},r.prototype._drawLabelLine=function(t,e,i){var n=[t._anchor.x,t._anchor.y],r=[t._inflection.x,t._inflection.y],o=t.y,a=t.textGroup;if(a){var s,l,u,c=["left"===t._side?a.getBBox().maxX+4:a.getBBox().minX-4,o],h=[n,r,c];r[1]!==o&&(r[1]<this.height/2&&r[1]<o||r[1]>=this.height/2&&o<r[1]?(s=c[0]+15,l=c[0]-15,h=[n,r,u=["left"===t._side?s:l,r[1]],c],("right"===t._side&&u[0]<r[0]||"left"===t._side&&r[0]<u[0])&&(h=[n,r,c])):h=[n,[r[0],o],c]);for(var p=[],f=0;f<h.length;f++){var d=h[f],g=0===f?"M":"L";p.push([g,d[0],d[1]])}i.addShape("path",{attrs:{path:p,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},r.prototype._adjustOptions=function(t){t.text.fontSize&&(t.lineHeight=3*t.text.fontSize)},r);function r(t){this.destroyed=!1,this.view=t.view,this.options=S.deepMix({},this.getDefaultOptions(),t),this._adjustOptions(this.options),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("pie",{columnStyle:{normal:{},active:function(t){return{fillOpacity:.8*(t.opacity||1)}},disable:function(t){return{fillOpacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(365)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="densityHeatmap",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),n=i(6),a=r.__importDefault(i(15)),s=i(26),l=i(17),u=i(27);i(366);var c,h=i(367),p=r.__importStar(i(370)),f=(c=a.default,r.__extends(d,c),d.getDefaultOptions=function(){return o.deepMix({},c.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},d.prototype.afterRender=function(){this.renderPlotComponents(),c.prototype.afterRender.call(this)},d.prototype.destroy=function(){o.each(this.plotComponents,function(t){t.destroy()}),c.prototype.destroy.call(this)},d.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},o.has(t,"xAxis")&&u.extractScale(e[t.xField],t.xAxis),e[t.yField]={},o.has(t,"yAxis")&&u.extractScale(e[t.yField],t.yAxis),this.setConfig("scales",e),c.prototype.scale.call(this)},d.prototype.coord=function(){},d.prototype.geometryParser=function(){return"heatmap"},d.prototype.addGeometry=function(){var t;1<this.options.data.length&&(t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}},this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint())},d.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=o.deepMix(e,t.point):t.point=e;var i=l.getGeom("point","guide",{plot:this});i.active=!1,this.setConfig("geometry",i)},d.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&s.getComponent("label",r.__assign({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e))},d.prototype.legend=function(){this.setConfig("legends",!1)},d.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},d.prototype.parseEvents=function(){c.prototype.parseEvents.call(this,p)},d.prototype.renderPlotComponents=function(){var n=this;o.each(this.plotComponents,function(t){t.destroy()}),o.each(["legend","background"],function(t){var e=r.__assign({view:n.view,plot:n},n.options[t]),i=h.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},d);function d(){var t=null!==c&&c.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}e.default=f,n.registerPlotType("densityHeatmap",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(8),a=i(0),s=r.__importStar(i(28)),l=(n=o.Geometry,r.__extends(u,n),u.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},u.prototype.clear=function(){this.clearShadowCanvasCtx(),n.prototype.clear.call(this)},u.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach(function(t){var e=t._origin[i];r<e&&(r=e),e<n&&(n=e)}),n===r&&(n=r-1),[n,r]},u.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),a.isNumber(t)||(t=this.getDefaultSize()),this.radius=t)},u.prototype.prepareBlur=function(){var t=a.get(this.styleOption,["style","shadowBlur"]);a.isNumber(t)||(t=this.radius/2),this.blur=t},u.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},u.prototype.colorize=function(t){for(var e=this.getAttribute("color"),i=t.data,n=this.paletteCache,r=3;r<i.length;r+=4){var o,a=i[r];a&&(o=void 0,n[a]?o=n[a]:(o=s.rgb2arr(e.gradient(a/256)),n[a]=o),i[r-3]=o[0],i[r-2]=o[1],i[r-1]=o[2],i[r]=a)}},u.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var i=this.intensity?this.intensity:2,n=Math.sqrt(-2*Math.log(1/255/16/t/i/.3989422804014327))/3*t,r=n-t,o=n+r,a=e.getContext("2d");e.width=e.height=2*o,a.clearRect(0,0,e.width,e.height),a.shadowOffsetX=a.shadowOffsetY=2*o,a.shadowBlur=r,a.shadowColor="black",a.beginPath(),a.arc(-o,-o,t,0,2*Math.PI,!0),a.closePath(),a.fill()},u.prototype.drawGrayScaleBlurredCircle=function(t,e,i,n,r){var o=this.grayScaleCanvas;r.globalAlpha=n,r.drawImage(o,t-i,e-i)},u.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},u.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},u.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t},u.prototype.drawWithRange=function(t,e){var i=this.coordinate,n=i.start,r=i.end,o=this.coordinate.getWidth(),a=this.coordinate.getHeight(),s=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var l=this.getShadowCanvasCtx();e&&(t=t.filter(function(t){return t._origin[s]<=e[1]&&t._origin[s]>=e[0]}));for(var u=this.scales[s],c=0;c<t.length;c++){var h=t[c],p=this.getDrawCfg(h),f=u.scale(h._origin[s]);this.drawGrayScaleBlurredCircle(p.x-n.x,p.y-r.y,this.radius+this.blur,f,l)}var d=l.getImageData(0,0,o,a);this.clearShadowCanvasCtx(),this.colorize(d),l.putImageData(d,0,0),(new Image).src=l.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",n.x),this.imageShape.attr("y",r.y),this.imageShape.attr("width",o),this.imageShape.attr("height",a),this.imageShape.attr("img",l.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},u.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return r.__assign(r.__assign({},e),{mappingData:t,data:this.getData(t)})},u.prototype.getData=function(t){return t.map(function(t){return t._origin})},u);function u(t){var e=n.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}o.registerGeometry("linearHeatmap",l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlotComponents=void 0;var n=i(1),r=n.__importDefault(i(368)),o=n.__importDefault(i(369)),a={background:{Ctr:r.default},legend:{Ctr:o.default,padding:"outer"}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],r=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(r,n.padding),r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=r.__importDefault(i(22)).default,r.__extends(s,n),s.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},s.prototype.render=function(){var t;"color"===this.options.type?this.renderColorBackground():"image"===this.options.type?this.renderImageBackground():this.options.callback&&(t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container},this.options.callback(t))},s.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},s.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},s.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},s.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},s.prototype.getCoordinate=function(){var e;return o.each(this.view.geometries,function(t){"heatmap"===t.type&&(e=t.coordinate)}),e},s);function s(t){var e=n.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(1),p=i(0),n=h.__importDefault(i(13)),r=(o.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container=t.addGroup()},o.prototype.render=function(){var t=this.getScales(),e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,r=i.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(n,r,o):this.renderVertical(n,r,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},o.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},o.prototype.getBBox=function(){var t=this.container.getBBox();return new n.default(this.x,this.y,t.width,t.height)},o.prototype.renderVertical=function(t,o,e){var a=this,s=this.width,l=this.height/e.length,u=this.container.addGroup(),i=p.clone(e).reverse(),c=(o-t)/e.length;p.each(i,function(t,e){var i=l*e,n={to:o-c*e,from:o-c*(e+1)};a.container.addShape("rect",{attrs:{x:0,y:i,width:s,height:l,fill:t,opacity:1,cursor:"pointer"},name:"legend"}).set("info",n);var r=a.getDataSlide(n);a.dataSlides[n.from+"-"+n.to]={mode:"active",data:r},u.addShape("path",{attrs:h.__assign({path:[["M",0,i+l],["L",s,i+l]]},a.options.gridlineStyle)})}),this.container.addShape("text",{attrs:h.__assign({text:o,x:s/2,y:-4,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:h.__assign(h.__assign({text:t,x:s/2,y:this.height+4,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),u.addShape("path",{attrs:h.__assign({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},o.prototype.renderHorizontal=function(t,e,i){var r=this,o=this.width/i.length,a=this.height,s=this.container.addGroup(),l=(e-t)/i.length;p.each(i,function(t,e){var i=o*e,n={from:l*e,to:l*(e+1)};r.container.addShape("rect",{attrs:{x:i,y:0,width:o,height:a,fill:t,opacity:.8,cursor:"pointer"},name:"legend"}).set("info",n),s.addShape("path",{attrs:h.__assign({path:[["M",i+o,0],["L",i+o,a]]},r.options.gridlineStyle)})}),this.container.addShape("text",{attrs:h.__assign(h.__assign({text:t,x:-4,y:a/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:h.__assign({text:e,x:this.width+4,y:a/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:h.__assign({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},o.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},o.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?.5*this.options.plot.options.width:10},o.prototype.getDefaultHeight=function(){return"vertical"===this.layout?.5*this.options.plot.options.height:10},o.prototype.legendLayout=function(){var i=this,n=this.options.plot.getPlotTheme().bleeding;p.isArray(n)&&p.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options.plot.options))});var t=this.container.getBBox(),e=0,r=0,o=this.options.position.split("-"),a=this.options.plot.width,s=this.options.plot.height;"left"===o[0]?e=n[3]:"right"===o[0]?e=a-n[1]-t.width:"center"===o[1]?e=(a-t.width)/2:"left"===o[1]?e=n[3]:"right"===o[1]&&(e=this.options.plot.width-n[1]-t.width),"bottom"===o[0]?r=s-n[2]-t.height:"top"===o[0]?r=this.getTopPosition(n):"center"===o[1]?r=(s-t.height)/2:"top"===o[1]?r=n[0]:"bottom"===o[1]&&(r=s-n[2]-t.height),this.x=e,this.y=r,this.container.translate(e,r)},o.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},o.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},o.prototype.addInteraction=function(){var a=this,s=this.options.plot.options.colorField;this.container.on("click",function(t){var e,i,n,r,o=t.target;"legend"===o.get("name")&&(i=(e=o.get("info")).from+"-"+e.to,"active"===(n=a.dataSlides[i]).mode?(n.mode="deactive",o.stopAnimate(),o.animate({opacity:.1},200)):(n.mode="active",o.stopAnimate(),o.animate({opacity:1},200)),0<(r=a.getFilteredData()).length&&(a.view.changeData(r),a.view.scale(s,{min:a.colorScale.min,max:a.colorScale.max,nice:a.colorScale.nice}),a.view.render()))})},o.prototype.getFilteredData=function(){var e=[];return p.each(this.dataSlides,function(t){"active"==t.mode&&e.push.apply(e,t.data)}),e},o.prototype.getDataSlide=function(i){var n=[],t=this.options.plot.options,r=t.colorField,e=t.data;return p.each(e,function(t){var e=t[r];e>=i.from&&e<i.to&&n.push(t)}),n},o.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},o.prototype.getScales=function(){var e;return p.each(this.view.geometries,function(t){"heatmap"===t.type&&(e=t.scales)}),e},o);function o(t){this.destroyed=!1,this.dataSlides={};var e=this.getDefaultOptions();t.plot.options.theme&&"dark"===t.plot.options.theme&&(e=this.getDarkOptions()),this.options=p.deepMix({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(372)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="heatmap",n.prototype.createLayers.call(this,e)},u.prototype.changeShape=function(t){this.layers[0].changeShape(t)},u.prototype.mappingSize=function(t){this.layers[0].mappingSize(t)},u.prototype.disableMappingSize=function(){this.layers[0].disableMappingSize()},u.prototype.getSizeScale=function(){return this.layers[0].getSizeScale()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),f=i(0),a=i(21),o=i(6),s=r.__importDefault(i(15)),d=i(373),l=i(374),u=(n=s.default,r.__extends(c,n),c.getDefaultOptions=function(){return f.deepMix({},n.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},c.prototype.afterRender=function(){this.renderPlotComponents(),n.prototype.afterRender.call(this)},c.prototype.changeShape=function(t){var e;this.options.shapeType!==t&&("rect"===(this.options.shapeType=t)?(e=this.getShape(),this.circleToRect(e)):"circle"===t&&(e=this.getShape(),this.rectToCircle(e)))},c.prototype.mappingSize=function(t){var e,i,n,r,o;this.options.sizeField&&this.options.sizeField===t||(this.options.sizeField=t,e=f.valuesOfKey(this.options.data,t),i=Math.min.apply(Math,e),n=Math.max.apply(Math,e),r=new(a.getScale("linear"))({min:i,max:n}),o=this.getShape(),"rect"===this.options.shapeType?this.rectSizeMapping(o,r,t):"circle"===this.options.shapeType&&this.circleSizeMapping(o,r,t))},c.prototype.disableMappingSize=function(){var t=this.getShape();"rect"===this.options.shapeType?this.rectDisableSizeMapping(t):"circle"===this.options.shapeType&&this.circleDisableSizeMapping(t)},c.prototype.destroy=function(){f.each(this.plotComponents,function(t){t.destroy()}),n.prototype.destroy.call(this)},c.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},c.prototype.geometryParser=function(){return""},c.prototype.coord=function(){},c.prototype.legend=function(){this.setConfig("legends",!1)},c.prototype.addGeometry=function(){var t,e;this.gridSize=this.getGridSize(),t="rect"===this.options.shapeType?this.addRect():this.addCircle(),this.options.shapeStyle&&(e={},f.isObject(this.options.shapeStyle)?e.cfg=this.options.shapeStyle:f.isFunction(this.options.shapeType)&&(e.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],e.callback=this.options.shapeType),t.style=e),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},c.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},c.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[.5*Math.min(this.gridSize[0],this.gridSize[1])*.9]},e},c.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},c.prototype.getGridSize=function(){if("auto"===this.options.padding)return[0,0];var t=this.getViewRange(),e=this.options,i=e.padding,n=e.xField,r=e.yField,o=e.data,a=t.width-i[1]-i[3],s=t.height-i[0]-i[2];return[a/f.valuesOfKey(o,n).length,s/f.valuesOfKey(o,r).length]},c.prototype.circleToRect=function(t){var l=this,u=this.gridSize;f.each(t,function(t){var e=t.get("origin"),i=e.x,n=e.y,r=e.size,o=2*r/Math.min(u[0],u[1]);l.options.sizeField||(o=1);var a=d.getCircleCurve(i,n,r),s=d.getRectPath(i,n,u[0],u[1],o);t.stopAnimate(),t.attr("path",a),t.animate({path:s},500,"easeLinear")})},c.prototype.rectToCircle=function(t){var p=this;f.each(t,function(t){var e=t.get("coord"),i=t.get("origin").points,n=[];f.each(i,function(t){n.push(e.convertPoint(t))});var r=t.getBBox(),o=r.width,a=r.height,s=r.minX+o/2,l=r.minY+a/2,u=p.options.sizeField?1:.9,c=d.getCircleCurve(s,l,Math.min(o,a)/2*u),h=d.getCirclePath(s,l,Math.min(o,a)/2*u);t.stopAnimate(),t.animate({path:c},500,"easeLinear",function(){t.attr("path",h)})})},c.prototype.rectSizeMapping=function(t,u,c){f.each(t,function(t){var e=t.get("origin").data,i=.3+.6*u.scale(e[c]);t.get("origin").size=i;var n=t.getBBox(),r=n.width,o=n.height,a=n.minX+r/2,s=n.minY+o/2,l=d.getRectPath(a,s,r,o,i);t.stopAnimate(),t.animate({path:l},500,"easeLinear")})},c.prototype.circleSizeMapping=function(t,l,u){f.each(t,function(t){var e=t.get("origin").data,i=.3+.6*l.scale(e[u]),n=t.get("origin"),r=n.x,o=n.y,a=n.size,s=d.getCirclePath(r,o,a*i);t.get("origin").size=a*i,t.stopAnimate(),t.animate({path:s},500,"easeLinear")})},c.prototype.circleDisableSizeMapping=function(t){var a=this;this.options.sizeField=null,f.each(t,function(t){var e=t.get("origin"),i=e.x,n=e.y,r=.9*Math.min(a.gridSize[0],a.gridSize[1]);t.get("origin").size=r/2;var o=d.getCirclePath(i,n,r/2);t.stopAnimate(),t.animate({path:o},500,"easeLinear")})},c.prototype.rectDisableSizeMapping=function(t){var s=this;this.options.sizeField=null,f.each(t,function(t){var e=t.getBBox(),i=e.width,n=e.height,r=e.minX+i/2,o=e.minY+n/2,a=d.getRectPath(r,o,s.gridSize[0],s.gridSize[1],1);t.get("origin").size=1,t.stopAnimate(),t.animate({path:a},500,"easeLinear")})},c.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return f.each(t,function(t){e.push(t.shape)}),e},c.prototype.renderPlotComponents=function(){var n=this;f.each(this.plotComponents,function(t){t.destroy()}),this.plotComponents=[],f.each(["label","legend"],function(t){var e=r.__assign({view:n.view,plot:n},n.options[t]),i=l.getPlotComponents(n,t,e);i&&(i.render(),n.plotComponents.push(i))})},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}e.default=u,o.registerPlotType("heatmap",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCircleCurve=e.getCirclePath=e.getRectPath=void 0;var n=i(8),a=i(0);function s(t,e,i,n,r){var o=i*r,a=n*r;return[["M",t-o/2,e+a/2],["Q",t-o/2,e,t-o/2,e-a/2],["Q",t,e-a/2,t+o/2,e-a/2],["Q",t+o/2,e,t+o/2,e+a/2],["Q",t,e+a/2,t-o/2,e+a/2],["Z"]]}function r(t,e,i){return[["M",t,e],["l",-i,0],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,-2*i,0],["Z"]]}e.getRectPath=s,e.getCirclePath=r,e.getCircleCurve=function(t,e,i){return[["M",t-i,e],["Q",t-i,e-i,t,e-i],["Q",t+i,e-i,t+i,e],["Q",t+i,e+i,t,e+i],["Q",t-i,e+i,t-i,e],["Z"]]},n.registerShape("polygon","rect",{draw:function(t,e){var i=this.parsePoints(t.points),n=i[2].x-i[0].x,r=i[0].y-i[1].y,o=s(i[0].x+n/2,i[1].y+r/2,n,r,t.size);return e.addShape("path",{attrs:a.deepMix({},{path:o,fill:t.color,opacity:1},t.style)})}}),n.registerShape("point","curvePoint",{draw:function(t,e){var i=r(t.x,t.y,t.size);return e.addShape("path",{attrs:a.deepMix({},{path:i,fill:t.color,opacity:1},t.style)})}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlotComponents=void 0;var n=i(1),r=n.__importDefault(i(375)),o=n.__importDefault(i(376)),a={label:{Ctr:r.default},legend:{Ctr:o.default,padding:"outer"}};e.getPlotComponents=function(t,e,i){if(t.options[e]&&t.options[e].visible){var n=a[e],r=new n.Ctr(i);return n.padding&&t.paddingController.registerPadding(r,n.padding),r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(0),o=i(28),n=(r.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},r.prototype.render=function(){var h=this,t=this.view.geometries[0].elements;p.each(t,function(t){var e=t.shape,i=h.options,n=i.style,r=i.offsetX,o=i.offsetY,a=h.options.formatter,s=a?a(h.getContent(e)):h.getContent(e),l=h.getPosition(e),u=h.getTextColor(e),c=h.container.addShape("text",{attrs:p.deepMix({},n,{x:l.x+r,y:l.y+o,text:s,fill:u,textAlign:"center",textBaseline:"middle"}),name:"label"});h.options.adjustPosition&&h.adjustLabel(c,e)})},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},r.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},r.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},r.prototype.getBBox=function(){return this.container.getBBox()},r.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:p.clone(t)}},r.prototype.getContent=function(t){return t.get("origin").data[this.plot.options.colorField]},r.prototype.getPosition=function(t){var e=t.getBBox();return{x:e.minX+e.width/2,y:e.minY+e.height/2}},r.prototype.getTextColor=function(t){if(this.options.adjustColor){var e=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,n=o.rgb2arr(e),r=Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i;return o.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],r)}return this.options.style.fill},r.prototype.adjustLabel=function(t,e){var i=t.getBBox(),n=e.getBBox();(i.width>n.width||i.height>n.height)&&t.attr("text","")},r);function r(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=p.deepMix(e,t,{}),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),u=i(0),n=l.__importDefault(i(13)),r=(o.prototype.init=function(){var t=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var e=this.options.plot.container;this.container&&this.container.remove(),this.container=e.addGroup(),this.view.on("beforerender",function(){t.clear(),t.options.plot.canvas.draw()})},o.prototype.render=function(){var t=this.view.geometries[0].scales,e=this.options.plot.options.colorField;this.colorScale=t[e];var i=this.colorScale,n=i.min,r=i.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(n,r,o):this.renderVertical(n,r,o),this.legendLayout(),this.addInteraction()},o.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},o.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},o.prototype.getBBox=function(){var t=this.container.getBBox();return new n.default(this.x,this.y,t.width,t.height)},o.prototype.renderVertical=function(t,e,i){var r=this,o=(e-t)/(i.length-1),n=1/(i.length-1),a=this.height/(i.length-1),s="l(90)";u.each(i,function(t,e){s+=n*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),u.each(i,function(t,e){var i=a*e;r.container.addShape("path",{attrs:l.__assign({path:[["M",0,i],["L",r.width,i]]},r.options.ticklineStyle)});var n=Math.round(o*e);r.container.addShape("text",{attrs:l.__assign({text:n,textAlign:"left",textBaseline:"middle",x:r.width+4,y:i},r.options.text.style),name:"legend-label"})}),this.anchor=this.container.addShape("path",{attrs:l.__assign({path:[["M",-10,-7],["L",0,0],["L",-10,7],["Z"]]},this.options.anchorStyle)}),this.anchor.set("visible",!1)},o.prototype.renderHorizontal=function(t,e,i){var r=this,o=(e-t)/(i.length-1),n=1/(i.length-1),a=this.width/(i.length-1),s="l(0)";u.each(i,function(t,e){s+=n*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),u.each(i,function(t,e){var i=a*e;r.container.addShape("path",{attrs:l.__assign({path:[["M",i,0],["L",i,r.height]]},r.options.ticklineStyle),name:"legend-label"});var n=Math.round(o*e);r.container.addShape("text",{attrs:l.__assign({text:n,textAlign:"center",textBaseline:"top",x:i,y:r.height+4},r.options.text.style)})}),this.anchor=this.container.addShape("path",{attrs:l.__assign({path:[["M",0,0],["L",-7,-10],["L",7,-10],["Z"]]},this.options.anchorStyle)}),this.anchor.set("visible",!1)},o.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},o.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?this.view.coordinateBBox.width:10},o.prototype.getDefaultHeight=function(){return"vertical"===this.layout?this.view.coordinateBBox.height:10},o.prototype.legendLayout=function(){var i=this,t=this.view.coordinateBBox,n=this.options.plot.getPlotTheme().bleeding;u.isArray(n)&&u.each(n,function(t,e){"function"==typeof n[e]&&(n[e]=n[e](i.options.plot.options))});var e=this.container.getBBox(),r=0,o=0,a=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;"left"===a[0]?r=n[3]:"right"===a[0]?r=s-n[1]-e.width:"center"===a[1]?r=this.width===t.width?t.x:(s-e.width)/2:"left"===a[1]?r=n[3]:"right"===a[1]&&(r=this.options.plot.width-n[1]-e.width),"bottom"===a[0]?o=l-n[2]-e.height:"top"===a[0]?o=this.getTopPosition(n):"center"===a[1]?o=this.height===t.height?t.y:(l-e.height)/2:"top"===a[1]?o=n[0]:"bottom"===a[1]&&(o=l-n[2]-e.height),this.x=r,this.y=o,this.container.translate(r,o)},o.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},o.prototype.addInteraction=function(){function t(t){var e=(t.data.data[n]-o)/(a-o);i.moveAnchor(e)}var i=this,e=("rect"===this.options.plot.options.shapeType?"polygon":"point")+":"+this.options.triggerOn,n=this.options.plot.options.colorField,r=this.colorScale,o=r.min,a=r.max;function s(){i.anchor.set("visible",!1)}this.view.on(e,t),this.interactiveEvents[e]={target:this.view,handler:t},this.options.plot.canvas.on("mouseleave",s),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:s}},o.prototype.moveAnchor=function(t){var e,i;this.anchor.set("visible",!0),"vertical"===this.layout?(i=this.height*t,(e=[1,0,0,0,1,0,0,0,1])[7]=i):(i=this.width*t,(e=[1,0,0,0,1,0,0,0,1])[6]=i),this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")},o.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},o.prototype.offEvent=function(){u.each(this.interactiveEvents,function(t,e){var i=t.target,n=t.handler;i.off(e,n)})},o);function o(t){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var e=this.getDefaultOptions();this.options=u.deepMix({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(378)),l=i(6),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="wordCloud",e.container=this.containerDOM,n.prototype.createLayers.call(this,e)},c);function c(t,e){return e.renderer="canvas",n.call(this,t,e)||this}e.default=u,l.registerPlotType("wordCloud",s.default)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),u=i(0),o=r.__importDefault(i(53)),a=r.__importDefault(i(379)),s=r.__importDefault(i(380)),l=(n=o.default,r.__extends(c,n),c.prototype.init=function(){n.prototype.init.call(this),this._initToolTips()},c.prototype.render=function(){n.prototype.render.call(this),this._render()},c.prototype._initToolTips=function(){this._toolTips=new a.default({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},c.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},c.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+(new Date).getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},c.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),s.default(this._targetCanvas,this.options)},c.prototype._handleG2PlotConfig=function(){var t,e,i,n=this.options.wordStyle.fontSize||[10,60],r=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2];this.options.wordStyle.active?(t=!0,e=this.options.wordStyle.active.shadowColor||"#333",i=this.options.wordStyle.active.shadowBlur||10):t=!1,this.options=u.deepMix({},this.options,{minFontSize:n[0],maxFontSize:n[1],minRotation:r[0],maxRotation:r[1],active:t,shadowColor:e,shadowBlur:i})},c.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),i=e.maskImageCanvas,n=e.maskImageContext,r=document.createElement("canvas").getContext("2d");r.fillStyle=this.options.backgroundColor||"#fff",r.fillRect(0,0,1,1);for(var o=r.getImageData(0,0,1,1).data,a=n.getImageData(0,0,i.width,i.height),s=n.createImageData(a),l=0;l<a.data.length;l+=4)128<a.data[l+3]?(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=o[3]):(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=254);n.putImageData(s,0,0),this._targetCanvas.getContext("2d").drawImage(i,0,0),this.options=u.deepMix({},this.options,{clearCanvas:!1}),this._start()},c.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var i=e.getContext("2d");return i.imageSmoothingEnabled=!0,i.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:i}},c.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);for(var n=i.getImageData(0,0,e.width,e.height),r=0;r<n.data.length;r+=4){var o=n.data[r]+n.data[r+1]+n.data[r+2];n.data[r+3]<128||750<o?(n.data[r]=255,n.data[r+1]=255,n.data[r+2]=255,n.data[r+3]=0):(n.data[r]=0,n.data[r+1]=0,n.data[r+2]=0,n.data[r+3]=255)}return i.putImageData(n,0,0),e},c);function c(t){var r=n.call(this,t)||this;return r._toolTipsAction=function(t,e,i,n){e?(r._toolTips.update({items:[{color:t.color||"red",name:t.word,value:t.weight}],x:i.offsetX,y:i.offsetY}),r._toolTips.show()):r._toolTips.hide(),r._toolTips.render(),r._configHoverAction&&r._configHoverAction(t,e,i,n)},r._configHoverAction=t.onWordCloudHover,r._enableToolTips=u.get(t,"tooltip.visible",!0),r.options=u.deepMix({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:r._enableToolTips?r._toolTipsAction:r._configHoverAction}),r}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=(n=i(8).HtmlTooltip,r.__extends(s,n),s);function s(t){var e=o.deepMix({},t,{itemTpl:'<div data-index={index}>\n        <span style="background-color:{color};" class="g2-tooltip-marker"></span>\n        {name}<span class="g2-tooltip-value">{value}</span></div>'},t);return n.call(this,e)||this}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var q=i(1),U=i(0);window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var i=[void 0],n="zero-timeout-message";return window.addEventListener("message",function(t){var e;"string"==typeof t.data&&t.data.substr(0,n.length)===n&&(t.stopImmediatePropagation(),e=parseInt(t.data.substr(n.length),36),i[e]&&(i[e](),i[e]=void 0))},!0),window.clearImmediate=function(t){i[t]&&(i[t]=void 0)},function(t){var e=i.length;return i.push(t),window.postMessage(n+e.toString(36),"*"),e}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});function m(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}function n(C,w){if(c){Array.isArray(C)||(C=[C]),C.forEach(function(t,e){if("string"==typeof t){if(C[e]=document.getElementById(t),!C[e])throw"The element id specified is not found."}else if(!t.tagName&&!t.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var j={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:K,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},S=[];if(w)for(var t in w)if("wordStyle"===t)for(var e in w[t])e in j&&(j[e]=w[t][e]);else t in j&&(j[t]=w[t]);if(j.minFontSize<K&&(j.minFontSize=K),j.minFontSize>j.maxFontSize)console.error("minSize cant bigger than maxSize");else{for(var P=0,i=0;i<j.data.length;i++)P<j.data[i].weight&&(P=j.data[i].weight);var M=!1;if("function"!=typeof j.shape)switch(j.shape){case"circle":default:j.shape="circle";break;case"cardioid":j.shape=function(t){return 1-Math.sin(t)},M=!0;break;case"diamond":j.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":j.shape=function(t){var e=(t+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":j.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-backward":j.shape=function(t){var e=(t+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-up":j.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-down":j.shape=function(t){var e=(t+5*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":j.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":j.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return 0<=(t+.955)%(2*Math.PI/5)-2*Math.PI/10?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}j.gridSize=Math.max(Math.floor(j.gridSize),4);var T,A,E,L,k,I,n,D=j.gridSize,v=D-j.maskGapWidth,p=Math.abs(j.maxRotation-j.minRotation),f=Math.min(j.maxRotation,j.minRotation),d=j.rotationSteps;switch(j.color){case"random-dark":n=function(){return u(10,50)};break;case"random-light":n=function(){return u(50,90)};break;default:"function"==typeof j.color&&(n=j.color)}var r=null;"function"==typeof j.classes&&(r=j.classes);var B,F,R=!1,N=[],o=function(t){var e,i=t.currentTarget,n=i.getBoundingClientRect(),r=t.touches?(e=t.touches[0].clientX,t.touches[0].clientY):(e=t.clientX,t.clientY),o=e-n.left,a=r-n.top,s=Math.floor(o*(i.width/n.width||1)/D),l=Math.floor(a*(i.height/n.height||1)/D);return N&&N[s]&&N[s][l]},a=function(t,e,i,n){n(t?t.id:-1)},Y=function(t){var e=o(t);if(B!==e&&(!(F&&e&&e.item)||U.get(e,["item","twiceRender"]))){if(!e)return j.onWordCloudHover(void 0,void 0,t,l),void(j.active&&a(void 0,0,0,l));j.onWordCloudHover(e.item,e.dimension,t,l),j.active&&a(e.item,e.dimension,0,l),B=e}},G=function(t){var e=o(t);e&&(j.onWordCloudClick(e.item,e.dimension,t),t.preventDefault())},s=[],g=function(t){if(s[t])return s[t];var e=8*t,i=e,n=[];for(0===t&&n.push([L[0],L[1],0]);i--;){var r=1;"circle"!==j.shape&&(r=j.shape(i/e*2*Math.PI)),n.push([L[0]+t*r*Math.cos(-i/e*2*Math.PI),L[1]+t*r*Math.sin(-i/e*2*Math.PI)*j.ellipticity,i/e*2*Math.PI])}return s[t]=n},X=function(){return 0<j.abortThreshold&&(new Date).getTime()-I>j.abortThreshold},V=function(h,p,f,d,g,y,v,m,x,b,_){var t,O=f.fontSize,w=j.color,M=j.classes;_?(t=W(b),w=t?t.color:j.color):(w=n?n(d,g,O,y,v):j.color,M=r?r(d,g,O,y,v):j.classes);var e=f.bounds;e[3],e[0],e[1],e[3],e[2],e[0],C.forEach(function(t){if(t.getContext){var e=t.getContext("2d"),i=f.mu;e.save();var n=j.fontWeight+" "+(O*i).toString(10)+"px "+j.fontFamily;e.scale(1/i,1/i),e.font=n,e.fillStyle=w;var r=(h+f.gw/2)*D*i,o=(p+f.gh/2)*D*i;e.translate(r,o),0!==m&&e.rotate(-m),e.textBaseline="middle",j.selected===b&&(e.shadowColor=j.shadowColor,e.shadowBlur=j.shadowBlur),e.fillText(d,f.fillTextOffsetX*i,(f.fillTextOffsetY+.5*O)*i),_||S.push({gx:h,gy:p,info:f,word:d,weight:g,distance:y,theta:v,rotateDeg:m,attributes:x,id:b,color:w}),e.restore()}else{var a=document.createElement("span"),s="",s="rotate("+-m/Math.PI*180+"deg) ";1!==f.mu&&(s+="translateX(-"+f.fillTextWidth/4+"px) scale("+1/f.mu+")");var l={position:"absolute",display:"block",font:j.fontWeight+" "+O*f.mu+"px "+j.fontFamily,left:(h+f.gw/2)*D+f.fillTextOffsetX+"px",top:(p+f.gh/2)*D+f.fillTextOffsetY+"px",width:f.fillTextWidth+"px",height:f.fillTextHeight+"px",lineHeight:O+"px",whiteSpace:"nowrap",transform:s,webkitTransform:s,msTransform:s,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var u in w&&(l.color=w),a.textContent=d,l)a.style[u]=l[u];if(x)for(var c in x)a.setAttribute(c,x[c]);M&&(a.className+=M),t.appendChild(a)}})},y=function(t,e,i,n,r,o,a,s){var l=Math.floor(t[0]-e.gw/2),u=Math.floor(t[1]-e.gh/2);return e.gw,e.gh,!!function(t,e,i){for(var n=i.length;n--;){var r=t+i[n][0],o=e+i[n][1];if(A<=r||E<=o||r<0||o<0){if(!j.drawOutOfBound)return}else if(!T[r][o])return}return 1}(l,u,e.occupied)&&(V(l,u,e,i,n,r,t[2],o,a,s,!1),function(t,e,i){var n,r,o,a=i.occupied,s=j.drawMask;s&&((n=C[0].getContext("2d")).save(),n.fillStyle=j.maskColor),R&&(o={x:(t+(r=i.bounds)[3])*D,y:(e+r[0])*D,w:(r[1]-r[3]+1)*D,h:(r[2]-r[0]+1)*D});for(var l,u,c,h,p,f=a.length;f--;){var d,g=t+a[f][0],y=e+a[f][1];A<=g||E<=y||g<0||y<0||((d=W(i.item.id))&&(i.item.color=d.color),l=g,u=y,c=s,h=o,p=i.item,A<=l||E<=u||l<0||u<0||(T[l][u]=!1,c&&C[0].getContext("2d").fillRect(l*D,u*D,v,v),R&&(N[l][u]={item:p,dimension:h})))}s&&n.restore()}(l,u,e),{gx:l,gy:u,rot:o,info:e})},z=function(t){var e,i,n,r;Array.isArray(t)?(e=t[0],i=t[1]):(e=t.word,i=t.weight,n=t.attributes,r=t.id);var o=U.isNil(t.rotateDeg)?0===j.rotateRatio||Math.random()>j.rotateRatio?0:0===p?f:0<d?f+Math.floor(Math.random()*d)*p/d:f+Math.random()*p:t.rotateDeg,a=function(t,e,i){var n,r=(n=Math.min(Math.max(j.minFontSize,j.maxFontSize*e/P),j.maxFontSize),F?n*j.fontScale:n);if(r<=0)return!1;var o=1;r<K&&(o=function(){for(var t=2;t*r<K;)t+=2;return t}());var a=document.createElement("canvas"),s=a.getContext("2d",{willReadFrequently:!0});s.font=j.fontWeight+" "+(r*o).toString(10)+"px "+j.fontFamily;var l,u=s.measureText(t).width/o,c=Math.max(r*o,s.measureText("m").width,s.measureText("").width)/o,h=u+2*c,p=3*c,f=Math.ceil(h/D),d=Math.ceil(p/D),h=f*D,p=d*D,g=-u/2,y=.4*-c,v=Math.ceil((h*Math.abs(Math.sin(i))+p*Math.abs(Math.cos(i)))/D),m=Math.ceil((h*Math.abs(Math.cos(i))+p*Math.abs(Math.sin(i)))/D),x=m*D,b=v*D;a.setAttribute("width",x),a.setAttribute("height",b),s.scale(1/o,1/o),s.translate(x*o/2,b*o/2),s.rotate(-i),s.font=j.fontWeight+" "+(r*o).toString(10)+"px "+j.fontFamily,s.fillStyle="#000",s.textBaseline="middle",s.fillText(t,g*o,(y+.5*r)*o);try{l=s.getImageData(0,0,x,b).data}catch(t){return!1}if(X())return!1;for(var _,O,w,M=[],C=m,S=[v/2,m/2,v/2,m/2];C--;)for(_=v;_--;){w=D;t:for(;w--;)for(O=D;O--;)if(l[4*((_*D+w)*x+(C*D+O))+3]){M.push([C,_]),C<S[3]&&(S[3]=C),C>S[1]&&(S[1]=C),_<S[0]&&(S[0]=_),_>S[2]&&(S[2]=_);break t}}return{mu:o,occupied:M,bounds:S,gw:m,gh:v,fillTextOffsetX:g,fillTextOffsetY:y,fillTextWidth:u,fillTextHeight:c,fontSize:r}}(e,i,o);if(a&&(a.item=t),!a)return!1;if(X())return!1;if(!j.drawOutOfBound){var s=a.bounds;if(s[1]-s[3]+1>A||s[2]-s[0]+1>E)return!1}for(var l=k+1;l--;){var u=g(k-l);j.shuffle&&(u=[].concat(u),m(u));for(var c=0;c<u.length;c++){var h=y(u[c],a,e,i,k-l,o,n,r);if(h)return h}}return null},H=function(i,n,r){if(n)return!C.some(function(t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(i,!0,n,r||{}),!t.dispatchEvent(e)},this);C.forEach(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent(i,!0,n,r||{}),t.dispatchEvent(e)},this)},W=function(t){for(var e=0;e<S.length;e++){var i=S[e];if(S[e].id===t)return i}},l=function(t){if(void 0===t){var e,i,n=C[0];if(E=n.getContext?(A=Math.ceil(n.width/D),Math.ceil(n.height/D)):(e=n.getBoundingClientRect(),A=Math.ceil(e.width/D),Math.ceil(e.height/D)),H("wordcloudstart",!0)){if(L=j.origin?[j.origin[0]/D,j.origin[1]/D]:[A/2,E/(M?4:2)],k=Math.floor(Math.sqrt(A*A+E*E)),T=[],!n.getContext||j.clearCanvas)for(C.forEach(function(t){var e;t.getContext?((e=t.getContext("2d")).fillStyle=j.backgroundColor,e.clearRect(0,0,A*(D+1),E*(D+1)),e.fillRect(0,0,A*(D+1),E*(D+1))):(t.textContent="",t.style.backgroundColor=j.backgroundColor,t.style.position="relative")}),u=A;u--;)for(T[u]=[],i=E;i--;)T[u][i]=!0;else{var r=document.createElement("canvas").getContext("2d");r.fillStyle=j.backgroundColor,r.fillRect(0,0,1,1);for(var o,a,s=r.getImageData(0,0,1,1).data,l=n.getContext("2d").getImageData(0,0,A*D,E*D).data,u=A;u--;)for(T[u]=[],i=E;i--;){a=D;t:for(;a--;)for(o=D;o--;)for(h=4;h--;)if(l[4*((i*D+a)*A*D+(u*D+o))+h]!==s[h]){T[u][i]=!1;break t}!1!==T[u][i]&&(T[u][i]=!0)}l=r=s=void 0}if(j.onWordCloudHover||j.onWordCloudClick){for(R=!0,u=A+1;u--;)N[u]=[];j.onWordCloudHover&&n.addEventListener("mousemove",Y),j.onWordCloudClick&&(n.addEventListener("click",G),n.addEventListener("touchstart",G),n.addEventListener("touchend",function(t){t.preventDefault()}),n.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),n.addEventListener("wordcloudstart",function t(){n.removeEventListener("wordcloudstart",t),n.removeEventListener("mousemove",Y),n.removeEventListener("click",G),B=void 0})}if(j.animatable){var c,h=0,p=0!==j.wait?(c=window.setTimeout,window.clearTimeout):(c=window.setImmediate,window.clearImmediate),f=function(e,i){C.forEach(function(t){t.removeEventListener(e,i)},this)},d=function t(){f("wordcloudstart",t),p(g)};!function(e){C.forEach(function(t){t.addEventListener("wordcloudstart",e)},this)}(d);var g=c(function t(){if(h>=j.data.length)return p(g),H("wordcloudstop",!1),void f("wordcloudstart",d);I=(new Date).getTime();var e=z(j.data[h]),i=!H("wordclouddrawn",!0,{item:j.data[h],drawn:e});if(X()||i)return p(g),j.abort(),H("wordcloudabort",!1),H("wordcloudstop",!1),void f("wordcloudstart",d);h++,g=c(t,j.wait)},j.wait)}else{w.maskImage&&C.forEach(function(t){var e;t.getContext&&((e=t.getContext("2d")).fillStyle=j.backgroundColor,e.clearRect(0,0,A*(D+1),E*(D+1)),e.fillRect(0,0,A*(D+1),E*(D+1)))});for(var y=[],v=0;v<j.data.length;v++){var m=z(j.data[v]);m&&y.push(m)}if(y.length===j.data.length&&!F){for(C.forEach(function(t){var e;t.getContext&&((e=t.getContext("2d")).fillStyle=j.backgroundColor,e.clearRect(0,0,A*(D+1),E*(D+1)),e.fillRect(0,0,A*(D+1),E*(D+1)))}),u=A;u--;)for(T[u]=[],i=E;i--;)T[u][i]=!0;F=!0;for(var x=0;x<j.data.length;x++)z(q.__assign(q.__assign({},j.data[x]),{twiceRender:F}))}}}}else if(j.selected!==t&&C[0].getContext){j.selected=t;var b=C[0].getContext("2d");b.fillStyle=j.backgroundColor,b.clearRect(0,0,C[0].width,C[0].height),b.fillRect(0,0,C[0].width,C[0].height);for(var _=0;_<S.length;_++){var O=S[_];(!F||F&&U.get(O,["info","item","twiceRender"]))&&V(O.gx,O.gy,O.info,O.word,O.weight,O.distance,O.theta,O.rotateDeg,O.attributes,O.id,!0)}}};l()}}function u(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}}var c=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!(e.getImageData&&e.fillText&&Array.prototype.some&&Array.prototype.push)}(),K=function(){if(c){for(var t,e,i=document.createElement("canvas").getContext("2d"),n=20;n;){if(i.font=n.toString(10)+"px sans-serif",i.measureText("").width===t&&i.measureText("m").width===e)return n+1;t=i.measureText("").width,e=i.measureText("m").width,n--}return 0}}();n.isSupported=c,n.minFontSize=K,e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(102)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="rose",n.prototype.createLayers.call(this,e)},u.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},u.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({rose:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(384)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="funnel",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var j=i(1),P=i(0),u=i(7),T=i(8),n=i(6),r=j.__importDefault(i(15)),o=i(17);i(385),i(386),i(387),i(388),i(389);var a=i(28);function A(t,e,i){return(1-i)*t+i*e}var s,l={column:"interval"},c={interval:"funnel"},h=(s=r.default,j.__extends(p,s),p.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:P.deepMix({},T.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return P.deepMix({},s.getDefaultOptions.call(this),e)},p.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},p.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},p.prototype.axis=function(){this.setConfig("axes",!1)},p.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},P.isFunction(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},p.prototype.tooltip=function(){var t=this.options;t.compareField&&P.deepMix(t.tooltip,{htmlContent:function(t,e){var r,i;o=T.TooltipCssConst.CONTAINER_CLASS,a=u.createDom('<div class="'+o+'"></div>'),u.modifyCSS(a,T.HtmlTooltipTheme[o]);var n,o,a,s,l=a;return t&&(o=T.TooltipCssConst.TITLE_CLASS,a=u.createDom('<div class="'+o+'"></div>'),u.modifyCSS(a,T.HtmlTooltipTheme[o]),l.appendChild(a),n=a,o=T.TooltipCssConst.MARKER_CLASS,a=u.createDom('<span class="'+o+'"></span>'),u.modifyCSS(a,T.HtmlTooltipTheme[o]),u.modifyCSS(a,{width:"10px",height:"10px"}),n.appendChild(a),i=a,a=u.createDom("<span>"+t+"</span>"),n.appendChild(a)),e&&(o=T.TooltipCssConst.LIST_CLASS,a=u.createDom('<ul class="'+o+'"></ul>'),u.modifyCSS(a,T.HtmlTooltipTheme[o]),l.appendChild(a),s=a,e.reduce(function(i,t){r=r||t.color;var n=P.get(t,"point._origin.__compare__.compareValues");return P.get(t,"point._origin.__compare__.yValues").forEach(function(t,e){return i.push([n[e],t])}),i},[]).forEach(function(t,e){var i=t[0],n=t[1];o=T.TooltipCssConst.LIST_ITEM_CLASS,a=u.createDom('<li class="'+o+'" data-index='+e+"></li>"),u.modifyCSS(a,T.HtmlTooltipTheme[o]),s.appendChild(a);var r=a;o=T.TooltipCssConst.NAME_CLASS,a=u.createDom('<span class="'+o+'">'+i+"</span>"),u.modifyCSS(a,T.HtmlTooltipTheme[o]),r.appendChild(a),o=T.TooltipCssConst.VALUE_CLASS,a=u.createDom('<span class="'+o+'">'+n+"</span>"),u.modifyCSS(a,T.HtmlTooltipTheme[o]),r.appendChild(a)})),r&&i&&u.modifyCSS(i,{backgroundColor:r}),l}}),s.prototype.tooltip.call(this)},p.prototype.addGeometry=function(){var t=this.options,e=o.getGeom("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e)},p.prototype.animation=function(){var e=this;s.prototype.animation.call(this);var t,i,n,r=this.options;!1===r.animation?this.funnel.animate=!1:(t=this.getData(),i=P.get(r,"animation.appear.duration"),n=i/(t.length||1),this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){e.fadeInPercentages(n),r.compareField&&e.fadeInCompareTexts(n),delete e._animationAppearTimeoutHandler},i),this.funnel.animate=P.deepMix({},r.animation,{appear:{animation:r.transpose?"funnelScaleInX":"funnelScaleInY",duration:n,delay:function(e){return P.findIndex(t,function(t){return P.isEqual(t,e)})*n},callback:function(t){e.fadeInLabels(t,.5*n)}},enter:{animation:"fade-in"}}))},p.prototype.afterRender=function(){var t,e,i=this.options;this.resetLabels(),this.resetPercentages(),i.compareField&&this.resetCompareTexts(),"auto"==i.padding&&((t=this._findPercentageContainer())&&this.paddingController.registerPadding(t,"inner",!0),(e=this._findCompareTextContainer())&&this.paddingController.registerPadding(e,"inner",!0)),s.prototype.afterRender.call(this),!1===i.animation&&(this.fadeInLabels(),this.fadeInPercentages(),i.compareField&&this.fadeInCompareTexts()),this._legendsListenerAttached||(this._legendsListenerAttached=!0,this.view.getController("legend").container.on("mousedown",this._onLegendContainerMouseDown))},p.prototype.updateConfig=function(t){t=this.adjustProps(t),s.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},p.prototype.changeData=function(t){var e,i=this.options;!1!==i.animation&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),i.dynamicHeight&&(e=this._findCheckedDataInNewData(t),this._genCustomFieldForDynamicHeight(e)),i.compareField&&(t=this._reduceDataForCompare(t),e=this._findCheckedDataInNewData(t),this._updateDataForCompare(e)),s.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),i.compareField&&this.fadeInCompareTexts()},p.prototype.geometryParser=function(t,e){return"g2"===t?l[e]:c[e]},p.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&(P.set(t,"meta."+t.yField+".nice",!1),P.set(t,"tooltip.shared",!1)),t},p.prototype.resetPercentages=function(){var v,t,m,x,b,e,_,i,O,n,w,M,C,S=this;this._shouldResetPercentages&&(t=(v=this.options).percentage||{},m=t.offsetX,x=t.offsetY,b=t.spacing,_=void 0===(e=t.line)?{}:e,O=void 0===(i=t.text)?{}:i,w=void 0===(n=t.value)?{}:n,M=Date.now(),C=this._findPercentageContainer(!0),this._eachShape(function(t,e,u,c){var i,n,r,o,a,s,l,h,p,f,d,g,y;0<e&&(n=(i=t.getBBox()).minX,r=i.maxX,o=i.maxY,a=i.minY,s=v.transpose?n:r,l=v.transpose&&v.compareField?o:a,h=S._findPercentageMembersInContainerByIndex(C,e,!0),p=h.line,f=h.text,d=h.value,g=[function(t,e,i,n,r){function o(){n&&(n.attr(P.deepMix({},O.style,{x:v.transpose?t+m:t-m-b-l-b,y:v.transpose?e-x-b:e+x,opacity:0,text:O.content,textAlign:v.transpose?"left":"right",textBaseline:v.transpose?"bottom":"middle"})),n.set("adjustTimestamp",M),s=n.getBBox().width)}function a(){r&&(r.attr(P.deepMix({},w.style,{x:v.transpose?t+m+s+b:t-m-b,y:v.transpose?e-x-b:e+x,opacity:0,text:P.isFunction(w.formatter)?v.compareField?w.formatter(P.get(c,"__compare__.yValues.0"),P.get(u,"__compare__.yValues.0")):w.formatter(c[v.yField],u[v.yField]):"",textAlign:v.transpose?"left":"right",textBaseline:v.transpose?"bottom":"middle"})),r.set("adjustTimestamp",M),l=r.getBBox().width)}i&&(i.attr(P.deepMix({},_.style,{x1:t,y1:e,x2:v.transpose?t+m:t-m,y2:v.transpose?e-x:e+x,opacity:0})),i.set("adjustTimestamp",M));var s=0,l=0;v.transpose?(o(),a()):(a(),o())},function(t,e,i,n,r){i&&(i.attr(P.deepMix({},_.style,{x1:t,y1:e,x2:t+m,y2:!v.transpose||v.compareField?e+x:e-x,opacity:0})),i.set("adjustTimestamp",M));var o=0;n&&(n.attr(P.deepMix({},O.style,{x:v.transpose?t+m:t+m+b,y:v.transpose?v.compareField?e+x+b:e-x-b:e+x,opacity:0,text:O.content,textAlign:"left",textBaseline:v.transpose?v.compareField?"top":"bottom":"middle"})),n.set("adjustTimestamp",M),o=n.getBBox().width),r&&(r.attr(P.deepMix({},w.style,{x:v.transpose?t+m+o+b:t+m+b+o+b,y:v.transpose?v.compareField?e+x+b:e-x-b:e+x,opacity:0,text:P.isFunction(w.formatter)?v.compareField?w.formatter(P.get(c,"__compare__.yValues.1"),P.get(u,"__compare__.yValues.1")):w.formatter(c[v.yField],u[v.yField]):"",textAlign:"left",textBaseline:v.transpose?v.compareField?"top":"bottom":"middle"})),r.set("adjustTimestamp",M))}],v.compareField?[[(y=[n,a])[0],y[1]],[s,l]].forEach(function(t,e){var i=t[0],n=t[1];return g[e](i,n,p&&p[e],f&&f[e],d&&d[e])}):g[1](s,l,p,f,d)),c=u,e++}),C.get("children").forEach(function(t){t.get("adjustTimestamp")!=M&&(t.attr({opacity:0}),C.set(t.get("id"),null),setTimeout(function(){return t.remove()},0))}))},p.prototype.fadeInPercentages=function(l,t){function e(o){var s={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};u._eachShape(function(t,e){function i(t){var e,i,n,r,o;t&&"text"==t.get("type")&&(i=(e=t.getBBox()).minX,n=e.maxX,r=e.minY,o=e.maxY,i<a.minX&&(a.minX=i),n>a.maxX&&(a.maxX=n),r<a.minY&&(a.minY=r),o>a.maxY&&(a.maxY=o))}var n,r=u._findPercentageMembersInContainerByIndex(c,e),a={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};P.each(r,function(t){return P.isArray(t)?i(t[o]):i(t)}),(a.minX>s.maxX||a.maxX<s.minX||a.minY>s.maxY||a.maxY<s.minY)&&(n=function(t){var e;t&&(e={opacity:1},l?t.animate(e,l):t.attr(e))},P.each(r,function(t){return P.isArray(t)?n(t[o]):n(t)}),P.assign(s,a))})}var u=this,i=this.options,c=this._findPercentageContainer();i.compareField?[0,1].forEach(e):e(),l&&t&&setTimeout(t,l)},p.prototype.fadeOutPercentages=function(r,t){var o=this,a=this._findPercentageContainer();this._eachShape(function(t,e){function i(t){var e;t&&(e={opacity:0},r?t.animate(e,r):t.attr(e))}var n=o._findPercentageMembersInContainerByIndex(a,e);P.each(n,function(t){return P.isArray(t)?t.forEach(i):i(t)})}),r&&t&&setTimeout(t,r)},p.prototype.refreshPercentages=function(t){var e,i,n,r=this;!1!==this.options.animation&&(i=(e=this._calcRefreshFadeDurations()).fadeOutDuration,n=e.fadeInDuration,this._shouldResetPercentages=!1,this.fadeOutPercentages(i,function(){r._shouldResetPercentages=!0,r.resetPercentages(),r.fadeInPercentages(n,t)}))},p.prototype._findPercentageContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,i=e.get("percentageContainer");return!i&&t&&(i=e.addGroup(),e.set("percentageContainer",i)),i},p.prototype._findPercentageMembersInContainerByIndex=function(n,r,o){void 0===o&&(o=!1);var t,e,i,a,s=this.options,l=s.percentage||{},u=l.line,c=l.text,h=void 0===c?{}:c,p=l.value,f=void 0===p?{}:p,d={line:void 0,text:void 0,value:void 0};return!1!==l.visible&&n&&(!1!==(void 0===u?{}:u).visible&&(t=function(t){var e="_percentage-line-"+r+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape({id:e,type:"line",attrs:{}}),n.set(e,i)),i},e=s.compareField?[0,1].map(t):t(0),d.line=e),!1!==h.visible&&(t=function(t){var e="_percentage-text-"+r+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape({id:e,type:"text",attrs:{}}),n.set(e,i)),i},i=s.compareField?[0,1].map(t):t(0),d.text=i),!1!==f.visible&&(t=function(t){var e="_percentage-value-"+r+"-"+t,i=n.get(e);return!i&&o&&(i=n.addShape({id:e,type:"text",attrs:{}}),n.set(e,i)),i},a=s.compareField?[0,1].map(t):t(0),d.value=a)),d},p.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=P.get(t,"animation.update.duration"),i=P.get(t,"animation.enter.duration");return{fadeInDuration:.6*Math.min(i,e),fadeOutDuration:1.2*Math.max(i,e)}},p.prototype.resetLabels=function(){var m,x,b,_,O,w,M,C,S=this;this._shouldResetLabels&&(x=this.options,b=x.xField,_=x.yField,O=Date.now(),w=this._getGeometry().labelsContainer,M=x.label||{},C=P.deepMix(j.__assign({},this.theme.label),x.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),this._eachShape(function(t,e,i,n){var r,o=t.get("element");0==e&&(m=i);var a=t.getBBox(),s=a.minX,l=a.maxX,u=a.minY,c=a.maxY,h=i[b],p=i[_];M.adjustColor&&(C.fill=S._getAdjustedTextFillByShape(t));var f=i.__compare__,d=((r={})[T._ORIGIN]=i,r.element=o,r.elementIndex=n,r.mappingDatum=[].concat(o.getModel().mappingData)[0],r.mappingDatumIndex=0,r),g=M.formatter?M.formatter(h,d,e,p,m[_]):f?[0,1].map(function(){return""+p}).join(x.transpose?"\n\n":"    "):h+" "+p,y=S._findLabelInContainerByIndex(w,e,!0),v=f?f.yValues[0]/(f.yValues[0]+f.yValues[1]):.5;y.attr(j.__assign(j.__assign({},C),{x:A(s,l,x.transpose?.5:v),y:A(u,c,x.transpose?v:.5),text:g})),y.set("adjustTimestamp",O)}),w.get("children").forEach(function(t){t.get("adjustTimestamp")!=O&&(t.attr({opacity:0}),w.set(t.get("id"),null),setTimeout(function(){return t.remove()}))}))},p.prototype.fadeInLabels=function(a,s,t){var l=this,u=this._getGeometry().labelsContainer;this._eachShape(function(t,e){var i,n,r,o;a&&a!=t||(i=l._findLabelInContainerByIndex(u,e))&&(n=t.getBBox(),(r=i.getBBox()).minX>=n.minX&&r.maxX<=n.maxX&&r.minY>=n.minY&&r.maxY<=n.maxY&&(o={opacity:1},s?i.animate(o,s):i.attr(o)))}),s&&t&&setTimeout(t,s)},p.prototype.fadeOutLabels=function(r,o,t){var a=this,s=this._getGeometry().labelsContainer;this._eachShape(function(t,e){var i,n;r&&r!=t||(i=a._findLabelInContainerByIndex(s,e))&&(n={opacity:0},o?i.animate(n,o):i.attr(n))}),o&&t&&setTimeout(t,o)},p.prototype.refreshLabels=function(t){var e,i,n,r=this;!1!==this.options.animation&&(i=(e=this._calcRefreshFadeDurations()).fadeOutDuration,n=e.fadeInDuration,this._shouldResetLabels=!1,this.fadeOutLabels(null,i,function(){r._shouldResetLabels=!0,r.resetLabels(),r.fadeInLabels(null,n,t)}))},p.prototype._findLabelInContainerByIndex=function(t,e,i){var n,r;if(void 0===i&&(i=!1),!1===(null===(n=this.options.label)||void 0===n?void 0:n.visible))return r;var o="_label-"+e;return!(r=t.get(o))&&i&&(r=t.addShape({id:o,type:"text",attrs:{}}),t.set(o,r)),r},p.prototype.resetCompareTexts=function(){var n,r,e,i,o,a,s,l,u,c,h;this._shouldResetCompareTexts&&(e=this.options,this._eachShape(function(t,e,i){0==e&&(n=t.get("parent").getBBox(),r=P.get(i,"__compare__"))}),n&&r&&!1!==P.get(e,"compareText.visible")&&(i=this._findCompareTextContainer(!0),o=r.yValuesMax,a=r.compareValues,s=n.minX,l=n.maxX,u=n.minY,c=n.maxY,h=i.get("children"),[0,1].forEach(function(t){(h[t]||i.addShape({type:"text"})).attr(P.deepMix({},P.get(e,"compareText.style"),{text:e.transpose?a[t]:t?"  "+a[t]:a[t]+"  ",x:e.transpose?s+P.get(e,"compareText.offsetX"):A(s,l,o[0]/(o[0]+o[1])),y:e.transpose?A(u,c,o[0]/(o[0]+o[1]))+(t?8:-8):u+P.get(e,"compareText.offsetY"),opacity:0,textAlign:!e.transpose&&t?"left":"right",textBaseline:e.transpose&&t?"top":"bottom"}))})))},p.prototype.fadeInCompareTexts=function(n,t){var r,e=this._findCompareTextContainer();e&&(r=e.get("children"),[0,1].forEach(function(t){var e,i=r[t];i&&(e={opacity:1},n?i.animate(e,n):i.attr(e))})),n&&t&&setTimeout(t,n)},p.prototype.fadeOutCompareTexts=function(n,t){var r,e=this._findCompareTextContainer();e&&(r=e.get("children"),[0,1].forEach(function(t){var e,i=r[t];i&&(e={opacity:0},n?i.animate(e,n):i.attr(e))})),n&&t&&setTimeout(t,n)},p.prototype.refreshCompareTexts=function(t){var e,i,n,r=this;!1!==this.options.animation&&(e=this._calcRefreshFadeDurations(),i=e.fadeInDuration,n=e.fadeOutDuration,this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(n,function(){r._shouldResetCompareTexts=!0,r.resetCompareTexts(),r.fadeInCompareTexts(i,t)}))},p.prototype._findCompareTextContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,i=e.get("compareTextContainer");return!i&&t&&(i=e.addGroup(),e.set("compareTextContainer",i)),i},p.prototype._eachShape=function(r){var t,o,a=this._findCheckedData(this.getData()),s=a.length,l=0;null===(t=this._getGeometry())||void 0===t||t.elements.forEach(function(t,e){var i=t.shape,n=a[l];l<s&&r(i,l,n,o,e),o=n,l++})},p.prototype._getGeometry=function(){return this.view.geometries[0]},p.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,n=a.rgb2arr(e),r=Math.round(.299*n[0]+.587*n[1]+.114*n[2])/i;return a.mappingColor([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],r)},p.prototype._genCustomFieldForDynamicHeight=function(r){var o=this.options,a=r.reduce(function(t,e){return t+e[o.yField]},0),s=1;r.forEach(function(t,e){var i=t[o.yField],n=s-i/a;t.__custom__={datumIndex:e,dataLength:r.length,ratioUpper:s,ratioLower:n,reverse:o.transpose},s=n})},p.prototype._findCheckedDataByMouseDownLegendItem=function(t){var i=t.get("parent").get("children").map(function(t){return!t.get("unchecked")});return this.getData().filter(function(t,e){return i[e]})},p.prototype._findCheckedDataInNewData=function(t){var e=this.options,i=this.view.getController("legend").container.findAll(function(t){return"legend-item"==t.get("name")}).filter(function(t){return t.get("unchecked")}).map(function(t){return t.get("id").replace("-legend-item-","")});return t.filter(function(t){return!P.contains(i,t[e.xField])})},p.prototype._findCheckedData=function(t){var e,i=this.options;if(null!==(e=i.legend)&&void 0!==e&&e.visible){var n=this.view.getController("legend").container.findAll(function(t){return"legend-item"==t.get("name")}).filter(function(t){return!t.get("unchecked")}).map(function(t){return t.get("id").replace("-legend-item-","")});return t.filter(function(t){return P.contains(n,t[i.xField])})}return this.processData(i.data)},p.prototype._reduceDataForCompare=function(i){var l,u=this.options,c=[-1/0,-1/0];return(i=i.reduce(function(t,e){var i,n=e[u.xField],r=e[u.yField],o=e[u.compareField];l=l||o;var a=t.find(function(t){return t[u.xField]==n});a||((i={})[u.xField]=n,i[u.yField]=0,i.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:u.transpose},a=i,t.push(a));var s=o==l?0:1;return a.__compare__.yValues[s]=r,c[s]<r&&(c[s]=r),a.__compare__.compareValues[s]=o,t},[])).forEach(function(t,e){t[u.yField]=P.get(t,"__compare__.yValues",[]).reduce(function(t,e){return t+e},0),P.set(t,"__compare__.yValuesMax",c),P.set(t,"__compare__.yValuesNext",P.get(i,e+1+".__compare__.yValues"))}),i},p.prototype._updateDataForCompare=function(i){var n=[-1/0,-1/0];i.forEach(function(t){var e=P.get(t,"__compare__.yValues");[0,1].forEach(function(t){e[t]>n[t]&&(n[t]=e[t])})}),i.forEach(function(t,e){P.set(t,"__compare__.yValuesMax",n),P.set(t,"__compare__.yValuesNext",P.get(i,e+1+".__compare__.yValues"))})},p);function p(t){var r=s.call(this,t)||this;return r.type="funnel",r._shouldResetPercentages=!0,r._shouldResetLabels=!0,r._shouldResetCompareTexts=!0,r._legendsListenerAttached=!1,r._onLegendContainerMouseDown=function(t){var e,i,n=r.options;t.target.get("name").startsWith("legend-item")&&((e=t.target.get("parent")).set("unchecked",!e.get("unchecked")),r.refreshPercentages(),r.refreshLabels(),n.dynamicHeight&&(i=r._findCheckedDataByMouseDownLegendItem(e),r._genCustomFieldForDynamicHeight(i)),n.compareField&&(i=r._findCheckedDataByMouseDownLegendItem(e),r._updateDataForCompare(i),r.refreshCompareTexts()))},r.adjustProps(r.options),t.dynamicHeight&&r._genCustomFieldForDynamicHeight(r.getData()),t.compareField&&(r.options.data=r._reduceDataForCompare(r.getData())),r}e.default=h,n.registerPlotType("funnel",h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("funnel",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=i(1),x=i(0),n=i(35),b=i(103);n.registerShape("interval","funnel-basic-rect",{getPoints:function(c){return c.size=1.8*c.size,function(t){void 0===t&&(t=!1);var e,i,n=c.x,r=c.y,o=c.y0,a=c.size,s=x.isArray(r)?(e=r[0],r[1]):(e=o,r),l=x.isArray(n)?(i=n[0],n[1]):(i=n-a/2,n+a/2),u=[{x:i,y:e},{x:i,y:s}];return t?u.push({x:l,y:(s+e)/2}):u.push({x:l,y:s},{x:l,y:e}),u}()},draw:function(t,e){var i,n,r,o,a,s,l,u,c,h,p,f,d,g=b.getStyle(t,!1,!0),y=x.get(t,"data.__compare__"),v=this.parsePath((p=[],f=t.points,d=t.nextPoints,y?(n=y.yValues,r=y.yValuesMax,o=y.yValuesNext,a=(f[0].y+f[1].y)/2,s=n[0]+n[1],l=n.map(function(t){return t/s/.5}),u=.9*(r[0]/(r[0]+r[1])-.5),x.isNil(d)?(p.push(["M",f[0].x,u+(f[0].y-a)*l[0]+a],["L",f[1].x,u+a],["L",f[2].x,u+a],["L",f[3].x,u+(f[3].y-a)*l[0]+a],["Z"]),p.push(["M",f[0].x,.002+u+a],["L",f[1].x,.002+u+(f[1].y-a)*l[1]+a],["L",f[2].x,.002+u+(f[2].y-a)*l[1]+a],["L",f[3].x,.002+u+a],["Z"])):(c=o[0]+o[1],h=o.map(function(t){return t/c/.5}),p.push(["M",f[0].x,u+(f[0].y-a)*l[0]+a-.001],["L",f[1].x,u+a-.001],["L",d[1].x,u+a-.001],["L",d[0].x,u+(d[3].y-a)*h[0]+a-.001],["Z"]),p.push(["M",f[0].x,u+a+.001],["L",f[1].x,u+(f[1].y-a)*l[1]+a+.001],["L",d[1].x,u+(d[2].y-a)*h[1]+a+.001],["L",d[0].x,u+a+.001],["Z"]))):x.isNil(d)?p.push(["M",f[0].x,f[0].y],["L",f[1].x,f[1].y],["L",f[2].x,f[2].y],["L",f[3].x,f[3].y],["Z"]):p.push(["M",f[0].x,f[0].y],["L",f[1].x,f[1].y],["L",d[1].x,d[1].y],["L",d[0].x,d[0].y],["Z"]),p));return e.addShape("path",((i={name:"interval",attrs:m.__assign(m.__assign({},g),{path:v})}).__compare__=y,i))},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),n=i(35),a=i(103);function f(t,e,i){return(1-i)*t+i*e}n.registerShape("interval","funnel-dynamic-rect",{draw:function(t,e){var i=a.getStyle(t,!1,!0),p=o.get(t,"data.__custom__"),n=this.parsePath(function(t){var e,i=p.reverse,n=p.ratioUpper,r=p.ratioLower,o=[],a=t[0],s=(t[1].x+t[2].x)/2;i&&(e=r,r=n,n=e);var l=(a.x-s)*f(.6,1.2,r)+s;o.push(["M",l,a.y]);for(var u=1,c=t.length;u<c;u++){var h=t[u].x;switch(u){case 1:case 2:h=(h-s)*f(.6,1.2,n)+s;break;case 3:h=(h-s)*f(.6,1.2,r)+s}o.push(["L",h,t[u].y])}return o.push(["L",l,a.y]),o.push(["z"]),o}(t.points));return e.addShape("path",{attrs:r.__assign(r.__assign({},i),{path:n})})},getMarker:function(t){var e=t.color,i=t.isInPolar;return{symbol:i?"circle":"square",style:{r:i?4.5:4,fill:e}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(3),n=i(35);function r(t,e){var i=e||{},n=i.duration,r=void 0===n?200:n,o=i.delay,a=i.easing,s=i.callback,l=i.reverse,u=t.getBBox(),c=l?u.maxX:u.minX,h=(u.minY+u.maxY)/2,p=t.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}});p.setMatrix(d.ext.transform(p.getMatrix(),[["t",-c,-h],["s",0,1],["t",c,h]]));var f={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:o}),t.animate(f,{duration:r,easing:a,delay:o}),s&&setTimeout(function(){return s(t)},r+o)}r.animationName="funnelScaleInX",n.registerAnimation("funnelScaleInX",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=i(3),n=i(35);function r(t,e){var i=e||{},n=i.duration,r=void 0===n?200:n,o=i.delay,a=i.easing,s=i.callback,l=i.reverse,u=t.getBBox(),c=(u.minX+u.maxX)/2,h=l?u.maxY:u.minY,p=t.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}});p.setMatrix(d.ext.transform(p.getMatrix(),[["t",-c,-h],["s",1,0],["t",c,h]]));var f={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:o}),t.animate(f,{duration:r,easing:a,delay:o}),s&&setTimeout(function(){return s(t)},r+o)}r.animationName="funnelScaleInY",n.registerAnimation("funnelScaleInY",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(391)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedRose",n.prototype.createLayers.call(this,e)},u.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},u.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=(n=r.__importDefault(i(102)).default,r.__extends(l,n),l.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},l.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},l.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},l.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="stackedRose",t}e.default=s,a.registerPlotType("stackedRose",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(393)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedRose",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=(n=r.__importDefault(i(102)).default,r.__extends(l,n),l.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},l.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},l.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},l.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedRose",t}e.default=s,a.registerPlotType("groupedRose",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(395)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="radar",n.prototype.createLayers.call(this,e)},u.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},u.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},u.prototype.getColorScale=function(){return this.layers[0].getColorScale()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=i(6),a=n.__importDefault(i(15)),s=i(26),l=i(17),u=i(27),c=n.__importStar(i(396));i(397);var h,p={area:"area",line:"line",point:"point"},f=(h=a.default,n.__extends(d,h),d.getDefaultOptions=function(){return r.deepMix({},h.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},d.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,h.prototype.init.call(this)},d.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},d.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},d.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},d.prototype.geometryParser=function(t,e){return p[e]},d.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},r.has(t,"angleAxis")&&u.extractScale(e[t.angleField],t.angleAxis),e[t.radiusField]={},r.has(t,"radiusAxis")&&u.extractScale(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),h.prototype.scale.call(this)},d.prototype.coord=function(){var t={type:"polar",cfg:{radius:this.options.radius}};this.setConfig("coordinate",t)},d.prototype.axis=function(){var t=this.options,e=s.getComponent("axis",{plot:this,dim:"angle"}),i=s.getComponent("axis",{plot:this,dim:"radius"}),n={};n[t.angleField]=e,n[t.radiusField]=i,this.setConfig("axes",n)},d.prototype.addGeometry=function(){var t,e,i,n=this.options;n.area.visible&&(t=l.getGeom("area","main",{plot:this}),this.setConfig("geometry",t),this.area=t),n.line&&n.line.visible&&(e=l.getGeom("line","guide",{plot:this}),this.setConfig("geometry",e),this.line=e),n.point&&n.point.visible&&(i=l.getGeom("point","guide",{plot:this}),this.setConfig("geometry",i),this.point=i),n.label&&this.label(),n.tooltip&&(n.tooltip.fields||n.tooltip.formatter)&&this.geometryTooltip()},d.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},d.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),void(this.area&&(this.area.label=!1));var e=s.getComponent("label",n.__assign({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},d.prototype.annotation=function(){},d.prototype.animation=function(){h.prototype.animation.call(this),!1===this.options.animation&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},d.prototype.parseEvents=function(){h.prototype.parseEvents.call(this,c)},d);function d(){var t=null!==h&&h.apply(this,arguments)||this;return t.type="radar",t}e.default=f,o.registerPlotType("radar",f)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({area:"area",line:"line",point:"point"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("radar",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+1,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,i=t.size||t.radius;return{radius:i+2,shadowBlur:i,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(399)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="liquid",n.prototype.createLayers.call(this,e)},u.prototype.changeValue=function(e,t){var i;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof s.default&&t.changeValue(e)}):(i=this.layers[0])instanceof s.default&&i.changeValue(e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),s=i(0),c=n.__importDefault(i(13)),r=i(6),o=n.__importDefault(i(15)),a=i(17),l=i(27),u=i(28),h=n.__importStar(i(400));i(401),i(402);var p,f={column:"interval"},d={interval:"liquid"},g=(p=o.default,n.__extends(y,p),y.getDefaultOptions=function(){return s.deepMix({},p.getDefaultOptions.call(this),{padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}})},y.prototype.beforeInit=function(){var t=this.options,e=t.min,i=t.max,n=t.value;if(!s.isNumber(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!s.isNumber(i))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!s.isNumber(n))throw new Error("The value of Liquid is required, and the type of value must be Number.")},y.prototype.init=function(){this.options.data=[{}],p.prototype.init.call(this)},y.prototype.coord=function(){},y.prototype.scale=function(){var t=this.options,e=t.min,i=t.max,n={value:{}};l.extractScale(n.value,{min:Math.min(e,i),max:Math.max(e,i)}),this.setConfig("scales",n),p.prototype.scale.call(this)},y.prototype.axis=function(){this.setConfig("axes",!1)},y.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var i=e.liquidStyle;s.isFunction(i)&&(i=i()),i&&(t.style=i)},y.prototype.addGeometry=function(){var t=a.getGeom("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),i=.8*Math.min(e.width,e.height),n=this.options.liquidSize?this.options.liquidSize:i;t.size={values:[n]},this.liquid=t,this.setConfig("geometry",t)},y.prototype.animation=function(){var t,e,i,n=this.options;!1===n.animation?this.liquid.animate=!1:(t=s.get(n,"animation.factor"),e=s.get(n,"animation.easing"),i=s.get(n,"animation.duration"),this.liquid.animate={appear:{animation:"liquidMoveIn",factor:t,easing:e,duration:i}})},y.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},y.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},y.prototype.extractStatistic=function(){var t,e,i,n=this.options,r=n.statistic||{};if((t=s.isFunction(r.formatter)?r.formatter(n.value):""+n.value)&&(e=Math.min(this.width,this.height)/t.length*.5,i=Math.max(1,Math.ceil(.025*e))),!1!==r.visible){var o=s.deepMix({style:{fontSize:e,shadowBlur:i}},r,{top:!0,content:t,type:"text",position:["50%","50%"],style:{opacity:void 0,fill:"transparent",shadowColor:"transparent",textAlign:"center"}});return delete o.visible,delete o.formatter,delete o.adjustColor,o}},y.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,h)},y.prototype.afterRender=function(){var t;null!==(t=this.options.statistic)&&void 0!==t&&t.visible&&this.fadeInAnnotation();var e=this.options,i=e.padding?e.padding:this.config.theme.padding;e.defaultState&&"auto"!==i&&this.stateController.defaultStates(e.defaultState),"auto"===i&&this.paddingController.processAutoPadding()},y.prototype.processData=function(){return[{_:"_",value:this.options.value}]},y.prototype.changeValue=function(t){this.options.value=t,this.changeData([])},y.prototype.fadeInAnnotation=function(){var t=this,e=this.options,i=this.view.foregroundGroup.findAll(function(t){return"annotation-text"===t.get("name")})[0],n=e.animation||{},r=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?i.animate(r,n.duration*Math.min(1,1.5*n.factor),null,function(){t.shouldFadeInAnnotation=!1}):s.forIn(r,function(t,e){return i.attr(e,t)})},y.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#303030",shadowColor:"white"};if(!1===s.get(t,"statistic.adjustColor"))return{fill:s.get(t,"statistic.style.fill",e.fill),shadowColor:s.get(t,"statistic.style.shadowColor",e.shadowColor)};var i=t.min,n=t.max,r=t.value;if(.55<((i=Math.min(i,n))==(n=Math.max(i,n))?1:(r-i)/(n-i))){var o=this.options.color,a=u.rgb2arr(o);return Math.round(.299*a[0]+.587*a[1]+.114*a[2])/.8<156?{fill:"#f6f6f6",shadowColor:"black"}:e}return e},y.prototype.updateConfig=function(t){p.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},y.prototype.getViewRange=function(){var t=p.prototype.getViewRange.call(this),e=this.options.liquidStyle,i=e.lineWidth?e.lineWidth:2,n=t.minX,r=t.minY,o=t.width,a=t.height,s=Math.min(o,a)-2*i,l=n+o/2-s/2,u=r+a/2-s/2;return new c.default(l,u,s,s)},y);function y(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}e.default=g,r.registerPlotType("liquid",g)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({liquid:"intervl",statistic:"annotation-text"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function g(t,e,i){return(1-i)*t+i*e}function y(t){var e,i,n={fill:"#fff",stroke:x.color,fillOpacity:0,lineWidth:2},r=v.mix({},n,t.style);return e=r,(i=t).color&&!e.stroke&&(e.stroke=i.color),v.isNumber(i.opacity)&&(e.opacity=e.strokeOpacity=i.opacity),r}var n=i(8),v=i(0),r=i(11),m=i(55),x=r.getGlobalTheme();function b(t,e,i,n,r,o,a){for(var s=2*Math.ceil(2*t/i*4),l=[],u=n;u<2*-Math.PI;)u+=2*Math.PI;for(;0<u;)u-=2*Math.PI;var c=o-t+(u=u/Math.PI/2*i)-2*t;l.push(["M",c,e]);for(var h,p,f,d,g=0,y=0;y<s;++y){var v=(h=y*i/4,f=i,d=r,0===(p=y%4)?[[h+.5*f/Math.PI/2,d/2],[h+.5*f/Math.PI,d],[h+f/4,d]]:1===p?[[h+.5*f/Math.PI/2*(Math.PI-2),d],[h+.5*f/Math.PI/2*(Math.PI-1),d/2],[h+f/4,0]]:2===p?[[h+.5*f/Math.PI/2,-d/2],[h+.5*f/Math.PI,-d],[h+f/4,-d]]:[[h+.5*f/Math.PI/2*(Math.PI-2),-d],[h+.5*f/Math.PI/2*(Math.PI-1),-d/2],[h+f/4,0]]);l.push(["C",v[0][0]+c,-v[0][1]+e,v[1][0]+c,-v[1][1]+e,v[2][0]+c,-v[2][1]+e]),y===s-1&&(g=v[2][0])}return l.push(["L",g+c,a+t]),l.push(["L",c,a+t]),l.push(["L",c,e]),l}n.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var i=1/0;v.each(t.points,function(t){t.x<i&&(i=t.x)});var n,r,o,a,s,l=this.parsePoint({x:.5,y:.5}),u=this.parsePoint({x:i,y:.5}),c=l.x-u.x,h=Math.min(c,u.y),p=(n=t,a={lineWidth:0,fill:x.color,fillOpacity:.85},s=v.mix({},a,n.style),r=s,(o=n).color&&!r.fill&&(r.fill=o.color),v.isNumber(o.opacity)&&(r.opacity=r.fillOpacity=o.opacity),n.color&&!s.stroke&&(s.stroke=s.stroke||n.color),s.fill),f=e.addGroup({name:"waves",attrs:{x:l.x,y:l.y}});f.setClip({type:"circle",attrs:{x:l.x,y:l.y,r:h}});var d=f.get("clipShape");return function(t,e,i,n,r,o){for(var a=d.getBBox(),s=a.maxX-a.minX,l=a.maxY-a.minY,u=0;u<3;u++){var c=u/2,h=r.addShape("path",{attrs:{path:b(o,a.minY+l*i,s/4,0,s/g(56,64,c),t,e),fill:n,opacity:g(.6,.3,c)}}),p=m.transform([["t",s/2,0]]);h.animate({matrix:p},{duration:g(5e3,3500,c),repeat:!0})}}(l.x,l.y,1-t.points[1].y,p,f,4*h),e.addShape("circle",{name:"wrap",attrs:v.mix(y(t),{x:l.x,y:l.y,r:h,fill:"transparent"})}),f[0]}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),g=i(0),y=i(55);function r(t,e){var i=t.get("parent"),n=i.getBBox(),r=Math.min(Math.max(0,g.get(e,"factor",.5)),1),o=g.get(e,"delay",0),a=g.get(e,"duration",800),s=e.callback,l=(n.minX+n.maxX)/2,u=n.maxY,c=i.find(function(t){return"wrap"==t.get("name")}),h=c.attr("opacity");c.attr("opacity",0),c.animate({opacity:h},a*r,"easeLinear",null,o);var p=i.find(function(t){return"waves"==t.get("name")}),f=g.clone(p.attr("matrix"))||[1,0,0,0,1,0,0,0,1],d=y.transform(f,[["t",-l,-u],["s",1,0],["t",l,u]]);p.setMatrix(d),p.animate({matrix:f},a,e.easing,function(){return s&&s(i,c,p)},o)}r.animationName="liquidMoveIn",n.registerAnimation("liquidMoveIn",r)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(404)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="histogram",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),f=i(0),o=i(6),d=i(24),a=(n=r.__importDefault(i(44)).default,r.__extends(s,n),s.prototype.init=function(){this.options.xField="range",this.options.yField="count",n.prototype.init.call(this)},s.prototype.processData=function(t){var r=this,e=this.options,o=e.binField,i=e.binWidth,n=e.binNumber,a=f.clone(t);f.sortBy(a,o);var s=f.valuesOfKey(a,o),l=f.getRange(s),u=l.max-l.min,c=!i&&n?u/n:i;i||n||(c=u/d.sturges(s));var h={};f.each(a,function(t){var e=t[o],i=r.getBin(e,c),n=i[0]+"-"+i[1];f.hasKey(h,n)||(h[n]={name:n,range:i,count:0,data:[]}),h[n].data.push(t),h[n].count+=1});var p=[];return f.each(h,function(t){p.push(t)}),p},s.prototype.scale=function(){n.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},s.prototype.getBin=function(t,e){var i=Math.floor(t/e);return[e*i,e*(i+1)]},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="histogram",t}e.default=a,o.registerPlotType("histogram",a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(406)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="density",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),y=i(21),v=i(0),o=i(6),m=i(24),a=r.__importDefault(i(97)),x={epanechnikov:function(t){return Math.abs(t)<=1?.75*(1-t*t):0},gaussian:function(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Math.pow(t,2))},uniform:function(t){return Math.abs(t)<=1?.5:0},triangle:function(t){return Math.abs(t)<=1?1-Math.abs(t):0},quartic:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*e*e:0},triweight:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*Math.pow(e,3):0},cosinus:function(t){var e=Math.PI/4*Math.cos(.5*Math.PI*t);return Math.abs(t)<=1?e:0}},s=(n=a.default,r.__extends(l,n),l.prototype.init=function(){var t=this.options.xAxis?v.clone(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=v.deepMix({},t,{type:"linear"}),this.options.smooth=!0,n.prototype.init.call(this)},l.prototype.processData=function(t){var i=this,e=this.options,n=e.binField,r=e.binWidth,o=e.binNumber,a=e.kernel,s=x[a||"epanechnikov"],l=v.clone(t);v.sortBy(l,n);var u=v.valuesOfKey(l,n),c=v.getRange(u),h=c.max-c.min,p=o,f=r;!o&&r&&(p=Math.floor(h/r)),!r&&o&&(f=h/o),o||r||(p=m.sturges(u),f=h/o);var d=new(y.getScale("linear"))({min:c.min,max:c.max,tickCount:p,nice:!1}).getTicks(),g=[];return v.each(d,function(t){var e=i.kernelDensityEstimator(f,s,t,u);g.push({value:t.text,density:e})}),g},l.prototype.kernelDensityEstimator=function(i,n,r,t){var o=0;return v.each(t,function(t){var e=(r.tickValue-t)/i;o+=n(e)}),0===t.length?0:o/t.length},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="density",t}e.default=s,o.registerPlotType("density",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(172)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="donut",n.prototype.createLayers.call(this,e)},u.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({ring:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=r.__importDefault(i(410)),a=r.__importStar(i(411)),s=i(0),l=(n=o.default,r.__extends(u,n),u.prototype.triggerOn=function(){var n=this,t=this.options.triggerOn;this.view.on("interval:"+t,s.debounce(function(t){var e=n.parseStatisticData(t.data.data),i=n.getStatisticHtmlString(e);n.updateHtml(i)},150));var e=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+e,s.debounce(function(){var t=n.getTotalHtmlString();n.updateHtml(t)},150))},u.prototype.getTotalHtmlString=function(){var t,e;return e=this.options.content?this.options.content:(t=this.getTotalValue(),this.parseStatisticData(t)),this.options.htmlContent?this.options.htmlContent(e):this.getStatisticTemplate(e)},u.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,i=t.minY,n=t.width,r=t.height;this.x=e+n/2,this.y=i+r/2},u.prototype.getTotalValue=function(){var t,e=0,i=this.plot.options,n=i.angleField,r=i.colorField,o=this.options.totalLabel;return s.each(this.plot.options.data,function(t){"number"==typeof t[n]&&(e+=t[n])}),(t={})[n]=e,t[r]=o,t},u.prototype.parseStatisticData=function(t){var e=this.plot,i=e.options,n=i.angleField,r=i.colorField,o=e.getScaleByField(n),a=e.getScaleByField(r);return r?{name:a.getText(t[r]),value:o.getText(t[n])}:o.getText(t[n])},u.prototype.getStatisticTemplate=function(t){var e,i=this.getStatisticSize();return s.isString(t)?e=a.getSingleDataTemplate(t,this.statisticClass,i):s.isObject(t)&&2===s.keys(t).length&&(e=a.getTwoDataTemplate(t.name,t.value,this.statisticClass,i)),e},u.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,i=e.radius,n=e.innerRadius;return Math.min(t.width,t.height)*i*n},u.prototype.getStatisticHtmlString=function(t){var e,i=this.options.triggerOn;return s.isString(i)&&(e=this.getStatisticTemplate(t)),s.isFunction(i)&&(e=i(t),e='<div class="ring-guide-html '+this.statisticClass+'">'+e+"</div>"),e},u);function u(t){var e=n.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),a=i(7),r=(o.prototype.render=function(){var t;n.isElement(this.container)&&(this.wrapperNode=a.createDom('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),a.modifyCSS(this.wrapperNode,{position:"absolute"}),t=a.createDom(this.html),this.wrapperNode.appendChild(t),this.setDomPosition(this.x,this.y))},o.prototype.updateHtml=function(t){this.wrapperNode.innerHTML=t},o.prototype.updatePosition=function(t,e){this.x=t,this.y=e,this.setDomPosition(t,e)},o.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},o.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},o.prototype.setDomPosition=function(t,e){var i=t,n=e,r=a.getOuterWidth(this.wrapperNode),o=a.getOuterHeight(this.wrapperNode);"middle"===this.options.alignX&&(i=t-r/2),"middle"===this.options.alignY&&(n=e-o/2),a.modifyCSS(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(i)+"px"})},o);function o(t){var e=this.getDefaultOptions();this.options=n.deepMix(e,t,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTwoDataTemplate=e.getSingleDataTemplate=void 0;var r="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",o="font-size:32px;font-weight:bold;color:#4D4D4D";e.getSingleDataTemplate=function(t,e,i){return'<div class="ring-guide-html '+e+'" style='+r+"width:"+i+'px;><span class="ring-guide-value" style='+o+">"+t+"</span></div>"},e.getTwoDataTemplate=function(t,e,i,n){return'<div class="ring-guide-html '+i+'" style='+r+"width:"+n+'px;><span class="ring-guide-name" style=font-weight:300;>'+t+'</span><br/><span class="ring-guide-value" style='+o+">"+e+"</span></div>"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(104)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="waterfall",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0);i(8).registerShape("interval","waterfall",{draw:function(t,e){var i,n,r,o,a,s,l=(i=t.style,n=t.defaultStyle,r=t.color,o=p.__assign(p.__assign({},n),i),r&&(o.fill=r),o),u=this.parsePath(function(t){var e=[],i=t[0];e.push(["M",i.x,i.y]);for(var n=1,r=t.length;n<r;n++)e.push(["L",t[n].x,t[n].y]);return e.push(["L",i.x,i.y]),e.push(["z"]),e}(t.points)),c=e.addShape("path",{attrs:p.__assign(p.__assign({},l),{path:u}),name:"interval"}),h=f.get(t.style,"leaderLine");return h&&h.visible&&(a=h.style||{},t.nextPoints&&(s=[["M",t.points[2].x,t.points[2].y],["L",t.nextPoints[0].x,t.nextPoints[0].y]],s=this.parsePath(s),e.addShape("path",{attrs:p.__assign({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},a),name:"leader-line"}))),c}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(168);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return n.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return n.onEvent}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),u=i(0),o=r.__importDefault(i(57)),c=i(104),a=i(20),s=(n=o.default,r.__extends(l,n),l.prototype.adjustLabel=function(t,e){var i=e.shape.getBBox(),n=e.getData(),r=n[c.VALUE_FIELD],o=n[this.layer.options.yField],a=u.isArray(r)?r[1]:r,s=(i.minY+i.maxY)/2,l="bottom";o<0?(s=i.maxY+2,l="top"):s=i.minY-2,t.attr("y",s),t.attr("text",a),t.attr("textBaseline",l)},l);function l(){return null!==n&&n.apply(this,arguments)||this}e.default=s,a.registerLabelComponent("waterfall",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0),d=i(104),n=i(8),r=(o.prototype.draw=function(){var u,c,h=this;this.view&&!this.view.destroyed&&(u=f.clone(this.view.getData()),this.container=this.view.foregroundGroup.addGroup(),c=this.view.geometries[0].elements.map(function(t){return t.shape}),f.each(c,function(t,e){var i,n,r,o,a,s,l;t.cfg.origin&&(i=t.cfg.origin.data,n=t.getBBox(),o=r=i[d.VALUE_FIELD],f.isArray(r)&&(o=r[1]-r[0]),o=0<o?"+"+o:o,i[d.IS_TOTAL]&&(o=r[0]-r[1]),s=o,h.formatter&&(a=c[e].attr("fill"),s=h.formatter(""+o,{_origin:u[e],color:a},e)),(l=h.container.addShape("text",{attrs:p.__assign({text:s,textBaseline:"middle",textAlign:"center",x:(n.minX+n.maxX)/2,y:(n.minY+n.maxY)/2},h.textAttrs),name:"dill-label"})).getBBox().height>n.height&&l.set("visible",!1))}),this.view.getCanvas().draw())},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype._init=function(){var t=this;this.view.on(n.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.clear()}),this.view.on(n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.draw()})},o);function o(t){this.textAttrs={},this.view=t.view,this.fields=t.fields,this.formatter=t.formatter,this.textAttrs=f.mix({fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"},t.style),this._init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(173)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="scatter",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(1),c=i(0),y=u.__importDefault(i(13)),n=(r.prototype.init=function(){var t,e,i,n,r,o,a,s,l,u,c=this.options,h=c.xBaseline,p=c.yBaseline,f=this.view.getCoordinate(),d=this.view.getScaleByField(this.options.plotOptions.xField),g=this.view.getScaleByField(this.options.plotOptions.yField);h>d.min&&h<d.max?(t=(h-d.min)/(d.max-d.min),e=[new y.default(f.start.x,f.end.y,f.getWidth()*t,f.getHeight()),new y.default(f.start.x+f.getWidth()*t,f.end.y,f.getWidth()*(1-t),f.getHeight())],i={start:{x:f.start.x+f.getWidth()*t,y:f.end.y},end:{x:f.start.x+f.getWidth()*t,y:f.start.y}},this.lineData.push(i)):e=[new y.default(f.start.x,f.end.y,f.getWidth(),f.getHeight())],p>g.min&&p<g.max?(t=(p-g.min)/(g.max-g.min),n={start:{x:f.start.x,y:f.start.y-f.getHeight()*t},end:{x:f.end.x,y:f.start.y-f.getHeight()*t}},this.lineData.push(n),r={name:h<=d.min?"top-right":"top-left",bbox:new y.default(e[0].minX,e[0].minY,e[0].width,e[0].height*(1-t)),index:h<=d.min?2:0},this.regionData.push(r),o={name:h<=d.min?"bottom-right":"bottom-left",bbox:new y.default(e[0].minX,e[0].minY+e[0].height*(1-t),e[0].width,e[0].height*t),index:h<=d.min?3:1},this.regionData.push(o),1<e.length&&(a={name:"top-right",bbox:new y.default(e[1].minX,e[1].minY,e[1].width,e[1].height*(1-t)),index:2},this.regionData.push(a),s={name:"bottom-right",bbox:new y.default(e[1].minX,e[1].minY+e[1].height*(1-t),e[1].width,e[1].height*t),index:3},this.regionData.push(s))):2===e.length?p<=g.min?(l={name:"top-left",bbox:e[0],index:0},this.regionData.push(l),a={name:"top-right",bbox:e[1],index:2},this.regionData.push(a)):(u={name:"bottom-left",bbox:e[0],index:1},this.regionData.push(u),s={name:"bottom-right",bbox:e[1],index:3},this.regionData.push(s)):h<=d.min?p<=g.min?(a={name:"top-right",bbox:e[0],index:2},this.regionData.push(a)):(s={name:"bottom-right",bbox:e[0],index:3},this.regionData.push(s)):p<=g.min?(l={name:"top-left",bbox:e[0],index:0},this.regionData.push(l)):(u={name:"bottom-left",bbox:e[0],index:1},this.regionData.push(u)),this.container=this.view.backgroundGroup.addGroup()},r.prototype.render=function(){var a,s,e,l=this;0<this.regionData.length&&(a=this.getDefaultStyle(),s=this.getRegionStyle(this.regionData),c.each(this.regionData,function(t){var e,i,n=t.index,r=l.container.addGroup(),o=r.addShape("rect",{attrs:u.__assign({x:t.bbox.minX,y:t.bbox.minY,width:t.bbox.width,height:t.bbox.height},s[n]),name:"quadrant"});l.options.label&&l.options.label.text&&(e=c.deepMix({},a.label,l.options.label),i=l.getLabelConfig(t,e),r.addShape("text",{attrs:u.__assign({},i),name:"quadrant-label"})),o.set("data",t),l.quadrantGroups.push(r)}),e=c.deepMix({},a.line,this.options.lineStyle),c.each(this.lineData,function(t){l.container.addShape("path",{attrs:u.__assign({path:[["M",t.start.x,t.start.y],["L",t.end.x,t.end.y]]},e),name:"quadrant-line"})}),this.view.canvas.draw())},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},r.prototype.getRegionStyle=function(t){var i,n=this.getDefaultStyle().regionStyle;return this.options.regionStyle&&(i=this.options.regionStyle,c.isArray(i)?n=n.map(function(t,e){return i.length>e&&i[e]?i[e]:t}):c.isFunction(i)&&c.each(t,function(t,e){n[e]=i(t)})),n},r.prototype.getLabelConfig=function(t,e){var i=t.index,n=0,r=0,o={},a=e.text;c.isFunction(a)?a=a(t):c.isArray(a)&&(a=a[i]);var s=e.position.split("-"),l=t.name.split("-");return"left"===l[1]?("inner"===s[0]&&(n=t.bbox.maxX-e.offset,o.textAlign="right"),"outter"===s[0]&&(n=t.bbox.minX+e.offset,o.textAlign="left")):"right"===l[1]&&("inner"===s[0]&&(n=t.bbox.minX+e.offset,o.textAlign="left"),"outter"===s[0]&&(n=t.bbox.maxX-e.offset,o.textAlign="right")),"top"===l[0]?("inner"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom"),"outter"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top")):"bottom"===l[0]&&("inner"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top"),"outter"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom")),(o=c.deepMix({},e.style,o)).lineHeight=o.fontSize,u.__assign({x:n,y:r,text:a},o)},r);function r(t){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=t,this.view=this.options.view,this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),y=i(0),f=i(21),n=i(475),d=i(90),o={exp:n.regressionExp,linear:n.regressionLinear,loess:n.regressionLoess,log:n.regressionLog,poly:n.regressionPoly,pow:n.regressionPow,quad:n.regressionQuad},r=(a.prototype.init=function(){var t=this.options.plotOptions,e=t.xField,i=t.yField,n=t.data,r=o[this.options.type]().x(function(t){return t[e]}).y(function(t){return t[i]});this.data=this.processData(r(n)),this.container=this.view.backgroundGroup.addGroup()},a.prototype.render=function(){var t,e=this.view.getScaleByField(this.options.plotOptions.xField),i=this.view.getScaleByField(this.options.plotOptions.yField),n=this.view.getCoordinate(),r=this.data.trendlineData,o=f.getScale("linear"),a=this.adjustScale(e,r,"x"),s=new o({min:a.min,max:a.max}),l=this.adjustScale(i,r,"y"),u=new o({min:l.min,max:l.max});this.options.showConfidence&&(t=this.getConfidencePath(s,u,n),this.container.addShape("path",{attrs:p.__assign({path:t},this.options.confidenceStyle),name:"confidence"}));var c=this.getTrendlinePoints(s,u,n),h=d.getSplinePath(c,!1,[[0,0],[1,1]]);this.shape=this.container.addShape("path",{attrs:p.__assign({path:h},this.options.style),name:"trendline"})},a.prototype.clear=function(){this.container&&this.container.clear()},a.prototype.destroy=function(){this.container&&this.container.destroy()},a.prototype.processData=function(r){var o=[],a=[];return y.each(r,function(t){o.push({x:t[0],y:t[1]});var e,i,n=(e=r.rSquared,i=t[1],1.96*Math.sqrt(e*(1-e)/i));a.push({x:t[0],y0:t[1]-n,y1:t[1]+n})}),{trendlineData:o,confidenceData:a}},a.prototype.getTrendlinePoints=function(o,a,s){var l=[];return y.each(this.data.trendlineData,function(t){var e=o.scale(t.x),i=a.scale(t.y),n=s.start.x+s.width*e,r=s.start.y-s.height*i;l.push({x:n,y:r})}),l},a.prototype.getConfidencePath=function(s,l,u){var c=[],h=[],t=[];y.each(this.data.confidenceData,function(t){var e=s.scale(t.x),i=l.scale(t.y0),n=l.scale(t.y1),r=u.start.x+u.width*e,o=u.start.y-u.height*i,a=u.start.y-u.height*n;c.push({x:r,y:o}),h.push({x:r,y:a})});for(var e=0;e<c.length;e++){var i=0===e?"M":"L",n=c[e];isNaN(n.x)||isNaN(n.y)||t.push([i,n.x,n.y])}for(var r=h.length-1;0<r;r--)n=h[r],isNaN(n.x)||isNaN(n.y)||t.push(["L",n.x,n.y]);return t},a.prototype.adjustScale=function(t,e,i){var n=t.min,r=t.max,o=this.options.plotOptions,a=o.data,s=o.xField,l=o.yField,u="x"===i?s:l,c=y.minBy(a,u)[u],h=y.maxBy(a,u)[u],p=(n-c)/(h-c),f=(r-h)/(h-c),d=y.minBy(e,i)[i],g=y.maxBy(e,i)[i];return{min:d+p*(g-d),max:g+f*(g-d)}},a);function a(t){this.options=y.deepMix({},{type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}},t),this.view=this.options.view,this.init()}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("scatter",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000"}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(422)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bubble",n.prototype.createLayers.call(this,e)},u.prototype.getSizeScale=function(){return this.layers[0].getSizeScale()},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=i(6),a=n.__importStar(i(174)),s=n.__importDefault(i(173));i(423),i(425);var l,u=(l=s.default,n.__extends(c,l),c.getDefaultOptions=function(){return r.deepMix({},l.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},c.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},c.prototype.legend=function(){var t;l.prototype.legend.call(this),this.options.legend&&!1===this.options.legend.visible||this.setConfig("legends",((t={})[this.options.sizeField]=!1,t))},c.prototype.parseEvents=function(){l.prototype.parseEvents.call(this,a)},c);function c(){var t=null!==l&&l.apply(this,arguments)||this;return t.type="bubble",t}e.default=u,o.registerPlotType("bubble",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(35),r=i(424);n.registerShape("point","bubble-point",{draw:function(t,e){var i,n=r.drawPoints(this,t,e,"circle",!1);return t.style.stroke||(i=n.attr("fill"),n.attr("stroke",i)),n},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawPoints=e.HOLLOW_SHAPES=e.SHAPES=void 0;var p=i(2),f=i(129),d=i(103);e.SHAPES=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],e.HOLLOW_SHAPES=["cross","tick","plus","hyphen","line"],e.drawPoints=function(t,e,i,n,r){var o=d.getStyle(e,r,!r,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(1<a.length){for(var l=i.addGroup(),u=0,c=a;u<c.length;u++){var h=c[u];l.addShape({type:"marker",attrs:p.__assign(p.__assign(p.__assign({},o),{symbol:f.MarkerSymbols[n]||n}),h)})}return l}return i.addShape({type:"marker",attrs:p.__assign(p.__assign(p.__assign({},o),{symbol:f.MarkerSymbols[n]||n}),s)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("bubble",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000",fillOpacity:t.fillOpacity||t.opacity||.95}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(427)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="bullet",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Y_FIELD=e.X_FIELD=e.STACK_FIELD=void 0;var r=i(1),n=i(0),o=r.__importStar(i(428)),a=r.__importDefault(i(15)),s=i(27),l=i(26),u=i(17),c=i(6),h=r.__importDefault(i(429)),p=r.__importDefault(i(430));i(431);var f={bullet:"interval"},d={interval:"bullet"};e.STACK_FIELD="$$stackField$$",e.X_FIELD="$$xField$$",e.Y_FIELD="$$yField$$";var g,y=(g=a.default,r.__extends(v,g),v.getDefaultOptions=function(){return n.deepMix({},g.getDefaultOptions.call(this),{data:[],stackField:e.STACK_FIELD,xField:e.X_FIELD,yField:e.Y_FIELD,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},v.prototype.afterRender=function(){g.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},v.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},n.has(t,"yAxis")&&s.extractScale(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},n.has(t,"xAxis")&&s.extractScale(e[t.xField],t.xAxis),this.setConfig("scales",e),g.prototype.scale.call(this)},v.prototype.getOptions=function(t){var e=g.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},v.prototype.afterInit=function(){g.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(t){return t.ranges}),i=t.data.map(function(t){return t.targets});this.bulletRect=new h.default(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new p.default(this.view,{targets:i,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},v.prototype.geometryParser=function(t,e){return"g2"===t?f[e]:d[e]},v.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},v.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,i=[{name:"",value:"",marker:{symbol:"square",style:{fill:(t.measureColors||this.theme.colors)[0]}}},{name:"",value:"",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],n=r.__assign({custom:!0,position:"bottom",items:i},t.legend);this.setConfig("legends",n)},v.prototype.addGeometry=function(){var t=this.options,e=u.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},v.prototype.parseEvents=function(){g.prototype.parseEvents.call(this,o)},v.prototype.extractLabel=function(){var t=this.options,e=n.deepMix({},t.label);return!1!==e.visible&&l.getComponent("label",r.__assign({plot:this,labelType:"barLabel",fields:[t.yField]},e))},v.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},v.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(t){return e.push(t.measures.reduce(function(t,e){return t+e},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},v.prototype.processData=function(t){var a=this.options,s=[];return t.forEach(function(t,e){for(var i,n=0;n<t.measures.length;n+=1){var r=t.measures[n],o=t.title||""+e;s.push(((i={})[a.xField]=o,i[a.yField]=r,i[a.stackField]=""+n,i))}}),s},v);function v(){var t=null!==g&&g.apply(this,arguments)||this;return t.type="bullet",t}e.default=y,c.registerPlotType("bullet",y)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({bullet:"interval",bulletTarget:"bullet-target"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=i(1),f=i(0),h=p.__importDefault(i(13)),n=(r.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var t=this.getGeometry(),e=f.map(null==t?void 0:t.elements,function(t){return t.shape}),i=0;i<this.cfg.ranges.length;i+=1){var n=e[i].getBBox(),r=n.width/e[i].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[i]||[0,1],r)}this.view.canvas.draw()}},r.prototype.drawRect=function(t,e,i){for(var n,r,o=this.cfg,a=o.rangeColors,s=t.minX,l=t.minY-t.height*(o.rangeSize-1)/2,u=1;u<e.length;u+=1){var c=(e[u]-e[u-1])*o.rangeMax*i;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:c,height:t.height*o.rangeSize,x:s,y:l,fill:a[(u-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),s+=c}o.axis&&o.axis.visible&&(n=o.rangeMax/(o.axis.tickCount-1),r=new h.default(t.x,l,s,t.height*o.rangeSize),this.drawBulletTicks(r,n,i))},r.prototype.drawBulletTicks=function(t,e,i){for(var n=this.cfg,r=n.axis.style,o=n.axis.tickCount,a=n.axis.position,s=f.get(r,"lineHeight",0)-r.fontSize/2,l=0;l<o;l+=1){var u,c=t.minX+e*l*i,h=""+e*l;n.axis.formatter&&(h=n.axis.formatter(h,l)),this.container.addShape("text",{name:"tick",attrs:p.__assign({x:c,y:"before"===a?t.minY-s:t.maxY+s,text:""+h},r)}),n.axis.tickLine&&n.axis.tickLine.visible&&(u=n.axis.tickLine,0<l&&l!==o-1&&this.container.addShape("path",{attrs:p.__assign({path:[["M",c,t.minY],["L",c,t.maxY]]},u)}).set("zIndex",-1))}},r.prototype.clear=function(){this.container&&this.container.clear()},r.prototype.destroy=function(){this.container&&this.container.remove()},r.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},r.prototype.getGeometry=function(){return f.find(this.view.geometries,function(t){return"interval"===t.type})},r);function r(t,e){this.view=t,this.cfg=e,this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),r=i(0),n=(o.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var t=r.map(this.getGeometry().elements,function(t){return t.shape}),e=0;e<this.cfg.targets.length;e+=1){var i=t[e].getBBox(),n=i.width/t[e].get("origin").data[this.cfg.yField];this.drawTarget(i,this.cfg.targets[e],n)}this.view.canvas.draw()}},o.prototype.drawTarget=function(n,t,r){var o=this,a=this.cfg,s=a.markerColors;t.forEach(function(t,e){var i=a.markerStyle;o.container.addShape("rect",{name:"bullet-target",attrs:l.__assign(l.__assign({width:i.width,height:n.height*a.markerSize-i.width/2,x:n.minX+t*r,y:n.minY-n.height*(a.markerSize-1)/2},i),{fill:s[e%s.length]||i.fill})})})},o.prototype.clear=function(){this.container&&this.container.clear()},o.prototype.destroy=function(){this.container&&this.container.remove()},o.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},o.prototype.getGeometry=function(){return r.find(this.view.geometries,function(t){return"interval"===t.type})},o);function o(t,e){this.view=t,this.cfg=e,this._init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(11).registerTheme("bullet",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1),lineWidth:0}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(0),o=n.__importDefault(i(4)),a=n.__importDefault(i(433));i(436);var s,l=(s=o.default,n.__extends(u,s),u.prototype.createLayers=function(t){var e=r.deepMix({},t);e.type="calendar",s.prototype.createLayers.call(this,e)},u.getDefaultOptions=a.default.getDefaultOptions,u);function u(){return null!==s&&s.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p,n=i(1),f=i(0),r=n.__importDefault(i(36)),o=n.__importDefault(i(15)),d=i(71),g=i(434),a=i(6),s=i(105),l=i(26),u=n.__importStar(i(435)),c=(p=o.default,n.__extends(h,p),h.getDefaultOptions=function(){var t;return f.deepMix({},p.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:((t={})[d.DAY_FIELD]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[d.WEEK_FIELD]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},h.prototype.processData=function(t){var e,i=this.options.dateField,n=this.options.dateRange;return f.isNil(n)&&(e=f.map(t,function(t){return r.default.parse(""+t[i],d.FORMATTER)}),n=s.getDateRange(e)),g.generateCalendarData(t,n,i)},h.prototype.addGeometry=function(){var t=this.options,e=t.valueField,i=t.colors,n=t.tooltip,r={type:"polygon",position:{fields:[d.WEEK_FIELD,d.DAY_FIELD]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:i},label:this.extractLabel()};n&&(n.fields||n.formatter)&&this.geometryTooltip(r),this.setConfig("geometry",r)},h.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[d.WEEK_FIELD,d.DAY_FIELD]))},h.prototype.extractLabel=function(){var t=this.options.label;if(t&&!1===t.visible)return!1;var e=this.options.valueField;return l.getComponent("label",n.__assign({plot:this,fields:[e],position:"top",offset:0},t))},h.prototype.coord=function(){this.setConfig("coordinate",{type:"rect",cfg:{},actions:[["reflect","y"]]})},h.prototype.geometryParser=function(){return""},h.prototype.axis=function(){var t=l.getComponent("axis",{plot:this,dim:"x"}),e=l.getComponent("axis",{plot:this,dim:"y"}),i={};i[d.WEEK_FIELD]=t,i[d.DAY_FIELD]=e,this.setConfig("axes",i)},h.prototype.scale=function(){p.prototype.scale.call(this);var i=g.getMonthCenterWeek(this.options.dateRange),t=this.config.scales,e=this.options,n=e.weeks,r=void 0===n?d.WEEKS:n,o=e.months,a=void 0===o?d.MONTHS:o,s=t[d.WEEK_FIELD],l=t[d.DAY_FIELD];s.formatter=function(t){var e=i[t];return void 0!==e?a[e]:""},l.formatter=function(t){return r[t]||""};var u=this.options,c=u.xAxis,h=u.yAxis;s.alias=f.get(c,["title","text"],s.alias),l.alias=f.get(h,["title","text"],l.alias),this.setConfig("scales",t)},h.prototype.parseEvents=function(){p.prototype.parseEvents.call(this,u)},h);function h(){var t=null!==p&&p.apply(this,arguments)||this;return t.type="calendar",t}e.default=c,a.registerPlotType("calendar",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMonthCenterWeek=e.generateCalendarData=void 0;var u=i(1),c=u.__importDefault(i(36)),h=i(0),p=i(71),f=i(105);function d(t){var e,i=t[0],n=t[1],r=c.default.parse(i,p.FORMATTER),o=c.default.parse(n,p.FORMATTER);return o<r&&(o=(e=[r,o])[0],r=e[1]),[r,o]}e.generateCalendarData=function(n,t,r){for(var o=[],e=d(t),i=e[0],a=e[1],s=new Date(i),l=function(){var t,e=c.default.format(s,p.FORMATTER),i=h.find(n,function(t){return t[r]===e});o.push(u.__assign(((t={})[p.DAY_FIELD]=f.getDay(s),t[p.WEEK_FIELD]=""+f.getWeek(s),t[r]=e,t[p.DATE_FIELD]=new Date(s),t),i)),f.advanceBy(s,f.DAY_MS)};s<=a;)l();return o},e.getMonthCenterWeek=function(t){var e=d(t),i=e[0],n=e[1],r=new Map;function o(t){var e=t.getMonth(),i=f.getWeek(t);r.has(e)||r.set(e,[]),r.get(e).push(i)}for(var a=new Date(i);a<=n;)o(a),f.advanceBy(a,7*f.DAY_MS);n<a&&o(n);var s={};return r.forEach(function(t,e){var i=Math.ceil((h.head(t)+h.last(t))/2);s[i]=e}),s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({rect:"polygon"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),u=i(0),n=i(35),c=i(71),h=i(105);n.registerShape("polygon","calendar-polygon",{draw:function(t,e){if(!u.isEmpty(t.points)){var i,n=t.points,r=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["L",n[3].x,n[3].y],["Z"]],r=this.parsePath(r),o=l.__assign(l.__assign({stroke:"#fff",lineWidth:1,fill:t.color},t.style),{path:r}),a=e.addShape("path",{attrs:o}),s=t.data[c.DATE_FIELD];return h.isLastWeekOfMonth(s)&&(i=[["M",n[2].x,n[2].y],["L",n[3].x,n[3].y]],e.addShape("path",{zIndex:1,attrs:{path:this.parsePath(i),lineWidth:1,stroke:"#404040"}}),h.isLastDayOfMonth(s)&&e.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",n[1].x,n[1].y],["L",n[2].x,n[2].y]]),lineWidth:1,stroke:"#404040"}})),e.sort(),a}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(106)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="gauge",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({range:"point",statistic:"annotation-text"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(440)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="fanGauge",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),a=i(0),o=i(6),s=r.__importDefault(i(106)),l=i(175),u=(n=s.default,r.__extends(c,n),c.getDefaultOptions=function(){return a.deepMix({},n.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},c.prototype.initG2Shape=function(){this.gaugeShape=new l.GaugeShape(a.uniqueId()),this.gaugeShape.setOption(this.type,a.deepMix({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},c.prototype.axis=function(){this.setConfig("axes",{value:!1,1:!1})},c.prototype.annotation=function(){var t,e=this.options.statistic,i=[];e&&e.visible&&(t=this.renderStatistic(),i.push(t));var n=this.renderSideText(),r=i.concat(n);this.setConfig("annotations",r)},c.prototype.renderSideText=function(){var t=this.options,e=t.max,i=t.min,n=t.format,r=t.rangeSize,o=t.axis;return[i,e].map(function(t,e){return{type:"text",top:!0,position:["50%","50%"],content:n(t),style:a.deepMix({},o.label.style,{textAlign:"center"}),offsetX:e?r:-r,offsetY:12}})},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="fanGauge",t}e.default=u,o.registerPlotType("fanGauge",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(442)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="meterGauge",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=(n=r.__importDefault(i(106)).default,r.__extends(l,n),l.getDefaultOptions=function(){return o.deepMix({},n.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="meterGauge",t}e.default=s,a.registerPlotType("meterGauge",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(444);Object.defineProperty(e,"Ring",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"RingConfig",{enumerable:!0,get:function(){return n.RingConfig}});var r=i(445);Object.defineProperty(e,"GroupColumn",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"GroupColumnConfig",{enumerable:!0,get:function(){return r.GroupColumnConfig}});var o=i(446);Object.defineProperty(e,"GroupBar",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"GroupBarConfig",{enumerable:!0,get:function(){return o.GroupBarConfig}});var a=i(447);Object.defineProperty(e,"PercentageStackArea",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PercentageStackAreaConfig",{enumerable:!0,get:function(){return a.PercentageStackAreaConfig}});var s=i(448);Object.defineProperty(e,"PercentageStackBar",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"PercentageStackBarConfig",{enumerable:!0,get:function(){return s.PercentageStackBarConfig}});var l=i(449);Object.defineProperty(e,"PercentageStackColumn",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"PercentageStackColumnConfig",{enumerable:!0,get:function(){return l.PercentageStackColumnConfig}});var u=i(450);Object.defineProperty(e,"StackArea",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"StackAreaConfig",{enumerable:!0,get:function(){return u.StackAreaConfig}});var c=i(451);Object.defineProperty(e,"StackBar",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"StackBarConfig",{enumerable:!0,get:function(){return c.StackBarConfig}});var h=i(452);Object.defineProperty(e,"StackColumn",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"StackColumnConfig",{enumerable:!0,get:function(){return h.StackColumnConfig}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(172)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="donut",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(100)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(161)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(166)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedArea",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(162)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(170)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="percentStackedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(98)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedArea",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(95)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedBar",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(33)),l=r.__importDefault(i(69)),u=(n=a.default,r.__extends(c,n),c.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedColumn",n.prototype.createLayers.call(this,e),s.default(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},c.getDefaultOptions=l.default.getDefaultOptions,c);function c(){return null!==n&&n.apply(this,arguments)||this}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(176)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="progress",n.prototype.createLayers.call(this,e)},u.prototype.update=function(t,e){this.layers[0].update(t,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),s=i(0),n=(o.prototype.destroy=function(){this.shape&&this.shape.destroy()},o.prototype.update=function(t,e,i){var n,r,o,a={};s.assign(this,t),this.coord=this.view.geometries[0].coordinate,t.value&&(n=[1,0,0,0,1,0,this.coord.convert({x:0,y:this.value}).x,0,1],a.matrix=n),t.style&&(r=this.shape.attrs,o=s.deepMix({},r,t.style),a=s.deepMix({},o,a)),this.shape.stopAnimate(),this.shape.animate(a,e,i)},o.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var t=this.coord.convert({x:0,y:this.value}).x,e=this.coord.center.y-this.progressSize/2-2,i=this.coord.center.y+this.progressSize/2+2,n=s.deepMix({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:r.__assign({path:[["M",0,e],["L",0,i]]},n),name:"progress-marker"}),this.shape.move(t,0),this.canvas.draw()},o);function o(t){s.assign(this,t),this.init()}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({progress:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(457)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="ringProgress",n.prototype.createLayers.call(this,e)},u.prototype.update=function(t){this.layers[0].update(t)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=i(17),l=r.__importDefault(i(176)),u=r.__importStar(i(458)),c=["#55A6F3","#E8EDF3"],h=(n=l.default,r.__extends(p,n),p.prototype.processProps=function(){(e=this.options).data=this.processData();var t={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:e.progressStyle,color:this.parseColorProps(e)||c},e=o.mix(e,t)},p.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},p.prototype.annotation=function(){},p.prototype.addGeometry=function(){var t=this.options;this.ring=s.getGeom("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},p.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},p.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,u)},p.prototype.getThickness=function(t){var e=this.width,i=this.height,n=Math.min(e,i);return t?1-t/n:60<=n?1-20/n:1-10/n},p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="ringProgrsss",t}e.default=h,a.registerPlotType("ringProgress",h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}});var o=r.getEventMap({ringProgress:"interval"});n.assign(r.EVENT_MAP,o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(460)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyColumn",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=i(6),s=i(17),l=r.__importDefault(i(58)),u=r.__importStar(i(461)),c={column:"interval"},h={interval:"column"},p=(n=l.default,r.__extends(f,n),f.prototype.init=function(){this.processProps(),n.prototype.init.call(this)},f.prototype.geometryParser=function(t,e){return"g2"===t?c[e]:h[e]},f.prototype.scale=function(){var t={};t[this.options.xField]={type:"cat"},this.setConfig("scales",t)},f.prototype.addGeometry=function(){var t=this.options,e=s.getGeom("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},f.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,u)},f.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=o.mix(this.options,t)},f.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField);return this.width/e*.6},f.prototype.getColumnNum=function(t,i){var n=[];return o.each(t,function(t){var e=t[i];n.indexOf(e)<0&&n.push(e)}),n.length},f);function f(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyColumn",t}e.default=p,a.registerPlotType("tinyColumn",p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}}),n.assign(r.EVENT_MAP,{onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(463)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyArea",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(6),a=i(17),s=r.__importDefault(i(58)),l=r.__importStar(i(464)),u={area:"area",line:"line"},c=(n=s.default,r.__extends(h,n),h.prototype.geometryParser=function(t,e){return u[e]},h.prototype.addGeometry=function(){this.area=a.getGeom("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=a.getGeom("line","mini",{plot:this}),this.setConfig("geometry",this.line)},h.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyArea",t}e.default=c,o.registerPlotType("tinyArea",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}}),n.assign(r.EVENT_MAP,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(466)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="tinyLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(6),a=i(17),s=r.__importDefault(i(58)),l=r.__importStar(i(467)),u={line:"line"},c=(n=s.default,r.__extends(h,n),h.prototype.geometryParser=function(t,e){return u[e]},h.prototype.addGeometry=function(){this.line=a.getGeom("line","mini",{plot:this}),this.setConfig("geometry",this.line)},h.prototype.parseEvents=function(){n.prototype.parseEvents.call(this,l)},h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="tinyLine",t}e.default=c,o.registerPlotType("tinyLine",c)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onEvent=e.EVENT_MAP=void 0;var n=i(0),r=i(12);Object.defineProperty(e,"EVENT_MAP",{enumerable:!0,get:function(){return r.EVENT_MAP}}),Object.defineProperty(e,"onEvent",{enumerable:!0,get:function(){return r.onEvent}}),n.assign(r.EVENT_MAP,{onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(469)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="dualLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f,d=i(1),c=i(16),n=i(6),r=d.__importDefault(i(177)),g=d.__importDefault(i(66)),y=i(0),o={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},a={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},s=(f=r.default,d.__extends(l,f),l.getDefaultOptions=function(){return y.deepMix({},f.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:a,rightConfig:a},lineConfigs:[y.deepMix({},o,{color:"#5B8FF9"}),y.deepMix({},o,{color:"#e76c5e"})]})},l.prototype.init=function(){var t,e,i,n,r,o,a,s,l,u,c,h,p=this;f.prototype.init.call(this),this.checkData()&&(e=(t=this.options).data,i=t.meta,n=t.xField,r=t.yField,o=t.xAxis,a=t.tooltip,s=t.lineConfigs,l=t.legend,u=t.events,this.colors=[s[0].color,s[1].color],c=this.getYAxisGlobalConfig(),this.createLayer(g.default,e[0],d.__assign({meta:i,xField:n,yField:r[0],xAxis:{visible:!1},yAxis:y.deepMix({},c,this.yAxis(0),{grid:{visible:!1},nice:!0}),tooltip:{visible:!1},events:u},s[0])).render(),(h={})[r[1]]={ticks:this.getTicks()},this.createLayer(g.default,e[1],d.__assign({xField:n,yField:r[1],meta:y.deepMix({},i,h),serieField:r[1],xAxis:o,yAxis:y.deepMix({},c,this.yAxis(1),{position:"right",nice:!1}),tooltip:y.deepMix({},a,{showMarkers:!1,custom:{onChange:function(t,e){p.tooltip(t,e)}}}),events:u},s[1])).render(),l.visible&&this.customLegend(),this.adjustLayout())},l.prototype.tooltip=function(t,n){var e,i,r,o,a;this.getUnCheckedValue().length!==this.colors.length?(t.style.display="block",i=(e=this.options).yField,r=e.legend,o=y.clone(n.items[0]),(a=this.getDataByXField(n.title,0)[0])&&n.items.push(d.__assign(d.__assign({},o),{mappingData:y.deepMix({},o.mappingData,{_origin:a}),data:a,name:i[0],value:a[i[0]],color:this.colors[0]})),r.visible&&y.each(this.legends,function(t,e){var i;t.get("items")[0].unchecked&&(i=0===e?1:0,n.items.splice(i,1))})):t.style.display="none"},l.prototype.customLegend=function(){var o=this,t=this.options,a=t.yField,e=t.legend,s=this.colors,l=this.container.addGroup(),u=e;y.each(this.geomLayers,function(t,e){var i=y.deepMix({},{symbol:"circle",style:{r:4,fill:s[e]}},u.marker),n=[{name:a[e],unchecked:!1,marker:i}],r=new c.Legend.Category({id:o.type,container:l,x:0,y:0,items:n,updateAutoRender:!0,itemBackground:null,itemName:u.text});r.init(),r.render(),o.legends.push(r)}),y.each(this.geomLayers,function(t,e){o.legendFilter(e)})},l);function l(){var t=null!==f&&f.apply(this,arguments)||this;return t.type="dualLine",t}e.default=s,n.registerPlotType("dualLine",s)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(107)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="columnLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(472)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="groupedColumnLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,c=i(1),r=i(6),f=i(0),o=c.__importDefault(i(107)),h=c.__importDefault(i(100)),d=i(11),a={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},s={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},l={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},u=(n=o.default,c.__extends(p,n),p.getDefaultOptions=function(){return f.deepMix({},n.getDefaultOptions.call(this),{yAxis:{leftConfig:f.deepMix({},l,{colorMapping:!1}),rightConfig:l},lineConfig:a,columnConfig:s,legend:{visible:!0}})},p.prototype.beforeInit=function(){var t,e,i,n,r,o,a,s,l,u=this.options,c=this.initialOptions,h=this.getValueByGroupField();u.lineSeriesField&&(u.yAxis.rightConfig.colorMapping=!1,null!==(t=c.lineConfig)&&void 0!==t&&t.lineSize||(u.lineConfig.lineSize=3),null===(e=c.lineConfig)||void 0===e||!e.color)&&(n=(i=d.getGlobalTheme()).colors,r=i.colors_20,o=this.getValueBySeriesField(),a=o.length>n.length?r:n,s=[],l=h.length,f.each(o,function(t,e){s.push(a[e+l])}),u.lineConfig.color=s);var p=this.options.columnConfig.color;this.options.columnConfig.color=p.slice(0,h.length)},p.prototype.drawColumn=function(){var i=this,t=this.options,e=t.data,n=t.xField,r=t.yField,o=t.columnGroupField,a=t.xAxis,s=t.tooltip,l=t.columnConfig,u=t.events;this.createLayer(h.default,e[0],c.__assign({xField:n,yField:r[0],groupField:o,xAxis:a,yAxis:f.deepMix({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:f.deepMix({},s,{showMarkers:!1,custom:{onChange:function(t,e){i.tooltip(t,e)}}}),events:u},l)).render()},p.prototype.customLegend=function(){var r=this,t=this.options,o=t.yField,e=t.legend,a=this.colors,s=this.container.addGroup(),l=e,u=["square","circle"];f.each(this.geomLayers,function(t,e){var i,n;n=t.options.seriesField?(i=r.getValueBySeriesField(),r.createNormalLegend(i,u[e],a[e],l,s)):t.options.groupField?(i=r.getValueByGroupField(),r.createNormalLegend(i,u[e],a[e],l,s)):r.createSingleLegend(o[e],u[e],a[e],l,s),r.legends.push(n)}),f.each(this.geomLayers,function(t,e){t.options.seriesField?r.multipleLegendFilter(e,t.options.seriesField):t.options.groupField?r.multipleLegendFilter(e,t.options.groupField):r.legendFilter(e)})},p.prototype.getValueByGroupField=function(){var t=this.options,i=t.columnGroupField,e=t.data[0],n=[];return f.each(e,function(t){var e=t[i];f.contains(n,e)||n.push(e)}),n},p.prototype.getMockData=function(t){var e=this.options,i=e.xField,n=e.yField,r=e.columnGroupField,o={};o[i]="null_1",o[n[t]]=0,o[r]="null_a";var a={};return a[i]="null_1",a[n[t]]=1,a[r]="null_a",[o,a]},p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}e.default=u,r.registerPlotType("groupedColumnLine",u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(1),o=i(0),a=r.__importDefault(i(4)),s=r.__importDefault(i(474)),l=(n=a.default,r.__extends(u,n),u.prototype.createLayers=function(t){var e=o.deepMix({},t);e.type="stackedColumnLine",n.prototype.createLayers.call(this,e)},u.getDefaultOptions=s.default.getDefaultOptions,u);function u(){return null!==n&&n.apply(this,arguments)||this}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,c=i(1),r=i(6),f=i(0),o=c.__importDefault(i(107)),h=c.__importDefault(i(69)),d=i(11),a={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},s={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},l={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},u=(n=o.default,c.__extends(p,n),p.getDefaultOptions=function(){return f.deepMix({},n.getDefaultOptions.call(this),{yAxis:{leftConfig:f.deepMix({},l,{colorMapping:!1}),rightConfig:l},lineConfig:a,columnConfig:s,legend:{visible:!0}})},p.prototype.beforeInit=function(){var t,e,i,n,r,o,a,s,l,u=this.getValueByStackField(),c=this.options,h=this.initialOptions;c.lineSeriesField&&(c.yAxis.rightConfig.colorMapping=!1,null!==(t=h.lineConfig)&&void 0!==t&&t.lineSize||(c.lineConfig.lineSize=3),null===(e=h.lineConfig)||void 0===e||!e.color)&&(n=(i=d.getGlobalTheme()).colors,r=i.colors_20,o=this.getValueBySeriesField(),a=o.length>n.length?r:n,s=[],l=u.length,f.each(o,function(t,e){s.push(a[e+l])}),c.lineConfig.color=s);var p=this.options.columnConfig.color;this.options.columnConfig.color=p.slice(0,u.length)},p.prototype.drawColumn=function(){var i=this,t=this.options,e=t.data,n=t.xField,r=t.yField,o=t.columnStackField,a=t.xAxis,s=t.tooltip,l=t.columnConfig,u=t.events;this.createLayer(h.default,e[0],c.__assign({xField:n,yField:r[0],stackField:o,xAxis:a,yAxis:f.deepMix({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:f.deepMix({},s,{showMarkers:!1,custom:{onChange:function(t,e){i.tooltip(t,e)}}}),events:u},l)).render()},p.prototype.customLegend=function(){var r=this,t=this.options,o=t.yField,e=t.legend,a=this.colors,s=this.container.addGroup(),l=e,u=["square","circle"];f.each(this.geomLayers,function(t,e){var i,n;n=t.options.seriesField?(i=r.getValueBySeriesField(),r.createNormalLegend(i,u[e],a[e],l,s)):t.options.stackField?(i=r.getValueByStackField(),r.createNormalLegend(i,u[e],a[e],l,s)):r.createSingleLegend(o[e],u[e],a[e],l,s),r.legends.push(n)}),f.each(this.geomLayers,function(t,e){t.options.seriesField?r.multipleLegendFilter(e,t.options.seriesField):t.options.stackField?r.multipleLegendFilter(e,t.options.stackField):r.legendFilter(e)})},p.prototype.getValueByStackField=function(){var t=this.options,i=t.columnStackField,e=t.data[0],n=[];return f.each(e,function(t){var e=t[i];f.contains(n,e)||n.push(e)}),n},p.prototype.getUnCheckedValue=function(){var i=[];return f.each(this.legends,function(t){var e=t.getItemsByState("unchecked");f.each(e,function(t){i.push(t.name)})}),i},p.prototype.getMockData=function(t){var e=this.options,i=e.xField,n=e.yField,r=e.columnStackField,o={};o[i]="null_1",o[n[t]]=0,o[r]="null_a";var a={};return a[i]="null_1",a[n[t]]=1,a[r]="null_a",[o,a]},p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}e.default=u,r.registerPlotType("stackedColumnLine",u)},function(t,e,i){"use strict";function Y(t,n,r,e){t=t.filter(function(t){var e=n(t),i=r(t);return null!=e&&isFinite(e)&&null!=i&&isFinite(i)}),e&&t.sort(function(t,e){return n(t)-n(e)});for(var i,o,a,s=t.length,l=new Float64Array(s),u=new Float64Array(s),c=0,h=0,p=0;p<s;)a=t[p],l[p]=i=+n(a),u[p]=o=+r(a),c+=(i-c)/++p,h+=(o-h)/p;for(var f=0;f<s;++f)l[f]-=c,u[f]-=h;return[l,u,c,h]}function L(t,e,i,n){for(var r=0,o=0,a=t.length;o<a;o++){var s=t[o],l=+e(s),u=+i(s);null!=l&&isFinite(l)&&null!=u&&isFinite(u)&&n(l,u,r++)}}function k(t,e,i,r,o){var a=0,s=0;return L(t,e,i,function(t,e){var i=e-o(t),n=e-r;a+=i*i,s+=n*n}),1-a/s}function f(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function I(t,e,i){for(var n=Math.log(e-t)*Math.LOG10E+1|0,c=+Math.pow(10,-n/2-1),r=[p(t),p(e)],h=0;o(r)&&h<1e4;);return r;function p(t){return[t,i(t)]}function o(t){h++;for(var e,i=t.length,n=!1,r=0;r<i-1;r++){var o=t[r],a=[((e=[o,t[r+1]])[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2],s=p(a[0]),l=f([o,a]),u=f([o,s]);Math.abs(l-u)>c&&(t.splice(r+1,0,s),n=!0)}return n}}function G(t,e,i,n){var r=n-t*t,o=Math.abs(r)<1e-24?0:(i-t*e)/r;return[e-o*t,o]}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.r(e),i.d(e,"regressionExp",function(){return n}),i.d(e,"regressionLinear",function(){return A}),i.d(e,"regressionLoess",function(){return o}),i.d(e,"regressionLog",function(){return a}),i.d(e,"regressionPoly",function(){return s}),i.d(e,"regressionPow",function(){return l}),i.d(e,"regressionQuad",function(){return E});var n=function(){var y,v=function(t){return t[0]},m=function(t){return t[1]};function e(t){var r=0,o=0,a=0,s=0,l=0,u=0,c=y?+y[0]:1/0,h=y?+y[1]:-1/0;L(t,v,m,function(t,e){var i=Math.log(e),n=t*e;o+=(e-o)/++r,s+=(n-s)/r,u+=(t*n-u)/r,a+=(e*i-a)/r,l+=(n*i-l)/r,y||(t<c&&(c=t),h<t&&(h=t))});function e(t){return f*Math.exp(d*t)}var i,n,p=(i=G(s/o,a/o,l/o,u/o),n=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(i,n)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(t,e):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],d=p[1],f=Math.exp(f),g=I(c,h,e);return g.a=f,g.b=d,g.predict=e,g.rSquared=k(t,v,m,o,e),g}return e.domain=function(t){return arguments.length?(y=t,e):y},e.x=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(m=t,e):m},e};function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var A=function(){var g,y=function(t){return t[0]},v=function(t){return t[1]};function e(t){var i=0,n=0,r=0,o=0,a=0,s=g?+g[0]:1/0,l=g?+g[1]:-1/0;L(t,y,v,function(t,e){n+=(t-n)/++i,r+=(e-r)/i,o+=(t*e-o)/i,a+=(t*t-a)/i,g||(t<s&&(s=t),l<t&&(l=t))});function e(t){return f*t+p}var u,c,h=(u=G(n,r,o,a),c=2,function(t){if(Array.isArray(t))return t}(u)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(u,c)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(t,e):void 0}}(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1],d=[[s,e(s)],[l,e(l)]];return d.a=f,d.b=p,d.predict=e,d.rSquared=k(t,y,v,r,e),d}return e.domain=function(t){return arguments.length?(g=t,e):g},e.x=function(t){return arguments.length?(y=t,e):y},e.y=function(t){return arguments.length?(v=t,e):v},e};function X(t){t.sort(function(t,e){return t-e});var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var o=function(){var F=function(t){return t[0]},R=function(t){return t[1]},N=.3;function e(t){for(var e,i=V(Y(t,F,R,!0),4),n=i[0],r=i[1],o=i[2],a=i[3],s=n.length,l=Math.max(2,~~(N*s)),u=new Float64Array(s),c=new Float64Array(s),h=new Float64Array(s).fill(1),p=-1;++p<=2;){for(var f=[0,l-1],d=0;d<s;++d){for(var g=n[d],y=f[0],v=f[1],m=g-n[y]>n[v]-g?y:v,x=0,b=0,_=0,O=0,w=0,M=1/Math.abs(n[m]-g||1),C=y;C<=v;++C){var S=n[C],j=r[C],P=(e=1-(e=Math.abs(g-S)*M)*e*e)*e*e*h[C],T=S*P;x+=P,b+=T,_+=j*P,O+=j*T,w+=S*T}var A=V(G(b/x,_/x,O/x,w/x),2),E=A[0],L=A[1];u[d]=E+L*g,c[d]=Math.abs(r[d]-u[d]),z(n,d+1,f)}if(2===p)break;var k=X(c);if(Math.abs(k)<1e-12)break;for(var I,D,B=0;B<s;++B)I=c[B]/(6*k),h[B]=1<=I?1e-12:(D=1-I*I)*D}return function(t,e,i,n){for(var r,o=t.length,a=[],s=0,l=0,u=[];s<o;++s)r=t[s]+i,u[0]===r?u[1]+=(e[s]-u[1])/++l:(l=0,u[1]+=n,u=[r,e[s]],a.push(u));return u[1]+=n,a}(n,u,o,a)}return e.bandwidth=function(t){return arguments.length?(N=t,e):N},e.x=function(t){return arguments.length?(F=t,e):F},e.y=function(t){return arguments.length?(R=t,e):R},e};function z(t,e,i){var n=t[e],r=i[0],o=i[1]+1;if(!(o>=t.length))for(;r<e&&t[o]-n<=n-t[r];)i[0]=++r,i[1]=o,++o}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var a=function(){var g,y=function(t){return t[0]},v=function(t){return t[1]};function e(t){var n=0,r=0,o=0,a=0,s=0,l=g?+g[0]:1/0,u=g?+g[1]:-1/0;L(t,y,v,function(t,e){var i=Math.log(t);r+=(i-r)/++n,o+=(e-o)/n,a+=(i*e-a)/n,s+=(i*i-s)/n,g||(t<l&&(l=t),u<t&&(u=t))});function e(t){return f*Math.log(t)+p}var i,c,h=(i=G(r,o,a,s),c=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(i,c)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(t,e):void 0}}(i,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1],d=I(l,u,e);return d.a=f,d.b=p,d.predict=e,d.rSquared=k(t,y,v,o,e),d}return e.domain=function(t){return arguments.length?(g=t,e):g},e.x=function(t){return arguments.length?(y=t,e):y},e.y=function(t){return arguments.length?(v=t,e):v},e};function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var E=function(){var T,A=function(t){return t[0]},E=function(t){return t[1]};function e(t){for(var e,i,n,r,o,a=(r=Y(t,A,E),o=4,function(t){if(Array.isArray(t))return t}(r)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(r,o)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?D(t,e):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1],u=a[2],c=a[3],h=s.length,p=0,f=0,d=0,g=0,y=0,v=0;v<h;)e=s[v],i=l[v++],p+=((n=e*e)-p)/v,f+=(n*e-f)/v,d+=(n*n-d)/v,g+=(e*i-g)/v,y+=(n*i-y)/v;var m=0,x=0,b=T?+T[0]:1/0,_=T?+T[1]:-1/0;L(t,A,E,function(t,e){m+=(e-m)/++x,T||(t<b&&(b=t),_<t&&(_=t))});function O(t){return C*(t-=u)*t+S*t+j+c}var w=d-p*p,M=p*w-f*f,C=(y*p-g*f)/M,S=(g*w-y*f)/M,j=-C*p,P=I(b,_,O);return P.a=C,P.b=S-2*C*u,P.c=j-S*u+C*u*u+c,P.predict=O,P.rSquared=k(t,A,E,m,O),P}return e.domain=function(t){return arguments.length?(T=t,e):T},e.x=function(t){return arguments.length?(A=t,e):A},e.y=function(t){return arguments.length?(E=t,e):E},e};function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var s=function(){var S,j=function(t){return t[0]},P=function(t){return t[1]},T=3;function e(t){if(1===T){var e=A().x(j).y(P).domain(S)(t);return e.coefficients=[e.b,e.a],delete e.a,delete e.b,e}if(2===T){var i=E().x(j).y(P).domain(S)(t);return i.coefficients=[i.c,i.b,i.a],delete i.a,delete i.b,delete i.c,i}var n,r,o,a,s,l,u,c=(l=Y(t,j,P),u=4,function(t){if(Array.isArray(t))return t}(l)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(l,u)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?B(t,e):void 0}}(l,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=c[0],p=c[1],f=c[2],d=c[3],g=h.length,y=[],v=[],m=T+1,x=0,b=0,_=S?+S[0]:1/0,O=S?+S[1]:-1/0;for(L(t,j,P,function(t,e){x+=(e-x)/++b,S||(t<_&&(_=t),O<t&&(O=t))}),n=0;n<m;++n){for(a=o=0;o<g;++o)a+=Math.pow(h[o],n)*p[o];for(y.push(a),s=new Float64Array(m),r=0;r<m;++r){for(a=o=0;o<g;++o)a+=Math.pow(h[o],n+r);s[r]=a}v.push(s)}v.push(y);function w(t){t-=f;var e=d+M[0]+M[1]*t+M[2]*t*t;for(n=3;n<m;++n)e+=M[n]*Math.pow(t,n);return e}var M=function(t){for(var e,i,n,r,o=t.length-1,a=[],s=0;s<o;++s){for(e=(n=s)+1;e<o;++e)Math.abs(t[s][e])>Math.abs(t[s][n])&&(n=e);for(i=s;i<1+o;++i)r=t[i][s],t[i][s]=t[i][n],t[i][n]=r;for(e=s+1;e<o;++e)for(i=o;s<=i;i--)t[i][e]-=t[i][s]*t[s][e]/t[s][s]}for(e=o-1;0<=e;--e){for(r=0,i=e+1;i<o;++i)r+=t[i][e]*a[i];a[e]=(t[o][e]-r)/t[e][e]}return a}(v),C=I(_,O,w);return C.coefficients=function(t,e,i,n){for(var r,o,a,s=Array(t),l=0;l<t;++l)s[l]=0;for(l=t-1;0<=l;--l)for(o=e[l],a=1,s[l]+=o,r=1;r<=l;++r)a*=(l+1-r)/r,s[l-r]+=o*Math.pow(i,r)*a;return s[0]+=n,s}(m,M,-f,d),C.predict=w,C.rSquared=k(t,j,P,x,w),C}return e.domain=function(t){return arguments.length?(S=t,e):S},e.x=function(t){return arguments.length?(j=t,e):j},e.y=function(t){return arguments.length?(P=t,e):P},e.order=function(t){return arguments.length?(T=t,e):T},e};function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l=function(){var y,v=function(t){return t[0]},m=function(t){return t[1]};function e(t){var r=0,o=0,a=0,s=0,l=0,u=0,c=y?+y[0]:1/0,h=y?+y[1]:-1/0;L(t,v,m,function(t,e){var i=Math.log(t),n=Math.log(e);o+=(i-o)/++r,a+=(n-a)/r,s+=(i*n-s)/r,l+=(i*i-l)/r,u+=(e-u)/r,y||(t<c&&(c=t),h<t&&(h=t))});function e(t){return f*Math.pow(t,d)}var i,n,p=(i=G(o,a,s,l),n=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}}(i,n)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_(t,e):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],d=p[1],f=Math.exp(f),g=I(c,h,e);return g.a=f,g.b=d,g.predict=e,g.rSquared=k(t,v,m,u,e),g}return e.domain=function(t){return arguments.length?(y=t,e):y},e.x=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(m=t,e):m},e}},function(t,e,i){"use strict";i.r(e),i.d(e,"GM",function(){return m}),i.d(e,"Wheel",function(){return b});var n,r=i(1),o=i(22),a=(u.prototype.do=function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"touchcancel":this.onTouchCancel(t);break;default:return}},u.prototype.emit=function(t){this.gm.emit(this.EVENT,t)},u),s=(n=a,Object(r.__extends)(l,n),l.prototype.onTouchCancel=function(t){},l.prototype.onTouchEnd=function(t){},l.prototype.onTouchMove=function(t){var e=t.x,i=t.y,n=e-this.preX,r=i-this.preY;this.preX=e,this.preY=i,this.emit({x:e,y:i,deltaX:n,deltaY:r,event:t})},l.prototype.onTouchStart=function(t){var e=t.x,i=t.y;this.preX=e,this.preY=i},l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.EVENT="pan",t}function u(t){this.EVENT="gesture",this.gm=t}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h,p,f,d,g,y="object"===("undefined"==typeof performance?"undefined":c(performance))&&performance.now?performance:Date,v={Pan:s,Press:(g=a,Object(r.__extends)(C,g),C.prototype.onTouchCancel=function(t){this.clearTimeout()},C.prototype.onTouchEnd=function(t){this.clearTimeout()},C.prototype.onTouchMove=function(t){var e=t.x,i=t.y;(10<e-this.touchStartX||10<i-this.touchStartY)&&this.clearTimeout()},C.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var i=t.x,n=t.y;this.touchStartTime=y.now(),this.touchStartX=i,this.touchStartY=n,this.pressTimeout=window.setTimeout(function(){e.emit({x:i,y:n,event:t})},300)},C.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},C),Swipe:(d=a,Object(r.__extends)(M,d),M.prototype.onTouchCancel=function(t){},M.prototype.onTouchEnd=function(t){var e,i,n=this.speedX,r=this.speedY;y.now()-this.latestMoveTime<100&&(e=t.x,i=t.y,this.emit({x:e,y:i,speedX:n,speedY:r,event:t}))},M.prototype.onTouchMove=function(t){var e=t.x,i=t.y,n=y.now(),r=e-this.preX,o=i-this.preY,a=n-this.ms;this.speedX=r/a,this.speedY=o/a,this.latestMoveTime=n},M.prototype.onTouchStart=function(t){var e=t.x,i=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=i,this.ms=y.now()},M),Tap:(f=a,Object(r.__extends)(w,f),w.prototype.onTouchCancel=function(t){},w.prototype.onTouchEnd=function(t){var e=t.x,i=t.y;e-this.touchStartX<2&&i-this.touchStartY<2&&y.now()-this.touchStartTime<300&&this.emit({x:e,y:i,event:t})},w.prototype.onTouchMove=function(t){},w.prototype.onTouchStart=function(t){var e=t.x,i=t.y;this.touchStartTime=y.now(),this.touchStartX=e,this.touchStartY=i},w)},m=(p=o.default,Object(r.__extends)(O,p),O.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},O.prototype.initialGestures=function(){var e=this,t=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=t.map(function(t){return new v[t](e)})},O.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},O.prototype.preventEvent=function(t){var e=t.type;(this.options.prevents||[]).includes(e)&&t.preventDefault()},O.prototype.doGestures=function(e){this.gestures.forEach(function(t){t.do(e)})},O),x=i(50).a,b=(h=o.default,Object(r.__extends)(_,h),_.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},_.prototype.rafInertia=function(a){var s=this,l=a.speedX,u=a.speedY;this.raf=window.requestAnimationFrame(function(){var t,e,i,n,r=y.now(),o=(r-s.ms)/800;o<1&&(o=x(1-o),t=r-s.rafMs,e=l*o*t,i=u*o*t,n=s.getWrapperEvent(a,e,i),s.emit("wheel",n),s.rafMs=r,s.rafInertia(a))})},_.prototype.getWrapperEvent=function(t,e,i){return Object(r.__assign)(Object(r.__assign)({},t),{deltaX:-e,deltaY:-i})},_);function _(t){var r=h.call(this)||this;return r.rafMs=0,r.onPan=function(t){var e=t.deltaX,i=t.deltaY,n=r.getWrapperEvent(t,e,i);r.emit("wheel",n)},r.onSwipe=function(t){var e=t.speedX,i=t.speedY;r.rafMs=y.now(),r.ms=r.rafMs,0===e&&0===i||r.rafInertia(t)},r.element=t,r.gm=new m(t,{gestures:["Pan","Swipe"]}),r.gm.on("swipe",r.onSwipe),r.gm.on("pan",r.onPan),r}function O(t,e){void 0===e&&(e={});var i=p.call(this)||this;return i.onTouchStart=function(t){i.preventEvent(t),i.element.on("touchmove",i.onTouchMove),i.element.on("touchend",i.onTouchEnd),i.element.on("touchcancel",i.onTouchCancel),i.emit("touchdown",t),i.doGestures(t)},i.onTouchMove=function(t){i.preventEvent(t),i.emit("touchmove",t),i.doGestures(t)},i.onTouchEnd=function(t){i.preventEvent(t),i.emit("touchend",t),i.element.off("touchmove",i.onTouchMove),i.element.off("touchend",i.onTouchEnd),i.element.off("touchcancel",i.onTouchCancel),i.doGestures(t)},i.onTouchCancel=function(t){i.preventEvent(t),i.emit("touchcancel",t),i.element.off("touchmove",i.onTouchMove),i.element.off("touchend",i.onTouchEnd),i.element.off("touchcancel",i.onTouchCancel),i.doGestures(t)},i.element=t,i.options=e,i.initialGestures(),i.bindTouchStart(),i}function w(){var t=null!==f&&f.apply(this,arguments)||this;return t.EVENT="tap",t}function M(){var t=null!==d&&d.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}function C(){var t=null!==g&&g.apply(this,arguments)||this;return t.EVENT="press",t}}],r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=190);function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n});