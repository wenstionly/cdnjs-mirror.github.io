"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0}),require("redux");var turnOrder=require("./turn-order-d6c2e620.js");require("immer"),require("./reducer-76d3a4df.js"),require("./Debug-0ac3084e.js"),require("flatted"),require("./ai-1fb7bf89.js");var client=require("./client-2df039e1.js");require("./initialize-18a8be06.js");var React=_interopDefault(require("react")),PropTypes=_interopDefault(require("prop-types"));function Client(e){var t,i=e.game,n=e.numPlayers,s=e.board,l=e.multiplayer,a=e.enhancer,r=t=function(e){function r(e){var t;return turnOrder._classCallCheck(this,r),(t=turnOrder._possibleConstructorReturn(this,turnOrder._getPrototypeOf(r).call(this,e))).client=client.Client({game:i,numPlayers:n,multiplayer:l,gameID:e.gameID,playerID:e.playerID,credentials:e.credentials,debug:!1,enhancer:a}),t}return turnOrder._inherits(r,e),turnOrder._createClass(r,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.client.subscribe(function(){return e.forceUpdate()}),this.client.start()}},{key:"componentWillUnmount",value:function(){this.client.stop(),this.unsubscribe()}},{key:"componentDidUpdate",value:function(e){e.gameID!=this.props.gameID&&this.client.updateGameID(this.props.gameID),e.playerID!=this.props.playerID&&this.client.updatePlayerID(this.props.playerID),e.credentials!=this.props.credentials&&this.client.updateCredentials(this.props.credentials)}},{key:"render",value:function(){var e=null,t=this.client.getState(),r=this.props,i=r.gameID,n=r.playerID,a=turnOrder._objectWithoutProperties(r,["gameID","playerID"]);return s&&(e=React.createElement(s,turnOrder._objectSpread2({},t,{},a,{gameID:i,playerID:n,isMultiplayer:!!l,moves:this.client.moves,events:this.client.events,step:this.client.step,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,gameMetadata:this.client.gameMetadata}))),e}}]),r}(React.Component);return turnOrder._defineProperty(t,"propTypes",{gameID:PropTypes.string,playerID:PropTypes.string,credentials:PropTypes.string}),turnOrder._defineProperty(t,"defaultProps",{gameID:"default",playerID:null,credentials:null}),r}exports.Client=Client;