import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import{createContext,forwardRef,createElement,Component,Fragment}from"react";import createCache from"@emotion/cache";import{getRegisteredStyles,insertStyles}from"@emotion/utils";import{serializeStyles}from"@emotion/serialize";import{StyleSheet}from"@emotion/sheet";import css from"@emotion/css";export{default as css}from"@emotion/css";var isBrowser="undefined"!=typeof document,EmotionCacheContext=createContext("undefined"!=typeof HTMLElement?createCache():null),ThemeContext=createContext({}),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(e){return forwardRef(function(t,r){return createElement(EmotionCacheContext.Consumer,null,function(n){return e(t,n,r)})})};if(!isBrowser){var BasicProvider=function(e){function t(t,r,n){var s;return(s=e.call(this,t,r,n)||this).state={value:createCache()},s}return _inheritsLoose(t,e),t.prototype.render=function(){return createElement(EmotionCacheContext.Provider,this.state,this.props.children(this.state.value))},t}(Component);withEmotionCache=function(e){return function(t){return createElement(EmotionCacheContext.Consumer,null,function(r){return null===r?createElement(BasicProvider,null,function(r){return e(t,r)}):e(t,r)})}}}var sanitizeIdentifier=function(e){return e.replace(/\$/g,"-")},typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",labelPropName="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",hasOwnProperty=Object.prototype.hasOwnProperty,render=function(e,t,r,n){var s=null===r?t.css:t.css(r);"string"==typeof s&&void 0!==e.registered[s]&&(s=e.registered[s]);var o=t[typePropName],i=[s],a="";"string"==typeof t.className?a=getRegisteredStyles(e.registered,i,t.className):null!=t.className&&(a=t.className+" ");var l=serializeStyles(i);if("production"!==process.env.NODE_ENV&&-1===l.name.indexOf("-")){var c=t[labelPropName];c&&(l=serializeStyles([l,"label:"+c+";"]))}var h=insertStyles(e,l,"string"==typeof o);a+=e.key+"-"+l.name;var m={};for(var u in t)!hasOwnProperty.call(t,u)||"css"===u||u===typePropName||"production"!==process.env.NODE_ENV&&u===labelPropName||(m[u]=t[u]);m.ref=n,m.className=a;var p=createElement(o,m);if(!isBrowser&&void 0!==h){for(var f,d=l.name,y=l.next;void 0!==y;)d+=" "+y.name,y=y.next;return createElement(Fragment,null,createElement("style",((f={})["data-emotion-"+e.key]=d,f.dangerouslySetInnerHTML={__html:h},f.nonce=e.sheet.nonce,f)),p)}return p},Emotion=withEmotionCache(function(e,t,r){return"function"==typeof e.css?createElement(ThemeContext.Consumer,null,function(n){return render(t,e,n,r)}):render(t,e,null,r)});"production"!==process.env.NODE_ENV&&(Emotion.displayName="EmotionCssPropInternal");var jsx=function(e,t){var r=arguments;if(null==t||!hasOwnProperty.call(t,"css"))return createElement.apply(void 0,r);if("production"!==process.env.NODE_ENV&&"string"==typeof t.css&&-1!==t.css.indexOf(":"))throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`"+t.css+"`");var n=r.length,s=new Array(n);s[0]=Emotion;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);if(o[typePropName]=e,"production"!==process.env.NODE_ENV){var a=new Error;if(a.stack){var l=a.stack.match(/at (?:Object\.|)jsx.*\n\s+at ([A-Z][A-Za-z$]+) /);l||(l=a.stack.match(/.*\n([A-Z][A-Za-z$]+)@/)),l&&(o[labelPropName]=sanitizeIdentifier(l[1]))}}s[1]=o;for(var c=2;c<n;c++)s[c]=r[c];return createElement.apply(null,s)},warnedAboutCssPropForGlobal=!1,Global=withEmotionCache(function(e,t){"production"===process.env.NODE_ENV||warnedAboutCssPropForGlobal||!e.className&&!e.css||(console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"),warnedAboutCssPropForGlobal=!0);var r=e.styles;if("function"==typeof r)return createElement(ThemeContext.Consumer,null,function(e){var n=serializeStyles([r(e)]);return createElement(InnerGlobal,{serialized:n,cache:t})});var n=serializeStyles([r]);return createElement(InnerGlobal,{serialized:n,cache:t})}),InnerGlobal=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}_inheritsLoose(t,e);var r=t.prototype;return r.componentDidMount=function(){this.sheet=new StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(void 0!==this.props.serialized.next&&insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){if(!isBrowser){for(var e=this.props.serialized,t=e.name,r=e.styles,n=e.next;void 0!==n;)t+=" "+n.name,r+=n.styles,n=n.next;var s,o=!0===this.props.cache.compat,i=this.props.cache.insert("",{name:t,styles:r},this.sheet,o);if(!o)return createElement("style",((s={})["data-emotion-"+this.props.cache.key]=t,s.dangerouslySetInnerHTML={__html:i},s.nonce=this.props.cache.sheet.nonce,s))}return null},t}(Component),keyframes=function(){var e=css.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},classnames=function e(t){for(var r=t.length,n=0,s="";n<r;n++){var o=t[n];if(null!=o){var i=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))i=e(o);else for(var a in i="",o)o[a]&&a&&(i&&(i+=" "),i+=a);break;default:i=o}i&&(s&&(s+=" "),s+=i)}}return s};function merge(e,t,r){var n=[],s=getRegisteredStyles(e,n,r);return n.length<2?r:s+t(n)}var ClassNames=withEmotionCache(function(e,t){return createElement(ThemeContext.Consumer,null,function(r){var n,s="",o="",i=!1,a=function(){if(i&&"production"!==process.env.NODE_ENV)throw new Error("css can only be used during render");for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=serializeStyles(r,t.registered);if(isBrowser)insertStyles(t,a,!1);else{var l=insertStyles(t,a,!1);void 0!==l&&(s+=l)}return isBrowser||(o+=" "+a.name),t.key+"-"+a.name},l={css:a,cx:function(){if(i&&"production"!==process.env.NODE_ENV)throw new Error("cx can only be used during render");for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return merge(t.registered,a,classnames(r))},theme:r},c=e.children(l);return i=!0,isBrowser||0===s.length?c:createElement(Fragment,null,createElement("style",((n={})["data-emotion-"+t.key]=o.substring(1),n.dangerouslySetInnerHTML={__html:s},n.nonce=t.sheet.nonce,n)),c)})});export{CacheProvider,ClassNames,Global,ThemeContext,jsx,keyframes,withEmotionCache};