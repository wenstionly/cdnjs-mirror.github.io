!function(){var v=window.AmCharts;v.AmMap=v.Class({inherits:v.AmChart,construct:function(t){this.cname="AmMap",this.type="map",this.theme=t,this.svgNotSupported="This browser doesn't support SVG. Use Chrome, Firefox, Internet Explorer 9 or later.",this.createEvents("rollOverMapObject","rollOutMapObject","clickMapObject","selectedObjectChanged","homeButtonClicked","zoomCompleted","dragCompleted","positionChanged","writeDevInfo","click"),this.zoomDuration=1,this.zoomControl=new v.ZoomControl(t),this.fitMapToContainer=!0,this.mouseWheelZoomEnabled=this.backgroundZoomsToTop=!1,this.allowClickOnSelectedObject=this.useHandCursorOnClickableOjects=this.showBalloonOnSelectedObject=!0,this.showObjectsAfterZoom=this.wheelBusy=!1,this.zoomOnDoubleClick=this.useObjectColorForBalloon=!0,this.allowMultipleDescriptionWindows=!1,this.dragMap=this.centerMap=this.linesAboveImages=!0,this.colorSteps=5,this.showAreasInList=!0,this.showLinesInList=this.showImagesInList=!1,this.areasProcessor=new v.AreasProcessor(this),this.areasSettings=new v.AreasSettings(t),this.imagesProcessor=new v.ImagesProcessor(this),this.imagesSettings=new v.ImagesSettings(t),this.linesProcessor=new v.LinesProcessor(this),this.linesSettings=new v.LinesSettings(t),this.initialTouchZoom=1,this.showDescriptionOnHover=!1,v.AmMap.base.construct.call(this,t),this.creditsPosition="bottom-left",this.product="ammap",this.areasClasses={},v.applyTheme(this,t,this.cname)},initChart:function(){this.zoomInstantly=!0;var t=this.container;if(this.sizeChanged&&v.hasSVG&&this.chartCreated){this.freeLabelsSet&&this.freeLabelsSet.remove(),this.freeLabelsSet=t.set(),this.container.setSize(this.realWidth,this.realHeight),this.resizeMap(),this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.processObjects(),this.rescaleObjects(),this.zoomControl.init(this,t),this.drawBg();var e=this.smallMap;e&&e.init(this,t),(e=this.valueLegend)&&e.init(this,t),this.sizeChanged=!1,this.zoomToLongLat(this.zLevelTemp,this.zLongTemp,this.zLatTemp,!0),this.previousWidth=this.realWidth,this.previousHeight=this.realHeight,this.updateSmallMap(),this.linkSet.toFront(),this.zoomControl.update()}else v.AmMap.base.initChart.call(this),v.hasSVG?(this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,t=this.legend)&&(t.position="absolute",t.invalidateSize()),this.createDescriptionsDiv(),this.svgAreas=[],this.svgAreasById={},this.drawChart()):(this.chartDiv.style.textAlign="",this.chartDiv.setAttribute("class","ammapAlert"),this.chartDiv.innerHTML=this.svgNotSupported,this.fire("failed",{type:"failed",chart:this}))},storeTemp:function(){var t=this.zoomLongitude();isNaN(t)||(this.zLongTemp=t),t=this.zoomLatitude(),isNaN(t)||(this.zLatTemp=t),t=this.zoomLevel(),isNaN(t)||(this.zLevelTemp=t)},invalidateSize:function(){this.storeTemp(),v.AmMap.base.invalidateSize.call(this)},validateSize:function(){v.hasSVG&&0<this.realWidth&&0<this.realHeight&&this.storeTemp(),v.AmMap.base.validateSize.call(this)},handleWheelReal:function(t){if(!this.wheelBusy){this.stopAnimation();var e=this.zoomLevel(),i=this.zoomControl,o=i.zoomFactor;this.wheelBusy=!0,t=v.fitToBounds(0<t?e*o:e/o,i.minZoomLevel,i.maxZoomLevel),o=this.mouseX/this.mapWidth,i=this.mouseY/this.mapHeight,o=(this.zoomX()-o)*(t/e)+o,e=(this.zoomY()-i)*(t/e)+i,this.zoomTo(t,o,e)}},addLegend:function(t,e){return t.position="absolute",t.autoMargins=!1,t.valueWidth=0,t.switchable=!1,v.AmMap.base.addLegend.call(this,t,e),void 0===t.enabled&&(t.enabled=!0),t},handleLegendEvent:function(){},createDescriptionsDiv:function(){if(!this.descriptionsDiv){var t=document.createElement("div"),e=t.style;e.position="absolute",e.left="0px",e.top="0px",this.descriptionsDiv=t}this.containerDiv.appendChild(this.descriptionsDiv)},drawChart:function(){v.AmMap.base.drawChart.call(this);var t=this.dataProvider;this.dataProvider=t=v.extend(t,new v.MapData,!0),this.areasSettings=v.processObject(this.areasSettings,v.AreasSettings,this.theme),this.imagesSettings=v.processObject(this.imagesSettings,v.ImagesSettings,this.theme),this.linesSettings=v.processObject(this.linesSettings,v.LinesSettings,this.theme);var e,i=this.container;this.mapContainer&&this.mapContainer.remove(),this.mapContainer=i.set(),this.graphsSet.push(this.mapContainer),t.map&&(e=v.maps[t.map]),t.mapVar&&(e=t.mapVar),e?(this.svgData=e.svg,this.getBounds(),this.buildEverything()):(t=t.mapURL)&&this.loadXml(t),this.balloonsSet.toFront()},drawBg:function(){var t=this;t.background.click(function(){t.handleBackgroundClick()})},buildEverything:function(){if(0<this.realWidth&&0<this.realHeight){var t=this.container;this.zoomControl=v.processObject(this.zoomControl,v.ZoomControl,this.theme),this.zoomControl.init(this,t),this.drawBg(),this.buildSVGMap();var e=this.smallMap;e&&(e=this.smallMap=v.processObject(this.smallMap,v.SmallMap,this.theme)).init(this,t),e=this.dataProvider,isNaN(e.zoomX)&&isNaN(e.zoomY)&&isNaN(e.zoomLatitude)&&isNaN(e.zoomLongitude)&&(this.centerMap?(e.zoomLatitude=this.coordinateToLatitude(this.mapHeight/2),e.zoomLongitude=this.coordinateToLongitude(this.mapWidth/2)):(e.zoomX=0,e.zoomY=0),this.zoomInstantly=!0),this.selectObject(this.dataProvider),this.processAreas(),(e=this.valueLegend)&&(this.valueLegend=e=v.processObject(e,v.ValueLegend,this.theme),e.init(this,t)),this.objectList&&(t=this.objectList=v.processObject(this.objectList,v.ObjectList))&&(this.clearObjectList(),t.init(this)),this.dispDUpd(),this.linkSet.toFront()}else this.cleanChart()},hideGroup:function(t){this.showHideGroup(t,!1)},showGroup:function(t){this.showHideGroup(t,!0)},showHideGroup:function(t,e){this.showHideReal(this.imagesProcessor.allObjects,t,e),this.showHideReal(this.areasProcessor.allObjects,t,e),this.showHideReal(this.linesProcessor.allObjects,t,e)},showHideReal:function(t,e,i){var o;for(o=0;o<t.length;o++){var s=t[o];if(s.groupId==e){var a=s.displayObject;a&&(i?(s.hidden=!1,a.show()):(s.hidden=!0,a.hide()))}}},update:function(){v.hasSVG&&(v.AmMap.base.update.call(this),this.zoomControl&&this.zoomControl.update())},animateMap:function(){var t=this;t.totalFrames=1e3*t.zoomDuration/v.updateRate,t.totalFrames+=1,t.frame=0,t.tweenPercent=0,t.balloon.hide(0),setTimeout(function(){t.updateSize.call(t)},v.updateRate)},updateSize:function(){var t=this,e=t.totalFrames;t.preventHover=!0,t.frame<=e?(t.frame++,1<=(e=v.easeOutSine(0,t.frame,0,1,e))?(e=1,t.preventHover=!1,t.wheelBusy=!1):setTimeout(function(){t.updateSize.call(t)},v.updateRate),.8<e&&(t.preventHover=!1)):(e=1,t.preventHover=!1,t.wheelBusy=!1),t.tweenPercent=e,t.rescaleMapAndObjects()},rescaleMapAndObjects:function(){var t=this.initialScale,e=this.initialX,i=this.initialY,o=this.tweenPercent;t+=(this.finalScale-t)*o;if(this.mapContainer.translate(e+(this.finalX-e)*o,i+(this.finalY-i)*o,t),this.areasSettings.adjustOutlineThickness)for(e=this.dataProvider.areas,i=0;i<e.length;i++){var s=e[i],a=s.displayObject;a&&a.setAttr("stroke-width",s.outlineThicknessReal/t)}this.rescaleObjects(),this.positionChanged(),this.updateSmallMap(),1==o&&(o={type:"zoomCompleted",chart:this},this.fire(o.type,o))},updateSmallMap:function(){this.smallMap&&this.smallMap.update()},rescaleObjects:function(){var t,e=this.mapContainer.scale,i=this.imagesProcessor.objectsToResize;for(t=0;t<i.length;t++){var o=i[t].image;o.translate(o.x,o.y,i[t].scale/e,!0)}if(o=(i=this.linesProcessor).linesToResize)for(t=0;t<o.length;t++){var s=o[t];s.line.setAttr("stroke-width",s.thickness/e)}for(i=i.objectsToResize,t=0;t<i.length;t++)(o=i[t]).translate(o.x,o.y,1/e,!0)},handleTouchEnd:function(t){this.initialDistance=NaN,this.mouseIsDown=this.isDragging=!1,v.AmMap.base.handleTouchEnd.call(this,t)},handleMouseDown:function(t){if(v.resetMouseOver(),this.mouseIsDown=this.mouseIsOver=!0,this.balloon.hide(0),t&&this.mouseIsOver&&t.preventDefault&&this.panEventsEnabled&&t.preventDefault(),this.chartCreated&&!this.preventHover&&(this.initialTouchZoom=this.zoomLevel(),this.dragMap&&(this.stopAnimation(),this.mapContainerClickX=this.mapContainer.x,this.mapContainerClickY=this.mapContainer.y),(t=t||window.event).shiftKey&&!0===this.developerMode&&this.getDevInfo(),t&&t.touches)){var e=this.mouseX,i=this.mouseY,o=t.touches.item(1);o&&this.panEventsEnabled&&this.boundingRect&&(t=o.clientX-this.boundingRect.left,o=o.clientY-this.boundingRect.top,this.middleXP=(e+(t-e)/2)/this.realWidth,this.middleYP=(i+(o-i)/2)/this.realHeight,this.initialDistance=Math.sqrt(Math.pow(t-e,2)+Math.pow(o-i,2)))}},stopDrag:function(){this.isDragging=!1},handleReleaseOutside:function(){if(v.isModern&&(this.mouseIsDown=!1,!this.preventHover)){this.stopDrag(),(t=this.zoomControl)&&t.draggerUp&&t.draggerUp(),this.mapWasDragged=!1;var t=this.mapContainer,e=this.mapContainerClickX,i=this.mapContainerClickY;isNaN(e)||isNaN(i)||!(2<Math.abs(t.x-e)||Math.abs(t.y-i))||(this.mapWasDragged=!0,t={type:"dragCompleted",zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLevel:this.zoomLevel(),chart:this},this.fire(t.type,t)),!this.mouseIsOver||this.mapWasDragged||this.skipClick||(t={type:"click",x:this.mouseX,y:this.mouseY,chart:this},this.fire(t.type,t),this.skipClick=!1),this.mapContainerClickY=this.mapContainerClickX=NaN,this.objectWasClicked=!1,this.zoomOnDoubleClick&&this.mouseIsOver&&((t=(new Date).getTime())-this.previousClickTime<200&&40<t-this.previousClickTime&&this.doDoubleClickZoom(),this.previousClickTime=t)}},resetPinch:function(){this.mapWasPinched=!1},handleMouseMove:function(t){var e=this;v.AmMap.base.handleMouseMove.call(e,t),e.panEventsEnabled&&e.mouseIsOver&&t&&t.preventDefault&&t.preventDefault();var i=e.previuosMouseX,o=e.previuosMouseY,s=e.mouseX,a=e.mouseY,r=e.zoomControl;if(isNaN(i)&&(i=s),isNaN(o)&&(o=a),e.mouse2X=NaN,e.mouse2Y=NaN,t&&t.touches&&(t=t.touches.item(1))&&e.panEventsEnabled&&e.boundingRect&&(e.mouse2X=t.clientX-e.boundingRect.left,e.mouse2Y=t.clientY-e.boundingRect.top),t=e.mapContainer){var n=e.mouse2X,l=e.mouse2Y;e.pinchTO&&clearTimeout(e.pinchTO),e.pinchTO=setTimeout(function(){e.resetPinch.call(e)},1e3);var h=e.realHeight,c=e.realWidth,d=e.mapWidth,u=e.mapHeight;if(e.mouseIsDown&&e.dragMap&&(5<Math.abs(e.previuosMouseX-e.mouseX)||5<Math.abs(e.previuosMouseY-e.mouseY))&&(e.isDragging=!0),!isNaN(n)){e.stopDrag();var p=Math.sqrt(Math.pow(n-s,2)+Math.pow(l-a,2)),m=e.initialDistance;if(isNaN(m)&&(m=Math.sqrt(Math.pow(n-s,2)+Math.pow(l-a,2))),!isNaN(m)){n=e.initialTouchZoom*p/m,n=v.fitToBounds(n,r.minZoomLevel,r.maxZoomLevel),r=e.zoomLevel(),m=e.middleXP,l=e.middleYP,p=h/u;var g=c/d;m=(e.zoomX()-m*g)*(n/r)+m*g,l=(e.zoomY()-l*p)*(n/r)+l*p;.1<Math.abs(n-r)&&(e.zoomTo(n,m,l,!0),e.mapWasPinched=!0,clearTimeout(e.pinchTO))}}n=t.scale,e.isDragging&&(e.balloon.hide(0),e.positionChanged(),i=t.x+(s-i),o=t.y+(a-o),e.preventDragOut&&(u=-u*n+h/2,h/=2,i=v.fitToBounds(i,-d*n+c/2,c/2),o=v.fitToBounds(o,u,h)),t.translate(i,o,n),e.updateSmallMap()),e.previuosMouseX=s,e.previuosMouseY=a}},selectObject:function(t){var e=this;(t=t||e.dataProvider).isOver=!1;var i=t.linkToObject;"string"==typeof i&&(i=e.getObjectById(i)),t.useTargetsZoomValues&&i&&(t.zoomX=i.zoomX,t.zoomY=i.zoomY,t.zoomLatitude=i.zoomLatitude,t.zoomLongitude=i.zoomLongitude,t.zoomLevel=i.zoomLevel);var o=e.selectedObject;o&&e.returnInitialColor(o);var s,a,r=!1;if("MapArea"==(e.selectedObject=t).objectType&&(t.autoZoomReal&&(r=!0),s=e.areasSettings.selectedOutlineColor,a=e.areasSettings.selectedOutlineThickness),i&&!r&&("string"==typeof i&&(i=e.getObjectById(i)),isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY))){if(e.extendMapData(i))return;e.selectObject(i)}else{if(e.allowMultipleDescriptionWindows||e.closeAllDescriptions(),clearTimeout(e.selectedObjectTimeOut),clearTimeout(e.processObjectsTimeOut),i=e.zoomDuration,!r&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)?(e.showDescriptionAndGetUrl(),e.processObjects()):(e.selectedObjectTimeOut=setTimeout(function(){e.showDescriptionAndGetUrl.call(e)},1e3*i+200),e.showObjectsAfterZoom?e.processObjectsTimeOut=setTimeout(function(){e.processObjects.call(e)},1e3*i+200):e.processObjects()),i=t.displayObject,r=t.selectedColorReal,"MapImage"==t.objectType&&(s=e.imagesSettings.selectedOutlineColor,a=e.imagesSettings.selectedOutlineThickness,i=t.image),i){if(v.setCN(e,i,"selected-object"),t.bringForwardOnHover&&i.toFront(),!t.preserveOriginalAttributes){if(i.setAttr("stroke",t.outlineColorReal),void 0!==r&&i.setAttr("fill",r),void 0!==s&&i.setAttr("stroke",s),void 0!==a&&i.setAttr("stroke-width",a),"MapLine"==t.objectType){var n=t.lineSvg;n&&n.setAttr("stroke",r),(n=t.arrowSvg)&&(n.setAttr("fill",r),n.setAttr("stroke",r))}if(n=t.imageLabel){var l=t.selectedLabelColorReal;void 0!==l&&n.setAttr("fill",l)}t.selectable||(i.setAttr("cursor","default"),n&&n.setAttr("cursor","default"))}}else e.returnInitialColorReal(t);if(i=t.groupId)for(n=e.getGroupById(i),l=0;l<n.length;l++){var h=n[l];if(h.isOver=!1,i=h.displayObject,"MapImage"==h.objectType&&(i=h.image),i){var c=h.selectedColorReal;void 0!==c&&i.setAttr("fill",c),void 0!==s&&i.setAttr("stroke",s),void 0!==a&&i.setAttr("stroke-width",a),"MapLine"==h.objectType&&((i=h.lineSvg)&&i.setAttr("stroke",r),i=h.arrowSvg)&&(i.setAttr("fill",r),i.setAttr("stroke",r))}}e.zoomToSelectedObject(),o!=t&&(t={type:"selectedObjectChanged",chart:e},e.fire(t.type,t))}},returnInitialColor:function(t,e){this.returnInitialColorReal(t),e&&(t.isFirst=!1),!this.selectedObject.bringForwardOnHover||(o=this.selectedObject.displayObject)&&o.toFront();if(o=t.groupId){var i,o=this.getGroupById(o);for(i=0;i<o.length;i++)this.returnInitialColorReal(o[i]),e&&(o[i].isFirst=!1)}},closeAllDescriptions:function(){this.descriptionsDiv.innerHTML=""},returnInitialColorReal:function(t){t.isOver=!1;var e=t.displayObject;if(e){if(e.toPrevious(),"MapImage"==t.objectType){var i=t.tempScale;isNaN(i)||e.translate(e.x,e.y,i,!0),t.tempScale=NaN,e=t.image}if(i=t.colorReal,"MapLine"==t.objectType)(o=t.lineSvg)&&o.setAttr("stroke",i),(o=t.arrowSvg)&&(o.setAttr("fill",i),o.setAttr("stroke",i));var o=t.alphaReal,s=t.outlineAlphaReal,a=t.outlineThicknessReal,r=t.outlineColorReal;if(t.showAsSelected){var n,l;i=t.selectedColorReal;"MapImage"==t.objectType&&(n=this.imagesSettings.selectedOutlineColor,l=this.imagesSettings.selectedOutlineThickness),"MapArea"==t.objectType&&(n=this.areasSettings.selectedOutlineColor,l=this.areasSettings.selectedOutlineThickness),void 0!==n&&(r=n),void 0!==l&&(a=l)}"bubble"==t.type&&(i=void 0),void 0!==i&&e.setAttr("fill",i),(n=t.image)&&(n.setAttr("fill",i),n.setAttr("stroke",r),n.setAttr("stroke-width",a),n.setAttr("fill-opacity",o),n.setAttr("stroke-opacity",s)),"MapArea"==t.objectType&&(i=1,this.areasSettings.adjustOutlineThickness&&(i=this.zoomLevel()),e.setAttr("stroke",r),e.setAttr("stroke-width",a/i),e.setAttr("fill-opacity",o),e.setAttr("stroke-opacity",s)),(i=t.pattern)&&e.pattern(i,this.mapScale,this.path),(e=t.imageLabel)&&!t.labelInactive&&(t.showAsSelected&&void 0!==t.selectedLabelColor?e.setAttr("fill",t.selectedLabelColor):e.setAttr("fill",t.labelColorReal))}},zoomToRectangle:function(t,e,i,o){var s=this.realWidth,a=this.realHeight,r=this.mapSet.scale,n=this.zoomControl;s=v.fitToBounds(o/a<i/s?.8*s/(i*r):.8*a/(o*r),n.minZoomLevel,n.maxZoomLevel);this.zoomToMapXY(s,(t+i/2)*r,(e+o/2)*r)},zoomToLatLongRectangle:function(t,e,i,o){var s=this.dataProvider,a=this.zoomControl,r=Math.abs(i-t),n=Math.abs(e-o),l=Math.abs(s.rightLongitude-s.leftLongitude);s=Math.abs(s.topLatitude-s.bottomLatitude),a=v.fitToBounds(n/s<r/l?.8*l/r:.8*s/n,a.minZoomLevel,a.maxZoomLevel);this.zoomToLongLat(a,t+(i-t)/2,o+(e-o)/2)},getGroupById:function(t){var e=[];return this.getGroup(this.imagesProcessor.allObjects,t,e),this.getGroup(this.linesProcessor.allObjects,t,e),this.getGroup(this.areasProcessor.allObjects,t,e),e},zoomToGroup:function(t){var e,i,o,s,a;for(t="object"==typeof t?t:this.getGroupById(t),a=0;a<t.length;a++){if(r=t[a].displayObject){var r=(h=r.getBBox()).y,n=h.y+h.height,l=h.x,h=h.x+h.width;(r<e||isNaN(e))&&(e=r),(s<n||isNaN(s))&&(s=n),(l<i||isNaN(i))&&(i=l),(o<h||isNaN(o))&&(o=h)}}i-=(t=this.mapSet.getBBox()).x,o-=t.x,s-=t.y,e-=t.y,this.zoomToRectangle(i,e,o-i,s-e)},getGroup:function(t,e,i){var o;if(t)for(o=0;o<t.length;o++){var s=t[o];s.groupId==e&&i.push(s)}},zoomToStageXY:function(t,e,i,o){if(!this.objectWasClicked){var s=this.zoomControl;t=v.fitToBounds(t,s.minZoomLevel,s.maxZoomLevel),s=this.zoomLevel(),i=this.coordinateToLatitude((i-this.mapContainer.y)/s),e=this.coordinateToLongitude((e-this.mapContainer.x)/s),this.zoomToLongLat(t,e,i,o)}},zoomToLongLat:function(t,e,i,o){e=this.longitudeToCoordinate(e),i=this.latitudeToCoordinate(i),this.zoomToMapXY(t,e,i,o)},zoomToMapXY:function(t,e,i,o){var s=this.mapWidth,a=this.mapHeight;this.zoomTo(t,-e/s*t+this.realWidth/s/2,-i/a*t+this.realHeight/a/2,o)},zoomToObject:function(t){if(t){var e=t.zoomLatitude,i=t.zoomLongitude,o=t.zoomLevel,s=this.zoomInstantly,a=t.zoomX,r=t.zoomY,n=this.realWidth,l=this.realHeight;isNaN(o)||(isNaN(e)||isNaN(i)?this.zoomTo(o,a,r,s):this.zoomToLongLat(o,i,e,s)),this.zoomInstantly=!1,"MapImage"==t.objectType&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&!isNaN(t.latitude)&&!isNaN(t.longitude)&&this.zoomToLongLat(t.zoomLevel,t.longitude,t.latitude),"MapArea"==t.objectType&&(a=t.displayObject.getBBox(),e=this.mapScale,i=a.x*e,o=a.y*e,s=a.width*e,a=a.height*e,n=t.autoZoomReal&&isNaN(t.zoomLevel)?a/l<s/n?.8*n/s:.8*l/a:t.zoomLevel,l=this.zoomControl,n=v.fitToBounds(n,l.minZoomLevel,l.maxZoomLevel),isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&(t=this.mapSet.getBBox(),this.zoomToMapXY(n,-t.x*e+i+s/2,-t.y*e+o+a/2))),this.zoomControl.update()}},zoomToSelectedObject:function(){this.zoomToObject(this.selectedObject)},zoomTo:function(t,e,i,o){var s=this.zoomControl;t=v.fitToBounds(t,s.minZoomLevel,s.maxZoomLevel),s=this.zoomLevel(),isNaN(e)&&(e=this.realWidth/this.mapWidth,e=(this.zoomX()-.5*e)*(t/s)+.5*e),isNaN(i)&&(i=this.realHeight/this.mapHeight,i=(this.zoomY()-.5*i)*(t/s)+.5*i),this.stopAnimation(),isNaN(t)||(s=this.mapContainer,this.initialX=s.x,this.initialY=s.y,this.initialScale=s.scale,this.finalX=this.mapWidth*e,this.finalY=this.mapHeight*i,this.finalScale=t,this.finalX!=this.initialX||this.finalY!=this.initialY||this.finalScale!=this.initialScale?o?(this.tweenPercent=1,this.rescaleMapAndObjects(),this.wheelBusy=!1):this.animateMap():this.wheelBusy=!1)},loadXml:function(t){var e;window.XMLHttpRequest&&(e=new XMLHttpRequest),e.overrideMimeType&&e.overrideMimeType("text/xml"),e.open("GET",t,!1),e.send(),this.parseXMLObject(e.responseXML),this.svgData&&this.buildEverything()},stopAnimation:function(){this.frame=this.totalFrames},processObjects:function(){var t=this.container,e=this.stageImagesContainer;e&&e.remove(),this.stageImagesContainer=e=t.set(),this.trendLinesSet.push(e);var i=this.stageLinesContainer;i&&i.remove(),this.stageLinesContainer=i=t.set(),this.trendLinesSet.push(i);var o=this.mapImagesContainer;o&&o.remove(),this.mapImagesContainer=o=t.set(),this.mapContainer.push(o);var s=this.mapLinesContainer;s&&s.remove(),this.mapLinesContainer=s=t.set(),this.mapContainer.push(s),this.linesAboveImages?(o.toFront(),e.toFront(),s.toFront(),i.toFront()):(s.toFront(),i.toFront(),o.toFront(),e.toFront()),(t=this.selectedObject)&&(this.imagesProcessor.reset(),this.linesProcessor.reset(),this.linesAboveImages?(this.imagesProcessor.process(t),this.linesProcessor.process(t)):(this.linesProcessor.process(t),this.imagesProcessor.process(t))),this.rescaleObjects()},processAreas:function(){this.areasProcessor.process(this.dataProvider)},buildSVGMap:function(){var t,e=this.svgData.g.path,i=this.container,o=i.set();for(void 0===e.length&&(e=[e]),t=0;t<e.length;t++){var s=e[t],a=s.d,r=s.title;if(s.titleTr&&(r=s.titleTr),(a=i.path(a)).id=s.id,this.areasSettings.preserveOriginalAttributes)for(var n in a.customAttr={},s)"d"!=n&&"id"!=n&&"title"!=n&&(a.customAttr[n]=s[n]);this.svgAreasById[s.id]={area:a,title:r,className:s.class},this.svgAreas.push(a),o.push(a)}this.mapSet=o,this.mapContainer.push(o),this.resizeMap()},addObjectEventListeners:function(t,e){var i=this;t.mouseup(function(t){i.clickMapObject(e,t)}).mouseover(function(t){i.rollOverMapObject(e,!0,t)}).mouseout(function(t){i.rollOutMapObject(e,t)}).touchend(function(t){i.clickMapObject(e,t)}).touchstart(function(t){i.rollOverMapObject(e,!0,t)})},checkIfSelected:function(t){if((i=this.selectedObject)==t)return!0;if(i=i.groupId){var e,i=this.getGroupById(i);for(e=0;e<i.length;e++)if(i[e]==t)return!0}return!1},clearMap:function(){this.chartDiv.innerHTML="",this.clearObjectList()},clearObjectList:function(){var t=this.objectList;t&&t.div&&(t.div.innerHTML="")},checkIfLast:function(t){if(t){var e=t.parentNode;if(e&&e.lastChild==t)return!0}return!1},showAsRolledOver:function(t){var e=t.displayObject;if(!t.showAsSelected&&e&&!t.isOver){e.node.onmouseout=function(){},e.node.onmouseover=function(){},e.node.onclick=function(){},!t.isFirst&&t.bringForwardOnHover&&(e.toFront(),t.isFirst=!0);var i,o=t.rollOverColorReal;if(t.preserveOriginalAttributes&&(o=void 0),null!=o&&("MapImage"==t.objectType?(i=t.image)&&i.setAttr("fill",o):"MapLine"==t.objectType?((i=t.lineSvg)&&i.setAttr("stroke",o),(i=t.arrowSvg)&&(i.setAttr("fill",o),i.setAttr("stroke",o))):e.setAttr("fill",o)),(o=t.imageLabel)&&!t.labelInactive&&(null!=(i=t.labelRollOverColorReal)&&o.setAttr("fill",i)),null!=(o=t.rollOverOutlineColorReal)&&("MapImage"==t.objectType?(i=t.image)&&i.setAttr("stroke",o):e.setAttr("stroke",o)),"MapImage"==t.objectType?(o=this.imagesSettings.rollOverOutlineThickness,(i=t.image)&&(isNaN(o)||i.setAttr("stroke-width",o))):(o=this.areasSettings.rollOverOutlineThickness,isNaN(o)||e.setAttr("stroke-width",o)),"MapArea"==t.objectType){o=this.areasSettings,i=t.rollOverAlphaReal,isNaN(i)||e.setAttr("fill-opacity",i),i=o.rollOverOutlineAlpha,isNaN(i)||e.setAttr("stroke-opacity",i),i=1,this.areasSettings.adjustOutlineThickness&&(i=this.zoomLevel());var s=o.rollOverOutlineThickness;isNaN(s)||e.setAttr("stroke-width",s/i),(o=o.rollOverPattern)&&e.pattern(o,this.mapScale,this.path)}"MapImage"==t.objectType&&(o=t.rollOverScaleReal,isNaN(o)||1==o||(i=e.scale,isNaN(i)&&(i=1),t.tempScale=i,e.translate(e.x,e.y,i*o,!0))),this.useHandCursorOnClickableOjects&&this.checkIfClickable(t)&&e.setAttr("cursor","pointer"),this.addObjectEventListeners(e,t),t.isOver=!0}},rollOverMapObject:function(t,e,i){if(this.chartCreated&&(this.handleMouseMove(),(s=this.previouslyHovered)&&s!=t?(!1===this.checkIfSelected(s)&&(this.returnInitialColor(s,!0),this.previouslyHovered=null),this.balloon.hide(0)):clearTimeout(this.hoverInt),!this.preventHover)){if(!1===this.checkIfSelected(t)){if(s=t.groupId){var o,s=this.getGroupById(s);for(o=0;o<s.length;o++)s[o]!=t&&this.showAsRolledOver(s[o])}this.showAsRolledOver(t)}else(s=t.displayObject)&&(this.allowClickOnSelectedObject?s.setAttr("cursor","pointer"):s.setAttr("cursor","default"));if(this.showDescriptionOnHover)this.showDescription(t);else if((this.showBalloonOnSelectedObject||!this.checkIfSelected(t))&&!1!==e&&(o=this.balloon,s="",void 0!==(e=t.colorReal)&&this.useObjectColorForBalloon||(e=o.fillColor),(o=t.balloonTextReal)&&(s=this.formatString(o,t)),this.balloonLabelFunction&&(s=this.balloonLabelFunction(t,this)),s&&""!==s)){var a,r;"MapArea"==t.objectType&&(r=this.getAreaCenterLatitude(t),a=this.getAreaCenterLongitude(t),r=this.latitudeToY(r),a=this.longitudeToX(a)),"MapImage"==t.objectType&&(a=t.displayObject.x*this.zoomLevel()+this.mapContainer.x,r=t.displayObject.y*this.zoomLevel()+this.mapContainer.y),this.showBalloon(s,e,this.mouseIsOver,a,r)}i={type:"rollOverMapObject",mapObject:t,chart:this,event:i},this.fire(i.type,i),this.previouslyHovered=t}},longitudeToX:function(t){return this.longitudeToCoordinate(t)*this.zoomLevel()+this.mapContainer.x},latitudeToY:function(t){return this.latitudeToCoordinate(t)*this.zoomLevel()+this.mapContainer.y},rollOutMapObject:function(t,e){if(this.hideBalloon(),this.chartCreated&&t.isOver){this.checkIfSelected(t)||this.returnInitialColor(t);var i={type:"rollOutMapObject",mapObject:t,chart:this,event:e};this.fire(i.type,i)}},formatString:function(t,e){var i=this.nf,o=this.pf,s=e.title;e.titleTr&&(s=e.titleTr),null==s&&(s="");var a=e.value;a=isNaN(a)?"":v.formatNumber(a,i),i=e.percents,i=isNaN(i)?"":v.formatNumber(i,o);null==(o=e.description)&&(o="");var r=e.customData;return null==r&&(r=""),v.massReplace(t,{"[[title]]":s,"[[value]]":a,"[[percent]]":i,"[[description]]":o,"[[customData]]":r})},clickMapObject:function(t,e){if(this.chartCreated&&!this.preventHover&&!this.mapWasDragged&&this.checkIfClickable(t)&&!this.mapWasPinched){this.selectObject(t);var i={type:"clickMapObject",mapObject:t,chart:this,event:e};this.fire(i.type,i),this.objectWasClicked=!0}},checkIfClickable:function(t){var e=this.allowClickOnSelectedObject;return!(this.selectedObject!=t||!e)||!(this.selectedObject==t&&!e)&&!(!(!0===t.selectable||"MapArea"==t.objectType&&t.autoZoomReal||t.url||t.linkToObject||0<t.images.length||0<t.lines.length)&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&!t.description)},resizeMap:function(){var t=this.mapSet;if(t){var e=1,i=t.getBBox(),o=this.realWidth,s=this.realHeight,a=i.width,r=i.height;this.fitMapToContainer&&(e=r/s<a/o?o/a:s/r),t.translate(-i.x*e,-i.y*e,e),this.mapScale=e,this.mapHeight=r*e,this.mapWidth=a*e}},zoomIn:function(){this.skipClick=!0;var t=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomTo(t)},zoomOut:function(){this.skipClick=!0;var t=this.zoomLevel()/this.zoomControl.zoomFactor;this.zoomTo(t)},moveLeft:function(){this.skipClick=!0;var t=this.zoomX()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),t,this.zoomY())},moveRight:function(){this.skipClick=!0;var t=this.zoomX()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),t,this.zoomY())},moveUp:function(){this.skipClick=!0;var t=this.zoomY()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),t)},moveDown:function(){this.skipClick=!0;var t=this.zoomY()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),t)},zoomX:function(){return this.mapSet?Math.round(1e4*this.mapContainer.x/this.mapWidth)/1e4:NaN},zoomY:function(){return this.mapSet?Math.round(1e4*this.mapContainer.y/this.mapHeight)/1e4:NaN},goHome:function(){this.selectObject(this.dataProvider);var t={type:"homeButtonClicked",chart:this};this.fire(t.type,t)},zoomLevel:function(){return Math.round(1e5*this.mapContainer.scale)/1e5},showDescriptionAndGetUrl:function(){var t=this.selectedObject;if(t){this.showDescription();var e=t.url;if(e)v.getURL(e,t.urlTarget);else if(e=t.linkToObject){if("string"==typeof e){var i=this.getObjectById(e);if(i)return void this.selectObject(i)}e&&t.passZoomValuesToTarget&&(e.zoomLatitude=this.zoomLatitude(),e.zoomLongitude=this.zoomLongitude(),e.zoomLevel=this.zoomLevel()),this.extendMapData(e)||this.selectObject(e)}}},extendMapData:function(t){var e=t.objectType;if("MapImage"!=e&&"MapArea"!=e&&"MapLine"!=e)return v.extend(t,new v.MapData,!0),this.dataProvider=t,this.zoomInstantly=!0,this.validateData(),!0},showDescription:function(t){if(t=t||this.selectedObject,this.allowMultipleDescriptionWindows||this.closeAllDescriptions(),t.description){var e=t.descriptionWindow;e&&e.close(),e=new v.DescriptionWindow,t.descriptionWindow=e;var i=t.descriptionWindowWidth,o=t.descriptionWindowHeight,s=t.descriptionWindowLeft,a=t.descriptionWindowTop,r=t.descriptionWindowRight,n=t.descriptionWindowBottom;isNaN(r)||(s=this.realWidth-r),isNaN(n)||(a=this.realHeight-n);var l=t.descriptionWindowX;isNaN(l)||(s=l),l=t.descriptionWindowY,isNaN(l)||(a=l),isNaN(s)&&(s=(s=this.mouseX)>this.realWidth/2?s-i-20:s+20),isNaN(a)&&(a=this.mouseY),e.maxHeight=o,l=t.title,t.titleTr&&(l=t.titleTr),e.show(this,this.descriptionsDiv,t.description,l),(t=e.div.style).position="absolute",t.width=i+"px",t.maxHeight=o+"px",isNaN(n)||(a-=e.div.offsetHeight),isNaN(r)||(s-=e.div.offsetWidth),t.left=s+"px",t.top=a+"px"}},parseXMLObject:function(t){var e={root:{}};this.parseXMLNode(e,"root",t),this.svgData=e.root.svg,this.getBounds()},getBounds:function(){var t=this.dataProvider;try{var e=this.svgData.defs["amcharts:ammap"];t.leftLongitude=Number(e.leftLongitude),t.rightLongitude=Number(e.rightLongitude),t.topLatitude=Number(e.topLatitude),t.bottomLatitude=Number(e.bottomLatitude),t.projection=e.projection;var i=e.wrappedLongitudes;i&&(t.rightLongitude+=360),t.wrappedLongitudes=i}catch(t){}},recalcLongitude:function(t){var e=this.dataProvider.leftLongitude,i=this.dataProvider.wrappedLongitudes;return isNaN(t)&&i&&t<e?Number(t)+360:t},latitudeToCoordinate:function(t){var e,i=this.dataProvider;if(this.mapSet){e=i.topLatitude;var o=i.bottomLatitude;"mercator"==i.projection&&(t=this.mercatorLatitudeToCoordinate(t),e=this.mercatorLatitudeToCoordinate(e),o=this.mercatorLatitudeToCoordinate(o)),e=(t-e)/(o-e)*this.mapHeight}return e},longitudeToCoordinate:function(t){t=this.recalcLongitude(t);var e,i=this.dataProvider;return this.mapSet&&(e=(t-(e=i.leftLongitude))/(i.rightLongitude-e)*this.mapWidth),e},mercatorLatitudeToCoordinate:function(t){return 89.5<t&&(t=89.5),t<-89.5&&(t=-89.5),t=v.degreesToRadians(t),t=.5*Math.log((1+Math.sin(t))/(1-Math.sin(t))),v.radiansToDegrees(t/2)},zoomLatitude:function(){if(this.mapContainer)return this.coordinateToLatitude((-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel())},zoomLongitude:function(){if(this.mapContainer)return this.coordinateToLongitude((-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel())},getAreaCenterLatitude:function(t){t=t.displayObject.getBBox();var e=this.mapScale;return t=-this.mapSet.getBBox().y*e+(t.y+t.height/2)*e,this.coordinateToLatitude(t)},getAreaCenterLongitude:function(t){t=t.displayObject.getBBox();var e=this.mapScale;return t=-this.mapSet.getBBox().x*e+(t.x+t.width/2)*e,this.coordinateToLongitude(t)},coordinateToLatitude:function(t){var e;if(this.mapSet){var i=this.dataProvider,o=i.bottomLatitude,s=i.topLatitude;e=this.mapHeight,e="mercator"==i.projection?(i=this.mercatorLatitudeToCoordinate(o),s=this.mercatorLatitudeToCoordinate(s),t=2*Math.atan(Math.exp(2*(t*(i-s)/e+s)*Math.PI/180))-.5*Math.PI,v.radiansToDegrees(t)):t/e*(o-s)+s}return Math.round(1e6*e)/1e6},coordinateToLongitude:function(t){var e,i=this.dataProvider;return this.mapSet&&(e=t/this.mapWidth*(i.rightLongitude-i.leftLongitude)+i.leftLongitude),Math.round(1e6*e)/1e6},milesToPixels:function(t){var e=this.dataProvider;return this.mapWidth/(e.rightLongitude-e.leftLongitude)*t/69.172},kilometersToPixels:function(t){var e=this.dataProvider;return this.mapWidth/(e.rightLongitude-e.leftLongitude)*t/111.325},handleBackgroundClick:function(){if(this.backgroundZoomsToTop&&!this.mapWasDragged){var t=this.dataProvider;if(this.checkIfClickable(t))this.clickMapObject(t);else{var e=t.zoomX,i=t.zoomY,o=t.zoomLongitude,s=t.zoomLatitude;t=t.zoomLevel;isNaN(e)||isNaN(i)||this.zoomTo(t,e,i),isNaN(o)||isNaN(s)||this.zoomToLongLat(t,o,s,!0)}}},parseXMLNode:function(t,e,i,o){var s,a,r;if(void 0===o&&(o=""),i){var n=i.childNodes.length;for(s=0;s<n;s++){var l=(a=i.childNodes[s]).nodeName,h=a.nodeValue?this.trim(a.nodeValue):"",c=!1;if(a.attributes&&0<a.attributes.length&&(c=!0),0!==a.childNodes.length||""!==h||!1!==c)if(3==a.nodeType||4==a.nodeType){if(""!==h){for(r in a=0,t[e])t[e].hasOwnProperty(r)&&a++;a?t[e]["#text"]=h:t[e]=h}}else if(1==a.nodeType){var d;if(void 0!==t[e][l]?void 0===t[e][l].length?(d=t[e][l],t[e][l]=[],t[e][l].push(d),t[e][l].push({}),d=t[e][l][1]):"object"==typeof t[e][l]&&(t[e][l].push({}),d=t[e][l][t[e][l].length-1]):(t[e][l]={},d=t[e][l]),a.attributes&&a.attributes.length)for(h=0;h<a.attributes.length;h++)d[a.attributes[h].name]=a.attributes[h].value;void 0!==t[e][l].length?this.parseXMLNode(t[e][l],t[e][l].length-1,a,o+"  "):this.parseXMLNode(t[e],l,a,o+"  ")}}for(r in a=0,i="",t[e])"#text"==r?i=t[e][r]:a++;0===a&&void 0===t[e].length&&(t[e]=i)}},doDoubleClickZoom:function(){if(!this.mapWasDragged){var t=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomToStageXY(t,this.mouseX,this.mouseY)}},getDevInfo:function(){var t=this.zoomLevel(),e=(e=(e=(e=(e=(e=(e="zoomLevel:"+(t={chart:this,type:"writeDevInfo",zoomLevel:t,zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLatitude:this.zoomLatitude(),zoomLongitude:this.zoomLongitude(),latitude:this.coordinateToLatitude((this.mouseY-this.mapContainer.y)/t),longitude:this.coordinateToLongitude((this.mouseX-this.mapContainer.x)/t),left:this.mouseX,top:this.mouseY,right:this.realWidth-this.mouseX,bottom:this.realHeight-this.mouseY,percentLeft:Math.round(this.mouseX/this.realWidth*100)+"%",percentTop:Math.round(this.mouseY/this.realHeight*100)+"%",percentRight:Math.round((this.realWidth-this.mouseX)/this.realWidth*100)+"%",percentBottom:Math.round((this.realHeight-this.mouseY)/this.realHeight*100)+"%"}).zoomLevel+", zoomLongitude:"+t.zoomLongitude+", zoomLatitude:"+t.zoomLatitude+"\n")+"zoomX:"+t.zoomX+", zoomY:"+t.zoomY+"\n")+"latitude:"+t.latitude+", longitude:"+t.longitude+"\n")+"left:"+t.left+", top:"+t.top+"\n")+"right:"+t.right+", bottom:"+t.bottom+"\n")+"left:"+t.percentLeft+", top:"+t.percentTop+"\n")+"right:"+t.percentRight+", bottom:"+t.percentBottom+"\n";return t.str=e,this.fire(t.type,t),t},getXY:function(t,e,i){return void 0!==t&&(-1!=String(t).indexOf("%")?(t=Number(t.split("%").join("")),i&&(t=100-t),t=Number(t)*e/100):i&&(t=e-t)),t},getObjectById:function(t){var e=this.dataProvider;if(e.areas){var i=this.getObject(t,e.areas);if(i)return i}return(i=this.getObject(t,e.images))?i:(t=this.getObject(t,e.lines))?t:void 0},getObject:function(t,e){var i;if(e)for(i=0;i<e.length;i++){var o=e[i];if(o.id==t)return o;if(o.areas){var s=this.getObject(t,o.areas);if(s)return s}if(s=this.getObject(t,o.images))return s;if(o=this.getObject(t,o.lines))return o}},parseData:function(){var t=this.dataProvider;this.processObject(t.areas,t,"area"),this.processObject(t.images,t,"image"),this.processObject(t.lines,t,"line")},processObject:function(t,e,i){var o;if(t)for(o=0;o<t.length;o++){var s=t[o];s.parentObject=e,"area"==i&&v.extend(s,new v.MapArea(this.theme),!0),"image"==i&&(s=v.extend(s,new v.MapImage(this.theme),!0)),"line"==i&&(s=v.extend(s,new v.MapLine(this.theme),!0)),(t[o]=s).areas&&this.processObject(s.areas,s,"area"),s.images&&this.processObject(s.images,s,"image"),s.lines&&this.processObject(s.lines,s,"line")}},positionChanged:function(){var t={type:"positionChanged",zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLevel:this.zoomLevel(),chart:this};this.fire(t.type,t)},getX:function(t,e){return this.getXY(t,this.realWidth,e)},getY:function(t,e){return this.getXY(t,this.realHeight,e)},trim:function(t){if(t){var e;for(e=0;e<t.length;e++)if(-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(e))){t=t.substring(e);break}for(e=t.length-1;0<=e;e--)if(-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(e))){t=t.substring(0,e+1);break}return-1===" \n\r\t\f\v            ​\u2028\u2029　".indexOf(t.charAt(0))?t:""}},destroy:function(){v.AmMap.base.destroy.call(this)}})}(),function(){var z=window.AmCharts;z.ZoomControl=z.Class({construct:function(t){this.cname="ZoomControl",this.panStepSize=.1,this.zoomFactor=2,this.maxZoomLevel=64,this.minZoomLevel=1,this.zoomControlEnabled=this.panControlEnabled=!0,this.buttonRollOverColor="#CC0000",this.buttonFillColor="#990000",this.buttonFillAlpha=1,this.buttonBorderColor="#FFFFFF",this.buttonIconAlpha=this.buttonBorderThickness=this.buttonBorderAlpha=1,this.gridColor="#FFFFFF",this.homeIconFile="homeIcon.gif",this.gridBackgroundColor="#000000",this.gridBackgroundAlpha=.15,this.gridAlpha=1,this.buttonSize=18,this.iconSize=11,this.buttonCornerRadius=0,this.gridHeight=150,this.top=this.left=10,z.applyTheme(this,t,this.cname)},init:function(t,e){var i=this;i.chart=t,z.remove(i.set);var o=e.set();z.setCN(t,o,"zoom-control");var s,a=i.buttonSize,r=i.zoomControlEnabled,n=i.panControlEnabled,l=i.buttonFillColor,h=i.buttonFillAlpha,c=i.buttonBorderThickness,d=i.buttonBorderColor,u=i.buttonBorderAlpha,p=i.buttonCornerRadius,m=i.buttonRollOverColor,g=i.gridHeight,v=i.zoomFactor,f=i.minZoomLevel,b=i.maxZoomLevel,C=i.buttonIconAlpha,N=t.getX(i.left),O=t.getY(i.top);if(isNaN(i.right)||(N=t.getX(i.right,!0),N=n?N-3*a:N-a),isNaN(i.bottom)||(O=t.getY(i.bottom,!0),r&&(O-=g+3*a),O=n?O-3*a:O+a),o.translate(N,O),i.previousDY=NaN,r){s=e.set(),z.setCN(t,s,"zoom-control-zoom"),o.push(s),i.set=o,i.zoomSet=s,O=z.rect(e,a+6,g+2*a+6,i.gridBackgroundColor,i.gridBackgroundAlpha,0,0,0,4),z.setCN(t,O,"zoom-bg"),O.translate(-3,-3),O.mouseup(function(){i.handleBgUp()}).touchend(function(){i.handleBgUp()}),s.push(O),(O=new z.SimpleButton).setIcon(t.pathToImages+"plus.gif",i.iconSize),O.setClickHandler(t.zoomIn,t),O.init(e,a,a,l,h,c,d,u,p,m,C),z.setCN(t,O.set,"zoom-in"),s.push(O.set),(O=new z.SimpleButton).setIcon(t.pathToImages+"minus.gif",i.iconSize),O.setClickHandler(t.zoomOut,t),O.init(e,a,a,l,h,c,d,u,p,m,C),O.set.translate(0,g+a),z.setCN(t,O.set,"zoom-out"),s.push(O.set);var w;r=g/(N=Math.log(b/f)/Math.log(v)+1);for(w=1;w<N;w++)O=a+w*r,O=z.line(e,[1,a-2],[O,O],i.gridColor,i.gridAlpha,1),z.setCN(t,O,"zoom-grid"),s.push(O);(O=new z.SimpleButton).setDownHandler(i.draggerDown,i),O.setClickHandler(i.draggerUp,i),O.init(e,a,r,l,h,c,d,u,p,m),z.setCN(t,O.set,"zoom-dragger"),s.push(O.set),i.dragger=O.set,i.previousY=NaN,g-=r,f=Math.log(f/100)/Math.log(v),v=Math.log(b/100)/Math.log(v),i.realStepSize=g/(v-f),i.realGridHeight=g,i.stepMax=v}n&&(n=e.set(),z.setCN(t,n,"zoom-control-pan"),o.push(n),s&&s.translate(a,4*a),(s=new z.SimpleButton).setIcon(t.pathToImages+"panLeft.gif",i.iconSize),s.setClickHandler(t.moveLeft,t),s.init(e,a,a,l,h,c,d,u,p,m,C),s.set.translate(0,a),z.setCN(t,s.set,"pan-left"),n.push(s.set),(s=new z.SimpleButton).setIcon(t.pathToImages+"panRight.gif",i.iconSize),s.setClickHandler(t.moveRight,t),s.init(e,a,a,l,h,c,d,u,p,m,C),s.set.translate(2*a,a),z.setCN(t,s.set,"pan-right"),n.push(s.set),(s=new z.SimpleButton).setIcon(t.pathToImages+"panUp.gif",i.iconSize),s.setClickHandler(t.moveUp,t),s.init(e,a,a,l,h,c,d,u,p,m,C),s.set.translate(a,0),z.setCN(t,s.set,"pan-up"),n.push(s.set),(s=new z.SimpleButton).setIcon(t.pathToImages+"panDown.gif",i.iconSize),s.setClickHandler(t.moveDown,t),s.init(e,a,a,l,h,c,d,u,p,m,C),s.set.translate(a,2*a),z.setCN(t,s.set,"pan-down"),n.push(s.set),(h=new z.SimpleButton).setIcon(t.pathToImages+i.homeIconFile,i.iconSize),h.setClickHandler(t.goHome,t),h.init(e,a,a,l,0,0,d,0,p,m,C),h.set.translate(a,a),z.setCN(t,h.set,"pan-home"),n.push(h.set),o.push(n)),i.update()},draggerDown:function(){this.chart.stopDrag(),this.isDragging=!0},draggerUp:function(){this.isDragging=!1},handleBgUp:function(){var t=this.chart,e=100*Math.pow(this.zoomFactor,this.stepMax-(t.mouseY-this.zoomSet.y-this.set.y-this.buttonSize-this.realStepSize/2)/this.realStepSize);t.zoomTo(e)},update:function(){var t,e=this.zoomFactor,i=this.realStepSize,o=this.stepMax,s=this.dragger,a=this.buttonSize,r=this.chart;r&&(this.isDragging?(r.stopDrag(),t=s.y+(r.mouseY-this.previousY),t=z.fitToBounds(t,a,this.realGridHeight+a),i=100*Math.pow(e,o-(t-a)/i),r.zoomTo(i,NaN,NaN,!0)):t=(o-(t=Math.log(r.zoomLevel()/100)/Math.log(e)))*i+a,this.previousY=r.mouseY,this.previousDY!=t&&s&&(s.translate(0,t),this.previousDY=t))}})}(),function(){var u=window.AmCharts;u.SimpleButton=u.Class({construct:function(){},init:function(t,e,i,o,s,a,r,n,l,h,c){var d=this;d.rollOverColor=h,d.color=o,h=t.set(),d.set=h,o=u.rect(t,e,i,o,s,a,r,n,l),h.push(o),(s=d.iconPath)&&(a=d.iconSize,t=t.image(s,(e-a)/2,(i-a)/2,a,a),h.push(t),t.setAttr("opacity",c),t.mousedown(function(){d.handleDown()}).mouseup(function(){d.handleUp()}).mouseover(function(){d.handleOver()}).mouseout(function(){d.handleOut()})),o.mousedown(function(){d.handleDown()}).touchstart(function(){d.handleDown()}).mouseup(function(){d.handleUp()}).touchend(function(){d.handleUp()}).mouseover(function(){d.handleOver()}).mouseout(function(){d.handleOut()}),d.bg=o},setIcon:function(t,e){this.iconPath=t,this.iconSize=e},setClickHandler:function(t,e){this.clickHandler=t,this.scope=e},setDownHandler:function(t,e){this.downHandler=t,this.scope=e},handleUp:function(){var t=this.clickHandler;t&&t.call(this.scope)},handleDown:function(){var t=this.downHandler;t&&t.call(this.scope)},handleOver:function(){this.bg.setAttr("fill",this.rollOverColor)},handleOut:function(){this.bg.setAttr("fill",this.color)}})}(),function(){var m=window.AmCharts;m.SmallMap=m.Class({construct:function(t){this.cname="SmallMap",this.mapColor="#e6e6e6",this.rectangleColor="#FFFFFF",this.top=this.right=10,this.minimizeButtonWidth=16,this.backgroundColor="#9A9A9A",this.backgroundAlpha=1,this.borderColor="#FFFFFF",this.borderThickness=3,this.borderAlpha=1,this.size=.2,this.enabled=!0,m.applyTheme(this,t,this.cname)},init:function(t,e){var i=this;if(i.enabled){i.chart=t,i.container=e,i.width=t.realWidth*i.size,i.height=t.realHeight*i.size,m.remove(i.set);var o=e.set();i.set=o,m.setCN(t,o,"small-map");var s=e.set();i.allSet=s,o.push(s),i.buildSVGMap();var a=i.borderThickness,r=i.borderColor,n=m.rect(e,i.width+a,i.height+a,i.backgroundColor,i.backgroundAlpha,a,r,i.borderAlpha);m.setCN(t,n,"small-map-bg"),n.translate(-a/2,-a/2),s.push(n),n.toBack();n=i.minimizeButtonWidth;var l,h,c=new m.SimpleButton;c.setIcon(t.pathToImages+"arrowDown.gif",n),c.setClickHandler(i.minimize,i),c.init(e,n,n,r,1,1,r,1),m.setCN(t,c.set,"small-map-down"),c=c.set,i.downButtonSet=c,o.push(c);var d,u,p=new m.SimpleButton;p.setIcon(t.pathToImages+"arrowUp.gif",n),p.setClickHandler(i.maximize,i),p.init(e,n,n,r,1,1,r,1),m.setCN(t,p.set,"small-map-up"),r=p.set,(i.upButtonSet=r).hide(),o.push(r),isNaN(i.top)||(l=t.getY(i.top)+a,u=0),isNaN(i.bottom)||(l=t.getY(i.bottom,!0)-i.height-a,u=i.height-n+a/2),isNaN(i.left)||(h=t.getX(i.left)+a,d=-a/2),isNaN(i.right)||(h=t.getX(i.right,!0)-i.width-a,d=i.width-n+a/2),(a=e.set()).clipRect(1,1,i.width,i.height),s.push(a),i.rectangleC=a,o.translate(h,l),c.translate(d,u),r.translate(d,u),s.mouseup(function(){i.handleMouseUp()}),i.drawRectangle()}else m.remove(i.allSet),m.remove(i.downButtonSet),m.remove(i.upButtonSet)},minimize:function(){this.downButtonSet.hide(),this.upButtonSet.show(),this.allSet.hide()},maximize:function(){this.downButtonSet.show(),this.upButtonSet.hide(),this.allSet.show()},buildSVGMap:function(){var t,e=this.chart,i={fill:this.mapColor,stroke:this.mapColor,"stroke-opacity":1},o=e.svgData.g.path,s=this.container,a=s.set();for(m.setCN(e,a,"small-map-image"),t=0;t<o.length;t++){var r=s.path(o[t].d).attr(i);a.push(r)}this.allSet.push(a),i=a.getBBox(),o=this.size*e.mapScale,s=-i.x*o,t=-i.y*o;var n=r=0;e.centerMap&&(r=(this.width-i.width*o)/2,n=(this.height-i.height*o)/2),this.mapWidth=i.width*o,this.mapHeight=i.height*o,this.dx=r,this.dy=n,a.translate(s+r,t+n,o)},update:function(){var t=(o=this.chart).zoomLevel(),e=this.width,i=o.mapContainer,o=e/(o.realWidth*t),s=(e=e/t,t=this.height/t,this.rectangle);s.translate(-i.x*o+this.dx,-i.y*o+this.dy),0<e&&0<t&&(s.setAttr("width",Math.ceil(e+1)),s.setAttr("height",Math.ceil(t+1))),this.rWidth=e,this.rHeight=t},drawRectangle:function(){var t=this.rectangle;m.remove(t),t=m.rect(this.container,10,10,"#000",0,1,this.rectangleColor,1),m.setCN(this.chart,t,"small-map-rectangle"),this.rectangleC.push(t),this.rectangle=t},handleMouseUp:function(){var t=this.chart,e=t.zoomLevel();t.zoomTo(e,-(t.mouseX-this.set.x-this.dx-this.rWidth/2)/this.mapWidth*e,-(t.mouseY-this.set.y-this.dy-this.rHeight/2)/this.mapHeight*e)}})}(),function(){var S=window.AmCharts;S.AreasProcessor=S.Class({construct:function(t){this.chart=t},process:function(t){this.updateAllAreas(),this.allObjects=[],t=t.areas;var e,i,o,s=this.chart,a=t.length,r=0,n=s.svgAreasById,l=!1,h=!1,c=0;for(i=0;i<a;i++)o=(o=t[i]).value,isNaN(o)||((!1===l||l<o)&&(l=o),(!1===h||o<h)&&(h=o),r+=Math.abs(o),c++);for(isNaN(s.minValue)||(h=s.minValue),isNaN(s.maxValue)||(l=s.maxValue),s.maxValueReal=l,s.minValueReal=h,i=0;i<a;i++)o=t[i],isNaN(o.value)?o.percents=void 0:(o.percents=(o.value-h)/r*100,h==l&&(o.percents=100));for(i=0;i<a;i++){var d=n[(o=t[i]).id];e=s.areasSettings,d&&d.className&&(r=s.areasClasses[d.className])&&(e=r,e=S.processObject(e,S.AreasSettings,s.theme));var u,p=e.color,m=e.alpha,g=e.outlineThickness,v=e.rollOverColor,f=e.selectedColor,b=e.rollOverAlpha,C=e.outlineColor,N=e.outlineAlpha,O=e.balloonText,w=e.selectable,z=e.pattern,L=e.rollOverOutlineColor,T=e.bringForwardOnHover,A=e.preserveOriginalAttributes;if(this.allObjects.push(o),o.chart=s,o.baseSettings=e,o.autoZoomReal=null==o.autoZoom?e.autoZoom:o.autoZoom,null==(r=o.color)&&(r=p),c=o.alpha,isNaN(c)&&(c=m),m=o.rollOverAlpha,isNaN(m)&&(m=b),isNaN(m)&&(m=c),null==(b=o.rollOverColor)&&(b=v),null==(v=o.pattern)&&(v=z),null==(z=o.selectedColor)&&(z=f),(f=o.balloonText)||(f=O),null==e.colorSolid||isNaN(o.value)||((O=Math.floor((o.value-h)/((l-h)/s.colorSteps)))==s.colorSteps&&O--,O*=1/(s.colorSteps-1),l==h&&(O=1),o.colorReal=S.getColorFade(r,e.colorSolid,O)),null!=o.color&&(o.colorReal=o.color),null==o.selectable&&(o.selectable=w),null==o.colorReal&&(o.colorReal=p),null==(p=o.outlineColor)&&(p=C),C=o.outlineAlpha,isNaN(C)&&(C=N),N=o.outlineThickness,isNaN(N)&&(N=g),null==(g=o.rollOverOutlineColor)&&(g=L),null==o.bringForwardOnHover&&(o.bringForwardOnHover=T),null==o.preserveOriginalAttributes&&(o.preserveOriginalAttributes=A),o.alphaReal=c,o.rollOverColorReal=b,o.rollOverAlphaReal=m,o.balloonTextReal=f,o.selectedColorReal=z,o.outlineColorReal=p,o.outlineAlphaReal=C,o.rollOverOutlineColorReal=g,o.outlineThicknessReal=N,o.patternReal=v,S.processDescriptionWindow(e,o),d&&(e=d.area,L=d.title,o.enTitle=d.title,L&&!o.title&&(o.title=L),(d=s.language)?(L=S.mapTranslations)&&(d=L[d])&&d[o.enTitle]&&(o.titleTr=d[o.enTitle]):o.titleTr=void 0,e))o.displayObject=e,o.mouseEnabled&&s.addObjectEventListeners(e,o),null!=r&&(u=r),null!=o.colorReal&&(u=o.showAsSelected||s.selectedObject==o?o.selectedColorReal:o.colorReal),e.node.setAttribute("class",""),S.setCN(s,e,"map-area"),S.setCN(s,e,"map-area-"+e.id),o.preserveOriginalAttributes||(e.setAttr("fill",u),e.setAttr("stroke",p),e.setAttr("stroke-opacity",C),e.setAttr("stroke-width",N),e.setAttr("fill-opacity",c)),v&&e.pattern(v,s.mapScale,s.path),o.hidden&&e.hide()}},updateAllAreas:function(){var t,e=this.chart,i=e.areasSettings,o=i.unlistedAreasColor,s=i.unlistedAreasAlpha,a=i.unlistedAreasOutlineColor,r=i.unlistedAreasOutlineAlpha,n=e.svgAreas,l=e.dataProvider,h=l.areas,c={};for(t=0;t<h.length;t++)c[h[t].id]=h[t];for(t=0;t<n.length;t++){if(h=n[t],i.preserveOriginalAttributes){if(h.customAttr)for(var d in h.customAttr)h.setAttr(d,h.customAttr[d])}else null!=o&&h.setAttr("fill",o),isNaN(s)||h.setAttr("fill-opacity",s),null!=a&&h.setAttr("stroke",a),isNaN(r)||h.setAttr("stroke-opacity",r),h.setAttr("stroke-width",i.outlineThickness);if(S.setCN(e,h,"map-area-unlisted"),l.getAreasFromMap&&!c[h.id]){var u=new S.MapArea(e.theme);u.parentObject=l,u.id=h.id,l.areas.push(u)}}}})}(),function(){var e=window.AmCharts;e.AreasSettings=e.Class({construct:function(t){this.cname="AreasSettings",this.alpha=1,this.autoZoom=!1,this.balloonText="[[title]]",this.color="#FFCC00",this.colorSolid="#990000",this.unlistedAreasAlpha=1,this.unlistedAreasColor="#DDDDDD",this.outlineColor="#FFFFFF",this.outlineAlpha=1,this.outlineThickness=.5,this.selectedColor=this.rollOverOutlineColor="#CC0000",this.unlistedAreasOutlineColor="#FFFFFF",this.unlistedAreasOutlineAlpha=1,this.descriptionWindowWidth=250,this.adjustOutlineThickness=!1,this.bringForwardOnHover=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var S=window.AmCharts;S.ImagesProcessor=S.Class({construct:function(t){this.chart=t,this.reset()},process:function(t){var e,i=t.images;for(e=0;e<i.length;e++)this.createImage(i[e],e);t.parentObject&&t.remainVisible&&this.process(t.parentObject)},createImage:function(t,e){var i=this.chart,o=i.container,s=i.mapImagesContainer,a=i.stageImagesContainer,r=i.imagesSettings;t.remove&&t.remove();var n=r.color,l=r.alpha,h=r.rollOverColor,c=r.rollOverOutlineColor,d=r.selectedColor,u=r.balloonText,p=r.outlineColor,m=r.outlineAlpha,g=r.outlineThickness,v=r.selectedScale,f=r.rollOverScale,b=r.labelPosition,C=r.labelColor,N=r.labelFontSize,O=r.bringForwardOnHover,w=r.labelRollOverColor,z=r.selectedLabelColor;t.index=e,t.chart=i,t.baseSettings=i.imagesSettings;var L=o.set();t.displayObject=L;var T,A=t.color;null==A&&(A=n),n=t.alpha,isNaN(n)&&(n=l),null==t.bringForwardOnHover&&(t.bringForwardOnHover=O),l=t.outlineAlpha,isNaN(l)&&(l=m),null==(m=t.rollOverColor)&&(m=h),null==(h=t.selectedColor)&&(h=d),(d=t.balloonText)||(d=u),null==(u=t.outlineColor)&&(u=p),t.outlineColorReal=u,p=t.outlineThickness,isNaN(p)&&(p=g),(g=t.labelPosition)||(g=b),null==(b=t.labelColor)&&(b=C),null==(C=t.labelRollOverColor)&&(C=w),null==(w=t.selectedLabelColor)&&(w=z),z=t.labelFontSize,isNaN(z)&&(z=N),N=t.selectedScale,isNaN(N)&&(N=v),v=t.rollOverScale,isNaN(v)&&(v=f),t.colorReal=A,t.alphaReal=n,t.rollOverColorReal=m,t.balloonTextReal=d,t.selectedColorReal=h,t.labelColorReal=b,t.labelRollOverColorReal=C,t.selectedLabelColorReal=w,t.labelFontSizeReal=z,t.labelPositionReal=g,t.selectedScaleReal=N,t.rollOverScaleReal=v,t.rollOverOutlineColorReal=c,S.processDescriptionWindow(r,t),t.centeredReal=null==t.centered?r.centered:t.centered,v=t.type,N=t.imageURL,z=t.svgPath,w=t.width,m=t.height,c=t.scale,isNaN(t.percentWidth)||(w=t.percentWidth/100*i.realWidth),isNaN(t.percentHeight)||(m=t.percentHeight/100*i.realHeight),N||v||z||(v="circle",w=1,l=n=0),C=f=0,r=t.selectedColorReal,v?(isNaN(w)&&(w=10),isNaN(m)&&(m=10),"kilometers"==t.widthAndHeightUnits&&(w=i.kilometersToPixels(t.width),m=i.kilometersToPixels(t.height)),"miles"==t.widthAndHeightUnits&&(w=i.milesToPixels(t.width),m=i.milesToPixels(t.height)),"circle"!=v&&"bubble"!=v||(m=w),T=this.createPredefinedImage(A,u,p,v,w,m),C=f=0,t.centeredReal?(isNaN(t.right)||(f=w*c),isNaN(t.bottom)||(C=m*c)):(f=w*c/2,C=m*c/2),T.translate(f,C,c)):N?(isNaN(w)&&(w=10),isNaN(m)&&(m=10),(T=o.image(N,0,0,w,m)).node.setAttribute("preserveAspectRatio","none"),T.setAttr("opacity",n),t.centeredReal&&(f=isNaN(t.right)?-w/2:w/2,C=isNaN(t.bottom)?-m/2:m/2,T.translate(f,C))):z&&(u=(T=o.path(z)).getBBox(),t.centeredReal?(f=-u.x*c-u.width*c/2,isNaN(t.right)||(f=-f),C=-u.y*c-u.height*c/2,isNaN(t.bottom)||(C=-C)):f=C=0,T.translate(f,C,c),T.x=f,T.y=C),T&&(L.push(T),(t.image=T).setAttr("stroke-opacity",l),T.setAttr("fill-opacity",n),T.setAttr("fill",A),S.setCN(i,T,"map-image"),null!=t.id&&S.setCN(i,T,"map-image-"+t.id)),A=t.labelColorReal,!t.showAsSelected&&i.selectedObject!=t||null==r||(T.setAttr("fill",r),A=t.selectedLabelColorReal),T=null,void 0!==t.label&&(T=S.text(o,t.label,A,i.fontFamily,t.labelFontSizeReal,t.labelAlign),S.setCN(i,T,"map-image-label"),void 0!==t.id&&S.setCN(i,T,"map-image-label-"+t.id),A=t.labelBackgroundAlpha,(n=t.labelBackgroundColor)&&0<A&&(l=T.getBBox(),o=S.rect(o,l.width+16,l.height+10,n,A),S.setCN(i,o,"map-image-label-background"),null!=t.id&&S.setCN(i,o,"map-image-label-background-"+t.id),L.push(o),t.labelBG=o),t.imageLabel=T,L.push(T),S.setCN(i,L,"map-image-container"),null!=t.id&&S.setCN(i,L,"map-image-container-"+t.id)),isNaN(t.latitude)||isNaN(t.longitude)?a.push(L):s.push(L),L&&(L.rotation=t.rotation,isNaN(t.rotation)||L.rotate(t.rotation)),this.updateSizeAndPosition(t),t.mouseEnabled&&i.addObjectEventListeners(L,t),t.hidden&&L.hide()},updateSizeAndPosition:function(t){var e=this.chart,i=t.displayObject,o=e.getX(t.left),s=e.getY(t.top),a=t.image.getBBox();isNaN(t.right)||(o=e.getX(t.right,!0)-a.width*t.scale),isNaN(t.bottom)||(s=e.getY(t.bottom,!0)-a.height*t.scale);var r=t.longitude,n=t.latitude;a=this.objectsToResize;this.allSvgObjects.push(i),this.allObjects.push(t);var l=t.imageLabel;isNaN(o)||isNaN(s)?isNaN(n)||isNaN(r)||(o=e.longitudeToCoordinate(r),s=e.latitudeToCoordinate(n),i.translate(o,s,NaN,!0),!t.fixedSize)||(o=1,!t.showAsSelected&&e.selectedObject!=t||(o=t.selectedScaleReal),a.push({image:i,scale:o})):i.translate(o,s),this.positionLabel(l,t,t.labelPositionReal)},positionLabel:function(t,e,i){if(t){var o=0,s=0,a=0,r=0;(n=e.image)&&(r=n.getBBox(),s=n.y,o=n.x,a=r.width,r=r.height,e.svgPath&&(a*=e.scale,r*=e.scale));var n,l=(n=t.getBBox()).width,h=n.height;"right"==i&&(o+=a+l/2+5,s+=r/2-2),"left"==i&&(o+=-l/2-5,s+=r/2-2),"top"==i&&(s-=h/2+3,o+=a/2),"bottom"==i&&(s+=r+h/2,o+=a/2),"middle"==i&&(o+=a/2,s+=r/2),t.translate(o+e.labelShiftX,s+e.labelShiftY),e.labelBG&&e.labelBG.translate(o-n.width/2+e.labelShiftX-9,s+e.labelShiftY-n.height/2-3)}},createPredefinedImage:function(t,e,i,o,s,a){var r,n=this.chart.container;switch(o){case"circle":r=S.circle(n,s/2,t,1,i,e,1);break;case"rectangle":r=S.polygon(n,[-s/2,s/2,s/2,-s/2],[a/2,a/2,-a/2,-a/2],t,1,i,e,1);break;case"bubble":r=S.circle(n,s/2,t,1,i,e,1,!0);break;case"hexagon":s/=Math.sqrt(3),r=S.polygon(n,[.87*s,0*s,-.87*s,-.87*s,0*s,.87*s],[.5*s,+s,.5*s,-.5*s,-1*s,-.5*s],t,1,i,e,1)}return r},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.allLabels=[]}})}(),function(){var e=window.AmCharts;e.ImagesSettings=e.Class({construct:function(t){this.cname="ImagesSettings",this.balloonText="[[title]]",this.alpha=1,this.borderAlpha=0,this.borderThickness=1,this.labelPosition="right",this.labelColor="#000000",this.labelFontSize=11,this.color="#000000",this.labelRollOverColor="#00CC00",this.centered=!0,this.rollOverScale=this.selectedScale=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,this.outlineColor="transparent",e.applyTheme(this,t,this.cname)}})}(),function(){var J=window.AmCharts;J.LinesProcessor=J.Class({construct:function(t){this.chart=t,this.reset()},process:function(t){var e,i=t.lines,o=this.chart,s=o.linesSettings,a=this.objectsToResize,r=o.mapLinesContainer,n=o.stageLinesContainer,l=s.thickness,h=s.dashLength,c=s.arrow,d=s.arrowSize,u=s.arrowColor,p=s.arrowAlpha,m=s.color,g=s.alpha,v=s.rollOverColor,f=s.selectedColor,b=s.rollOverAlpha,C=s.balloonText,N=s.bringForwardOnHover,O=s.arc,w=o.container;for(e=0;e<i.length;e++){var z=i[e];z.chart=o,z.baseSettings=s;var L=w.set();if(z.displayObject=L,this.allSvgObjects.push(L),this.allObjects.push(z),z.mouseEnabled&&o.addObjectEventListeners(L,z),z.remainVisible||o.selectedObject==z.parentObject){var T=z.thickness;isNaN(T)&&(T=l);var A=z.dashLength;isNaN(A)&&(A=h);var S=z.color;null==S&&(S=m);var M=z.alpha;isNaN(M)&&(M=g);var j=z.rollOverAlpha;isNaN(j)&&(j=b),isNaN(j)&&(j=M),null==(H=z.rollOverColor)&&(H=v);var y=z.selectedColor;null==y&&(y=f),W=(W=z.balloonText)||C;var k=z.arc;isNaN(k)&&(k=O);var I=z.arrow;I&&("none"!=I||"none"==c)||(I=c);var x=z.arrowColor;null==x&&(x=u),null==x&&(x=S);var R=z.arrowAlpha;isNaN(R)&&(R=p),isNaN(R)&&(R=M);var B=z.arrowSize;isNaN(B)&&(B=d),z.alphaReal=M,z.colorReal=S,z.rollOverColorReal=H,z.rollOverAlphaReal=j,z.balloonTextReal=W,z.selectedColorReal=y,z.thicknessReal=T,null==z.bringForwardOnHover&&(z.bringForwardOnHover=N),J.processDescriptionWindow(s,z);var D,H=this.processCoordinates(z.x,o.realWidth),W=this.processCoordinates(z.y,o.realHeight),F=z.longitudes,P=(j=z.latitudes,F.length);if(0<P)for(H=[],D=0;D<P;D++)H.push(o.longitudeToCoordinate(F[D]));if(0<(P=j.length))for(W=[],D=0;D<P;D++)W.push(o.latitudeToCoordinate(j[D]));if(0<H.length){var X,Y,Z,E,G,V;if(J.dx=0,J.dy=0,10<=(D=10*(1-Math.abs(k)))&&(D=NaN),D<1&&(D=1),isNaN(D))F=J.line(w,H,W,S,1,T,A,!1,!1,!0),S=J.line(w,H,W,S,.001,3,A,!1,!1,!0);else{P=1,k<0&&(P=0),F={stroke:S,"stroke-opacity":1,"stroke-width":T,"fill-opacity":0},void 0!==A&&0<A&&(F["stroke-dasharray"]=A);A=H[0];var U=H[1],q=W[0],K=W[1];Z=(Y=Math.sqrt(Math.pow(U-A,2)+Math.pow(K-q,2)))/2*D,X=270+180*Math.acos(Y/2/Z)/Math.PI,isNaN(X)&&(X=270),A<U&&(D=A,A=U,U=D,D=q,q=K,K=D,X=-X),0<k&&(X=-X),A="M"+A+","+q+"A"+Z+","+Z+",0,0,"+P+","+U+","+K,F=w.path(A).attr(F),S=w.path(A).attr({stroke:S,"stroke-width":3,"stroke-opacity":.001,fill:"none"})}if(J.setCN(o,F,"map-line"),null!=z.id&&J.setCN(o,F,"map-line-"+z.id),J.dx=.5,J.dy=.5,L.push(F),L.push(S),F.setAttr("opacity",M),"none"!=I)"end"!=I&&"both"!=I||(M=H[H.length-1],P=W[W.length-1],E=1<H.length?(A=H[H.length-2],W[W.length-2]):(A=M,P),E=180*Math.atan((P-E)/(M-A))/Math.PI,isNaN(X)||(E+=X),V=P,E=(G=M)-A<0?E-90:E+90),"both"==I&&(M=J.polygon(w,[-B/2,0,B/2],[1.5*B,0,1.5*B],x,R,1,x,R),L.push(M),M.translate(G,V,1,!0),M.rotate(E),J.setCN(o,F,"map-line-arrow"),null!=z.id&&J.setCN(o,F,"map-line-arrow-"+z.id),z.fixedSize&&a.push(M)),"start"!=I&&"both"!=I||(M=H[0],V=W[0],G=1<H.length?(A=H[1],W[1]):(A=M,V),E=180*Math.atan((V-G)/(M-A))/Math.PI,isNaN(X)||(E-=X),E=(G=M)-A<0?E-90:E+90),"middle"==I&&(M=H[H.length-1],P=W[W.length-1],E=1<H.length?(A=H[H.length-2],W[W.length-2]):(A=M,P),G=A+(M-A)/2,V=E+(P-E)/2,E=180*Math.atan((P-E)/(M-A))/Math.PI,isNaN(X)||(I=Y/2,I=Z-Math.sqrt(Z*Z-I*I),k<0&&(I=-I),-1==(k=Math.sin(E/180*Math.PI))&&(k=1),G-=k*I,V+=Math.cos(E/180*Math.PI)*I),E=M-A<0?E-90:E+90),M=J.polygon(w,[-B/2,0,B/2],[1.5*B,0,1.5*B],x,R,1,x,R),J.setCN(o,F,"map-line-arrow"),null!=z.id&&J.setCN(o,F,"map-line-arrow-"+z.id),L.push(M),M.translate(G,V,1,!0),M.rotate(E),z.fixedSize&&a.push(M),z.arrowSvg=M;z.fixedSize&&F&&(this.linesToResize.push({line:F,thickness:T}),this.linesToResize.push({line:S,thickness:3})),z.lineSvg=F,z.showAsSelected&&!isNaN(y)&&F.setAttr("stroke",y),0<j.length?r.push(L):n.push(L),z.hidden&&L.hide()}}}t.parentObject&&t.remainVisible&&this.process(t.parentObject)},processCoordinates:function(t,e){var i,o=[];for(i=0;i<t.length;i++){var s=t[i],a=Number(s);isNaN(a)&&(a=Number(s.replace("%",""))*e/100),isNaN(a)||o.push(a)}return o},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.linesToResize=[]}})}(),function(){var e=window.AmCharts;e.LinesSettings=e.Class({construct:function(t){this.cname="LinesSettings",this.balloonText="[[title]]",this.thickness=1,this.dashLength=0,this.arrowSize=10,this.arrowAlpha=1,this.arrow="none",this.color="#990000",this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapObject=e.Class({construct:function(t){this.fixedSize=this.mouseEnabled=!0,this.images=[],this.lines=[],this.areas=[],this.remainVisible=!0,this.passZoomValuesToTarget=!1,this.objectType=this.cname,e.applyTheme(this,t,"MapObject")}})}(),function(e){(e=window.AmCharts).MapArea=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapArea",e.MapArea.base.construct.call(this,t),e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapLine=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapLine",this.longitudes=[],this.latitudes=[],this.x=[],this.y=[],this.arrow="none",e.MapLine.base.construct.call(this,t),e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapImage=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapImage",this.scale=1,this.widthAndHeightUnits="pixels",this.labelShiftY=this.labelShiftX=0,e.MapImage.base.construct.call(this,t),e.applyTheme(this,t,this.cname)},remove:function(){var t=this.displayObject;t&&t.remove(),(t=this.imageLabel)&&t.remove()}})}(),function(){var n=window.AmCharts;n.degreesToRadians=function(t){return t/180*Math.PI},n.radiansToDegrees=function(t){return t/Math.PI*180},n.getColorFade=function(t,e,i){e=(s=n.hex2RGB(e))[0];var o=s[1],s=s[2];t=(r=n.hex2RGB(t))[0];var a=r[1],r=r[2];return"rgb("+(t+=Math.round((e-t)*i))+","+(a+=Math.round((o-a)*i))+","+(r+=Math.round((s-r)*i))+")"},n.hex2RGB=function(t){return[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)]},n.processDescriptionWindow=function(t,e){isNaN(e.descriptionWindowX)&&(e.descriptionWindowX=t.descriptionWindowX),isNaN(e.descriptionWindowY)&&(e.descriptionWindowY=t.descriptionWindowY),isNaN(e.descriptionWindowLeft)&&(e.descriptionWindowLeft=t.descriptionWindowLeft),isNaN(e.descriptionWindowRight)&&(e.descriptionWindowRight=t.descriptionWindowRight),isNaN(e.descriptionWindowTop)&&(e.descriptionWindowTop=t.descriptionWindowTop),isNaN(e.descriptionWindowBottom)&&(e.descriptionWindowBottom=t.descriptionWindowBottom),isNaN(e.descriptionWindowWidth)&&(e.descriptionWindowWidth=t.descriptionWindowWidth),isNaN(e.descriptionWindowHeight)&&(e.descriptionWindowHeight=t.descriptionWindowHeight)}}(),function(){var t=window.AmCharts;t.MapData=t.Class({inherits:t.MapObject,construct:function(){this.cname="MapData",t.MapData.base.construct.call(this),this.projection="mercator",this.topLatitude=90,this.bottomLatitude=-90,this.leftLongitude=-180,this.rightLongitude=180,this.zoomLevel=1,this.getAreasFromMap=!1}})}(),function(){var t=window.AmCharts;t.DescriptionWindow=t.Class({construct:function(){},show:function(t,e,i,o){var s=this,a=document.createElement("div");a.style.position="absolute";var r=t.classNamePrefix+"-description-";a.className="ammapDescriptionWindow "+r+"div",s.div=a,e.appendChild(a);var n=document.createElement("img");n.className="ammapDescriptionWindowCloseButton "+r+"close-img",n.src=t.pathToImages+"xIcon.gif",n.style.cssFloat="right",n.onclick=function(){s.close()},n.onmouseover=function(){n.src=t.pathToImages+"xIconH.gif"},n.onmouseout=function(){n.src=t.pathToImages+"xIcon.gif"},a.appendChild(n),(e=document.createElement("div")).className="ammapDescriptionTitle "+r+"title-div",e.onmousedown=function(){s.div.style.zIndex=1e3},a.appendChild(e),o=document.createTextNode(o),e.appendChild(o),o=e.offsetHeight,(e=document.createElement("div")).className="ammapDescriptionText "+r+"text-div",e.style.maxHeight=s.maxHeight-o-20+"px",a.appendChild(e),e.innerHTML=i},close:function(){try{this.div.parentNode.removeChild(this.div)}catch(t){}}})}(),function(){var d=window.AmCharts;d.ValueLegend=d.Class({construct:function(t){this.cname="ValueLegend",this.enabled=!0,this.showAsGradient=!1,this.minValue=0,this.height=12,this.width=200,this.bottom=this.left=10,this.borderColor="#FFFFFF",this.borderAlpha=this.borderThickness=1,this.color="#000000",this.fontSize=11,d.applyTheme(this,t,this.cname)},init:function(t,e){if(this.enabled){var i=t.areasSettings.color,o=t.areasSettings.colorSolid,s=t.colorSteps;d.remove(this.set);var a=e.set();this.set=a,d.setCN(t,a,"value-legend");var r=0,n=this.minValue,l=this.fontSize,h=t.fontFamily,c=this.color;if(null==n&&(n=t.minValueReal),void 0!==n&&((r=d.text(e,n,c,h,l,"left")).translate(0,l/2-1),d.setCN(t,r,"value-legend-min-label"),a.push(r),r=r.getBBox().height),void 0===(n=this.maxValue)&&(n=t.maxValueReal),void 0!==n&&((r=d.text(e,n,c,h,l,"right")).translate(this.width,l/2-1),d.setCN(t,r,"value-legend-max-label"),a.push(r),r=r.getBBox().height),this.showAsGradient)i=d.rect(e,this.width,this.height,[i,o],1,this.borderThickness,this.borderColor,1,0,0),d.setCN(t,i,"value-legend-gradient"),i.translate(0,r),a.push(i);else for(l=this.width/s,h=0;h<s;h++)c=d.getColorFade(i,o,h/(s-1)),c=d.rect(e,l,this.height,c,1,this.borderThickness,this.borderColor,1),d.setCN(t,c,"value-legend-color"),d.setCN(t,c,"value-legend-color-"+h),c.translate(l*h,r),a.push(c);o=i=0,s=a.getBBox(),r=t.getY(this.bottom,!0),l=t.getY(this.top),h=t.getX(this.right,!0),c=t.getX(this.left),isNaN(l)||(i=l),isNaN(r)||(i=r-s.height),isNaN(c)||(o=c),isNaN(h)||(o=h-s.width),a.translate(o,i)}else d.remove(this.set)}})}(),function(){var t=window.AmCharts;t.ObjectList=t.Class({construct:function(t){this.divId=t},init:function(t){this.chart=t;var e=this.divId;this.container&&(e=this.container),this.div="object"!=typeof e?document.getElementById(e):e,(e=document.createElement("div")).className="ammapObjectList "+t.classNamePrefix+"-object-list-div",this.div.appendChild(e),this.addObjects(t.dataProvider,e)},addObjects:function(t,e){var i,o=this.chart,s=document.createElement("ul");if(s.className=o.classNamePrefix+"-object-list-ul",t.areas)for(i=0;i<t.areas.length;i++){var a=t.areas[i];void 0===a.showInList&&(a.showInList=o.showAreasInList),this.addObject(a,s)}if(t.images)for(i=0;i<t.images.length;i++)void 0===(a=t.images[i]).showInList&&(a.showInList=o.showImagesInList),this.addObject(a,s);if(t.lines)for(i=0;i<t.lines.length;i++)void 0===(a=t.lines[i]).showInList&&(a.showInList=o.showLinesInList),this.addObject(a,s);0<s.childNodes.length&&e.appendChild(s)},addObject:function(t,e){var i=this;if(t.showInList&&void 0!==t.title){var o=i.chart,s=document.createElement("li");s.className=o.classNamePrefix+"-object-list-li";var a=document.createTextNode(t.title),r=document.createElement("a");r.className=o.classNamePrefix+"-object-list-a",r.appendChild(a),s.appendChild(r),e.appendChild(s),this.addObjects(t,s),r.onmouseover=function(){i.chart.rollOverMapObject(t,!1)},r.onmouseout=function(){i.chart.rollOutMapObject(t)},r.onclick=function(){i.chart.clickMapObject(t)}}}})}();