{"version":3,"sources":["single-spa.dev.js"],"names":["global","factory","exports","module","define","amd","self","singleSpa","this","Object","freeze","__proto__","start","ensureJQuerySupport","setBootstrapMaxTime","setMountMaxTime","setUnmountMaxTime","setUnloadMaxTime","registerApplication","getMountedApps","getAppStatus","unloadApplication","checkActivityFunctions","getAppNames","pathToActiveWhen","navigateToUrl","triggerAppChange","addErrorHandler","removeErrorHandler","mountRootParcel","NOT_LOADED","LOADING_SOURCE_CODE","NOT_BOOTSTRAPPED","BOOTSTRAPPING","NOT_MOUNTED","MOUNTING","UPDATING","LOAD_ERROR","MOUNTED","UNMOUNTING","SKIP_BECAUSE_BROKEN","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","defineProperty","enumerable","configurable","writable","NativeCustomEvent","globalThis","window","CustomEvent","customEvent","p","detail","foo","type","e","useNative","document","createEvent","params","initCustomEvent","bubbles","cancelable","createEventObject","Boolean","errorHandlers","handleAppError","err","app","newStatus","transformedErr","transformErr","length","forEach","handler","setTimeout","Error","formatErrorMessage","push","removedSomething","filter","h","isHandler","code","msg","_len","arguments","args","Array","_key","concat","join","ogErr","appOrParcel","result","errPrefix","objectType","toName","status","message","console","warn","JSON","stringify","appOrParcelName","UNLOADING","isActive","shouldBeActive","activeWhen","location","name","isParcel","unmountThisParcel","assign","i","find","arr","func","validLifecycleFn","fn","isArray","item","flattenFnArray","lifecycle","fns","Promise","resolve","props","reduce","resultPromise","index","then","thisPromise","smellsLikeAPromise","reject","promise","catch","toBootstrapPromise","hardFail","reasonableTime","toUnmountPromise","unmountChildrenParcels","keys","parcels","map","parcelId","all","unmountAppOrParcel","parcelError","parentError","beforeFirstMountFired","firstMountFired","toMountPromise","dispatchEvent","setSkipBecauseBroken","parcelCount","rootParcels","mountParcel","apply","config","customProps","owningAppOrParcel","domElement","id","passedConfigLoadingFunction","configLoadingFunction","parcel","parentName","resolveUnmount","rejectUnmount","loadPromise","externalRepresentation","bootstrapPromise","bootstrap","mount","unmount","update","timeouts","ensureValidAppTimeouts","promiseWithoutReturnValue","mountPromise","unmountPromise","getStatus","getProps","bind","unmountSelf","defaultWarningMillis","globalTimeoutConfig","millis","dieOnTimeout","warningMillis","unload","time","timeoutConfig","warningPeriod","finished","errored","val","maybeTimingOut","errMsg","shouldError","numWarnings","numMillis","error","toLoadPromise","loadApp","isUserErr","validationErrMessage","validationErrCode","loadErrorTime","appOpts","appOptsStr","_unused","devtools","overlays","Date","getTime","urlRerouteOnly","originalAddEventListener","originalRemoveEventListener","isInBrowser","capturedEventListeners","hashchange","popstate","routingEventsListeningTo","url","href","currentTarget","preventDefault","current","parseUri","destination","indexOf","hash","host","pathname","search","history","pushState","callCapturedEventListeners","eventArguments","eventType","_this","listener","urlReroute","reroute","patchedUpdateState","updateState","methodName","urlBefore","urlAfter","state","originalMethodName","evt","PopStateEvent","initPopStateEvent","singleSpaTrigger","createPopStateEvent","str","anchor","createElement","addEventListener","removeEventListener","eventName","listenerFn","replaceState","singleSpaNavigate","hasInitialized","originalJQueryOn","originalJQueryOff","jQuery","undefined","$","jquery","on","off","eventString","captureRoutingEvents","call","originalJQueryFunction","nativeFunctionToCall","originalArgs","split","replace","trim","appsToUnload","toUnloadPromise","unloadInfo","finishUnloadingApp","addAppToUnload","promiseGetter","get","getAppUnloadInfo","appName","apps","appNameOrConfig","appOrLoadApp","registration","usingObjectAPI","validKeys","invalidKeys","prop","allowsStringAndFunction","every","validCustomProps","validateRegisterWithConfig","validateRegisterWithArguments","sanitizeLoadApp","sanitizeCustomProps","activeWhenArray","activeWhenOrPath","some","sanitizeActiveWhen","sanitizeArguments","options","selectors","opts","waitForUnmount","App","appUnloadInfo","immediatelyUnloadApp","path","regex","lastIndex","inDynamic","regexStr","charIndex","char","endOfDynamic","appendToRegex","RegExp","commonStringSubPath","slice","toDynamicPathValidatorRegex","route","origin","test","appChangeUnderway","peopleWaitingOnAppChange","pendingPromises","appsToUnmount","appsToLoad","appsToMount","currentTime","appsThatChanged","_getAppChanges","appShouldBeActive","started","getCustomEventDetail","unloadPromises","allUnmountPromises","unmountAllPromise","loadThenMountPromises","tryToBootstrapAndMount","mountPromises","appToMount","callAllEventListeners","finishUpAndReturn","loadPromises","nextPendingPromises","returnValue","appChangeEventName","pendingPromise","_appsByNewStatus","isBeforeChanges","newAppStatuses","appsByNewStatus","addApp","totalAppChanges","originalEvent","getRawAppData","unregisterApplication","appIndex","findIndex","splice","__SINGLE_SPA_DEVTOOLS__","exposedMethods"],"mappings":"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"}