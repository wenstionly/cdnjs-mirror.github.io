!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Carousel=t()}(this,function(){"use strict";var B="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"],O=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,t)},t)}catch(e){}return e}()&&{passive:!0},i="webkitTransition"in document.body.style||"transition"in document.body.style,n="webkitTransition"in document.body.style?"webkitTransitionDuration":"transitionDuration";function M(e){var t=i?parseFloat(getComputedStyle(e)[n]):0;return t="number"!=typeof t||isNaN(t)?0:1e3*t}var j="webkitTransition"in document.body.style?"webkitTransitionEnd":"transitionend";function H(e,t,i){var n=new CustomEvent(e+".bs."+t,{cancelable:!0});return n.relatedTarget=i,n}function W(e){this&&this.dispatchEvent(e)}return function(a,e){e=e||{};var r,c,l,u,i,n,t,s,o,d,v,m,f,h,g,p,y,L,T,b=this;function x(){!1===T.interval||a.classList.contains("paused")||(a.classList.add("paused"),r.isSliding||(clearInterval(r.timer),r.timer=null))}function E(){!1!==T.interval&&a.classList.contains("paused")&&(a.classList.remove("paused"),r.isSliding||(clearInterval(r.timer),r.timer=null),r.isSliding||b.cycle())}function X(e){if(e.preventDefault(),!r.isSliding){var t=e.target;if(!t||t.classList.contains("active")||!t.getAttribute("data-slide-to"))return!1;r.index=parseInt(t.getAttribute("data-slide-to")),b.slideTo(r.index)}}function k(e){var t;e.preventDefault(),r.isSliding||((t=e.currentTarget||e.srcElement)===n?r.index++:t===i&&r.index--,b.slideTo(r.index))}function C(e){var t=e.which;if(!r.isSliding){switch(t){case 39:r.index++;break;case 37:r.index--;break;default:return}b.slideTo(r.index)}}function P(e){e=e?"addEventListener":"removeEventListener",T.pause&&T.interval&&(a[e](B[0],x,!1),a[e](B[1],E,!1),a[e]("touchstart",x,O),a[e]("touchend",E,O)),T.touch&&1<u.length&&a[e]("touchstart",A,O),n&&n[e]("click",k,!1),i&&i[e]("click",k,!1),t&&t[e]("click",X,!1),T.keyboard&&window[e]("keydown",C,!1)}function S(e){a[e=e?"addEventListener":"removeEventListener"]("touchmove",I,O),a[e]("touchend",w,O)}function A(e){r.isTouch||(r.touchPosition.startX=e.changedTouches[0].pageX,a.contains(e.target)&&(r.isTouch=!0,S(1)))}function I(e){if(r.isTouch)return r.touchPosition.currentX=e.changedTouches[0].pageX,"touchmove"===e.type&&1<e.changedTouches.length?(e.preventDefault(),!1):void 0;e.preventDefault()}function w(e){if(r.isTouch&&!r.isSliding&&(r.touchPosition.endX=r.touchPosition.currentX||e.changedTouches[0].pageX,r.isTouch)){if((!a.contains(e.target)||!a.contains(e.relatedTarget))&&Math.abs(r.touchPosition.startX-r.touchPosition.endX)<75)return!1;r.touchPosition.currentX<r.touchPosition.startX?r.index++:r.touchPosition.currentX>r.touchPosition.startX&&r.index--,r.isTouch=!1,b.slideTo(r.index),S()}}function N(e){Array.from(s).map(function(e){e.classList.remove("active")}),s[e]&&s[e].classList.add("active")}function D(e){var t,i,n,s;r.touchPosition&&(t=r.index,i=e&&e.target!==u[t]?1e3*e.elapsedTime+100:20,n=b.getActiveIndex(),s="left"===r.direction?"next":"prev",r.isSliding&&setTimeout(function(){r.touchPosition&&(r.isSliding=!1,u[t].classList.add("active"),u[n].classList.remove("active"),u[t].classList.remove("carousel-item-"+s),u[t].classList.remove("carousel-item-"+r.direction),u[n].classList.remove("carousel-item-"+r.direction),W.call(a,l),document.hidden||!T.interval||a.classList.contains("paused")||b.cycle())},i))}b.cycle=function(){r.timer&&(clearInterval(r.timer),r.timer=null),r.timer=setInterval(function(){var e,t,i=r.index||b.getActiveIndex();e=a.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,e.top<=t&&0<=e.bottom&&(i++,b.slideTo(i))},T.interval)},b.slideTo=function(e){var t,i,n,s,o;r.isSliding||(t=b.getActiveIndex())!==e&&(t<e||0===t&&e===u.length-1?r.direction="left":(e<t||t===u.length-1&&0===e)&&(r.direction="right"),e<0?e=u.length-1:e>=u.length&&(e=0),i="left"===r.direction?"next":"prev",c=H("slide","carousel",u[e]),l=H("slid","carousel",u[e]),W.call(a,c),c.defaultPrevented||(r.index=e,r.isSliding=!0,clearInterval(r.timer),r.timer=null,N(e),M(u[e])&&a.classList.contains("slide")?(u[e].classList.add("carousel-item-"+i),u[e].offsetWidth,u[e].classList.add("carousel-item-"+r.direction),u[t].classList.add("carousel-item-"+r.direction),n=u[e],s=D,o=0,M(n)?n.addEventListener(j,function e(t){o||s(t),o=1,n.removeEventListener(j,e)}):setTimeout(function(){o||s(),o=1},17)):(u[e].classList.add("active"),u[e].offsetWidth,u[t].classList.remove("active"),setTimeout(function(){r.isSliding=!1,T.interval&&a&&!a.classList.contains("paused")&&b.cycle(),W.call(a,l)},100))))},b.getActiveIndex=function(){return Array.from(u).indexOf(a.getElementsByClassName("carousel-item active")[0])||0},b.dispose=function(){var i=["left","right","prev","next"];Array.from(u).map(function(t,e){t.classList.contains("active")&&N(e),i.map(function(e){return t.classList.remove("carousel-item-"+e)})}),clearInterval(r.timer),P(),r={},T={},delete a.Carousel},o=a,v=d&&d instanceof Element?d:document,(a=o instanceof Element?o:v.querySelector(o)).Carousel&&a.Carousel.dispose(),u=a.getElementsByClassName("carousel-item"),i=a.getElementsByClassName("carousel-control-prev")[0],n=a.getElementsByClassName("carousel-control-next")[0],t=a.getElementsByClassName("carousel-indicators")[0],s=t&&t.getElementsByTagName("LI")||[],u.length<2||(f="false"===(m=a.getAttribute("data-interval"))?0:parseInt(m),h="false"===a.getAttribute("data-touch")?0:1,g="hover"===a.getAttribute("data-pause")||!1,p="true"===a.getAttribute("data-keyboard")||!1,y=e.interval,L=e.touch,(T={}).keyboard=!0===e.keyboard||p,T.pause=("hover"===e.pause||g)&&"hover",T.touch=L||h,T.interval="number"==typeof y?y:!1===y||0===f||!1===f?0:isNaN(f)?5e3:f,b.getActiveIndex()<0&&(u.length&&u[0].classList.add("active"),s.length&&N(0)),r={direction:"left",index:0,timer:null,isSliding:!1,isTouch:!1,touchPosition:{startX:0,currentX:0,endX:0}},P(1),T.interval&&b.cycle(),a.Carousel=b)}});