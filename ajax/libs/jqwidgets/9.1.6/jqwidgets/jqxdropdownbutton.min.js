!function(w){w.jqx.jqxWidget("jqxDropDownButton","",{}),w.extend(w.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:17,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",placeHolder:"",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:1500,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,hint:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===w.jqx._jqxDropDownButton.prototype||w.extend(!0,this,t),t},createInstance:function(t){var e=this;e.width||(e.width=200),e.height||(e.height=25),e.isanimating=!1;var o=w("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");e.host.attr("tabindex")?(o.attr("tabindex",e.host.attr("tabindex")),e.host.removeAttr("tabindex")):o.attr("tabindex",0),e.focusable||o.removeAttr("tabIndex"),w.jqx.aria(this),e.popupContent=e.host.children(),e.host.attr("role","button"),0==e.popupContent.length?(e.popupContent=w("<div>"+e.host.text()+"</div>"),e.popupContent.css("display","block"),e.element.innerHTML=""):e.popupContent.detach();var n=this;e.addHandler(e.host,"loadContent",function(t){n._arrange()});try{var r="dropDownButtonPopup"+e.element.id,s=w(w.find("#"+r));0<s.length&&s.remove(),w.jqx.aria(this,"aria-haspopup",!0),w.jqx.aria(this,"aria-owns",r);var i=w("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+e.element.id+"'></div>");i.addClass(e.toThemeProperty("jqx-widget-content")),i.addClass(e.toThemeProperty("jqx-dropdownbutton-popup")),i.addClass(e.toThemeProperty("jqx-popup")),i.addClass(e.toThemeProperty("jqx-rc-all")),"element"!=e.dropDownContainer&&i.css("z-index",e.popupZIndex),w.jqx.browser.msie&&i.addClass(e.toThemeProperty("jqx-noshadow")),e.popupContent.appendTo(i),"element"==e.dropDownContainer?i.appendTo(e.host):i.appendTo(document.body),e.container=i,e.container.css("visibility","hidden")}catch(t){}e.touch=w.jqx.mobile.isTouchDevice(),e.dropDownButtonStructure=o,e.host.append(o),e.dropDownButtonWrapper=e.host.find("#dropDownButtonWrapper"),e.firstDiv=e.dropDownButtonWrapper.parent(),e.dropDownButtonArrow=e.host.find("#dropDownButtonArrow"),e.arrow=w(e.dropDownButtonArrow.children()[0]),e.dropDownButtonContent=e.host.find("#dropDownButtonContent"),e.dropDownButtonContent.addClass(e.toThemeProperty("jqx-dropdownlist-content")),e.dropDownButtonWrapper.addClass(e.toThemeProperty("jqx-disableselect")),e.rtl&&e.dropDownButtonContent.addClass(e.toThemeProperty("jqx-rtl"));var a=this;e.host.parents()&&e.addHandler(e.host.parents(),"scroll.dropdownbutton"+e.element.id,function(t){a.isOpened()&&a.close()}),e.addHandler(e.dropDownButtonWrapper,"selectstart",function(){return!1}),e.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+e.element.id,e.dropDownButtonArrow[0].id="dropDownButtonArrow"+e.element.id,e.dropDownButtonContent[0].id="dropDownButtonContent"+e.element.id;a=this;e.propertyChangeMap.disabled=function(t,e,o,n){n?(t.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))),w.jqx.aria(t,"aria-disabled",t.disabled)},e.disabled&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.dropDownButtonContent.addClass(e.toThemeProperty("jqx-dropdownlist-content-disabled")));var d,l=e.toThemeProperty("jqx-rc-all")+" "+e.toThemeProperty("jqx-fill-state-normal")+" "+e.toThemeProperty("jqx-widget")+" "+e.toThemeProperty("jqx-widget-content")+" "+e.toThemeProperty("jqx-dropdownlist-state-normal");e.host.addClass(l),e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.arrow.addClass(e.toThemeProperty("jqx-icon")),e.template&&e.host.addClass(e.toThemeProperty("jqx-"+e.template)),e._setSize(),e.render(),w.jqx.browser.msie&&w.jqx.browser.version<8&&(e.container.css("display","none"),0<e.host.parents(".jqx-window").length&&(d=e.host.parents(".jqx-window").css("z-index"),i.css("z-index",d+10),e.container.css("z-index",d+10)))},setContent:function(t){var e=this;e.dropDownButtonContent.children().remove(),e.dropDownButtonContent[0].innerHTML="",e.dropDownButtonContent.append(t)},val:function(t){if(0==arguments.length||"object"==typeof t)return this.dropDownButtonContent.text();this.dropDownButtonContent.html(t)},getContent:function(){var t=this;return 0<t.dropDownButtonContent.children().length?t.dropDownButtonContent.children():t.dropDownButtonContent.text()},_setSize:function(){var t=this,e=window.getComputedStyle(this.element),o=2*parseInt(e.borderLeftWidth);"border-box"!==e.boxSizing&&!isNaN(o)||(o=0),(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&(this.element.style.width=parseInt(this.width)-o+"px"),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&(this.element.style.height=parseInt(this.height)-o+"px");var n=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(n=!0,t.host.width(t.width),0<o&&this.host.css("box-sizing","border-box")),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(n=!0,t.host.height(t.height));var r=this;n&&t.refresh(!1),w.jqx.utilities.resize(t.host,function(){r._arrange()})},isOpened:function(){var t=w.data(document.body,"openedJQXButton"+this.element.id);return null!=t&&t==this.popupContent},focus:function(){try{this.host.focus()}catch(t){}},render:function(){var t=this;t.removeHandlers();var d=this;t.touch||(t.addHandler(t.host,"mouseenter",function(){!d.disabled&&d.enableHover&&(d.host.addClass(d.toThemeProperty("jqx-dropdownlist-state-hover")),d.arrow.addClass(d.toThemeProperty("jqx-icon-arrow-down-hover")),d.host.addClass(d.toThemeProperty("jqx-fill-state-hover")))}),t.addHandler(t.host,"mouseleave",function(){!d.disabled&&d.enableHover&&(d.host.removeClass(d.toThemeProperty("jqx-dropdownlist-state-hover")),d.host.removeClass(d.toThemeProperty("jqx-fill-state-hover")),d.arrow.removeClass(d.toThemeProperty("jqx-icon-arrow-down-hover")),0)})),d.autoOpen&&(t.addHandler(t.host,"mouseenter",function(){!d.isOpened()&&d.autoOpen&&(d.open(),d.host.focus())}),t.addHandler(w(document),"mousemove."+d.element.id,function(t){var e,o,n,r,s,i,a;d.isOpened()&&d.autoOpen&&(o=(e=d.host.coord()).top,n=e.left,s=(r=d.container.coord()).left,i=r.top,a=!0,t.pageY>=o&&t.pageY<=o+d.host.height()&&t.pageX>=n&&t.pageX<n+d.host.width()&&(a=!1),t.pageY>=i&&t.pageY<=i+d.container.height()&&t.pageX>=s&&t.pageX<s+d.container.width()&&(a=!1),a&&d.close())})),t.addHandler(t.dropDownButtonWrapper,"mousedown",function(t){if(!d.disabled){var e="visible"==d.container.css("visibility");if(!d.isanimating){if(e)return d.close(),!1;d.open(),d.focusable||t.preventDefault&&t.preventDefault()}}}),t.touch&&t.addHandler(w(document),w.jqx.mobile.getTouchEventName("touchstart")+"."+t.element.id,d.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(w(document),"mousedown."+t.element.id,d.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(t.host,"keydown",function(t){var e="visible"==d.container.css("visibility");return"none"==d.host.css("display")||("13"==t.keyCode&&(d.isanimating||e&&d.close()),115==t.keyCode?(d.isanimating||(d.isOpened()?d.isOpened()&&d.close():d.open()),!1):(t.altKey&&"block"==d.host.css("display")&&(38==t.keyCode?d.isOpened()&&d.close():40==t.keyCode&&(d.isOpened()||d.open())),void("27"==t.keyCode&&(d.ishiding||(d.close(),null!=d.tempSelectedIndex&&d.selectIndex(d.tempSelectedIndex))))))}),t.addHandler(t.firstDiv,"focus",function(){d.host.addClass(d.toThemeProperty("jqx-dropdownlist-state-focus")),d.host.addClass(d.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.firstDiv,"blur",function(){d.host.removeClass(d.toThemeProperty("jqx-dropdownlist-state-focus")),d.host.removeClass(d.toThemeProperty("jqx-fill-state-focus"))});var e=w("<label></label");this.hint&&(e[0].innerHTML=this.placeHolder),e.addClass(d.toThemeProperty("jqx-input-label")),d.dropDownButtonWrapper.append(e),d.label=e;var o=w("<span></span>");d.dropDownButtonWrapper.append(o),o.addClass(d.toThemeProperty("jqx-input-bar")),d.bar=o,d.bar.css("top",this.host.height()),(t=this).template&&(t.bar.addClass(t.toThemeProperty("jqx-"+t.template)),t.label.addClass(t.toThemeProperty("jqx-"+t.template)))},removeHandlers:function(){var t=this;t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(w(document),"mousemove."+this.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||w.expr.filters.hidden(t));)t=t.nextSibling;var e=w(t).coord(!0);return[e.left,e.top]},testOffset:function(t,e,o){var n,r,s=t.outerWidth(),i=t.outerHeight(),a=w(window).width()+w(window).scrollLeft(),d=w(window).height()+w(window).scrollTop();return e.left+s>a&&s>this.host.width()&&(n=this.host.coord().left,r=s-this.host.width(),e.left=n-r+2),e.left<0&&(e.left=parseInt(this.host.coord().left)+"px"),e.top-=Math.min(e.top,e.top+i>d&&i<d?Math.abs(i+o+22):0),e},_getBodyOffset:function(){var t=0,e=0;return"0px"!=w("body").css("border-top-width")&&(t=parseInt(w("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=w("body").css("border-left-width")&&(e=parseInt(w("body").css("border-left-width")),isNaN(e)&&(e=0)),{left:e,top:t}},open:function(){w.jqx.aria(this,"aria-expanded",!0);var t,o=this,e=this;null!=o.dropDownWidth&&"auto"!=o.dropDownWidth||null==o.width||!o.width.indexOf||-1==o.width.indexOf("%")||(t=o.host.width(),o.container.width(parseInt(t))),e._raiseEvent("2");var n=o.popupContent,r=(w(window).scrollTop(),w(window).scrollLeft(),parseInt(o._findPos(o.host[0])[1])+parseInt(o.host.outerHeight())-1+"px"),s=parseInt(Math.round(o.host.coord(!0).left)),i=s+"px";o.ishiding=!1,o.tempSelectedIndex=o.selectedIndex,n.stop(),o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-selected")),o.host.addClass(o.toThemeProperty("jqx-fill-state-pressed")),o.arrow.addClass(o.toThemeProperty("jqx-icon-arrow-down-selected"));var a=!1;w.jqx.browser.msie&&w.jqx.browser.version<8&&(a=!0),a&&o.container.css("display","block"),o.container.css("left",i),o.container.css("top",r);function d(){var t,e;"right"!=o.dropDownHorizontalAlignment&&!o.rtl||(t=o.container.width(),e=Math.abs(t-o.host.width()),t>o.host.width()?o.container.css("left",parseInt(Math.round(s))-e+"px"):o.container.css("left",parseInt(Math.round(s))+e+"px"))}var l,p,h,c,u,m=!1;d.call(this),"top"==o.dropDownVerticalAlignment&&(l=n.height(),m=!0,o.container.height(n.outerHeight()),n.addClass(this.toThemeProperty("jqx-popup-up")),p=parseInt(o.host.outerHeight()),h=parseInt(r)-Math.abs(l+p),o.interval&&clearInterval(o.interval),o.interval=setInterval(function(){var t;n.outerHeight()!=o.container.height()&&(o.container.height(n.outerHeight()),t=parseInt(r)-Math.abs(n.height()+p),o.container.css("top",t))},50),n.css("top",23),o.container.css("top",h)),o.enableBrowserBoundsDetection&&(c=o.testOffset(n,{left:parseInt(o.container.css("left")),top:parseInt(r)},parseInt(o.host.outerHeight())),parseInt(o.container.css("top"))!=c.top?(m=!0,o.container.height(n.outerHeight()),n.css("top",23),o.interval&&clearInterval(o.interval),o.interval=setInterval(function(){var t;n.outerHeight()!=e.container.height()&&(t=e.testOffset(n,{left:parseInt(o.container.css("left")),top:parseInt(r)},parseInt(o.host.outerHeight())),o.container.css("top",t.top),o.container.height(n.outerHeight()))},50)):n.css("top",0),o.container.css("top",c.top),parseInt(o.container.css("left"))!=c.left&&o.container.css("left",c.left)),"none"==o.animationType?(o.container.css("visibility","visible"),w.data(document.body,"openedJQXButtonParent",e),w.data(document.body,"openedJQXButton"+o.element.id,n),n.css("margin-top",0),n.css("opacity",1),o._raiseEvent("0"),d.call(e)):(o.container.css("visibility","visible"),u=n.outerHeight(),e.isanimating=!0,"fade"==o.animationType?(n.css("margin-top",0),n.css("opacity",0),n.animate({opacity:1},o.openDelay,function(){w.data(document.body,"openedJQXButtonParent",e),w.data(document.body,"openedJQXButton"+e.element.id,n),e.ishiding=!1,e.isanimating=!1,e._raiseEvent("0")}),d.call(e)):(n.css("opacity",1),m?n.css("margin-top",u):n.css("margin-top",-u),d.call(e),n.animate({"margin-top":0},o.openDelay,function(){w.data(document.body,"openedJQXButtonParent",e),w.data(document.body,"openedJQXButton"+e.element.id,n),e.ishiding=!1,e.isanimating=!1,e._raiseEvent("0")}))),m?(o.host.addClass(o.toThemeProperty("jqx-rc-t-expanded")),o.container.addClass(o.toThemeProperty("jqx-rc-b-expanded"))):(o.host.addClass(o.toThemeProperty("jqx-rc-b-expanded")),o.container.addClass(o.toThemeProperty("jqx-rc-t-expanded"))),o.focusable&&(o.firstDiv.focus(),setTimeout(function(){e.firstDiv.focus()},10)),o.container.addClass(o.toThemeProperty("jqx-fill-state-focus")),o.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))},close:function(){w.jqx.aria(this,"aria-expanded",!1);var t=this,e=t.popupContent,o=t.container,n=this;n._raiseEvent("3");var r,s,i=!1;w.jqx.browser.msie&&w.jqx.browser.version<8&&(i=!0),t.isOpened()&&(w.data(document.body,"openedJQXButton"+t.element.id,null),"none"==t.animationType?(t.container.css("visibility","hidden"),i&&t.container.css("display","none")):n.ishiding||(n.isanimating=!0,e.stop(),r=e.outerHeight(),e.css("margin-top",0),s=-r,parseInt(t.container.coord().top)<parseInt(t.host.coord().top)&&(s=r),"fade"==t.animationType?(e.css({opacity:1}),e.animate({opacity:0},t.closeDelay,function(){o.css("visibility","hidden"),n.isanimating=!1,n.ishiding=!1,i&&o.css("display","none")})):e.animate({"margin-top":s},t.closeDelay,function(){o.css("visibility","hidden"),n.isanimating=!1,n.ishiding=!1,i&&o.css("display","none")})),t.ishiding=!0,t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),t.host.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.host.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._raiseEvent("1"))},closeOpenedDropDown:function(t){var e=t.data.me,o=w(t.target);if(w(t.target).ischildof(t.data.me.host))return!0;if(w(t.target).ischildof(t.data.me.popupContent))return!0;var n=!1;return w.each(o.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return!(n=!0);if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return!(n=!0)}}),n||e.close(),!0},refresh:function(){this._arrange()},_arrange:function(){var t=this,e=parseInt(t.host.width()),o=parseInt(t.host.height()),n=(t.arrowSize,t.arrowSize),r=e-n-6;0<r&&(t.dropDownButtonContent[0].style.width=r+"px"),t.dropDownButtonContent[0].style.height=parseInt(o)+"px",t.dropDownButtonContent[0].style.left="0px",t.dropDownButtonContent[0].style.top="0px",t.dropDownButtonArrow[0].style.width=parseInt(n)+"px",t.dropDownButtonArrow[0].style.height=parseInt(o)+"px",t.rtl&&(t.dropDownButtonArrow.css("float","left"),t.dropDownButtonContent.css("float","right"),t.dropDownButtonContent.css("left",-3)),null!=t.dropDownWidth&&(0<=t.dropDownWidth.toString().indexOf("%")?(e=parseInt(t.dropDownWidth)*t.host.width()/100,t.container.width(e)):t.container.width(t.dropDownWidth)),null!=t.dropDownHeight&&t.container.height(t.dropDownHeight)},destroy:function(){w.jqx.utilities.resize(this.host,null,!0);var t=this;t.interval&&clearInterval(t.interval),t.removeHandler(t.dropDownButtonWrapper,"selectstart"),t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.host.removeClass(),t.removeHandler(w(document),"mousedown."+t.element.id,t.closeOpenedDropDown),t.host.remove(),t.container.remove()},_raiseEvent:function(t,e){var o=this;null==e&&(e={owner:null}),2!=t||o.contentInitialized||o.initContent&&(o.initContent(),o.contentInitialized=!0);var n=o.events[t];e.owner=this;var r=new w.Event(n);return r.owner=this,2!=t&&3!=t&&4!=t||(r.args=e),o.host.trigger(r)},resize:function(t,e){this.width=t,this.height=e,this._setSize(),this._arrange()},propertiesChangedHandler:function(t,e,o){o.width&&o.height&&2==Object.keys(o).length&&(t._setSize(),t._arrange(),t.close())},propertyChangedHandler:function(t,e,o,n){null!=this.isInitialized&&0!=this.isInitialized&&(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||("dropDownVerticalAlignment"===e&&t.close(),"template"==e&&(t.host.removeClass(t.toThemeProperty("jqx-"+o)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"rtl"==e&&(n?(t.dropDownButtonArrow.css("float","left"),t.dropDownButtonContent.css("float","right")):(t.dropDownButtonArrow.css("float","right"),t.dropDownButtonContent.css("float","left"))),"autoOpen"==e&&t.render(),"theme"==e&&null!=n&&w.jqx.utilities.setTheme(o,n,t.host),"width"!=e&&"height"!=e||(t._setSize(),t._arrange())))}})}(jqxBaseFramework);