!function(f){f.jqx.jqxWidget("jqxComboBox","",{}),f.extend(f.jqx._jqxComboBox.prototype,{defineInstance:function(){var e={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:f.jqx.utilities.scrollBarSize,arrowSize:17,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,hint:!0,emptyGroupText:"Group",emptyString:"",ready:null,openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",dropDownContainer:"default",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:2e3,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===f.jqx._jqxComboBox.prototype||f.extend(!0,this,e),e},createInstance:function(e){if(this.host.attr("role","combobox"),f.jqx.aria(this,"aria-autocomplete","both"),null==f.jqx._jqxListBox||null==f.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");f.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var e,t,i,s,o,n=this,r=n.element.nodeName.toLowerCase();"select"==r||"ul"==r||"ol"==r?(n.field=n.element,n.field.className&&(n._className=n.field.className),e={title:n.field.title},n.field.id.length?e.id=n.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":e.id=f.jqx.utilities.createId()+"_jqxComboBox",t=f("<div></div>",e),n.width||(n.width=f(n.field).width()),n.height||(n.height=f(n.field).outerHeight()),n.element.style.cssText=n.field.style.cssText,f(n.field).hide().after(t),i=n.host.data(),n.host=t,n.host.data(i),n.element=t[0],n.element.id=n.field.id,n.field.id=e.id,n._className&&(n.host.addClass(n._className),f(n.field).removeClass(n._className)),n.field.tabIndex&&(s=n.field.tabIndex,n.field.tabIndex=-1,n.element.tabIndex=s),""!=n.field.innerHTML&&(o=f.jqx.parseSourceTag(n.field),n.source=o.items,-1==n.selectedIndex&&(n.selectedIndex=o.index))):(0<n.host.find("li").length||0<n.host.find("option").length)&&(o=f.jqx.parseSourceTag(n.element),n.source=o.items),n.removeHandlers(),n.isanimating=!1,n.id=f.jqx.utilities.createId(),n.element.innerHTML="";var l=f("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'></div><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'></div></div></div>");if(n.comboStructure=l,null==f.jqx._jqxListBox||null==f.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";n.touch=f.jqx.mobile.isTouchDevice(),!0===n.touchMode&&(n.touch=!0),n.host.append(l),n.dropdownlistWrapper=n.host.find("#dropdownlistWrapper"),n.dropdownlistArrow=n.host.find("#dropdownlistArrow"),n.dropdownlistContent=n.host.find("#dropdownlistContent"),n.dropdownlistContent.addClass(n.toThemeProperty("jqx-combobox-content")),n.dropdownlistContent.addClass(n.toThemeProperty("jqx-widget-content")),n.dropdownlistWrapper[0].id="dropdownlistWrapper"+n.element.id,n.dropdownlistArrow[0].id="dropdownlistArrow"+n.element.id,n.dropdownlistContent[0].id="dropdownlistContent"+n.element.id,n.template&&n.dropdownlistArrow.addClass(n.toThemeProperty("jqx-"+n.template)),n.dropdownlistContent.append(f('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),n.input=n.dropdownlistContent.find("input"),n.input.addClass(n.toThemeProperty("jqx-combobox-input")),n.input.addClass(n.toThemeProperty("jqx-widget-content")),n.host.attr("tabindex")&&(n.input.attr("tabindex",n.host.attr("tabindex")),n.host.removeAttr("tabindex"));var a=f("<label></label");this.hint&&(a[0].innerHTML=this.placeHolder),a.addClass(n.toThemeProperty("jqx-input-label")),n.dropdownlistWrapper.append(a),n.label=a;var d,h=f("<span></span>");n.dropdownlistWrapper.append(h),h.addClass(n.toThemeProperty("jqx-input-bar")),n.bar=h,(n=this).template&&(n.bar.addClass(n.toThemeProperty("jqx-"+n.template)),n.label.addClass(n.toThemeProperty("jqx-"+n.template))),n._addInput(),n.rtl&&(n.input.css({direction:"rtl"}),n.dropdownlistContent.addClass(n.toThemeProperty("jqx-combobox-content-rtl")));try{var c="listBox"+n.id,p=f(f.find("#"+c));0<p.length&&p.remove(),f.jqx.aria(this,"aria-owns",c),f.jqx.aria(this,"aria-haspopup",!0),f.jqx.aria(this,"aria-multiline",!1),n.listBoxContainer&&n.listBoxContainer.jqxListBox("destroy"),n.container&&n.container.remove();var u=f("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+n.id+"'><div id='innerListBox"+n.id+"'></div></div>");u.hide(),"element"==n.dropDownContainer?u.appendTo(n.host):u.appendTo(document.body),n.container=u,n.listBoxContainer=f(f.find("#innerListBox"+n.id));var m=n.width;"auto"!=n.dropDownWidth&&(m=n.dropDownWidth),null==n.dropDownHeight&&(n.dropDownHeight=200),n.container.width(parseInt(m)+25),n.container.height(parseInt(n.dropDownHeight)+25),n._ready=!1,n.addHandler(n.listBoxContainer,"bindingComplete",function(e){n.listBox||(n.listBox=f.data(n.listBoxContainer[0],"jqxListBox").instance),n._ready||(n.ready&&n.ready(),n._ready=!0),n._raiseEvent("6")}),n.addHandler(n.listBoxContainer,"itemAdd",function(e){n._raiseEvent("7",e.args)}),n.addHandler(n.listBoxContainer,"itemRemove",function(e){n._raiseEvent("8",e.args)}),n.addHandler(n.listBoxContainer,"itemUpdate",function(e){n._raiseEvent("9",e.args)});n.listBoxContainer.jqxListBox({autoItemsHeight:n.autoItemsHeight,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:n.checkboxes,emptyString:n.emptyString,autoBind:!n.remoteAutoComplete&&n.autoBind,renderer:n.renderer,rtl:n.rtl,itemHeight:n.itemHeight,selectedIndex:n.selectedIndex,incrementalSearch:!1,width:m,scrollBarSize:n.scrollBarSize,autoHeight:n.autoDropDownHeight,height:n.dropDownHeight,groupMember:n.groupMember,searchMember:n.searchMember,displayMember:n.displayMember,valueMember:n.valueMember,source:n.source,theme:n.theme,rendered:function(){var e;n.listBox=f.data(n.listBoxContainer[0],"jqxListBox").instance,n.remoteAutoComplete?(n.autoDropDownHeight?(n.container.height(n.listBox.virtualSize.height+25),n.listBoxContainer.height(n.listBox.virtualSize.height),n.listBox._arrange()):(n.listBox._arrange(),n.listBox.ensureVisible(0),n.listBox._renderItems(),n.container.height(n.listBoxContainer.height()+25)),null!=n.searchString&&n.searchString.length>=n.minLength&&(e=n.listBoxContainer.jqxListBox("items"))&&0<e.length?n.isOpened()||n.open():n.close()):(n.renderSelection("mouse"),n.multiSelect&&n.doMultiSelect(!1)),n.rendered&&n.rendered()}}),"element"==n.dropDownContainer?n.listBoxContainer.css({position:"absolute",top:0,left:0}):n.listBoxContainer.css({position:"absolute",zIndex:n.popupZIndex,top:0,left:0}),n.listBoxContainer.css("border-top-width","1px"),n.listBoxContainer.addClass(n.toThemeProperty("jqx-popup")),f.jqx.browser.msie&&n.listBoxContainer.addClass(n.toThemeProperty("jqx-noshadow")),n.template&&n.listBoxContainer.addClass(n.toThemeProperty("jqx-"+n.template+"-item")),n.listBox=f.data(n.listBoxContainer[0],"jqxListBox").instance,n.listBox.enableSelection=n.enableSelection,n.listBox.enableHover=n.enableHover,n.listBox.equalItemsWidth=n.equalItemsWidth,n.listBox._arrange(),n.addHandler(n.listBoxContainer,"unselect",function(e){n.multiSelect||n._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),n.addHandler(n.listBoxContainer,"change",function(e){n.multiSelect||(n.selectedIndex=n.listBox.selectedIndex,n._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))}),"none"==n.animationType?n.container.css("display","none"):n.container.hide(),0}catch(e){throw e}(n=this).input.attr("disabled",n.disabled),f.jqx.browser.msie&&f.jqx.browser.version<8||(n.isMaterialized()&&n.hint?n.label[0].innerHTML=n.placeHolder:n.input.attr("placeholder",n.placeHolder)),n.propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(n.toThemeProperty("jqx-combobox-state-disabled")),e.host.addClass(n.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(n.toThemeProperty("jqx-combobox-content-disabled"))):(e.host.removeClass(n.toThemeProperty("jqx-combobox-state-disabled")),e.host.removeClass(n.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.removeClass(n.toThemeProperty("jqx-combobox-content-disabled"))),e.input.attr("disabled",e.disabled),f.jqx.aria(e,"aria-disabled",e.disabled),e.input.attr("disabled",e.disabled)},n.disabled&&(n.host.addClass(n.toThemeProperty("jqx-combobox-state-disabled")),n.host.addClass(n.toThemeProperty("jqx-fill-state-disabled")),n.dropdownlistContent.addClass(n.toThemeProperty("jqx-combobox-content-disabled"))),n.host.addClass(n.toThemeProperty("jqx-combobox-state-normal")),n.host.addClass(n.toThemeProperty("jqx-combobox")),n.host.addClass(n.toThemeProperty("jqx-rc-all")),n.host.addClass(n.toThemeProperty("jqx-widget")),n.host.addClass(n.toThemeProperty("jqx-widget-content")),n.dropdownlistArrowIcon=f("<div></div>"),"top"==n.dropDownVerticalAlignment?n.dropdownlistArrowIcon.addClass(n.toThemeProperty("jqx-icon-arrow-up")):n.dropdownlistArrowIcon.addClass(n.toThemeProperty("jqx-icon-arrow-down")),n.dropdownlistArrowIcon.addClass(n.toThemeProperty("jqx-icon")),n.dropdownlistArrow.append(n.dropdownlistArrowIcon),n.dropdownlistArrow.addClass(n.toThemeProperty("jqx-combobox-arrow-normal")),n.dropdownlistArrow.addClass(n.toThemeProperty("jqx-fill-state-normal")),n.rtl?n.dropdownlistArrow.addClass(n.toThemeProperty("jqx-rc-l")):n.dropdownlistArrow.addClass(n.toThemeProperty("jqx-rc-r")),n._setSize(),n._updateHandlers(),n.addHandler(n.input,"keyup.textchange",function(e){n._writeTimer&&clearTimeout(n._writeTimer),n._writeTimer=setTimeout(function(){n._search(e);n.cinput&&n.input&&(n.displayMember?n._updateInputSelection():n.cinput[0].value=n.input[0].value)},50)}),f.jqx.browser.msie&&f.jqx.browser.version<8&&0<n.host.parents(".jqx-window").length&&(d=n.host.parents(".jqx-window").css("z-index"),u.css("z-index",d+10),n.listBoxContainer.css("z-index",d+10)),n.checkboxes?(n.input.attr("readonly",!0),f.jqx.aria(this,"aria-readonly",!0)):f.jqx.aria(this,"aria-readonly",!1),n.remoteAutoComplete||(n.searchString=""),this.bar.css("top",this.host.height())},_addInput:function(){var e=this.host.attr("name");this.cinput=f("<input type='hidden'/>"),this.host.append(this.cinput),e&&this.cinput.attr("name",e)},_updateInputSelection:function(){if(this.cinput){var e,i=new Array;if(-1==this.selectedIndex?this.cinput.val(""):null!=(e=this.getSelectedItem())?(this.cinput.val(e.value),i.push(e.value)):this.cinput.val(this.dropdownlistContent.text()),this.checkboxes||this.multiSelect){var t,s="";if(null!=(t=this.multiSelect?this.getSelectedItems():this.getCheckedItems()))for(var o=0;o<t.length;o++)o==t.length-1?s+=t[o].value:s+=t[o].value+",",i.push(t[o].value);this.cinput.val(s)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?f.each(this.field,function(e,t){f(this).removeAttr("selected"),this.selected=0<=i.indexOf(this.value),this.selected&&f(this).attr("selected",!0)}):f.each(this.items,function(e,t){f(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=0<=i.indexOf(this.value),this.selected&&f(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(e){var t,i,s,o,n=this;if(9!=e.keyCode&&"none"!=n.searchMode&&null!=n.searchMode&&"undefined"!=n.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode&&!n.checkboxes){if(n.multiSelect&&((t=f("<span style='visibility: hidden; white-space: nowrap;'>"+document.createTextNode(n.input.val())+"</span>")).addClass(n.toThemeProperty("jqx-widget")),f(document.body).append(t),i=t.width()+15,t.remove(),i>n.host.width()&&(i=n.host.width()),i<25&&(i=25),n.input.css("width",i+"px"),0==n.selectedItems.length?(n.input.css("width","100%"),n.isMaterialized()||n.input.attr("placeholder",n.placeHolder)):n.isMaterialized()||n.input.attr("placeholder",""),s=parseInt(this._findPos(n.host[0])[1])+parseInt(n.host.outerHeight())-1+"px",n.container.css("top",s),o=parseInt(n.host.height()),n.dropdownlistArrow.height(o)),!n.isanimating){if(e.altKey&&38==e.keyCode)return n.hideListBox("altKey"),!1;if(e.altKey&&40==e.keyCode)return n.isOpened()||n.showListBox("altKey"),!1}if(37==e.keyCode||39==e.keyCode)return!1;if(!e.altKey&&18!=e.keyCode&&!(33<=e.keyCode&&e.keyCode<=40||(e.ctrlKey||n.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode)){var r,l,a,d,h,c=n.input.val();if(0==c.length&&!n.autoComplete)return n.listBox.searchString=n.input.val(),n.listBox.clearSelection(),n.hideListBox("search"),void(n.searchString=n.input.val());if(n.remoteAutoComplete){function p(){n.listBox.vScrollInstance.value=0}var n=this;c.length>=n.minLength?e.ctrlKey||e.altKey||(n.searchString!=c&&(null==n.listBoxContainer.jqxListBox("source")&&n.listBoxContainer.jqxListBox({source:n.source}),n._searchTimer&&clearTimeout(n._searchTimer),13!=e.keyCode&&27!=e.keyCode&&(n._searchTimer=setTimeout(function(){if(p(),n.autoDropDownHeight&&(n.listBox.autoHeight=!0),n.searchString=n.input.val(),null==n.search)throw"'search' function is not defined";n.search(n.input.val())},n.remoteAutoCompleteDelay))),n.searchString=c):(n._searchTimer&&clearTimeout(n._searchTimer),p(),n.searchString="",n.search(""),n.listBoxContainer.jqxListBox({source:null}))}else{if(c!==(n=this).searchString)if("27"!=e.keyCode&&"13"!=e.keyCode&&(r=n.input[0].value,a=(l=n._updateItemsVisibility(c)).matchItems,n.autoComplete&&n.autoItemsHeight&&(n.input[0].value=r),d=l.index,n.autoComplete||n.remoteAutoComplete||(!n.multiSelect||n.multiSelect&&0<=d)&&(n.listBox.selectIndex(d),n.listBox.isIndexInView(d)?n.listBox._renderItems():n.listBox.ensureVisible(d)),n.autoComplete&&0===a.length&&n.hideListBox("search")),"13"==e.keyCode){if("block"==n.container.css("display")&&!n.isanimating)return n.hideListBox("keyboard"),void(n._oldvalue=n.listBox.selectedValue)}else if("27"==e.keyCode){if("block"==n.container.css("display")&&!n.isanimating)return n.multiSelect?(n.input.val(""),n.listBox.selectedValue=null):(h=n.listBox.getVisibleItem(n._oldvalue))?(n=this,setTimeout(function(){n.autoComplete&&n._updateItemsVisibility(""),n.listBox.selectIndex(h.index),n.renderSelection("api")},n.closeDelay)):n.clearSelection(),n.hideListBox("keyboard"),n.renderSelection("api"),e.preventDefault(),!1}else n.isOpened()||n.opening||e.ctrlKey||n.listBox.visibleItems&&0<n.listBox.visibleItems.length&&n.input.val()!=n.searchString&&null!=n.searchString&&-1!=d&&n.showListBox("search"),n.searchString=n.input.val(),""==n.searchString&&(n.listBox.itemsByValue[""]||(d=-1,n.multiSelect||n.clearSelection())),null!=(h=n.listBox.getVisibleItem(d))&&n._updateInputSelection()}}}},val:function(i){if(!this.input)return"";var e;return function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return"number"!=typeof i&&("date"!=typeof i&&("boolean"!=typeof i&&"string"!=typeof i))}(i)||0==arguments.length?(e=this.getSelectedItem())?e.value:this.input.val():(null!=(e=this.getItemByValue(i))?this.selectItem(e):this.input.val(i),this.input.val())},focus:function(){function e(){t.input.focus();var e=t.input.val();t._setSelection(0,e.length)}var t=this;e(),setTimeout(function(){e()},10)},_setSelection:function(e,t){try{var i;"selectionStart"in this.input[0]?(this.input[0].focus(),this.input[0].setSelectionRange(e,t)):((i=this.input[0].createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())}catch(e){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(s){var e=this.getItems();if(null==e)return{index:-1,matchItem:new Array};var o=this,n=-1,r=new Array,l=0;f.each(e,function(e){var t="";if(!this.isGroup){t=(t=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var i=!1;switch(o.searchMode){case"containsignorecase":i=f.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=f.jqx.string.contains(t,s);break;case"equals":i=f.jqx.string.equals(t,s);break;case"equalsignorecase":i=f.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=f.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=f.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=f.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=f.jqx.string.endsWithIgnoreCase(t,s)}if(o.autoComplete&&!i&&(this.visible=!1),i&&o.autoComplete&&((r[l++]=this).visible=!0,n=this.visibleIndex),""==s&&o.autoComplete&&(i=!(this.visible=!0)),o.multiSelect&&(this.disabled=!1,(0<=o.selectedItems.indexOf(this.value)||0<=o._disabledItems.indexOf(this.value))&&(i=!(this.disabled=!0))),o.multiSelect){if(i&&!o.autoComplete)return-1===n&&(n=this.visibleIndex),!0}else if(i&&!o.autoComplete)return n=this.visibleIndex,!1}}),this.listBox.searchString=s;function t(){if(!o.multiSelect){for(var e=0,t=!1,i=null,s=0;s<o.listBox.items.length;s++)o.listBox.selectedIndexes[s]=-1,o.listBox.items[s].disabled||0==t&&(e=(i=o.listBox.items[s]).visibleIndex,t=!0);o.listBox.selectedIndex=-1,o.listBox.selectedIndex=e,o.listBox.selectedIndexes[e]=e,0<o.listBox.visibleItems.length?o.listBox.selectedValue=i?i.value:null:o.listBox.selectedValue=null,o.listBox.ensureVisible(0)}}o=this;if(!this.autoComplete)return t(),{index:n,matchItems:r};this.listBox.renderedVisibleItems=new Array;var i=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var a=this.listBox.selectedValue,d=this.listBox.getItemByValue(a);if(this.multiSelect)t();else if(d)if(d.visible){this.listBox.selectedIndex=d.visibleIndex;for(var h=0;h<this.listBox.items.length;h++)this.listBox.selectedIndexes[h]=-1;this.listBox.selectedIndexes[d.visibleIndex]=d.visibleIndex}else{for(h=0;h<this.listBox.items.length;h++)this.listBox.selectedIndexes[h]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var c,p=this.listBox._calculateVirtualSize().height;return p<i&&(i=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight?(this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(p+25),this.listBox.invalidate(),this._disableSelection=!1):(p<parseInt(this.dropDownHeight)?(c="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20,this.listBox.height=c+p,this.container.height(p+25+c)):(this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25)),this.listBox.invalidate()),this.listBox.vScrollInstance.setPosition(i),{index:n,matchItems:r}},findItems:function(s){var e=this.getItems(),o=this,n=0,r=new Array;return f.each(e,function(e){var t="";if(!this.isGroup){t=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var i=!1;switch(o.searchMode){case"containsignorecase":i=f.jqx.string.containsIgnoreCase(t,s);break;case"contains":i=f.jqx.string.contains(t,s);break;case"equals":i=f.jqx.string.equals(t,s);break;case"equalsignorecase":i=f.jqx.string.equalsIgnoreCase(t,s);break;case"startswith":i=f.jqx.string.startsWith(t,s);break;case"startswithignorecase":i=f.jqx.string.startsWithIgnoreCase(t,s);break;case"endswith":i=f.jqx.string.endsWith(t,s);break;case"endswithignorecase":i=f.jqx.string.endsWithIgnoreCase(t,s)}i&&(r[n++]=this)}}),r},_resetautocomplete:function(){f.each(this.listBox.items,function(e){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var e=window.getComputedStyle(this.element),t=2*parseInt(e.borderLeftWidth);"border-box"!==e.boxSizing&&!isNaN(t)||(t=0),(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&(this.element.style.width=parseInt(this.width)-t+"px"),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&(this.element.style.height=parseInt(this.height)-t+"px");var i,s=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(s=!0,this.element.style.width=this.width,0<t&&this.host.css("box-sizing","border-box")),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(s=!0,this.element.style.height=this.height),s&&(i=(o=this).host.width(),"auto"!=this.dropDownWidth&&(i=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:i}),this.container.width(parseInt(i)+25),this._arrange());var o;(o=this).oldWidth=o.host.width(),o.oldHeight=o.host.height(),f.jqx.utilities.resize(this.host,function(){var e=o.host.width(),t=o.host.height();e==o.oldWidth&&t==o.oldHeight||(o.multiSelect&&o.host.height(o.height),o._arrange(),o.multiSelect&&o.host.height("auto"),o.hideListBox("api")),o.oldWidth=e,o.oldHeight=t})},isOpened:function(){var e=f.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"==this.container.css("display")&&(null!=e&&e==this.listBoxContainer)},_updateHandlers:function(){var a=this;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(e){if(e.target.href)return!1;a.input.focus(),setTimeout(function(){a.input.focus()},10)}),this.addHandler(this.dropdownlistContent,"focus",function(e){if(e.target.href)return!1;a.input.focus(),setTimeout(function(){a.input.focus()},10)})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){a.isOpened()&&a.close()}),this.addHandler(this.host,"mouseenter",function(){!a.disabled&&a.enableHover&&(a.host.addClass(a.toThemeProperty("jqx-combobox-state-hover")),"top"==a.dropDownVerticalAlignment?a.dropdownlistArrowIcon.addClass(a.toThemeProperty("jqx-icon-arrow-up")):a.dropdownlistArrowIcon.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-combobox-arrow-hover")),a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!a.disabled&&a.enableHover&&(a.host.removeClass(a.toThemeProperty("jqx-combobox-state-hover")),a.dropdownlistArrowIcon.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.dropdownlistArrowIcon.removeClass(a.toThemeProperty("jqx-icon-arrow-up-hover")),a.dropdownlistArrow.removeClass(a.toThemeProperty("jqx-combobox-arrow-hover")),a.dropdownlistArrow.removeClass(a.toThemeProperty("jqx-fill-state-hover")),0)})),a.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!a.isOpened()&&a.autoOpen&&(a.open(),a.host.focus())}),this.addHandler(f(document),"mousemove."+a.id,function(e){var t,i,s,o,n,r,l;a.isOpened()&&a.autoOpen&&(i=(t=a.host.coord()).top,s=t.left,n=(o=a.container.coord()).left,r=o.top,l=!0,e.pageY>=i&&e.pageY<=i+a.host.height()+2&&e.pageX>=s&&e.pageX<s+a.host.width()&&(l=!1),e.pageY>=r&&e.pageY<=r+a.container.height()-20&&e.pageX>=n&&e.pageX<n+a.container.width()&&(l=!1),l&&a.close())}));var e="mousedown";this.touch&&(e=f.jqx.mobile.getTouchEventName("touchstart"));this.addHandler(this.dropdownlistArrow,e,function(e){!function(){if(!a.disabled){var e="block"==a.container.css("display");if(!a.isanimating){if(e)return a.hideListBox("api"),f.jqx.mobile.isTouchDevice()||(a.input.focus(),setTimeout(function(){a.input.focus()},10));if(a.autoDropDownHeight&&(a.container.height(a.listBoxContainer.height()+25),a.listBoxContainer.jqxListBox("autoHeight")||(a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight}),a.listBox._arrange(),a.listBox.ensureVisible(0),a.listBox._renderItems(),a.container.height(a.listBoxContainer.height()+25))),a.showListBox("api"),f.jqx.mobile.isTouchDevice())return;setTimeout(function(){a.input.focus()},10)}}}()}),this.addHandler(this.dropdownlistArrowIcon,e,function(e){}),this.addHandler(this.host,"focus",function(){a.focus()}),this.addHandler(this.input,"focus",function(e){a.focused=!0,a.host.addClass(a.toThemeProperty("jqx-combobox-state-focus")),a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")),a.bar.addClass("focused"),a.label.addClass("focused"),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content-focus")),e.stopPropagation&&e.stopPropagation()}),this.addHandler(this.input,"blur",function(){a.focused=!1,a.bar.removeClass("focused"),a.label.removeClass("focused"),a.isOpened()||a.opening||("dropDownList"==a.selectionMode&&a._selectOldValue(),a.host.removeClass(a.toThemeProperty("jqx-combobox-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.dropdownlistContent.removeClass(a.toThemeProperty("jqx-combobox-content-focus"))),a._searchTimer&&clearTimeout(a._searchTimer)}),this.addHandler(f(document),"mousedown."+this.id,a.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(f(document),f.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,a.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var t,i,s="block"==a.container.css("display");if(a.ctrlKey=e.ctrlKey,"none"==a.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&(s&&!a.isanimating))return-1!=a.listBox.selectedIndex&&(a.renderSelection("mouse"),t=a.listBox.selectedIndex,(i=a.listBox.getVisibleItem(t))&&(a.listBox.selectedValue=i.value),a._setSelection(a.input.val().length,a.input.val().length),a.hideListBox("keyboard")),"13"==e.keyCode&&(a._oldvalue=a.listBox.selectedValue),a.keyboardSelection||a._raiseEvent("2",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)}),"9"==e.keyCode;if(115==e.keyCode)return a.isanimating||(a.isOpened()?a.isOpened()&&a.hideListBox("keyboard"):a.showListBox("keyboard")),!1;if((e.altKey&&"block"==a.host.css("display")&&(a.isanimating||(38==e.keyCode?a.isOpened()&&a.hideListBox("altKey"):40==e.keyCode&&(a.isOpened()||a.showListBox("altKey")))),"27"==e.keyCode||"9"==e.keyCode)&&(a.isOpened()&&!a.isanimating))return"27"==e.keyCode&&(a.multiSelect?(a.listBox.selectedValue=null,a.input.val("")):(i=a.listBox.getItemByValue(a._oldvalue))?setTimeout(function(){a.autoComplete&&a._updateItemsVisibility(""),a.listBox.selectIndex(i.index),a.renderSelection("api")},a.closeDelay):a.clearSelection()),a.hideListBox("keyboard"),"9"==e.keyCode||(a.renderSelection("api"),e.preventDefault(),!1);var o=e.keyCode;if(s&&!a.disabled&&8!=o)return a.listBox._handleKeyDown(e);if(!(a.disabled||s||33!=(o=e.keyCode)&&34!=o&&35!=o&&36!=o&&38!=o&&40!=o))return a.listBox._handleKeyDown(e);if(8===o&&a.multiSelect&&0===a.input.val().length){var n=a.selectedItems[a.selectedItems.length-1];return a.selectedItems.pop(),a._selectedItems.pop(),n&&(a._raiseEvent("3",{index:n.index,type:"keyboard",item:n}),a._raiseEvent("4",{index:n.index,type:"keyboard",item:n})),a.listBox.selectedValue=null,a.doMultiSelect(),!1}a.isMaterialized()&&a.hint&&setTimeout(function(){0===a.input[0].value.length?(a.element.removeAttribute("hint"),a.label[0].innerHTML=a.placeHolder):a.hint&&a.element.setAttribute("hint",!0)})}),this.addHandler(this.listBoxContainer,"checkChange",function(e){a.renderSelection("mouse"),a._updateInputSelection(),a._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!a.disabled&&("keyboard"!=e.args.type||a.keyboardSelection)&&(a.renderSelection(e.args.type),a.multiSelect||a._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item}),"mouse"==e.args.type&&(a._oldvalue=a.listBox.selectedValue,!a.checkboxes))){if(a.hideListBox("mouse"),a.touch)return!1;a.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!a.disabled){if(a.listBox.itemswrapper&&e.target===a.listBox.itemswrapper[0])return!0;if(e.target&&e.target.className&&0<=e.target.className.indexOf("jqx-fill-state-disabled"))return!0;a.renderSelection("mouse"),a._oldvalue=a.listBox.selectedValue,a.touch||a.ishiding||a.checkboxes||(a.hideListBox("mouse"),a.input.focus()),!0===a.touch&&(a.checkboxes||a.hideListBox("mouse"))}})},_selectOldValue:function(){var e,t=this;-1==t.listBox.selectedIndex?t.multiSelect?(t.listBox.selectedValue=null,t.input.val("")):(e=t.listBox.getItemByValue(t._oldvalue))?setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(e.index),t.renderSelection("api")},t.closeDelay):(t.clearSelection(),t.listBox.selectIndex(0),t.renderSelection("api")):t.renderSelection("api")},removeHandlers:function(){var e;null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(f(document),"mousemove."+this.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow&&(e="mousedown",this.touch&&(e=f.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,e),this.removeHandler(this.dropdownlistArrow,e))},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},getVisibleItem:function(e){return this.listBox.getVisibleItem(e)},renderSelection:function(e){if(null!=e&&"none"!=e&&!0!==this._disableSelection&&null!=this.listBox&&!this.multiSelect){var t,i=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue&&(i=this.getItemByValue(this.listBox.selectedValue)),this.checkboxes&&(i=null!=(t=this.getCheckedItems())&&0<t.length?t[0]:null),this.hint&&(this.label[0].innerHTML=this.placeHolder),null!=i?this.hint&&this.element.setAttribute("hint",!0):this.element.removeAttribute("hint"),this.bar.css("top",this.host.height()),null==i){var s=f.jqx.browser.msie&&f.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),s||(this.isMaterialized()?(this.label[0].innerHTML=this.placeHolder,this.input.removeAttr("placeholder")):this.input.attr("placeholder",this.placeHolder)),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var o=f("<span></span>");null!=i.label&&null!=i.label&&0<i.label.toString().length?f.jqx.utilities.html(o,i.label):null!=i.value&&null!=i.value&&0<i.value.toString().length?f.jqx.utilities.html(o,i.value):null!=i.title&&null!=i.title&&0<i.title.toString().length?f.jqx.utilities.html(o,i.title):f.jqx.utilities.html(o,this.emptyString);var n;o.outerHeight();if(this.checkboxes){for(var r=this.getCheckedItems(),l="",a=0;a<r.length;a++)a==r.length-1?l+=r[a].label:l+=r[a].label+", ";this.input.val(l)}else this.input.val(o.text());o.remove(),this._updateInputSelection(),!this.renderSelectedItem||null!=(n=this.renderSelectedItem(this.listBox.selectedIndex,i))&&(this.input[0].value=n),this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&f.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){var i,s;isNaN(e)||(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect&&(0<=e&&(i=this.getItem(e),0<=(s=this.selectedItems.indexOf(i.value))&&(i.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(s,1),this._selectedItems.splice(s,1))),this.doMultiSelect(!1)))},selectIndex:function(e,t,i,s){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,s),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){var t,i;this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect&&(!(t=this.getItemByValue(e))||0<=(i=this.selectedItems.indexOf(t.value))&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(i,1),this._selectedItems.splice(i,1)),this.doMultiSelect(!1)))},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&0<this._selectedItems.length||this._selectedItems&&0<this._selectedItems.length?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&0<this._selectedItems.length||this._selectedItems&&0<this._selectedItems.length?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var t=new Array,i=this;return f.each(this.selectedItems,function(){var e=i.getItemByValue(this);(e=e||i._selectedItems[this])&&t.push(e)}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||f.expr.filters.hidden(e));)e=e.nextSibling;if(e){var t=f(e).coord(!0);return[t.left,t.top]}},testOffset:function(e,t,i){var s,o,n=e.outerWidth(),r=e.outerHeight(),l=f(window).width()+f(window).scrollLeft(),a=f(window).height()+f(window).scrollTop();return t.left+n>l&&n>this.host.width()&&(s=this.host.coord().left,o=n-this.host.width(),t.left=s-o+2),t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+r>a&&r<a?Math.abs(r+i+23):0),t},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var e=0,t=0;return"0px"!=f("body").css("border-top-width")&&(e=parseInt(f("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=f("body").css("border-left-width")&&(t=parseInt(f("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},showListBox:function(e){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=e||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),this.element.setAttribute("opened",!0),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=e&&(this._updateItemsVisibility(""),this.multiSelect))for(var t=this.getVisibleItems(),i=0;i<t.length;i++)if(!t[i].disabled){this.ensureVisible(i);break}var s;this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=e&&(this._oldvalue=this.listBox.selectedValue),f.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()&&(s=this.element.offsetWidth,this.listBoxContainer.jqxListBox({width:s}),this.listBoxContainer[0].style.width=s+"px",this.container.width(parseInt(s)+25)),"auto"==this.dropDownWidth&&"0px"===this.host.css("border-left-width")&&(s=this.element.offsetWidth,this.listBoxContainer.jqxListBox({width:s+1}),this.container.width(parseInt(s)+25));var o=this,n=this.listBoxContainer,r=this.listBox,l=(f(window).scrollTop(),f(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),a=parseInt(Math.round(this.host.coord(!0).left)),d=a+"px";"element"===this.dropDownContainer&&(l=parseInt(this.host.outerHeight())-1+"px",d=0);var h=f.jqx.mobile.isSafariMobileBrowser()||f.jqx.mobile.isWindowsPhone();this.ishiding=!1,(f.jqx.utilities.hasTransform(this.host)||null!=h&&h)&&(d=f.jqx.mobile.getLeftPos(this.element),l=f.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=f("body").css("border-top-width")&&(l=parseInt(l)-this._getBodyOffset().top+"px"),"0px"!=f("body").css("border-left-width")&&(d=parseInt(d)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),"top"==this.dropDownVerticalAlignment?this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",d),this.container.css("top",l),r._arrange();var c,p,u,m,x,g,w,b=!1;"right"!=this.dropDownHorizontalAlignment&&!this.rtl||(c=this.container.outerWidth(),p=Math.abs(c-this.host.width()),c>this.host.width()?this.container.css("left",25+parseInt(Math.round(a))-p+"px"):this.container.css("left",25+parseInt(Math.round(a))+p+"px")),"top"==this.dropDownVerticalAlignment&&(u=n.height(),b=!0,n.css("top",23),n.addClass(this.toThemeProperty("jqx-popup-up")),m=parseInt(this.host.outerHeight()),x=parseInt(l)-Math.abs(u+m+23),this.container.css("top",x)),this.enableBrowserBoundsDetection&&(g=this.testOffset(n,{left:parseInt(this.container.css("left")),top:parseInt(l)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=g.top?(b=!0,n.css("top",23),n.addClass(this.toThemeProperty("jqx-popup-up"))):n.css("top",0),this.container.css("top",g.top),this.container.css("top",g.top),parseInt(this.container.css("left"))!=g.left&&this.container.css("left",g.left)),"none"==this.animationType?(this.container.css("display","block"),f.data(document.body,"openedCombojqxListBoxParent",o),f.data(document.body,"openedCombojqxListBox"+o.element.id,n),n.css("margin-top",0),n.css("opacity",1)):(this.container.css("display","block"),w=n.outerHeight(),n.stop(),"fade"==this.animationType?(n.css("margin-top",0),n.css("opacity",0),n.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,f.data(document.body,"openedCombojqxListBoxParent",o),f.data(document.body,"openedCombojqxListBox"+o.element.id,n)})):(n.css("opacity",1),b?n.css("margin-top",w):n.css("margin-top",-w),this.isanimating=!0,this.opening=!0,n.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,f.data(document.body,"openedCombojqxListBoxParent",o),f.data(document.body,"openedCombojqxListBox"+o.element.id,n)}))),r._renderItems(),b?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),n.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),n.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),n.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",r)}},doMultiSelect:function(e){this.checkboxes&&(this.multiSelect=!1);var l=this;if(!this.multiSelect){var t=l.dropdownlistContent.find(".jqx-button"),i="mousedown";if(this.touch&&(i=f.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(t,i),this.removeHandler(t.find(".jqx-icon-close"),i),t.remove(),!(n=this.listBox.items))return;for(var s=0;s<n.length;s++)n[s].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection&&!this.validateSelection(this.listBox.selectedValue))return;var o;this.selectedItems;if(this.listBox.selectedValue&&(-1!==this.selectedItems.indexOf(this.listBox.selectedValue)||(o=this.getItemByValue(this.listBox.selectedValue))&&o.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(o),this._raiseEvent("2",{index:o.index,item:o}),this._raiseEvent("4",{index:o.index,item:o})),this.listBox.selectedIndex=0),n=this.listBox.items){for(s=0;s<n.length;s++)n[s].disabled=!1,(0<=this.selectedItems.indexOf(n[s].value)||0<=this._disabledItems.indexOf(this.value))&&(n[s].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var n="",i="mousedown",t=l.dropdownlistContent.find(".jqx-button");this.touch&&(i=f.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(t,i),this.removeHandler(t.find(".jqx-icon-close"),i),t.remove(),l.input.detach(),0<this.selectedItems.length?(l.input.css("width","25px"),this.isMaterialized()&&l.hint?l.label[0].innerHTML=this.placeHolder:l.input.attr("placeholder","")):(l.input.css("width","100%"),l.isMaterialized()&&l.hint?l.label[0].innerHTML=this.placeHolder:l.input.attr("placeholder",this.placeHolder)),l.isMaterialized()&&l.hint&&setTimeout(function(){0===l.selectedItems.length?(l.element.removeAttribute("hint"),l.label[0].innerHTML=l.placeHolder):l.hint&&l.element.setAttribute("hint",!0)}),f.each(this.selectedItems,function(e){var t=l.getItemByValue(this);t&&!l.remoteAutoComplete||(t=l._selectedItems[e]);var i,s,o,n,r=f('<div style="overflow: hidden; float: left;"></div>');r.addClass(l.toThemeProperty("jqx-button")),r.addClass(l.toThemeProperty("jqx-combobox-multi-item")),r.addClass(l.toThemeProperty("jqx-fill-state-normal")),r.addClass(l.toThemeProperty("jqx-rc-all")),t?(i=t.label,!l.renderSelectedItem||(s=l.renderSelectedItem(e,t))&&(i=s),""==r[0].innerHTML&&(r[0].innerHTML='<a data-value="'+t.value+'" style="float: left;" href="#">'+i+"</a>"),l.rtl&&(r[0].innerHTML='<a data-value="'+t.value+'" style="float: right;" href="#">'+i+"</a>"),o=l.rtl?"left":"right",l.showCloseButtons&&(n='<div style="position: relative; overflow: hidden; float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+l.toThemeProperty("jqx-icon-close")+'"></div></div>',f.jqx.browser.msie&&f.jqx.browser.version<8&&(n='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+l.toThemeProperty("jqx-icon-close")+'"></div></div>'),l.rtl&&(n='<div style="position: relative; overflow: hidden; float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+l.toThemeProperty("jqx-icon-close")+'"></div></div>',f.jqx.browser.msie&&f.jqx.browser.version<8&&(n='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+l.toThemeProperty("jqx-icon-close")+'"></div></div>')),r[0].innerHTML+=n)):""==r[0].innerHTML&&(r[0].innerHTML='<a href="#"></a>'),l.dropdownlistContent.append(r)}),l.dropdownlistContent.append(l.input),l.input.val(""),!1!==e&&(l.input.focus(),setTimeout(function(){l.input.focus()},10));t=l.dropdownlistContent.find(".jqx-button");!0===this.touchMode&&(i="mousedown"),this.addHandler(t,i,function(e){if(0<=e.target.className.indexOf("jqx-icon-close"))return!0;if(l.disabled)return!0;var t=f(e.target).attr("data-value");return l.getItemByValue(t)&&(l.listBox.selectedValue=null,l.listBox.clearSelection()),l.listBox.scrollTo(0,0),l.open(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),this.addHandler(t.find(".jqx-icon-close"),i,function(e){if(!l.disabled){var t=f(e.target).parent().parent().find("a").attr("data-value"),i=l.getItemByValue(t);if(i||l.remoteAutoComplete&&!i&&0<=l.selectedItems.indexOf(t)){l.listBox.selectedValue=null;var s=l.selectedItems.indexOf(t),o=i&&0<=i.index?i.index:s;if(0<=s)l.selectedItems.splice(s,1),n=(n=l._selectedItems[s])||i,l._selectedItems.splice(s,1),l._raiseEvent("3",{index:o,type:"mouse",item:n}),l._raiseEvent("4",{index:o,type:"mouse",item:n}),l.doMultiSelect();else for(var n,r=0;r<l.selectedItems.length;r++){if((n=l.selectedItems[r])==t){l.selectedItems.splice(r,1),l._selectedItems.splice(r,1),l._raiseEvent("3",{index:o,type:"mouse",item:i}),l._raiseEvent("4",{index:o,type:"mouse",item:i}),l.doMultiSelect();break}}}}}),this.isMaterialized()&&this.host.height(this.dropdownlistContent.height()),this.bar.css("top",this.host.height()),l.dropdownlistArrow.height(this.host.height()),l._updateInputSelection()}},hideListBox:function(e){var t,i,s,o=this.listBoxContainer,n=this.listBox,r=this.container;"none"!=this.container[0].style.display&&(this.element.setAttribute("opened",!1),f.jqx.aria(this,"aria-expanded",!1),"keyboard"!=e&&"mouse"!=e||(this.listBox.searchString=""),("keyboard"==e||"mouse"==e&&this.multiSelect)&&this.doMultiSelect(),t=this,f.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType?(this.opening=!1,this.container.css("display","none")):this.ishiding||(i=o.outerHeight(),o.css("margin-top",0),o.stop(),this.opening=!1,this.isanimating=!0,s=-i,parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(s=i),"fade"==this.animationType?(o.css({opacity:1}),o.animate({opacity:0},this.closeDelay,function(){t.isanimating=!1,r.css("display","none"),t.ishiding=!1})):o.animate({"margin-top":s},this.closeDelay,function(){t.isanimating=!1,r.css("display","none"),t.ishiding=!1})),this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),o.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),o.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),o.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",n))},closeOpenedListBox:function(e){var t=e.data.that,i=f(e.target),s=e.data.listbox;if(null==s)return!0;if(!f(e.target).ischildof(t.host)){var o=!1;return f.each(i.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return!(o=!0);if(-1!=this.className.indexOf("jqx-combobox"))return t.element.id==this.id&&(o=!0),!1}}),null==s||o||t.isOpened()&&(t.hideListBox("api"),t.input.blur()),!0}},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),s=1;this.showArrow?"none"===this.dropdownlistArrow[0].style.display&&this.dropdownlistArrow.show():(i=0,this.dropdownlistArrow.hide(),s=0,this.host.css("cursor","arrow"));var o=e-i-s;0<o&&(this.dropdownlistContent[0].style.width=o+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=o-1+"px"),this.dropdownlistContent[0].style.height=t+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=i+"px",this.dropdownlistArrow[0].style.height=t+"px",this.dropdownlistArrow[0].style.left=1+o+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(t);var n=this.input.height();0==n&&(n=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var r,l=parseInt(t)/2-parseInt(n)/2;this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),f.jqx.browser.msie&&f.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect&&(this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height),t=parseInt(this.host.height()),this.dropdownlistArrow.height(t),r=parseInt(this.host.css("min-height")),0<(l=parseInt(r)/2-parseInt(n)/2)&&this.input.css("margin-top",l),this.isMaterialized()&&this.host.height(this.dropdownlistContent.height()),this.bar.css("top",this.host.height()),this.dropdownlistArrow.height(this.host.height()))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),f.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(f(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(f(document),f.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var e=f.data(this.element,"jqxComboBox");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e];t.owner=this;var s=new f.Event(i);return s.owner=this,2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e||(s.args=t),this.host.trigger(s)},propertiesChangedHandler:function(e,t,i){var s;i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),"width"==t&&"auto"==e.dropDownWidth&&(s=e.host.width(),e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)),e._arrange(),e.close())},propertyChangedHandler:function(e,t,i,s){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){var o,n;if("template"==t&&(e.listBoxContainer.removeClass(e.toThemeProperty("jqx-"+i+"-item")),e.listBoxContainer.addClass(e.toThemeProperty("jqx-"+e.template+"-item")),e.dropDownListArrow.removeClass(e.toThemeProperty("jqx-"+i)),e.dropDownListArrow.addClass(e.toThemeProperty("jqx-"+e.template)),(o=this).bar.removeClass(o.toThemeProperty("jqx-"+i)),o.label.removeClass(o.toThemeProperty("jqx-"+i)),o.bar.addClass(o.toThemeProperty("jqx-"+o.template)),o.label.addClass(o.toThemeProperty("jqx-"+o.template))),"dropDownVerticalAlignment"==t&&(e.close(),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),"top"==e.dropDownVerticalAlignment?e.dropdownlistArrowIcon.addClass(e.toThemeProperty("jqx-icon-arrow-up")):e.dropdownlistArrowIcon.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.listBoxContainer.css("top",0),e.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==t&&e.listBoxContainer.jqxListBox({autoItemsHeight:s}),"itemHeight"==t&&e.listBoxContainer.jqxListBox({itemHeight:s}),"renderSelectedItem"==t&&e.renderSelection("mouse"),"renderer"==t&&e.listBoxContainer.jqxListBox({renderer:s}),"enableSelection"==t&&e.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==t&&e.listBoxContainer.jqxListBox({enableHover:s}),"touchMode"===t&&(e.listBoxContainer.jqxListBox({touchMode:s}),e.touch=f.jqx.mobile.isTouchDevice(),!0===e.touchMode&&(e.touch=!0),e._updateHandlers()),"multiSelect"==t)if(s)e.doMultiSelect(!1);else{for(var r=e.listBox.items,l=-1,a=0;a<r.length;a++)r[a].disabled=!1,(0<=e.selectedItems.indexOf(r[a].value)||0<=e._disabledItems.indexOf(e.value))&&(r[a].disabled=!0,l=r[a].index);if(e.doMultiSelect(!1),e.listBox._renderItems(),!r)return;e.listBox.selectedIndex=l,e.renderSelection("mouse"),e.dropdownlistWrapper.parent().css("height","100%"),e.dropdownlistContent.css("height","100"),e.dropdownlistWrapper.css("height","100"),e.dropdownlistContent.css("position","relative"),e.host.css("min-height",null),e._setSize(),e._arrange()}"showArrow"==t&&(e._arrange(),e.multiSelect&&e.doMultiSelect(!1)),"placeHolder"==t&&(e.isMaterialized()?e.label.innerHTML=e.placeHolder:e.input.attr("placeholder",e.placeHolder)),"popupZIndex"==t&&e.listBoxContainer.css({zIndex:e.popupZIndex}),"promptText"==t&&(e.placeHolder=s),"autoOpen"==t&&e._updateHandlers(),"renderer"==t&&(e.listBox.renderer=e.renderer),"itemHeight"==t&&(e.listBox.itemHeight=s),"source"==t&&(e.input.val(""),e.listBoxContainer.jqxListBox({source:e.source}),e.renderSelection("mouse"),null==e.source&&e.clearSelection(),e.multiSelect&&(e.selectedItems=new Array,e._selectedItems=new Array,e.doMultiSelect(!1))),"rtl"==t&&(s?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"displayMember"!=t&&"valueMember"!=t||(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection("mouse")),"autoDropDownHeight"==t&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"dropDownHeight"==t&&(e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25))),"dropDownWidth"!=t&&"scrollBarSize"!=t||(n=e.width,"auto"!=e.dropDownWidth&&(n=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:n,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(n)+25)),"autoComplete"==t&&e._resetautocomplete(),"checkboxes"==t&&(e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),e.checkboxes?(e.input.attr("readonly",!0),f.jqx.aria(e,"aria-readonly",!0)):f.jqx.aria(e,"aria-readonly",!1)),"theme"==t&&null!=s&&(e.listBoxContainer.jqxListBox({theme:s}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),f.jqx.browser.msie&&e.listBoxContainer.addClass(e.toThemeProperty("jqx-noshadow")),f.jqx.utilities.setTheme(i,s,e.host)),"rtl"==t&&(e.render(),e.refresh()),"width"!=t&&"height"!=t||(e._setSize(),"width"==t&&"auto"==e.dropDownWidth&&(n=e.host.width(),e.listBoxContainer.jqxListBox({width:n}),e.container.width(parseInt(n)+25)),e._arrange(),e.close()),"selectedIndex"==t&&(e.listBox.selectIndex(s),e.renderSelection("mouse"))}}})}(jqxBaseFramework);