{"version":3,"file":"Tabs.js","sources":["../src/utils/objectUtils.js","../src/utils/domUtils.js","../src/components/dropdown/Dropdown.vue","../node_modules/portal-vue/dist/portal-vue.esm.js","../src/components/tabs/Tabs.vue"],"sourcesContent":["export function isExist (obj) {\n  return typeof obj !== 'undefined' && obj !== null\n}\n\nexport function isFunction (obj) {\n  return typeof obj === 'function'\n}\n\nexport function isNumber (obj) {\n  return typeof obj === 'number'\n}\n\nexport function isString (obj) {\n  return typeof obj === 'string'\n}\n\nexport function isBoolean (obj) {\n  return typeof obj === 'boolean'\n}\n\nexport function isPromiseSupported () {\n  return typeof window !== 'undefined' && isExist(window.Promise)\n}\n","import {isExist, isString, isFunction} from './objectUtils'\n\nexport const EVENTS = {\n  MOUSE_ENTER: 'mouseenter',\n  MOUSE_LEAVE: 'mouseleave',\n  FOCUS: 'focus',\n  BLUR: 'blur',\n  CLICK: 'click',\n  INPUT: 'input',\n  KEY_DOWN: 'keydown',\n  KEY_UP: 'keyup',\n  KEY_PRESS: 'keypress',\n  RESIZE: 'resize',\n  SCROLL: 'scroll',\n  TOUCH_START: 'touchstart',\n  TOUCH_END: 'touchend'\n}\n\nexport const TRIGGERS = {\n  CLICK: 'click',\n  HOVER: 'hover',\n  FOCUS: 'focus',\n  HOVER_FOCUS: 'hover-focus',\n  OUTSIDE_CLICK: 'outside-click',\n  MANUAL: 'manual'\n}\n\nexport const PLACEMENTS = {\n  TOP: 'top',\n  RIGHT: 'right',\n  BOTTOM: 'bottom',\n  LEFT: 'left'\n}\n\nexport function isIE11 () {\n  return !!window.MSInputMethodContext && !!document.documentMode\n}\n\nexport function isIE10 () {\n  return window.navigator.appVersion.indexOf('MSIE 10') !== -1\n}\n\nexport function getComputedStyle (el) {\n  return window.getComputedStyle(el)\n}\n\nexport function getViewportSize () {\n  let width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0)\n  let height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0)\n  return {width, height}\n}\n\nlet scrollbarWidth = null\nlet savedScreenSize = null\n\nexport function getScrollbarWidth (recalculate = false) {\n  let screenSize = getViewportSize()\n  // return directly when already calculated & not force recalculate & screen size not changed\n  if (scrollbarWidth !== null && !recalculate &&\n    screenSize.height === savedScreenSize.height && screenSize.width === savedScreenSize.width) {\n    return scrollbarWidth\n  }\n  if (document.readyState === 'loading') {\n    return null\n  }\n  const div1 = document.createElement('div')\n  const div2 = document.createElement('div')\n  div1.style.width = div2.style.width = div1.style.height = div2.style.height = '100px'\n  div1.style.overflow = 'scroll'\n  div2.style.overflow = 'hidden'\n  document.body.appendChild(div1)\n  document.body.appendChild(div2)\n  scrollbarWidth = Math.abs(div1.scrollHeight - div2.scrollHeight)\n  document.body.removeChild(div1)\n  document.body.removeChild(div2)\n  // save new screen size\n  savedScreenSize = screenSize\n  return scrollbarWidth\n}\n\nexport function on (element, event, handler) {\n  element.addEventListener(event, handler)\n}\n\nexport function off (element, event, handler) {\n  element.removeEventListener(event, handler)\n}\n\nexport function isElement (el) {\n  return el && el.nodeType === Node.ELEMENT_NODE\n}\n\nexport function removeFromDom (el) {\n  isElement(el) && isElement(el.parentNode) && el.parentNode.removeChild(el)\n}\n\nexport function ensureElementMatchesFunction () {\n  if (!Element.prototype.matches) {\n    Element.prototype.matches =\n      Element.prototype.matchesSelector ||\n      Element.prototype.mozMatchesSelector ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.oMatchesSelector ||\n      Element.prototype.webkitMatchesSelector ||\n      function (s) {\n        let matches = (this.document || this.ownerDocument).querySelectorAll(s)\n        let i = matches.length\n        while (--i >= 0 && matches.item(i) !== this) {\n        }\n        return i > -1\n      }\n  }\n}\n\nexport function addClass (el, className) {\n  if (!isElement(el)) {\n    return\n  }\n  if (el.className) {\n    let classes = el.className.split(' ')\n    if (classes.indexOf(className) < 0) {\n      classes.push(className)\n      el.className = classes.join(' ')\n    }\n  } else {\n    el.className = className\n  }\n}\n\nexport function removeClass (el, className) {\n  if (!isElement(el)) {\n    return\n  }\n  if (el.className) {\n    let classes = el.className.split(' ')\n    let newClasses = []\n    for (let i = 0, l = classes.length; i < l; i++) {\n      if (classes[i] !== className) {\n        newClasses.push(classes[i])\n      }\n    }\n    el.className = newClasses.join(' ')\n  }\n}\n\nexport function hasClass (el, className) {\n  if (!isElement(el)) {\n    return false\n  }\n  let classes = el.className.split(' ')\n  for (let i = 0, l = classes.length; i < l; i++) {\n    if (classes[i] === className) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function setDropdownPosition (dropdown, trigger, options = {}) {\n  let doc = document.documentElement\n  let containerScrollLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n  let containerScrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n  let rect = trigger.getBoundingClientRect()\n  let dropdownRect = dropdown.getBoundingClientRect()\n  dropdown.style.right = 'auto'\n  dropdown.style.bottom = 'auto'\n  if (options.menuRight) {\n    dropdown.style.left = containerScrollLeft + rect.left + rect.width - dropdownRect.width + 'px'\n  } else {\n    dropdown.style.left = containerScrollLeft + rect.left + 'px'\n  }\n  if (options.dropup) {\n    dropdown.style.top = containerScrollTop + rect.top - dropdownRect.height - 4 + 'px'\n  } else {\n    dropdown.style.top = containerScrollTop + rect.top + rect.height + 'px'\n  }\n}\n\nexport function isAvailableAtPosition (trigger, popup, placement) {\n  let triggerRect = trigger.getBoundingClientRect()\n  let popupRect = popup.getBoundingClientRect()\n  let viewPortSize = getViewportSize()\n  let top = true\n  let right = true\n  let bottom = true\n  let left = true\n  switch (placement) {\n    case PLACEMENTS.TOP:\n      top = triggerRect.top >= popupRect.height\n      left = triggerRect.left + triggerRect.width / 2 >= popupRect.width / 2\n      right = triggerRect.right - triggerRect.width / 2 + popupRect.width / 2 <= viewPortSize.width\n      break\n    case PLACEMENTS.BOTTOM:\n      bottom = triggerRect.bottom + popupRect.height <= viewPortSize.height\n      left = triggerRect.left + triggerRect.width / 2 >= popupRect.width / 2\n      right = triggerRect.right - triggerRect.width / 2 + popupRect.width / 2 <= viewPortSize.width\n      break\n    case PLACEMENTS.RIGHT:\n      right = triggerRect.right + popupRect.width <= viewPortSize.width\n      top = triggerRect.top + triggerRect.height / 2 >= popupRect.height / 2\n      bottom = triggerRect.bottom - triggerRect.height / 2 + popupRect.height / 2 <= viewPortSize.height\n      break\n    case PLACEMENTS.LEFT:\n      left = triggerRect.left >= popupRect.width\n      top = triggerRect.top + triggerRect.height / 2 >= popupRect.height / 2\n      bottom = triggerRect.bottom - triggerRect.height / 2 + popupRect.height / 2 <= viewPortSize.height\n      break\n  }\n  return top && right && bottom && left\n}\n\nexport function setTooltipPosition (tooltip, trigger, placement, auto, appendToSelector, viewport) {\n  if (!isElement(tooltip) || !isElement(trigger)) {\n    return\n  }\n  const isPopover = tooltip && tooltip.className && tooltip.className.indexOf('popover') >= 0\n  let containerScrollTop\n  let containerScrollLeft\n  if (!isExist(appendToSelector) || appendToSelector === 'body') {\n    const doc = document.documentElement\n    containerScrollLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n    containerScrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n  } else {\n    const container = document.querySelector(appendToSelector)\n    containerScrollLeft = container.scrollLeft\n    containerScrollTop = container.scrollTop\n  }\n  // auto adjust placement\n  if (auto) {\n    // Try: right -> bottom -> left -> top\n    // Cause the default placement is top\n    let placements = [PLACEMENTS.RIGHT, PLACEMENTS.BOTTOM, PLACEMENTS.LEFT, PLACEMENTS.TOP]\n    // The class switch helper function\n    const changePlacementClass = (placement) => {\n      // console.log(placement)\n      placements.forEach(placement => {\n        removeClass(tooltip, placement)\n      })\n      addClass(tooltip, placement)\n    }\n    // No need to adjust if the default placement fits\n    if (!isAvailableAtPosition(trigger, tooltip, placement)) {\n      for (let i = 0, l = placements.length; i < l; i++) {\n        // Re-assign placement class\n        changePlacementClass(placements[i])\n        // Break if new placement fits\n        if (isAvailableAtPosition(trigger, tooltip, placements[i])) {\n          placement = placements[i]\n          break\n        }\n      }\n      changePlacementClass(placement)\n    }\n  }\n  // fix left and top for tooltip\n  let rect = trigger.getBoundingClientRect()\n  let tooltipRect = tooltip.getBoundingClientRect()\n  let top\n  let left\n  if (placement === PLACEMENTS.BOTTOM) {\n    top = containerScrollTop + rect.top + rect.height\n    left = containerScrollLeft + rect.left + rect.width / 2 - tooltipRect.width / 2\n  } else if (placement === PLACEMENTS.LEFT) {\n    top = containerScrollTop + rect.top + rect.height / 2 - tooltipRect.height / 2\n    left = containerScrollLeft + rect.left - tooltipRect.width\n  } else if (placement === PLACEMENTS.RIGHT) {\n    top = containerScrollTop + rect.top + rect.height / 2 - tooltipRect.height / 2\n    // https://github.com/wxsms/uiv/issues/272\n    // add 1px to fix above issue\n    left = containerScrollLeft + rect.left + rect.width + 1\n  } else {\n    top = containerScrollTop + rect.top - tooltipRect.height\n    left = containerScrollLeft + rect.left + rect.width / 2 - tooltipRect.width / 2\n  }\n  let viewportEl\n  // viewport option\n  if (isString(viewport)) {\n    viewportEl = document.querySelector(viewport)\n  } else if (isFunction(viewport)) {\n    viewportEl = viewport(trigger)\n  }\n  if (isElement(viewportEl)) {\n    const popoverFix = isPopover ? 11 : 0\n    const viewportReact = viewportEl.getBoundingClientRect()\n    const viewportTop = containerScrollTop + viewportReact.top\n    const viewportLeft = containerScrollLeft + viewportReact.left\n    const viewportBottom = viewportTop + viewportReact.height\n    const viewportRight = viewportLeft + viewportReact.width\n    // fix top\n    if (top < viewportTop) {\n      top = viewportTop\n    } else if (top + tooltipRect.height > viewportBottom) {\n      top = viewportBottom - tooltipRect.height\n    }\n    // fix left\n    if (left < viewportLeft) {\n      left = viewportLeft\n    } else if (left + tooltipRect.width > viewportRight) {\n      left = viewportRight - tooltipRect.width\n    }\n    // fix for popover pointer\n    if (placement === PLACEMENTS.BOTTOM) {\n      top -= popoverFix\n    } else if (placement === PLACEMENTS.LEFT) {\n      left += popoverFix\n    } else if (placement === PLACEMENTS.RIGHT) {\n      left -= popoverFix\n    } else {\n      top += popoverFix\n    }\n  }\n  // set position finally\n  tooltip.style.top = `${top}px`\n  tooltip.style.left = `${left}px`\n}\n\nexport function hasScrollbar (el) {\n  const SCROLL = 'scroll'\n  const hasVScroll = el.scrollHeight > el.clientHeight\n  const style = getComputedStyle(el)\n  return hasVScroll || style.overflow === SCROLL || style.overflowY === SCROLL\n}\n\nexport function toggleBodyOverflow (enable) {\n  const MODAL_OPEN = 'modal-open'\n  const body = document.body\n  if (enable) {\n    removeClass(body, MODAL_OPEN)\n    body.style.paddingRight = null\n  } else {\n    const browsersWithFloatingScrollbar = isIE10() || isIE11()\n    const documentHasScrollbar = hasScrollbar(document.documentElement) || hasScrollbar(document.body)\n    if (documentHasScrollbar && !browsersWithFloatingScrollbar) {\n      body.style.paddingRight = `${getScrollbarWidth()}px`\n    }\n    addClass(body, MODAL_OPEN)\n  }\n}\n\nexport function getClosest (el, selector) {\n  ensureElementMatchesFunction()\n  let parent\n  let _el = el\n  while (_el) {\n    parent = _el.parentElement\n    if (parent && parent.matches(selector)) {\n      return parent\n    }\n    _el = parent\n  }\n  return null\n}\n\nexport function getParents (el, selector, until = null) {\n  ensureElementMatchesFunction()\n  let parents = []\n  let parent = el.parentElement\n  while (parent) {\n    if (parent.matches(selector)) {\n      parents.push(parent)\n    } else if (until && (until === parent || parent.matches(until))) {\n      break\n    }\n    parent = parent.parentElement\n  }\n  return parents\n}\n\nexport function focus (el) {\n  if (!isElement(el)) {\n    return\n  }\n  el.getAttribute('tabindex') ? null : el.setAttribute('tabindex', '-1')\n  el.focus()\n}\n","<script>\n  import {setDropdownPosition, on, off, EVENTS, focus} from '../../utils/domUtils'\n  import {isBoolean} from '../../utils/objectUtils'\n\n  const DEFAULT_TAG = 'div'\n\n  export default {\n    render (h) {\n      return h(\n        this.tag,\n        {\n          class: {\n            'btn-group': this.tag === DEFAULT_TAG,\n            dropdown: !this.dropup,\n            dropup: this.dropup,\n            open: this.show\n          }\n        },\n        [\n          this.$slots.default,\n          h(\n            'ul',\n            {\n              class: {\n                'dropdown-menu': true,\n                'dropdown-menu-right': this.menuRight\n              },\n              ref: 'dropdown'\n            },\n            [this.$slots.dropdown]\n          )\n        ]\n      )\n    },\n    props: {\n      tag: {\n        type: String,\n        default: DEFAULT_TAG\n      },\n      appendToBody: {\n        type: Boolean,\n        default: false\n      },\n      value: Boolean,\n      dropup: {\n        type: Boolean,\n        default: false\n      },\n      menuRight: {\n        type: Boolean,\n        default: false\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      notCloseElements: Array,\n      positionElement: null\n    },\n    data () {\n      return {\n        show: false,\n        triggerEl: undefined\n      }\n    },\n    watch: {\n      value (v) {\n        this.toggle(v)\n      }\n    },\n    mounted () {\n      this.initTrigger()\n      if (this.triggerEl) {\n        on(this.triggerEl, EVENTS.CLICK, this.toggle)\n        on(this.triggerEl, EVENTS.KEY_DOWN, this.onKeyPress)\n      }\n      on(this.$refs.dropdown, EVENTS.KEY_DOWN, this.onKeyPress)\n      on(window, EVENTS.CLICK, this.windowClicked)\n      on(window, EVENTS.TOUCH_END, this.windowClicked)\n      if (this.value) {\n        this.toggle(true)\n      }\n    },\n    beforeDestroy () {\n      this.removeDropdownFromBody()\n      if (this.triggerEl) {\n        off(this.triggerEl, EVENTS.CLICK, this.toggle)\n        off(this.triggerEl, EVENTS.KEY_DOWN, this.onKeyPress)\n      }\n      off(this.$refs.dropdown, EVENTS.KEY_DOWN, this.onKeyPress)\n      off(window, EVENTS.CLICK, this.windowClicked)\n      off(window, EVENTS.TOUCH_END, this.windowClicked)\n    },\n    methods: {\n      onKeyPress (event) {\n        if (this.show) {\n          const dropdownEl = this.$refs.dropdown\n          const keyCode = event.keyCode || event.which\n          if (keyCode === 27) {\n            this.toggle(false)\n            this.triggerEl && this.triggerEl.focus()\n          } else if (keyCode === 13) {\n            const currentFocus = dropdownEl.querySelector('li > a:focus')\n            currentFocus && currentFocus.click()\n          } else if (keyCode === 38 || keyCode === 40) {\n            event.preventDefault()\n            event.stopPropagation()\n            const currentFocus = dropdownEl.querySelector('li > a:focus')\n            const items = dropdownEl.querySelectorAll('li:not(.disabled) > a')\n            if (!currentFocus) {\n              focus(items[0])\n            } else {\n              for (let i = 0; i < items.length; i++) {\n                if (currentFocus === items[i]) {\n                  if (keyCode === 38 && i < items.length > 0) {\n                    focus(items[i - 1])\n                  } else if (keyCode === 40 && i < items.length - 1) {\n                    focus(items[i + 1])\n                  }\n                  break\n                }\n              }\n            }\n          }\n        }\n      },\n      initTrigger () {\n        const trigger = this.$el.querySelector('[data-role=\"trigger\"]') || this.$el.querySelector('.dropdown-toggle') || this.$el.firstChild\n        this.triggerEl = trigger && trigger !== this.$refs.dropdown ? trigger : null\n      },\n      toggle (show) {\n        if (this.disabled) {\n          return\n        }\n        if (isBoolean(show)) {\n          this.show = show\n        } else {\n          this.show = !this.show\n        }\n        if (this.appendToBody) {\n          this.show ? this.appendDropdownToBody() : this.removeDropdownFromBody()\n        }\n        this.$emit('input', this.show)\n      },\n      windowClicked (event) {\n        let target = event.target\n        if (this.show && target) {\n          let targetInNotCloseElements = false\n          if (this.notCloseElements) {\n            for (let i = 0, l = this.notCloseElements.length; i < l; i++) {\n              const isTargetInElement = this.notCloseElements[i].contains(target)\n              let shouldBreak = isTargetInElement\n              if (this.appendToBody) {\n                const isTargetInDropdown = this.$refs.dropdown.contains(target)\n                const isElInElements = this.notCloseElements.indexOf(this.$el) >= 0\n                shouldBreak = isTargetInElement || (isTargetInDropdown && isElInElements)\n              }\n              if (shouldBreak) {\n                targetInNotCloseElements = true\n                break\n              }\n            }\n          }\n          const targetInDropdownBody = this.$refs.dropdown.contains(target)\n          const targetInTrigger = this.$el.contains(target) && !targetInDropdownBody\n          // normally, a dropdown select event is handled by @click that trigger after @touchend\n          // then @touchend event have to be ignore in this case\n          const targetInDropdownAndIsTouchEvent = targetInDropdownBody && event.type === 'touchend'\n          if (!targetInTrigger && !targetInNotCloseElements && !targetInDropdownAndIsTouchEvent) {\n            this.toggle(false)\n          }\n        }\n      },\n      appendDropdownToBody () {\n        try {\n          let el = this.$refs.dropdown\n          el.style.display = 'block'\n          document.body.appendChild(el)\n          let positionElement = this.positionElement || this.$el\n          setDropdownPosition(el, positionElement, this)\n        } catch (e) {\n          // Silent\n        }\n      },\n      removeDropdownFromBody () {\n        try {\n          let el = this.$refs.dropdown\n          el.removeAttribute('style')\n          this.$el.appendChild(el)\n        } catch (e) {\n          // Silent\n        }\n      }\n    }\n  }\n</script>\n","\n /*! \n  * portal-vue © Thorsten Lünborg, 2019 \n  * \n  * Version: 2.1.7\n  * \n  * LICENCE: MIT \n  * \n  * https://github.com/linusborg/portal-vue\n  * \n */\n\nimport Vue from 'vue';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar inBrowser = typeof window !== 'undefined';\nfunction freeze(item) {\n  if (Array.isArray(item) || _typeof(item) === 'object') {\n    return Object.freeze(item);\n  }\n\n  return item;\n}\nfunction combinePassengers(transports) {\n  var slotProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return transports.reduce(function (passengers, transport) {\n    var temp = transport.passengers[0];\n    var newPassengers = typeof temp === 'function' ? temp(slotProps) : transport.passengers;\n    return passengers.concat(newPassengers);\n  }, []);\n}\nfunction stableSort(array, compareFn) {\n  return array.map(function (v, idx) {\n    return [idx, v];\n  }).sort(function (a, b) {\n    return compareFn(a[1], b[1]) || a[0] - b[0];\n  }).map(function (c) {\n    return c[1];\n  });\n}\nfunction pick(obj, keys) {\n  return keys.reduce(function (acc, key) {\n    if (obj.hasOwnProperty(key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nvar transports = {};\nvar targets = {};\nvar sources = {};\nvar Wormhole = Vue.extend({\n  data: function data() {\n    return {\n      transports: transports,\n      targets: targets,\n      sources: sources,\n      trackInstances: inBrowser\n    };\n  },\n  methods: {\n    open: function open(transport) {\n      if (!inBrowser) return;\n      var to = transport.to,\n          from = transport.from,\n          passengers = transport.passengers,\n          _transport$order = transport.order,\n          order = _transport$order === void 0 ? Infinity : _transport$order;\n      if (!to || !from || !passengers) return;\n      var newTransport = {\n        to: to,\n        from: from,\n        passengers: freeze(passengers),\n        order: order\n      };\n      var keys = Object.keys(this.transports);\n\n      if (keys.indexOf(to) === -1) {\n        Vue.set(this.transports, to, []);\n      }\n\n      var currentIndex = this.$_getTransportIndex(newTransport); // Copying the array here so that the PortalTarget change event will actually contain two distinct arrays\n\n      var newTransports = this.transports[to].slice(0);\n\n      if (currentIndex === -1) {\n        newTransports.push(newTransport);\n      } else {\n        newTransports[currentIndex] = newTransport;\n      }\n\n      this.transports[to] = stableSort(newTransports, function (a, b) {\n        return a.order - b.order;\n      });\n    },\n    close: function close(transport) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var to = transport.to,\n          from = transport.from;\n      if (!to || !from && force === false) return;\n\n      if (!this.transports[to]) {\n        return;\n      }\n\n      if (force) {\n        this.transports[to] = [];\n      } else {\n        var index = this.$_getTransportIndex(transport);\n\n        if (index >= 0) {\n          // Copying the array here so that the PortalTarget change event will actually contain two distinct arrays\n          var newTransports = this.transports[to].slice(0);\n          newTransports.splice(index, 1);\n          this.transports[to] = newTransports;\n        }\n      }\n    },\n    registerTarget: function registerTarget(target, vm, force) {\n      if (!inBrowser) return;\n\n      if (this.trackInstances && !force && this.targets[target]) {\n        console.warn(\"[portal-vue]: Target \".concat(target, \" already exists\"));\n      }\n\n      this.$set(this.targets, target, Object.freeze([vm]));\n    },\n    unregisterTarget: function unregisterTarget(target) {\n      this.$delete(this.targets, target);\n    },\n    registerSource: function registerSource(source, vm, force) {\n      if (!inBrowser) return;\n\n      if (this.trackInstances && !force && this.sources[source]) {\n        console.warn(\"[portal-vue]: source \".concat(source, \" already exists\"));\n      }\n\n      this.$set(this.sources, source, Object.freeze([vm]));\n    },\n    unregisterSource: function unregisterSource(source) {\n      this.$delete(this.sources, source);\n    },\n    hasTarget: function hasTarget(to) {\n      return !!(this.targets[to] && this.targets[to][0]);\n    },\n    hasSource: function hasSource(to) {\n      return !!(this.sources[to] && this.sources[to][0]);\n    },\n    hasContentFor: function hasContentFor(to) {\n      return !!this.transports[to] && !!this.transports[to].length;\n    },\n    // Internal\n    $_getTransportIndex: function $_getTransportIndex(_ref) {\n      var to = _ref.to,\n          from = _ref.from;\n\n      for (var i in this.transports[to]) {\n        if (this.transports[to][i].from === from) {\n          return +i;\n        }\n      }\n\n      return -1;\n    }\n  }\n});\nvar wormhole = new Wormhole(transports);\n\nvar _id = 1;\nvar Portal = Vue.extend({\n  name: 'portal',\n  props: {\n    disabled: {\n      type: Boolean\n    },\n    name: {\n      type: String,\n      default: function _default() {\n        return String(_id++);\n      }\n    },\n    order: {\n      type: Number,\n      default: 0\n    },\n    slim: {\n      type: Boolean\n    },\n    slotProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tag: {\n      type: String,\n      default: 'DIV'\n    },\n    to: {\n      type: String,\n      default: function _default() {\n        return String(Math.round(Math.random() * 10000000));\n      }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      wormhole.registerSource(_this.name, _this);\n    });\n  },\n  mounted: function mounted() {\n    if (!this.disabled) {\n      this.sendUpdate();\n    }\n  },\n  updated: function updated() {\n    if (this.disabled) {\n      this.clear();\n    } else {\n      this.sendUpdate();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    wormhole.unregisterSource(this.name);\n    this.clear();\n  },\n  watch: {\n    to: function to(newValue, oldValue) {\n      oldValue && oldValue !== newValue && this.clear(oldValue);\n      this.sendUpdate();\n    }\n  },\n  methods: {\n    clear: function clear(target) {\n      var closer = {\n        from: this.name,\n        to: target || this.to\n      };\n      wormhole.close(closer);\n    },\n    normalizeSlots: function normalizeSlots() {\n      return this.$scopedSlots.default ? [this.$scopedSlots.default] : this.$slots.default;\n    },\n    normalizeOwnChildren: function normalizeOwnChildren(children) {\n      return typeof children === 'function' ? children(this.slotProps) : children;\n    },\n    sendUpdate: function sendUpdate() {\n      var slotContent = this.normalizeSlots();\n\n      if (slotContent) {\n        var transport = {\n          from: this.name,\n          to: this.to,\n          passengers: _toConsumableArray(slotContent),\n          order: this.order\n        };\n        wormhole.open(transport);\n      } else {\n        this.clear();\n      }\n    }\n  },\n  render: function render(h) {\n    var children = this.$slots.default || this.$scopedSlots.default || [];\n    var Tag = this.tag;\n\n    if (children && this.disabled) {\n      return children.length <= 1 && this.slim ? this.normalizeOwnChildren(children)[0] : h(Tag, [this.normalizeOwnChildren(children)]);\n    } else {\n      return this.slim ? h() : h(Tag, {\n        class: {\n          'v-portal': true\n        },\n        style: {\n          display: 'none'\n        },\n        key: 'v-portal-placeholder'\n      });\n    }\n  }\n});\n\nvar PortalTarget = Vue.extend({\n  name: 'portalTarget',\n  props: {\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    slim: {\n      type: Boolean,\n      default: false\n    },\n    slotProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    transition: {\n      type: [String, Object, Function]\n    }\n  },\n  data: function data() {\n    return {\n      transports: wormhole.transports,\n      firstRender: true\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      wormhole.registerTarget(_this.name, _this);\n    });\n  },\n  watch: {\n    ownTransports: function ownTransports() {\n      this.$emit('change', this.children().length > 0);\n    },\n    name: function name(newVal, oldVal) {\n      /**\r\n       * TODO\r\n       * This should warn as well ...\r\n       */\n      wormhole.unregisterTarget(oldVal);\n      wormhole.registerTarget(newVal, this);\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    if (this.transition) {\n      this.$nextTick(function () {\n        // only when we have a transition, because it causes a re-render\n        _this2.firstRender = false;\n      });\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    wormhole.unregisterTarget(this.name);\n  },\n  computed: {\n    ownTransports: function ownTransports() {\n      var transports = this.transports[this.name] || [];\n\n      if (this.multiple) {\n        return transports;\n      }\n\n      return transports.length === 0 ? [] : [transports[transports.length - 1]];\n    },\n    passengers: function passengers() {\n      return combinePassengers(this.ownTransports, this.slotProps);\n    }\n  },\n  methods: {\n    // can't be a computed prop because it has to \"react\" to $slot changes.\n    children: function children() {\n      return this.passengers.length !== 0 ? this.passengers : this.$scopedSlots.default ? this.$scopedSlots.default(this.slotProps) : this.$slots.default || [];\n    },\n    // can't be a computed prop because it has to \"react\" to this.children().\n    noWrapper: function noWrapper() {\n      var noWrapper = this.slim && !this.transition;\n\n      if (noWrapper && this.children().length > 1) {\n        console.warn('[portal-vue]: PortalTarget with `slim` option received more than one child element.');\n      }\n\n      return noWrapper;\n    }\n  },\n  render: function render(h) {\n    var noWrapper = this.noWrapper();\n    var children = this.children();\n    var Tag = this.transition || this.tag;\n    return noWrapper ? children[0] : this.slim && !Tag ? h() : h(Tag, {\n      props: {\n        // if we have a transition component, pass the tag if it exists\n        tag: this.transition && this.tag ? this.tag : undefined\n      },\n      class: {\n        'vue-portal-target': true\n      }\n    }, children);\n  }\n});\n\nvar _id$1 = 0;\nvar portalProps = ['disabled', 'name', 'order', 'slim', 'slotProps', 'tag', 'to'];\nvar targetProps = ['multiple', 'transition'];\nvar MountingPortal = Vue.extend({\n  name: 'MountingPortal',\n  inheritAttrs: false,\n  props: {\n    append: {\n      type: [Boolean, String]\n    },\n    bail: {\n      type: Boolean\n    },\n    mountTo: {\n      type: String,\n      required: true\n    },\n    // Portal\n    disabled: {\n      type: Boolean\n    },\n    // name for the portal\n    name: {\n      type: String,\n      default: function _default() {\n        return 'mounted_' + String(_id$1++);\n      }\n    },\n    order: {\n      type: Number,\n      default: 0\n    },\n    slim: {\n      type: Boolean\n    },\n    slotProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tag: {\n      type: String,\n      default: 'DIV'\n    },\n    // name for the target\n    to: {\n      type: String,\n      default: function _default() {\n        return String(Math.round(Math.random() * 10000000));\n      }\n    },\n    // Target\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    targetSlim: {\n      type: Boolean\n    },\n    targetSlotProps: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    targetTag: {\n      type: String,\n      default: 'div'\n    },\n    transition: {\n      type: [String, Object, Function]\n    }\n  },\n  created: function created() {\n    if (typeof document === 'undefined') return;\n    var el = document.querySelector(this.mountTo);\n\n    if (!el) {\n      console.error(\"[portal-vue]: Mount Point '\".concat(this.mountTo, \"' not found in document\"));\n      return;\n    }\n\n    var props = this.$props; // Target already exists\n\n    if (wormhole.targets[props.name]) {\n      if (props.bail) {\n        console.warn(\"[portal-vue]: Target \".concat(props.name, \" is already mounted.\\n        Aborting because 'bail: true' is set\"));\n      } else {\n        this.portalTarget = wormhole.targets[props.name];\n      }\n\n      return;\n    }\n\n    var append = props.append;\n\n    if (append) {\n      var type = typeof append === 'string' ? append : 'DIV';\n      var mountEl = document.createElement(type);\n      el.appendChild(mountEl);\n      el = mountEl;\n    } // get props for target from $props\n    // we have to rename a few of them\n\n\n    var _props = pick(this.$props, targetProps);\n\n    _props.slim = this.targetSlim;\n    _props.tag = this.targetTag;\n    _props.slotProps = this.targetSlotProps;\n    _props.name = this.to;\n    this.portalTarget = new PortalTarget({\n      el: el,\n      parent: this.$parent || this,\n      propsData: _props\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    var target = this.portalTarget;\n\n    if (this.append) {\n      var el = target.$el;\n      el.parentNode.removeChild(el);\n    }\n\n    target.$destroy();\n  },\n  render: function render(h) {\n    if (!this.portalTarget) {\n      console.warn(\"[portal-vue] Target wasn't mounted\");\n      return h();\n    } // if there's no \"manual\" scoped slot, so we create a <Portal> ourselves\n\n\n    if (!this.$scopedSlots.manual) {\n      var props = pick(this.$props, portalProps);\n      return h(Portal, {\n        props: props,\n        attrs: this.$attrs,\n        on: this.$listeners,\n        scopedSlots: this.$scopedSlots\n      }, this.$slots.default);\n    } // else, we render the scoped slot\n\n\n    var content = this.$scopedSlots.manual({\n      to: this.to\n    }); // if user used <template> for the scoped slot\n    // content will be an array\n\n    if (Array.isArray(content)) {\n      content = content[0];\n    }\n\n    if (!content) return h();\n    return content;\n  }\n});\n\nfunction install(Vue$$1) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Vue$$1.component(options.portalName || 'Portal', Portal);\n  Vue$$1.component(options.portalTargetName || 'PortalTarget', PortalTarget);\n  Vue$$1.component(options.MountingPortalName || 'MountingPortal', MountingPortal);\n}\n\nvar index = {\n  install: install\n};\n\nexport default index;\nexport { Portal, PortalTarget, MountingPortal, wormhole as Wormhole };\n//# sourceMappingURL=portal-vue.esm.js.map\n","<template>\n  <section>\n    <ul :class=\"navClasses\" role=\"tablist\">\n      <template v-for=\"(tab, index) in groupedTabs\">\n        <dropdown v-if=\"tab.tabs\" role=\"presentation\" tag=\"li\" :class=\"getTabClasses(tab)\" v-show=\"!tab.hidden\">\n          <a class=\"dropdown-toggle\" role=\"tab\" href=\"#\" @click.prevent>{{tab.group}} <span class=\"caret\"></span></a>\n          <template slot=\"dropdown\">\n            <li v-for=\"subTab in tab.tabs\" :class=\"getTabClasses(subTab,true)\" v-show=\"!subTab.hidden\">\n              <a href=\"#\" @click.prevent=\"select(tabs.indexOf(subTab))\">{{subTab.title}}</a>\n            </li>\n          </template>\n        </dropdown>\n        <li v-else role=\"presentation\" :class=\"getTabClasses(tab)\" v-show=\"!tab.hidden\">\n          <a role=\"tab\" href=\"#\" @click.prevent=\"select(tabs.indexOf(tab))\" v-if=\"tab.$slots.title\">\n            <portal-target :name=\"tab._uid.toString()\"/>\n          </a>\n          <a role=\"tab\" href=\"#\" @click.prevent=\"select(tabs.indexOf(tab))\" v-else-if=\"tab.htmlTitle\" v-html=\"tab.title\"></a>\n          <a role=\"tab\" href=\"#\" @click.prevent=\"select(tabs.indexOf(tab))\" v-else-if=\"tab.title\" v-text=\"tab.title\"></a>\n        </li>\n      </template>\n      <li class=\"pull-right\" v-if=\"!justified && $slots['nav-right']\">\n        <slot name=\"nav-right\"/>\n      </li>\n    </ul>\n    <div :class=\"contentClasses\">\n      <slot/>\n    </div>\n  </section>\n</template>\n\n<script>\n  import Dropdown from '../dropdown/Dropdown.vue'\n  import {PortalTarget} from 'portal-vue'\n  import {isNumber, isFunction, isExist, isString} from '../../utils/objectUtils'\n\n  const BEFORE_CHANGE_EVENT = 'before-change'\n\n  export default {\n    components: {Dropdown, PortalTarget},\n    props: {\n      value: {\n        type: Number,\n        validator: v => v >= 0\n      },\n      transitionDuration: {\n        type: Number,\n        default: 150\n      },\n      justified: Boolean,\n      pills: Boolean,\n      stacked: Boolean,\n      customNavClass: null,\n      customContentClass: null\n    },\n    data () {\n      return {\n        tabs: [],\n        activeIndex: 0 // Make v-model not required\n      }\n    },\n    watch: {\n      value: {\n        immediate: true,\n        handler (value) {\n          if (isNumber(value)) {\n            this.activeIndex = value\n            this.selectCurrent()\n          }\n        }\n      },\n      tabs (tabs) {\n        tabs.forEach((tab, index) => {\n          tab.transition = this.transitionDuration\n          if (index === this.activeIndex) {\n            tab.show()\n          }\n        })\n        this.selectCurrent()\n      }\n    },\n    computed: {\n      navClasses () {\n        const tabClasses = {\n          'nav': true,\n          'nav-justified': this.justified,\n          'nav-tabs': !this.pills,\n          'nav-pills': this.pills,\n          'nav-stacked': this.stacked && this.pills\n        }\n        const customNavClass = this.customNavClass\n        if (isExist(customNavClass)) {\n          if (isString(customNavClass)) {\n            return {\n              ...tabClasses,\n              [customNavClass]: true\n            }\n          } else {\n            return {\n              ...tabClasses,\n              ...customNavClass\n            }\n          }\n        } else {\n          return tabClasses\n        }\n      },\n      contentClasses () {\n        const contentClasses = {\n          'tab-content': true\n        }\n        const customContentClass = this.customContentClass\n        if (isExist(customContentClass)) {\n          if (isString(customContentClass)) {\n            return {\n              ...contentClasses,\n              [customContentClass]: true\n            }\n          } else {\n            return {\n              ...contentClasses,\n              ...customContentClass\n            }\n          }\n        } else {\n          return contentClasses\n        }\n      },\n      groupedTabs () {\n        let tabs = []\n        let hash = {}\n        this.tabs.forEach(tab => {\n          if (tab.group) {\n            if (hash.hasOwnProperty(tab.group)) {\n              tabs[hash[tab.group]].tabs.push(tab)\n            } else {\n              tabs.push({\n                tabs: [tab],\n                group: tab.group\n              })\n              hash[tab.group] = tabs.length - 1\n            }\n            if (tab.active) {\n              tabs[hash[tab.group]].active = true\n            }\n            if (tab.pullRight) {\n              tabs[hash[tab.group]].pullRight = true\n            }\n          } else {\n            tabs.push(tab)\n          }\n        })\n        tabs = tabs.map(tab => {\n          if (Array.isArray(tab.tabs)) {\n            tab.hidden = tab.tabs.filter(v => v.hidden).length === tab.tabs.length\n          }\n          return tab\n        })\n        return tabs\n      }\n    },\n    methods: {\n      getTabClasses (tab, isSubTab = false) {\n        let defaultClasses = {\n          active: tab.active,\n          disabled: tab.disabled,\n          'pull-right': tab.pullRight && !isSubTab\n        }\n\n        // return with new classes added to tab\n        return Object.assign(defaultClasses, tab['tabClasses'])\n      },\n      selectCurrent () {\n        let found = false\n        this.tabs.forEach((tab, index) => {\n          if (index === this.activeIndex) {\n            found = !tab.active\n            tab.active = true\n          } else {\n            tab.active = false\n          }\n        })\n        if (found) {\n          this.$emit('change', this.activeIndex)\n        }\n      },\n      selectValidate (index) {\n        if (isFunction(this.$listeners[BEFORE_CHANGE_EVENT])) {\n          this.$emit(BEFORE_CHANGE_EVENT, this.activeIndex, index, (result) => {\n            if (!isExist(result)) {\n              this.$select(index)\n            }\n          })\n        } else {\n          this.$select(index)\n        }\n      },\n      select (index) {\n        if (!this.tabs[index].disabled && index !== this.activeIndex) {\n          this.selectValidate(index)\n        }\n      },\n      $select (index) {\n        if (isNumber(this.value)) {\n          this.$emit('input', index)\n        } else {\n          this.activeIndex = index\n          this.selectCurrent()\n        }\n      }\n    }\n  }\n</script>\n"],"names":["isExist","obj","isFunction","isNumber","isString","isBoolean","EVENTS","on","element","event","handler","addEventListener","off","removeEventListener","isElement","el","nodeType","Node","ELEMENT_NODE","setDropdownPosition","dropdown","trigger","options","doc","document","documentElement","containerScrollLeft","window","pageXOffset","scrollLeft","clientLeft","containerScrollTop","pageYOffset","scrollTop","clientTop","rect","getBoundingClientRect","dropdownRect","style","right","bottom","menuRight","left","width","dropup","top","height","focus","getAttribute","setAttribute","DEFAULT_TAG","h","tag","show","$slots","default","String","Boolean","Array","undefined","v","toggle","initTrigger","triggerEl","CLICK","KEY_DOWN","onKeyPress","$refs","windowClicked","TOUCH_END","value","removeDropdownFromBody","dropdownEl","keyCode","which","currentFocus","querySelector","click","preventDefault","stopPropagation","items","querySelectorAll","i","length","$el","firstChild","disabled","appendToBody","appendDropdownToBody","$emit","target","targetInNotCloseElements","notCloseElements","l","isTargetInElement","contains","shouldBreak","isTargetInDropdown","isElInElements","indexOf","targetInDropdownBody","targetInTrigger","targetInDropdownAndIsTouchEvent","type","display","body","appendChild","positionElement","e","removeAttribute","_typeof","Symbol","babelHelpers.typeof","iterator","constructor","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","isArray","arr2","iter","Object","toString","call","from","TypeError","inBrowser","freeze","item","combinePassengers","transports","slotProps","arguments","reduce","passengers","transport","temp","newPassengers","concat","stableSort","array","compareFn","map","idx","sort","a","b","c","pick","keys","acc","key","hasOwnProperty","targets","sources","Wormhole","Vue","extend","data","open","to","_transport$order","order","Infinity","newTransport","set","currentIndex","$_getTransportIndex","newTransports","slice","push","close","force","index","splice","registerTarget","vm","trackInstances","warn","$set","unregisterTarget","$delete","registerSource","source","unregisterSource","hasTarget","hasSource","hasContentFor","_ref","wormhole","_id","Portal","_default","Number","Math","round","random","created","_this","$nextTick","name","mounted","sendUpdate","updated","clear","beforeDestroy","newValue","oldValue","closer","normalizeSlots","$scopedSlots","normalizeOwnChildren","children","slotContent","render","Tag","slim","PortalTarget","Function","ownTransports","newVal","oldVal","_this2","transition","firstRender","multiple","noWrapper","_id$1","portalProps","targetProps","MountingPortal","mountTo","error","props","$props","bail","portalTarget","append","mountEl","createElement","_props","targetSlim","targetTag","targetSlotProps","$parent","parentNode","removeChild","$destroy","manual","$attrs","$listeners","content","BEFORE_CHANGE_EVENT","Dropdown","activeIndex","selectCurrent","tabs","forEach","tab","transitionDuration","tabClasses","justified","pills","stacked","customNavClass","contentClasses","customContentClass","hash","group","active","pullRight","hidden","filter","isSubTab","defaultClasses","babelHelpers.extends","found","result","$select","selectValidate"],"mappings":"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"}