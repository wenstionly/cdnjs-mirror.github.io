{"version":3,"file":"Modal.js","sources":["../src/utils/objectUtils.js","../src/locale/lang/en-US.js","../src/locale/index.js","../src/mixins/localeMixin.js","../node_modules/vue-functional-data-merge/dist/lib.esm.js","../src/mixins/linkMixin.js","../src/components/button/BtnGroup.js","../src/components/button/Btn.js","../src/utils/domUtils.js","../src/components/modal/Modal.vue"],"sourcesContent":["export function isExist (obj) {\n  return typeof obj !== 'undefined' && obj !== null\n}\n\nexport function isFunction (obj) {\n  return typeof obj === 'function'\n}\n\nexport function isNumber (obj) {\n  return typeof obj === 'number'\n}\n\nexport function isString (obj) {\n  return typeof obj === 'string'\n}\n\nexport function isBoolean (obj) {\n  return typeof obj === 'boolean'\n}\n\nexport function isPromiseSupported () {\n  return typeof window !== 'undefined' && isExist(window.Promise)\n}\n","export default {\n  uiv: {\n    datePicker: {\n      clear: 'Clear',\n      today: 'Today',\n      month: 'Month',\n      month1: 'January',\n      month2: 'February',\n      month3: 'March',\n      month4: 'April',\n      month5: 'May',\n      month6: 'June',\n      month7: 'July',\n      month8: 'August',\n      month9: 'September',\n      month10: 'October',\n      month11: 'November',\n      month12: 'December',\n      year: 'Year',\n      week1: 'Mon',\n      week2: 'Tue',\n      week3: 'Wed',\n      week4: 'Thu',\n      week5: 'Fri',\n      week6: 'Sat',\n      week7: 'Sun'\n    },\n    timePicker: {\n      am: 'AM',\n      pm: 'PM'\n    },\n    modal: {\n      cancel: 'Cancel',\n      ok: 'OK'\n    },\n    multiSelect: {\n      placeholder: 'Select...',\n      filterPlaceholder: 'Search...'\n    }\n  }\n}\n","// https://github.com/ElemeFE/element/blob/dev/src/locale/index.js\nimport {isFunction, isExist} from '../utils/objectUtils'\nimport defaultLang from './lang/en-US'\n\nlet lang = defaultLang\n\nlet i18nHandler = function () {\n  const vuei18n = Object.getPrototypeOf(this).$t\n  if (isFunction(vuei18n)) {\n    try {\n      return vuei18n.apply(this, arguments)\n    } catch (err) {\n      //  vuei18n.apply doesn't work with 7.3.3 of vue-i18n\n      return this.$t(...arguments)\n    }\n  }\n}\n\nexport const t = function (path, options) {\n  options = options || {}\n\n  let value = i18nHandler.apply(this, arguments)\n  if (isExist(value) && !options.$$locale) {\n    return value\n  }\n  const array = path.split('.')\n  let current = options.$$locale || lang\n\n  for (let i = 0, j = array.length; i < j; i++) {\n    const property = array[i]\n    value = current[property]\n    if (i === j - 1) return value\n    if (!value) return ''\n    current = value\n  }\n  return ''\n}\n\nexport const use = function (l) {\n  lang = l || lang\n}\n\nexport const i18n = function (fn) {\n  i18nHandler = fn || i18nHandler\n}\n\nexport default {use, t, i18n}\n","import {t} from '../locale'\n\nexport default {\n  methods: {\n    t (...args) {\n      args[1] = Object.assign({ $$locale: this.locale }, args[1])\n      return t.apply(this, args)\n    }\n  },\n  props: {\n    locale: Object\n  }\n}\n","function mergeData(){for(var e,a,s={},t=arguments.length;t--;)for(var r=0,c=Object.keys(arguments[t]);r<c.length;r++)switch(e=c[r]){case\"class\":case\"style\":case\"directives\":Array.isArray(s[e])||(s[e]=[]),s[e]=s[e].concat(arguments[t][e]);break;case\"staticClass\":if(!arguments[t][e])break;void 0===s[e]&&(s[e]=\"\"),s[e]&&(s[e]+=\" \"),s[e]+=arguments[t][e].trim();break;case\"on\":case\"nativeOn\":s[e]||(s[e]={});for(var o=0,n=Object.keys(arguments[t][e]);o<n.length;o++)a=n[o],s[e][a]?s[e][a]=[].concat(s[e][a],arguments[t][e][a]):s[e][a]=arguments[t][e][a];break;case\"attrs\":case\"props\":case\"domProps\":case\"scopedSlots\":case\"staticStyle\":case\"hook\":case\"transition\":s[e]||(s[e]={}),s[e]=__assign({},arguments[t][e],s[e]);break;case\"slot\":case\"key\":case\"ref\":case\"tag\":case\"show\":case\"keepAlive\":default:s[e]||(s[e]=arguments[t][e])}return s}var __assign=Object.assign||function(e){for(var a,s=1,t=arguments.length;s<t;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};export{mergeData};\n//# sourceMappingURL=lib.esm.js.map\n","export default {\n  props: {\n    // <a> props\n    href: String,\n    target: String,\n    // <router-link> props\n    to: null,\n    replace: {\n      type: Boolean,\n      default: false\n    },\n    append: {\n      type: Boolean,\n      default: false\n    },\n    exact: {\n      type: Boolean,\n      default: false\n    }\n  }\n}\n","import {mergeData} from 'vue-functional-data-merge'\n\nexport default {\n  functional: true,\n  render (h, {props, children, data}) {\n    return h(\n      'div',\n      mergeData(data, {\n        class: {\n          'btn-group': !props.vertical,\n          'btn-group-vertical': props.vertical,\n          'btn-group-justified': props.justified,\n          [`btn-group-${props.size}`]: props.size\n        },\n        attrs: {\n          role: 'group',\n          'data-toggle': 'buttons'\n        }\n      }),\n      children\n    )\n  },\n  props: {\n    size: String,\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    justified: {\n      type: Boolean,\n      default: false\n    }\n  }\n}\n","import {mergeData} from 'vue-functional-data-merge'\nimport linkMixin from '../../mixins/linkMixin'\nimport BtnGroup from './BtnGroup'\n\nconst INPUT_TYPE_CHECKBOX = 'checkbox'\nconst INPUT_TYPE_RADIO = 'radio'\n\nexport default {\n  functional: true,\n  mixins: [linkMixin],\n  render (h, {children, props, data}) {\n    // event listeners\n    const listeners = data.on || {}\n    // checkbox: model contain inputValue\n    // radio: model === inputValue\n    const isInputActive = props.inputType === INPUT_TYPE_CHECKBOX ? props.value.indexOf(props.inputValue) >= 0 : props.value === props.inputValue\n    // button class\n    const classes = {\n      btn: true,\n      active: props.inputType ? isInputActive : props.active,\n      disabled: props.disabled,\n      'btn-block': props.block,\n      [`btn-${props.type}`]: Boolean(props.type),\n      [`btn-${props.size}`]: Boolean(props.size)\n    }\n    // prevent event for disabled links\n    const on = {\n      click (e) {\n        if (props.disabled && e instanceof Event) {\n          e.preventDefault()\n          e.stopPropagation()\n        }\n      }\n    }\n    // render params\n    let tag, options, slot\n\n    if (props.href) {\n      // is native link\n      tag = 'a'\n      slot = children\n      options = mergeData(data, {\n        on,\n        class: classes,\n        attrs: {\n          role: 'button',\n          href: props.href,\n          target: props.target\n        }\n      })\n    } else if (props.to) {\n      // is vue router link\n      tag = 'router-link'\n      slot = children\n      options = mergeData(data, {\n        nativeOn: on,\n        class: classes,\n        props: {\n          event: props.disabled ? '' : 'click', // prevent nav while disabled\n          to: props.to,\n          replace: props.replace,\n          append: props.append,\n          exact: props.exact\n        },\n        attrs: {\n          role: 'button'\n        }\n      })\n    } else if (props.inputType) {\n      // is input checkbox or radio\n      tag = 'label'\n      options = mergeData(data, {\n        on,\n        class: classes\n      })\n      slot = [\n        h('input', {\n          attrs: {\n            autocomplete: 'off',\n            type: props.inputType,\n            checked: isInputActive ? 'checked' : null,\n            disabled: props.disabled\n          },\n          domProps: {\n            checked: isInputActive // required\n          },\n          on: {\n            input (evt) {\n              evt.stopPropagation()\n            },\n            change () {\n              if (props.inputType === INPUT_TYPE_CHECKBOX) {\n                const valueCopied = props.value.slice()\n                if (isInputActive) {\n                  valueCopied.splice(valueCopied.indexOf(props.inputValue), 1)\n                } else {\n                  valueCopied.push(props.inputValue)\n                }\n                listeners['input'](valueCopied)\n              } else {\n                listeners['input'](props.inputValue)\n              }\n            }\n          }\n        }),\n        children\n      ]\n    } else if (props.justified) {\n      // is in justified btn-group\n      tag = BtnGroup\n      options = {}\n      slot = [\n        h('button', mergeData(data, {\n          on,\n          class: classes,\n          attrs: {\n            type: props.nativeType,\n            disabled: props.disabled\n          }\n        }), children)\n      ]\n    } else {\n      // is button\n      tag = 'button'\n      slot = children\n      options = mergeData(data, {\n        on,\n        class: classes,\n        attrs: {\n          type: props.nativeType,\n          disabled: props.disabled\n        }\n      })\n    }\n\n    return h(tag, options, slot)\n  },\n  props: {\n    justified: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: 'default'\n    },\n    nativeType: {\n      type: String,\n      default: 'button'\n    },\n    size: String,\n    block: {\n      type: Boolean,\n      default: false\n    },\n    active: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    // <input> props\n    value: null,\n    inputValue: null,\n    inputType: {\n      type: String,\n      validator (value) {\n        return value === INPUT_TYPE_CHECKBOX || value === INPUT_TYPE_RADIO\n      }\n    }\n  }\n}\n","import {isExist, isString, isFunction} from './objectUtils'\n\nexport const EVENTS = {\n  MOUSE_ENTER: 'mouseenter',\n  MOUSE_LEAVE: 'mouseleave',\n  FOCUS: 'focus',\n  BLUR: 'blur',\n  CLICK: 'click',\n  INPUT: 'input',\n  KEY_DOWN: 'keydown',\n  KEY_UP: 'keyup',\n  KEY_PRESS: 'keypress',\n  RESIZE: 'resize',\n  SCROLL: 'scroll',\n  TOUCH_START: 'touchstart',\n  TOUCH_END: 'touchend'\n}\n\nexport const TRIGGERS = {\n  CLICK: 'click',\n  HOVER: 'hover',\n  FOCUS: 'focus',\n  HOVER_FOCUS: 'hover-focus',\n  OUTSIDE_CLICK: 'outside-click',\n  MANUAL: 'manual'\n}\n\nexport const PLACEMENTS = {\n  TOP: 'top',\n  RIGHT: 'right',\n  BOTTOM: 'bottom',\n  LEFT: 'left'\n}\n\nexport function isIE11 () {\n  return !!window.MSInputMethodContext && !!document.documentMode\n}\n\nexport function isIE10 () {\n  return window.navigator.appVersion.indexOf('MSIE 10') !== -1\n}\n\nexport function getComputedStyle (el) {\n  return window.getComputedStyle(el)\n}\n\nexport function getViewportSize () {\n  let width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0)\n  let height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0)\n  return {width, height}\n}\n\nlet scrollbarWidth = null\nlet savedScreenSize = null\n\nexport function getScrollbarWidth (recalculate = false) {\n  let screenSize = getViewportSize()\n  // return directly when already calculated & not force recalculate & screen size not changed\n  if (scrollbarWidth !== null && !recalculate &&\n    screenSize.height === savedScreenSize.height && screenSize.width === savedScreenSize.width) {\n    return scrollbarWidth\n  }\n  if (document.readyState === 'loading') {\n    return null\n  }\n  const div1 = document.createElement('div')\n  const div2 = document.createElement('div')\n  div1.style.width = div2.style.width = div1.style.height = div2.style.height = '100px'\n  div1.style.overflow = 'scroll'\n  div2.style.overflow = 'hidden'\n  document.body.appendChild(div1)\n  document.body.appendChild(div2)\n  scrollbarWidth = Math.abs(div1.scrollHeight - div2.scrollHeight)\n  document.body.removeChild(div1)\n  document.body.removeChild(div2)\n  // save new screen size\n  savedScreenSize = screenSize\n  return scrollbarWidth\n}\n\nexport function on (element, event, handler) {\n  element.addEventListener(event, handler)\n}\n\nexport function off (element, event, handler) {\n  element.removeEventListener(event, handler)\n}\n\nexport function isElement (el) {\n  return el && el.nodeType === Node.ELEMENT_NODE\n}\n\nexport function removeFromDom (el) {\n  isElement(el) && isElement(el.parentNode) && el.parentNode.removeChild(el)\n}\n\nexport function ensureElementMatchesFunction () {\n  if (!Element.prototype.matches) {\n    Element.prototype.matches =\n      Element.prototype.matchesSelector ||\n      Element.prototype.mozMatchesSelector ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.oMatchesSelector ||\n      Element.prototype.webkitMatchesSelector ||\n      function (s) {\n        let matches = (this.document || this.ownerDocument).querySelectorAll(s)\n        let i = matches.length\n        while (--i >= 0 && matches.item(i) !== this) {\n        }\n        return i > -1\n      }\n  }\n}\n\nexport function addClass (el, className) {\n  if (!isElement(el)) {\n    return\n  }\n  if (el.className) {\n    let classes = el.className.split(' ')\n    if (classes.indexOf(className) < 0) {\n      classes.push(className)\n      el.className = classes.join(' ')\n    }\n  } else {\n    el.className = className\n  }\n}\n\nexport function removeClass (el, className) {\n  if (!isElement(el)) {\n    return\n  }\n  if (el.className) {\n    let classes = el.className.split(' ')\n    let newClasses = []\n    for (let i = 0, l = classes.length; i < l; i++) {\n      if (classes[i] !== className) {\n        newClasses.push(classes[i])\n      }\n    }\n    el.className = newClasses.join(' ')\n  }\n}\n\nexport function hasClass (el, className) {\n  if (!isElement(el)) {\n    return false\n  }\n  let classes = el.className.split(' ')\n  for (let i = 0, l = classes.length; i < l; i++) {\n    if (classes[i] === className) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function setDropdownPosition (dropdown, trigger, options = {}) {\n  let doc = document.documentElement\n  let containerScrollLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n  let containerScrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n  let rect = trigger.getBoundingClientRect()\n  let dropdownRect = dropdown.getBoundingClientRect()\n  dropdown.style.right = 'auto'\n  dropdown.style.bottom = 'auto'\n  if (options.menuRight) {\n    dropdown.style.left = containerScrollLeft + rect.left + rect.width - dropdownRect.width + 'px'\n  } else {\n    dropdown.style.left = containerScrollLeft + rect.left + 'px'\n  }\n  if (options.dropup) {\n    dropdown.style.top = containerScrollTop + rect.top - dropdownRect.height - 4 + 'px'\n  } else {\n    dropdown.style.top = containerScrollTop + rect.top + rect.height + 'px'\n  }\n}\n\nexport function isAvailableAtPosition (trigger, popup, placement) {\n  let triggerRect = trigger.getBoundingClientRect()\n  let popupRect = popup.getBoundingClientRect()\n  let viewPortSize = getViewportSize()\n  let top = true\n  let right = true\n  let bottom = true\n  let left = true\n  switch (placement) {\n    case PLACEMENTS.TOP:\n      top = triggerRect.top >= popupRect.height\n      left = triggerRect.left + triggerRect.width / 2 >= popupRect.width / 2\n      right = triggerRect.right - triggerRect.width / 2 + popupRect.width / 2 <= viewPortSize.width\n      break\n    case PLACEMENTS.BOTTOM:\n      bottom = triggerRect.bottom + popupRect.height <= viewPortSize.height\n      left = triggerRect.left + triggerRect.width / 2 >= popupRect.width / 2\n      right = triggerRect.right - triggerRect.width / 2 + popupRect.width / 2 <= viewPortSize.width\n      break\n    case PLACEMENTS.RIGHT:\n      right = triggerRect.right + popupRect.width <= viewPortSize.width\n      top = triggerRect.top + triggerRect.height / 2 >= popupRect.height / 2\n      bottom = triggerRect.bottom - triggerRect.height / 2 + popupRect.height / 2 <= viewPortSize.height\n      break\n    case PLACEMENTS.LEFT:\n      left = triggerRect.left >= popupRect.width\n      top = triggerRect.top + triggerRect.height / 2 >= popupRect.height / 2\n      bottom = triggerRect.bottom - triggerRect.height / 2 + popupRect.height / 2 <= viewPortSize.height\n      break\n  }\n  return top && right && bottom && left\n}\n\nexport function setTooltipPosition (tooltip, trigger, placement, auto, appendToSelector, viewport) {\n  if (!isElement(tooltip) || !isElement(trigger)) {\n    return\n  }\n  const isPopover = tooltip && tooltip.className && tooltip.className.indexOf('popover') >= 0\n  let containerScrollTop\n  let containerScrollLeft\n  if (!isExist(appendToSelector) || appendToSelector === 'body') {\n    const doc = document.documentElement\n    containerScrollLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n    containerScrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n  } else {\n    const container = document.querySelector(appendToSelector)\n    containerScrollLeft = container.scrollLeft\n    containerScrollTop = container.scrollTop\n  }\n  // auto adjust placement\n  if (auto) {\n    // Try: right -> bottom -> left -> top\n    // Cause the default placement is top\n    let placements = [PLACEMENTS.RIGHT, PLACEMENTS.BOTTOM, PLACEMENTS.LEFT, PLACEMENTS.TOP]\n    // The class switch helper function\n    const changePlacementClass = (placement) => {\n      // console.log(placement)\n      placements.forEach(placement => {\n        removeClass(tooltip, placement)\n      })\n      addClass(tooltip, placement)\n    }\n    // No need to adjust if the default placement fits\n    if (!isAvailableAtPosition(trigger, tooltip, placement)) {\n      for (let i = 0, l = placements.length; i < l; i++) {\n        // Re-assign placement class\n        changePlacementClass(placements[i])\n        // Break if new placement fits\n        if (isAvailableAtPosition(trigger, tooltip, placements[i])) {\n          placement = placements[i]\n          break\n        }\n      }\n      changePlacementClass(placement)\n    }\n  }\n  // fix left and top for tooltip\n  let rect = trigger.getBoundingClientRect()\n  let tooltipRect = tooltip.getBoundingClientRect()\n  let top\n  let left\n  if (placement === PLACEMENTS.BOTTOM) {\n    top = containerScrollTop + rect.top + rect.height\n    left = containerScrollLeft + rect.left + rect.width / 2 - tooltipRect.width / 2\n  } else if (placement === PLACEMENTS.LEFT) {\n    top = containerScrollTop + rect.top + rect.height / 2 - tooltipRect.height / 2\n    left = containerScrollLeft + rect.left - tooltipRect.width\n  } else if (placement === PLACEMENTS.RIGHT) {\n    top = containerScrollTop + rect.top + rect.height / 2 - tooltipRect.height / 2\n    // https://github.com/wxsms/uiv/issues/272\n    // add 1px to fix above issue\n    left = containerScrollLeft + rect.left + rect.width + 1\n  } else {\n    top = containerScrollTop + rect.top - tooltipRect.height\n    left = containerScrollLeft + rect.left + rect.width / 2 - tooltipRect.width / 2\n  }\n  let viewportEl\n  // viewport option\n  if (isString(viewport)) {\n    viewportEl = document.querySelector(viewport)\n  } else if (isFunction(viewport)) {\n    viewportEl = viewport(trigger)\n  }\n  if (isElement(viewportEl)) {\n    const popoverFix = isPopover ? 11 : 0\n    const viewportReact = viewportEl.getBoundingClientRect()\n    const viewportTop = containerScrollTop + viewportReact.top\n    const viewportLeft = containerScrollLeft + viewportReact.left\n    const viewportBottom = viewportTop + viewportReact.height\n    const viewportRight = viewportLeft + viewportReact.width\n    // fix top\n    if (top < viewportTop) {\n      top = viewportTop\n    } else if (top + tooltipRect.height > viewportBottom) {\n      top = viewportBottom - tooltipRect.height\n    }\n    // fix left\n    if (left < viewportLeft) {\n      left = viewportLeft\n    } else if (left + tooltipRect.width > viewportRight) {\n      left = viewportRight - tooltipRect.width\n    }\n    // fix for popover pointer\n    if (placement === PLACEMENTS.BOTTOM) {\n      top -= popoverFix\n    } else if (placement === PLACEMENTS.LEFT) {\n      left += popoverFix\n    } else if (placement === PLACEMENTS.RIGHT) {\n      left -= popoverFix\n    } else {\n      top += popoverFix\n    }\n  }\n  // set position finally\n  tooltip.style.top = `${top}px`\n  tooltip.style.left = `${left}px`\n}\n\nexport function hasScrollbar (el) {\n  const SCROLL = 'scroll'\n  const hasVScroll = el.scrollHeight > el.clientHeight\n  const style = getComputedStyle(el)\n  return hasVScroll || style.overflow === SCROLL || style.overflowY === SCROLL\n}\n\nexport function toggleBodyOverflow (enable) {\n  const MODAL_OPEN = 'modal-open'\n  const body = document.body\n  if (enable) {\n    removeClass(body, MODAL_OPEN)\n    body.style.paddingRight = null\n  } else {\n    const browsersWithFloatingScrollbar = isIE10() || isIE11()\n    const documentHasScrollbar = hasScrollbar(document.documentElement) || hasScrollbar(document.body)\n    if (documentHasScrollbar && !browsersWithFloatingScrollbar) {\n      body.style.paddingRight = `${getScrollbarWidth()}px`\n    }\n    addClass(body, MODAL_OPEN)\n  }\n}\n\nexport function getClosest (el, selector) {\n  ensureElementMatchesFunction()\n  let parent\n  let _el = el\n  while (_el) {\n    parent = _el.parentElement\n    if (parent && parent.matches(selector)) {\n      return parent\n    }\n    _el = parent\n  }\n  return null\n}\n\nexport function getParents (el, selector, until = null) {\n  ensureElementMatchesFunction()\n  let parents = []\n  let parent = el.parentElement\n  while (parent) {\n    if (parent.matches(selector)) {\n      parents.push(parent)\n    } else if (until && (until === parent || parent.matches(until))) {\n      break\n    }\n    parent = parent.parentElement\n  }\n  return parents\n}\n\nexport function focus (el) {\n  if (!isElement(el)) {\n    return\n  }\n  el.getAttribute('tabindex') ? null : el.setAttribute('tabindex', '-1')\n  el.focus()\n}\n","<template>\n  <div tabindex=\"-1\" role=\"dialog\" class=\"modal\" :class=\"{fade:transitionDuration>0}\" @mousedown.self=\"backdropClicked\">\n    <div ref=\"dialog\" class=\"modal-dialog\" :class=\"modalSizeClass\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\" v-if=\"header\">\n          <slot name=\"header\">\n            <button\n              type=\"button\"\n              class=\"close\"\n              aria-label=\"Close\"\n              @click=\"toggle(false)\"\n              style=\"position: relative;z-index: 1060\"\n              v-if=\"dismissBtn\">\n              <!-- 1060 is bigger than dialog z-index 1050 because it got cover by title sometimes -->\n              <span aria-hidden=\"true\">Ã—</span>\n            </button>\n            <h4 class=\"modal-title\">\n              <slot name=\"title\">{{title}}</slot>\n            </h4>\n          </slot>\n        </div>\n        <div class=\"modal-body\">\n          <slot/>\n        </div>\n        <div class=\"modal-footer\" v-if=\"footer\">\n          <slot name=\"footer\">\n            <btn :type=\"cancelType\" @click=\"toggle(false,'cancel')\">\n              <span>{{cancelText || t('uiv.modal.cancel')}}</span>\n            </btn>\n            <btn :type=\"okType\" @click=\"toggle(false,'ok')\" data-action=\"auto-focus\">\n              <span>{{okText || t('uiv.modal.ok')}}</span>\n            </btn>\n          </slot>\n        </div>\n      </div>\n    </div>\n    <div ref=\"backdrop\" class=\"modal-backdrop\" :class=\"{fade:transitionDuration>0}\"></div>\n  </div>\n</template>\n\n<script>\n  import Local from '../../mixins/localeMixin'\n  import Btn from './../button/Btn'\n  import {\n    EVENTS,\n    on,\n    off,\n    removeFromDom,\n    toggleBodyOverflow,\n    addClass,\n    removeClass,\n    getComputedStyle\n  } from '../../utils/domUtils'\n  import { isFunction, isPromiseSupported } from '../../utils/objectUtils'\n\n  const MODAL_BACKDROP = 'modal-backdrop'\n  const IN = 'in'\n  const getOpenModals = () => document.querySelectorAll(`.${MODAL_BACKDROP}`)\n  const getOpenModalNum = () => getOpenModals().length\n\n  export default {\n    mixins: [Local],\n    components: {Btn},\n    props: {\n      value: {\n        type: Boolean,\n        default: false\n      },\n      title: String,\n      size: String,\n      backdrop: {\n        type: Boolean,\n        default: true\n      },\n      footer: {\n        type: Boolean,\n        default: true\n      },\n      header: {\n        type: Boolean,\n        default: true\n      },\n      cancelText: String,\n      cancelType: {\n        type: String,\n        default: 'default'\n      },\n      okText: String,\n      okType: {\n        type: String,\n        default: 'primary'\n      },\n      dismissBtn: {\n        type: Boolean,\n        default: true\n      },\n      transitionDuration: {\n        type: Number,\n        default: 150\n      },\n      autoFocus: {\n        type: Boolean,\n        default: false\n      },\n      keyboard: {\n        type: Boolean,\n        default: true\n      },\n      beforeClose: Function,\n      zOffset: {\n        type: Number,\n        default: 20\n      },\n      appendToBody: {\n        type: Boolean,\n        default: false\n      },\n      displayStyle: {\n        type: String,\n        default: 'block'\n      }\n    },\n    data () {\n      return {\n        msg: '',\n        timeoutId: 0\n      }\n    },\n    computed: {\n      modalSizeClass () {\n        return {\n          [`modal-${this.size}`]: Boolean(this.size)\n        }\n      }\n    },\n    watch: {\n      value (v) {\n        this.$toggle(v)\n      }\n    },\n    mounted () {\n      removeFromDom(this.$refs.backdrop)\n      on(window, EVENTS.KEY_UP, this.onKeyPress)\n      if (this.value) {\n        this.$toggle(true)\n      }\n    },\n    beforeDestroy () {\n      clearTimeout(this.timeoutId)\n      removeFromDom(this.$refs.backdrop)\n      removeFromDom(this.$el)\n      if (getOpenModalNum() === 0) {\n        toggleBodyOverflow(true)\n      }\n      off(window, EVENTS.KEY_UP, this.onKeyPress)\n    },\n    methods: {\n      onKeyPress (event) {\n        if (this.keyboard && this.value && event.keyCode === 27) {\n          const thisModal = this.$refs.backdrop\n          let thisZIndex = thisModal.style.zIndex\n          thisZIndex = thisZIndex && thisZIndex !== 'auto' ? parseInt(thisZIndex) : 0\n          // Find out if this modal is the top most one.\n          const modals = getOpenModals()\n          const modalsLength = modals.length\n          for (let i = 0; i < modalsLength; i++) {\n            if (modals[i] !== thisModal) {\n              let zIndex = modals[i].style.zIndex\n              zIndex = zIndex && zIndex !== 'auto' ? parseInt(zIndex) : 0\n              // if any existing modal has higher zIndex, ignore\n              if (zIndex > thisZIndex) {\n                return\n              }\n            }\n          }\n          this.toggle(false)\n        }\n      },\n      toggle (show, msg) {\n        let shouldClose = true\n        if (isFunction(this.beforeClose)) {\n          shouldClose = this.beforeClose(msg)\n        }\n\n        if (isPromiseSupported()) {\n          // Skip the hiding when beforeClose returning falsely value or returned Promise resolves to falsely value\n          // Use Promise.resolve to accept both Boolean values and Promises\n          Promise.resolve(shouldClose).then((shouldClose) => {\n            // Skip the hiding while show===false\n            if (!show && shouldClose) {\n              this.msg = msg\n              this.$emit('input', show)\n            }\n          })\n        } else {\n          // Fallback to old version if promise is not supported\n          // skip the hiding while show===false & beforeClose returning falsely value\n          if (!show && !shouldClose) {\n            return\n          }\n\n          this.msg = msg\n          this.$emit('input', show)\n        }\n      },\n      $toggle (show) {\n        const modal = this.$el\n        const backdrop = this.$refs.backdrop\n        clearTimeout(this.timeoutId)\n        if (show) {\n          const alreadyOpenModalNum = getOpenModalNum()\n          document.body.appendChild(backdrop)\n          if (this.appendToBody) {\n            document.body.appendChild(modal)\n          }\n          modal.style.display = this.displayStyle\n          modal.scrollTop = 0\n          backdrop.offsetHeight // force repaint\n          toggleBodyOverflow(false)\n          addClass(backdrop, IN)\n          addClass(modal, IN)\n          // fix z-index for nested modals\n          // no need to calculate if no modal is already open\n          if (alreadyOpenModalNum > 0) {\n            const modalBaseZ = parseInt(getComputedStyle(modal).zIndex) || 1050 // 1050 is default modal z-Index\n            const backdropBaseZ = parseInt(getComputedStyle(backdrop).zIndex) || 1040 // 1040 is default backdrop z-Index\n            const offset = alreadyOpenModalNum * this.zOffset\n            modal.style.zIndex = `${modalBaseZ + offset}`\n            backdrop.style.zIndex = `${backdropBaseZ + offset}`\n          }\n          // z-index fix end\n          this.timeoutId = setTimeout(() => {\n            if (this.autoFocus) {\n              let btn = this.$el.querySelector('[data-action=\"auto-focus\"]')\n              if (btn) {\n                btn.focus()\n              }\n            }\n            this.$emit('show')\n            this.timeoutId = 0\n          }, this.transitionDuration)\n        } else {\n          removeClass(backdrop, IN)\n          removeClass(modal, IN)\n          this.timeoutId = setTimeout(() => {\n            modal.style.display = 'none'\n            removeFromDom(backdrop)\n            if (this.appendToBody) {\n              removeFromDom(modal)\n            }\n            if (getOpenModalNum() === 0) {\n              toggleBodyOverflow(true)\n            }\n            this.$emit('hide', this.msg || 'dismiss')\n            this.msg = ''\n            this.timeoutId = 0\n            // restore z-index for nested modals\n            modal.style.zIndex = ''\n            backdrop.style.zIndex = ''\n            // z-index fix end\n          }, this.transitionDuration)\n        }\n      },\n      backdropClicked (event) {\n        if (this.backdrop) {\n          this.toggle(false)\n        }\n      }\n    }\n  }\n</script>\n"],"names":["isExist","obj","isFunction","isPromiseSupported","window","Promise","lang","defaultLang","i18nHandler","vuei18n","Object","getPrototypeOf","$t","apply","arguments","err","t","path","options","value","$$locale","array","split","current","i","j","length","property","args","babelHelpers.extends","locale","mergeData","e","a","s","r","c","keys","isArray","concat","trim","o","n","__assign","assign","prototype","hasOwnProperty","call","String","Boolean","h","props","children","data","vertical","justified","size","INPUT_TYPE_CHECKBOX","INPUT_TYPE_RADIO","linkMixin","listeners","on","isInputActive","inputType","indexOf","inputValue","classes","active","disabled","block","type","Event","preventDefault","stopPropagation","tag","slot","href","target","to","replace","append","exact","evt","valueCopied","slice","splice","push","BtnGroup","nativeType","EVENTS","isIE11","MSInputMethodContext","document","documentMode","isIE10","navigator","appVersion","getComputedStyle","el","getViewportSize","width","Math","max","documentElement","clientWidth","innerWidth","height","clientHeight","innerHeight","scrollbarWidth","savedScreenSize","getScrollbarWidth","recalculate","screenSize","readyState","div1","createElement","div2","style","overflow","body","appendChild","abs","scrollHeight","removeChild","element","event","handler","addEventListener","off","removeEventListener","isElement","nodeType","Node","ELEMENT_NODE","removeFromDom","parentNode","addClass","className","join","removeClass","newClasses","l","hasScrollbar","SCROLL","hasVScroll","overflowY","toggleBodyOverflow","enable","MODAL_OPEN","paddingRight","browsersWithFloatingScrollbar","documentHasScrollbar","MODAL_BACKDROP","IN","getOpenModals","querySelectorAll","getOpenModalNum","render","Local","Btn","Number","Function","v","$toggle","$refs","backdrop","KEY_UP","onKeyPress","timeoutId","$el","keyboard","keyCode","thisModal","thisZIndex","zIndex","parseInt","modals","modalsLength","toggle","show","msg","shouldClose","beforeClose","resolve","then","$emit","modal","alreadyOpenModalNum","appendToBody","display","displayStyle","scrollTop","offsetHeight","modalBaseZ","backdropBaseZ","offset","zOffset","setTimeout","autoFocus","btn","querySelector","focus","transitionDuration"],"mappings":"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"}